/*! pace 1.0.2 */
(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X=[].slice,Y={}.hasOwnProperty,Z=function(a,b){function c(){this.constructor=a}for(var d in b)Y.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},$=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};for(u={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},C=function(){var a;return null!=(a="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?a:+new Date},E=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,t=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==E&&(E=function(a){return setTimeout(a,50)},t=function(a){return clearTimeout(a)}),G=function(a){var b,c;return b=C(),(c=function(){var d;return d=C()-b,d>=33?(b=C(),a(d,function(){return E(c)})):setTimeout(c,33-d)})()},F=function(){var a,b,c;return c=arguments[0],b=arguments[1],a=3<=arguments.length?X.call(arguments,2):[],"function"==typeof c[b]?c[b].apply(c,a):c[b]},v=function(){var a,b,c,d,e,f,g;for(b=arguments[0],d=2<=arguments.length?X.call(arguments,1):[],f=0,g=d.length;g>f;f++)if(c=d[f])for(a in c)Y.call(c,a)&&(e=c[a],null!=b[a]&&"object"==typeof b[a]&&null!=e&&"object"==typeof e?v(b[a],e):b[a]=e);return b},q=function(a){var b,c,d,e,f;for(c=b=0,e=0,f=a.length;f>e;e++)d=a[e],c+=Math.abs(d),b++;return c/b},x=function(a,b){var c,d,e;if(null==a&&(a="options"),null==b&&(b=!0),e=document.querySelector("[data-pace-"+a+"]")){if(c=e.getAttribute("data-pace-"+a),!b)return c;try{return JSON.parse(c)}catch(f){return d=f,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",d):void 0}}},g=function(){function a(){}return a.prototype.on=function(a,b,c,d){var e;return null==d&&(d=!1),null==this.bindings&&(this.bindings={}),null==(e=this.bindings)[a]&&(e[a]=[]),this.bindings[a].push({handler:b,ctx:c,once:d})},a.prototype.once=function(a,b,c){return this.on(a,b,c,!0)},a.prototype.off=function(a,b){var c,d,e;if(null!=(null!=(d=this.bindings)?d[a]:void 0)){if(null==b)return delete this.bindings[a];for(c=0,e=[];c<this.bindings[a].length;)this.bindings[a][c].handler===b?e.push(this.bindings[a].splice(c,1)):e.push(c++);return e}},a.prototype.trigger=function(){var a,b,c,d,e,f,g,h,i;if(c=arguments[0],a=2<=arguments.length?X.call(arguments,1):[],null!=(g=this.bindings)?g[c]:void 0){for(e=0,i=[];e<this.bindings[c].length;)h=this.bindings[c][e],d=h.handler,b=h.ctx,f=h.once,d.apply(null!=b?b:this,a),f?i.push(this.bindings[c].splice(e,1)):i.push(e++);return i}},a}(),j=window.Pace||{},window.Pace=j,v(j,g.prototype),D=j.options=v({},u,window.paceOptions,x()),U=["ajax","document","eventLag","elements"],Q=0,S=U.length;S>Q;Q++)K=U[Q],D[K]===!0&&(D[K]=u[K]);i=function(a){function b(){return V=b.__super__.constructor.apply(this,arguments)}return Z(b,a),b}(Error),b=function(){function a(){this.progress=0}return a.prototype.getElement=function(){var a;if(null==this.el){if(a=document.querySelector(D.target),!a)throw new i;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=a.firstChild?a.insertBefore(this.el,a.firstChild):a.appendChild(this.el)}return this.el},a.prototype.finish=function(){var a;return a=this.getElement(),a.className=a.className.replace("pace-active",""),a.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},a.prototype.update=function(a){return this.progress=a,this.render()},a.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(a){i=a}return this.el=void 0},a.prototype.render=function(){var a,b,c,d,e,f,g;if(null==document.querySelector(D.target))return!1;for(a=this.getElement(),d="translate3d("+this.progress+"%, 0, 0)",g=["webkitTransform","msTransform","transform"],e=0,f=g.length;f>e;e++)b=g[e],a.children[0].style[b]=d;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(a.children[0].setAttribute("data-progress-text",""+(0|this.progress)+"%"),this.progress>=100?c="99":(c=this.progress<10?"0":"",c+=0|this.progress),a.children[0].setAttribute("data-progress",""+c)),this.lastRenderedProgress=this.progress},a.prototype.done=function(){return this.progress>=100},a}(),h=function(){function a(){this.bindings={}}return a.prototype.trigger=function(a,b){var c,d,e,f,g;if(null!=this.bindings[a]){for(f=this.bindings[a],g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(c.call(this,b));return g}},a.prototype.on=function(a,b){var c;return null==(c=this.bindings)[a]&&(c[a]=[]),this.bindings[a].push(b)},a}(),P=window.XMLHttpRequest,O=window.XDomainRequest,N=window.WebSocket,w=function(a,b){var c,d,e;e=[];for(d in b.prototype)try{null==a[d]&&"function"!=typeof b[d]?"function"==typeof Object.defineProperty?e.push(Object.defineProperty(a,d,{get:function(){return b.prototype[d]},configurable:!0,enumerable:!0})):e.push(a[d]=b.prototype[d]):e.push(void 0)}catch(f){c=f}return e},A=[],j.ignore=function(){var a,b,c;return b=arguments[0],a=2<=arguments.length?X.call(arguments,1):[],A.unshift("ignore"),c=b.apply(null,a),A.shift(),c},j.track=function(){var a,b,c;return b=arguments[0],a=2<=arguments.length?X.call(arguments,1):[],A.unshift("track"),c=b.apply(null,a),A.shift(),c},J=function(a){var b;if(null==a&&(a="GET"),"track"===A[0])return"force";if(!A.length&&D.ajax){if("socket"===a&&D.ajax.trackWebSockets)return!0;if(b=a.toUpperCase(),$.call(D.ajax.trackMethods,b)>=0)return!0}return!1},k=function(a){function b(){var a,c=this;b.__super__.constructor.apply(this,arguments),a=function(a){var b;return b=a.open,a.open=function(d,e,f){return J(d)&&c.trigger("request",{type:d,url:e,request:a}),b.apply(a,arguments)}},window.XMLHttpRequest=function(b){var c;return c=new P(b),a(c),c};try{w(window.XMLHttpRequest,P)}catch(d){}if(null!=O){window.XDomainRequest=function(){var b;return b=new O,a(b),b};try{w(window.XDomainRequest,O)}catch(d){}}if(null!=N&&D.ajax.trackWebSockets){window.WebSocket=function(a,b){var d;return d=null!=b?new N(a,b):new N(a),J("socket")&&c.trigger("request",{type:"socket",url:a,protocols:b,request:d}),d};try{w(window.WebSocket,N)}catch(d){}}}return Z(b,a),b}(h),R=null,y=function(){return null==R&&(R=new k),R},I=function(a){var b,c,d,e;for(e=D.ajax.ignoreURLs,c=0,d=e.length;d>c;c++)if(b=e[c],"string"==typeof b){if(-1!==a.indexOf(b))return!0}else if(b.test(a))return!0;return!1},y().on("request",function(b){var c,d,e,f,g;return f=b.type,e=b.request,g=b.url,I(g)?void 0:j.running||D.restartOnRequestAfter===!1&&"force"!==J(f)?void 0:(d=arguments,c=D.restartOnRequestAfter||0,"boolean"==typeof c&&(c=0),setTimeout(function(){var b,c,g,h,i,k;if(b="socket"===f?e.readyState<2:0<(h=e.readyState)&&4>h){for(j.restart(),i=j.sources,k=[],c=0,g=i.length;g>c;c++){if(K=i[c],K instanceof a){K.watch.apply(K,d);break}k.push(void 0)}return k}},c))}),a=function(){function a(){var a=this;this.elements=[],y().on("request",function(){return a.watch.apply(a,arguments)})}return a.prototype.watch=function(a){var b,c,d,e;return d=a.type,b=a.request,e=a.url,I(e)?void 0:(c="socket"===d?new n(b):new o(b),this.elements.push(c))},a}(),o=function(){function a(a){var b,c,d,e,f,g,h=this;if(this.progress=0,null!=window.ProgressEvent)for(c=null,a.addEventListener("progress",function(a){return a.lengthComputable?h.progress=100*a.loaded/a.total:h.progress=h.progress+(100-h.progress)/2},!1),g=["load","abort","timeout","error"],d=0,e=g.length;e>d;d++)b=g[d],a.addEventListener(b,function(){return h.progress=100},!1);else f=a.onreadystatechange,a.onreadystatechange=function(){var b;return 0===(b=a.readyState)||4===b?h.progress=100:3===a.readyState&&(h.progress=50),"function"==typeof f?f.apply(null,arguments):void 0}}return a}(),n=function(){function a(a){var b,c,d,e,f=this;for(this.progress=0,e=["error","open"],c=0,d=e.length;d>c;c++)b=e[c],a.addEventListener(b,function(){return f.progress=100},!1)}return a}(),d=function(){function a(a){var b,c,d,f;for(null==a&&(a={}),this.elements=[],null==a.selectors&&(a.selectors=[]),f=a.selectors,c=0,d=f.length;d>c;c++)b=f[c],this.elements.push(new e(b))}return a}(),e=function(){function a(a){this.selector=a,this.progress=0,this.check()}return a.prototype.check=function(){var a=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return a.check()},D.elements.checkInterval)},a.prototype.done=function(){return this.progress=100},a}(),c=function(){function a(){var a,b,c=this;this.progress=null!=(b=this.states[document.readyState])?b:100,a=document.onreadystatechange,document.onreadystatechange=function(){return null!=c.states[document.readyState]&&(c.progress=c.states[document.readyState]),"function"==typeof a?a.apply(null,arguments):void 0}}return a.prototype.states={loading:0,interactive:50,complete:100},a}(),f=function(){function a(){var a,b,c,d,e,f=this;this.progress=0,a=0,e=[],d=0,c=C(),b=setInterval(function(){var g;return g=C()-c-50,c=C(),e.push(g),e.length>D.eventLag.sampleCount&&e.shift(),a=q(e),++d>=D.eventLag.minSamples&&a<D.eventLag.lagThreshold?(f.progress=100,clearInterval(b)):f.progress=100*(3/(a+3))},50)}return a}(),m=function(){function a(a){this.source=a,this.last=this.sinceLastUpdate=0,this.rate=D.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=F(this.source,"progress"))}return a.prototype.tick=function(a,b){var c;return null==b&&(b=F(this.source,"progress")),b>=100&&(this.done=!0),b===this.last?this.sinceLastUpdate+=a:(this.sinceLastUpdate&&(this.rate=(b-this.last)/this.sinceLastUpdate),this.catchup=(b-this.progress)/D.catchupTime,this.sinceLastUpdate=0,this.last=b),b>this.progress&&(this.progress+=this.catchup*a),c=1-Math.pow(this.progress/100,D.easeFactor),this.progress+=c*this.rate*a,this.progress=Math.min(this.lastProgress+D.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},a}(),L=null,H=null,r=null,M=null,p=null,s=null,j.running=!1,z=function(){return D.restartOnPushState?j.restart():void 0},null!=window.history.pushState&&(T=window.history.pushState,window.history.pushState=function(){return z(),T.apply(window.history,arguments)}),null!=window.history.replaceState&&(W=window.history.replaceState,window.history.replaceState=function(){return z(),W.apply(window.history,arguments)}),l={ajax:a,elements:d,document:c,eventLag:f},(B=function(){var a,c,d,e,f,g,h,i;for(j.sources=L=[],g=["ajax","elements","document","eventLag"],c=0,e=g.length;e>c;c++)a=g[c],D[a]!==!1&&L.push(new l[a](D[a]));for(i=null!=(h=D.extraSources)?h:[],d=0,f=i.length;f>d;d++)K=i[d],L.push(new K(D));return j.bar=r=new b,H=[],M=new m})(),j.stop=function(){return j.trigger("stop"),j.running=!1,r.destroy(),s=!0,null!=p&&("function"==typeof t&&t(p),p=null),B()},j.restart=function(){return j.trigger("restart"),j.stop(),j.start()},j.go=function(){var a;return j.running=!0,r.render(),a=C(),s=!1,p=G(function(b,c){var d,e,f,g,h,i,k,l,n,o,p,q,t,u,v,w;for(l=100-r.progress,e=p=0,f=!0,i=q=0,u=L.length;u>q;i=++q)for(K=L[i],o=null!=H[i]?H[i]:H[i]=[],h=null!=(w=K.elements)?w:[K],k=t=0,v=h.length;v>t;k=++t)g=h[k],n=null!=o[k]?o[k]:o[k]=new m(g),f&=n.done,n.done||(e++,p+=n.tick(b));return d=p/e,r.update(M.tick(b,d)),r.done()||f||s?(r.update(100),j.trigger("done"),setTimeout(function(){return r.finish(),j.running=!1,j.trigger("hide")},Math.max(D.ghostTime,Math.max(D.minTime-(C()-a),0)))):c()})},j.start=function(a){v(D,a),j.running=!0;try{r.render()}catch(b){i=b}return document.querySelector(".pace")?(j.trigger("start"),j.go()):setTimeout(j.start,50)},"function"==typeof define&&define.amd?define(["pace"],function(){return j}):"object"==typeof exports?module.exports=j:D.startOnPageLoad&&j.start()}).call(this);
;// 4.5.7 (2017-04-25)
!function(e,t){"use strict";function n(e,t){for(var n,r=[],i=0;i<e.length;++i){if(n=s[e[i]]||o(e[i]),!n)throw"module definition dependecy not found: "+e[i];r.push(n)}t.apply(null,r)}function r(e,r,i){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(r===t)throw"invalid module definition, dependencies must be specified";if(i===t)throw"invalid module definition, definition function must be specified";n(r,function(){s[e]=i.apply(null,arguments)})}function i(e){return!!s[e]}function o(t){for(var n=e,r=t.split(/[.\/]/),i=0;i<r.length;++i){if(!n[r[i]])return;n=n[r[i]]}return n}function a(n){var r,i,o,a,l;for(r=0;r<n.length;r++){i=e,o=n[r],a=o.split(/[.\/]/);for(var u=0;u<a.length-1;++u)i[a[u]]===t&&(i[a[u]]={}),i=i[a[u]];i[a[a.length-1]]=s[o]}if(e.AMDLC_TESTS){l=e.privateModules||{};for(o in s)l[o]=s[o];for(r=0;r<n.length;r++)delete l[n[r]];e.privateModules=l}}var s={},l="tinymce/geom/Rect",u="tinymce/util/Promise",c="tinymce/util/Delay",d="tinymce/Env",f="tinymce/dom/EventUtils",p="tinymce/dom/Sizzle",h="tinymce/util/Arr",m="tinymce/util/Tools",g="tinymce/dom/DomQuery",v="tinymce/html/Styles",y="tinymce/dom/TreeWalker",b="tinymce/dom/Range",C="tinymce/html/Entities",x="tinymce/dom/StyleSheetLoader",w="tinymce/dom/DOMUtils",E="tinymce/dom/ScriptLoader",N="tinymce/AddOnManager",_="tinymce/dom/NodeType",S="tinymce/text/Zwsp",k="tinymce/caret/CaretContainer",T="tinymce/dom/RangeUtils",R="tinymce/NodeChange",A="tinymce/html/Node",B="tinymce/html/Schema",D="tinymce/html/SaxParser",L="tinymce/html/DomParser",M="tinymce/html/Writer",P="tinymce/html/Serializer",O="tinymce/dom/Serializer",H="tinymce/dom/TridentSelection",I="tinymce/util/VK",F="tinymce/dom/ControlSelection",z="tinymce/util/Fun",U="tinymce/caret/CaretCandidate",W="tinymce/geom/ClientRect",V="tinymce/text/ExtendingChar",$="tinymce/caret/CaretPosition",q="tinymce/caret/CaretBookmark",j="tinymce/dom/BookmarkManager",Y="tinymce/dom/Selection",X="tinymce/dom/ElementUtils",K="tinymce/fmt/Preview",G="tinymce/fmt/Hooks",J="tinymce/Formatter",Q="tinymce/undo/Diff",Z="tinymce/undo/Fragments",ee="tinymce/undo/Levels",te="tinymce/UndoManager",ne="tinymce/EnterKey",re="tinymce/ForceBlocks",ie="tinymce/caret/CaretUtils",oe="tinymce/caret/CaretWalker",ae="tinymce/InsertList",se="tinymce/InsertContent",le="tinymce/EditorCommands",ue="tinymce/util/URI",ce="tinymce/util/Class",de="tinymce/util/EventDispatcher",fe="tinymce/data/Binding",pe="tinymce/util/Observable",he="tinymce/data/ObservableObject",me="tinymce/ui/Selector",ge="tinymce/ui/Collection",ve="tinymce/ui/DomUtils",ye="tinymce/ui/BoxUtils",be="tinymce/ui/ClassList",Ce="tinymce/ui/ReflowQueue",xe="tinymce/ui/Control",we="tinymce/ui/Factory",Ee="tinymce/ui/KeyboardNavigation",Ne="tinymce/ui/Container",_e="tinymce/ui/DragHelper",Se="tinymce/ui/Scrollable",ke="tinymce/ui/Panel",Te="tinymce/ui/Movable",Re="tinymce/ui/Resizable",Ae="tinymce/ui/FloatPanel",Be="tinymce/ui/Window",De="tinymce/ui/MessageBox",Le="tinymce/WindowManager",Me="tinymce/ui/Tooltip",Pe="tinymce/ui/Widget",Oe="tinymce/ui/Progress",He="tinymce/ui/Notification",Ie="tinymce/NotificationManager",Fe="tinymce/dom/NodePath",ze="tinymce/util/Quirks",Ue="tinymce/EditorObservable",We="tinymce/Mode",Ve="tinymce/Shortcuts",$e="tinymce/file/Uploader",qe="tinymce/file/Conversions",je="tinymce/file/ImageScanner",Ye="tinymce/file/BlobCache",Xe="tinymce/file/UploadStatus",Ke="tinymce/ErrorReporter",Ge="tinymce/EditorUpload",Je="tinymce/caret/FakeCaret",Qe="tinymce/dom/Dimensions",Ze="tinymce/caret/LineWalker",et="tinymce/caret/LineUtils",tt="tinymce/dom/MousePosition",nt="tinymce/DragDropOverrides",rt="tinymce/SelectionOverrides",it="tinymce/util/Uuid",ot="tinymce/ui/Sidebar",at="tinymce/Editor",st="tinymce/util/I18n",lt="tinymce/FocusManager",ut="tinymce/EditorManager",ct="tinymce/LegacyInput",dt="tinymce/util/XHR",ft="tinymce/util/JSON",pt="tinymce/util/JSONRequest",ht="tinymce/util/JSONP",mt="tinymce/util/LocalStorage",gt="tinymce/Compat",vt="tinymce/ui/Layout",yt="tinymce/ui/AbsoluteLayout",bt="tinymce/ui/Button",Ct="tinymce/ui/ButtonGroup",xt="tinymce/ui/Checkbox",wt="tinymce/ui/ComboBox",Et="tinymce/ui/ColorBox",Nt="tinymce/ui/PanelButton",_t="tinymce/ui/ColorButton",St="tinymce/util/Color",kt="tinymce/ui/ColorPicker",Tt="tinymce/ui/Path",Rt="tinymce/ui/ElementPath",At="tinymce/ui/FormItem",Bt="tinymce/ui/Form",Dt="tinymce/ui/FieldSet",Lt="tinymce/content/LinkTargets",Mt="tinymce/ui/FilePicker",Pt="tinymce/ui/FitLayout",Ot="tinymce/ui/FlexLayout",Ht="tinymce/ui/FlowLayout",It="tinymce/fmt/FontInfo",Ft="tinymce/ui/FormatControls",zt="tinymce/ui/GridLayout",Ut="tinymce/ui/Iframe",Wt="tinymce/ui/InfoBox",Vt="tinymce/ui/Label",$t="tinymce/ui/Toolbar",qt="tinymce/ui/MenuBar",jt="tinymce/ui/MenuButton",Yt="tinymce/ui/MenuItem",Xt="tinymce/ui/Throbber",Kt="tinymce/ui/Menu",Gt="tinymce/ui/ListBox",Jt="tinymce/ui/Radio",Qt="tinymce/ui/ResizeHandle",Zt="tinymce/ui/SelectBox",en="tinymce/ui/Slider",tn="tinymce/ui/Spacer",nn="tinymce/ui/SplitButton",rn="tinymce/ui/StackLayout",on="tinymce/ui/TabPanel",an="tinymce/ui/TextBox",sn="tinymce/Register";r(l,[],function(){function e(e,t,n){var r,i,a,s,l,c;return r=t.x,i=t.y,a=e.w,s=e.h,l=t.w,c=t.h,n=(n||"").split(""),"b"===n[0]&&(i+=c),"r"===n[1]&&(r+=l),"c"===n[0]&&(i+=u(c/2)),"c"===n[1]&&(r+=u(l/2)),"b"===n[3]&&(i-=s),"r"===n[4]&&(r-=a),"c"===n[3]&&(i-=u(s/2)),"c"===n[4]&&(r-=u(a/2)),o(r,i,a,s)}function t(t,n,r,i){var o,a;for(a=0;a<i.length;a++)if(o=e(t,n,i[a]),o.x>=r.x&&o.x+o.w<=r.w+r.x&&o.y>=r.y&&o.y+o.h<=r.h+r.y)return i[a];return null}function n(e,t,n){return o(e.x-t,e.y-n,e.w+2*t,e.h+2*n)}function r(e,t){var n,r,i,a;return n=l(e.x,t.x),r=l(e.y,t.y),i=s(e.x+e.w,t.x+t.w),a=s(e.y+e.h,t.y+t.h),i-n<0||a-r<0?null:o(n,r,i-n,a-r)}function i(e,t,n){var r,i,a,s,u,c,d,f,p,h;return u=e.x,c=e.y,d=e.x+e.w,f=e.y+e.h,p=t.x+t.w,h=t.y+t.h,r=l(0,t.x-u),i=l(0,t.y-c),a=l(0,d-p),s=l(0,f-h),u+=r,c+=i,n&&(d+=r,f+=i,u-=a,c-=s),d-=a,f-=s,o(u,c,d-u,f-c)}function o(e,t,n,r){return{x:e,y:t,w:n,h:r}}function a(e){return o(e.left,e.top,e.width,e.height)}var s=Math.min,l=Math.max,u=Math.round;return{inflate:n,relativePosition:e,findBestRelativePosition:t,intersect:r,clamp:i,create:o,fromClientRect:a}}),r(u,[],function(){function e(e,t){return function(){e.apply(t,arguments)}}function t(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],s(t,e(r,this),e(i,this))}function n(e){var t=this;return null===this._state?void this._deferreds.push(e):void l(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return void(t._state?e.resolve:e.reject)(t._value);var r;try{r=n(t._value)}catch(i){return void e.reject(i)}e.resolve(r)})}function r(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void s(e(n,t),e(r,this),e(i,this))}this._state=!0,this._value=t,o.call(this)}catch(a){i.call(this,a)}}function i(e){this._state=!1,this._value=e,o.call(this)}function o(){for(var e=0,t=this._deferreds.length;e<t;e++)n.call(this,this._deferreds[e]);this._deferreds=null}function a(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function s(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(i){if(r)return;r=!0,n(i)}}if(window.Promise)return window.Promise;var l=t.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)},u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return t.prototype["catch"]=function(e){return this.then(null,e)},t.prototype.then=function(e,r){var i=this;return new t(function(t,o){n.call(i,new a(e,r,t,o))})},t.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&u(arguments[0])?arguments[0]:arguments);return new t(function(t,n){function r(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){r(o,e)},n)}e[o]=a,0===--i&&t(e)}catch(l){n(l)}}if(0===e.length)return t([]);for(var i=e.length,o=0;o<e.length;o++)r(o,e[o])})},t.resolve=function(e){return e&&"object"==typeof e&&e.constructor===t?e:new t(function(t){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)})},t}),r(c,[u],function(e){function t(e,t){function n(e){window.setTimeout(e,0)}var r,i=window.requestAnimationFrame,o=["ms","moz","webkit"];for(r=0;r<o.length&&!i;r++)i=window[o[r]+"RequestAnimationFrame"];i||(i=n),i(e,t)}function n(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)}function r(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t)}function i(e){return clearTimeout(e)}function o(e){return clearInterval(e)}function a(e,t){var r,i;return i=function(){var i=arguments;clearTimeout(r),r=n(function(){e.apply(this,i)},t)},i.stop=function(){clearTimeout(r)},i}var s;return{requestAnimationFrame:function(n,r){return s?void s.then(n):void(s=new e(function(e){r||(r=document.body),t(e,r)}).then(n))},setTimeout:n,setInterval:r,setEditorTimeout:function(e,t,r){return n(function(){e.removed||t()},r)},setEditorInterval:function(e,t,n){var i;return i=r(function(){e.removed?clearInterval(i):t()},n)},debounce:a,throttle:a,clearInterval:o,clearTimeout:i}}),r(d,[],function(){function e(e){return"matchMedia"in window&&matchMedia(e).matches}var t=navigator,n=t.userAgent,r,i,o,a,s,l,u,c,d,f,p,h,m;r=window.opera&&window.opera.buildNumber,d=/Android/.test(n),i=/WebKit/.test(n),o=!i&&!r&&/MSIE/gi.test(n)&&/Explorer/gi.test(t.appName),o=o&&/MSIE (\w+)\./.exec(n)[1],a=n.indexOf("Trident/")!=-1&&(n.indexOf("rv:")!=-1||t.appName.indexOf("Netscape")!=-1)&&11,s=n.indexOf("Edge/")!=-1&&!o&&!a&&12,o=o||a||s,l=!i&&!a&&/Gecko/.test(n),u=n.indexOf("Mac")!=-1,c=/(iPad|iPhone)/.test(n),f="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,p=e("only screen and (max-device-width: 480px)")&&(d||c),h=e("only screen and (min-width: 800px)")&&(d||c),m=n.indexOf("Windows Phone")!=-1,s&&(i=!1);var g=!c||f||n.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:r,webkit:i,ie:o,gecko:l,mac:u,iOS:c,android:d,contentEditable:g,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=o,range:window.getSelection&&"Range"in window,documentMode:o&&!s?document.documentMode||7:10,fileApi:f,ceFalse:o===!1||o>8,canHaveCSP:o===!1||o>11,desktop:!p&&!h,windowsPhone:m}}),r(f,[c,d],function(e,t){function n(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)}function r(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)}function i(e,t){var n,r=t;return n=e.path,n&&n.length>0&&(r=n[0]),e.deepPath&&(n=e.deepPath(),n&&n.length>0&&(r=n[0])),r}function o(e,n){function r(){return!1}function o(){return!0}var a,s=n||{},l;for(a in e)c[a]||(s[a]=e[a]);if(s.target||(s.target=s.srcElement||document),t.experimentalShadowDom&&(s.target=i(e,s.target)),e&&u.test(e.type)&&e.pageX===l&&e.clientX!==l){var d=s.target.ownerDocument||document,f=d.documentElement,p=d.body;s.pageX=e.clientX+(f&&f.scrollLeft||p&&p.scrollLeft||0)-(f&&f.clientLeft||p&&p.clientLeft||0),s.pageY=e.clientY+(f&&f.scrollTop||p&&p.scrollTop||0)-(f&&f.clientTop||p&&p.clientTop||0)}return s.preventDefault=function(){s.isDefaultPrevented=o,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},s.stopPropagation=function(){s.isPropagationStopped=o,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},s.stopImmediatePropagation=function(){s.isImmediatePropagationStopped=o,s.stopPropagation()},s.isDefaultPrevented||(s.isDefaultPrevented=r,s.isPropagationStopped=r,s.isImmediatePropagationStopped=r),"undefined"==typeof s.metaKey&&(s.metaKey=!1),s}function a(t,i,o){function a(){o.domLoaded||(o.domLoaded=!0,i(c))}function s(){("complete"===u.readyState||"interactive"===u.readyState&&u.body)&&(r(u,"readystatechange",s),a())}function l(){try{u.documentElement.doScroll("left")}catch(t){return void e.setTimeout(l)}a()}var u=t.document,c={type:"ready"};return o.domLoaded?void i(c):(u.addEventListener?"complete"===u.readyState?a():n(t,"DOMContentLoaded",a):(n(u,"readystatechange",s),u.documentElement.doScroll&&t.self===t.top&&l()),void n(t,"load",a))}function s(){function e(e,t){var n,r,o,a,s=i[t];if(n=s&&s[e.type])for(r=0,o=n.length;r<o;r++)if(a=n[r],a&&a.func.call(a.scope,e)===!1&&e.preventDefault(),e.isImmediatePropagationStopped())return}var t=this,i={},s,u,c,d,f;u=l+(+new Date).toString(32),d="onmouseenter"in document.documentElement,c="onfocusin"in document.documentElement,f={mouseenter:"mouseover",mouseleave:"mouseout"},s=1,t.domLoaded=!1,t.events=i,t.bind=function(r,l,p,h){function m(t){e(o(t||E.event),g)}var g,v,y,b,C,x,w,E=window;if(r&&3!==r.nodeType&&8!==r.nodeType){for(r[u]?g=r[u]:(g=s++,r[u]=g,i[g]={}),h=h||r,l=l.split(" "),y=l.length;y--;)b=l[y],x=m,C=w=!1,"DOMContentLoaded"===b&&(b="ready"),t.domLoaded&&"ready"===b&&"complete"==r.readyState?p.call(h,o({type:b})):(d||(C=f[b],C&&(x=function(t){var n,r;if(n=t.currentTarget,r=t.relatedTarget,r&&n.contains)r=n.contains(r);else for(;r&&r!==n;)r=r.parentNode;r||(t=o(t||E.event),t.type="mouseout"===t.type?"mouseleave":"mouseenter",t.target=n,e(t,g))})),c||"focusin"!==b&&"focusout"!==b||(w=!0,C="focusin"===b?"focus":"blur",x=function(t){t=o(t||E.event),t.type="focus"===t.type?"focusin":"focusout",e(t,g)}),v=i[g][b],v?"ready"===b&&t.domLoaded?p({type:b}):v.push({func:p,scope:h}):(i[g][b]=v=[{func:p,scope:h}],v.fakeName=C,v.capture=w,v.nativeHandler=x,"ready"===b?a(r,x,t):n(r,C||b,x,w)));return r=v=0,p}},t.unbind=function(e,n,o){var a,s,l,c,d,f;if(!e||3===e.nodeType||8===e.nodeType)return t;if(a=e[u]){if(f=i[a],n){for(n=n.split(" "),l=n.length;l--;)if(d=n[l],s=f[d]){if(o)for(c=s.length;c--;)if(s[c].func===o){var p=s.nativeHandler,h=s.fakeName,m=s.capture;s=s.slice(0,c).concat(s.slice(c+1)),s.nativeHandler=p,s.fakeName=h,s.capture=m,f[d]=s}o&&0!==s.length||(delete f[d],r(e,s.fakeName||d,s.nativeHandler,s.capture))}}else{for(d in f)s=f[d],r(e,s.fakeName||d,s.nativeHandler,s.capture);f={}}for(d in f)return t;delete i[a];try{delete e[u]}catch(g){e[u]=null}}return t},t.fire=function(n,r,i){var a;if(!n||3===n.nodeType||8===n.nodeType)return t;i=o(null,i),i.type=r,i.target=n;do a=n[u],a&&e(i,a),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow;while(n&&!i.isPropagationStopped());return t},t.clean=function(e){var n,r,i=t.unbind;if(!e||3===e.nodeType||8===e.nodeType)return t;if(e[u]&&i(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(i(e),r=e.getElementsByTagName("*"),n=r.length;n--;)e=r[n],e[u]&&i(e);return t},t.destroy=function(){i={}},t.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}}var l="mce-data-",u=/^(?:mouse|contextmenu)|click/,c={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1};return s.Event=new s,s.Event.bind(window,"ready",function(){}),s}),r(p,[],function(){function e(e,t,n,r){var i,o,a,s,l,u,d,p,h,m;if((t?t.ownerDocument||t:z)!==D&&B(t),t=t||D,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(M&&!r){if(i=ve.exec(e))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&I(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&x.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(a)),n}if(x.qsa&&(!P||!P.test(e))){if(p=d=F,h=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=_(e),(d=t.getAttribute("id"))?p=d.replace(be,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=u.length;l--;)u[l]=p+f(u[l]);h=ye.test(e)&&c(t.parentNode)||t,m=u.join(",")}if(m)try{return Z.apply(n,h.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return k(e.replace(se,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[F]=!0,e}function i(e){var t=D.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)w.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||X)-(~e.sourceIndex||X);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&typeof e.getElementsByTagName!==Y&&e}function d(){}function f(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=W++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,l,u=[U,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(l=t[F]||(t[F]={}),(s=l[r])&&s[0]===U&&s[1]===o)return u[2]=s[2];if(l[r]=u,u[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(t,n,r){for(var i=0,o=n.length;i<o;i++)e(t,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),u&&t.push(s)));return a}function v(e,t,n,i,o,a){return i&&!i[F]&&(i=v(i)),o&&!o[F]&&(o=v(o,a)),r(function(r,a,s,l){var u,c,d,f=[],p=[],h=a.length,v=r||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:g(v,f,e,s,l),b=n?o||(r?e:h||i)?[]:a:y;if(n&&n(y,b,s,l),i)for(u=g(b,p),i(u,[],s,l),c=u.length;c--;)(d=u[c])&&(b[p[c]]=!(y[p[c]]=d));if(r){if(o||e){if(o){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(y[c]=d);o(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&(u=o?te.call(r,d):f[c])>-1&&(r[u]=!(a[u]=d))}}else b=g(b===a?b.splice(h,b.length):b),o?o(null,a,b,l):Z.apply(a,b)})}function y(e){for(var t,n,r,i=e.length,o=w.relative[e[0].type],a=o||w.relative[" "],s=o?1:0,l=p(function(e){return e===t},a,!0),u=p(function(e){return te.call(t,e)>-1},a,!0),c=[function(e,n,r){return!o&&(r||n!==T)||((t=n).nodeType?l(e,n,r):u(e,n,r))}];s<i;s++)if(n=w.relative[e[s].type])c=[p(h(c),n)];else{if(n=w.filter[e[s].type].apply(null,e[s].matches),n[F]){for(r=++s;r<i&&!w.relative[e[r].type];r++);return v(s>1&&h(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,s<r&&y(e.slice(s,r)),r<i&&y(e=e.slice(r)),r<i&&f(e))}c.push(n)}return h(c)}function b(t,n){var i=n.length>0,o=t.length>0,a=function(r,a,s,l,u){var c,d,f,p=0,h="0",m=r&&[],v=[],y=T,b=r||o&&w.find.TAG("*",u),C=U+=null==y?1:Math.random()||.1,x=b.length;for(u&&(T=a!==D&&a);h!==x&&null!=(c=b[h]);h++){if(o&&c){for(d=0;f=t[d++];)if(f(c,a,s)){l.push(c);break}u&&(U=C)}i&&((c=!f&&c)&&p--,r&&m.push(c))}if(p+=h,i&&h!==p){for(d=0;f=n[d++];)f(m,v,a,s);if(r){if(p>0)for(;h--;)m[h]||v[h]||(v[h]=J.call(l));v=g(v)}Z.apply(l,v),u&&!r&&v.length>0&&p+n.length>1&&e.uniqueSort(l)}return u&&(U=C,T=y),m};return i?r(a):a}var C,x,w,E,N,_,S,k,T,R,A,B,D,L,M,P,O,H,I,F="sizzle"+-new Date,z=window.document,U=0,W=0,V=n(),$=n(),q=n(),j=function(e,t){return e===t&&(A=!0),0},Y=typeof t,X=1<<31,K={}.hasOwnProperty,G=[],J=G.pop,Q=G.push,Z=G.push,ee=G.slice,te=G.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe="\\["+re+"*("+ie+")(?:"+re+"*([*^$|!~]?=)"+re+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+re+"*\\]",ae=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),le=new RegExp("^"+re+"*,"+re+"*"),ue=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),ce=new RegExp("="+re+"*([^\\]'\"]*?)"+re+"*\\]","g"),de=new RegExp(ae),fe=new RegExp("^"+ie+"$"),pe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,be=/'|\\/g,Ce=new RegExp("\\\\([\\da-f]{1,6}"+re+"?|("+re+")|.)","ig"),xe=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Z.apply(G=ee.call(z.childNodes),z.childNodes),G[z.childNodes.length].nodeType}catch(we){Z={apply:G.length?function(e,t){Q.apply(e,ee.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}x=e.support={},N=e.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},B=e.setDocument=function(e){function t(e){try{return e.top}catch(t){}return null}var n,r=e?e.ownerDocument||e:z,o=r.defaultView;return r!==D&&9===r.nodeType&&r.documentElement?(D=r,L=r.documentElement,M=!N(r),o&&o!==t(o)&&(o.addEventListener?o.addEventListener("unload",function(){B()},!1):o.attachEvent&&o.attachEvent("onunload",function(){B()})),x.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=ge.test(r.getElementsByClassName),x.getById=i(function(e){return L.appendChild(e).id=F,!r.getElementsByName||!r.getElementsByName(F).length}),x.getById?(w.find.ID=function(e,t){if(typeof t.getElementById!==Y&&M){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(e){var t=e.replace(Ce,xe);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(Ce,xe);return function(e){var n=typeof e.getAttributeNode!==Y&&e.getAttributeNode("id");return n&&n.value===t}}),w.find.TAG=x.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==Y)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},w.find.CLASS=x.getElementsByClassName&&function(e,t){if(M)return t.getElementsByClassName(e)},O=[],P=[],(x.qsa=ge.test(r.querySelectorAll))&&(i(function(e){e.innerHTML="<select msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+re+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||P.push("\\["+re+"*(?:value|"+ne+")"),e.querySelectorAll(":checked").length||P.push(":checked")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&P.push("name"+re+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")})),(x.matchesSelector=ge.test(H=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&i(function(e){x.disconnectedMatch=H.call(e,"div"),H.call(e,"[s!='']:x"),O.push("!=",ae)}),P=P.length&&new RegExp(P.join("|")),O=O.length&&new RegExp(O.join("|")),n=ge.test(L.compareDocumentPosition),I=n||ge.test(L.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},j=n?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===z&&I(z,e)?-1:t===r||t.ownerDocument===z&&I(z,t)?1:R?te.call(R,e)-te.call(R,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,l=[e],u=[t];if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:R?te.call(R,e)-te.call(R,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[i]===u[i];)i++;return i?a(l[i],u[i]):l[i]===z?-1:u[i]===z?1:0},r):D},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==D&&B(t),n=n.replace(ce,"='$1']"),x.matchesSelector&&M&&(!O||!O.test(n))&&(!P||!P.test(n)))try{var r=H.call(t,n);if(r||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(i){}return e(n,D,null,[t]).length>0},e.contains=function(e,t){return(e.ownerDocument||e)!==D&&B(e),I(e,t)},e.attr=function(e,n){(e.ownerDocument||e)!==D&&B(e);var r=w.attrHandle[n.toLowerCase()],i=r&&K.call(w.attrHandle,n.toLowerCase())?r(e,n,!M):t;return i!==t?i:x.attributes||!M?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null},e.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},e.uniqueSort=function(e){var t,n=[],r=0,i=0;if(A=!x.detectDuplicates,R=!x.sortStable&&e.slice(0),e.sort(j),A){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return R=null,e},E=e.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=E(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=E(t);return n},w=e.selectors={cacheLength:50,createPseudo:r,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ce,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(Ce,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=_(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Ce,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=V[e+" "];return t||(t=new RegExp("(^|"+re+")"+e+"("+re+"|$)"))&&V(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==Y&&e.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,f,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(c=g[F]||(g[F]={}),u=c[e]||[],p=u[0]===U&&u[1],f=u[0]===U&&u[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[U,p,f];break}}else if(y&&(u=(t[F]||(t[F]={}))[e])&&u[0]===U)f=u[1];else for(;(d=++p&&d&&d[m]||(f=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[F]||(d[F]={}))[e]=[U,f]),d!==t)););return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(t,n){var i,o=w.pseudos[t]||w.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[F]?o(n):o.length>1?(i=[t,t,"",n],w.setFilters.hasOwnProperty(t.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=te.call(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=S(e.replace(se,"$1"));return i[F]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(e){return e=e.replace(Ce,xe),function(t){return(t.textContent||t.innerText||E(t)).indexOf(e)>-1}}),lang:r(function(t){return fe.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(Ce,xe).toLowerCase(),function(e){var n;do if(n=M?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===L},focus:function(e){return e===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[n<0?n+t:n]}),even:u(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},w.pseudos.nth=w.pseudos.eq;for(C in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[C]=s(C);for(C in{submit:!0,reset:!0})w.pseudos[C]=l(C);return d.prototype=w.filters=w.pseudos,w.setFilters=new d,_=e.tokenize=function(t,n){var r,i,o,a,s,l,u,c=$[t+" "];if(c)return n?0:c.slice(0);for(s=t,l=[],u=w.preFilter;s;){r&&!(i=le.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=ue.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(se," ")}),s=s.slice(r.length));for(a in w.filter)!(i=pe[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?e.error(t):$(t,l).slice(0)},S=e.compile=function(e,t){var n,r=[],i=[],o=q[e+" "];if(!o){for(t||(t=_(e)),n=t.length;n--;)o=y(t[n]),o[F]?r.push(o):i.push(o);o=q(e,b(i,r)),o.selector=e}return o},k=e.select=function(e,t,n,r){var i,o,a,s,l,u="function"==typeof e&&e,d=!r&&_(e=u.selector||e);
if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&x.getById&&9===t.nodeType&&M&&w.relative[o[1].type]){if(t=(w.find.ID(a.matches[0].replace(Ce,xe),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=pe.needsContext.test(e)?0:o.length;i--&&(a=o[i],!w.relative[s=a.type]);)if((l=w.find[s])&&(r=l(a.matches[0].replace(Ce,xe),ye.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&f(o),!e)return Z.apply(n,r),n;break}}return(u||S(e,d))(r,t,!M,n,ye.test(e)&&c(t.parentNode)||t),n},x.sortStable=F.split("").sort(j).join("")===F,x.detectDuplicates=!!A,B(),x.sortDetached=i(function(e){return 1&e.compareDocumentPosition(D.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(ne,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),e}),r(h,[],function(){function e(e){var t=e,n,r;if(!c(e))for(t=[],n=0,r=e.length;n<r;n++)t[n]=e[n];return t}function n(e,n,r){var i,o;if(!e)return 0;if(r=r||e,e.length!==t){for(i=0,o=e.length;i<o;i++)if(n.call(r,e[i],i,e)===!1)return 0}else for(i in e)if(e.hasOwnProperty(i)&&n.call(r,e[i],i,e)===!1)return 0;return 1}function r(e,t){var r=[];return n(e,function(n,i){r.push(t(n,i,e))}),r}function i(e,t){var r=[];return n(e,function(n,i){t&&!t(n,i,e)||r.push(n)}),r}function o(e,t){var n,r;if(e)for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function a(e,t,n,r){var i=0;for(arguments.length<3&&(n=e[0]);i<e.length;i++)n=t.call(r,n,e[i],i);return n}function s(e,t,n){var r,i;for(r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e))return r;return-1}function l(e,n,r){var i=s(e,n,r);return i!==-1?e[i]:t}function u(e){return e[e.length-1]}var c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return{isArray:c,toArray:e,each:n,map:r,filter:i,indexOf:o,reduce:a,findIndex:s,find:l,last:u}}),r(m,[d,h],function(e,n){function r(e){return null===e||e===t?"":(""+e).replace(h,"")}function i(e,r){return r?!("array"!=r||!n.isArray(e))||typeof e==r:e!==t}function o(e,t,n){var r;for(e=e||[],t=t||",","string"==typeof e&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e,t,n){var r=this,i,o,a,s,l,u=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),a=e[3].match(/(^|\.)(\w+)$/i)[2],o=r.createNS(e[3].replace(/\.\w+$/,""),n),!o[a]){if("static"==e[2])return o[a]=t,void(this.onCreate&&this.onCreate(e[2],e[3],o[a]));t[a]||(t[a]=function(){},u=1),o[a]=t[a],r.extend(o[a].prototype,t),e[5]&&(i=r.resolve(e[5]).prototype,s=e[5].match(/\.(\w+)$/i)[1],l=o[a],u?o[a]=function(){return i[s].apply(this,arguments)}:o[a]=function(){return this.parent=i[s],l.apply(this,arguments)},o[a].prototype[a]=o[a],r.each(i,function(e,t){o[a].prototype[t]=i[t]}),r.each(t,function(e,t){i[t]?o[a].prototype[t]=function(){return this.parent=i[t],e.apply(this,arguments)}:t!=a&&(o[a].prototype[t]=e)})),r.each(t["static"],function(e,t){o[a][t]=e})}}function l(e,n){var r,i,o,a=arguments,s;for(r=1,i=a.length;r<i;r++){n=a[r];for(o in n)n.hasOwnProperty(o)&&(s=n[o],s!==t&&(e[o]=s))}return e}function u(e,t,r,i){i=i||this,e&&(r&&(e=e[r]),n.each(e,function(e,n){return t.call(i,e,n,r)!==!1&&void u(e,t,r,i)}))}function c(e,t){var n,r;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)r=e[n],t[r]||(t[r]={}),t=t[r];return t}function d(e,t){var n,r;for(t=t||window,e=e.split("."),n=0,r=e.length;n<r&&(t=t[e[n]],t);n++);return t}function f(e,t){return!e||i(e,"array")?e:n.map(e.split(t||","),r)}function p(t){var n=e.cacheSuffix;return n&&(t+=(t.indexOf("?")===-1?"?":"&")+n),t}var h=/^\s*|\s*$/g;return{trim:r,isArray:n.isArray,is:i,toArray:n.toArray,makeMap:o,each:n.each,map:n.map,grep:n.filter,inArray:n.indexOf,hasOwn:a,extend:l,create:s,walk:u,createNS:c,resolve:d,explode:f,_addCacheSuffix:p}}),r(g,[f,p,m,d],function(e,n,r,i){function o(e){return"undefined"!=typeof e}function a(e){return"string"==typeof e}function s(e){return e&&e==e.window}function l(e,t){var n,r,i;for(t=t||w,i=t.createElement("div"),n=t.createDocumentFragment(),i.innerHTML=e;r=i.firstChild;)n.appendChild(r);return n}function u(e,t,n,r){var i;if(a(t))t=l(t,v(e[0]));else if(t.length&&!t.nodeType){if(t=f.makeArray(t),r)for(i=t.length-1;i>=0;i--)u(e,t[i],n,r);else for(i=0;i<t.length;i++)u(e,t[i],n,r);return e}if(t.nodeType)for(i=e.length;i--;)n.call(e[i],t);return e}function c(e,t){return e&&t&&(" "+e.className+" ").indexOf(" "+t+" ")!==-1}function d(e,t,n){var r,i;return t=f(t)[0],e.each(function(){var e=this;n&&r==e.parentNode?i.appendChild(e):(r=e.parentNode,i=t.cloneNode(!1),e.parentNode.insertBefore(i,e),i.appendChild(e))}),e}function f(e,t){return new f.fn.init(e,t)}function p(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1}function h(e){return null===e||e===k?"":(""+e).replace(P,"")}function m(e,t){var n,r,i,o,a;if(e)if(n=e.length,n===o){for(r in e)if(e.hasOwnProperty(r)&&(a=e[r],t.call(a,r,a)===!1))break}else for(i=0;i<n&&(a=e[i],t.call(a,i,a)!==!1);i++);return e}function g(e,t){var n=[];return m(e,function(e,r){t(r,e)&&n.push(r)}),n}function v(e){return e?9==e.nodeType?e:e.ownerDocument:w}function y(e,n,r){var i=[],o=e[n];for("string"!=typeof r&&r instanceof f&&(r=r[0]);o&&9!==o.nodeType;){if(r!==t){if(o===r)break;if("string"==typeof r&&f(o).is(r))break}1===o.nodeType&&i.push(o),o=o[n]}return i}function b(e,n,r,i){var o=[];for(i instanceof f&&(i=i[0]);e;e=e[n])if(!r||e.nodeType===r){if(i!==t){if(e===i)break;if("string"==typeof i&&f(e).is(i))break}o.push(e)}return o}function C(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType==n)return e;return null}function x(e,t,n){m(n,function(n,r){e[n]=e[n]||{},e[n][t]=r})}var w=document,E=Array.prototype.push,N=Array.prototype.slice,_=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,S=e.Event,k,T=r.makeMap("children,contents,next,prev"),R=r.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),A=r.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),B={"for":"htmlFor","class":"className",readonly:"readOnly"},D={"float":"cssFloat"},L={},M={},P=/^\s*|\s*$/g;return f.fn=f.prototype={constructor:f,selector:"",context:null,length:0,init:function(e,t){var n=this,r,i;if(!e)return n;if(e.nodeType)return n.context=n[0]=e,n.length=1,n;if(t&&t.nodeType)n.context=t;else{if(t)return f(e).attr(t);n.context=t=document}if(a(e)){if(n.selector=e,r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:_.exec(e),!r)return f(t).find(e);if(r[1])for(i=l(e,v(t)).firstChild;i;)E.call(n,i),i=i.nextSibling;else{if(i=v(t).getElementById(r[2]),!i)return n;if(i.id!==r[2])return n.find(e);n.length=1,n[0]=i}}else this.add(e,!1);return n},toArray:function(){return r.toArray(this)},add:function(e,t){var n=this,r,i;if(a(e))return n.add(f(e));if(t!==!1)for(r=f.unique(n.toArray().concat(f.makeArray(e))),n.length=r.length,i=0;i<r.length;i++)n[i]=r[i];else E.apply(n,f.makeArray(e));return n},attr:function(e,t){var n=this,r;if("object"==typeof e)m(e,function(e,t){n.attr(e,t)});else{if(!o(t)){if(n[0]&&1===n[0].nodeType){if(r=L[e],r&&r.get)return r.get(n[0],e);if(A[e])return n.prop(e)?e:k;t=n[0].getAttribute(e,2),null===t&&(t=k)}return t}this.each(function(){var n;if(1===this.nodeType){if(n=L[e],n&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}})}return n},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if(e=B[e]||e,"object"==typeof e)m(e,function(e,t){n.prop(e,t)});else{if(!o(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1==this.nodeType&&(this[e]=t)})}return n},css:function(e,t){function n(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})}function r(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})}var i=this,a,s;if("object"==typeof e)m(e,function(e,t){i.css(e,t)});else if(o(t))e=n(e),"number"!=typeof t||R[e]||(t+="px"),i.each(function(){var n=this.style;if(s=M[e],s&&s.set)return void s.set(this,t);try{this.style[D[e]||e]=t}catch(i){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(r(e)):n.removeAttribute(e))});else{if(a=i[0],s=M[e],s&&s.get)return s.get(a);if(a.ownerDocument.defaultView)try{return a.ownerDocument.defaultView.getComputedStyle(a,null).getPropertyValue(r(e))}catch(l){return k}else if(a.currentStyle)return a.currentStyle[n(e)]}return i},remove:function(){for(var e=this,t,n=this.length;n--;)t=e[n],S.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var e=this,t,n=this.length;n--;)for(t=e[n];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(e){var t=this,n;if(o(e)){n=t.length;try{for(;n--;)t[n].innerHTML=e}catch(r){f(t[n]).empty().append(e)}return t}return t[0]?t[0].innerHTML:""},text:function(e){var t=this,n;if(o(e)){for(n=t.length;n--;)"innerText"in t[n]?t[n].innerText=e:t[0].textContent=e;return t}return t[0]?t[0].innerText||t[0].textContent:""},append:function(){return u(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return u(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?u(e,arguments,function(e){this.parentNode.insertBefore(e,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?u(e,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):e},appendTo:function(e){return f(e).append(this),this},prependTo:function(e){return f(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return d(this,e)},wrapAll:function(e){return d(this,e,!0)},wrapInner:function(e){return this.each(function(){f(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){f(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),f(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e?n:(e.indexOf(" ")!==-1?m(e.split(" "),function(){n.toggleClass(this,t)}):n.each(function(n,r){var i,o;o=c(r,e),o!==t&&(i=r.className,o?r.className=h((" "+i+" ").replace(" "+e+" "," ")):r.className+=i?" "+e:e)}),n)},hasClass:function(e){return c(this[0],e)},each:function(e){return m(this,e)},on:function(e,t){return this.each(function(){S.bind(this,e,t)})},off:function(e,t){return this.each(function(){S.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?S.fire(this,e.type,e):S.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new f(N.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)f.find(e,this[t],r);return f(r)},filter:function(e){return f("function"==typeof e?g(this.toArray(),function(t,n){return e(n,t)}):f.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof f&&(e=e[0]),this.each(function(n,r){for(;r;){if("string"==typeof e&&f(r).is(e)){t.push(r);break}if(r==e){t.push(r);break}r=r.parentNode}}),f(t)},offset:function(e){var t,n,r,i=0,o=0,a;return e?this.css(e):(t=this[0],t&&(n=t.ownerDocument,r=n.documentElement,t.getBoundingClientRect&&(a=t.getBoundingClientRect(),i=a.left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,o=a.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:i,top:o})},push:E,sort:[].sort,splice:[].splice},r.extend(f,{extend:r.extend,makeArray:function(e){return s(e)||e.nodeType?[e]:r.toArray(e)},inArray:p,isArray:r.isArray,each:m,trim:h,grep:g,find:n,expr:n.selectors,unique:n.uniqueSort,text:n.getText,contains:n.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)1!=t[r].nodeType&&t.splice(r,1);return t=1===t.length?f.find.matchesSelector(t[0],e)?[t[0]]:[]:f.find.matches(e,t)}}),m({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return y(e,"parentNode")},next:function(e){return C(e,"nextSibling",1)},prev:function(e){return C(e,"previousSibling",1)},children:function(e){return b(e.firstChild,"nextSibling",1)},contents:function(e){return r.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){f.fn[e]=function(n){var r=this,i=[];return r.each(function(){var e=t.call(i,this,n,i);e&&(f.isArray(e)?i.push.apply(i,e):i.push(e))}),this.length>1&&(T[e]||(i=f.unique(i)),0===e.indexOf("parents")&&(i=i.reverse())),i=f(i),n?i.filter(n):i}}),m({parentsUntil:function(e,t){return y(e,"parentNode",t)},nextUntil:function(e,t){return b(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return b(e,"previousSibling",1,t).slice(1)}},function(e,t){f.fn[e]=function(n,r){var i=this,o=[];return i.each(function(){var e=t.call(o,this,n,o);e&&(f.isArray(e)?o.push.apply(o,e):o.push(e))}),this.length>1&&(o=f.unique(o),0!==e.indexOf("parents")&&"prevUntil"!==e||(o=o.reverse())),o=f(o),r?o.filter(r):o}}),f.fn.is=function(e){return!!e&&this.filter(e).length>0},f.fn.init.prototype=f.fn,f.overrideDefaults=function(e){function t(r,i){return n=n||e(),0===arguments.length&&(r=n.element),i||(i=n.context),new t.fn.init(r,i)}var n;return f.extend(t,this),t},i.ie&&i.ie<8&&(x(L,"get",{maxlength:function(e){var t=e.maxLength;return 2147483647===t?k:t},size:function(e){var t=e.size;return 20===t?k:t},"class":function(e){return e.className},style:function(e){var t=e.style.cssText;return 0===t.length?k:t}}),x(L,"set",{"class":function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),i.ie&&i.ie<9&&(D["float"]="styleFloat",x(M,"set",{opacity:function(e,t){var n=e.style;null===t||""===t?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*t+")")}})),f.attrHooks=L,f.cssHooks=M,f}),r(v,[],function(){return function(e,t){function n(e,t,n,r){function i(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e}return"#"+i(t)+i(n)+i(r)}var r=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,i=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,o=/\s*([^:]+):\s*([^;]+);?/g,a=/\s+$/,s,l={},u,c,d,f="\ufeff";for(e=e||{},t&&(c=t.getValidStyles(),d=t.getInvalidStyles()),u=("\\\" \\' \\; \\: ; : "+f).split(" "),s=0;s<u.length;s++)l[u[s]]=f+s,l[f+s]=u[s];return{toHex:function(e){return e.replace(r,n)},parse:function(t){function u(e,t,n){var r,i,o,a;if(r=y[e+"-top"+t],r&&(i=y[e+"-right"+t],i&&(o=y[e+"-bottom"+t],o&&(a=y[e+"-left"+t])))){var l=[r,i,o,a];for(s=l.length-1;s--&&l[s]===l[s+1];);s>-1&&n||(y[e+t]=s==-1?l[0]:l.join(" "),delete y[e+"-top"+t],delete y[e+"-right"+t],delete y[e+"-bottom"+t],delete y[e+"-left"+t])}}function c(e){var t=y[e],n;if(t){for(t=t.split(" "),n=t.length;n--;)if(t[n]!==t[0])return!1;return y[e]=t[0],!0}}function d(e,t,n,r){c(t)&&c(n)&&c(r)&&(y[e]=y[t]+" "+y[n]+" "+y[r],delete y[t],delete y[n],delete y[r])}function p(e){return w=!0,l[e]}function h(e,t){return w&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return l[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e}function m(e){return String.fromCharCode(parseInt(e.slice(1),16))}function g(e){return e.replace(/\\[0-9a-f]+/gi,m)}function v(t,n,r,i,o,a){if(o=o||a)return o=h(o),"'"+o.replace(/\'/g,"\\'")+"'";if(n=h(n||r||i),!e.allow_script_urls){var s=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(s))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(s))return""}return E&&(n=E.call(N,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"}var y={},b,C,x,w,E=e.url_converter,N=e.url_converter_scope||this;if(t){for(t=t.replace(/[\u0000-\u001F]/g,""),t=t.replace(/\\[\"\';:\uFEFF]/g,p).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,p)});b=o.exec(t);)if(o.lastIndex=b.index+b[0].length,C=b[1].replace(a,"").toLowerCase(),x=b[2].replace(a,""),C&&x){if(C=g(C),x=g(x),C.indexOf(f)!==-1||C.indexOf('"')!==-1)continue;if(!e.allow_script_urls&&("behavior"==C||/expression\s*\(|\/\*|\*\//.test(x)))continue;"font-weight"===C&&"700"===x?x="bold":"color"!==C&&"background-color"!==C||(x=x.toLowerCase()),x=x.replace(r,n),x=x.replace(i,v),y[C]=w?h(x,!0):x}u("border","",!0),u("border","-width"),u("border","-color"),u("border","-style"),u("padding",""),u("margin",""),d("border","border-width","border-style","border-color"),"medium none"===y.border&&delete y.border,"none"===y["border-image"]&&delete y["border-image"]}return y},serialize:function(e,t){function n(t){var n,r,o,a;if(n=c[t])for(r=0,o=n.length;r<o;r++)t=n[r],a=e[t],a&&(i+=(i.length>0?" ":"")+t+": "+a+";")}function r(e,t){var n;return n=d["*"],(!n||!n[e])&&(n=d[t],!n||!n[e])}var i="",o,a;if(t&&c)n("*"),n(t);else for(o in e)a=e[o],!a||d&&!r(o,t)||(i+=(i.length>0?" ":"")+o+": "+a+";");return i}}}}),r(y,[],function(){return function(e,t){function n(e,n,r,i){var o,a;if(e){if(!i&&e[n])return e[n];if(e!=t){if(o=e[r])return o;for(a=e.parentNode;a&&a!=t;a=a.parentNode)if(o=a[r])return o}}}function r(e,n,r,i){var o,a,s;if(e){if(o=e[r],t&&o===t)return;if(o){if(!i)for(s=o[n];s;s=s[n])if(!s[n])return s;return o}if(a=e.parentNode,a&&a!==t)return a}}var i=e;this.current=function(){return i},this.next=function(e){return i=n(i,"firstChild","nextSibling",e)},this.prev=function(e){return i=n(i,"lastChild","previousSibling",e)},this.prev2=function(e){return i=r(i,"lastChild","previousSibling",e)}}}),r(b,[m],function(e){function t(n){function r(){return P.createDocumentFragment()}function i(e,t){E(F,e,t)}function o(e,t){E(z,e,t)}function a(e){i(e.parentNode,j(e))}function s(e){i(e.parentNode,j(e)+1)}function l(e){o(e.parentNode,j(e))}function u(e){o(e.parentNode,j(e)+1)}function c(e){e?(M[V]=M[W],M[$]=M[U]):(M[W]=M[V],M[U]=M[$]),M.collapsed=F}function d(e){a(e),u(e)}function f(e){i(e,0),o(e,1===e.nodeType?e.childNodes.length:e.nodeValue.length)}function p(e,t){var n=M[W],r=M[U],i=M[V],o=M[$],a=t.startContainer,s=t.startOffset,l=t.endContainer,u=t.endOffset;return 0===e?w(n,r,a,s):1===e?w(i,o,a,s):2===e?w(i,o,l,u):3===e?w(n,r,l,u):void 0}function h(){N(I)}function m(){return N(O)}function g(){return N(H)}function v(e){var t=this[W],r=this[U],i,o;3!==t.nodeType&&4!==t.nodeType||!t.nodeValue?(t.childNodes.length>0&&(o=t.childNodes[r]),o?t.insertBefore(e,o):3==t.nodeType?n.insertAfter(e,t):t.appendChild(e)):r?r>=t.nodeValue.length?n.insertAfter(e,t):(i=t.splitText(r),t.parentNode.insertBefore(e,i)):t.parentNode.insertBefore(e,t)}function y(e){var t=M.extractContents();M.insertNode(e),e.appendChild(t),M.selectNode(e)}function b(){return q(new t(n),{startContainer:M[W],startOffset:M[U],endContainer:M[V],endOffset:M[$],collapsed:M.collapsed,commonAncestorContainer:M.commonAncestorContainer})}function C(e,t){var n;if(3==e.nodeType)return e;if(t<0)return e;for(n=e.firstChild;n&&t>0;)--t,n=n.nextSibling;return n?n:e}function x(){return M[W]==M[V]&&M[U]==M[$]}function w(e,t,r,i){var o,a,s,l,u,c;if(e==r)return t==i?0:t<i?-1:1;for(o=r;o&&o.parentNode!=e;)o=o.parentNode;if(o){for(a=0,s=e.firstChild;s!=o&&a<t;)a++,s=s.nextSibling;return t<=a?-1:1}for(o=e;o&&o.parentNode!=r;)o=o.parentNode;if(o){for(a=0,s=r.firstChild;s!=o&&a<i;)a++,s=s.nextSibling;return a<i?-1:1}for(l=n.findCommonAncestor(e,r),u=e;u&&u.parentNode!=l;)u=u.parentNode;for(u||(u=l),c=r;c&&c.parentNode!=l;)c=c.parentNode;if(c||(c=l),u==c)return 0;for(s=l.firstChild;s;){if(s==u)return-1;if(s==c)return 1;s=s.nextSibling}}function E(e,t,r){var i,o;for(e?(M[W]=t,M[U]=r):(M[V]=t,M[$]=r),i=M[V];i.parentNode;)i=i.parentNode;for(o=M[W];o.parentNode;)o=o.parentNode;o==i?w(M[W],M[U],M[V],M[$])>0&&M.collapse(e):M.collapse(e),M.collapsed=x(),M.commonAncestorContainer=n.findCommonAncestor(M[W],M[V])}function N(e){var t,n=0,r=0,i,o,a,s,l,u;if(M[W]==M[V])return _(e);for(t=M[V],i=t.parentNode;i;t=i,i=i.parentNode){if(i==M[W])return S(t,e);++n}for(t=M[W],i=t.parentNode;i;t=i,i=i.parentNode){if(i==M[V])return k(t,e);++r}for(o=r-n,a=M[W];o>0;)a=a.parentNode,o--;for(s=M[V];o<0;)s=s.parentNode,o++;for(l=a.parentNode,u=s.parentNode;l!=u;l=l.parentNode,u=u.parentNode)a=l,s=u;return T(a,s,e)}function _(e){var t,n,i,o,a,s,l,u,c;if(e!=I&&(t=r()),M[U]==M[$])return t;if(3==M[W].nodeType){if(n=M[W].nodeValue,i=n.substring(M[U],M[$]),e!=H&&(o=M[W],u=M[U],c=M[$]-M[U],0===u&&c>=o.nodeValue.length-1?o.parentNode.removeChild(o):o.deleteData(u,c),M.collapse(F)),e==I)return;return i.length>0&&t.appendChild(P.createTextNode(i)),t}for(o=C(M[W],M[U]),a=M[$]-M[U];o&&a>0;)s=o.nextSibling,l=D(o,e),t&&t.appendChild(l),--a,o=s;return e!=H&&M.collapse(F),t}function S(e,t){var n,i,o,a,s,l;if(t!=I&&(n=r()),i=R(e,t),n&&n.appendChild(i),o=j(e),a=o-M[U],a<=0)return t!=H&&(M.setEndBefore(e),M.collapse(z)),n;for(i=e.previousSibling;a>0;)s=i.previousSibling,l=D(i,t),n&&n.insertBefore(l,n.firstChild),--a,i=s;return t!=H&&(M.setEndBefore(e),M.collapse(z)),n}function k(e,t){var n,i,o,a,s,l;for(t!=I&&(n=r()),o=A(e,t),n&&n.appendChild(o),i=j(e),++i,a=M[$]-i,o=e.nextSibling;o&&a>0;)s=o.nextSibling,l=D(o,t),n&&n.appendChild(l),--a,o=s;return t!=H&&(M.setStartAfter(e),M.collapse(F)),n}function T(e,t,n){var i,o,a,s,l,u,c;for(n!=I&&(o=r()),i=A(e,n),o&&o.appendChild(i),a=j(e),s=j(t),++a,l=s-a,u=e.nextSibling;l>0;)c=u.nextSibling,i=D(u,n),o&&o.appendChild(i),u=c,--l;return i=R(t,n),o&&o.appendChild(i),n!=H&&(M.setStartAfter(e),M.collapse(F)),o}function R(e,t){var n=C(M[V],M[$]-1),r,i,o,a,s,l=n!=M[V];if(n==e)return B(n,l,z,t);for(r=n.parentNode,i=B(r,z,z,t);r;){for(;n;)o=n.previousSibling,a=B(n,l,z,t),t!=I&&i.insertBefore(a,i.firstChild),l=F,n=o;if(r==e)return i;n=r.previousSibling,r=r.parentNode,s=B(r,z,z,t),t!=I&&s.appendChild(i),i=s}}function A(e,t){var n=C(M[W],M[U]),r=n!=M[W],i,o,a,s,l;if(n==e)return B(n,r,F,t);for(i=n.parentNode,o=B(i,z,F,t);i;){for(;n;)a=n.nextSibling,s=B(n,r,F,t),t!=I&&o.appendChild(s),r=F,n=a;if(i==e)return o;n=i.nextSibling,i=i.parentNode,l=B(i,z,F,t),t!=I&&l.appendChild(o),o=l}}function B(e,t,r,i){var o,a,s,l,u;if(t)return D(e,i);if(3==e.nodeType){if(o=e.nodeValue,r?(l=M[U],a=o.substring(l),s=o.substring(0,l)):(l=M[$],a=o.substring(0,l),s=o.substring(l)),i!=H&&(e.nodeValue=s),i==I)return;return u=n.clone(e,z),u.nodeValue=a,u}if(i!=I)return n.clone(e,z)}function D(e,t){return t!=I?t==H?n.clone(e,F):e:void e.parentNode.removeChild(e)}function L(){return n.create("body",null,g()).outerText}var M=this,P=n.doc,O=0,H=1,I=2,F=!0,z=!1,U="startOffset",W="startContainer",V="endContainer",$="endOffset",q=e.extend,j=n.nodeIndex;return q(M,{startContainer:P,startOffset:0,endContainer:P,endOffset:0,collapsed:F,commonAncestorContainer:P,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:i,setEnd:o,setStartBefore:a,setStartAfter:s,setEndBefore:l,setEndAfter:u,collapse:c,selectNode:d,selectNodeContents:f,compareBoundaryPoints:p,deleteContents:h,extractContents:m,cloneContents:g,insertNode:v,surroundContents:y,cloneRange:b,toStringIE:L}),M}return t.prototype.toString=function(){return this.toStringIE()},t}),r(C,[m],function(e){function t(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.textContent||t.innerText||e}function n(e,t){var n,r,i,a={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),o[r]||(i="&"+e[n+1]+";",a[r]=i,a[i]=r);return a}}var r=e.makeMap,i,o,a,s=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=/[<>&\"\']/g,c=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,d={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};o={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},a={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},i=n("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var f={encodeRaw:function(e,t){return e.replace(t?s:l,function(e){return o[e]||e})},encodeAllRaw:function(e){return(""+e).replace(u,function(e){return o[e]||e})},encodeNumeric:function(e,t){return e.replace(t?s:l,function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":o[e]||"&#"+e.charCodeAt(0)+";"})},encodeNamed:function(e,t,n){return n=n||i,e.replace(t?s:l,function(e){return o[e]||n[e]||e})},getEncodeFunc:function(e,t){function a(e,n){return e.replace(n?s:l,function(e){return o[e]||t[e]||"&#"+e.charCodeAt(0)+";"||e})}function u(e,n){return f.encodeNamed(e,n,t)}return t=n(t)||i,e=r(e.replace(/\+/g,",")),e.named&&e.numeric?a:e.named?t?u:f.encodeNamed:e.numeric?f.encodeNumeric:f.encodeRaw},decode:function(e){return e.replace(c,function(e,n){return n?(n="x"===n.charAt(0).toLowerCase()?parseInt(n.substr(1),16):parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n))):d[n]||String.fromCharCode(n)):a[e]||i[e]||t(e)})}};return f}),r(x,[m,c],function(e,t){return function(n,r){function i(e){n.getElementsByTagName("head")[0].appendChild(e)}function o(r,o,u){function c(){for(var e=b.passed,t=e.length;t--;)e[t]();b.status=2,b.passed=[],b.failed=[]}function d(){for(var e=b.failed,t=e.length;t--;)e[t]();b.status=3,b.passed=[],b.failed=[]}function f(){var e=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(e&&e[1]<536)}function p(e,n){e()||((new Date).getTime()-y<l?t.setTimeout(n):d())}function h(){p(function(){for(var e=n.styleSheets,t,r=e.length,i;r--;)if(t=e[r],i=t.ownerNode?t.ownerNode:t.owningElement,i&&i.id===g.id)return c(),!0},h)}function m(){p(function(){try{var e=v.sheet.cssRules;return c(),!!e}catch(t){}},m)}var g,v,y,b;if(r=e._addCacheSuffix(r),s[r]?b=s[r]:(b={passed:[],failed:[]},s[r]=b),o&&b.passed.push(o),u&&b.failed.push(u),1!=b.status){if(2==b.status)return void c();if(3==b.status)return void d();if(b.status=1,g=n.createElement("link"),g.rel="stylesheet",g.type="text/css",g.id="u"+a++,g.async=!1,g.defer=!1,y=(new Date).getTime(),"onload"in g&&!f())g.onload=h,g.onerror=d;else{if(navigator.userAgent.indexOf("Firefox")>0)return v=n.createElement("style"),v.textContent='@import "'+r+'"',m(),void i(v);h()}i(g),g.href=r}}var a=0,s={},l;r=r||{},l=r.maxLoadTime||5e3,this.load=o}}),r(w,[p,g,v,f,y,b,C,d,m,x],function(e,n,r,i,o,a,s,l,u,c){function d(e,t){var n={},r=t.keep_values,i;return i={set:function(n,r,i){t.url_converter&&(r=t.url_converter.call(t.url_converter_scope||e,r,i,n[0])),n.attr("data-mce-"+i,r).attr(i,r)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},n={style:{set:function(e,t){return null!==t&&"object"==typeof t?void e.css(t):(r&&e.attr("data-mce-style",t),void e.attr("style",t))},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return n=e.serializeStyle(e.parseStyle(n),t[0].nodeName)}}},r&&(n.href=n.src=i),n}function f(e,t){var n=t.attr("style");n=e.serializeStyle(e.parseStyle(n),t[0].nodeName),n||(n=null),t.attr("data-mce-style",n)}function p(e,t){var n=0,r,i;if(e)for(r=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)i=e.nodeType,(!t||3!=i||i!=r&&e.nodeValue.length)&&(n++,r=i);return n}function h(e,t){var o=this,a;o.doc=e,o.win=window,o.files={},o.counter=0,o.stdMode=!b||e.documentMode>=8,o.boxModel=!b||"CSS1Compat"==e.compatMode||o.stdMode,o.styleSheetLoader=new c(e),o.boundEvents=[],o.settings=t=t||{},o.schema=t.schema,o.styles=new r({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),o.fixDoc(e),o.events=t.ownEvents?new i(t.proxy):i.Event,o.attrHooks=d(o,t),a=t.schema?t.schema.getBlockElements():{},o.$=n.overrideDefaults(function(){return{context:e,element:o.getRoot()}}),o.isBlock=function(e){if(!e)return!1;var t=e.nodeType;return t?!(1!==t||!a[e.nodeName]):!!a[e]}}var m=u.each,g=u.is,v=u.grep,y=u.trim,b=l.ie,C=/^([a-z0-9],?)+$/i,x=/^[ \t\r\n]*$/;return h.prototype={$$:function(e){return"string"==typeof e&&(e=this.get(e)),this.$(e)},root:null,fixDoc:function(e){var t=this.settings,n;if(b&&t.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(t){e.createElement(t)});for(n in t.schema.getCustomElements())e.createElement(n)}},clone:function(e,t){var n=this,r,i;return!b||1!==e.nodeType||t?e.cloneNode(t):(i=n.doc,t?r.firstChild:(r=i.createElement(e.nodeName),m(n.getAttribs(e),function(t){n.setAttrib(r,t.nodeName,n.getAttrib(e,t.nodeName))}),r))},getRoot:function(){var e=this;return e.settings.root_element||e.doc.body},getViewPort:function(e){var t,n;return e=e?e:this.win,t=e.document,n=this.boxModel?t.documentElement:t.body,{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t=this,n,r;return e=t.get(e),n=t.getPos(e),r=t.getSize(e),{x:n.x,y:n.y,w:r.w,h:r.h}},getSize:function(e){var t=this,n,r;return e=t.get(e),n=t.getStyle(e,"width"),r=t.getStyle(e,"height"),n.indexOf("px")===-1&&(n=0),r.indexOf("px")===-1&&(r=0),
{w:parseInt(n,10)||e.offsetWidth||e.clientWidth,h:parseInt(r,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,n,r,i){var o=this,a,s=[];for(e=o.get(e),i=i===t,r=r||("BODY"!=o.getRoot().nodeName?o.getRoot().parentNode:null),g(n,"string")&&(a=n,n="*"===n?function(e){return 1==e.nodeType}:function(e){return o.is(e,a)});e&&e!=r&&e.nodeType&&9!==e.nodeType;){if(!n||n(e)){if(!i)return e;s.push(e)}e=e.parentNode}return i?s:null},get:function(e){var t;return e&&this.doc&&"string"==typeof e&&(t=e,e=this.doc.getElementById(e),e&&e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},select:function(t,n){var r=this;return e(t,r.get(n)||r.settings.root_element||r.doc,[])},is:function(n,r){var i;if(n.length===t){if("*"===r)return 1==n.nodeType;if(C.test(r)){for(r=r.toLowerCase().split(/,/),n=n.nodeName.toLowerCase(),i=r.length-1;i>=0;i--)if(r[i]==n)return!0;return!1}}if(n.nodeType&&1!=n.nodeType)return!1;var o=n.nodeType?[n]:n;return e(r,o[0].ownerDocument||o[0],null,o).length>0},add:function(e,t,n,r,i){var o=this;return this.run(e,function(e){var a;return a=g(t,"string")?o.doc.createElement(t):t,o.setAttribs(a,n),r&&(r.nodeType?a.appendChild(r):o.setHTML(a,r)),i?a:e.appendChild(a)})},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var r="",i;r+="<"+e;for(i in t)t.hasOwnProperty(i)&&null!==t[i]&&"undefined"!=typeof t[i]&&(r+=" "+i+'="'+this.encode(t[i])+'"');return"undefined"!=typeof n?r+">"+n+"</"+e+">":r+" />"},createFragment:function(e){var t,n,r=this.doc,i;for(i=r.createElement("div"),t=r.createDocumentFragment(),e&&(i.innerHTML=e);n=i.firstChild;)t.appendChild(n);return t},remove:function(e,t){return e=this.$$(e),t?e.each(function(){for(var e;e=this.firstChild;)3==e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():e.remove(),e.length>1?e.toArray():e[0]},setStyle:function(e,t,n){e=this.$$(e).css(t,n),this.settings.update_styles&&f(this,e)},getStyle:function(e,n,r){return e=this.$$(e),r?e.css(n):(n=n.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),"float"==n&&(n=l.ie&&l.ie<12?"styleFloat":"cssFloat"),e[0]&&e[0].style?e[0].style[n]:t)},setStyles:function(e,t){e=this.$$(e).css(t),this.settings.update_styles&&f(this,e)},removeAllAttribs:function(e){return this.run(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))})},setAttrib:function(e,t,n){var r=this,i,o,a=r.settings;""===n&&(n=null),e=r.$$(e),i=e.attr(t),e.length&&(o=r.attrHooks[t],o&&o.set?o.set(e,n,t):e.attr(t,n),i!=n&&a.onSetAttrib&&a.onSetAttrib({attrElm:e,attrName:t,attrValue:n}))},setAttribs:function(e,t){var n=this;n.$$(e).each(function(e,r){m(t,function(e,t){n.setAttrib(r,t,e)})})},getAttrib:function(e,t,n){var r=this,i,o;return e=r.$$(e),e.length&&(i=r.attrHooks[t],o=i&&i.get?i.get(e,t):e.attr(t)),"undefined"==typeof o&&(o=n||""),o},getPos:function(e,t){var r=this,i=0,o=0,a,s=r.doc,l=s.body,u;if(e=r.get(e),t=t||l,e){if(t===l&&e.getBoundingClientRect&&"static"===n(l).css("position"))return u=e.getBoundingClientRect(),t=r.boxModel?s.documentElement:l,i=u.left+(s.documentElement.scrollLeft||l.scrollLeft)-t.clientLeft,o=u.top+(s.documentElement.scrollTop||l.scrollTop)-t.clientTop,{x:i,y:o};for(a=e;a&&a!=t&&a.nodeType;)i+=a.offsetLeft||0,o+=a.offsetTop||0,a=a.offsetParent;for(a=e.parentNode;a&&a!=t&&a.nodeType;)i-=a.scrollLeft||0,o-=a.scrollTop||0,a=a.parentNode}return{x:i,y:o}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var t=this,n=t.doc,r,i;if(t!==h.DOM&&n===document){var o=h.DOM.addedStyles;if(o=o||[],o[e])return;o[e]=!0,h.DOM.addedStyles=o}i=n.getElementById("mceDefaultStyles"),i||(i=n.createElement("style"),i.id="mceDefaultStyles",i.type="text/css",r=n.getElementsByTagName("head")[0],r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i)),i.styleSheet?i.styleSheet.cssText+=e:i.appendChild(n.createTextNode(e))},loadCSS:function(e){var t=this,n=t.doc,r;return t!==h.DOM&&n===document?void h.DOM.loadCSS(e):(e||(e=""),r=n.getElementsByTagName("head")[0],void m(e.split(","),function(e){var i;e=u._addCacheSuffix(e),t.files[e]||(t.files[e]=!0,i=t.create("link",{rel:"stylesheet",href:e}),b&&n.documentMode&&n.recalc&&(i.onload=function(){n.recalc&&n.recalc(),i.onload=null}),r.appendChild(i))}))},addClass:function(e,t){this.$$(e).addClass(t)},removeClass:function(e,t){this.toggleClass(e,t,!1)},hasClass:function(e,t){return this.$$(e).hasClass(t)},toggleClass:function(e,t,r){this.$$(e).toggleClass(t,r).each(function(){""===this.className&&n(this).attr("class",null)})},show:function(e){this.$$(e).show()},hide:function(e){this.$$(e).hide()},isHidden:function(e){return"none"==this.$$(e).css("display")},uniqueId:function(e){return(e?e:"mce_")+this.counter++},setHTML:function(e,t){e=this.$$(e),b?e.each(function(e,r){if(r.canHaveHTML!==!1){for(;r.firstChild;)r.removeChild(r.firstChild);try{r.innerHTML="<br>"+t,r.removeChild(r.firstChild)}catch(i){n("<div></div>").html("<br>"+t).contents().slice(1).appendTo(r)}return t}}):e.html(t)},getOuterHTML:function(e){return e=this.get(e),1==e.nodeType&&"outerHTML"in e?e.outerHTML:n("<div></div>").append(n(e).clone()).html()},setOuterHTML:function(e,t){var r=this;r.$$(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}r.remove(n(this).html(t),!0)})},decode:s.decode,encode:s.encodeAllRaw,insertAfter:function(e,t){return t=this.get(t),this.run(e,function(e){var n,r;return n=t.parentNode,r=t.nextSibling,r?n.insertBefore(e,r):n.appendChild(e),e})},replace:function(e,t,n){var r=this;return r.run(t,function(t){return g(t,"array")&&(e=e.cloneNode(!0)),n&&m(v(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},rename:function(e,t){var n=this,r;return e.nodeName!=t.toUpperCase()&&(r=n.create(t),m(n.getAttribs(e),function(t){n.setAttrib(r,t.nodeName,n.getAttrib(e,t.nodeName))}),n.replace(r,e,1)),r||e},findCommonAncestor:function(e,t){for(var n=e,r;n;){for(r=t;r&&n!=r;)r=r.parentNode;if(n==r)break;n=n.parentNode}return!n&&e.ownerDocument?e.ownerDocument.documentElement:n},toHex:function(e){return this.styles.toHex(u.trim(e))},run:function(e,t,n){var r=this,i;return"string"==typeof e&&(e=r.get(e)),!!e&&(n=n||this,e.nodeType||!e.length&&0!==e.length?t.call(n,e):(i=[],m(e,function(e,o){e&&("string"==typeof e&&(e=r.get(e)),i.push(t.call(n,e,o)))}),i))},getAttribs:function(e){var t;if(e=this.get(e),!e)return[];if(b){if(t=[],"OBJECT"==e.nodeName)return e.attributes;"OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&t.push({specified:1,nodeName:"selected"});var n=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return e.cloneNode(!1).outerHTML.replace(n,"").replace(/[\w:\-]+/gi,function(e){t.push({specified:1,nodeName:e})}),t}return e.attributes},isEmpty:function(e,t){var n=this,r,i,a,s,l,u,c=0;if(e=e.firstChild){l=new o(e,e.parentNode),t=t||(n.schema?n.schema.getNonEmptyElements():null),s=n.schema?n.schema.getWhiteSpaceElements():{};do{if(a=e.nodeType,1===a){var d=e.getAttribute("data-mce-bogus");if(d){e=l.next("all"===d);continue}if(u=e.nodeName.toLowerCase(),t&&t[u]){if("br"===u){c++,e=l.next();continue}return!1}for(i=n.getAttribs(e),r=i.length;r--;)if(u=i[r].nodeName,"name"===u||"data-mce-bookmark"===u)return!1}if(8==a)return!1;if(3===a&&!x.test(e.nodeValue))return!1;if(3===a&&e.parentNode&&s[e.parentNode.nodeName]&&x.test(e.nodeValue))return!1;e=l.next()}while(e)}return c<=1},createRng:function(){var e=this.doc;return e.createRange?e.createRange():new a(this)},nodeIndex:p,split:function(e,t,n){function r(e){function t(e){var t=e.previousSibling&&"SPAN"==e.previousSibling.nodeName,n=e.nextSibling&&"SPAN"==e.nextSibling.nodeName;return t&&n}var n,o=e.childNodes,a=e.nodeType;if(1!=a||"bookmark"!=e.getAttribute("data-mce-type")){for(n=o.length-1;n>=0;n--)r(o[n]);if(9!=a){if(3==a&&e.nodeValue.length>0){var s=y(e.nodeValue).length;if(!i.isBlock(e.parentNode)||s>0||0===s&&t(e))return}else if(1==a&&(o=e.childNodes,1==o.length&&o[0]&&1==o[0].nodeType&&"bookmark"==o[0].getAttribute("data-mce-type")&&e.parentNode.insertBefore(o[0],e),o.length||/^(br|hr|input|img)$/i.test(e.nodeName)))return;i.remove(e)}return e}}var i=this,o=i.createRng(),a,s,l;if(e&&t)return o.setStart(e.parentNode,i.nodeIndex(e)),o.setEnd(t.parentNode,i.nodeIndex(t)),a=o.extractContents(),o=i.createRng(),o.setStart(t.parentNode,i.nodeIndex(t)+1),o.setEnd(e.parentNode,i.nodeIndex(e)+1),s=o.extractContents(),l=e.parentNode,l.insertBefore(r(a),e),n?l.insertBefore(n,e):l.insertBefore(t,e),l.insertBefore(r(s),e),i.remove(e),n||t},bind:function(e,t,n,r){var i=this;if(u.isArray(e)){for(var o=e.length;o--;)e[o]=i.bind(e[o],t,n,r);return e}return!i.settings.collect||e!==i.doc&&e!==i.win||i.boundEvents.push([e,t,n,r]),i.events.bind(e,t,n,r||i)},unbind:function(e,t,n){var r=this,i;if(u.isArray(e)){for(i=e.length;i--;)e[i]=r.unbind(e[i],t,n);return e}if(r.boundEvents&&(e===r.doc||e===r.win))for(i=r.boundEvents.length;i--;){var o=r.boundEvents[i];e!=o[0]||t&&t!=o[1]||n&&n!=o[2]||this.events.unbind(o[0],o[1],o[2])}return this.events.unbind(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;return e&&1==e.nodeType?(t=e.getAttribute("data-mce-contenteditable"),t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null):null},getContentEditableParent:function(e){for(var t=this.getRoot(),n=null;e&&e!==t&&(n=this.getContentEditable(e),null===n);e=e.parentNode);return n},destroy:function(){var t=this;if(t.boundEvents){for(var n=t.boundEvents.length;n--;){var r=t.boundEvents[n];this.events.unbind(r[0],r[1],r[2])}t.boundEvents=null}e.setDocument&&e.setDocument(),t.win=t.doc=t.root=t.events=t.frag=null},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},_findSib:function(e,t,n){var r=this,i=t;if(e)for("string"==typeof i&&(i=function(e){return r.is(e,t)}),e=e[n];e;e=e[n])if(i(e))return e;return null}},h.DOM=new h(document),h.nodeIndex=p,h}),r(E,[w,m],function(e,t){function n(){function e(e,n,i){function o(){l.remove(c),u&&(u.onreadystatechange=u.onload=u=null),n()}function s(){a(i)?i():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+e)}var l=r,u,c;c=l.uniqueId(),u=document.createElement("script"),u.id=c,u.type="text/javascript",u.src=t._addCacheSuffix(e),"onreadystatechange"in u?u.onreadystatechange=function(){/loaded|complete/.test(u.readyState)&&o()}:u.onload=o,u.onerror=s,(document.getElementsByTagName("head")[0]||document.body).appendChild(u)}var n=0,s=1,l=2,u=3,c={},d=[],f={},p=[],h=0,m;this.isDone=function(e){return c[e]==l},this.markDone=function(e){c[e]=l},this.add=this.load=function(e,t,r,i){var o=c[e];o==m&&(d.push(e),c[e]=n),t&&(f[e]||(f[e]=[]),f[e].push({success:t,failure:i,scope:r||this}))},this.remove=function(e){delete c[e],delete f[e]},this.loadQueue=function(e,t,n){this.loadScripts(d,e,t,n)},this.loadScripts=function(t,n,r,d){function g(e,t){i(f[t],function(t){a(t[e])&&t[e].call(t.scope)}),f[t]=m}var v,y=[];p.push({success:n,failure:d,scope:r||this}),(v=function(){var n=o(t);t.length=0,i(n,function(t){return c[t]===l?void g("success",t):c[t]===u?void g("failure",t):void(c[t]!==s&&(c[t]=s,h++,e(t,function(){c[t]=l,h--,g("success",t),v()},function(){c[t]=u,h--,y.push(t),g("failure",t),v()})))}),h||(i(p,function(e){0===y.length?a(e.success)&&e.success.call(e.scope):a(e.failure)&&e.failure.call(e.scope,y)}),p.length=0)})()}}var r=e.DOM,i=t.each,o=t.grep,a=function(e){return"function"==typeof e};return n.ScriptLoader=new n,n}),r(N,[E,m],function(e,n){function r(){var e=this;e.items=[],e.urls={},e.lookup={}}var i=n.each;return r.prototype={get:function(e){return this.lookup[e]?this.lookup[e].instance:t},dependencies:function(e){var t;return this.lookup[e]&&(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(t,n){var i=r.language;if(i&&r.languageLoad!==!1){if(n)if(n=","+n+",",n.indexOf(","+i.substr(0,2)+",")!=-1)i=i.substr(0,2);else if(n.indexOf(","+i+",")==-1)return;e.ScriptLoader.add(this.urls[t]+"/langs/"+i+".js")}},add:function(e,t,n){return this.items.push(t),this.lookup[e]={instance:t,dependencies:n},t},remove:function(e){delete this.urls[e],delete this.lookup[e]},createUrl:function(e,t){return"object"==typeof t?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(t,n){var r=this.urls[t];i(n,function(t){e.ScriptLoader.add(r+"/"+t)})},load:function(n,o,a,s,l){function u(){var r=c.dependencies(n);i(r,function(e){var n=c.createUrl(o,e);c.load(n.resource,n,t,t)}),a&&(s?a.call(s):a.call(e))}var c=this,d=o;c.urls[n]||("object"==typeof o&&(d=o.prefix+o.resource+o.suffix),0!==d.indexOf("/")&&d.indexOf("://")==-1&&(d=r.baseURL+"/"+d),c.urls[n]=d.substring(0,d.lastIndexOf("/")),c.lookup[n]?u():e.ScriptLoader.add(d,u,s,l))}},r.PluginManager=new r,r.ThemeManager=new r,r}),r(_,[],function(){function e(e){return function(t){return!!t&&t.nodeType==e}}function t(e){return e=e.toLowerCase().split(" "),function(t){var n,r;if(t&&t.nodeType)for(r=t.nodeName.toLowerCase(),n=0;n<e.length;n++)if(r===e[n])return!0;return!1}}function n(e,t){return t=t.toLowerCase().split(" "),function(n){var r,i;if(s(n))for(r=0;r<t.length;r++)if(i=getComputedStyle(n,null).getPropertyValue(e),i===t[r])return!0;return!1}}function r(e,t){return function(n){return s(n)&&n[e]===t}}function i(e,t){return function(n){return s(n)&&n.getAttribute(e)===t}}function o(e){return s(e)&&e.hasAttribute("data-mce-bogus")}function a(e){return function(t){if(s(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}}var s=e(1);return{isText:e(3),isElement:s,isComment:e(8),isBr:t("br"),isContentEditableTrue:a("true"),isContentEditableFalse:a("false"),matchNodeNames:t,hasPropValue:r,hasAttributeValue:i,matchStyleValues:n,isBogus:o}}),r(S,[],function(){function e(e){return e==n}function t(e){return e.replace(new RegExp(n,"g"),"")}var n="\ufeff";return{isZwsp:e,ZWSP:n,trim:t}}),r(k,[_,S],function(e,t){function n(e){return y(e)&&(e=e.parentNode),v(e)&&e.hasAttribute("data-mce-caret")}function r(e){return y(e)&&t.isZwsp(e.data)}function i(e){return n(e)||r(e)}function o(e){var t=e.parentNode;t&&t.removeChild(e)}function a(e){try{return e.nodeValue}catch(t){return""}}function s(e,t){0===t.length?o(e):e.nodeValue=t}function l(e,n){var r,o,a,s;if(r=e.ownerDocument,a=r.createTextNode(t.ZWSP),s=e.parentNode,n){if(o=e.previousSibling,y(o)){if(i(o))return o;if(h(o))return o.splitText(o.data.length-1)}s.insertBefore(a,e)}else{if(o=e.nextSibling,y(o)){if(i(o))return o;if(p(o))return o.splitText(1),o}e.nextSibling?s.insertBefore(a,e.nextSibling):s.appendChild(a)}return a}function u(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e}function c(e,t,n){var r,i,o;return r=t.ownerDocument,i=r.createElement(e),i.setAttribute("data-mce-caret",n?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(u()),o=t.parentNode,n?o.insertBefore(i,t):t.nextSibling?o.insertBefore(i,t.nextSibling):o.appendChild(i),i}function d(t){return t.firstChild!==t.lastChild||!e.isBr(t.firstChild)}function f(e){if(v(e)&&i(e)&&(d(e)?e.removeAttribute("data-mce-caret"):o(e)),y(e)){var n=t.trim(a(e));s(e,n)}}function p(e){return y(e)&&e.data[0]==t.ZWSP}function h(e){return y(e)&&e.data[e.data.length-1]==t.ZWSP}function m(t){var n=t.getElementsByTagName("br"),r=n[n.length-1];e.isBogus(r)&&r.parentNode.removeChild(r)}function g(e){return e&&e.hasAttribute("data-mce-caret")?(m(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null}var v=e.isElement,y=e.isText;return{isCaretContainer:i,isCaretContainerBlock:n,isCaretContainerInline:r,showCaretContainerBlock:g,insertInline:l,insertBlock:c,hasContent:d,remove:f,startsWithCaretContainer:p,endsWithCaretContainer:h}}),r(T,[m,y,_,b,k],function(e,t,n,r,i){function o(e){return m(e)||g(e)}function a(e,t){var n=e.childNodes;return t--,t>n.length-1?t=n.length-1:t<0&&(t=0),n[t]||e}function s(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}function l(e,t,n){return null!==s(e,t,n)}function u(e){return"_mce_caret"===e.id}function c(e,t){return v(e)&&l(e,t,u)===!1}function d(e){this.walk=function(t,n){function r(e){var t;return t=e[0],3===t.nodeType&&t===l&&u>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===d&&e.length>0&&t===c&&3===t.nodeType&&e.splice(e.length-1,1),e}function i(e,t,n){for(var r=[];e&&e!=n;e=e[t])r.push(e);return r}function o(e,t){do{if(e.parentNode==t)return e;e=e.parentNode}while(e)}function s(e,t,o){var a=o?"nextSibling":"previousSibling";for(g=e,v=g.parentNode;g&&g!=t;g=v)v=g.parentNode,y=i(g==e?g:g[a],a),y.length&&(o||y.reverse(),n(r(y)))}var l=t.startContainer,u=t.startOffset,c=t.endContainer,d=t.endOffset,f,p,m,g,v,y,b;if(b=e.select("td[data-mce-selected],th[data-mce-selected]"),b.length>0)return void h(b,function(e){n([e])});if(1==l.nodeType&&l.hasChildNodes()&&(l=l.childNodes[u]),1==c.nodeType&&c.hasChildNodes()&&(c=a(c,d)),l==c)return n(r([l]));for(f=e.findCommonAncestor(l,c),g=l;g;g=g.parentNode){if(g===c)return s(l,f,!0);if(g===f)break}for(g=c;g;g=g.parentNode){if(g===l)return s(c,f);if(g===f)break}p=o(l,f)||l,m=o(c,f)||c,s(l,p,!0),y=i(p==l?p:p.nextSibling,"nextSibling",m==c?m.nextSibling:m),y.length&&n(r(y)),s(c,m)},this.split=function(e){function t(e,t){return e.splitText(t)}var n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset;return n==i&&3==n.nodeType?r>0&&r<n.nodeValue.length&&(i=t(n,r),n=i.previousSibling,o>r?(o-=r,n=i=t(i,o).previousSibling,o=i.nodeValue.length,r=0):o=0):(3==n.nodeType&&r>0&&r<n.nodeValue.length&&(n=t(n,r),r=0),3==i.nodeType&&o>0&&o<i.nodeValue.length&&(i=t(i,o).previousSibling,o=i.nodeValue.length)),{startContainer:n,startOffset:r,endContainer:i,endOffset:o}},this.normalize=function(n){function r(r){function a(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}function s(n,r){for(var i=new t(n,e.getParent(n.parentNode,e.isBlock)||m);n=i[r?"prev":"next"]();)if("BR"===n.nodeName)return!0}function l(e){for(;e&&e!=m;){if(g(e))return!0;e=e.parentNode}return!1}function u(e,t){return e.previousSibling&&e.previousSibling.nodeName==t}function d(n,r){var a,s,l;if(r=r||f,l=e.getParent(r.parentNode,e.isBlock)||m,n&&"BR"==r.nodeName&&x&&e.isEmpty(l))return f=r.parentNode,p=e.nodeIndex(r),void(i=!0);for(a=new t(r,l);y=a[n?"prev":"next"]();){if("false"===e.getContentEditableParent(y)||c(y,e.getRoot()))return;if(3===y.nodeType&&y.nodeValue.length>0)return f=y,p=n?y.nodeValue.length:0,void(i=!0);if(e.isBlock(y)||b[y.nodeName.toLowerCase()])return;s=y}o&&s&&(f=s,i=!0,p=0)}var f,p,h,m=e.getRoot(),y,b,C,x;if(f=n[(r?"start":"end")+"Container"],p=n[(r?"start":"end")+"Offset"],x=1==f.nodeType&&p===f.childNodes.length,b=e.schema.getNonEmptyElements(),C=r,!v(f)){if(1==f.nodeType&&p>f.childNodes.length-1&&(C=!1),9===f.nodeType&&(f=e.getRoot(),p=0),f===m){if(C&&(y=f.childNodes[p>0?p-1:0])){if(v(y))return;if(b[y.nodeName]||"TABLE"==y.nodeName)return}if(f.hasChildNodes()){if(p=Math.min(!C&&p>0?p-1:p,f.childNodes.length-1),f=f.childNodes[p],p=0,!o&&f===m.lastChild&&"TABLE"===f.nodeName)return;if(l(f)||v(f))return;if(f.hasChildNodes()&&!/TABLE/.test(f.nodeName)){y=f,h=new t(f,m);do{if(g(y)||v(y)){i=!1;break}if(3===y.nodeType&&y.nodeValue.length>0){p=C?0:y.nodeValue.length,f=y,i=!0;break}if(b[y.nodeName.toLowerCase()]&&!a(y)){p=e.nodeIndex(y),f=y.parentNode,"IMG"!=y.nodeName||C||p++,i=!0;break}}while(y=C?h.next():h.prev())}}}o&&(3===f.nodeType&&0===p&&d(!0),1===f.nodeType&&(y=f.childNodes[p],y||(y=f.childNodes[p-1]),!y||"BR"!==y.nodeName||u(y,"A")||s(y)||s(y,!0)||d(!0,y))),C&&!o&&3===f.nodeType&&p===f.nodeValue.length&&d(!1),i&&n["set"+(r?"Start":"End")](f,p)}}var i,o;return o=n.collapsed,r(!0),o||r(),i&&o&&n.collapse(!0),i}}function f(t,n,r){var i,o,a;if(i=r.elementFromPoint(t,n),o=r.body.createTextRange(),i&&"HTML"!=i.tagName||(i=r.body),o.moveToElementText(i),a=e.toArray(o.getClientRects()),a=a.sort(function(e,t){return e=Math.abs(Math.max(e.top-n,e.bottom-n)),t=Math.abs(Math.max(t.top-n,t.bottom-n)),e-t}),a.length>0){n=(a[0].bottom+a[0].top)/2;try{return o.moveToPoint(t,n),o.collapse(!0),o}catch(s){}}return null}function p(e,t){var n=e&&e.parentElement?e.parentElement():null;return g(s(n,t,o))?null:e}var h=e.each,m=n.isContentEditableTrue,g=n.isContentEditableFalse,v=i.isCaretContainer;return d.compareRanges=function(e,t){if(e&&t){if(!e.item&&!e.duplicate)return e.startContainer==t.startContainer&&e.startOffset==t.startOffset;if(e.item&&t.item&&e.item(0)===t.item(0))return!0;if(e.isEqual&&t.isEqual&&t.isEqual(e))return!0}return!1},d.getCaretRangeFromPoint=function(e,t,n){var r,i;if(n.caretPositionFromPoint)i=n.caretPositionFromPoint(e,t),r=n.createRange(),r.setStart(i.offsetNode,i.offset),r.collapse(!0);else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(e,t);else if(n.body.createTextRange){r=n.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch(o){r=f(e,t,n)}return p(r,n.body)}return r},d.getSelectedNode=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset==n+1?t.childNodes[n]:null},d.getNode=function(e,t){return 1==e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},d}),r(R,[T,d,c],function(e,t,n){return function(r){function i(e){var t,n;if(n=r.$(e).parentsUntil(r.getBody()).add(e),n.length===a.length){for(t=n.length;t>=0&&n[t]===a[t];t--);if(t===-1)return a=n,!0}return a=n,!1}var o,a=[];"onselectionchange"in r.getDoc()||r.on("NodeChange Click MouseUp KeyUp Focus",function(t){var n,i;n=r.selection.getRng(),i={startContainer:n.startContainer,startOffset:n.startOffset,endContainer:n.endContainer,endOffset:n.endOffset},"nodechange"!=t.type&&e.compareRanges(i,o)||r.fire("SelectionChange"),o=i}),r.on("contextmenu",function(){r.fire("SelectionChange")}),r.on("SelectionChange",function(){var e=r.selection.getStart(!0);!t.range&&r.selection.isCollapsed()||!i(e)&&r.dom.isChildOf(e,r.getBody())&&r.nodeChanged({selectionChange:!0})}),r.on("MouseUp",function(e){e.isDefaultPrevented()||("IMG"==r.selection.getNode().nodeName?n.setEditorTimeout(r,function(){r.nodeChanged()}):r.nodeChanged())}),this.nodeChanged=function(e){var t=r.selection,n,i,o;r.initialized&&t&&!r.settings.disable_nodechange&&!r.readonly&&(o=r.getBody(),n=t.getStart()||o,n.ownerDocument==r.getDoc()&&r.dom.isChildOf(n,o)||(n=o),"IMG"==n.nodeName&&t.isCollapsed()&&(n=n.parentNode),i=[],r.dom.getParent(n,function(e){return e===o||void i.push(e)}),e=e||{},e.element=n,e.parents=i,r.fire("NodeChange",e))}}}),r(A,[],function(){function e(e,t,n){var r,i,o=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[o])return e[o];if(e!==t){if(r=e[a])return r;for(i=e.parent;i&&i!==t;i=i.parent)if(r=i[a])return r}}function t(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}var n=/^[ \t\r\n]*$/,r={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return t.prototype={replace:function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},attr:function(e,t){var n=this,r,i,o;if("string"!=typeof e){for(i in e)n.attr(i,e[i]);return n}if(r=n.attributes){if(t!==o){if(null===t){if(e in r.map)for(delete r.map[e],i=r.length;i--;)if(r[i].name===e)return r=r.splice(i,1),n;return n}if(e in r.map){for(i=r.length;i--;)if(r[i].name===e){r[i].value=t;break}}else r.push({name:e,value:t});return r.map[e]=t,n}return r.map[e]}},clone:function(){var e=this,n=new t(e.name,e.type),r,i,o,a,s;if(o=e.attributes){for(s=[],s.map={},r=0,i=o.length;r<i;r++)a=o[r],"id"!==a.name&&(s[s.length]={name:a.name,value:a.value},s.map[a.name]=a.value);n.attributes=s}return n.value=e.value,n.shortEnded=e.shortEnded,n},wrap:function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},unwrap:function(){var e=this,t,n;for(t=e.firstChild;t;)n=t.next,e.insert(t,e,!0),t=n;e.remove()},remove:function(){var e=this,t=e.parent,n=e.next,r=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):r.next=n,t.lastChild===e?(t.lastChild=r,r&&(r.next=null)):n.prev=r,e.parent=e.next=e.prev=null),e},append:function(e){var t=this,n;return e.parent&&e.remove(),n=t.lastChild,n?(n.next=e,e.prev=n,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e},insert:function(e,t,n){var r;return e.parent&&e.remove(),r=t.parent||this,n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=r,e},getAll:function(t){var n=this,r,i=[];for(r=n.firstChild;r;r=e(r,n))r.name===t&&i.push(r);return i},empty:function(){var t=this,n,r,i;if(t.firstChild){for(n=[],i=t.firstChild;i;i=e(i,t))n.push(i);for(r=n.length;r--;)i=n[r],i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}return t.firstChild=t.lastChild=null,t},isEmpty:function(t,r){var i=this,o=i.firstChild,a,s;if(r=r||{},o)do{if(1===o.type){if(o.attributes.map["data-mce-bogus"])continue;if(t[o.name])return!1;for(a=o.attributes.length;a--;)if(s=o.attributes[a].name,"name"===s||0===s.indexOf("data-mce-bookmark"))return!1}if(8===o.type)return!1;if(3===o.type&&!n.test(o.value))return!1;if(3===o.type&&o.parent&&r[o.parent.name]&&n.test(o.value))return!1}while(o=e(o,i));return!0},walk:function(t){return e(this,null,t)}},t.create=function(e,n){var i,o;if(i=new t(e,r[e]||1),n)for(o in n)i.attr(o,n[o]);return i},t}),r(B,[m],function(e){function t(t,n){return t=e.trim(t),t?t.split(n||" "):[]}function n(e){function n(e,n,r){function i(e,t){var n={},r,i;for(r=0,i=e.length;r<i;r++)n[e[r]]=t||{};return n}var s,u,c;for(r=r||[],n=n||"","string"==typeof r&&(r=t(r)),e=t(e),s=e.length;s--;)u=t([l,n].join(" ")),c={attributes:i(u),attributesOrder:u,children:i(r,o)},a[e[s]]=c}function r(e,n){var r,i,o,s;for(e=t(e),r=e.length,n=t(n);r--;)for(i=a[e[r]],o=0,s=n.length;o<s;o++)i.attributes[n[o]]={},i.attributesOrder.push(n[o])}var a={},l,u,c,d,f,p;return i[e]?i[e]:(l="id accesskey class dir lang style tabindex title",u="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",c="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!=e&&(l+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",u+=" article aside details dialog figure header footer hgroup section nav",c+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!=e&&(l+=" xml:lang",p="acronym applet basefont big font strike tt",c=[c,p].join(" "),s(t(p),function(e){n(e,"",c)}),f="center dir isindex noframes",u=[u,f].join(" "),d=[u,c].join(" "),s(t(f),function(e){n(e,"",d)})),d=d||[u,c].join(" "),n("html","manifest","head body"),n("head","","base command link meta noscript script style title"),n("title hr noscript br"),n("base","href target"),n("link","href rel media hreflang type sizes hreflang"),n("meta","name http-equiv content charset"),n("style","media type scoped"),n("script","src async defer type charset"),n("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",d),n("address dt dd div caption","",d),n("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",c),n("blockquote","cite",d),n("ol","reversed start type","li"),n("ul","","li"),n("li","value",d),n("dl","","dt dd"),n("a","href target rel media hreflang type",c),n("q","cite",c),n("ins del","cite datetime",d),n("img","src sizes srcset alt usemap ismap width height"),n("iframe","src name width height",d),n("embed","src type width height"),n("object","data type typemustmatch name usemap form width height",[d,"param"].join(" ")),n("param","name value"),n("map","name",[d,"area"].join(" ")),n("area","alt coords shape href target rel media hreflang type"),n("table","border","caption colgroup thead tfoot tbody tr"+("html4"==e?" col":"")),n("colgroup","span","col"),n("col","span"),n("tbody thead tfoot","","tr"),n("tr","","td th"),n("td","colspan rowspan headers",d),n("th","colspan rowspan headers scope abbr",d),n("form","accept-charset action autocomplete enctype method name novalidate target",d),n("fieldset","disabled form name",[d,"legend"].join(" ")),n("label","form for",c),n("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),n("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==e?d:c),n("select","disabled form multiple name required size","option optgroup"),n("optgroup","disabled label","option"),n("option","disabled label selected value"),n("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),n("menu","type label",[d,"li"].join(" ")),n("noscript","",d),"html4"!=e&&(n("wbr"),n("ruby","",[c,"rt rp"].join(" ")),n("figcaption","",d),n("mark rt rp summary bdi","",c),n("canvas","width height",d),n("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[d,"track source"].join(" ")),n("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[d,"track source"].join(" ")),n("picture","","img source"),n("source","src srcset type media sizes"),n("track","kind src srclang label default"),n("datalist","",[c,"option"].join(" ")),n("article section nav aside header footer","",d),n("hgroup","","h1 h2 h3 h4 h5 h6"),n("figure","",[d,"figcaption"].join(" ")),n("time","datetime",c),n("dialog","open",d),n("command","type label icon disabled checked radiogroup command"),n("output","for form name",c),n("progress","value max",c),n("meter","value min max low high optimum",c),n("details","open",[d,"summary"].join(" ")),n("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=e&&(r("script","language xml:space"),r("style","xml:space"),r("object","declare classid code codebase codetype archive standby align border hspace vspace"),r("embed","align name hspace vspace"),r("param","valuetype type"),r("a","charset name rev shape coords"),r("br","clear"),r("applet","codebase archive code object alt name width height align hspace vspace"),r("img","name longdesc align border hspace vspace"),r("iframe","longdesc frameborder marginwidth marginheight scrolling align"),r("font basefont","size color face"),r("input","usemap align"),r("select","onchange"),r("textarea"),r("h1 h2 h3 h4 h5 h6 div p legend caption","align"),r("ul","type compact"),r("li","type"),r("ol dl menu dir","compact"),r("pre","width xml:space"),r("hr","align noshade size width"),r("isindex","prompt"),r("table","summary width frame rules cellspacing cellpadding align bgcolor"),r("col","width align char charoff valign"),r("colgroup","width align char charoff valign"),r("thead","align char charoff valign"),r("tr","align char charoff valign bgcolor"),r("th","axis align char charoff valign nowrap bgcolor width height"),r("form","accept"),r("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),r("tfoot","align char charoff valign"),r("tbody","align char charoff valign"),r("area","nohref"),r("body","background bgcolor text link vlink alink")),"html4"!=e&&(r("input button select textarea","autofocus"),r("input textarea","placeholder"),r("a","download"),
r("link script img","crossorigin"),r("iframe","sandbox seamless allowfullscreen")),s(t("a form meter progress dfn"),function(e){a[e]&&delete a[e].children[e]}),delete a.caption.children.table,delete a.script,i[e]=a,a)}function r(e,t){var n;return e&&(n={},"string"==typeof e&&(e={"*":e}),s(e,function(e,r){n[r]=n[r.toUpperCase()]="map"==t?a(e,/[, ]/):u(e,/[, ]/)})),n}var i={},o={},a=e.makeMap,s=e.each,l=e.extend,u=e.explode,c=e.inArray;return function(e){function o(t,n,r){var o=e[t];return o?o=a(o,/[, ]/,a(o.toUpperCase(),/[, ]/)):(o=i[t],o||(o=a(n," ",a(n.toUpperCase()," ")),o=l(o,r),i[t]=o)),o}function d(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}function f(e){var n,r,i,o,s,l,u,f,p,h,m,g,v,b,x,w,E,N,_,S=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,k=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,T=/[*?+]/;if(e)for(e=t(e,","),y["@"]&&(w=y["@"].attributes,E=y["@"].attributesOrder),n=0,r=e.length;n<r;n++)if(s=S.exec(e[n])){if(b=s[1],p=s[2],x=s[3],f=s[5],g={},v=[],l={attributes:g,attributesOrder:v},"#"===b&&(l.paddEmpty=!0),"-"===b&&(l.removeEmpty=!0),"!"===s[4]&&(l.removeEmptyAttrs=!0),w){for(N in w)g[N]=w[N];v.push.apply(v,E)}if(f)for(f=t(f,"|"),i=0,o=f.length;i<o;i++)if(s=k.exec(f[i])){if(u={},m=s[1],h=s[2].replace(/::/g,":"),b=s[3],_=s[4],"!"===m&&(l.attributesRequired=l.attributesRequired||[],l.attributesRequired.push(h),u.required=!0),"-"===m){delete g[h],v.splice(c(v,h),1);continue}b&&("="===b&&(l.attributesDefault=l.attributesDefault||[],l.attributesDefault.push({name:h,value:_}),u.defaultValue=_),":"===b&&(l.attributesForced=l.attributesForced||[],l.attributesForced.push({name:h,value:_}),u.forcedValue=_),"<"===b&&(u.validValues=a(_,"?"))),T.test(h)?(l.attributePatterns=l.attributePatterns||[],u.pattern=d(h),l.attributePatterns.push(u)):(g[h]||v.push(h),g[h]=u)}w||"@"!=p||(w=g,E=v),x&&(l.outputName=p,y[x]=l),T.test(p)?(l.pattern=d(p),C.push(l)):y[p]=l}}function p(e){y={},C=[],f(e),s(E,function(e,t){b[t]=e.children})}function h(e){var n=/^(~)?(.+)$/;e&&(i.text_block_elements=i.block_elements=null,s(t(e,","),function(e){var t=n.exec(e),r="~"===t[1],i=r?"span":"div",o=t[2];if(b[o]=b[i],M[o]=i,r||(R[o.toUpperCase()]={},R[o]={}),!y[o]){var a=y[i];a=l({},a),delete a.removeEmptyAttrs,delete a.removeEmpty,y[o]=a}s(b,function(e,t){e[i]&&(b[t]=e=l({},b[t]),e[o]=e[i])})}))}function m(n){var r=/^([+\-]?)(\w+)\[([^\]]+)\]$/;i[e.schema]=null,n&&s(t(n,","),function(e){var n=r.exec(e),i,o;n&&(o=n[1],i=o?b[n[2]]:b[n[2]]={"#comment":{}},i=b[n[2]],s(t(n[3],"|"),function(e){"-"===o?delete i[e]:i[e]={}}))})}function g(e){var t=y[e],n;if(t)return t;for(n=C.length;n--;)if(t=C[n],t.pattern.test(e))return t}var v=this,y={},b={},C=[],x,w,E,N,_,S,k,T,R,A,B,D,L,M={},P={};e=e||{},E=n(e.schema),e.verify_html===!1&&(e.valid_elements="*[*]"),x=r(e.valid_styles),w=r(e.invalid_styles,"map"),T=r(e.valid_classes,"map"),N=o("whitespace_elements","pre script noscript style textarea video audio iframe object code"),_=o("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),S=o("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),k=o("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),A=o("non_empty_elements","td th iframe video audio object script pre code",S),B=o("move_caret_before_on_enter_elements","table",A),D=o("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),R=o("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",D),L=o("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),s((e.special||"script noscript style textarea").split(" "),function(e){P[e]=new RegExp("</"+e+"[^>]*>","gi")}),e.valid_elements?p(e.valid_elements):(s(E,function(e,t){y[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},b[t]=e.children}),"html5"!=e.schema&&s(t("strong/b em/i"),function(e){e=t(e,"/"),y[e[1]].outputName=e[0]}),s(t("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){y[e]&&(y[e].removeEmpty=!0)}),s(t("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(e){y[e].paddEmpty=!0}),s(t("span"),function(e){y[e].removeEmptyAttrs=!0})),h(e.custom_elements),m(e.valid_children),f(e.extended_valid_elements),m("+ol[ul|ol],+ul[ul|ol]"),s({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(e,n){y[n]&&(y[n].parentsRequired=t(e))}),e.invalid_elements&&s(u(e.invalid_elements),function(e){y[e]&&delete y[e]}),g("span")||f("span[!data-mce-type|*]"),v.children=b,v.getValidStyles=function(){return x},v.getInvalidStyles=function(){return w},v.getValidClasses=function(){return T},v.getBoolAttrs=function(){return k},v.getBlockElements=function(){return R},v.getTextBlockElements=function(){return D},v.getTextInlineElements=function(){return L},v.getShortEndedElements=function(){return S},v.getSelfClosingElements=function(){return _},v.getNonEmptyElements=function(){return A},v.getMoveCaretBeforeOnEnterElements=function(){return B},v.getWhiteSpaceElements=function(){return N},v.getSpecialElements=function(){return P},v.isValidChild=function(e,t){var n=b[e];return!(!n||!n[t])},v.isValid=function(e,t){var n,r,i=g(e);if(i){if(!t)return!0;if(i.attributes[t])return!0;if(n=i.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},v.getElementRule=g,v.getCustomElements=function(){return M},v.addValidElements=f,v.setValidElements=p,v.addCustomElements=h,v.addValidChildren=m,v.elements=y}}),r(D,[B,C,m],function(e,t,n){function r(e,t,n){var r=1,i,o,a,s;for(s=e.getShortEndedElements(),a=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g,a.lastIndex=i=n;o=a.exec(t);){if(i=a.lastIndex,"/"===o[1])r--;else if(!o[1]){if(o[2]in s)continue;r++}if(0===r)break}return i}function i(i,a){function s(){}var l=this;i=i||{},l.schema=a=a||new e,i.fix_self_closing!==!1&&(i.fix_self_closing=!0),o("comment cdata text start end pi doctype".split(" "),function(e){e&&(l[e]=i[e]||s)}),l.parse=function(e){function o(e){var t,n;for(t=p.length;t--&&p[t].name!==e;);if(t>=0){for(n=p.length-1;n>=t;n--)e=p[n],e.valid&&l.end(e.name);p.length=t}}function s(e,t,n,r,o){var a,s,l=/[\s\u0000-\u001F]+/g;if(t=t.toLowerCase(),n=t in x?t:z(n||r||o||""),E&&!y&&0!==t.indexOf("data-")){if(a=T[t],!a&&R){for(s=R.length;s--&&(a=R[s],!a.pattern.test(t)););s===-1&&(a=null)}if(!a)return;if(a.validValues&&!(n in a.validValues))return}if(W[t]&&!i.allow_script_urls){var u=n.replace(l,"");try{u=decodeURIComponent(u)}catch(c){u=unescape(u)}if(V.test(u))return;if(!i.allow_html_data_urls&&$.test(u)&&!/^data:image\//i.test(u))return}h.map[t]=n,h.push({name:t,value:n})}var l=this,u,c=0,d,f,p=[],h,m,g,v,y,b,C,x,w,E,N,_,S,k,T,R,A,B,D,L,M,P,O,H,I,F=0,z=t.decode,U,W=n.makeMap("src,href,data,background,formaction,poster"),V=/((java|vb)script|mhtml):/i,$=/^data:/i;for(P=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),O=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,C=a.getShortEndedElements(),M=i.self_closing_elements||a.getSelfClosingElements(),x=a.getBoolAttrs(),E=i.validate,b=i.remove_internals,U=i.fix_self_closing,H=a.getSpecialElements();u=P.exec(e);){if(c<u.index&&l.text(z(e.substr(c,u.index-c))),d=u[6])d=d.toLowerCase(),":"===d.charAt(0)&&(d=d.substr(1)),o(d);else if(d=u[7]){if(d=d.toLowerCase(),":"===d.charAt(0)&&(d=d.substr(1)),w=d in C,U&&M[d]&&p.length>0&&p[p.length-1].name===d&&o(d),!E||(N=a.getElementRule(d))){if(_=!0,E&&(T=N.attributes,R=N.attributePatterns),(k=u[8])?(y=k.indexOf("data-mce-type")!==-1,y&&b&&(_=!1),h=[],h.map={},k.replace(O,s)):(h=[],h.map={}),E&&!y){if(A=N.attributesRequired,B=N.attributesDefault,D=N.attributesForced,L=N.removeEmptyAttrs,L&&!h.length&&(_=!1),D)for(m=D.length;m--;)S=D[m],v=S.name,I=S.value,"{$uid}"===I&&(I="mce_"+F++),h.map[v]=I,h.push({name:v,value:I});if(B)for(m=B.length;m--;)S=B[m],v=S.name,v in h.map||(I=S.value,"{$uid}"===I&&(I="mce_"+F++),h.map[v]=I,h.push({name:v,value:I}));if(A){for(m=A.length;m--&&!(A[m]in h.map););m===-1&&(_=!1)}if(S=h.map["data-mce-bogus"]){if("all"===S){c=r(a,e,P.lastIndex),P.lastIndex=c;continue}_=!1}}_&&l.start(d,h,w)}else _=!1;if(f=H[d]){f.lastIndex=c=u.index+u[0].length,(u=f.exec(e))?(_&&(g=e.substr(c,u.index-c)),c=u.index+u[0].length):(g=e.substr(c),c=e.length),_&&(g.length>0&&l.text(g,!0),l.end(d)),P.lastIndex=c;continue}w||(k&&k.indexOf("/")==k.length-1?_&&l.end(d):p.push({name:d,valid:_}))}else(d=u[1])?(">"===d.charAt(0)&&(d=" "+d),i.allow_conditional_comments||"[if"!==d.substr(0,3).toLowerCase()||(d=" "+d),l.comment(d)):(d=u[2])?l.cdata(d):(d=u[3])?l.doctype(d):(d=u[4])&&l.pi(d,u[5]);c=u.index+u[0].length}for(c<e.length&&l.text(z(e.substr(c))),m=p.length-1;m>=0;m--)d=p[m],d.valid&&l.end(d.name)}}var o=n.each;return i.findEndTag=r,i}),r(L,[A,B,D,m],function(e,t,n,r){var i=r.makeMap,o=r.each,a=r.explode,s=r.extend,l=function(t,n){t.padd_empty_with_br?n.empty().append(new e("br","1")).shortEnded=!0:n.empty().append(new e("#text","3")).value="\xa0"},u=function(e,t){return e&&e.firstChild===e.lastChild&&e.firstChild.name===t};return function(c,d){function f(t){var n,r,o,a,s,l,c,f,h,m,g,v,y,b,C,x;for(v=i("tr,td,th,tbody,thead,tfoot,table"),m=d.getNonEmptyElements(),g=d.getWhiteSpaceElements(),y=d.getTextBlockElements(),b=d.getSpecialElements(),n=0;n<t.length;n++)if(r=t[n],r.parent&&!r.fixed)if(y[r.name]&&"li"==r.parent.name){for(C=r.next;C&&y[C.name];)C.name="li",C.fixed=!0,r.parent.insert(C,r.parent),C=C.next;r.unwrap(r)}else{for(a=[r],o=r.parent;o&&!d.isValidChild(o.name,r.name)&&!v[o.name];o=o.parent)a.push(o);if(o&&a.length>1){for(a.reverse(),s=l=p.filterNode(a[0].clone()),h=0;h<a.length-1;h++){for(d.isValidChild(l.name,a[h].name)?(c=p.filterNode(a[h].clone()),l.append(c)):c=l,f=a[h].firstChild;f&&f!=a[h+1];)x=f.next,c.append(f),f=x;l=c}s.isEmpty(m,g)?o.insert(r,a[0],!0):(o.insert(s,a[0],!0),o.insert(r,s)),o=a[0],(o.isEmpty(m,g)||u(o,"br"))&&o.empty().remove()}else if(r.parent){if("li"===r.name){if(C=r.prev,C&&("ul"===C.name||"ul"===C.name)){C.append(r);continue}if(C=r.next,C&&("ul"===C.name||"ul"===C.name)){C.insert(r,C.firstChild,!0);continue}r.wrap(p.filterNode(new e("ul",1)));continue}d.isValidChild(r.parent.name,"div")&&d.isValidChild("div",r.name)?r.wrap(p.filterNode(new e("div",1))):b[r.name]?r.empty().remove():r.unwrap()}}}var p=this,h={},m=[],g={},v={};c=c||{},c.validate=!("validate"in c)||c.validate,c.root_name=c.root_name||"body",p.schema=d=d||new t,p.filterNode=function(e){var t,n,r;n in h&&(r=g[n],r?r.push(e):g[n]=[e]),t=m.length;for(;t--;)n=m[t].name,n in e.attributes.map&&(r=v[n],r?r.push(e):v[n]=[e]);return e},p.addNodeFilter=function(e,t){o(a(e),function(e){var n=h[e];n||(h[e]=n=[]),n.push(t)})},p.addAttributeFilter=function(e,t){o(a(e),function(e){var n;for(n=0;n<m.length;n++)if(m[n].name===e)return void m[n].callbacks.push(t);m.push({name:e,callbacks:[t]})})},p.parse=function(t,r){function o(){function e(e){e&&(t=e.firstChild,t&&3==t.type&&(t.value=t.value.replace(A,"")),t=e.lastChild,t&&3==t.type&&(t.value=t.value.replace(L,"")))}var t=b.firstChild,n,r;if(d.isValidChild(b.name,F.toLowerCase())){for(;t;)n=t.next,3==t.type||1==t.type&&"p"!==t.name&&!R[t.name]&&!t.attr("data-mce-type")?r?r.append(t):(r=a(F,1),r.attr(c.forced_root_block_attrs),b.insert(r,t),r.append(t)):(e(r),r=null),t=n;e(r)}}function a(t,n){var r=new e(t,n),i;return t in h&&(i=g[t],i?i.push(r):g[t]=[r]),r}function u(e){var t,n,r,i,o=d.getBlockElements();for(t=e.prev;t&&3===t.type;){if(r=t.value.replace(L,""),r.length>0)return void(t.value=r);if(n=t.next){if(3==n.type&&n.value.length){t=t.prev;continue}if(!o[n.name]&&"script"!=n.name&&"style"!=n.name){t=t.prev;continue}}i=t.prev,t.remove(),t=i}}function p(e){var t,n={};for(t in e)"li"!==t&&"p"!=t&&(n[t]=e[t]);return n}var y,b,C,x,w,E,N,_,S,k,T,R,A,B=[],D,L,M,P,O,H,I,F;if(r=r||{},g={},v={},R=s(i("script,style,head,html,body,title,meta,param"),d.getBlockElements()),I=d.getNonEmptyElements(),H=d.children,T=c.validate,F="forced_root_block"in r?r.forced_root_block:c.forced_root_block,O=d.getWhiteSpaceElements(),A=/^[ \t\r\n]+/,L=/[ \t\r\n]+$/,M=/[ \t\r\n]+/g,P=/^[ \t\r\n]+$/,y=new n({validate:T,allow_script_urls:c.allow_script_urls,allow_conditional_comments:c.allow_conditional_comments,self_closing_elements:p(d.getSelfClosingElements()),cdata:function(e){C.append(a("#cdata",4)).value=e},text:function(e,t){var n;D||(e=e.replace(M," "),C.lastChild&&R[C.lastChild.name]&&(e=e.replace(A,""))),0!==e.length&&(n=a("#text",3),n.raw=!!t,C.append(n).value=e)},comment:function(e){C.append(a("#comment",8)).value=e},pi:function(e,t){C.append(a(e,7)).value=t,u(C)},doctype:function(e){var t;t=C.append(a("#doctype",10)),t.value=e,u(C)},start:function(e,t,n){var r,i,o,s,l;if(o=T?d.getElementRule(e):{}){for(r=a(o.outputName||e,1),r.attributes=t,r.shortEnded=n,C.append(r),l=H[C.name],l&&H[r.name]&&!l[r.name]&&B.push(r),i=m.length;i--;)s=m[i].name,s in t.map&&(S=v[s],S?S.push(r):v[s]=[r]);R[e]&&u(r),n||(C=r),!D&&O[e]&&(D=!0)}},end:function(e){var t,n,r,i,o;if(n=T?d.getElementRule(e):{}){if(R[e]&&!D){if(t=C.firstChild,t&&3===t.type)if(r=t.value.replace(A,""),r.length>0)t.value=r,t=t.next;else for(i=t.next,t.remove(),t=i;t&&3===t.type;)r=t.value,i=t.next,(0===r.length||P.test(r))&&(t.remove(),t=i),t=i;if(t=C.lastChild,t&&3===t.type)if(r=t.value.replace(L,""),r.length>0)t.value=r,t=t.prev;else for(i=t.prev,t.remove(),t=i;t&&3===t.type;)r=t.value,i=t.prev,(0===r.length||P.test(r))&&(t.remove(),t=i),t=i}if(D&&O[e]&&(D=!1),(n.removeEmpty||n.paddEmpty)&&C.isEmpty(I,O))if(n.paddEmpty)l(c,C);else if(!C.attributes.map.name&&!C.attributes.map.id)return o=C.parent,R[C.name]?C.empty().remove():C.unwrap(),void(C=o);C=C.parent}}},d),b=C=new e(r.context||c.root_name,11),y.parse(t),T&&B.length&&(r.context?r.invalid=!0:f(B)),F&&("body"==b.name||r.isRootContent)&&o(),!r.invalid){for(k in g){for(S=h[k],x=g[k],N=x.length;N--;)x[N].parent||x.splice(N,1);for(w=0,E=S.length;w<E;w++)S[w](x,k,r)}for(w=0,E=m.length;w<E;w++)if(S=m[w],S.name in v){for(x=v[S.name],N=x.length;N--;)x[N].parent||x.splice(N,1);for(N=0,_=S.callbacks.length;N<_;N++)S.callbacks[N](x,S.name,r)}}return b},c.remove_trailing_brs&&p.addNodeFilter("br",function(t){var n,r=t.length,i,o=s({},d.getBlockElements()),a=d.getNonEmptyElements(),u,f,p,h,m=d.getNonEmptyElements(),g,v;for(o.body=1,n=0;n<r;n++)if(i=t[n],u=i.parent,o[i.parent.name]&&i===u.lastChild){for(p=i.prev;p;){if(h=p.name,"span"!==h||"bookmark"!==p.attr("data-mce-type")){if("br"!==h)break;if("br"===h){i=null;break}}p=p.prev}i&&(i.remove(),u.isEmpty(a,m)&&(g=d.getElementRule(u.name),g&&(g.removeEmpty?u.remove():g.paddEmpty&&l(c,u))))}else{for(f=i;u&&u.firstChild===f&&u.lastChild===f&&(f=u,!o[u.name]);)u=u.parent;f===u&&c.padd_empty_with_br!==!0&&(v=new e("#text",3),v.value="\xa0",i.replace(v))}}),c.allow_unsafe_link_target||p.addAttributeFilter("href",function(e){function t(e){return e=n(e),e?[e,l].join(" "):l}function n(e){var t=new RegExp("("+l.replace(" ","|")+")","g");return e&&(e=r.trim(e.replace(t,""))),e?e:null}function i(e,r){return r?t(e):n(e)}for(var o=e.length,a,s,l="noopener noreferrer";o--;)a=e[o],s=a.attr("rel"),"a"===a.name&&a.attr("rel",i(s,"_blank"==a.attr("target")))}),c.allow_html_in_named_anchor||p.addAttributeFilter("id,name",function(e){for(var t=e.length,n,r,i,o;t--;)if(o=e[t],"a"===o.name&&o.firstChild&&!o.attr("href")){i=o.parent,n=o.lastChild;do r=n.prev,i.insert(n,o),n=r;while(n)}}),c.fix_list_elements&&p.addNodeFilter("ul,ol",function(t){for(var n=t.length,r,i;n--;)if(r=t[n],i=r.parent,"ul"===i.name||"ol"===i.name)if(r.prev&&"li"===r.prev.name)r.prev.append(r);else{var o=new e("li",1);o.attr("style","list-style-type: none"),r.wrap(o)}}),c.validate&&d.getValidClasses()&&p.addAttributeFilter("class",function(e){for(var t=e.length,n,r,i,o,a,s=d.getValidClasses(),l,u;t--;){for(n=e[t],r=n.attr("class").split(" "),a="",i=0;i<r.length;i++)o=r[i],u=!1,l=s["*"],l&&l[o]&&(u=!0),l=s[n.name],!u&&l&&l[o]&&(u=!0),u&&(a&&(a+=" "),a+=o);a.length||(a=null),n.attr("class",a)}})}}),r(M,[C,m],function(e,t){var n=t.makeMap;return function(t){var r=[],i,o,a,s,l;return t=t||{},i=t.indent,o=n(t.indent_before||""),a=n(t.indent_after||""),s=e.getEncodeFunc(t.entity_encoding||"raw",t.entities),l="html"==t.element_format,{start:function(e,t,n){var u,c,d,f;if(i&&o[e]&&r.length>0&&(f=r[r.length-1],f.length>0&&"\n"!==f&&r.push("\n")),r.push("<",e),t)for(u=0,c=t.length;u<c;u++)d=t[u],r.push(" ",d.name,'="',s(d.value,!0),'"');!n||l?r[r.length]=">":r[r.length]=" />",n&&i&&a[e]&&r.length>0&&(f=r[r.length-1],f.length>0&&"\n"!==f&&r.push("\n"))},end:function(e){var t;r.push("</",e,">"),i&&a[e]&&r.length>0&&(t=r[r.length-1],t.length>0&&"\n"!==t&&r.push("\n"))},text:function(e,t){e.length>0&&(r[r.length]=t?e:s(e))},cdata:function(e){r.push("<![CDATA[",e,"]]>")},comment:function(e){r.push("<!--",e,"-->")},pi:function(e,t){t?r.push("<?",e," ",s(t),"?>"):r.push("<?",e,"?>"),i&&r.push("\n")},doctype:function(e){r.push("<!DOCTYPE",e,">",i?"\n":"")},reset:function(){r.length=0},getContent:function(){return r.join("").replace(/\n$/,"")}}}}),r(P,[M,B],function(e,t){return function(n,r){var i=this,o=new e(n);n=n||{},n.validate=!("validate"in n)||n.validate,i.schema=r=r||new t,i.writer=o,i.serialize=function(e){function t(e){var n=i[e.type],s,l,u,c,d,f,p,h,m;if(n)n(e);else{if(s=e.name,l=e.shortEnded,u=e.attributes,a&&u&&u.length>1&&(f=[],f.map={},m=r.getElementRule(e.name))){for(p=0,h=m.attributesOrder.length;p<h;p++)c=m.attributesOrder[p],c in u.map&&(d=u.map[c],f.map[c]=d,f.push({name:c,value:d}));for(p=0,h=u.length;p<h;p++)c=u[p].name,c in f.map||(d=u.map[c],f.map[c]=d,f.push({name:c,value:d}));u=f}if(o.start(e.name,u,l),!l){if(e=e.firstChild)do t(e);while(e=e.next);o.end(s)}}}var i,a;return a=n.validate,i={3:function(e){o.text(e.value,e.raw)},8:function(e){o.comment(e.value)},7:function(e){o.pi(e.name,e.value)},10:function(e){o.doctype(e.value)},4:function(e){o.cdata(e.value)},11:function(e){if(e=e.firstChild)do t(e);while(e=e.next)}},o.reset(),1!=e.type||n.inner?i[11](e):t(e),o.getContent()}}}),r(O,[w,L,D,C,P,A,B,d,m,S],function(e,t,n,r,i,o,a,s,l,u){function c(e){function t(e){return e&&"br"===e.name}var n,r;n=e.lastChild,t(n)&&(r=n.prev,t(r)&&(n.remove(),r.remove()))}var d=l.each,f=l.trim,p=e.DOM;return function(e,o){function h(e){var t=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>","\\s?("+x.join("|")+')="[^"]+"'].join("|"),"gi");return e=u.trim(e.replace(t,""))}function m(e){var t=e,r=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,i,a,s,l,u,c=o.schema;for(t=h(t),u=c.getShortEndedElements();l=r.exec(t);)a=r.lastIndex,s=l[0].length,i=u[l[1]]?a:n.findEndTag(c,t,a),t=t.substring(0,a-s)+t.substring(i),r.lastIndex=a-s;return t}function g(){return m(o.getBody().innerHTML)}function v(e){l.inArray(x,e)===-1&&(C.addAttributeFilter(e,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),x.push(e))}var y,b,C,x=["data-mce-selected"];return o&&(y=o.dom,b=o.schema),y=y||p,b=b||new a(e),e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs,C=new t(e,b),C.addAttributeFilter("data-mce-tabindex",function(e,t){for(var n=e.length,r;n--;)r=e[n],r.attr("tabindex",r.attributes.map["data-mce-tabindex"]),r.attr(t,null)}),C.addAttributeFilter("src,href,style",function(t,n){for(var r=t.length,i,o,a="data-mce-"+n,s=e.url_converter,l=e.url_converter_scope,u;r--;)i=t[r],o=i.attributes.map[a],o!==u?(i.attr(n,o.length>0?o:null),i.attr(a,null)):(o=i.attributes.map[n],"style"===n?o=y.serializeStyle(y.parseStyle(o),i.name):s&&(o=s.call(l,o,n,i.name)),i.attr(n,o.length>0?o:null))}),C.addAttributeFilter("class",function(e){for(var t=e.length,n,r;t--;)n=e[t],r=n.attr("class"),r&&(r=n.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),n.attr("class",r.length>0?r:null))}),C.addAttributeFilter("data-mce-type",function(e,t,n){for(var r=e.length,i;r--;)i=e[r],"bookmark"!==i.attributes.map["data-mce-type"]||n.cleanup||i.remove()}),C.addNodeFilter("noscript",function(e){for(var t=e.length,n;t--;)n=e[t].firstChild,n&&(n.value=r.decode(n.value))}),C.addNodeFilter("script,style",function(e,t){function n(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var r=e.length,i,o,a;r--;)i=e[r],o=i.firstChild?i.firstChild.value:"","script"===t?(a=i.attr("type"),a&&i.attr("type","mce-no/type"==a?null:a.replace(/^mce\-/,"")),o.length>0&&(i.firstChild.value="// <![CDATA[\n"+n(o)+"\n// ]]>")):o.length>0&&(i.firstChild.value="<!--\n"+n(o)+"\n-->")}),C.addNodeFilter("#comment",function(e){for(var t=e.length,n;t--;)n=e[t],0===n.value.indexOf("[CDATA[")?(n.name="#cdata",n.type=4,n.value=n.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===n.value.indexOf("mce:protected ")&&(n.name="#text",n.type=3,n.raw=!0,n.value=unescape(n.value).substr(14))}),C.addNodeFilter("xml:namespace,input",function(e,t){for(var n=e.length,r;n--;)r=e[n],7===r.type?r.remove():1===r.type&&("input"!==t||"type"in r.attributes.map||r.attr("type","text"))}),C.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),{schema:b,addNodeFilter:C.addNodeFilter,addAttributeFilter:C.addAttributeFilter,serialize:function(t,n){var r=this,o,a,l,p,h,m;return s.ie&&y.select("script,style,select,map").length>0?(h=t.innerHTML,t=t.cloneNode(!1),y.setHTML(t,h)):t=t.cloneNode(!0),o=document.implementation,o.createHTMLDocument&&(a=o.createHTMLDocument(""),d("BODY"==t.nodeName?t.childNodes:[t],function(e){a.body.appendChild(a.importNode(e,!0))}),t="BODY"!=t.nodeName?a.body.firstChild:a.body,l=y.doc,y.doc=a),n=n||{},n.format=n.format||"html",n.selection&&(n.forced_root_block=""),n.no_events||(n.node=t,r.onPreProcess(n)),m=C.parse(f(n.getInner?t.innerHTML:y.getOuterHTML(t)),n),c(m),p=new i(e,b),n.content=p.serialize(m),n.cleanup||(n.content=u.trim(n.content),n.content=n.content.replace(/\uFEFF/g,"")),n.no_events||r.onPostProcess(n),l&&(y.doc=l),n.node=null,n.content},addRules:function(e){b.addValidElements(e)},setRules:function(e){b.setValidElements(e)},onPreProcess:function(e){o&&o.fire("PreProcess",e)},onPostProcess:function(e){o&&o.fire("PostProcess",e)},addTempAttr:v,trimHtml:h,getTrimmedContent:g,trimContent:m}}}),r(H,[],function(){function e(e){function t(t,n){var r,i=0,o,a,s,l,u,c,d=-1,f;if(r=t.duplicate(),r.collapse(n),f=r.parentElement(),f.ownerDocument===e.dom.doc){for(;"false"===f.contentEditable;)f=f.parentNode;if(!f.hasChildNodes())return{node:f,inside:1};for(s=f.children,o=s.length-1;i<=o;)if(c=Math.floor((i+o)/2),l=s[c],r.moveToElementText(l),d=r.compareEndPoints(n?"StartToStart":"EndToEnd",t),d>0)o=c-1;else{if(!(d<0))return{node:l};i=c+1}if(d<0)for(l?r.collapse(!1):(r.moveToElementText(f),r.collapse(!0),l=f,a=!0),u=0;0!==r.compareEndPoints(n?"StartToStart":"StartToEnd",t)&&0!==r.move("character",1)&&f==r.parentElement();)u++;else for(r.collapse(!0),u=0;0!==r.compareEndPoints(n?"StartToStart":"StartToEnd",t)&&0!==r.move("character",-1)&&f==r.parentElement();)u++;return{node:l,position:d,offset:u,inside:a}}}function n(){function n(e){var n=t(o,e),r,i,s=0,l,u,c;if(r=n.node,i=n.offset,n.inside&&!r.hasChildNodes())return void a[e?"setStart":"setEnd"](r,0);if(i===u)return void a[e?"setStartBefore":"setEndAfter"](r);if(n.position<0){if(l=n.inside?r.firstChild:r.nextSibling,!l)return void a[e?"setStartAfter":"setEndAfter"](r);if(!i)return void(3==l.nodeType?a[e?"setStart":"setEnd"](l,0):a[e?"setStartBefore":"setEndBefore"](l));for(;l;){if(3==l.nodeType&&(c=l.nodeValue,s+=c.length,s>=i)){r=l,s-=i,s=c.length-s;break}l=l.nextSibling}}else{if(l=r.previousSibling,!l)return a[e?"setStartBefore":"setEndBefore"](r);if(!i)return void(3==r.nodeType?a[e?"setStart":"setEnd"](l,r.nodeValue.length):a[e?"setStartAfter":"setEndAfter"](l));for(;l;){if(3==l.nodeType&&(s+=l.nodeValue.length,s>=i)){r=l,s-=i;break}l=l.previousSibling}}a[e?"setStart":"setEnd"](r,s)}var o=e.getRng(),a=i.createRng(),s,l,u,c,d;if(s=o.item?o.item(0):o.parentElement(),s.ownerDocument!=i.doc)return a;if(l=e.isCollapsed(),o.item)return a.setStart(s.parentNode,i.nodeIndex(s)),a.setEnd(a.startContainer,a.startOffset+1),a;try{n(!0),l||n()}catch(f){if(f.number!=-2147024809)throw f;d=r.getBookmark(2),u=o.duplicate(),u.collapse(!0),s=u.parentElement(),l||(u=o.duplicate(),u.collapse(!1),c=u.parentElement(),c.innerHTML=c.innerHTML),s.innerHTML=s.innerHTML,r.moveToBookmark(d),o=e.getRng(),n(!0),l||n()}return a}var r=this,i=e.dom,o=!1;this.getBookmark=function(n){function r(e){var t,n,r,o,a=[];for(t=e.parentNode,n=i.getRoot().parentNode;t!=n&&9!==t.nodeType;){for(r=t.children,o=r.length;o--;)if(e===r[o]){a.push(o);break}e=t,t=t.parentNode}return a}function o(e){var n;if(n=t(a,e))return{position:n.position,offset:n.offset,indexes:r(n.node),inside:n.inside}}var a=e.getRng(),s={};return 2===n&&(a.item?s.start={ctrl:!0,indexes:r(a.item(0))}:(s.start=o(!0),e.isCollapsed()||(s.end=o()))),s},this.moveToBookmark=function(e){function t(e){var t,n,r,o;for(t=i.getRoot(),n=e.length-1;n>=0;n--)o=t.children,r=e[n],r<=o.length-1&&(t=o[r]);return t}function n(n){var i=e[n?"start":"end"],a,s,l,u;i&&(a=i.position>0,s=o.createTextRange(),s.moveToElementText(t(i.indexes)),u=i.offset,u!==l?(s.collapse(i.inside||a),s.moveStart("character",a?-u:u)):s.collapse(n),r.setEndPoint(n?"StartToStart":"EndToStart",s),n&&r.collapse(!0))}var r,o=i.doc.body;e.start&&(e.start.ctrl?(r=o.createControlRange(),r.addElement(t(e.start.indexes)),r.select()):(r=o.createTextRange(),n(!0),n(),r.select()))},this.addRange=function(t){function n(e){var t,n,a,d,h;a=i.create("a"),t=e?s:u,n=e?l:c,d=r.duplicate(),t!=f&&t!=f.documentElement||(t=p,n=0),3==t.nodeType?(t.parentNode.insertBefore(a,t),d.moveToElementText(a),d.moveStart("character",n),i.remove(a),r.setEndPoint(e?"StartToStart":"EndToEnd",d)):(h=t.childNodes,h.length?(n>=h.length?i.insertAfter(a,h[h.length-1]):t.insertBefore(a,h[n]),d.moveToElementText(a)):t.canHaveHTML&&(t.innerHTML="<span>&#xFEFF;</span>",a=t.firstChild,d.moveToElementText(a),d.collapse(o)),r.setEndPoint(e?"StartToStart":"EndToEnd",d),i.remove(a))}var r,a,s,l,u,c,d,f=e.dom.doc,p=f.body,h,m;if(s=t.startContainer,l=t.startOffset,u=t.endContainer,c=t.endOffset,r=p.createTextRange(),s==u&&1==s.nodeType){if(l==c&&!s.hasChildNodes()){if(s.canHaveHTML)return d=s.previousSibling,d&&!d.hasChildNodes()&&i.isBlock(d)?d.innerHTML="&#xFEFF;":d=null,s.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",r.moveToElementText(s.lastChild),r.select(),i.doc.selection.clear(),s.innerHTML="",void(d&&(d.innerHTML=""));l=i.nodeIndex(s),s=s.parentNode}if(l==c-1)try{if(m=s.childNodes[l],a=p.createControlRange(),a.addElement(m),a.select(),h=e.getRng(),h.item&&m===h.item(0))return}catch(g){}}n(!0),n(),r.select()},this.getRangeAt=n}return e}),r(I,[d],function(e){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(t){return e.mac?t.metaKey:t.ctrlKey&&!t.altKey}}}),r(F,[I,m,c,d,_],function(e,t,n,r,i){function o(e,t){for(;t&&t!=e;){if(s(t)||a(t))return t;t=t.parentNode}return null}var a=i.isContentEditableFalse,s=i.isContentEditableTrue;return function(i,s){function l(e){var t=s.settings.object_resizing;return t!==!1&&!r.iOS&&("string"!=typeof t&&(t="table,img,div"),"false"!==e.getAttribute("data-mce-resize")&&(e!=s.getBody()&&s.dom.is(e,t)))}function u(t){var n,r,i,o,a;n=t.screenX-L,r=t.screenY-M,U=n*B[2]+H,W=r*B[3]+I,U=U<5?5:U,W=W<5?5:W,i="IMG"==k.nodeName&&s.settings.resize_img_proportional!==!1?!e.modifierPressed(t):e.modifierPressed(t)||"IMG"==k.nodeName&&B[2]*B[3]!==0,i&&(j(n)>j(r)?(W=Y(U*F),U=Y(W/F)):(U=Y(W/F),W=Y(U*F))),_.setStyles(T,{width:U,height:W}),o=B.startPos.x+n,a=B.startPos.y+r,o=o>0?o:0,a=a>0?a:0,_.setStyles(R,{left:o,top:a,display:"block"}),R.innerHTML=U+" &times; "+W,B[2]<0&&T.clientWidth<=U&&_.setStyle(T,"left",P+(H-U)),B[3]<0&&T.clientHeight<=W&&_.setStyle(T,"top",O+(I-W)),n=X.scrollWidth-K,r=X.scrollHeight-G,n+r!==0&&_.setStyles(R,{left:o-n,top:a-r}),z||(s.fire("ObjectResizeStart",{target:k,width:H,height:I}),z=!0)}function c(){function e(e,t){t&&(k.style[e]||!s.schema.isValid(k.nodeName.toLowerCase(),e)?_.setStyle(k,e,t):_.setAttrib(k,e,t))}z=!1,e("width",U),e("height",W),_.unbind(V,"mousemove",u),_.unbind(V,"mouseup",c),$!=V&&(_.unbind($,"mousemove",u),_.unbind($,"mouseup",c)),_.remove(T),_.remove(R),q&&"TABLE"!=k.nodeName||d(k),s.fire("ObjectResized",{target:k,width:U,height:W}),_.setAttrib(k,"style",_.getAttrib(k,"style")),s.nodeChanged()}function d(e,t,n){var i,o,a,d,p;f(),x(),i=_.getPos(e,X),P=i.x,O=i.y,p=e.getBoundingClientRect(),o=p.width||p.right-p.left,a=p.height||p.bottom-p.top,k!=e&&(C(),k=e,U=W=0),d=s.fire("ObjectSelected",{target:e}),l(e)&&!d.isDefaultPrevented()?S(A,function(e,i){function s(t){L=t.screenX,M=t.screenY,H=k.clientWidth,I=k.clientHeight,F=I/H,B=e,e.startPos={x:o*e[0]+P,y:a*e[1]+O},K=X.scrollWidth,G=X.scrollHeight,T=k.cloneNode(!0),_.addClass(T,"mce-clonedresizable"),_.setAttrib(T,"data-mce-bogus","all"),T.contentEditable=!1,T.unSelectabe=!0,_.setStyles(T,{left:P,top:O,margin:0}),T.removeAttribute("data-mce-selected"),X.appendChild(T),_.bind(V,"mousemove",u),_.bind(V,"mouseup",c),$!=V&&(_.bind($,"mousemove",u),_.bind($,"mouseup",c)),R=_.add(X,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},H+" &times; "+I)}var l;return t?void(i==t&&s(n)):(l=_.get("mceResizeHandle"+i),l&&_.remove(l),l=_.add(X,"div",{id:"mceResizeHandle"+i,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+i+"-resize; margin:0; padding:0"}),r.ie&&(l.contentEditable=!1),_.bind(l,"mousedown",function(e){e.stopImmediatePropagation(),e.preventDefault(),s(e)}),e.elm=l,void _.setStyles(l,{left:o*e[0]+P-l.offsetWidth/2,top:a*e[1]+O-l.offsetHeight/2}))}):f(),k.setAttribute("data-mce-selected","1")}function f(){var e,t;x(),k&&k.removeAttribute("data-mce-selected");for(e in A)t=_.get("mceResizeHandle"+e),t&&(_.unbind(t),_.remove(t))}function p(e){function t(e,t){if(e)do if(e===t)return!0;while(e=e.parentNode)}var n,r;if(!z&&!s.removed)return S(_.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),r="mousedown"==e.type?e.target:i.getNode(),r=_.$(r).closest(q?"table":"table,img,hr")[0],t(r,X)&&(w(),n=i.getStart(!0),t(n,r)&&t(i.getEnd(!0),r)&&(!q||r!=n&&"IMG"!==n.nodeName))?void d(r):void f()}function h(e,t,n){e&&e.attachEvent&&e.attachEvent("on"+t,n)}function m(e,t,n){e&&e.detachEvent&&e.detachEvent("on"+t,n)}function g(e){var t=e.srcElement,n,r,i,o,a,l,u;n=t.getBoundingClientRect(),l=D.clientX-n.left,u=D.clientY-n.top;for(r in A)if(i=A[r],o=t.offsetWidth*i[0],a=t.offsetHeight*i[1],j(o-l)<8&&j(a-u)<8){B=i;break}z=!0,s.fire("ObjectResizeStart",{target:k,width:k.clientWidth,height:k.clientHeight}),s.getDoc().selection.empty(),d(t,r,D)}function v(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function y(e){return a(o(s.getBody(),e))}function b(e){var t=e.srcElement;if(y(t))return void v(e);if(t!=k){if(s.fire("ObjectSelected",{target:t}),C(),0===t.id.indexOf("mceResizeHandle"))return void(e.returnValue=!1);
"IMG"!=t.nodeName&&"TABLE"!=t.nodeName||(f(),k=t,h(t,"resizestart",g))}}function C(){m(k,"resizestart",g)}function x(){for(var e in A){var t=A[e];t.elm&&(_.unbind(t.elm),delete t.elm)}}function w(){try{s.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}}function E(e){var t;if(q){t=V.body.createControlRange();try{return t.addElement(e),t.select(),!0}catch(n){}}}function N(){k=T=null,q&&(C(),m(X,"controlselect",b))}var _=s.dom,S=t.each,k,T,R,A,B,D,L,M,P,O,H,I,F,z,U,W,V=s.getDoc(),$=document,q=r.ie&&r.ie<11,j=Math.abs,Y=Math.round,X=s.getBody(),K,G;A={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var J=".mce-content-body";return s.contentStyles.push(J+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+J+" .mce-resizehandle:hover {background: #000}"+J+" img[data-mce-selected],"+J+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+J+" .mce-clonedresizable {position: absolute;"+(r.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+J+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),s.on("init",function(){q?(s.on("ObjectResized",function(e){"TABLE"!=e.target.nodeName&&(f(),E(e.target))}),h(X,"controlselect",b),s.on("mousedown",function(e){D=e})):(w(),r.ie>=11&&(s.on("mousedown click",function(e){var t=e.target,n=t.nodeName;z||!/^(TABLE|IMG|HR)$/.test(n)||y(t)||(s.selection.select(t,"TABLE"==n),"mousedown"==e.type&&s.nodeChanged())}),s.dom.bind(X,"mscontrolselect",function(e){function t(e){n.setEditorTimeout(s,function(){s.selection.select(e)})}return y(e.target)?(e.preventDefault(),void t(e.target)):void(/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"==e.target.tagName&&t(e.target)))})));var e=n.throttle(function(e){s.composing||p(e)});s.on("nodechange ResizeEditor ResizeWindow drop",e),s.on("keyup compositionend",function(t){k&&"TABLE"==k.nodeName&&e(t)}),s.on("hide blur",f)}),s.on("remove",x),{isResizable:l,showResizeRect:d,hideResizeRect:f,updateResizeRect:p,controlSelect:E,destroy:N}}}),r(z,[],function(){function e(e){return function(){return e}}function t(e){return function(t){return!e(t)}}function n(e,t){return function(n){return e(t(n))}}function r(){var e=s.call(arguments);return function(t){for(var n=0;n<e.length;n++)if(e[n](t))return!0;return!1}}function i(){var e=s.call(arguments);return function(t){for(var n=0;n<e.length;n++)if(!e[n](t))return!1;return!0}}function o(e){var t=s.call(arguments);return t.length-1>=e.length?e.apply(this,t.slice(1)):function(){var e=t.concat([].slice.call(arguments));return o.apply(this,e)}}function a(){}var s=[].slice;return{constant:e,negate:t,and:i,or:r,curry:o,compose:n,noop:a}}),r(U,[_,h,k],function(e,t,n){function r(e){return!m(e)&&(d(e)?!f(e.parentNode):p(e)||c(e)||h(e)||u(e))}function i(e,t){for(e=e.parentNode;e&&e!=t;e=e.parentNode){if(u(e))return!1;if(l(e))return!0}return!0}function o(e){return!!u(e)&&t.reduce(e.getElementsByTagName("*"),function(e,t){return e||l(t)},!1)!==!0}function a(e){return p(e)||o(e)}function s(e,t){return r(e)&&i(e,t)}var l=e.isContentEditableTrue,u=e.isContentEditableFalse,c=e.isBr,d=e.isText,f=e.matchNodeNames("script style textarea"),p=e.matchNodeNames("img input textarea hr iframe video audio object"),h=e.matchNodeNames("table"),m=n.isCaretContainer;return{isCaretCandidate:r,isInEditable:i,isAtomic:a,isEditableCaretCandidate:s}}),r(W,[],function(){function e(e){return e?{left:c(e.left),top:c(e.top),bottom:c(e.bottom),right:c(e.right),width:c(e.width),height:c(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function t(t,n){return t=e(t),n?t.right=t.left:(t.left=t.left+t.width,t.right=t.left),t.width=0,t}function n(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right}function r(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2}function i(e,t){return e.bottom<t.top||!(e.top>t.bottom)&&r(t.top-e.bottom,e,t)}function o(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&r(t.bottom-e.top,e,t)}function a(e,t){return e.left<t.left}function s(e,t){return e.right>t.right}function l(e,t){return i(e,t)?-1:o(e,t)?1:a(e,t)?-1:s(e,t)?1:0}function u(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom}var c=Math.round;return{clone:e,collapse:t,isEqual:n,isAbove:i,isBelow:o,isLeft:a,isRight:s,compare:l,containsXY:u}}),r(V,[],function(){function e(e){return"string"==typeof e&&e.charCodeAt(0)>=768&&t.test(e)}var t=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]");return{isExtendingChar:e}}),r($,[z,_,w,T,U,W,V],function(e,t,n,r,i,o,a){function s(e){return"createRange"in e?e.createRange():n.DOM.createRng()}function l(e){return e&&/[\r\n\t ]/.test(e)}function u(e){var t=e.startContainer,n=e.startOffset,r;return!!(l(e.toString())&&v(t.parentNode)&&(r=t.data,l(r[n-1])||l(r[n+1])))}function c(e){function t(e){var t=e.ownerDocument,n=s(t),r=t.createTextNode("\xa0"),i=e.parentNode,a;return i.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1),a=o.clone(n.getBoundingClientRect()),i.removeChild(r),a}function n(e){var n,r;return r=e.getClientRects(),n=r.length>0?o.clone(r[0]):o.clone(e.getBoundingClientRect()),b(e)&&0===n.left?t(e):n}function r(e,t){return e=o.collapse(e,t),e.width=1,e.right=e.left+1,e}function i(e){0!==e.height&&(c.length>0&&o.isEqual(e,c[c.length-1])||c.push(e))}function l(e,t){var o=s(e.ownerDocument);if(t<e.data.length){if(a.isExtendingChar(e.data[t]))return c;if(a.isExtendingChar(e.data[t-1])&&(o.setStart(e,t),o.setEnd(e,t+1),!u(o)))return i(r(n(o),!1)),c}t>0&&(o.setStart(e,t-1),o.setEnd(e,t),u(o)||i(r(n(o),!1))),t<e.data.length&&(o.setStart(e,t),o.setEnd(e,t+1),u(o)||i(r(n(o),!0)))}var c=[],d,p;if(y(e.container()))return l(e.container(),e.offset()),c;if(f(e.container()))if(e.isAtEnd())p=x(e.container(),e.offset()),y(p)&&l(p,p.data.length),g(p)&&!b(p)&&i(r(n(p),!1));else{if(p=x(e.container(),e.offset()),y(p)&&l(p,0),g(p)&&e.isAtEnd())return i(r(n(p),!1)),c;d=x(e.container(),e.offset()-1),g(d)&&!b(d)&&(h(d)||h(p)||!g(p))&&i(r(n(d),!1)),g(p)&&i(r(n(p),!0))}return c}function d(t,n,r){function i(){return y(t)?0===n:0===n}function o(){return y(t)?n>=t.data.length:n>=t.childNodes.length}function a(){var e;return e=s(t.ownerDocument),e.setStart(t,n),e.setEnd(t,n),e}function l(){return r||(r=c(new d(t,n))),r}function u(){return l().length>0}function f(e){return e&&t===e.container()&&n===e.offset()}function p(e){return x(t,e?n-1:n)}return{container:e.constant(t),offset:e.constant(n),toRange:a,getClientRects:l,isVisible:u,isAtStart:i,isAtEnd:o,isEqual:f,getNode:p}}var f=t.isElement,p=i.isCaretCandidate,h=t.matchStyleValues("display","block table"),m=t.matchStyleValues("float","left right"),g=e.and(f,p,e.negate(m)),v=e.negate(t.matchStyleValues("white-space","pre pre-line pre-wrap")),y=t.isText,b=t.isBr,C=n.nodeIndex,x=r.getNode;return d.fromRangeStart=function(e){return new d(e.startContainer,e.startOffset)},d.fromRangeEnd=function(e){return new d(e.endContainer,e.endOffset)},d.after=function(e){return new d(e.parentNode,C(e)+1)},d.before=function(e){return new d(e.parentNode,C(e))},d}),r(q,[_,w,z,h,$],function(e,t,n,r,i){function o(e){var t=e.parentNode;return v(t)?o(t):t}function a(e){return e?r.reduce(e.childNodes,function(e,t){return v(t)&&"BR"!=t.nodeName?e=e.concat(a(t)):e.push(t),e},[]):[]}function s(e,t){for(;(e=e.previousSibling)&&g(e);)t+=e.data.length;return t}function l(e){return function(t){return e===t}}function u(t){var n,i,s;return n=a(o(t)),i=r.findIndex(n,l(t),t),n=n.slice(0,i+1),s=r.reduce(n,function(e,t,r){return g(t)&&g(n[r-1])&&e++,e},0),n=r.filter(n,e.matchNodeNames(t.nodeName)),i=r.findIndex(n,l(t),t),i-s}function c(e){var t;return t=g(e)?"text()":e.nodeName.toLowerCase(),t+"["+u(e)+"]"}function d(e,t,n){var r=[];for(t=t.parentNode;t!=e&&(!n||!n(t));t=t.parentNode)r.push(t);return r}function f(t,i){var o,a,l=[],u,f,p;return o=i.container(),a=i.offset(),g(o)?u=s(o,a):(f=o.childNodes,a>=f.length?(u="after",a=f.length-1):u="before",o=f[a]),l.push(c(o)),p=d(t,o),p=r.filter(p,n.negate(e.isBogus)),l=l.concat(r.map(p,function(e){return c(e)})),l.reverse().join("/")+","+u}function p(t,n,i){var o=a(t);return o=r.filter(o,function(e,t){return!g(e)||!g(o[t-1])}),o=r.filter(o,e.matchNodeNames(n)),o[i]}function h(e,t){for(var n=e,r=0,o;g(n);){if(o=n.data.length,t>=r&&t<=r+o){e=n,t-=r;break}if(!g(n.nextSibling)){e=n,t=o;break}r+=o,n=n.nextSibling}return t>e.data.length&&(t=e.data.length),new i(e,t)}function m(e,t){var n,o,a;return t?(n=t.split(","),t=n[0].split("/"),a=n.length>1?n[1]:"before",o=r.reduce(t,function(e,t){return(t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))?("text()"===t[1]&&(t[1]="#text"),p(e,t[1],parseInt(t[2],10))):null},e),o?g(o)?h(o,parseInt(a,10)):(a="after"===a?y(o)+1:y(o),new i(o.parentNode,a)):null):null}var g=e.isText,v=e.isBogus,y=t.nodeIndex;return{create:f,resolve:m}}),r(j,[d,m,k,q,$,_,T],function(e,t,n,r,i,o,a){function s(s){var u=s.dom;this.getBookmark=function(e,c){function d(e,n){var r=0;return t.each(u.select(e),function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!=n&&void r++}),r}function f(e){function t(t){var n,r,i,o=t?"start":"end";n=e[o+"Container"],r=e[o+"Offset"],1==n.nodeType&&"TR"==n.nodeName&&(i=n.childNodes,n=i[Math.min(t?r:r-1,i.length-1)],n&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r)))}return t(!0),t(),e}function p(e){function t(e,t){var r=e[t?"startContainer":"endContainer"],i=e[t?"startOffset":"endOffset"],o=[],a,s,l=0;if(3==r.nodeType){if(c)for(a=r.previousSibling;a&&3==a.nodeType;a=a.previousSibling)i+=a.nodeValue.length;o.push(i)}else s=r.childNodes,i>=s.length&&s.length&&(l=1,i=Math.max(0,s.length-1)),o.push(u.nodeIndex(s[i],c)+l);for(;r&&r!=n;r=r.parentNode)o.push(u.nodeIndex(r,c));return o}var n=u.getRoot(),r={};return r.start=t(e,!0),s.isCollapsed()||(r.end=t(e)),r}function h(e){function t(e,t){var r;if(o.isElement(e)&&(e=a.getNode(e,t),l(e)))return e;if(n.isCaretContainer(e)){if(o.isText(e)&&n.isCaretContainerBlock(e)&&(e=e.parentNode),r=e.previousSibling,l(r))return r;if(r=e.nextSibling,l(r))return r}}return t(e.startContainer,e.startOffset)||t(e.endContainer,e.endOffset)}var m,g,v,y,b,C,x="&#xFEFF;",w;if(2==e)return C=s.getNode(),b=C?C.nodeName:null,m=s.getRng(),l(C)||"IMG"==b?{name:b,index:d(b,C)}:s.tridentSel?s.tridentSel.getBookmark(e):(C=h(m),C?(b=C.tagName,{name:b,index:d(b,C)}):p(m));if(3==e)return m=s.getRng(),{start:r.create(u.getRoot(),i.fromRangeStart(m)),end:r.create(u.getRoot(),i.fromRangeEnd(m))};if(e)return{rng:s.getRng()};if(m=s.getRng(),v=u.uniqueId(),y=s.isCollapsed(),w="overflow:hidden;line-height:0px",m.duplicate||m.item){if(m.item)return C=m.item(0),b=C.nodeName,{name:b,index:d(b,C)};g=m.duplicate();try{m.collapse(),m.pasteHTML('<span data-mce-type="bookmark" id="'+v+'_start" style="'+w+'">'+x+"</span>"),y||(g.collapse(!1),m.moveToElementText(g.parentElement()),0===m.compareEndPoints("StartToEnd",g)&&g.move("character",-1),g.pasteHTML('<span data-mce-type="bookmark" id="'+v+'_end" style="'+w+'">'+x+"</span>"))}catch(E){return null}}else{if(C=s.getNode(),b=C.nodeName,"IMG"==b)return{name:b,index:d(b,C)};g=f(m.cloneRange()),y||(g.collapse(!1),g.insertNode(u.create("span",{"data-mce-type":"bookmark",id:v+"_end",style:w},x))),m=f(m),m.collapse(!0),m.insertNode(u.create("span",{"data-mce-type":"bookmark",id:v+"_start",style:w},x))}return s.moveToBookmark({id:v,keep:1}),{id:v}},this.moveToBookmark=function(n){function i(e){var t=n[e?"start":"end"],r,i,o,a;if(t){for(o=t[0],i=d,r=t.length-1;r>=1;r--){if(a=i.childNodes,t[r]>a.length-1)return;i=a[t[r]]}3===i.nodeType&&(o=Math.min(t[0],i.nodeValue.length)),1===i.nodeType&&(o=Math.min(t[0],i.childNodes.length)),e?c.setStart(i,o):c.setEnd(i,o)}return!0}function o(r){var i=u.get(n.id+"_"+r),o,a,s,l,c=n.keep;if(i&&(o=i.parentNode,"start"==r?(c?(o=i.firstChild,a=1):a=u.nodeIndex(i),f=p=o,h=m=a):(c?(o=i.firstChild,a=1):a=u.nodeIndex(i),p=o,m=a),!c)){for(l=i.previousSibling,s=i.nextSibling,t.each(t.grep(i.childNodes),function(e){3==e.nodeType&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});i=u.get(n.id+"_"+r);)u.remove(i,1);l&&s&&l.nodeType==s.nodeType&&3==l.nodeType&&!e.opera&&(a=l.nodeValue.length,l.appendData(s.nodeValue),u.remove(s),"start"==r?(f=p=l,h=m=a):(p=l,m=a))}}function a(t){return!u.isBlock(t)||t.innerHTML||e.ie||(t.innerHTML='<br data-mce-bogus="1" />'),t}function l(){var e,t;return e=u.createRng(),t=r.resolve(u.getRoot(),n.start),e.setStart(t.container(),t.offset()),t=r.resolve(u.getRoot(),n.end),e.setEnd(t.container(),t.offset()),e}var c,d,f,p,h,m;if(n)if(t.isArray(n.start)){if(c=u.createRng(),d=u.getRoot(),s.tridentSel)return s.tridentSel.moveToBookmark(n);i(!0)&&i()&&s.setRng(c)}else"string"==typeof n.start?s.setRng(l(n)):n.id?(o("start"),o("end"),f&&(c=u.createRng(),c.setStart(a(f),h),c.setEnd(a(p),m),s.setRng(c))):n.name?s.select(u.select(n.name)[n.index]):n.rng&&s.setRng(n.rng)}}var l=o.isContentEditableFalse;return s.isBookmarkNode=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},s}),r(Y,[y,H,F,T,j,_,d,m,$],function(e,n,r,i,o,a,s,l,u){function c(e,t,i,a){var s=this;s.dom=e,s.win=t,s.serializer=i,s.editor=a,s.bookmarkManager=new o(s),s.controlSelection=new r(s,a),s.win.getSelection||(s.tridentSel=new n(s))}var d=l.each,f=l.trim,p=s.ie;return c.prototype={setCursorLocation:function(e,t){var n=this,r=n.dom.createRng();e?(r.setStart(e,t),r.setEnd(e,t),n.setRng(r),n.collapse(!1)):(n._moveEndPoint(r,n.editor.getBody(),!0),n.setRng(r))},getContent:function(e){var n=this,r=n.getRng(),i=n.dom.create("body"),o=n.getSel(),a,s,l;return e=e||{},a=s="",e.get=!0,e.format=e.format||"html",e.selection=!0,n.editor.fire("BeforeGetContent",e),"text"==e.format?n.isCollapsed()?"":r.text||(o.toString?o.toString():""):(r.cloneContents?(l=r.cloneContents(),l&&i.appendChild(l)):r.item!==t||r.htmlText!==t?(i.innerHTML="<br>"+(r.item?r.item(0).outerHTML:r.htmlText),i.removeChild(i.firstChild)):i.innerHTML=r.toString(),/^\s/.test(i.innerHTML)&&(a=" "),/\s+$/.test(i.innerHTML)&&(s=" "),e.getInner=!0,e.content=n.isCollapsed()?"":a+n.serializer.serialize(i,e)+s,n.editor.fire("GetContent",e),e.content)},setContent:function(e,t){var n=this,r=n.getRng(),i,o=n.win.document,a,s;if(t=t||{format:"html"},t.set=!0,t.selection=!0,t.content=e,t.no_events||n.editor.fire("BeforeSetContent",t),e=t.content,r.insertNode){e+='<span id="__caret">_</span>',r.startContainer==o&&r.endContainer==o?o.body.innerHTML=e:(r.deleteContents(),0===o.body.childNodes.length?o.body.innerHTML=e:r.createContextualFragment?r.insertNode(r.createContextualFragment(e)):(a=o.createDocumentFragment(),s=o.createElement("div"),a.appendChild(s),s.outerHTML=e,r.insertNode(a))),i=n.dom.get("__caret"),r=o.createRange(),r.setStartBefore(i),r.setEndBefore(i),n.setRng(r),n.dom.remove("__caret");try{n.setRng(r)}catch(l){}}else r.item&&(o.execCommand("Delete",!1,null),r=n.getRng()),/^\s+/.test(e)?(r.pasteHTML('<span id="__mce_tmp">_</span>'+e),n.dom.remove("__mce_tmp")):r.pasteHTML(e);t.no_events||n.editor.fire("SetContent",t)},getStart:function(e){var t=this,n=t.getRng(),r,i,o,a;if(n.duplicate||n.item){if(n.item)return n.item(0);for(o=n.duplicate(),o.collapse(1),r=o.parentElement(),r.ownerDocument!==t.dom.doc&&(r=t.dom.getRoot()),i=a=n.parentElement();a=a.parentNode;)if(a==r){r=i;break}return r}return r=n.startContainer,1==r.nodeType&&r.hasChildNodes()&&(e&&n.collapsed||(r=r.childNodes[Math.min(r.childNodes.length-1,n.startOffset)])),r&&3==r.nodeType?r.parentNode:r},getEnd:function(e){var t=this,n=t.getRng(),r,i;return n.duplicate||n.item?n.item?n.item(0):(n=n.duplicate(),n.collapse(0),r=n.parentElement(),r.ownerDocument!==t.dom.doc&&(r=t.dom.getRoot()),r&&"BODY"==r.nodeName?r.lastChild||r:r):(r=n.endContainer,i=n.endOffset,1==r.nodeType&&r.hasChildNodes()&&(e&&n.collapsed||(r=r.childNodes[i>0?i-1:i])),r&&3==r.nodeType?r.parentNode:r)},getBookmark:function(e,t){return this.bookmarkManager.getBookmark(e,t)},moveToBookmark:function(e){return this.bookmarkManager.moveToBookmark(e)},select:function(e,t){var n=this,r=n.dom,i=r.createRng(),o;if(n.lastFocusBookmark=null,e){if(!t&&n.controlSelection.controlSelect(e))return;o=r.nodeIndex(e),i.setStart(e.parentNode,o),i.setEnd(e.parentNode,o+1),t&&(n._moveEndPoint(i,e,!0),n._moveEndPoint(i,e)),n.setRng(i)}return e},isCollapsed:function(){var e=this,t=e.getRng(),n=e.getSel();return!(!t||t.item)&&(t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!n||t.collapsed)},collapse:function(e){var t=this,n=t.getRng(),r;n.item&&(r=n.item(0),n=t.win.document.body.createTextRange(),n.moveToElementText(r)),n.collapse(!!e),t.setRng(n)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(e){function t(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(r){return-1}}var n=this,r,i,o,a,s,l;if(!n.win)return null;if(a=n.win.document,"undefined"==typeof a||null===a)return null;if(!e&&n.lastFocusBookmark){var u=n.lastFocusBookmark;return u.startContainer?(i=a.createRange(),i.setStart(u.startContainer,u.startOffset),i.setEnd(u.endContainer,u.endOffset)):i=u,i}if(e&&n.tridentSel)return n.tridentSel.getRangeAt(0);try{(r=n.getSel())&&(i=r.rangeCount>0?r.getRangeAt(0):r.createRange?r.createRange():a.createRange())}catch(c){}if(l=n.editor.fire("GetSelectionRange",{range:i}),l.range!==i)return l.range;if(p&&i&&i.setStart&&a.selection){try{s=a.selection.createRange()}catch(c){}s&&s.item&&(o=s.item(0),i=a.createRange(),i.setStartBefore(o),i.setEndAfter(o))}return i||(i=a.createRange?a.createRange():a.body.createTextRange()),i.setStart&&9===i.startContainer.nodeType&&i.collapsed&&(o=n.dom.getRoot(),i.setStart(o,0),i.setEnd(o,0)),n.selectedRange&&n.explicitRange&&(0===t(i.START_TO_START,i,n.selectedRange)&&0===t(i.END_TO_END,i,n.selectedRange)?i=n.explicitRange:(n.selectedRange=null,n.explicitRange=null)),i},setRng:function(e,t){var n=this,r,i,o;if(e)if(e.select){n.explicitRange=null;try{e.select()}catch(a){}}else if(n.tridentSel){if(e.cloneRange)try{n.tridentSel.addRange(e)}catch(a){}}else{if(r=n.getSel(),o=n.editor.fire("SetSelectionRange",{range:e}),e=o.range,r){n.explicitRange=e;try{r.removeAllRanges(),r.addRange(e)}catch(a){}t===!1&&r.extend&&(r.collapse(e.endContainer,e.endOffset),r.extend(e.startContainer,e.startOffset)),n.selectedRange=r.rangeCount>0?r.getRangeAt(0):null}e.collapsed||e.startContainer!=e.endContainer||!r.setBaseAndExtent||s.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(i=e.startContainer.childNodes[e.startOffset],i&&"IMG"==i.tagName&&(r.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),r.anchorNode===e.startContainer&&r.focusNode===e.endContainer||r.setBaseAndExtent(i,0,i,1))),n.editor.fire("AfterSetSelectionRange",{range:e})}},setNode:function(e){var t=this;return t.setContent(t.dom.getOuterHTML(e)),e},getNode:function(){function e(e,t){for(var n=e;e&&3===e.nodeType&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n}var t=this,n=t.getRng(),r,i,o,a,s,l=t.dom.getRoot();return n?(i=n.startContainer,o=n.endContainer,a=n.startOffset,s=n.endOffset,n.setStart?(r=n.commonAncestorContainer,!n.collapsed&&(i==o&&s-a<2&&i.hasChildNodes()&&(r=i.childNodes[a]),3===i.nodeType&&3===o.nodeType&&(i=i.length===a?e(i.nextSibling,!0):i.parentNode,o=0===s?e(o.previousSibling,!1):o.parentNode,i&&i===o))?i:r&&3==r.nodeType?r.parentNode:r):(r=n.item?n.item(0):n.parentElement(),r.ownerDocument!==t.win.document&&(r=l),r)):l},getSelectedBlocks:function(t,n){var r=this,i=r.dom,o,a,s=[];if(a=i.getRoot(),t=i.getParent(t||r.getStart(),i.isBlock),n=i.getParent(n||r.getEnd(),i.isBlock),t&&t!=a&&s.push(t),t&&n&&t!=n){o=t;for(var l=new e(t,a);(o=l.next())&&o!=n;)i.isBlock(o)&&s.push(o)}return n&&t!=n&&n!=a&&s.push(n),s},isForward:function(){var e=this.dom,t=this.getSel(),n,r;return!(t&&t.anchorNode&&t.focusNode)||(n=e.createRng(),n.setStart(t.anchorNode,t.anchorOffset),n.collapse(!0),r=e.createRng(),r.setStart(t.focusNode,t.focusOffset),r.collapse(!0),n.compareBoundaryPoints(n.START_TO_START,r)<=0)},normalize:function(){var e=this,t=e.getRng();return s.range&&new i(e.dom).normalize(t)&&e.setRng(t,e.isForward()),t},selectorChanged:function(e,t){var n=this,r;return n.selectorChangedData||(n.selectorChangedData={},r={},n.editor.on("NodeChange",function(e){var t=e.element,i=n.dom,o=i.getParents(t,null,i.getRoot()),a={};d(n.selectorChangedData,function(e,t){d(o,function(n){if(i.is(n,t))return r[t]||(d(e,function(e){e(!0,{node:n,selector:t,parents:o})}),r[t]=e),a[t]=e,!1})}),d(r,function(e,n){a[n]||(delete r[n],d(e,function(e){e(!1,{node:t,selector:n,parents:o})}))})})),n.selectorChangedData[e]||(n.selectorChangedData[e]=[]),n.selectorChangedData[e].push(t),n},getScrollContainer:function(){for(var e,t=this.dom.getRoot();t&&"BODY"!=t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e,t){function n(e){for(var t=0,n=0,r=e;r&&r.nodeType;)t+=r.offsetLeft||0,n+=r.offsetTop||0,r=r.offsetParent;return{x:t,y:n}}var r,i,o=this,s=o.dom,l=s.getRoot(),u,c,d=0;if(a.isElement(e)){if(t===!1&&(d=e.offsetHeight),"BODY"!=l.nodeName){var f=o.getScrollContainer();if(f)return r=n(e).y-n(f).y+d,c=f.clientHeight,u=f.scrollTop,void((r<u||r+25>u+c)&&(f.scrollTop=r<u?r:r-c+25))}i=s.getViewPort(o.editor.getWin()),r=s.getPos(e).y+d,u=i.y,c=i.h,(r<i.y||r+25>u+c)&&o.editor.getWin().scrollTo(0,r<u?r:r-c+25)}},placeCaretAt:function(e,t){this.setRng(i.getCaretRangeFromPoint(e,t,this.editor.getDoc()))},_moveEndPoint:function(t,n,r){var i=n,o=new e(n,i),a=this.dom.schema.getNonEmptyElements();do{if(3==n.nodeType&&0!==f(n.nodeValue).length)return void(r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(r?t.setStartBefore(n):"BR"==n.nodeName?t.setEndBefore(n):t.setEndAfter(n));if(s.ie&&s.ie<11&&this.dom.isBlock(n)&&this.dom.isEmpty(n))return void(r?t.setStart(n,0):t.setEnd(n,0))}while(n=r?o.next():o.prev());"BODY"==i.nodeName&&(r?t.setStart(i,0):t.setEnd(i,i.childNodes.length))},getBoundingClientRect:function(){var e=this.getRng();return e.collapsed?u.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){this.win=null,this.controlSelection.destroy()}},c}),r(X,[j,m],function(e,t){function n(t){this.compare=function(n,i){function o(e){var n={};return r(t.getAttribs(e),function(r){var i=r.nodeName.toLowerCase();0!==i.indexOf("_")&&"style"!==i&&0!==i.indexOf("data-")&&(n[i]=t.getAttrib(e,i))}),n}function a(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){if(n=t[r],"undefined"==typeof n)return!1;if(e[r]!=n)return!1;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return!1;return!0}return n.nodeName==i.nodeName&&(!!a(o(n),o(i))&&(!!a(t.parseStyle(t.getAttrib(n,"style")),t.parseStyle(t.getAttrib(i,"style")))&&(!e.isBookmarkNode(n)&&!e.isBookmarkNode(i))))}}var r=t.each;return n}),r(K,[w,m,B],function(e,t,n){function r(e,r){function i(e,t){t.classes.length&&u.addClass(e,t.classes.join(" ")),u.setAttribs(e,t.attrs)}function o(e){var t;return c="string"==typeof e?{name:e,classes:[],attrs:{}}:e,t=u.create(c.name),i(t,c),t}function a(e,n){var r="string"!=typeof e?e.nodeName.toLowerCase():e,i=f.getElementRule(r),o=i.parentsRequired;return!(!o||!o.length)&&(n&&t.inArray(o,n)!==-1?n:o[0])}function s(e,n,r){var i,l,c,d=n.length&&n[0],f=d&&d.name;if(c=a(e,f))f==c?(l=n[0],n=n.slice(1)):l=c;else if(d)l=n[0],n=n.slice(1);else if(!r)return e;return l&&(i=o(l),i.appendChild(e)),r&&(i||(i=u.create("div"),i.appendChild(e)),t.each(r,function(t){var n=o(t);i.insertBefore(n,e)})),s(i,n,l&&l.siblings)}var l,c,d,f=r&&r.schema||new n({});return e&&e.length?(c=e[0],l=o(c),d=u.create("div"),d.appendChild(s(l,e.slice(1),c.siblings)),d):""}function i(e,t){return r(a(e),t)}function o(e){var n,r={classes:[],attrs:{}};return e=r.selector=t.trim(e),"*"!==e&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(e,n,i,o,a){switch(n){case"#":r.attrs.id=i;break;case".":r.classes.push(i);break;case":":t.inArray("checked disabled enabled read-only required".split(" "),i)!==-1&&(r.attrs[i]=i)}if("["==o){var s=a.match(/([\w\-]+)(?:\=\"([^\"]+))?/);s&&(r.attrs[s[1]]=s[2])}return""})),r.name=n||"div",r}function a(e){return e&&"string"==typeof e?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),t.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var n=t.map(e.split(/(?:~\+|~|\+)/),o),r=n.pop();return n.length&&(r.siblings=n),r}).reverse()):[]}function s(e,t){function n(e){return e.replace(/%(\w+)/g,"")}var i,o,s,c,d="",f,p;if(p=e.settings.preview_styles,p===!1)return"";if("string"!=typeof p&&(p="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof t){if(t=e.formatter.get(t),!t)return;t=t[0]}return"preview"in t&&(p=t.preview,p===!1)?"":(i=t.block||t.inline||"span",c=a(t.selector),c.length?(c[0].name||(c[0].name=i),i=t.selector,o=r(c,e)):o=r([i],e),s=u.select(i,o)[0]||o.firstChild,l(t.styles,function(e,t){e=n(e),e&&u.setStyle(s,t,e)}),l(t.attributes,function(e,t){e=n(e),e&&u.setAttrib(s,t,e)}),l(t.classes,function(e){e=n(e),u.hasClass(s,e)||u.addClass(s,e)}),e.fire("PreviewFormats"),u.setStyles(o,{position:"absolute",left:-65535}),e.getBody().appendChild(o),f=u.getStyle(e.getBody(),"fontSize",!0),f=/px$/.test(f)?parseInt(f,10):0,l(p.split(" "),function(t){var n=u.getStyle(s,t,!0);if(!("background-color"==t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=u.getStyle(e.getBody(),t,!0),"#ffffff"==u.toHex(n).toLowerCase())||"color"==t&&"#000000"==u.toHex(n).toLowerCase())){if("font-size"==t&&/em|%$/.test(n)){if(0===f)return;n=parseFloat(n,10)/(/%$/.test(n)?100:1),n=n*f+"px"}"border"==t&&n&&(d+="padding:0 2px;"),d+=t+":"+n+";"}}),e.fire("AfterPreviewFormats"),u.remove(o),d)}var l=t.each,u=e.DOM;return{getCssText:s,parseSelector:a,selectorToHtml:i}}),r(G,[h,_,g],function(e,t,n){function r(e,t){var n=o[e];n||(o[e]=n=[]),o[e].push(t)}function i(e,t){s(o[e],function(e){e(t)})}var o={},a=e.filter,s=e.each;return r("pre",function(r){function i(t){return u(t.previousSibling)&&e.indexOf(c,t.previousSibling)!=-1}function o(e,t){n(t).remove(),n(e).append("<br><br>").append(t.childNodes)}var l=r.selection.getRng(),u,c;u=t.matchNodeNames("pre"),l.collapsed||(c=r.selection.getSelectedBlocks(),s(a(a(c,u),i),function(e){o(e.previousSibling,e)}))}),{postProcess:i}}),r(J,[y,T,j,X,z,m,K,G],function(e,t,n,r,i,o,a,s){return function(l){function u(e){return e.nodeType&&(e=e.nodeName),!!l.schema.getTextBlockElements()[e.toLowerCase()]}function c(e){return/^(TH|TD)$/.test(e.nodeName)}function d(e){return e&&/^(IMG)$/.test(e.nodeName)}function f(e,t){return Q.getParents(e,t,Q.getRoot())}function p(e){return 1===e.nodeType&&"_mce_caret"===e.id}function h(){v({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(e,t,n){me(n,function(t,n){Q.setAttrib(e,n,t)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,
deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),me("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){v(e,{block:e,remove:"all"})}),v(l.settings.formats)}function m(){l.addShortcut("meta+b","bold_desc","Bold"),l.addShortcut("meta+i","italic_desc","Italic"),l.addShortcut("meta+u","underline_desc","Underline");for(var e=1;e<=6;e++)l.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);l.addShortcut("access+7","",["FormatBlock",!1,"p"]),l.addShortcut("access+8","",["FormatBlock",!1,"div"]),l.addShortcut("access+9","",["FormatBlock",!1,"address"])}function g(e){return e?J[e]:J}function v(e,t){e&&("string"!=typeof e?me(e,function(e,t){v(t,e)}):(t=t.length?t:[t],me(t,function(e){e.deep===ce&&(e.deep=!e.selector),e.split===ce&&(e.split=!e.selector||e.inline),e.remove===ce&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),J[e]=t))}function y(e){return e&&J[e]&&delete J[e],J}function b(e,t){var n=g(t);if(n)for(var r=0;r<n.length;r++)if(n[r].inherit===!1&&Q.is(e,n[r].selector))return!0;return!1}function C(e){var t;return l.dom.getParent(e,function(e){return t=l.dom.getStyle(e,"text-decoration"),t&&"none"!==t}),t}function x(e){var t;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(t=C(e.parentNode),l.dom.getStyle(e,"color")&&t?l.dom.setStyle(e,"text-decoration",t):l.dom.getStyle(e,"text-decoration")===t&&l.dom.setStyle(e,"text-decoration",null))}function w(t,n,r){function i(e,t){if(t=t||f,e){if(t.onformat&&t.onformat(e,t,n,r),me(t.styles,function(t,r){Q.setStyle(e,r,F(t,n))}),t.styles){var i=Q.getAttrib(e,"style");i&&e.setAttribute("data-mce-style",i)}me(t.attributes,function(t,r){Q.setAttrib(e,r,F(t,n))}),me(t.classes,function(t){t=F(t,n),Q.hasClass(e,t)||Q.addClass(e,t)})}}function o(e,t){var n=!1;return!!f.selector&&(me(e,function(e){if(!("collapsed"in e&&e.collapsed!==v))return Q.is(t,e.selector)&&!p(t)?(i(t,e),n=!0,!1):void 0}),n)}function a(){function t(t,n){var i=new e(n);for(r=i.prev2();r;r=i.prev2()){if(3==r.nodeType&&r.data.length>0)return r;if(r.childNodes.length>1||r==t||"BR"==r.tagName)return r}}var n=l.selection.getRng(),i=n.startContainer,o=n.endContainer;if(i!=o&&0===n.endOffset){var a=t(i,o),s=3==a.nodeType?a.data.length:a.childNodes.length;n.setEnd(a,s)}return n}function c(e,r,a){var s=[],l,c,h=!0;l=f.inline||f.block,c=Q.create(l),i(c),ee.walk(e,function(e){function r(e){var g,v,y,b;if(b=h,g=e.nodeName.toLowerCase(),v=e.parentNode.nodeName.toLowerCase(),1===e.nodeType&&de(e)&&(b=h,h="true"===de(e),y=!0),D(g,"br"))return m=0,void(f.block&&Q.remove(e));if(f.wrapper&&_(e,t,n))return void(m=0);if(h&&!y&&f.block&&!f.wrapper&&u(g)&&te(v,l))return e=Q.rename(e,l),i(e),s.push(e),void(m=0);if(f.selector){var C=o(d,e);if(!f.inline||C)return void(m=0)}!h||y||!te(l,g)||!te(v,l)||!a&&3===e.nodeType&&1===e.nodeValue.length&&65279===e.nodeValue.charCodeAt(0)||p(e)||f.inline&&ne(e)?(m=0,me(ge(e.childNodes),r),y&&(h=b),m=0):(m||(m=Q.clone(c,se),e.parentNode.insertBefore(m,e),s.push(m)),m.appendChild(e))}var m;me(e,r)}),f.links===!0&&me(s,function(e){function t(e){"A"===e.nodeName&&i(e,f),me(ge(e.childNodes),t)}t(e)}),me(s,function(e){function r(e){var t=0;return me(e.childNodes,function(e){z(e)||he(e)||t++}),t}function o(e){var t=!1;return me(e.childNodes,function(e){if(M(e))return t=e,!1}),t}function a(e,t){do{if(1!==r(e))break;if(e=o(e),!e)break;if(t(e))return e}while(e);return null}function l(e){var t,n;return t=o(e),t&&!he(t)&&B(t,f)&&(n=Q.clone(t,se),i(n),Q.replace(n,e,le),Q.remove(t,1)),n||e}var u;if(u=r(e),(s.length>1||!ne(e))&&0===u)return void Q.remove(e,1);if(f.inline||f.wrapper){if(f.exact||1!==u||(e=l(e)),me(d,function(t){me(Q.select(t.inline,e),function(e){he(e)||$(t,n,e,t.exact?e:null)})}),_(e.parentNode,t,n)&&$(f,n,e)&&(e=0),f.merge_with_parents&&Q.getParent(e.parentNode,function(r){if(_(r,t,n))return $(f,n,e)&&(e=0),le}),!ne(e)&&!H(e,"fontSize")){var c=a(e,P("fontSize"));c&&w("fontsize",{value:H(c,"fontSize")},e)}e&&f.merge_siblings!==!1&&(e=Y(j(e),e),e=Y(e,j(e,le)))}})}var d=g(t),f=d[0],h,m,v=!r&&Z.isCollapsed();if("false"!==de(Z.getNode())){if(f){if(r)r.nodeType?o(d,r)||(m=Q.createRng(),m.setStartBefore(r),m.setEndAfter(r),c(W(m,d),null,!0)):c(r,null,!0);else if(v&&f.inline&&!Q.select("td[data-mce-selected],th[data-mce-selected]").length)K("apply",t,n);else{var y=l.selection.getNode();re||!d[0].defaultBlock||Q.getParent(y,Q.isBlock)||w(d[0].defaultBlock),l.selection.setRng(a()),h=Z.getBookmark(),c(W(Z.getRng(le),d),h),f.styles&&((f.styles.color||f.styles.textDecoration)&&(ve(y,x,"childNodes"),x(y)),f.styles.backgroundColor&&L(y,P("fontSize"),O("backgroundColor",F(f.styles.backgroundColor,n)))),Z.moveToBookmark(h),G(Z.getRng(le)),l.nodeChanged()}s.postProcess(t,l)}}else{r=Z.getNode();for(var b=0,C=d.length;b<C;b++)if(d[b].ceFalseOverride&&Q.is(r,d[b].selector))return void i(r,d[b])}}function E(e,t,n,r){function i(e){var n,r,o,a,s;if(1===e.nodeType&&de(e)&&(a=y,y="true"===de(e),s=!0),n=ge(e.childNodes),y&&!s)for(r=0,o=p.length;r<o&&!$(p[r],t,e,e);r++);if(h.deep&&n.length){for(r=0,o=n.length;r<o;r++)i(n[r]);s&&(y=a)}}function o(n){var i;return me(f(n.parentNode).reverse(),function(n){var o;i||"_start"==n.id||"_end"==n.id||(o=_(n,e,t,r),o&&o.split!==!1&&(i=n))}),i}function a(e,n,r,i){var o,a,s,l,u,c;if(e){for(c=e.parentNode,o=n.parentNode;o&&o!=c;o=o.parentNode){for(a=Q.clone(o,se),u=0;u<p.length;u++)if($(p[u],t,a,a)){a=0;break}a&&(s&&a.appendChild(s),l||(l=a),s=a)}!i||h.mixed&&ne(e)||(n=Q.split(e,n)),s&&(r.parentNode.insertBefore(s,r),l.appendChild(r))}return n}function s(e){return a(o(e),e,e,!0)}function u(e){var t=Q.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return he(n)&&(n=n[e?"firstChild":"lastChild"]),3==n.nodeType&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),Q.remove(t,!0),n}function d(e){var t,n,r=e.commonAncestorContainer;if(e=W(e,p,le),h.split){if(t=X(e,le),n=X(e),t!=n){if(/^(TR|TH|TD)$/.test(t.nodeName)&&t.firstChild&&(t="TR"==t.nodeName?t.firstChild.firstChild||t:t.firstChild||t),r&&/^T(HEAD|BODY|FOOT|R)$/.test(r.nodeName)&&c(n)&&n.firstChild&&(n=n.firstChild||n),Q.isChildOf(t,n)&&!ne(n)&&!c(t)&&!c(n))return t=U(t,"span",{id:"_start","data-mce-type":"bookmark"}),s(t),void(t=u(le));t=U(t,"span",{id:"_start","data-mce-type":"bookmark"}),n=U(n,"span",{id:"_end","data-mce-type":"bookmark"}),s(t),s(n),t=u(le),n=u()}else t=n=s(t);e.startContainer=t.parentNode?t.parentNode:t,e.startOffset=ie(t),e.endContainer=n.parentNode?n.parentNode:n,e.endOffset=ie(n)+1}ee.walk(e,function(e){me(e,function(e){i(e),1===e.nodeType&&"underline"===l.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===C(e.parentNode)&&$({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)})})}var p=g(e),h=p[0],m,v,y=!0;if(n)return void(n.nodeType?(v=Q.createRng(),v.setStartBefore(n),v.setEndAfter(n),d(v)):d(n));if("false"!==de(Z.getNode()))Z.isCollapsed()&&h.inline&&!Q.select("td[data-mce-selected],th[data-mce-selected]").length?K("remove",e,t,r):(m=Z.getBookmark(),d(Z.getRng(le)),Z.moveToBookmark(m),h.inline&&S(e,t,Z.getStart())&&G(Z.getRng(!0)),l.nodeChanged());else{n=Z.getNode();for(var b=0,x=p.length;b<x&&(!p[b].ceFalseOverride||!$(p[b],t,n,n));b++);}}function N(e,t,n){var r=g(e);!S(e,t,n)||"toggle"in r[0]&&!r[0].toggle?w(e,t,n):E(e,t,n)}function _(e,t,n,r){function i(e,t,i){var o,a,s=t[i],l;if(t.onmatch)return t.onmatch(e,t,i);if(s)if(s.length===ce){for(o in s)if(s.hasOwnProperty(o)){if(a="attributes"===i?Q.getAttrib(e,o):H(e,o),r&&!a&&!t.exact)return;if((!r||t.exact)&&!D(a,I(F(s[o],n),o)))return}}else for(l=0;l<s.length;l++)if("attributes"===i?Q.getAttrib(e,s[l]):H(e,s[l]))return t;return t}var o=g(t),a,s,l;if(o&&e)for(s=0;s<o.length;s++)if(a=o[s],B(e,a)&&i(e,a,"attributes")&&i(e,a,"styles")){if(l=a.classes)for(s=0;s<l.length;s++)if(!Q.hasClass(e,l[s]))return;return a}}function S(e,t,n){function r(n){var r=Q.getRoot();return n!==r&&(n=Q.getParent(n,function(n){return!!b(n,e)||(n.parentNode===r||!!_(n,e,t,!0))}),_(n,e,t))}var i;return n?r(n):(n=Z.getNode(),r(n)?le:(i=Z.getStart(),i!=n&&r(i)?le:se))}function k(e,t){var n,r=[],i={};return n=Z.getStart(),Q.getParent(n,function(n){var o,a;for(o=0;o<e.length;o++)a=e[o],!i[a]&&_(n,a,t)&&(i[a]=!0,r.push(a))},Q.getRoot()),r}function T(e){var t=g(e),n,r,i,o,a;if(t)for(n=Z.getStart(),r=f(n),o=t.length-1;o>=0;o--){if(a=t[o].selector,!a||t[o].defaultBlock)return le;for(i=r.length-1;i>=0;i--)if(Q.is(r[i],a))return le}return se}function R(e,t,n){var r;return ue||(ue={},r={},l.on("NodeChange",function(e){var t=f(e.element),n={};t=o.grep(t,function(e){return 1==e.nodeType&&!e.getAttribute("data-mce-bogus")}),me(ue,function(e,i){me(t,function(o){return _(o,i,{},e.similar)?(r[i]||(me(e,function(e){e(!0,{node:o,format:i,parents:t})}),r[i]=e),n[i]=e,!1):!b(o,i)&&void 0})}),me(r,function(i,o){n[o]||(delete r[o],me(i,function(n){n(!1,{node:e.element,format:o,parents:t})}))})})),me(e.split(","),function(e){ue[e]||(ue[e]=[],ue[e].similar=n),ue[e].push(t)}),this}function A(e){return a.getCssText(l,e)}function B(e,t){return D(e,t.inline)?le:D(e,t.block)?le:t.selector?1==e.nodeType&&Q.is(e,t.selector):void 0}function D(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()==t.toLowerCase()}function L(e,t,n){me(e.childNodes,function(e){M(e)&&(t(e)&&n(e),e.hasChildNodes()&&L(e,t,n))})}function M(e){return 1==e.nodeType&&!he(e)&&!z(e)&&!p(e)}function P(e){return i.curry(function(e,t){return!(!t||!H(t,e))},e)}function O(e,t){return i.curry(function(e,t,n){Q.setStyle(n,e,t)},e,t)}function H(e,t){return I(Q.getStyle(e,t),t)}function I(e,t){return"color"!=t&&"backgroundColor"!=t||(e=Q.toHex(e)),"fontWeight"==t&&700==e&&(e="bold"),"fontFamily"==t&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e}function F(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e}function z(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)}function U(e,t,n){var r=Q.create(t,n);return e.parentNode.insertBefore(r,e),r.appendChild(e),r}function W(t,n,r){function i(e){function t(e){return"BR"==e.nodeName&&e.getAttribute("data-mce-bogus")&&!e.nextSibling}var r,i,o,a,s;if(r=i=e?g:y,a=e?"previousSibling":"nextSibling",s=Q.getRoot(),3==r.nodeType&&!z(r)&&(e?v>0:b<r.nodeValue.length))return r;for(;;){if(!n[0].block_expand&&ne(i))return i;for(o=i[a];o;o=o[a])if(!he(o)&&!z(o)&&!t(o))return i;if(i==s||i.parentNode==s){r=i;break}i=i.parentNode}return r}function o(e,t){for(t===ce&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)e=e.childNodes[t],e&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}}function a(e){for(var t=e;t;){if(1===t.nodeType&&de(t))return"false"===de(t)?t:e;t=t.parentNode}return e}function s(t,n,i){function o(e,t){var n,o,a=e.nodeValue;return"undefined"==typeof t&&(t=i?a.length:0),i?(n=a.lastIndexOf(" ",t),o=a.lastIndexOf("\xa0",t),n=n>o?n:o,n===-1||r||n++):(n=a.indexOf(" ",t),o=a.indexOf("\xa0",t),n=n!==-1&&(o===-1||n<o)?n:o),n}var a,s,u,c;if(3===t.nodeType){if(u=o(t,n),u!==-1)return{container:t,offset:u};c=t}for(a=new e(t,Q.getParent(t,ne)||l.getBody());s=a[i?"prev":"next"]();)if(3===s.nodeType){if(c=s,u=o(s),u!==-1)return{container:s,offset:u}}else if(ne(s))break;if(c)return n=i?0:c.length,{container:c,offset:n}}function c(e,r){var i,o,a,s;for(3==e.nodeType&&0===e.nodeValue.length&&e[r]&&(e=e[r]),i=f(e),o=0;o<i.length;o++)for(a=0;a<n.length;a++)if(s=n[a],!("collapsed"in s&&s.collapsed!==t.collapsed)&&Q.is(i[o],s.selector))return i[o];return e}function d(e,t){var r,i=Q.getRoot();if(n[0].wrapper||(r=Q.getParent(e,n[0].block,i)),r||(r=Q.getParent(3==e.nodeType?e.parentNode:e,function(e){return e!=i&&u(e)})),r&&n[0].wrapper&&(r=f(r,"ul,ol").reverse()[0]||r),!r)for(r=e;r[t]&&!ne(r[t])&&(r=r[t],!D(r,"br")););return r||e}var p,h,m,g=t.startContainer,v=t.startOffset,y=t.endContainer,b=t.endOffset;if(1==g.nodeType&&g.hasChildNodes()&&(p=g.childNodes.length-1,g=g.childNodes[v>p?p:v],3==g.nodeType&&(v=0)),1==y.nodeType&&y.hasChildNodes()&&(p=y.childNodes.length-1,y=y.childNodes[b>p?p:b-1],3==y.nodeType&&(b=y.nodeValue.length)),g=a(g),y=a(y),(he(g.parentNode)||he(g))&&(g=he(g)?g:g.parentNode,g=g.nextSibling||g,3==g.nodeType&&(v=0)),(he(y.parentNode)||he(y))&&(y=he(y)?y:y.parentNode,y=y.previousSibling||y,3==y.nodeType&&(b=y.length)),n[0].inline&&(t.collapsed&&(m=s(g,v,!0),m&&(g=m.container,v=m.offset),m=s(y,b),m&&(y=m.container,b=m.offset)),h=o(y,b),h.node)){for(;h.node&&0===h.offset&&h.node.previousSibling;)h=o(h.node.previousSibling);h.node&&h.offset>0&&3===h.node.nodeType&&" "===h.node.nodeValue.charAt(h.offset-1)&&h.offset>1&&(y=h.node,y.splitText(h.offset-1))}return(n[0].inline||n[0].block_expand)&&(n[0].inline&&3==g.nodeType&&0!==v||(g=i(!0)),n[0].inline&&3==y.nodeType&&b!==y.nodeValue.length||(y=i())),n[0].selector&&n[0].expand!==se&&!n[0].inline&&(g=c(g,"previousSibling"),y=c(y,"nextSibling")),(n[0].block||n[0].selector)&&(g=d(g,"previousSibling"),y=d(y,"nextSibling"),n[0].block&&(ne(g)||(g=i(!0)),ne(y)||(y=i()))),1==g.nodeType&&(v=ie(g),g=g.parentNode),1==y.nodeType&&(b=ie(y)+1,y=y.parentNode),{startContainer:g,startOffset:v,endContainer:y,endOffset:b}}function V(e,t){return t.links&&"A"==e.tagName}function $(e,t,n,r){var i,o,a;if(!B(n,e)&&!V(n,e))return se;if("all"!=e.remove)for(me(e.styles,function(i,o){i=I(F(i,t),o),"number"==typeof o&&(o=i,r=0),(e.remove_similar||!r||D(H(r,o),i))&&Q.setStyle(n,o,""),a=1}),a&&""===Q.getAttrib(n,"style")&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style")),me(e.attributes,function(e,i){var o;if(e=F(e,t),"number"==typeof i&&(i=e,r=0),!r||D(Q.getAttrib(r,i),e)){if("class"==i&&(e=Q.getAttrib(n,i),e&&(o="",me(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(o+=(o?" ":"")+e)}),o)))return void Q.setAttrib(n,i,o);"class"==i&&n.removeAttribute("className"),ae.test(i)&&n.removeAttribute("data-mce-"+i),n.removeAttribute(i)}}),me(e.classes,function(e){e=F(e,t),r&&!Q.hasClass(r,e)||Q.removeClass(n,e)}),o=Q.getAttribs(n),i=0;i<o.length;i++){var s=o[i].nodeName;if(0!==s.indexOf("_")&&0!==s.indexOf("data-"))return se}return"none"!=e.remove?(q(n,e),le):void 0}function q(e,t){function n(e,t,n){return e=j(e,t,n),!e||"BR"==e.nodeName||ne(e)}var r=e.parentNode,i;t.block&&(re?r==Q.getRoot()&&(t.list_block&&D(e,t.list_block)||me(ge(e.childNodes),function(e){te(re,e.nodeName.toLowerCase())?i?i.appendChild(e):(i=U(e,re),Q.setAttribs(i,l.settings.forced_root_block_attrs)):i=0})):ne(e)&&!ne(r)&&(n(e,se)||n(e.firstChild,le,1)||e.insertBefore(Q.create("br"),e.firstChild),n(e,le)||n(e.lastChild,se,1)||e.appendChild(Q.create("br")))),t.selector&&t.inline&&!D(t.inline,e)||Q.remove(e,1)}function j(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1==e.nodeType||!z(e))return e}function Y(e,t){function n(e,t){for(i=e;i;i=i[t]){if(3==i.nodeType&&0!==i.nodeValue.length)return e;if(1==i.nodeType&&!he(i))return i}return e}var i,o,a=new r(Q);if(e&&t&&(e=n(e,"previousSibling"),t=n(t,"nextSibling"),a.compare(e,t))){for(i=e.nextSibling;i&&i!=t;)o=i,i=i.nextSibling,e.appendChild(o);return Q.remove(t),me(ge(t.childNodes),function(t){e.appendChild(t)}),e}return t}function X(t,n){var r,i,o;return r=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"],1==r.nodeType&&(o=r.childNodes.length-1,!n&&i&&i--,r=r.childNodes[i>o?o:i]),3===r.nodeType&&n&&i>=r.nodeValue.length&&(r=new e(r,l.getBody()).next()||r),3!==r.nodeType||n||0!==i||(r=new e(r,l.getBody()).prev()||r),r}function K(t,n,r,i){function o(e){var t=Q.create("span",{id:m,"data-mce-bogus":!0,style:v?"color:red":""});return e&&t.appendChild(l.getDoc().createTextNode(oe)),t}function a(e,t){for(;e;){if(3===e.nodeType&&e.nodeValue!==oe||e.childNodes.length>1)return!1;t&&1===e.nodeType&&t.push(e),e=e.firstChild}return!0}function s(e){for(;e;){if(e.id===m)return e;e=e.parentNode}}function c(t){var n;if(t)for(n=new e(t,t),t=n.current();t;t=n.next())if(3===t.nodeType)return t}function d(e,t){var n,r;if(e)r=Z.getRng(!0),a(e)?(t!==!1&&(r.setStartBefore(e),r.setEndBefore(e)),Q.remove(e)):(n=c(e),n.nodeValue.charAt(0)===oe&&(n.deleteData(0,1),r.startContainer==n&&r.startOffset>0&&r.setStart(n,r.startOffset-1),r.endContainer==n&&r.endOffset>0&&r.setEnd(n,r.endOffset-1)),Q.remove(e,1)),Z.setRng(r);else if(e=s(Z.getStart()),!e)for(;e=Q.get(m);)d(e,!1)}function f(){var e,t,i,a,l,u,d;e=Z.getRng(!0),a=e.startOffset,u=e.startContainer,d=u.nodeValue,t=s(Z.getStart()),t&&(i=c(t));var f=/[^\s\u00a0\u00ad\u200b\ufeff]/;d&&a>0&&a<d.length&&f.test(d.charAt(a))&&f.test(d.charAt(a-1))?(l=Z.getBookmark(),e.collapse(!0),e=W(e,g(n)),e=ee.split(e),w(n,r,e),Z.moveToBookmark(l)):(t&&i.nodeValue===oe?w(n,r,t):(t=o(!0),i=t.firstChild,e.insertNode(t),a=1,w(n,r,t)),Z.setCursorLocation(i,a))}function p(){var e=Z.getRng(!0),t,a,s,l,c,d,f=[],p,h;for(t=e.startContainer,a=e.startOffset,c=t,3==t.nodeType&&(a!=t.nodeValue.length&&(l=!0),c=c.parentNode);c;){if(_(c,n,r,i)){d=c;break}c.nextSibling&&(l=!0),f.push(c),c=c.parentNode}if(d)if(l)s=Z.getBookmark(),e.collapse(!0),e=W(e,g(n),!0),e=ee.split(e),E(n,r,e),Z.moveToBookmark(s);else{for(h=o(),c=h,p=f.length-1;p>=0;p--)c.appendChild(Q.clone(f[p],!1)),c=c.firstChild;c.appendChild(Q.doc.createTextNode(oe)),c=c.firstChild;var m=Q.getParent(d,u);m&&Q.isEmpty(m)?d.parentNode.replaceChild(h,d):Q.insertAfter(h,d),Z.setCursorLocation(c,1),Q.isEmpty(d)&&Q.remove(d)}}function h(){var e;e=s(Z.getStart()),e&&!Q.isEmpty(e)&&ve(e,function(e){1!=e.nodeType||e.id===m||Q.isEmpty(e)||Q.setAttrib(e,"data-mce-bogus",null)},"childNodes")}var m="_mce_caret",v=l.settings.caret_debug;l._hasCaretEvents||(pe=function(){var e=[],t;if(a(s(Z.getStart()),e))for(t=e.length;t--;)Q.setAttrib(e[t],"data-mce-bogus","1")},fe=function(e){var t=e.keyCode;d(),8==t&&Z.isCollapsed()&&Z.getStart().innerHTML==oe&&d(s(Z.getStart())),37!=t&&39!=t||d(s(Z.getStart())),h()},l.on("SetContent",function(e){e.selection&&h()}),l._hasCaretEvents=!0),"apply"==t?f():p()}function G(t){var n=t.startContainer,r=t.startOffset,i,o,a,s,l;if((t.startContainer!=t.endContainer||!d(t.startContainer.childNodes[t.startOffset]))&&(3==n.nodeType&&r>=n.nodeValue.length&&(r=ie(n),n=n.parentNode,i=!0),1==n.nodeType))for(s=n.childNodes,n=s[Math.min(r,s.length-1)],o=new e(n,Q.getParent(n,Q.isBlock)),(r>s.length-1||i)&&o.next(),a=o.current();a;a=o.next())if(3==a.nodeType&&!z(a))return l=Q.create("a",{"data-mce-bogus":"all"},oe),a.parentNode.insertBefore(l,a),t.setStart(a,0),Z.setRng(t),void Q.remove(l)}var J={},Q=l.dom,Z=l.selection,ee=new t(Q),te=l.schema.isValidChild,ne=Q.isBlock,re=l.settings.forced_root_block,ie=Q.nodeIndex,oe="\ufeff",ae=/^(src|href|style)$/,se=!1,le=!0,ue,ce,de=Q.getContentEditable,fe,pe,he=n.isBookmarkNode,me=o.each,ge=o.grep,ve=o.walk,ye=o.extend;ye(this,{get:g,register:v,unregister:y,apply:w,remove:E,toggle:N,match:S,matchAll:k,matchNode:_,canApply:T,formatChanged:R,getCssText:A}),h(),m(),l.on("BeforeGetContent",function(e){pe&&"raw"!=e.format&&pe()}),l.on("mouseup keydown",function(e){fe&&fe(e)})}}),r(Q,[],function(){var e=0,t=1,n=2,r=function(r,i){var o=r.length+i.length+2,a=new Array(o),s=new Array(o),l=function(e,t,n){return{start:e,end:t,diag:n}},u=function(o,a,s,l,c){var f=d(o,a,s,l);if(null===f||f.start===a&&f.diag===a-l||f.end===o&&f.diag===o-s)for(var p=o,h=s;p<a||h<l;)p<a&&h<l&&r[p]===i[h]?(c.push([e,r[p]]),++p,++h):a-o>l-s?(c.push([n,r[p]]),++p):(c.push([t,i[h]]),++h);else{u(o,f.start,s,f.start-f.diag,c);for(var m=f.start;m<f.end;++m)c.push([e,r[m]]);u(f.end,a,f.end-f.diag,l,c)}},c=function(e,t,n,o){for(var a=e;a-t<o&&a<n&&r[a]===i[a-t];)++a;return l(e,a,t)},d=function(e,t,n,o){var l=t-e,u=o-n;if(0===l||0===u)return null;var d=l-u,f=u+l,p=(f%2===0?f:f+1)/2;a[1+p]=e,s[1+p]=t+1;for(var h=0;h<=p;++h){for(var m=-h;m<=h;m+=2){var g=m+p;m===-h||m!=h&&a[g-1]<a[g+1]?a[g]=a[g+1]:a[g]=a[g-1]+1;for(var v=a[g],y=v-e+n-m;v<t&&y<o&&r[v]===i[y];)a[g]=++v,++y;if(d%2!=0&&d-h<=m&&m<=d+h&&s[g-d]<=a[g])return c(s[g-d],m+e-n,t,o)}for(m=d-h;m<=d+h;m+=2){for(g=m+p-d,m===d-h||m!=d+h&&s[g+1]<=s[g-1]?s[g]=s[g+1]-1:s[g]=s[g-1],v=s[g]-1,y=v-e+n-m;v>=e&&y>=n&&r[v]===i[y];)s[g]=v--,y--;if(d%2===0&&-h<=m&&m<=h&&s[g]<=a[g+d])return c(s[g],m+e-n,t,o)}}},f=[];return u(0,r.length,0,i.length,f),f};return{KEEP:e,DELETE:n,INSERT:t,diff:r}}),r(Z,[h,C,Q],function(e,t,n){var r=function(e){return 1===e.nodeType?e.outerHTML:3===e.nodeType?t.encodeRaw(e.data,!1):8===e.nodeType?"<!--"+e.data+"-->":""},i=function(e){var t,n,r;for(r=document.createElement("div"),t=document.createDocumentFragment(),e&&(r.innerHTML=e);n=r.firstChild;)t.appendChild(n);return t},o=function(e,t,n){var r=i(t);if(e.hasChildNodes()&&n<e.childNodes.length){var o=e.childNodes[n];o.parentNode.insertBefore(r,o)}else e.appendChild(r)},a=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}},s=function(t,r){var i=0;e.each(t,function(e){e[0]===n.KEEP?i++:e[0]===n.INSERT?(o(r,e[1],i),i++):e[0]===n.DELETE&&a(r,i)})},l=function(t){return e.map(t.childNodes,r)},u=function(t,i){var o=e.map(i.childNodes,r);return s(n.diff(o,t),i),i};return{read:l,write:u}}),r(ee,[h,Z],function(e,t){var n=function(e){return e.indexOf("</iframe>")!==-1},r=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},i=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},o=function(o){var a,s,l;return a=t.read(o.getBody()),l=e.map(a,function(e){return o.serializer.trimContent(e)}),s=l.join(""),n(s)?r(l):i(s)},a=function(e,n,r){"fragmented"===n.type?t.write(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw"}),e.selection.moveToBookmark(r?n.beforeBookmark:n.bookmark)},s=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content},l=function(e,t){return s(e)===s(t)};return{createFragmentedLevel:r,createCompleteLevel:i,createFromEditor:o,applyToEditor:a,isEq:l}}),r(te,[I,m,ee],function(e,t,n){return function(e){function r(t){e.setDirty(t)}function i(e){a.typing=!1,a.add({},e)}function o(){a.typing&&(a.typing=!1,a.add())}var a=this,s=0,l=[],u,c,d=0;return e.on("init",function(){a.add()}),e.on("BeforeExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&(o(),a.beforeChange())}),e.on("ExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&i(e)}),e.on("ObjectResizeStart Cut",function(){a.beforeChange()}),e.on("SaveContent ObjectResized blur",i),e.on("DragEnd",i),e.on("KeyUp",function(t){var o=t.keyCode;t.isDefaultPrevented()||((o>=33&&o<=36||o>=37&&o<=40||45===o||t.ctrlKey)&&(i(),e.nodeChanged()),46!==o&&8!==o||e.nodeChanged(),c&&a.typing&&(e.isDirty()||(r(l[0]&&!n.isEq(n.createFromEditor(e),l[0])),e.isDirty()&&e.fire("change",{level:l[0],lastLevel:null})),e.fire("TypingUndo"),c=!1,e.nodeChanged()))}),e.on("KeyDown",function(e){var t=e.keyCode;if(!e.isDefaultPrevented()){if(t>=33&&t<=36||t>=37&&t<=40||45===t)return void(a.typing&&i(e));var n=e.ctrlKey&&!e.altKey||e.metaKey;!(t<16||t>20)||224===t||91===t||a.typing||n||(a.beforeChange(),a.typing=!0,a.add({},e),c=!0)}}),e.on("MouseDown",function(e){a.typing&&i(e)}),e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo"),e.on("AddUndo Undo Redo ClearUndos",function(t){t.isDefaultPrevented()||e.nodeChanged()}),a={data:l,typing:!1,beforeChange:function(){d||(u=e.selection.getBookmark(2,!0))},add:function(i,o){var a,c=e.settings,f,p;if(p=n.createFromEditor(e),i=i||{},i=t.extend(i,p),d||e.removed)return null;if(f=l[s],e.fire("BeforeAddUndo",{level:i,lastLevel:f,originalEvent:o}).isDefaultPrevented())return null;if(f&&n.isEq(f,i))return null;if(l[s]&&(l[s].beforeBookmark=u),c.custom_undo_redo_levels&&l.length>c.custom_undo_redo_levels){for(a=0;a<l.length-1;a++)l[a]=l[a+1];l.length--,s=l.length}i.bookmark=e.selection.getBookmark(2,!0),s<l.length-1&&(l.length=s+1),l.push(i),s=l.length-1;var h={level:i,lastLevel:f,originalEvent:o};return e.fire("AddUndo",h),s>0&&(r(!0),e.fire("change",h)),i},undo:function(){var t;return a.typing&&(a.add(),a.typing=!1),s>0&&(t=l[--s],n.applyToEditor(e,t,!0),r(!0),e.fire("undo",{level:t})),t},redo:function(){var t;return s<l.length-1&&(t=l[++s],n.applyToEditor(e,t,!1),r(!0),e.fire("redo",{level:t})),t},clear:function(){l=[],s=0,a.typing=!1,a.data=l,e.fire("ClearUndos")},hasUndo:function(){return s>0||a.typing&&l[0]&&!n.isEq(n.createFromEditor(e),l[0])},hasRedo:function(){return s<l.length-1&&!a.typing},transact:function(e){o(),a.beforeChange();try{d++,e()}finally{d--}return a.add()},extra:function(t,r){var i,o;a.transact(t)&&(o=l[s].bookmark,i=l[s-1],n.applyToEditor(e,i,!0),a.transact(r)&&(l[s-1].beforeBookmark=o))}}}}),r(ne,[y,T,k,d],function(e,t,n,r){var i=r.ie&&r.ie<11;return function(o){function a(a){function h(e){return e&&s.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==s.getContentEditable(e)}function m(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}function g(e){var t;s.isBlock(e)&&(t=l.getRng(),e.appendChild(s.create("span",null,"\xa0")),l.select(e),e.lastChild.outerHTML="",l.setRng(t))}function v(e){var t=e,n=[],r;if(t){for(;t=t.firstChild;){if(s.isBlock(t))return;1!=t.nodeType||f[t.nodeName.toLowerCase()]||n.push(t)}for(r=n.length;r--;)t=n[r],!t.hasChildNodes()||t.firstChild==t.lastChild&&""===t.firstChild.nodeValue?s.remove(t):"A"==t.nodeName&&" "===(t.innerText||t.textContent)&&s.remove(t)}}function y(t){function n(e){for(;e;){if(1==e.nodeType||3==e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}var i,o,a,u=t,c;if(t){if(r.ie&&r.ie<9&&P&&P.firstChild&&P.firstChild==P.lastChild&&"BR"==P.firstChild.tagName&&s.remove(P.firstChild),/^(LI|DT|DD)$/.test(t.nodeName)){var d=n(t.firstChild);d&&/^(UL|OL|DL)$/.test(d.nodeName)&&t.insertBefore(s.doc.createTextNode("\xa0"),t.firstChild)}if(a=s.createRng(),r.ie||t.normalize(),t.hasChildNodes()){for(i=new e(t,t);o=i.current();){if(3==o.nodeType){a.setStart(o,0),a.setEnd(o,0);break}if(p[o.nodeName.toLowerCase()]){a.setStartBefore(o),a.setEndBefore(o);break}u=o,o=i.next()}o||(a.setStart(u,0),a.setEnd(u,0))}else"BR"==t.nodeName?t.nextSibling&&s.isBlock(t.nextSibling)?((!O||O<9)&&(c=s.create("br"),t.parentNode.insertBefore(c,t)),a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)):(a.setStart(t,0),a.setEnd(t,0));l.setRng(a),s.remove(c),l.scrollIntoView(t)}}function b(e){var t=u.forced_root_block;t&&t.toLowerCase()===e.tagName.toLowerCase()&&s.setAttribs(e,u.forced_root_block_attrs)}function C(e){e.innerHTML=i?"":'<br data-mce-bogus="1">'}function x(e){var t=L,n,r,o,a=d.getTextInlineElements();if(e||"TABLE"==U?(n=s.create(e||V),b(n)):n=P.cloneNode(!1),o=n,u.keep_styles!==!1)do if(a[t.nodeName]){if("_mce_caret"==t.id)continue;r=t.cloneNode(!1),s.setAttrib(r,"id",""),n.hasChildNodes()?(r.appendChild(n.firstChild),n.appendChild(r)):(o=r,n.appendChild(r))}while((t=t.parentNode)&&t!=D);return i||(o.innerHTML='<br data-mce-bogus="1">'),n}function w(t){var n,r,i;if(3==L.nodeType&&(t?M>0:M<L.nodeValue.length))return!1;if(L.parentNode==P&&$&&!t)return!0;if(t&&1==L.nodeType&&L==P.firstChild)return!0;if("TABLE"===L.nodeName||L.previousSibling&&"TABLE"==L.previousSibling.nodeName)return $&&!t||!$&&t;for(n=new e(L,P),3==L.nodeType&&(t&&0===M?n.prev():t||M!=L.nodeValue.length||n.next());r=n.current();){if(1===r.nodeType){if(!r.getAttribute("data-mce-bogus")&&(i=r.nodeName.toLowerCase(),f[i]&&"br"!==i))return!1}else if(3===r.nodeType&&!/^[ \t\r\n]*$/.test(r.nodeValue))return!1;t?n.prev():n.next()}return!0}function E(e,t){var n,r,i,a,l,u,c=V||"P";if(r=s.getParent(e,s.isBlock),!r||!h(r)){if(r=r||D,u=r==o.getBody()||m(r)?r.nodeName.toLowerCase():r.parentNode.nodeName.toLowerCase(),!r.hasChildNodes())return n=s.create(c),b(n),r.appendChild(n),A.setStart(n,0),A.setEnd(n,0),n;for(a=e;a.parentNode!=r;)a=a.parentNode;for(;a&&!s.isBlock(a);)i=a,a=a.previousSibling;if(i&&d.isValidChild(u,c.toLowerCase())){for(n=s.create(c),b(n),i.parentNode.insertBefore(n,i),a=i;a&&!s.isBlock(a);)l=a.nextSibling,n.appendChild(a),a=l;A.setStart(e,t),A.setEnd(e,t)}}return e}function N(){function e(e){for(var t=z[e?"firstChild":"lastChild"];t&&1!=t.nodeType;)t=t[e?"nextSibling":"previousSibling"];return t===P}function t(){var e=z.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:z}if(z!=o.getBody()){var n=z.parentNode.nodeName;/^(OL|UL|LI)$/.test(n)&&(V="LI"),I=V?x(V):s.create("BR"),e(!0)&&e()?"LI"==n?s.insertAfter(I,t()):s.replace(I,z):e(!0)?"LI"==n?(s.insertAfter(I,t()),I.appendChild(s.doc.createTextNode(" ")),I.appendChild(z)):z.parentNode.insertBefore(I,z):e()?(s.insertAfter(I,t()),g(I)):(z=t(),B=A.cloneRange(),B.setStartAfter(P),B.setEndAfter(z),F=B.extractContents(),"LI"==V&&"LI"==F.firstChild.nodeName?(I=F.firstChild,s.insertAfter(F,z)):(s.insertAfter(F,z),s.insertAfter(I,z))),s.remove(P),y(I),c.add()}}function _(){o.execCommand("InsertLineBreak",!1,a)}function S(e){do 3===e.nodeType&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)}function k(e){var t=s.getRoot(),n,r;for(n=e;n!==t&&"false"!==s.getContentEditable(n);)"true"===s.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==t?r:t}function T(e){var t;i||(e.normalize(),t=e.lastChild,t&&!/^(left|right)$/gi.test(s.getStyle(t,"float",!0))||s.add(e,"br"))}function R(){I=/^(H[1-6]|PRE|FIGURE)$/.test(U)&&"HGROUP"!=W?x(V):x(),u.end_container_on_empty_block&&h(z)&&s.isEmpty(P)?I=s.split(z,P):s.insertAfter(I,P),y(I)}var A,B,D,L,M,P,O,H,I,F,z,U,W,V,$;if(A=l.getRng(!0),!a.isDefaultPrevented()){if(!A.collapsed)return void o.execCommand("Delete");if(new t(s).normalize(A),L=A.startContainer,M=A.startOffset,V=(u.force_p_newlines?"p":"")||u.forced_root_block,V=V?V.toUpperCase():"",O=s.doc.documentMode,H=a.shiftKey,1==L.nodeType&&L.hasChildNodes()&&($=M>L.childNodes.length-1,L=L.childNodes[Math.min(M,L.childNodes.length-1)]||L,M=$&&3==L.nodeType?L.nodeValue.length:0),D=k(L)){if(c.beforeChange(),!s.isBlock(D)&&D!=s.getRoot())return void(V&&!H||_());if((V&&!H||!V&&H)&&(L=E(L,M)),P=s.getParent(L,s.isBlock),z=P?s.getParent(P.parentNode,s.isBlock):null,U=P?P.nodeName.toUpperCase():"",W=z?z.nodeName.toUpperCase():"","LI"!=W||a.ctrlKey||(P=z,U=W),o.undoManager.typing&&(o.undoManager.typing=!1,o.undoManager.add()),/^(LI|DT|DD)$/.test(U)){if(!V&&H)return void _();if(s.isEmpty(P))return void N()}if("PRE"==U&&u.br_in_pre!==!1){if(!H)return void _()}else if(!V&&!H&&"LI"!=U||V&&H)return void _();V&&P===o.getBody()||(V=V||"P",n.isCaretContainerBlock(P)?(I=n.showCaretContainerBlock(P),s.isEmpty(P)&&C(P),y(I)):w()?R():w(!0)?(I=P.parentNode.insertBefore(x(),P),g(I),y(P)):(B=A.cloneRange(),B.setEndAfter(P),F=B.extractContents(),S(F),I=F.firstChild,s.insertAfter(F,P),v(I),T(P),s.isEmpty(P)&&C(P),I.normalize(),s.isEmpty(I)?(s.remove(I),R()):y(I)),s.setAttrib(I,"id",""),o.fire("NewBlock",{newBlock:I}),c.typing=!1,c.add())}}}var s=o.dom,l=o.selection,u=o.settings,c=o.undoManager,d=o.schema,f=d.getNonEmptyElements(),p=d.getMoveCaretBeforeOnEnterElements();o.on("keydown",function(e){13==e.keyCode&&a(e)!==!1&&e.preventDefault()})}}),r(re,[],function(){return function(e){function t(){var t=i.getStart(),s=e.getBody(),l,u,c,d,f,p,h,m=-16777215,g,v,y,b,C;if(C=n.forced_root_block,t&&1===t.nodeType&&C){for(;t&&t!=s;){if(a[t.nodeName])return;t=t.parentNode}if(l=i.getRng(),l.setStart){u=l.startContainer,c=l.startOffset,d=l.endContainer,f=l.endOffset;try{v=e.getDoc().activeElement===s}catch(x){}}else l.item&&(t=l.item(0),l=e.getDoc().body.createTextRange(),l.moveToElementText(t)),v=l.parentElement().ownerDocument===e.getDoc(),y=l.duplicate(),y.collapse(!0),c=y.move("character",m)*-1,y.collapsed||(y=l.duplicate(),y.collapse(!1),f=y.move("character",m)*-1-c);for(t=s.firstChild,b=s.nodeName.toLowerCase();t;)if((3===t.nodeType||1==t.nodeType&&!a[t.nodeName])&&o.isValidChild(b,C.toLowerCase())){if(3===t.nodeType&&0===t.nodeValue.length){h=t,t=t.nextSibling,r.remove(h);continue}p||(p=r.create(C,e.settings.forced_root_block_attrs),
t.parentNode.insertBefore(p,t),g=!0),h=t,t=t.nextSibling,p.appendChild(h)}else p=null,t=t.nextSibling;if(g&&v){if(l.setStart)l.setStart(u,c),l.setEnd(d,f),i.setRng(l);else try{l=e.getDoc().body.createTextRange(),l.moveToElementText(s),l.collapse(!0),l.moveStart("character",c),f>0&&l.moveEnd("character",f),l.select()}catch(x){}e.nodeChanged()}}}var n=e.settings,r=e.dom,i=e.selection,o=e.schema,a=o.getBlockElements();n.forced_root_block&&e.on("NodeChange",t)}}),r(ie,[z,y,_,$,k,U],function(e,t,n,r,i,o){function a(e){return e>0}function s(e){return e<0}function l(e,t){for(var n;n=e(t);)if(!N(n))return n;return null}function u(e,n,r,i,o){var u=new t(e,i);if(s(n)){if((x(e)||N(e))&&(e=l(u.prev,!0),r(e)))return e;for(;e=l(u.prev,o);)if(r(e))return e}if(a(n)){if((x(e)||N(e))&&(e=l(u.next,!0),r(e)))return e;for(;e=l(u.next,o);)if(r(e))return e}return null}function c(e,t){for(e=e.parentNode;e&&e!=t;e=e.parentNode)if(C(e))return e;return t}function d(e,t){for(;e&&e!=t;){if(w(e))return e;e=e.parentNode}return null}function f(e,t,n){return d(e.container(),n)==d(t.container(),n)}function p(e,t,n){return c(e.container(),n)==c(t.container(),n)}function h(e,t){var n,r;return t?(n=t.container(),r=t.offset(),S(n)?n.childNodes[r+e]:null):null}function m(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n}function g(e,t,n){return d(t,e)==d(n,e)}function v(e,t,n){var r,i;for(i=e?"previousSibling":"nextSibling";n&&n!=t;){if(r=n[i],E(r)&&(r=r[i]),x(r)){if(g(t,r,n))return r;break}if(k(r))break;n=n.parentNode}return null}function y(e,t,r){var o,a,s,l,u=_(v,!0,t),c=_(v,!1,t);if(a=r.startContainer,s=r.startOffset,i.isCaretContainerBlock(a)){if(S(a)||(a=a.parentNode),l=a.getAttribute("data-mce-caret"),"before"==l&&(o=a.nextSibling,x(o)))return T(o);if("after"==l&&(o=a.previousSibling,x(o)))return R(o)}if(!r.collapsed)return r;if(n.isText(a)){if(E(a)){if(1===e){if(o=c(a))return T(o);if(o=u(a))return R(o)}if(e===-1){if(o=u(a))return R(o);if(o=c(a))return T(o)}return r}if(i.endsWithCaretContainer(a)&&s>=a.data.length-1)return 1===e&&(o=c(a))?T(o):r;if(i.startsWithCaretContainer(a)&&s<=1)return e===-1&&(o=u(a))?R(o):r;if(s===a.data.length)return o=c(a),o?T(o):r;if(0===s)return o=u(a),o?R(o):r}return r}function b(e,t){return x(h(e,t))}var C=n.isContentEditableTrue,x=n.isContentEditableFalse,w=n.matchStyleValues("display","block table table-cell table-caption"),E=i.isCaretContainer,N=i.isCaretContainerBlock,_=e.curry,S=n.isElement,k=o.isCaretCandidate,T=_(m,!0),R=_(m,!1);return{isForwards:a,isBackwards:s,findNode:u,getEditingHost:c,getParentBlock:d,isInSameBlock:f,isInSameEditingHost:p,isBeforeContentEditableFalse:_(b,0),isAfterContentEditableFalse:_(b,-1),normalizeRange:y}}),r(oe,[_,U,$,ie,h,z],function(e,t,n,r,i,o){function a(e,t){for(var n=[];e&&e!=t;)n.push(e),e=e.parentNode;return n}function s(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null}function l(e,t){if(m(e)){if(v(t.previousSibling)&&!f(t.previousSibling))return n.before(t);if(f(t))return n(t,0)}if(g(e)){if(v(t.nextSibling)&&!f(t.nextSibling))return n.after(t);if(f(t))return n(t,t.data.length)}return g(e)?h(t)?n.before(t):n.after(t):n.before(t)}function u(t,i){var o;return!!e.isBr(t)&&(o=c(1,n.after(t),i),!!o&&!r.isInSameBlock(n.before(t),n.before(o),i))}function c(e,t,h){var C,x,w,E,N,_,S;if(!p(h)||!t)return null;if(S=t,C=S.container(),x=S.offset(),f(C)){if(g(e)&&x>0)return n(C,--x);if(m(e)&&x<C.length)return n(C,++x);w=C}else{if(g(e)&&x>0&&(E=s(C,x-1),v(E)))return!y(E)&&(N=r.findNode(E,e,b,E))?f(N)?n(N,N.data.length):n.after(N):f(E)?n(E,E.data.length):n.before(E);if(m(e)&&x<C.childNodes.length&&(E=s(C,x),v(E)))return u(E,h)?c(e,n.after(E),h):!y(E)&&(N=r.findNode(E,e,b,E))?f(N)?n(N,0):n.before(N):f(E)?n(E,0):n.after(E);w=S.getNode()}return(m(e)&&S.isAtEnd()||g(e)&&S.isAtStart())&&(w=r.findNode(w,e,o.constant(!0),h,!0),b(w))?l(e,w):(E=r.findNode(w,e,b,h),_=i.last(i.filter(a(C,h),d)),!_||E&&_.contains(E)?E?l(e,E):null:S=m(e)?n.after(_):n.before(_))}var d=e.isContentEditableFalse,f=e.isText,p=e.isElement,h=e.isBr,m=r.isForwards,g=r.isBackwards,v=t.isCaretCandidate,y=t.isAtomic,b=t.isEditableCaretCandidate;return function(e){return{next:function(t){return c(1,t,e)},prev:function(t){return c(-1,t,e)}}}}),r(ae,[m,oe,$],function(e,t,n){var r=function(e){var t=e.firstChild,n=e.lastChild;return t&&"meta"===t.name&&(t=t.next),n&&"mce_marker"===n.attr("id")&&(n=n.prev),!(!t||t!==n)&&("ul"===t.name||"ol"===t.name)},i=function(e){var t=e.firstChild,n=e.lastChild;return t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e},o=function(e,t,n){var r=t.serialize(n),o=e.createFragment(r);return i(o)},a=function(t){return e.grep(t.childNodes,function(e){return"LI"===e.nodeName})},s=function(e){return!e.firstChild},l=function(e){return e.length>0&&s(e[e.length-1])?e.slice(0,-1):e},u=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},c=function(e,t){return!!u(e,t)},d=function(e,t){var n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]},f=function(e,r){var i=n.before(e),o=new t(r),a=o.next(i);return a?a.toRange():null},p=function(e,r){var i=n.after(e),o=new t(r),a=o.prev(i);return a?a.toRange():null},h=function(t,n,r,i){var o=d(t,i),a=t.parentNode;return a.insertBefore(o[0],t),e.each(n,function(e){a.insertBefore(e,t)}),a.insertBefore(o[1],t),a.removeChild(t),p(n[n.length-1],r)},m=function(t,n,r){var i=t.parentNode;return e.each(n,function(e){i.insertBefore(e,t)}),f(t,r)},g=function(e,t,n,r){return r.insertAfter(t.reverse(),e),p(t[0],n)},v=function(e,r,i,s){var c=o(r,e,s),d=u(r,i.startContainer),f=l(a(c.firstChild)),p=1,v=2,y=r.getRoot(),b=function(e){var o=n.fromRangeStart(i),a=new t(r.getRoot()),s=e===p?a.prev(o):a.next(o);return!s||u(r,s.getNode())!==d};return b(p)?m(d,f,y):b(v)?g(d,f,y,r):h(d,f,y,i)};return{isListFragment:r,insertAtCaret:v,isParentBlockLi:c,trimListItems:l,listItems:a}}),r(se,[d,m,P,oe,$,X,_,ae],function(e,t,n,r,i,o,a,s){var l=a.matchNodeNames("td th"),u=function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild,i=n.lastChild;!r||r===i&&"BR"===r.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t)}},c=function(a,c,d){function f(e){function t(e){return r[e]&&3==r[e].nodeType}var n,r,i;return n=L.getRng(!0),r=n.startContainer,i=n.startOffset,3==r.nodeType&&(i>0?e=e.replace(/^&nbsp;/," "):t("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),i<r.length?e=e.replace(/&nbsp;(<br>|)$/," "):t("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e}function p(){var e,t,n;e=L.getRng(!0),t=e.startContainer,n=e.startOffset,3==t.nodeType&&e.collapsed&&("\xa0"===t.data[n]?(t.deleteData(n,1),/[\u00a0| ]$/.test(c)||(c+=" ")):"\xa0"===t.data[n-1]&&(t.deleteData(n-1,1),/[\u00a0| ]$/.test(c)||(c=" "+c)))}function h(){if(B){var e=a.getBody(),n=new o(M);t.each(M.select("*[data-mce-fragment]"),function(t){for(var r=t.parentNode;r&&r!=e;r=r.parentNode)D[t.nodeName.toLowerCase()]&&n.compare(r,t)&&M.remove(t,!0)})}}function m(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")}function g(e){t.each(e.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")})}function v(e){return!!e.getAttribute("data-mce-fragment")}function y(e){return e&&!a.schema.getShortEndedElements()[e.nodeName]}function b(t){function n(e){for(var t=a.getBody();e&&e!==t;e=e.parentNode)if("false"===a.dom.getContentEditable(e))return e;return null}function o(e){var t=i.fromRangeStart(e),n=new r(a.getBody());if(t=n.next(t))return t.toRange()}var s,u,c;if(t){if(L.scrollIntoView(t),s=n(t))return M.remove(t),void L.select(s);k=M.createRng(),T=t.previousSibling,T&&3==T.nodeType?(k.setStart(T,T.nodeValue.length),e.ie||(R=t.nextSibling,R&&3==R.nodeType&&(T.appendData(R.data),R.parentNode.removeChild(R)))):(k.setStartBefore(t),k.setEndBefore(t)),u=M.getParent(t,M.isBlock),M.remove(t),u&&M.isEmpty(u)&&(a.$(u).empty(),k.setStart(u,0),k.setEnd(u,0),l(u)||v(u)||!(c=o(k))?M.add(u,M.create("br",{"data-mce-bogus":"1"})):(k=c,M.remove(u))),L.setRng(k)}}var C,x,w,E,N,_,S,k,T,R,A,B,D=a.schema.getTextInlineElements(),L=a.selection,M=a.dom;/^ | $/.test(c)&&(c=f(c)),C=a.parser,B=d.merge,x=new n({validate:a.settings.validate},a.schema),A='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',_={content:c,format:"html",selection:!0},a.fire("BeforeSetContent",_),c=_.content,c.indexOf("{$caret}")==-1&&(c+="{$caret}"),c=c.replace(/\{\$caret\}/,A),k=L.getRng();var P=k.startContainer||(k.parentElement?k.parentElement():null),O=a.getBody();P===O&&L.isCollapsed()&&M.isBlock(O.firstChild)&&y(O.firstChild)&&M.isEmpty(O.firstChild)&&(k=M.createRng(),k.setStart(O.firstChild,0),k.setEnd(O.firstChild,0),L.setRng(k)),L.isCollapsed()||(a.selection.setRng(a.selection.getRng()),a.getDoc().execCommand("Delete",!1,null),p()),w=L.getNode();var H={context:w.nodeName.toLowerCase(),data:d.data};if(N=C.parse(c,H),d.paste===!0&&s.isListFragment(N)&&s.isParentBlockLi(M,w))return k=s.insertAtCaret(x,M,a.selection.getRng(!0),N),a.selection.setRng(k),void a.fire("SetContent",_);if(m(N),T=N.lastChild,"mce_marker"==T.attr("id"))for(S=T,T=T.prev;T;T=T.walk(!0))if(3==T.type||!M.isBlock(T.name)){a.schema.isValidChild(T.parent.name,"span")&&T.parent.insert(S,T,"br"===T.name);break}if(a._selectionOverrides.showBlockCaretContainer(w),H.invalid){for(L.setContent(A),w=L.getNode(),E=a.getBody(),9==w.nodeType?w=T=E:T=w;T!==E;)w=T,T=T.parentNode;c=w==E?E.innerHTML:M.getOuterHTML(w),c=x.serialize(C.parse(c.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return x.serialize(N)}))),w==E?M.setHTML(E,c):M.setOuterHTML(w,c)}else c=x.serialize(N),u(a,c,w);h(),b(M.get("mce_marker")),g(a.getBody()),a.fire("SetContent",_),a.addVisual()},d=function(e){var n;return"string"!=typeof e?(n=t.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:n}):{content:e,details:{}}},f=function(e,t){var n=d(t);c(e,n.content,n.details)};return{insertAtCaret:f}}),r(le,[d,m,T,y,se,_],function(e,n,r,i,o,a){var s=n.each,l=n.extend,u=n.map,c=n.inArray,d=n.explode,f=e.ie&&e.ie<11,p=!0,h=!1;return function(n){function m(e,t,r,i){var o,a,l=0;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||i&&i.skip_focus||n.focus(),i=n.fire("BeforeExecCommand",{command:e,ui:t,value:r}),i.isDefaultPrevented())return!1;if(a=e.toLowerCase(),o=D.exec[a])return o(a,t,r),n.fire("ExecCommand",{command:e,ui:t,value:r}),!0;if(s(n.plugins,function(i){if(i.execCommand&&i.execCommand(e,t,r))return n.fire("ExecCommand",{command:e,ui:t,value:r}),l=!0,!1}),l)return l;if(n.theme&&n.theme.execCommand&&n.theme.execCommand(e,t,r))return n.fire("ExecCommand",{command:e,ui:t,value:r}),!0;try{l=n.getDoc().execCommand(e,t,r)}catch(u){}return!!l&&(n.fire("ExecCommand",{command:e,ui:t,value:r}),!0)}function g(e){var t;if(!n.quirks.isHidden()){if(e=e.toLowerCase(),t=D.state[e])return t(e);try{return n.getDoc().queryCommandState(e)}catch(r){}return!1}}function v(e){var t;if(!n.quirks.isHidden()){if(e=e.toLowerCase(),t=D.value[e])return t(e);try{return n.getDoc().queryCommandValue(e)}catch(r){}}}function y(e,t){t=t||"exec",s(e,function(e,n){s(n.toLowerCase().split(","),function(n){D[t][n]=e})})}function b(e,t,r){e=e.toLowerCase(),D.exec[e]=function(e,i,o,a){return t.call(r||n,i,o,a)}}function C(e){if(e=e.toLowerCase(),D.exec[e])return!0;try{return n.getDoc().queryCommandSupported(e)}catch(t){}return!1}function x(e,t,r){e=e.toLowerCase(),D.state[e]=function(){return t.call(r||n)}}function w(e,t,r){e=e.toLowerCase(),D.value[e]=function(){return t.call(r||n)}}function E(e){return e=e.toLowerCase(),!!D.exec[e]}function N(e,r,i){return r===t&&(r=h),i===t&&(i=null),n.getDoc().execCommand(e,r,i)}function _(e){return B.match(e)}function S(e,r){B.toggle(e,r?{value:r}:t),n.nodeChanged()}function k(e){M=A.getBookmark(e)}function T(){A.moveToBookmark(M)}var R,A,B,D={state:{},exec:{},value:{}},L=n.settings,M;n.on("PreInit",function(){R=n.dom,A=n.selection,L=n.settings,B=n.formatter}),l(this,{execCommand:m,queryCommandState:g,queryCommandValue:v,queryCommandSupported:C,addCommands:y,addCommand:b,addQueryStateHandler:x,addQueryValueHandler:w,hasCustomCommand:E}),y({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){n.undoManager.add()},"Cut,Copy,Paste":function(t){var r=n.getDoc(),i;try{N(t)}catch(o){i=p}if("paste"!==t||r.queryCommandEnabled(t)||(i=!0),i||!r.queryCommandSupported(t)){var a=n.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");e.mac&&(a=a.replace(/Ctrl\+/g,"\u2318+")),n.notificationManager.open({text:a,type:"error"})}},unlink:function(){if(A.isCollapsed()){var e=n.dom.getParent(n.selection.getStart(),"a");return void(e&&n.dom.remove(e,!0))}B.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"==t&&(t="justify"),s("left,center,right,justify".split(","),function(e){t!=e&&B.remove("align"+e)}),"none"!=t&&S("align"+t)},"InsertUnorderedList,InsertOrderedList":function(e){var t,n;N(e),t=R.getParent(A.getNode(),"ol,ul"),t&&(n=t.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(k(),R.split(n,t),T()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){S(e)},"ForeColor,HiliteColor,FontName":function(e,t,n){S(e,n)},FontSize:function(e,t,n){var r,i;n>=1&&n<=7&&(i=d(L.font_size_style_values),r=d(L.font_size_classes),n=r?r[n-1]||n:i[n-1]||n),S(e,n)},RemoveFormat:function(e){B.remove(e)},mceBlockQuote:function(){S("blockquote")},FormatBlock:function(e,t,n){return S(n||"p")},mceCleanup:function(){var e=A.getBookmark();n.setContent(n.getContent({cleanup:p}),{cleanup:p}),A.moveToBookmark(e)},mceRemoveNode:function(e,t,r){var i=r||A.getNode();i!=n.getBody()&&(k(),n.dom.remove(i,p),T())},mceSelectNodeDepth:function(e,t,r){var i=0;R.getParent(A.getNode(),function(e){if(1==e.nodeType&&i++==r)return A.select(e),h},n.getBody())},mceSelectNode:function(e,t,n){A.select(n)},mceInsertContent:function(e,t,r){o.insertAtCaret(n,r)},mceInsertRawHTML:function(e,t,r){A.setContent("tiny_mce_marker"),n.setContent(n.getContent().replace(/tiny_mce_marker/g,function(){return r}))},mceToggleFormat:function(e,t,n){S(n)},mceSetContent:function(e,t,r){n.setContent(r)},"Indent,Outdent":function(e){var t,r,i;t=L.indentation,r=/[a-z%]+$/i.exec(t),t=parseInt(t,10),g("InsertUnorderedList")||g("InsertOrderedList")?N(e):(L.forced_root_block||R.getParent(A.getNode(),R.isBlock)||B.apply("div"),s(A.getSelectedBlocks(),function(o){if("false"!==R.getContentEditable(o)&&"LI"!==o.nodeName){var a=n.getParam("indent_use_margin",!1)?"margin":"padding";a="TABLE"===o.nodeName?"margin":a,a+="rtl"==R.getStyle(o,"direction",!0)?"Right":"Left","outdent"==e?(i=Math.max(0,parseInt(o.style[a]||0,10)-t),R.setStyle(o,a,i?i+r:"")):(i=parseInt(o.style[a]||0,10)+t+r,R.setStyle(o,a,i))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){n.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual,n.addVisual()},mceReplaceContent:function(e,t,r){n.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,A.getContent({format:"text"})))},mceInsertLink:function(e,t,n){var r;"string"==typeof n&&(n={href:n}),r=R.getParent(A.getNode(),"a"),n.href=n.href.replace(" ","%20"),r&&n.href||B.remove("link"),n.href&&B.apply("link",n,r)},selectAll:function(){var e=R.getRoot(),t;if(A.getRng().setStart){var n=R.getParent(A.getStart(),a.isContentEditableTrue);n&&(t=R.createRng(),t.selectNodeContents(n),A.setRng(t))}else t=A.getRng(),t.item||(t.moveToElementText(e),t.select())},"delete":function(){N("Delete");var e=n.getBody();R.isEmpty(e)&&(n.setContent(""),e.firstChild&&R.isBlock(e.firstChild)?n.selection.setCursorLocation(e.firstChild,0):n.selection.setCursorLocation(e,0))},mceNewDocument:function(){n.setContent("")},InsertLineBreak:function(e,t,o){function a(){for(var e=new i(m,v),t,r=n.schema.getNonEmptyElements();t=e.next();)if(r[t.nodeName.toLowerCase()]||t.length>0)return!0}var s=o,l,u,c,d=A.getRng(!0);new r(R).normalize(d);var h=d.startOffset,m=d.startContainer;if(1==m.nodeType&&m.hasChildNodes()){var g=h>m.childNodes.length-1;m=m.childNodes[Math.min(h,m.childNodes.length-1)]||m,h=g&&3==m.nodeType?m.nodeValue.length:0}var v=R.getParent(m,R.isBlock),y=v?v.nodeName.toUpperCase():"",b=v?R.getParent(v.parentNode,R.isBlock):null,C=b?b.nodeName.toUpperCase():"",x=s&&s.ctrlKey;"LI"!=C||x||(v=b,y=C),m&&3==m.nodeType&&h>=m.nodeValue.length&&(f||a()||(l=R.create("br"),d.insertNode(l),d.setStartAfter(l),d.setEndAfter(l),u=!0)),l=R.create("br"),d.insertNode(l);var w=R.doc.documentMode;return f&&"PRE"==y&&(!w||w<8)&&l.parentNode.insertBefore(R.doc.createTextNode("\r"),l),c=R.create("span",{},"&nbsp;"),l.parentNode.insertBefore(c,l),A.scrollIntoView(c),R.remove(c),u?(d.setStartBefore(l),d.setEndBefore(l)):(d.setStartAfter(l),d.setEndAfter(l)),A.setRng(d),n.undoManager.add(),p}}),y({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t="align"+e.substring(7),n=A.isCollapsed()?[R.getParent(A.getNode(),R.isBlock)]:A.getSelectedBlocks(),r=u(n,function(e){return!!B.matchNode(e,t)});return c(r,p)!==-1},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return _(e)},mceBlockQuote:function(){return _("blockquote")},Outdent:function(){var e;if(L.inline_styles){if((e=R.getParent(A.getStart(),R.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return p;if((e=R.getParent(A.getEnd(),R.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return p}return g("InsertUnorderedList")||g("InsertOrderedList")||!L.inline_styles&&!!R.getParent(A.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var t=R.getParent(A.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName)}},"state"),y({"FontSize,FontName":function(e){var t=0,n;return(n=R.getParent(A.getNode(),"span"))&&(t="fontsize"==e?n.style.fontSize:n.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),t}},"value"),y({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}})}}),r(ue,[m],function(e){function t(e,o){var a=this,s,l;if(e=r(e),o=a.settings=o||{},s=o.base_uri,/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))return void(a.source=e);var u=0===e.indexOf("//");0!==e.indexOf("/")||u||(e=(s?s.protocol||"http":"http")+"://mce_host"+e),/^[\w\-]*:?\/\//.test(e)||(l=o.base_uri?o.base_uri.path:new t(location.href).directory,""===o.base_uri.protocol?e="//mce_host"+a.toAbsPath(l,e):(e=/([^#?]*)([#?]?.*)/.exec(e),e=(s&&s.protocol||"http")+"://mce_host"+a.toAbsPath(l,e[1])+e[2])),e=e.replace(/@@/g,"(mce_at)"),e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),n(i,function(t,n){var r=e[n];r&&(r=r.replace(/\(mce_at\)/g,"@@")),a[t]=r}),s&&(a.protocol||(a.protocol=s.protocol),a.userInfo||(a.userInfo=s.userInfo),a.port||"mce_host"!==a.host||(a.port=s.port),a.host&&"mce_host"!==a.host||(a.host=s.host),a.source=""),u&&(a.protocol="")}var n=e.each,r=e.trim,i="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),o={ftp:21,http:80,https:443,mailto:25};return t.prototype={setPath:function(e){var t=this;e=/^(.*?)\/?(\w+)?$/.exec(e),t.path=e[0],t.directory=e[1],t.file=e[2],t.source="",t.getURI()},toRelative:function(e){var n=this,r;if("./"===e)return e;if(e=new t(e,{base_uri:n}),"mce_host"!=e.host&&n.host!=e.host&&e.host||n.port!=e.port||n.protocol!=e.protocol&&""!==e.protocol)return e.getURI();var i=n.getURI(),o=e.getURI();return i==o||"/"==i.charAt(i.length-1)&&i.substr(0,i.length-1)==o?i:(r=n.toRelPath(n.path,e.path),e.query&&(r+="?"+e.query),e.anchor&&(r+="#"+e.anchor),r)},toAbsolute:function(e,n){return e=new t(e,{base_uri:this}),e.getURI(n&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=o[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,r=0,i="",o,a;if(e=e.substring(0,e.lastIndexOf("/")),e=e.split("/"),n=t.split("/"),e.length>=n.length)for(o=0,a=e.length;o<a;o++)if(o>=n.length||e[o]!=n[o]){r=o+1;break}if(e.length<n.length)for(o=0,a=n.length;o<a;o++)if(o>=e.length||e[o]!=n[o]){r=o+1;break}if(1===r)return t;for(o=0,a=e.length-(r-1);o<a;o++)i+="../";for(o=r-1,a=n.length;o<a;o++)i+=o!=r-1?"/"+n[o]:n[o];return i},toAbsPath:function(e,t){var r,i=0,o=[],a,s;for(a=/\/$/.test(t)?"/":"",e=e.split("/"),t=t.split("/"),n(e,function(e){e&&o.push(e)}),e=o,r=t.length-1,o=[];r>=0;r--)0!==t[r].length&&"."!==t[r]&&(".."!==t[r]?i>0?i--:o.push(t[r]):i++);return r=e.length-i,s=r<=0?o.reverse().join("/"):e.slice(0,r).join("/")+"/"+o.reverse().join("/"),0!==s.indexOf("/")&&(s="/"+s),a&&s.lastIndexOf("/")!==s.length-1&&(s+=a),s},getURI:function(e){var t,n=this;return n.source&&!e||(t="",e||(t+=n.protocol?n.protocol+"://":"//",n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},t.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(","),n=/data:([^;]+)/.exec(e[0]),n&&(t=n[1]),{type:t,data:e[1]}},t.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t},t}),r(ce,[m],function(e){function t(){}var n=e.each,r=e.extend,i,o;return t.extend=i=function(e){function t(){var e,t,n,r=this;if(!o&&(r.init&&r.init.apply(r,arguments),t=r.Mixins))for(e=t.length;e--;)n=t[e],n.init&&n.init.apply(r,arguments)}function a(){return this}function s(e,t){return function(){var n=this,r=n._super,i;return n._super=u[e],i=t.apply(n,arguments),n._super=r,i}}var l=this,u=l.prototype,c,d,f;o=!0,c=new l,o=!1,e.Mixins&&(n(e.Mixins,function(t){for(var n in t)"init"!==n&&(e[n]=t[n])}),u.Mixins&&(e.Mixins=u.Mixins.concat(e.Mixins))),e.Methods&&n(e.Methods.split(","),function(t){e[t]=a}),e.Properties&&n(e.Properties.split(","),function(t){var n="_"+t;e[t]=function(e){var t=this,r;return e!==r?(t[n]=e,t):t[n]}}),e.Statics&&n(e.Statics,function(e,n){t[n]=e}),e.Defaults&&u.Defaults&&(e.Defaults=r({},u.Defaults,e.Defaults));for(d in e)f=e[d],"function"==typeof f&&u[d]?c[d]=s(d,f):c[d]=f;return t.prototype=c,t.constructor=t,t.extend=i,t},t}),r(de,[m],function(e){function t(t){function n(){return!1}function r(){return!0}function i(e,i){var o,s,l,u;if(e=e.toLowerCase(),i=i||{},i.type=e,i.target||(i.target=c),i.preventDefault||(i.preventDefault=function(){i.isDefaultPrevented=r},i.stopPropagation=function(){i.isPropagationStopped=r},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=r},i.isDefaultPrevented=n,i.isPropagationStopped=n,i.isImmediatePropagationStopped=n),t.beforeFire&&t.beforeFire(i),o=d[e])for(s=0,l=o.length;s<l;s++){if(u=o[s],u.once&&a(e,u.func),i.isImmediatePropagationStopped())return i.stopPropagation(),i;if(u.func.call(c,i)===!1)return i.preventDefault(),i}return i}function o(t,r,i,o){var a,s,l;if(r===!1&&(r=n),r)for(r={func:r},o&&e.extend(r,o),s=t.toLowerCase().split(" "),l=s.length;l--;)t=s[l],a=d[t],a||(a=d[t]=[],f(t,!0)),i?a.unshift(r):a.push(r);return u}function a(e,t){var n,r,i,o,a;if(e)for(o=e.toLowerCase().split(" "),n=o.length;n--;){if(e=o[n],r=d[e],!e){for(i in d)f(i,!1),delete d[i];return u}if(r){if(t)for(a=r.length;a--;)r[a].func===t&&(r=r.slice(0,a).concat(r.slice(a+1)),d[e]=r);else r.length=0;r.length||(f(e,!1),delete d[e])}}else{for(e in d)f(e,!1);d={}}return u}function s(e,t,n){return o(e,t,n,{once:!0})}function l(e){return e=e.toLowerCase(),!(!d[e]||0===d[e].length)}var u=this,c,d={},f;t=t||{},c=t.scope||u,f=t.toggleEvent||n,u.fire=i,u.on=o,u.off=a,u.once=s,u.has=l}var n=e.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," ");return t.isNative=function(e){return!!n[e.toLowerCase()]},t}),r(fe,[],function(){function e(e){this.create=e.create}return e.create=function(t,n){return new e({create:function(e,r){function i(t){e.set(r,t.value)}function o(e){t.set(n,e.value)}var a;return e.on("change:"+r,o),t.on("change:"+n,i),a=e._bindings,a||(a=e._bindings=[],e.on("destroy",function(){for(var e=a.length;e--;)a[e]()})),a.push(function(){t.off("change:"+n,i)}),t.get(n)}})},e}),r(pe,[de],function(e){function t(t){return t._eventDispatcher||(t._eventDispatcher=new e({scope:t,toggleEvent:function(n,r){e.isNative(n)&&t.toggleNativeEvent&&t.toggleNativeEvent(n,r)}})),t._eventDispatcher}return{fire:function(e,n,r){var i=this;if(i.removed&&"remove"!==e)return n;if(n=t(i).fire(e,n,r),r!==!1&&i.parent)for(var o=i.parent();o&&!n.isPropagationStopped();)o.fire(e,n,!1),o=o.parent();return n},on:function(e,n,r){return t(this).on(e,n,r)},off:function(e,n){return t(this).off(e,n)},once:function(e,n){return t(this).once(e,n)},hasEventListeners:function(e){return t(this).has(e)}}}),r(he,[fe,pe,ce,m],function(e,t,n,r){function i(e){return e.nodeType>0}function o(e,t){var n,a;if(e===t)return!0;if(null===e||null===t)return e===t;if("object"!=typeof e||"object"!=typeof t)return e===t;if(r.isArray(t)){if(e.length!==t.length)return!1;for(n=e.length;n--;)if(!o(e[n],t[n]))return!1}if(i(e)||i(t))return e===t;a={};for(n in t){if(!o(e[n],t[n]))return!1;a[n]=!0}for(n in e)if(!a[n]&&!o(e[n],t[n]))return!1;return!0}return n.extend({Mixins:[t],init:function(t){var n,r;t=t||{};for(n in t)r=t[n],r instanceof e&&(t[n]=r.create(this,n));this.data=t},set:function(t,n){var r,i,a=this.data[t];if(n instanceof e&&(n=n.create(this,t)),"object"==typeof t){for(r in t)this.set(r,t[r]);return this}return o(a,n)||(this.data[t]=n,i={target:this,name:t,value:n,oldValue:a},this.fire("change:"+t,i),this.fire("change",i)),this},get:function(e){return this.data[e]},has:function(e){return e in this.data},bind:function(t){return e.create(this,t)},destroy:function(){this.fire("destroy")}})}),r(me,[ce],function(e){function t(e){for(var t=[],n=e.length,r;n--;)r=e[n],r.__checked||(t.push(r),r.__checked=1);for(n=t.length;n--;)delete t[n].__checked;return t}var n=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,r=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,i=/^\s*|\s*$/g,o,a=e.extend({init:function(e){function t(e){if(e)return e=e.toLowerCase(),function(t){return"*"===e||t.type===e}}function o(e){if(e)return function(t){return t._name===e}}function a(e){if(e)return e=e.split("."),function(t){for(var n=e.length;n--;)if(!t.classes.contains(e[n]))return!1;return!0}}function s(e,t,n){if(e)return function(r){var i=r[e]?r[e]():"";return t?"="===t?i===n:"*="===t?i.indexOf(n)>=0:"~="===t?(" "+i+" ").indexOf(" "+n+" ")>=0:"!="===t?i!=n:"^="===t?0===i.indexOf(n):"$="===t&&i.substr(i.length-n.length)===n:!!n}}function l(e){var t;if(e)return e=/(?:not\((.+)\))|(.+)/i.exec(e),e[1]?(t=c(e[1],[]),function(e){return!d(e,t)}):(e=e[2],function(t,n,r){return"first"===e?0===n:"last"===e?n===r-1:"even"===e?n%2===0:"odd"===e?n%2===1:!!t[e]&&t[e]()})}function u(e,r,u){function c(e){e&&r.push(e)}var d;return d=n.exec(e.replace(i,"")),c(t(d[1])),c(o(d[2])),c(a(d[3])),c(s(d[4],d[5],d[6])),c(l(d[7])),r.pseudo=!!d[7],r.direct=u,r}function c(e,t){var n=[],i,o,a;do if(r.exec(""),o=r.exec(e),o&&(e=o[3],n.push(o[1]),o[2])){i=o[3];break}while(o);for(i&&c(i,t),e=[],a=0;a<n.length;a++)">"!=n[a]&&e.push(u(n[a],[],">"===n[a-1]));return t.push(e),t}var d=this.match;this._selectors=c(e,[])},match:function(e,t){var n,r,i,o,a,s,l,u,c,d,f,p,h;for(t=t||this._selectors,n=0,r=t.length;n<r;n++){for(a=t[n],o=a.length,h=e,p=0,i=o-1;i>=0;i--)for(u=a[i];h;){if(u.pseudo)for(f=h.parent().items(),c=d=f.length;c--&&f[c]!==h;);for(s=0,l=u.length;s<l;s++)if(!u[s](h,c,d)){s=l+1;break}if(s===l){p++;break}if(i===o-1)break;h=h.parent()}if(p===o)return!0}return!1},find:function(e){function n(e,t,i){var o,a,s,l,u,c=t[i];for(o=0,a=e.length;o<a;o++){for(u=e[o],s=0,l=c.length;s<l;s++)if(!c[s](u,o,a)){s=l+1;break}if(s===l)i==t.length-1?r.push(u):u.items&&n(u.items(),t,i+1);else if(c.direct)return;u.items&&n(u.items(),t,i)}}var r=[],i,s,l=this._selectors;if(e.items){for(i=0,s=l.length;i<s;i++)n(e.items(),l[i],0);s>1&&(r=t(r))}return o||(o=a.Collection),new o(r)}});return a}),r(ge,[m,me,ce],function(e,t,n){var r,i,o=Array.prototype.push,a=Array.prototype.slice;return i={length:0,init:function(e){e&&this.add(e)},add:function(t){var n=this;return e.isArray(t)?o.apply(n,t):t instanceof r?n.add(t.toArray()):o.call(n,t),n},set:function(e){var t=this,n=t.length,r;for(t.length=0,t.add(e),r=t.length;r<n;r++)delete t[r];return t},filter:function(e){var n=this,i,o,a=[],s,l;for("string"==typeof e?(e=new t(e),l=function(t){return e.match(t)}):l=e,i=0,o=n.length;i<o;i++)s=n[i],l(s)&&a.push(s);return new r(a)},slice:function(){return new r(a.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},each:function(t){return e.each(this,t),this},toArray:function(){return e.toArray(this)},indexOf:function(e){for(var t=this,n=t.length;n--&&t[n]!==e;);return n},reverse:function(){return new r(e.toArray(this).reverse())},hasClass:function(e){return!!this[0]&&this[0].classes.contains(e)},prop:function(e,t){var n=this,r,i;return t!==r?(n.each(function(n){n[e]&&n[e](t)}),n):(i=n[0],i&&i[e]?i[e]():void 0)},exec:function(t){var n=this,r=e.toArray(arguments).slice(1);return n.each(function(e){e[t]&&e[t].apply(e,r)}),n},remove:function(){for(var e=this.length;e--;)this[e].remove();return this},addClass:function(e){return this.each(function(t){t.classes.add(e)})},removeClass:function(e){return this.each(function(t){t.classes.remove(e)})}},e.each("fire on off show hide append prepend before after reflow".split(" "),function(t){i[t]=function(){var n=e.toArray(arguments);return this.each(function(e){t in e&&e[t].apply(e,n)}),this}}),e.each("text name disabled active selected checked visible parent value data".split(" "),function(e){i[e]=function(t){return this.prop(e,t)}}),r=n.extend(i),t.Collection=r,r}),r(ve,[d,m,w],function(e,t,n){var r=0,i={id:function(){return"mceu_"+r++},create:function(e,r,i){var o=document.createElement(e);return n.DOM.setAttribs(o,r),"string"==typeof i?o.innerHTML=i:t.each(i,function(e){e.nodeType&&o.appendChild(e)}),o},createFragment:function(e){return n.DOM.createFragment(e)},getWindowSize:function(){return n.DOM.getViewPort()},getSize:function(e){var t,n;if(e.getBoundingClientRect){var r=e.getBoundingClientRect();t=Math.max(r.width||r.right-r.left,e.offsetWidth),n=Math.max(r.height||r.bottom-r.bottom,e.offsetHeight)}else t=e.offsetWidth,n=e.offsetHeight;return{width:t,height:n}},getPos:function(e,t){return n.DOM.getPos(e,t||i.getContainer())},getContainer:function(){return e.container?e.container:document.body},getViewPort:function(e){return n.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,t){return n.DOM.addClass(e,t)},removeClass:function(e,t){return n.DOM.removeClass(e,t)},hasClass:function(e,t){return n.DOM.hasClass(e,t)},toggleClass:function(e,t,r){return n.DOM.toggleClass(e,t,r)},css:function(e,t,r){return n.DOM.setStyle(e,t,r)},getRuntimeStyle:function(e,t){return n.DOM.getStyle(e,t,!0)},on:function(e,t,r,i){
return n.DOM.bind(e,t,r,i)},off:function(e,t,r){return n.DOM.unbind(e,t,r)},fire:function(e,t,r){return n.DOM.fire(e,t,r)},innerHtml:function(e,t){n.DOM.setHTML(e,t)}};return i}),r(ye,[],function(){return{parseBox:function(e){var t,n=10;if(e)return"number"==typeof e?(e=e||0,{top:e,left:e,bottom:e,right:e}):(e=e.split(" "),t=e.length,1===t?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&&(e[3]=e[1]),{top:parseInt(e[0],n)||0,right:parseInt(e[1],n)||0,bottom:parseInt(e[2],n)||0,left:parseInt(e[3],n)||0})},measureBox:function(e,t){function n(t){var n=document.defaultView;return n?(t=t.replace(/[A-Z]/g,function(e){return"-"+e}),n.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle[t]}function r(e){var t=parseFloat(n(e),10);return isNaN(t)?0:t}return{top:r(t+"TopWidth"),right:r(t+"RightWidth"),bottom:r(t+"BottomWidth"),left:r(t+"LeftWidth")}}}}),r(be,[m],function(e){function t(){}function n(e){this.cls=[],this.cls._map={},this.onchange=e||t,this.prefix=""}return e.extend(n.prototype,{add:function(e){return e&&!this.contains(e)&&(this.cls._map[e]=!0,this.cls.push(e),this._change()),this},remove:function(e){if(this.contains(e)){for(var t=0;t<this.cls.length&&this.cls[t]!==e;t++);this.cls.splice(t,1),delete this.cls._map[e],this._change()}return this},toggle:function(e,t){var n=this.contains(e);return n!==t&&(n?this.remove(e):this.add(e),this._change()),this},contains:function(e){return!!this.cls._map[e]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),n.prototype.toString=function(){var e;if(this.clsValue)return this.clsValue;e="";for(var t=0;t<this.cls.length;t++)t>0&&(e+=" "),e+=this.prefix+this.cls[t];return e},n}),r(Ce,[c],function(e){var t={},n;return{add:function(r){var i=r.parent();if(i){if(!i._layout||i._layout.isNative())return;t[i._id]||(t[i._id]=i),n||(n=!0,e.requestAnimationFrame(function(){var e,r;n=!1;for(e in t)r=t[e],r.state.get("rendered")&&r.reflow();t={}},document.body))}},remove:function(e){t[e._id]&&delete t[e._id]}}}),r(xe,[ce,m,de,he,ge,ve,g,ye,be,Ce],function(e,t,n,r,i,o,a,s,l,u){function c(e){return e._eventDispatcher||(e._eventDispatcher=new n({scope:e,toggleEvent:function(t,r){r&&n.isNative(t)&&(e._nativeEvents||(e._nativeEvents={}),e._nativeEvents[t]=!0,e.state.get("rendered")&&d(e))}})),e._eventDispatcher}function d(e){function t(t){var n=e.getParentCtrl(t.target);n&&n.fire(t.type,t)}function n(){var e=u._lastHoverCtrl;e&&(e.fire("mouseleave",{target:e.getEl()}),e.parents().each(function(e){e.fire("mouseleave",{target:e.getEl()})}),u._lastHoverCtrl=null)}function r(t){var n=e.getParentCtrl(t.target),r=u._lastHoverCtrl,i=0,o,a,s;if(n!==r){if(u._lastHoverCtrl=n,a=n.parents().toArray().reverse(),a.push(n),r){for(s=r.parents().toArray().reverse(),s.push(r),i=0;i<s.length&&a[i]===s[i];i++);for(o=s.length-1;o>=i;o--)r=s[o],r.fire("mouseleave",{target:r.getEl()})}for(o=i;o<a.length;o++)n=a[o],n.fire("mouseenter",{target:n.getEl()})}}function i(t){t.preventDefault(),"mousewheel"==t.type?(t.deltaY=-.025*t.wheelDelta,t.wheelDeltaX&&(t.deltaX=-.025*t.wheelDeltaX)):(t.deltaX=0,t.deltaY=t.detail),t=e.fire("wheel",t)}var o,s,l,u,c,d;if(c=e._nativeEvents){for(l=e.parents().toArray(),l.unshift(e),o=0,s=l.length;!u&&o<s;o++)u=l[o]._eventsRoot;for(u||(u=l[l.length-1]||e),e._eventsRoot=u,s=o,o=0;o<s;o++)l[o]._eventsRoot=u;var h=u._delegates;h||(h=u._delegates={});for(d in c){if(!c)return!1;"wheel"!==d||p?("mouseenter"===d||"mouseleave"===d?u._hasMouseEnter||(a(u.getEl()).on("mouseleave",n).on("mouseover",r),u._hasMouseEnter=1):h[d]||(a(u.getEl()).on(d,t),h[d]=!0),c[d]=!1):f?a(e.getEl()).on("mousewheel",i):a(e.getEl()).on("DOMMouseScroll",i)}}}var f="onmousewheel"in document,p=!1,h="mce-",m,g=0,v={Statics:{classPrefix:h},isRtl:function(){return m.rtl},classPrefix:h,init:function(e){function n(e){var t;for(e=e.split(" "),t=0;t<e.length;t++)i.classes.add(e[t])}var i=this,o,u;i.settings=e=t.extend({},i.Defaults,e),i._id=e.id||"mceu_"+g++,i._aria={role:e.role},i._elmCache={},i.$=a,i.state=new r({visible:!0,active:!1,disabled:!1,value:""}),i.data=new r(e.data),i.classes=new l(function(){i.state.get("rendered")&&(i.getEl().className=this.toString())}),i.classes.prefix=i.classPrefix,o=e.classes,o&&(i.Defaults&&(u=i.Defaults.classes,u&&o!=u&&n(u)),n(o)),t.each("title text name visible disabled active value".split(" "),function(t){t in e&&i[t](e[t])}),i.on("click",function(){if(i.disabled())return!1}),i.settings=e,i.borderBox=s.parseBox(e.border),i.paddingBox=s.parseBox(e.padding),i.marginBox=s.parseBox(e.margin),e.hidden&&i.hide()},Properties:"parent,name",getContainerElm:function(){return o.getContainer()},getParentCtrl:function(e){for(var t,n=this.getRoot().controlIdLookup;e&&n&&!(t=n[e.id]);)e=e.parentNode;return t},initLayoutRect:function(){var e=this,t=e.settings,n,r,i=e.getEl(),a,l,u,c,d,f,p,h;n=e.borderBox=e.borderBox||s.measureBox(i,"border"),e.paddingBox=e.paddingBox||s.measureBox(i,"padding"),e.marginBox=e.marginBox||s.measureBox(i,"margin"),h=o.getSize(i),f=t.minWidth,p=t.minHeight,u=f||h.width,c=p||h.height,a=t.width,l=t.height,d=t.autoResize,d="undefined"!=typeof d?d:!a&&!l,a=a||u,l=l||c;var m=n.left+n.right,g=n.top+n.bottom,v=t.maxWidth||65535,y=t.maxHeight||65535;return e._layoutRect=r={x:t.x||0,y:t.y||0,w:a,h:l,deltaW:m,deltaH:g,contentW:a-m,contentH:l-g,innerW:a-m,innerH:l-g,startMinWidth:f||0,startMinHeight:p||0,minW:Math.min(u,v),minH:Math.min(c,y),maxW:v,maxH:y,autoResize:d,scrollW:0},e._lastLayoutRect={},r},layoutRect:function(e){var t=this,n=t._layoutRect,r,i,o,a,s,l;return n||(n=t.initLayoutRect()),e?(o=n.deltaW,a=n.deltaH,e.x!==s&&(n.x=e.x),e.y!==s&&(n.y=e.y),e.minW!==s&&(n.minW=e.minW),e.minH!==s&&(n.minH=e.minH),i=e.w,i!==s&&(i=i<n.minW?n.minW:i,i=i>n.maxW?n.maxW:i,n.w=i,n.innerW=i-o),i=e.h,i!==s&&(i=i<n.minH?n.minH:i,i=i>n.maxH?n.maxH:i,n.h=i,n.innerH=i-a),i=e.innerW,i!==s&&(i=i<n.minW-o?n.minW-o:i,i=i>n.maxW-o?n.maxW-o:i,n.innerW=i,n.w=i+o),i=e.innerH,i!==s&&(i=i<n.minH-a?n.minH-a:i,i=i>n.maxH-a?n.maxH-a:i,n.innerH=i,n.h=i+a),e.contentW!==s&&(n.contentW=e.contentW),e.contentH!==s&&(n.contentH=e.contentH),r=t._lastLayoutRect,r.x===n.x&&r.y===n.y&&r.w===n.w&&r.h===n.h||(l=m.repaintControls,l&&l.map&&!l.map[t._id]&&(l.push(t),l.map[t._id]=!0),r.x=n.x,r.y=n.y,r.w=n.w,r.h=n.h),t):n},repaint:function(){var e=this,t,n,r,i,o,a,s,l,u,c;u=document.createRange?function(e){return e}:Math.round,t=e.getEl().style,i=e._layoutRect,l=e._lastRepaintRect||{},o=e.borderBox,a=o.left+o.right,s=o.top+o.bottom,i.x!==l.x&&(t.left=u(i.x)+"px",l.x=i.x),i.y!==l.y&&(t.top=u(i.y)+"px",l.y=i.y),i.w!==l.w&&(c=u(i.w-a),t.width=(c>=0?c:0)+"px",l.w=i.w),i.h!==l.h&&(c=u(i.h-s),t.height=(c>=0?c:0)+"px",l.h=i.h),e._hasBody&&i.innerW!==l.innerW&&(c=u(i.innerW),r=e.getEl("body"),r&&(n=r.style,n.width=(c>=0?c:0)+"px"),l.innerW=i.innerW),e._hasBody&&i.innerH!==l.innerH&&(c=u(i.innerH),r=r||e.getEl("body"),r&&(n=n||r.style,n.height=(c>=0?c:0)+"px"),l.innerH=i.innerH),e._lastRepaintRect=l,e.fire("repaint",{},!1)},updateLayoutRect:function(){var e=this;e.parent()._lastRect=null,o.css(e.getEl(),{width:"",height:""}),e._layoutRect=e._lastRepaintRect=e._lastLayoutRect=null,e.initLayoutRect()},on:function(e,t){function n(e){var t,n;return"string"!=typeof e?e:function(i){return t||r.parentsAndSelf().each(function(r){var i=r.settings.callbacks;if(i&&(t=i[e]))return n=r,!1}),t?t.call(n,i):(i.action=e,void this.fire("execute",i))}}var r=this;return c(r).on(e,n(t)),r},off:function(e,t){return c(this).off(e,t),this},fire:function(e,t,n){var r=this;if(t=t||{},t.control||(t.control=r),t=c(r).fire(e,t),n!==!1&&r.parent)for(var i=r.parent();i&&!t.isPropagationStopped();)i.fire(e,t,!1),i=i.parent();return t},hasEventListeners:function(e){return c(this).has(e)},parents:function(e){var t=this,n,r=new i;for(n=t.parent();n;n=n.parent())r.add(n);return e&&(r=r.filter(e)),r},parentsAndSelf:function(e){return new i(this).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},innerHtml:function(e){return this.$el.html(e),this},getEl:function(e){var t=e?this._id+"-"+e:this._id;return this._elmCache[t]||(this._elmCache[t]=a("#"+t)[0]),this._elmCache[t]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){return this.getEl().blur(),this},aria:function(e,t){var n=this,r=n.getEl(n.ariaTarget);return"undefined"==typeof t?n._aria[e]:(n._aria[e]=t,n.state.get("rendered")&&r.setAttribute("role"==e?e:"aria-"+e,t),n)},encode:function(e,t){return t!==!1&&(e=this.translate(e)),(e||"").replace(/[&<>"]/g,function(e){return"&#"+e.charCodeAt(0)+";"})},translate:function(e){return m.translate?m.translate(e):e},before:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t),!0),t},after:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t)),t},remove:function(){var e=this,t=e.getEl(),n=e.parent(),r,i;if(e.items){var o=e.items().toArray();for(i=o.length;i--;)o[i].remove()}n&&n.items&&(r=[],n.items().each(function(t){t!==e&&r.push(t)}),n.items().set(r),n._lastRect=null),e._eventsRoot&&e._eventsRoot==e&&a(t).off();var s=e.getRoot().controlIdLookup;return s&&delete s[e._id],t&&t.parentNode&&t.parentNode.removeChild(t),e.state.set("rendered",!1),e.state.destroy(),e.fire("remove"),e},renderBefore:function(e){return a(e).before(this.renderHtml()),this.postRender(),this},renderTo:function(e){return a(e||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var e=this,t=e.settings,n,r,i,o,s;e.$el=a(e.getEl()),e.state.set("rendered",!0);for(o in t)0===o.indexOf("on")&&e.on(o.substr(2),t[o]);if(e._eventsRoot){for(i=e.parent();!s&&i;i=i.parent())s=i._eventsRoot;if(s)for(o in s._nativeEvents)e._nativeEvents[o]=!0}d(e),t.style&&(n=e.getEl(),n&&(n.setAttribute("style",t.style),n.style.cssText=t.style)),e.settings.border&&(r=e.borderBox,e.$el.css({"border-top-width":r.top,"border-right-width":r.right,"border-bottom-width":r.bottom,"border-left-width":r.left}));var l=e.getRoot();l.controlIdLookup||(l.controlIdLookup={}),l.controlIdLookup[e._id]=e;for(var c in e._aria)e.aria(c,e._aria[c]);e.state.get("visible")===!1&&(e.getEl().style.display="none"),e.bindStates(),e.state.on("change:visible",function(t){var n=t.value,r;e.state.get("rendered")&&(e.getEl().style.display=n===!1?"none":"",e.getEl().getBoundingClientRect()),r=e.parent(),r&&(r._lastRect=null),e.fire(n?"show":"hide"),u.add(e)}),e.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(e){function t(e,t){var n,r,i=e;for(n=r=0;i&&i!=t&&i.nodeType;)n+=i.offsetLeft||0,r+=i.offsetTop||0,i=i.offsetParent;return{x:n,y:r}}var n=this.getEl(),r=n.parentNode,i,o,a,s,l,u,c=t(n,r);return i=c.x,o=c.y,a=n.offsetWidth,s=n.offsetHeight,l=r.clientWidth,u=r.clientHeight,"end"==e?(i-=l-a,o-=u-s):"center"==e&&(i-=l/2-a/2,o-=u/2-s/2),r.scrollLeft=i,r.scrollTop=o,this},getRoot:function(){for(var e=this,t,n=[];e;){if(e.rootControl){t=e.rootControl;break}n.push(e),t=e,e=e.parent()}t||(t=this);for(var r=n.length;r--;)n[r].rootControl=t;return t},reflow:function(){u.remove(this);var e=this.parent();return e._layout&&!e._layout.isNative()&&e.reflow(),this}};return t.each("text title visible disabled active value".split(" "),function(e){v[e]=function(t){return 0===arguments.length?this.state.get(e):("undefined"!=typeof t&&this.state.set(e,t),this)}}),m=e.extend(v)}),r(we,[],function(){var e={},t;return{add:function(t,n){e[t.toLowerCase()]=n},has:function(t){return!!e[t.toLowerCase()]},create:function(n,r){var i,o,a;if(!t){a=tinymce.ui;for(o in a)e[o.toLowerCase()]=a[o];t=!0}if("string"==typeof n?(r=r||{},r.type=n):(r=n,n=r.type),n=n.toLowerCase(),i=e[n],!i)throw new Error("Could not find control by type: "+n);return i=new i(r),i.type=n,i}}}),r(Ee,[],function(){return function(e){function t(e){return e&&1===e.nodeType}function n(e){return e=e||C,t(e)?e.getAttribute("role"):null}function r(e){for(var t,r=e||C;r=r.parentNode;)if(t=n(r))return t}function i(e){var n=C;if(t(n))return n.getAttribute("aria-"+e)}function o(e){var t=e.tagName.toUpperCase();return"INPUT"==t||"TEXTAREA"==t||"SELECT"==t}function a(e){return!(!o(e)||e.hidden)||!!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(n(e))}function s(e){function t(e){if(1==e.nodeType&&"none"!=e.style.display&&!e.disabled){a(e)&&n.push(e);for(var r=0;r<e.childNodes.length;r++)t(e.childNodes[r])}}var n=[];return t(e||b.getEl()),n}function l(e){var t,n;e=e||x,n=e.parents().toArray(),n.unshift(e);for(var r=0;r<n.length&&(t=n[r],!t.settings.ariaRoot);r++);return t}function u(e){var t=l(e),n=s(t.getEl());t.settings.ariaRemember&&"lastAriaIndex"in t?c(t.lastAriaIndex,n):c(0,n)}function c(e,t){return e<0?e=t.length-1:e>=t.length&&(e=0),t[e]&&t[e].focus(),e}function d(e,t){var n=-1,r=l();t=t||s(r.getEl());for(var i=0;i<t.length;i++)t[i]===C&&(n=i);n+=e,r.lastAriaIndex=c(n,t)}function f(){var e=r();"tablist"==e?d(-1,s(C.parentNode)):x.parent().submenu?v():d(-1)}function p(){var e=n(),t=r();"tablist"==t?d(1,s(C.parentNode)):"menuitem"==e&&"menu"==t&&i("haspopup")?y():d(1)}function h(){d(-1)}function m(){var e=n(),t=r();"menuitem"==e&&"menubar"==t?y():"button"==e&&i("haspopup")?y({key:"down"}):d(1)}function g(e){var t=r();if("tablist"==t){var n=s(x.getEl("body"))[0];n&&n.focus()}else d(e.shiftKey?-1:1)}function v(){x.fire("cancel")}function y(e){e=e||{},x.fire("click",{target:C,aria:e})}var b=e.root,C,x;try{C=document.activeElement}catch(w){C=document.body}return x=b.getParentCtrl(C),b.on("keydown",function(e){function t(e,t){o(C)||"slider"!==n(C)&&t(e)!==!1&&e.preventDefault()}if(!e.isDefaultPrevented())switch(e.keyCode){case 37:t(e,f);break;case 39:t(e,p);break;case 38:t(e,h);break;case 40:t(e,m);break;case 27:v();break;case 14:case 13:case 32:t(e,y);break;case 9:g(e)!==!1&&e.preventDefault()}}),b.on("focusin",function(e){C=e.target,x=e.control}),{focusFirst:u}}}),r(Ne,[xe,ge,me,we,Ee,m,g,be,Ce],function(e,t,n,r,i,o,a,s,l){var u={};return e.extend({init:function(e){var n=this;n._super(e),e=n.settings,e.fixed&&n.state.set("fixed",!0),n._items=new t,n.isRtl()&&n.classes.add("rtl"),n.bodyClasses=new s(function(){n.state.get("rendered")&&(n.getEl("body").className=this.toString())}),n.bodyClasses.prefix=n.classPrefix,n.classes.add("container"),n.bodyClasses.add("container-body"),e.containerCls&&n.classes.add(e.containerCls),n._layout=r.create((e.layout||"")+"layout"),n.settings.items?n.add(n.settings.items):n.add(n.render()),n._hasBody=!0},items:function(){return this._items},find:function(e){return e=u[e]=u[e]||new n(e),e.find(this)},add:function(e){var t=this;return t.items().add(t.create(e)).parent(t),t},focus:function(e){var t=this,n,r,i;return e&&(r=t.keyboardNav||t.parents().eq(-1)[0].keyboardNav)?void r.focusFirst(t):(i=t.find("*"),t.statusbar&&i.add(t.statusbar.items()),i.each(function(e){return e.settings.autofocus?(n=null,!1):void(e.canFocus&&(n=n||e))}),n&&n.focus(),t)},replace:function(e,t){for(var n,r=this.items(),i=r.length;i--;)if(r[i]===e){r[i]=t;break}i>=0&&(n=t.getEl(),n&&n.parentNode.removeChild(n),n=e.getEl(),n&&n.parentNode.removeChild(n)),t.parent(this)},create:function(t){var n=this,i,a=[];return o.isArray(t)||(t=[t]),o.each(t,function(t){t&&(t instanceof e||("string"==typeof t&&(t={type:t}),i=o.extend({},n.settings.defaults,t),t.type=i.type=i.type||t.type||n.settings.defaultType||(i.defaults?i.defaults.type:null),t=r.create(i)),a.push(t))}),a},renderNew:function(){var e=this;return e.items().each(function(t,n){var r;t.parent(e),t.state.get("rendered")||(r=e.getEl("body"),r.hasChildNodes()&&n<=r.childNodes.length-1?a(r.childNodes[n]).before(t.renderHtml()):a(r).append(t.renderHtml()),t.postRender(),l.add(t))}),e._layout.applyClasses(e.items().filter(":visible")),e._lastRect=null,e},append:function(e){return this.add(e).renderNew()},prepend:function(e){var t=this;return t.items().set(t.create(e).concat(t.items().toArray())),t.renderNew()},insert:function(e,t,n){var r=this,i,o,a;return e=r.create(e),i=r.items(),!n&&t<i.length-1&&(t+=1),t>=0&&t<i.length&&(o=i.slice(0,t).toArray(),a=i.slice(t).toArray(),i.set(o.concat(e,a))),r.renderNew()},fromJSON:function(e){var t=this;for(var n in e)t.find("#"+n).value(e[n]);return t},toJSON:function(){var e=this,t={};return e.find("*").each(function(e){var n=e.name(),r=e.value();n&&"undefined"!=typeof r&&(t[n]=r)}),t},renderHtml:function(){var e=this,t=e._layout,n=this.settings.role;return e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"'+(n?' role="'+this.settings.role+'"':"")+'><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"},postRender:function(){var e=this,t;return e.items().exec("postRender"),e._super(),e._layout.postRender(e),e.state.set("rendered",!0),e.settings.style&&e.$el.css(e.settings.style),e.settings.border&&(t=e.borderBox,e.$el.css({"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left})),e.parent()||(e.keyboardNav=new i({root:e})),e},initLayoutRect:function(){var e=this,t=e._super();return e._layout.recalc(e),t},recalc:function(){var e=this,t=e._layoutRect,n=e._lastRect;if(!n||n.w!=t.w||n.h!=t.h)return e._layout.recalc(e),t=e.layoutRect(),e._lastRect={x:t.x,y:t.y,w:t.w,h:t.h},!0},reflow:function(){var t;if(l.remove(this),this.visible()){for(e.repaintControls=[],e.repaintControls.map={},this.recalc(),t=e.repaintControls.length;t--;)e.repaintControls[t].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),e.repaintControls=[]}return this}})}),r(_e,[g],function(e){function t(e){var t,n,r,i,o,a,s,l,u=Math.max;return t=e.documentElement,n=e.body,r=u(t.scrollWidth,n.scrollWidth),i=u(t.clientWidth,n.clientWidth),o=u(t.offsetWidth,n.offsetWidth),a=u(t.scrollHeight,n.scrollHeight),s=u(t.clientHeight,n.clientHeight),l=u(t.offsetHeight,n.offsetHeight),{width:r<o?i:r,height:a<l?s:a}}function n(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}return function(r,i){function o(){return s.getElementById(i.handle||r)}var a,s=i.document||document,l,u,c,d,f,p;i=i||{},u=function(r){var u=t(s),h,m;n(r),r.preventDefault(),l=r.button,h=o(),f=r.screenX,p=r.screenY,m=window.getComputedStyle?window.getComputedStyle(h,null).getPropertyValue("cursor"):h.runtimeStyle.cursor,a=e("<div></div>").css({position:"absolute",top:0,left:0,width:u.width,height:u.height,zIndex:2147483647,opacity:1e-4,cursor:m}).appendTo(s.body),e(s).on("mousemove touchmove",d).on("mouseup touchend",c),i.start(r)},d=function(e){return n(e),e.button!==l?c(e):(e.deltaX=e.screenX-f,e.deltaY=e.screenY-p,e.preventDefault(),void i.drag(e))},c=function(t){n(t),e(s).off("mousemove touchmove",d).off("mouseup touchend",c),a.remove(),i.stop&&i.stop(t)},this.destroy=function(){e(o()).off()},e(o()).on("mousedown touchstart",u)}}),r(Se,[g,_e],function(e,t){return{init:function(){var e=this;e.on("repaint",e.renderScroll)},renderScroll:function(){function n(){function t(t,a,s,l,u,c){var d,f,p,h,m,g,v,y,b;if(f=i.getEl("scroll"+t)){if(y=a.toLowerCase(),b=s.toLowerCase(),e(i.getEl("absend")).css(y,i.layoutRect()[l]-1),!u)return void e(f).css("display","none");e(f).css("display","block"),d=i.getEl("body"),p=i.getEl("scroll"+t+"t"),h=d["client"+s]-2*o,h-=n&&r?f["client"+c]:0,m=d["scroll"+s],g=h/m,v={},v[y]=d["offset"+a]+o,v[b]=h,e(f).css(v),v={},v[y]=d["scroll"+a]*g,v[b]=h*g,e(p).css(v)}}var n,r,a;a=i.getEl("body"),n=a.scrollWidth>a.clientWidth,r=a.scrollHeight>a.clientHeight,t("h","Left","Width","contentW",n,"Height"),t("v","Top","Height","contentH",r,"Width")}function r(){function n(n,r,a,s,l){var u,c=i._id+"-scroll"+n,d=i.classPrefix;e(i.getEl()).append('<div id="'+c+'" class="'+d+"scrollbar "+d+"scrollbar-"+n+'"><div id="'+c+'t" class="'+d+'scrollbar-thumb"></div></div>'),i.draghelper=new t(c+"t",{start:function(){u=i.getEl("body")["scroll"+r],e("#"+c).addClass(d+"active")},drag:function(e){var t,c,d,f,p=i.layoutRect();c=p.contentW>p.innerW,d=p.contentH>p.innerH,f=i.getEl("body")["client"+a]-2*o,f-=c&&d?i.getEl("scroll"+n)["client"+l]:0,t=f/i.getEl("body")["scroll"+a],i.getEl("body")["scroll"+r]=u+e["delta"+s]/t},stop:function(){e("#"+c).removeClass(d+"active")}})}i.classes.add("scroll"),n("v","Top","Height","Y","Width"),n("h","Left","Width","X","Height")}var i=this,o=2;i.settings.autoScroll&&(i._hasScroll||(i._hasScroll=!0,r(),i.on("wheel",function(e){var t=i.getEl("body");t.scrollLeft+=10*(e.deltaX||0),t.scrollTop+=10*e.deltaY,n()}),e(i.getEl("body")).on("scroll",n)),n())}}}),r(ke,[Ne,Se],function(e,t){return e.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[t],renderHtml:function(){var e=this,t=e._layout,n=e.settings.html;return e.preRender(),t.preRender(e),"undefined"==typeof n?n='<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div>":("function"==typeof n&&(n=n.call(e)),e._hasBody=!1),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1" role="group">'+(e._preBodyHtml||"")+n+"</div>"}})}),r(Te,[ve],function(e){function t(t,n,r){var i,o,a,s,l,u,c,d,f,p;return f=e.getViewPort(),o=e.getPos(n),a=o.x,s=o.y,t.state.get("fixed")&&"static"==e.getRuntimeStyle(document.body,"position")&&(a-=f.x,s-=f.y),i=t.getEl(),p=e.getSize(i),l=p.width,u=p.height,p=e.getSize(n),c=p.width,d=p.height,r=(r||"").split(""),"b"===r[0]&&(s+=d),"r"===r[1]&&(a+=c),"c"===r[0]&&(s+=Math.round(d/2)),"c"===r[1]&&(a+=Math.round(c/2)),"b"===r[3]&&(s-=u),"r"===r[4]&&(a-=l),"c"===r[3]&&(s-=Math.round(u/2)),"c"===r[4]&&(a-=Math.round(l/2)),{x:a,y:s,w:l,h:u}}return{testMoveRel:function(n,r){for(var i=e.getViewPort(),o=0;o<r.length;o++){var a=t(this,n,r[o]);if(this.state.get("fixed")){if(a.x>0&&a.x+a.w<i.w&&a.y>0&&a.y+a.h<i.h)return r[o]}else if(a.x>i.x&&a.x+a.w<i.w+i.x&&a.y>i.y&&a.y+a.h<i.h+i.y)return r[o]}return r[0]},moveRel:function(e,n){"string"!=typeof n&&(n=this.testMoveRel(e,n));var r=t(this,e,n);return this.moveTo(r.x,r.y)},moveBy:function(e,t){var n=this,r=n.layoutRect();return n.moveTo(r.x+e,r.y+t),n},moveTo:function(t,n){function r(e,t,n){return e<0?0:e+n>t?(e=t-n,e<0?0:e):e}var i=this;if(i.settings.constrainToViewport){var o=e.getViewPort(window),a=i.layoutRect();t=r(t,o.w+o.x,a.w),n=r(n,o.h+o.y,a.h)}return i.state.get("rendered")?i.layoutRect({x:t,y:n}).repaint():(i.settings.x=t,i.settings.y=n),i.fire("move",{x:t,y:n}),i}}}),r(Re,[ve],function(e){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(t,n){if(t<=1||n<=1){var r=e.getWindowSize();t=t<=1?t*r.w:t,n=n<=1?n*r.h:n}return this._layoutRect.autoResize=!1,this.layoutRect({minW:t,minH:n,w:t,h:n}).reflow()},resizeBy:function(e,t){var n=this,r=n.layoutRect();return n.resizeTo(r.w+e,r.h+t)}}}),r(Ae,[ke,Te,Re,ve,g,c],function(e,t,n,r,i,o){function a(e,t){for(;e;){if(e==t)return!0;e=e.parent()}}function s(e){for(var t=v.length;t--;){var n=v[t],r=n.getParentCtrl(e.target);if(n.settings.autohide){if(r&&(a(r,n)||n.parent()===r))continue;e=n.fire("autohide",{target:e.target}),e.isDefaultPrevented()||n.hide()}}}function l(){h||(h=function(e){2!=e.button&&s(e)},i(document).on("click touchstart",h))}function u(){m||(m=function(){var e;for(e=v.length;e--;)d(v[e])},i(window).on("scroll",m))}function c(){if(!g){var e=document.documentElement,t=e.clientWidth,n=e.clientHeight;g=function(){document.all&&t==e.clientWidth&&n==e.clientHeight||(t=e.clientWidth,n=e.clientHeight,C.hideAll())},i(window).on("resize",g)}}function d(e){function t(t,n){for(var r,i=0;i<v.length;i++)if(v[i]!=e)for(r=v[i].parent();r&&(r=r.parent());)r==e&&v[i].fixed(t).moveBy(0,n).repaint()}var n=r.getViewPort().y;e.settings.autofix&&(e.state.get("fixed")?e._autoFixY>n&&(e.fixed(!1).layoutRect({y:e._autoFixY}).repaint(),t(!1,e._autoFixY-n)):(e._autoFixY=e.layoutRect().y,e._autoFixY<n&&(e.fixed(!0).layoutRect({y:0}).repaint(),t(!0,n-e._autoFixY))))}function f(e,t){var n,r=C.zIndex||65535,o;if(e)y.push(t);else for(n=y.length;n--;)y[n]===t&&y.splice(n,1);if(y.length)for(n=0;n<y.length;n++)y[n].modal&&(r++,o=y[n]),y[n].getEl().style.zIndex=r,y[n].zIndex=r,r++;var a=i("#"+t.classPrefix+"modal-block",t.getContainerElm())[0];o?i(a).css("z-index",o.zIndex-1):a&&(a.parentNode.removeChild(a),b=!1),C.currentZIndex=r}function p(e){var t;for(t=v.length;t--;)v[t]===e&&v.splice(t,1);for(t=y.length;t--;)y[t]===e&&y.splice(t,1)}var h,m,g,v=[],y=[],b,C=e.extend({Mixins:[t,n],init:function(e){var t=this;t._super(e),t._eventsRoot=t,t.classes.add("floatpanel"),e.autohide&&(l(),c(),v.push(t)),e.autofix&&(u(),t.on("move",function(){d(this)})),t.on("postrender show",function(e){if(e.control==t){var n,r=t.classPrefix;t.modal&&!b&&(n=i("#"+r+"modal-block",t.getContainerElm()),n[0]||(n=i('<div id="'+r+'modal-block" class="'+r+"reset "+r+'fade"></div>').appendTo(t.getContainerElm())),o.setTimeout(function(){n.addClass(r+"in"),i(t.getEl()).addClass(r+"in")}),b=!0),f(!0,t)}}),t.on("show",function(){t.parents().each(function(e){if(e.state.get("fixed"))return t.fixed(!0),!1})}),e.popover&&(t._preBodyHtml='<div class="'+t.classPrefix+'arrow"></div>',t.classes.add("popover").add("bottom").add(t.isRtl()?"end":"start")),t.aria("label",e.ariaLabel),t.aria("labelledby",t._id),t.aria("describedby",t.describedBy||t._id+"-none")},fixed:function(e){var t=this;if(t.state.get("fixed")!=e){if(t.state.get("rendered")){var n=r.getViewPort();e?t.layoutRect().y-=n.y:t.layoutRect().y+=n.y}t.classes.toggle("fixed",e),t.state.set("fixed",e)}return t},show:function(){var e=this,t,n=e._super();for(t=v.length;t--&&v[t]!==e;);return t===-1&&v.push(e),n},hide:function(){return p(this),f(!1,this),this._super()},hideAll:function(){C.hideAll()},close:function(){var e=this;return e.fire("close").isDefaultPrevented()||(e.remove(),f(!1,e)),e},remove:function(){p(this),this._super()},postRender:function(){var e=this;return e.settings.bodyRole&&this.getEl("body").setAttribute("role",e.settings.bodyRole),e._super()}});return C.hideAll=function(){for(var e=v.length;e--;){var t=v[e];t&&t.settings.autohide&&(t.hide(),v.splice(e,1))}},C}),r(Be,[Ae,ke,ve,g,_e,ye,d,c],function(e,t,n,r,i,o,a,s){function l(e){var t="width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0",n=r("meta[name=viewport]")[0],i;a.overrideViewPort!==!1&&(n||(n=document.createElement("meta"),n.setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(n)),i=n.getAttribute("content"),i&&"undefined"!=typeof p&&(p=i),n.setAttribute("content",e?t:p))}function u(e,t){c()&&t===!1&&r([document.documentElement,document.body]).removeClass(e+"fullscreen")}function c(){for(var e=0;e<f.length;e++)if(f[e]._fullscreen)return!0;return!1}function d(){function e(){var e,t=n.getWindowSize(),r;for(e=0;e<f.length;e++)r=f[e].layoutRect(),f[e].moveTo(f[e].settings.x||Math.max(0,t.w/2-r.w/2),f[e].settings.y||Math.max(0,t.h/2-r.h/2))}if(!a.desktop){var t={w:window.innerWidth,h:window.innerHeight};s.setInterval(function(){var e=window.innerWidth,n=window.innerHeight;t.w==e&&t.h==n||(t={w:e,h:n},r(window).trigger("resize"))},100)}r(window).on("resize",e)}var f=[],p="",h=e.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var r=this;r._super(e),r.isRtl()&&r.classes.add("rtl"),r.classes.add("window"),r.bodyClasses.add("window-body"),r.state.set("fixed",!0),e.buttons&&(r.statusbar=new t({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:r.isRtl()?"start":"end",defaults:{type:"button"},items:e.buttons}),r.statusbar.classes.add("foot"),r.statusbar.parent(r)),r.on("click",function(e){var t=r.classPrefix+"close";(n.hasClass(e.target,t)||n.hasClass(e.target.parentNode,t))&&r.close()}),r.on("cancel",function(){r.close()}),r.aria("describedby",r.describedBy||r._id+"-none"),r.aria("label",e.title),r._fullscreen=!1},recalc:function(){var e=this,t=e.statusbar,r,i,o,a;e._fullscreen&&(e.layoutRect(n.getWindowSize()),e.layoutRect().contentH=e.layoutRect().innerH),e._super(),r=e.layoutRect(),e.settings.title&&!e._fullscreen&&(i=r.headerW,i>r.w&&(o=r.x-Math.max(0,i/2),e.layoutRect({w:i,x:o}),a=!0)),t&&(t.layoutRect({w:e.layoutRect().innerW}).recalc(),i=t.layoutRect().minW+r.deltaW,i>r.w&&(o=r.x-Math.max(0,i-r.w),e.layoutRect({w:i,x:o}),a=!0)),a&&e.recalc()},initLayoutRect:function(){var e=this,t=e._super(),r=0,i;if(e.settings.title&&!e._fullscreen){i=e.getEl("head");var o=n.getSize(i);t.headerW=o.width,t.headerH=o.height,r+=t.headerH}e.statusbar&&(r+=e.statusbar.layoutRect().h),t.deltaH+=r,t.minH+=r,t.h+=r;var a=n.getWindowSize();return t.x=e.settings.x||Math.max(0,a.w/2-t.w/2),t.y=e.settings.y||Math.max(0,a.h/2-t.h/2),t},renderHtml:function(){var e=this,t=e._layout,n=e._id,r=e.classPrefix,i=e.settings,o="",a="",s=i.html;return e.preRender(),t.preRender(e),i.title&&(o='<div id="'+n+'-head" class="'+r+'window-head"><div id="'+n+'-title" class="'+r+'title">'+e.encode(i.title)+'</div><div id="'+n+'-dragh" class="'+r+'dragh"></div><button type="button" class="'+r+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),i.url&&(s='<iframe src="'+i.url+'" tabindex="-1"></iframe>'),"undefined"==typeof s&&(s=t.renderHtml(e)),e.statusbar&&(a=e.statusbar.renderHtml()),'<div id="'+n+'" class="'+e.classes+'" hidefocus="1"><div class="'+e.classPrefix+'reset" role="application">'+o+'<div id="'+n+'-body" class="'+e.bodyClasses+'">'+s+"</div>"+a+"</div></div>"},fullscreen:function(e){var t=this,i=document.documentElement,a,l=t.classPrefix,u;if(e!=t._fullscreen)if(r(window).on("resize",function(){var e;if(t._fullscreen)if(a)t._timer||(t._timer=s.setTimeout(function(){var e=n.getWindowSize();t.moveTo(0,0).resizeTo(e.w,e.h),t._timer=0},50));else{e=(new Date).getTime();var r=n.getWindowSize();t.moveTo(0,0).resizeTo(r.w,r.h),(new Date).getTime()-e>50&&(a=!0)}}),u=t.layoutRect(),t._fullscreen=e,e){t._initial={x:u.x,y:u.y,w:u.w,h:u.h},t.borderBox=o.parseBox("0"),t.getEl("head").style.display="none",u.deltaH-=u.headerH+2,r([i,document.body]).addClass(l+"fullscreen"),t.classes.add("fullscreen");var c=n.getWindowSize();t.moveTo(0,0).resizeTo(c.w,c.h)}else t.borderBox=o.parseBox(t.settings.border),t.getEl("head").style.display="",u.deltaH+=u.headerH,r([i,document.body]).removeClass(l+"fullscreen"),t.classes.remove("fullscreen"),t.moveTo(t._initial.x,t._initial.y).resizeTo(t._initial.w,t._initial.h);return t.reflow()},postRender:function(){var e=this,t;setTimeout(function(){e.classes.add("in"),e.fire("open")},0),e._super(),e.statusbar&&e.statusbar.postRender(),e.focus(),this.dragHelper=new i(e._id+"-dragh",{start:function(){t={x:e.layoutRect().x,y:e.layoutRect().y}},drag:function(n){e.moveTo(t.x+n.deltaX,t.y+n.deltaY)}}),e.on("submit",function(t){t.isDefaultPrevented()||e.close()}),f.push(e),l(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var e=this,t;for(e.dragHelper.destroy(),e._super(),e.statusbar&&this.statusbar.remove(),u(e.classPrefix,!1),t=f.length;t--;)f[t]===e&&f.splice(t,1);l(f.length>0)},getContentWindow:function(){var e=this.getEl().getElementsByTagName("iframe")[0];return e?e.contentWindow:null}});return d(),h}),r(De,[Be],function(e){var t=e.extend({init:function(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(n){function r(e,t,n){return{type:"button",text:e,subtype:n?"primary":"",onClick:function(e){e.control.parents()[1].close(),o(t)}}}var i,o=n.callback||function(){};
switch(n.buttons){case t.OK_CANCEL:i=[r("Ok",!0,!0),r("Cancel",!1)];break;case t.YES_NO:case t.YES_NO_CANCEL:i=[r("Yes",1,!0),r("No",0)],n.buttons==t.YES_NO_CANCEL&&i.push(r("Cancel",-1));break;default:i=[r("Ok",!0,!0)]}return new e({padding:20,x:n.x,y:n.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:i,title:n.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:n.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:n.onClose,onCancel:function(){o(!1)}}).renderTo(document.body).reflow()},alert:function(e,n){return"string"==typeof e&&(e={text:e}),e.callback=n,t.msgBox(e)},confirm:function(e,n){return"string"==typeof e&&(e={text:e}),e.callback=n,e.buttons=t.OK_CANCEL,t.msgBox(e)}}});return t}),r(Le,[Be,De],function(e,t){return function(n){function r(){if(s.length)return s[s.length-1]}function i(e){n.fire("OpenWindow",{win:e})}function o(e){n.fire("CloseWindow",{win:e})}var a=this,s=[];a.windows=s,n.on("remove",function(){for(var e=s.length;e--;)s[e].close()}),a.open=function(t,r){var a;return n.editorManager.setActive(n),t.title=t.title||" ",t.url=t.url||t.file,t.url&&(t.width=parseInt(t.width||320,10),t.height=parseInt(t.height||240,10)),t.body&&(t.items={defaults:t.defaults,type:t.bodyType||"form",items:t.body,data:t.data,callbacks:t.commands}),t.url||t.buttons||(t.buttons=[{text:"Ok",subtype:"primary",onclick:function(){a.find("form")[0].submit()}},{text:"Cancel",onclick:function(){a.close()}}]),a=new e(t),s.push(a),a.on("close",function(){for(var e=s.length;e--;)s[e]===a&&s.splice(e,1);s.length||n.focus(),o(a)}),t.data&&a.on("postRender",function(){this.find("*").each(function(e){var n=e.name();n in t.data&&e.value(t.data[n])})}),a.features=t||{},a.params=r||{},1===s.length&&n.nodeChanged(),a=a.renderTo().reflow(),i(a),a},a.alert=function(e,r,a){var s;s=t.alert(e,function(){r?r.call(a||this):n.focus()}),s.on("close",function(){o(s)}),i(s)},a.confirm=function(e,n,r){var a;a=t.confirm(e,function(e){n.call(r||this,e)}),a.on("close",function(){o(a)}),i(a)},a.close=function(){r()&&r().close()},a.getParams=function(){return r()?r().params:null},a.setParams=function(e){r()&&(r().params=e)},a.getWindows=function(){return s}}}),r(Me,[xe,Te],function(e,t){return e.extend({Mixins:[t],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes+'" role="presentation"><div class="'+t+'tooltip-arrow"></div><div class="'+t+'tooltip-inner">'+e.encode(e.state.get("text"))+"</div></div>"},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl().lastChild.innerHTML=e.encode(t.value)}),e._super()},repaint:function(){var e=this,t,n;t=e.getEl().style,n=e._layoutRect,t.left=n.x+"px",t.top=n.y+"px",t.zIndex=131070}})}),r(Pe,[xe,Me],function(e,t){var n,r=e.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.canFocus=!0,e.tooltip&&r.tooltips!==!1&&(t.on("mouseenter",function(n){var r=t.tooltip().moveTo(-65535);if(n.control==t){var i=r.text(e.tooltip).show().testMoveRel(t.getEl(),["bc-tc","bc-tl","bc-tr"]);r.classes.toggle("tooltip-n","bc-tc"==i),r.classes.toggle("tooltip-nw","bc-tl"==i),r.classes.toggle("tooltip-ne","bc-tr"==i),r.moveRel(t.getEl(),i)}else r.hide()}),t.on("mouseleave mousedown click",function(){t.tooltip().hide()})),t.aria("label",e.ariaLabel||e.tooltip)},tooltip:function(){return n||(n=new t({type:"tooltip"}),n.renderTo()),n},postRender:function(){var e=this,t=e.settings;e._super(),e.parent()||!t.width&&!t.height||(e.initLayoutRect(),e.repaint()),t.autofocus&&e.focus()},bindStates:function(){function e(e){n.aria("disabled",e),n.classes.toggle("disabled",e)}function t(e){n.aria("pressed",e),n.classes.toggle("active",e)}var n=this;return n.state.on("change:disabled",function(t){e(t.value)}),n.state.on("change:active",function(e){t(e.value)}),n.state.get("disabled")&&e(!0),n.state.get("active")&&t(!0),n._super()},remove:function(){this._super(),n&&(n.remove(),n=null)}});return r}),r(Oe,[Pe],function(e){return e.extend({Defaults:{value:0},init:function(e){var t=this;t._super(e),t.classes.add("progress"),t.settings.filter||(t.settings.filter=function(e){return Math.round(e)})},renderHtml:function(){var e=this,t=e._id,n=this.classPrefix;return'<div id="'+t+'" class="'+e.classes+'"><div class="'+n+'bar-container"><div class="'+n+'bar"></div></div><div class="'+n+'text">0%</div></div>'},postRender:function(){var e=this;return e._super(),e.value(e.settings.value),e},bindStates:function(){function e(e){e=t.settings.filter(e),t.getEl().lastChild.innerHTML=e+"%",t.getEl().firstChild.firstChild.style.width=e+"%"}var t=this;return t.state.on("change:value",function(t){e(t.value)}),e(t.state.get("value")),t._super()}})}),r(He,[xe,Te,Oe,c],function(e,t,n,r){return e.extend({Mixins:[t],Defaults:{classes:"widget notification"},init:function(e){var t=this;t._super(e),e.text&&t.text(e.text),e.icon&&(t.icon=e.icon),e.color&&(t.color=e.color),e.type&&t.classes.add("notification-"+e.type),e.timeout&&(e.timeout<0||e.timeout>0)&&!e.closeButton?t.closeButton=!1:(t.classes.add("has-close"),t.closeButton=!0),e.progressBar&&(t.progressBar=new n),t.on("click",function(e){e.target.className.indexOf(t.classPrefix+"close")!=-1&&t.close()})},renderHtml:function(){var e=this,t=e.classPrefix,n="",r="",i="",o="";return e.icon&&(n='<i class="'+t+"ico "+t+"i-"+e.icon+'"></i>'),e.color&&(o=' style="background-color: '+e.color+'"'),e.closeButton&&(r='<button type="button" class="'+t+'close" aria-hidden="true">\xd7</button>'),e.progressBar&&(i=e.progressBar.renderHtml()),'<div id="'+e._id+'" class="'+e.classes+'"'+o+' role="presentation">'+n+'<div class="'+t+'notification-inner">'+e.state.get("text")+"</div>"+i+r+"</div>"},postRender:function(){var e=this;return r.setTimeout(function(){e.$el.addClass(e.classPrefix+"in")}),e._super()},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl().childNodes[1].innerHTML=t.value}),e.progressBar&&e.progressBar.bindStates(),e._super()},close:function(){var e=this;return e.fire("close").isDefaultPrevented()||e.remove(),e},repaint:function(){var e=this,t,n;t=e.getEl().style,n=e._layoutRect,t.left=n.x+"px",t.top=n.y+"px",t.zIndex=65534}})}),r(Ie,[He,c,m],function(e,t,n){return function(r){function i(){if(f.length)return f[f.length-1]}function o(){t.requestAnimationFrame(function(){a(),s()})}function a(){for(var e=0;e<f.length;e++)f[e].moveTo(0,0)}function s(){if(f.length>0){var e=f.slice(0,1)[0],t=r.inline?r.getElement():r.getContentAreaContainer();if(e.moveRel(t,"tc-tc"),f.length>1)for(var n=1;n<f.length;n++)f[n].moveRel(f[n-1].getEl(),"bc-tc")}}function l(e,t){if(!c(t))return null;var r=n.grep(e,function(e){return u(t,e)});return 0===r.length?null:r[0]}function u(e,t){return e.type===t.settings.type&&e.text===t.settings.text}function c(e){return!e.progressBar&&!e.timeout}var d=this,f=[];d.notifications=f,r.on("remove",function(){for(var e=f.length;e--;)f[e].close()}),r.on("ResizeEditor",s),r.on("ResizeWindow",o),d.open=function(t){if(!r.removed){var n;r.editorManager.setActive(r);var i=l(f,t);return null===i?(n=new e(t),f.push(n),t.timeout>0&&(n.timer=setTimeout(function(){n.close()},t.timeout)),n.on("close",function(){var e=f.length;for(n.timer&&r.getWin().clearTimeout(n.timer);e--;)f[e]===n&&f.splice(e,1);s()}),n.renderTo(),s()):n=i,n}},d.close=function(){i()&&i().close()},d.getNotifications=function(){return f},r.on("SkinLoaded",function(){var e=r.settings.service_message;e&&r.notificationManager.open({text:e,type:"warning",timeout:0,icon:""})})}}),r(Fe,[w],function(e){function t(t,n,r){for(var i=[];n&&n!=t;n=n.parentNode)i.push(e.nodeIndex(n,r));return i}function n(e,t){var n,r,i;for(r=e,n=t.length-1;n>=0;n--){if(i=r.childNodes,t[n]>i.length-1)return null;r=i[t[n]]}return r}return{create:t,resolve:n}}),r(ze,[I,T,y,Fe,A,C,d,m,c,k,$,oe],function(e,t,n,r,i,o,a,s,l,u,c,d){return function(f){function p(e,t){try{f.getDoc().execCommand(e,!1,t)}catch(n){}}function h(){var e=f.getDoc().documentMode;return e?e:6}function m(e){return e.isDefaultPrevented()}function g(e){var t,n;e.dataTransfer&&(f.selection.isCollapsed()&&"IMG"==e.target.tagName&&re.select(e.target),t=f.selection.getContent(),t.length>0&&(n=ce+escape(f.id)+","+escape(t),e.dataTransfer.setData(de,n)))}function v(e){var t;return e.dataTransfer&&(t=e.dataTransfer.getData(de),t&&t.indexOf(ce)>=0)?(t=t.substr(ce.length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null}function y(e){f.queryCommandSupported("mceInsertClipboardContent")?f.execCommand("mceInsertClipboardContent",!1,{content:e}):f.execCommand("mceInsertContent",!1,e)}function b(){function i(e){var t=x.schema.getBlockElements(),n=f.getBody();if("BR"!=e.nodeName)return!1;for(;e!=n&&!t[e.nodeName];e=e.parentNode)if(e.nextSibling)return!1;return!0}function o(e,t){var n;for(n=e.nextSibling;n&&n!=t;n=n.nextSibling)if((3!=n.nodeType||0!==Z.trim(n.data).length)&&n!==t)return!1;return n===t}function a(e,t,r){var o,a,s;if(x.isChildOf(e,f.getBody()))for(s=x.schema.getNonEmptyElements(),o=new n(r||e,e);a=o[t?"next":"prev"]();){if(s[a.nodeName]&&!i(a))return a;if(3==a.nodeType&&a.data.length>0)return a}}function u(e){var n,r,i,o,s;if(!e.collapsed&&(n=x.getParent(t.getNode(e.startContainer,e.startOffset),x.isBlock),r=x.getParent(t.getNode(e.endContainer,e.endOffset),x.isBlock),s=f.schema.getTextBlockElements(),n!=r&&s[n.nodeName]&&s[r.nodeName]&&"false"!==x.getContentEditable(n)&&"false"!==x.getContentEditable(r)))return e.deleteContents(),i=a(n,!1),o=a(r,!0),x.isEmpty(r)||Z(n).append(r.childNodes),Z(r).remove(),i?1==i.nodeType?"BR"==i.nodeName?(e.setStartBefore(i),e.setEndBefore(i)):(e.setStartAfter(i),e.setEndAfter(i)):(e.setStart(i,i.data.length),e.setEnd(i,i.data.length)):o&&(1==o.nodeType?(e.setStartBefore(o),e.setEndBefore(o)):(e.setStart(o,0),e.setEnd(o,0))),w.setRng(e),!0}function c(e,n){var r,i,s,l,u,c;if(!e.collapsed)return e;if(u=e.startContainer,c=e.startOffset,3==u.nodeType)if(n){if(c<u.data.length)return e}else if(c>0)return e;r=t.getNode(u,c),s=x.getParent(r,x.isBlock),i=a(f.getBody(),n,r),l=x.getParent(i,x.isBlock);var d=1===u.nodeType&&c>u.childNodes.length-1;if(!r||!i)return e;if(l&&s!=l)if(n){if(!o(s,l))return e;1==r.nodeType?"BR"==r.nodeName?e.setStartBefore(r):e.setStartAfter(r):e.setStart(r,r.data.length),1==i.nodeType?e.setEnd(i,0):e.setEndBefore(i)}else{if(!o(l,s))return e;1==i.nodeType?"BR"==i.nodeName?e.setStartBefore(i):e.setStartAfter(i):e.setStart(i,i.data.length),1==r.nodeType&&d?e.setEndAfter(r):e.setEndBefore(r)}return e}function d(e){var t=w.getRng();if(t=c(t,e),u(t))return!0}function p(e,t){function n(e,n){return m=Z(n).parents().filter(function(e,t){return!!f.schema.getTextInlineElements()[t.nodeName]}),l=e.cloneNode(!1),m=s.map(m,function(e){return e=e.cloneNode(!1),l.hasChildNodes()?(e.appendChild(l.firstChild),l.appendChild(e)):l.appendChild(e),l.appendChild(e),e}),m.length?(h=x.create("br"),m[0].appendChild(h),x.replace(l,e),t.setStartBefore(h),t.setEndBefore(h),f.selection.setRng(t),h):null}function i(e){return e&&f.schema.getTextBlockElements()[e.tagName]}var o,a,l,u,c,d,p,h,m;if(t.collapsed&&(d=t.startContainer,p=t.startOffset,a=x.getParent(d,x.isBlock),i(a)))if(1==d.nodeType){if(d=d.childNodes[p],d&&"BR"!=d.tagName)return;if(c=e?a.nextSibling:a.previousSibling,x.isEmpty(a)&&i(c)&&x.isEmpty(c)&&n(a,d))return x.remove(c),!0}else if(3==d.nodeType){if(o=r.create(a,d),u=a.cloneNode(!0),d=r.resolve(u,o),e){if(p>=d.data.length)return;d.deleteData(p,1)}else{if(p<=0)return;d.deleteData(p-1,1)}if(x.isEmpty(u))return n(a,d)}}function h(e){var t,n,r;d(e)||(s.each(f.getBody().getElementsByTagName("*"),function(e){"SPAN"==e.tagName&&e.setAttribute("mce-data-marked",1),!e.hasAttribute("data-mce-style")&&e.hasAttribute("style")&&f.dom.setAttrib(e,"style",f.dom.getAttrib(e,"style"))}),t=new E(function(){}),t.observe(f.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),f.getDoc().execCommand(e?"ForwardDelete":"Delete",!1,null),n=f.selection.getRng(),r=n.startContainer.parentNode,s.each(t.takeRecords(),function(e){if(x.isChildOf(e.target,f.getBody())){if("style"==e.attributeName){var t=e.target.getAttribute("data-mce-style");t?e.target.setAttribute("style",t):e.target.removeAttribute("style")}s.each(e.addedNodes,function(e){if("SPAN"==e.nodeName&&!e.getAttribute("mce-data-marked")){var t,i;e==r&&(t=n.startOffset,i=e.firstChild),x.remove(e,!0),i&&(n.setStart(i,t),n.setEnd(i,t),f.selection.setRng(n))}})}}),t.disconnect(),s.each(f.dom.select("span[mce-data-marked]"),function(e){e.removeAttribute("mce-data-marked")}))}function b(e){f.undoManager.transact(function(){h(e)})}var C=f.getDoc(),x=f.dom,w=f.selection,E=window.MutationObserver,N,_;E||(N=!0,E=function(){function e(e){var t=e.relatedNode||e.target;n.push({target:t,addedNodes:[t]})}function t(e){var t=e.relatedNode||e.target;n.push({target:t,attributeName:e.attrName})}var n=[],r;this.observe=function(n){r=n,r.addEventListener("DOMSubtreeModified",e,!1),r.addEventListener("DOMNodeInsertedIntoDocument",e,!1),r.addEventListener("DOMNodeInserted",e,!1),r.addEventListener("DOMAttrModified",t,!1)},this.disconnect=function(){r.removeEventListener("DOMSubtreeModified",e,!1),r.removeEventListener("DOMNodeInsertedIntoDocument",e,!1),r.removeEventListener("DOMNodeInserted",e,!1),r.removeEventListener("DOMAttrModified",t,!1)},this.takeRecords=function(){return n}}),f.on("keydown",function(e){var t=e.keyCode==te,n=e.ctrlKey||e.metaKey;if(!m(e)&&(t||e.keyCode==ee)){var r=f.selection.getRng(),i=r.startContainer,o=r.startOffset;if(t&&e.shiftKey)return;if(p(t,r))return void e.preventDefault();if(!n&&r.collapsed&&3==i.nodeType&&(t?o<i.data.length:o>0))return;e.preventDefault(),n&&f.selection.getSel().modify("extend",t?"forward":"backward",e.metaKey?"lineboundary":"word"),h(t)}}),f.on("keypress",function(t){if(!m(t)&&!w.isCollapsed()&&t.charCode>31&&!e.metaKeyPressed(t)){var n,r,i,o,a,s;n=f.selection.getRng(),s=String.fromCharCode(t.charCode),t.preventDefault(),r=Z(n.startContainer).parents().filter(function(e,t){return!!f.schema.getTextInlineElements()[t.nodeName]}),h(!0),r=r.filter(function(e,t){return!Z.contains(f.getBody(),t)}),r.length?(i=x.createFragment(),r.each(function(e,t){t=t.cloneNode(!1),i.hasChildNodes()?(t.appendChild(i.firstChild),i.appendChild(t)):(a=t,i.appendChild(t)),i.appendChild(t)}),a.appendChild(f.getDoc().createTextNode(s)),o=x.getParent(n.startContainer,x.isBlock),x.isEmpty(o)?Z(o).empty().append(i):n.insertNode(i),n.setStart(a.firstChild,1),n.setEnd(a.firstChild,1),f.selection.setRng(n)):f.selection.setContent(s)}}),f.addCommand("Delete",function(){h()}),f.addCommand("ForwardDelete",function(){h(!0)}),N||(f.on("dragstart",function(e){_=w.getRng(),g(e)}),f.on("drop",function(e){if(!m(e)){var n=v(e);n&&(e.preventDefault(),l.setEditorTimeout(f,function(){var r=t.getCaretRangeFromPoint(e.x,e.y,C);_&&(w.setRng(_),_=null,b()),w.setRng(r),y(n.html)}))}}),f.on("cut",function(e){m(e)||!e.clipboardData||f.selection.isCollapsed()||(e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/html",f.selection.getContent()),e.clipboardData.setData("text/plain",f.selection.getContent({format:"text"})),l.setEditorTimeout(f,function(){b(!0)}))}))}function C(){function e(e){var t=ne.create("body"),n=e.cloneContents();return t.appendChild(n),re.serializer.serialize(t,{format:"html"})}function n(n){if(!n.setStart){if(n.item)return!1;var r=n.duplicate();return r.moveToElementText(f.getBody()),t.compareRanges(n,r)}var i=e(n),o=ne.createRng();o.selectNode(f.getBody());var a=e(o);return i===a}f.on("keydown",function(e){var t=e.keyCode,r,i;if(!m(e)&&(t==te||t==ee)){if(r=f.selection.isCollapsed(),i=f.getBody(),r&&!ne.isEmpty(i))return;if(!r&&!n(f.selection.getRng()))return;e.preventDefault(),f.setContent(""),i.firstChild&&ne.isBlock(i.firstChild)?f.selection.setCursorLocation(i.firstChild,0):f.selection.setCursorLocation(i,0),f.nodeChanged()}})}function x(){f.shortcuts.add("meta+a",null,"SelectAll")}function w(){f.settings.content_editable||ne.bind(f.getDoc(),"mousedown mouseup",function(e){var t;if(e.target==f.getDoc().documentElement)if(t=re.getRng(),f.getBody().focus(),"mousedown"==e.type){if(u.isCaretContainer(t.startContainer))return;re.placeCaretAt(e.clientX,e.clientY)}else re.setRng(t)})}function E(){f.on("keydown",function(e){if(!m(e)&&e.keyCode===ee){if(!f.getBody().getElementsByTagName("hr").length)return;if(re.isCollapsed()&&0===re.getRng(!0).startOffset){var t=re.getNode(),n=t.previousSibling;if("HR"==t.nodeName)return ne.remove(t),void e.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(ne.remove(n),e.preventDefault())}}})}function N(){window.Range.prototype.getClientRects||f.on("mousedown",function(e){if(!m(e)&&"HTML"===e.target.nodeName){var t=f.getBody();t.blur(),l.setEditorTimeout(f,function(){t.focus()})}})}function _(){f.on("click",function(e){var t=e.target;/^(IMG|HR)$/.test(t.nodeName)&&"false"!==ne.getContentEditableParent(t)&&(e.preventDefault(),re.select(t),f.nodeChanged()),"A"==t.nodeName&&ne.hasClass(t,"mce-item-anchor")&&(e.preventDefault(),re.select(t))})}function S(){function e(){var e=ne.getAttribs(re.getStart().cloneNode(!1));return function(){var t=re.getStart();t!==f.getBody()&&(ne.setAttrib(t,"style",null),Q(e,function(e){t.setAttributeNode(e.cloneNode(!0))}))}}function t(){return!re.isCollapsed()&&ne.getParent(re.getStart(),ne.isBlock)!=ne.getParent(re.getEnd(),ne.isBlock)}f.on("keypress",function(n){var r;if(!m(n)&&(8==n.keyCode||46==n.keyCode)&&t())return r=e(),f.getDoc().execCommand("delete",!1,null),r(),n.preventDefault(),!1}),ne.bind(f.getDoc(),"cut",function(n){var r;!m(n)&&t()&&(r=e(),l.setEditorTimeout(f,function(){r()}))})}function k(){document.body.setAttribute("role","application")}function T(){f.on("keydown",function(e){if(!m(e)&&e.keyCode===ee&&re.isCollapsed()&&0===re.getRng(!0).startOffset){var t=re.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})}function R(){h()>7||(p("RespectVisibilityInDesign",!0),f.contentStyles.push(".mceHideBrInPre pre br {display: none}"),ne.addClass(f.getBody(),"mceHideBrInPre"),oe.addNodeFilter("pre",function(e){for(var t=e.length,n,r,o,a;t--;)for(n=e[t].getAll("br"),r=n.length;r--;)o=n[r],a=o.prev,a&&3===a.type&&"\n"!=a.value.charAt(a.value-1)?a.value+="\n":o.parent.insert(new i("#text",3),o,!0).value="\n"}),ae.addNodeFilter("pre",function(e){for(var t=e.length,n,r,i,o;t--;)for(n=e[t].getAll("br"),r=n.length;r--;)i=n[r],o=i.prev,o&&3==o.type&&(o.value=o.value.replace(/\r?\n$/,""))}))}function A(){ne.bind(f.getBody(),"mouseup",function(){var e,t=re.getNode();"IMG"==t.nodeName&&((e=ne.getStyle(t,"width"))&&(ne.setAttrib(t,"width",e.replace(/[^0-9%]+/g,"")),ne.setStyle(t,"width","")),(e=ne.getStyle(t,"height"))&&(ne.setAttrib(t,"height",e.replace(/[^0-9%]+/g,"")),ne.setStyle(t,"height","")))})}function B(){f.on("keydown",function(t){var n,r,i,o,a;if(!m(t)&&t.keyCode==e.BACKSPACE&&(n=re.getRng(),r=n.startContainer,i=n.startOffset,o=ne.getRoot(),a=r,n.collapsed&&0===i)){for(;a&&a.parentNode&&a.parentNode.firstChild==a&&a.parentNode!=o;)a=a.parentNode;"BLOCKQUOTE"===a.tagName&&(f.formatter.toggle("blockquote",null,a),n=ne.createRng(),n.setStart(r,0),n.setEnd(r,0),re.setRng(n))}})}function D(){function e(){K(),p("StyleWithCSS",!1),p("enableInlineTableEditing",!1),ie.object_resizing||p("enableObjectResizing",!1)}ie.readonly||f.on("BeforeExecCommand MouseDown",e)}function L(){function e(){Q(ne.select("a"),function(e){var t=e.parentNode,n=ne.getRoot();if(t.lastChild===e){for(;t&&!ne.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}ne.add(t,"br",{"data-mce-bogus":1})}})}f.on("SetContent ExecCommand",function(t){"setcontent"!=t.type&&"mceInsertLink"!==t.command||e()})}function M(){ie.forced_root_block&&f.on("init",function(){p("DefaultParagraphSeparator",ie.forced_root_block)})}function P(){f.on("keydown",function(e){var t;m(e)||e.keyCode!=ee||(t=f.getDoc().selection.createRange(),t&&t.item&&(e.preventDefault(),f.undoManager.beforeChange(),ne.remove(t.item(0)),f.undoManager.add()))})}function O(){var e;h()>=10&&(e="",Q("p div h1 h2 h3 h4 h5 h6".split(" "),function(t,n){e+=(n>0?",":"")+t+":empty"}),f.contentStyles.push(e+"{padding-right: 1px !important}"))}function H(){h()<9&&(oe.addNodeFilter("noscript",function(e){for(var t=e.length,n,r;t--;)n=e[t],r=n.firstChild,r&&n.attr("data-mce-innertext",r.value)}),ae.addNodeFilter("noscript",function(e){for(var t=e.length,n,r,a;t--;)n=e[t],r=e[t].firstChild,r?r.value=o.decode(r.value):(a=n.attributes.map["data-mce-innertext"],a&&(n.attr("data-mce-innertext",null),r=new i("#text",3),r.value=a,r.raw=!0,n.append(r)))}))}function I(){function e(e,t){var n=i.createTextRange();try{n.moveToPoint(e,t)}catch(r){n=null}return n}function t(t){var r;t.button?(r=e(t.x,t.y),r&&(r.compareEndPoints("StartToStart",a)>0?r.setEndPoint("StartToStart",a):r.setEndPoint("EndToEnd",a),r.select())):n()}function n(){var e=r.selection.createRange();a&&!e.item&&0===e.compareEndPoints("StartToEnd",e)&&a.select(),ne.unbind(r,"mouseup",n),ne.unbind(r,"mousemove",t),a=o=0}var r=ne.doc,i=r.body,o,a,s;r.documentElement.unselectable=!0,ne.bind(r,"mousedown contextmenu",function(i){if("HTML"===i.target.nodeName){if(o&&n(),s=r.documentElement,s.scrollHeight>s.clientHeight)return;o=1,a=e(i.x,i.y),a&&(ne.bind(r,"mouseup",n),ne.bind(r,"mousemove",t),ne.getRoot().focus(),a.select())}})}function F(){f.on("keyup focusin mouseup",function(t){65==t.keyCode&&e.metaKeyPressed(t)||re.normalize()},!0)}function z(){f.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function U(){f.inline||f.on("keydown",function(){document.activeElement==document.body&&f.getWin().focus()})}function W(){f.inline||(f.contentStyles.push("body {min-height: 150px}"),f.on("click",function(e){var t;if("HTML"==e.target.nodeName){if(a.ie>11)return void f.getBody().focus();t=f.selection.getRng(),f.getBody().focus(),f.selection.setRng(t),f.selection.normalize(),f.nodeChanged()}}))}function V(){a.mac&&f.on("keydown",function(t){!e.metaKeyPressed(t)||t.shiftKey||37!=t.keyCode&&39!=t.keyCode||(t.preventDefault(),f.selection.getSel().modify("move",37==t.keyCode?"backward":"forward","lineboundary"))})}function $(){p("AutoUrlDetect",!1)}function q(){f.on("click",function(e){var t=e.target;do if("A"===t.tagName)return void e.preventDefault();while(t=t.parentNode)}),f.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function j(){f.on("init",function(){f.dom.bind(f.getBody(),"submit",function(e){e.preventDefault()})})}function Y(){oe.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"==e[t].attr("class")&&e[t].remove()})}function X(){f.on("dragstart",function(e){g(e)}),f.on("drop",function(e){if(!m(e)){var n=v(e);if(n&&n.id!=f.id){e.preventDefault();var r=t.getCaretRangeFromPoint(e.x,e.y,f.getDoc());re.setRng(r),y(n.html)}}})}function K(){}function G(){var e;return se?(e=f.selection.getSel(),!e||!e.rangeCount||0===e.rangeCount):0}function J(){function t(e){var t=new d(e.getBody()),n=e.selection.getRng(),r=c.fromRangeStart(n),i=c.fromRangeEnd(n),o=t.prev(r),a=t.next(i);return!e.selection.isCollapsed()&&(!o||o.isAtStart()&&r.isEqual(o))&&(!a||a.isAtEnd()&&r.isEqual(a))}f.on("keypress",function(n){!m(n)&&!re.isCollapsed()&&n.charCode>31&&!e.metaKeyPressed(n)&&t(f)&&(n.preventDefault(),f.setContent(String.fromCharCode(n.charCode)),f.selection.select(f.getBody(),!0),f.selection.collapse(!1),f.nodeChanged())}),f.on("keydown",function(e){var n=e.keyCode;m(e)||n!=te&&n!=ee||t(f)&&(e.preventDefault(),f.setContent(""),f.nodeChanged())})}var Q=s.each,Z=f.$,ee=e.BACKSPACE,te=e.DELETE,ne=f.dom,re=f.selection,ie=f.settings,oe=f.parser,ae=f.serializer,se=a.gecko,le=a.ie,ue=a.webkit,ce="data:text/mce-internal,",de=le?"Text":"URL";return B(),C(),a.windowsPhone||F(),ue&&(J(),b(),w(),_(),M(),j(),T(),Y(),a.iOS?(U(),W(),q()):x()),le&&a.ie<11&&(E(),k(),R(),A(),P(),O(),H(),I()),a.ie>=11&&(W(),T()),a.ie&&(x(),$(),X()),se&&(J(),E(),N(),S(),D(),L(),z(),V(),T()),{refreshContentEditable:K,isHidden:G}}}),r(Ue,[pe,w,m],function(e,t,n){function r(e,t){return"selectionchange"==t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=o.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()}function i(e,t){function n(e){return!e.hidden&&!e.readonly}var i=r(e,t),s;if(e.delegates||(e.delegates={}),!e.delegates[t])if(e.settings.event_root){if(a||(a={},e.editorManager.on("removeEditor",function(){var t;if(!e.editorManager.activeEditor&&a){for(t in a)e.dom.unbind(r(e,t));a=null}})),a[t])return;s=function(r){for(var i=r.target,a=e.editorManager.editors,s=a.length;s--;){var l=a[s].getBody();(l===i||o.isChildOf(i,l))&&n(a[s])&&a[s].fire(t,r)}},a[t]=s,o.bind(i,t,s)}else s=function(r){n(e)&&e.fire(t,r)},o.bind(i,t,s),e.delegates[t]=s}var o=t.DOM,a,s={bindPendingEventDelegates:function(){var e=this;n.each(e._pendingNativeEvents,function(t){i(e,t)})},toggleNativeEvent:function(e,t){var n=this;"focus"!=e&&"blur"!=e&&(t?n.initialized?i(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(r(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e=this,t;if(e.delegates){for(t in e.delegates)e.dom.unbind(r(e,t),t,e.delegates[t]);delete e.delegates}e.inline||(e.getBody().onload=null,e.dom.unbind(e.getWin()),e.dom.unbind(e.getDoc())),e.dom.unbind(e.getBody()),e.dom.unbind(e.getContainer())}};return s=n.extend({},e,s)}),r(We,[],function(){function e(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(r){}}function t(e){var t,n;return t=e.getBody(),n=function(t){e.dom.getParents(t.target,"a").length>0&&t.preventDefault()},e.dom.bind(t,"click",n),{unbind:function(){e.dom.unbind(t,"click",n)}}}function n(n,r){n._clickBlocker&&(n._clickBlocker.unbind(),n._clickBlocker=null),r?(n._clickBlocker=t(n),n.selection.controlSelection.hideResizeRect(),n.readonly=!0,n.getBody().contentEditable=!1):(n.readonly=!1,n.getBody().contentEditable=!0,e(n,"StyleWithCSS",!1),e(n,"enableInlineTableEditing",!1),e(n,"enableObjectResizing",!1),n.focus(),n.nodeChanged())}function r(e,t){var r=e.readonly?"readonly":"design";t!=r&&(e.initialized?n(e,"readonly"==t):e.on("init",function(){n(e,"readonly"==t)}),e.fire("SwitchMode",{mode:t}))}return{setMode:r}}),r(Ve,[m,d],function(e,t){var n=e.each,r=e.explode,i={f9:120,f10:121,f11:122},o=e.makeMap("alt,ctrl,shift,meta,access");return function(a){function s(e){var a,s,l={};n(r(e,"+"),function(e){e in o?l[e]=!0:/^[0-9]{2,}$/.test(e)?l.keyCode=parseInt(e,10):(l.charCode=e.charCodeAt(0),l.keyCode=i[e]||e.toUpperCase().charCodeAt(0))}),a=[l.keyCode];for(s in o)l[s]?a.push(s):l[s]=!1;return l.id=a.join(","),l.access&&(l.alt=!0,t.mac?l.ctrl=!0:l.shift=!0),l.meta&&(t.mac?l.meta=!0:(l.ctrl=!0,l.meta=!1)),l}function l(t,n,i,o){var l;return l=e.map(r(t,">"),s),l[l.length-1]=e.extend(l[l.length-1],{func:i,scope:o||a}),e.extend(l[0],{desc:a.translate(n),subpatterns:l.slice(1)})}function u(e){return e.altKey||e.ctrlKey||e.metaKey}function c(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123}function d(e,t){return!!t&&(t.ctrl==e.ctrlKey&&t.meta==e.metaKey&&(t.alt==e.altKey&&t.shift==e.shiftKey&&(!!(e.keyCode==t.keyCode||e.charCode&&e.charCode==t.charCode)&&(e.preventDefault(),!0))))}function f(e){return e.func?e.func.call(e.scope):null}var p=this,h={},m=[];a.on("keyup keypress keydown",function(e){!u(e)&&!c(e)||e.isDefaultPrevented()||(n(h,function(t){if(d(e,t))return m=t.subpatterns.slice(0),"keydown"==e.type&&f(t),!0}),d(e,m[0])&&(1===m.length&&"keydown"==e.type&&f(m[0]),m.shift()))}),p.add=function(t,i,o,s){var u;return u=o,"string"==typeof o?o=function(){a.execCommand(u,!1,null)}:e.isArray(u)&&(o=function(){a.execCommand(u[0],u[1],u[2])}),n(r(e.trim(t.toLowerCase())),function(e){var t=l(e,i,o,s);h[t.id]=t}),!0},p.remove=function(e){var t=l(e);return!!h[t.id]&&(delete h[t.id],!0)}}}),r($e,[u,m,z],function(e,t,n){return function(r,i){function o(e){var t,n;return n={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"},t=n[e.blob().type.toLowerCase()]||"dat",e.filename()+"."+t}function a(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t}function s(e){return{id:e.id,blob:e.blob,base64:e.base64,filename:n.constant(o(e))}}function l(e,t,n,r){var o,s;o=new XMLHttpRequest,o.open("POST",i.url),o.withCredentials=i.credentials,o.upload.onprogress=function(e){r(e.loaded/e.total*100)},o.onerror=function(){n("Image upload failed due to a XHR Transport error. Code: "+o.status)},o.onload=function(){var e;return 200!=o.status?void n("HTTP Error: "+o.status):(e=JSON.parse(o.responseText),e&&"string"==typeof e.location?void t(a(i.basePath,e.location)):void n("Invalid JSON: "+o.responseText))},s=new FormData,s.append("file",e.blob(),e.filename()),o.send(s)}function u(){return new e(function(e){e([])})}function c(e,t){return{url:t,blobInfo:e,status:!0}}function d(e,t){return{url:"",blobInfo:e,status:!1,error:t}}function f(e,n){t.each(y[e],function(e){e(n)}),delete y[e]}function p(t,n,i){return r.markPending(t.blobUri()),new e(function(e){var o,a,l=function(){};try{var u=function(){o&&(o.close(),a=l)},p=function(n){u(),r.markUploaded(t.blobUri(),n),f(t.blobUri(),c(t,n)),e(c(t,n))},h=function(n){u(),r.removeFailed(t.blobUri()),f(t.blobUri(),d(t,n)),e(d(t,n))};a=function(e){e<0||e>100||(o||(o=i()),o.progressBar.value(e))},n(s(t),p,h,a)}catch(m){e(d(t,m.message))}})}function h(e){return e===l}function m(t){var n=t.blobUri();return new e(function(e){y[n]=y[n]||[],y[n].push(e)})}function g(n,o){return n=t.grep(n,function(e){return!r.isUploaded(e.blobUri())}),e.all(t.map(n,function(e){return r.isPending(e.blobUri())?m(e):p(e,i.handler,o)}))}function v(e,t){return!i.url&&h(i.handler)?u():g(e,t)}var y={};return i=t.extend({credentials:!1,handler:l},i),{upload:v}}}),r(qe,[u],function(e){function t(t){return new e(function(e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=function(){200==this.status&&e(this.response)},n.send()})}function n(e){var t,n;return e=decodeURIComponent(e).split(","),n=/data:([^;]+)/.exec(e[0]),n&&(t=n[1]),{type:t,data:e[1]}}function r(t){return new e(function(e){var r,i,o;t=n(t);try{r=atob(t.data)}catch(a){return void e(new Blob([]))}for(i=new Uint8Array(r.length),o=0;o<i.length;o++)i[o]=r.charCodeAt(o);e(new Blob([i],{type:t.type}))})}function i(e){return 0===e.indexOf("blob:")?t(e):0===e.indexOf("data:")?r(e):null}function o(t){return new e(function(e){var n=new FileReader;n.onloadend=function(){e(n.result)},n.readAsDataURL(t)})}return{uriToBlob:i,blobToDataUri:o,parseDataUri:n}}),r(je,[u,h,z,qe,d],function(e,t,n,r,i){var o=0,a=function(e){return(e||"blobid")+o++};return function(o,s){function l(l,c){function d(e,t){var n,i;return 0===e.src.indexOf("blob:")?(i=s.getByUri(e.src),void(i?t({image:e,blobInfo:i}):r.uriToBlob(e.src).then(function(o){r.blobToDataUri(o).then(function(l){n=r.parseDataUri(l).data,i=s.create(a(),o,n),s.add(i),t({image:e,blobInfo:i})})}))):(n=r.parseDataUri(e.src).data,i=s.findFirst(function(e){return e.base64()===n}),void(i?t({image:e,blobInfo:i}):r.uriToBlob(e.src).then(function(r){i=s.create(a(),r,n),s.add(i),t({image:e,blobInfo:i})})))}var f,p;return c||(c=n.constant(!0)),f=t.filter(l.getElementsByTagName("img"),function(e){var t=e.src;return!!i.fileApi&&(!e.hasAttribute("data-mce-bogus")&&(!e.hasAttribute("data-mce-placeholder")&&(!(!t||t==i.transparentSrc)&&(0===t.indexOf("blob:")?!o.isUploaded(t):0===t.indexOf("data:")&&c(e)))))}),p=t.map(f,function(t){var n;return u[t.src]?new e(function(e){u[t.src].then(function(n){e({image:t,blobInfo:n.blobInfo})})}):(n=new e(function(e){d(t,e)}).then(function(e){return delete u[e.image.src],e})["catch"](function(e){return delete u[t.src],
e}),u[t.src]=n,n)}),e.all(p)}var u={};return{findAll:l}}}),r(Ye,[h,z],function(e,t){return function(){function n(e,t,n,r){return{id:c(e),filename:c(r||e),blob:c(t),base64:c(n),blobUri:c(URL.createObjectURL(t))}}function r(e){i(e.id())||u.push(e)}function i(e){return o(function(t){return t.id()===e})}function o(t){return e.filter(u,t)[0]}function a(e){return o(function(t){return t.blobUri()==e})}function s(t){u=e.filter(u,function(e){return e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1)})}function l(){e.each(u,function(e){URL.revokeObjectURL(e.blobUri())}),u=[]}var u=[],c=t.constant;return{create:n,add:r,get:i,getByUri:a,findFirst:o,removeByUri:s,destroy:l}}}),r(Xe,[],function(){return function(){function e(e,t){return{status:e,resultUri:t}}function t(e){return e in d}function n(e){var t=d[e];return t?t.resultUri:null}function r(e){return!!t(e)&&d[e].status===u}function i(e){return!!t(e)&&d[e].status===c}function o(t){d[t]=e(u,null)}function a(t,n){d[t]=e(c,n)}function s(e){delete d[e]}function l(){d={}}var u=1,c=2,d={};return{hasBlobUri:t,getResultUri:n,isPending:r,isUploaded:i,markPending:o,markUploaded:a,removeFailed:s,destroy:l}}}),r(Ke,[N],function(e){var t=e.PluginManager,n=function(e,n){for(var r in t.urls){var i=t.urls[r]+"/plugin"+n+".js";if(i===e)return r}return null},r=function(e,t){var r=n(t,e.suffix);return r?"Failed to load plugin: "+r+" from url "+t:"Failed to load plugin url: "+t},i=function(e,t){e.notificationManager.open({type:"error",text:t})},o=function(e,t){e._skinLoaded?i(e,t):e.on("SkinLoaded",function(){i(e,t)})},a=function(e,t){o(e,"Failed to upload image: "+t)},s=function(e,t){o(e,r(e,t))};return{pluginLoadError:s,uploadError:a}}),r(Ge,[h,$e,je,Ye,Xe,Ke],function(e,t,n,r,i,o){return function(a){function s(e){return function(t){return a.selection?e(t):[]}}function l(){return"?"+(new Date).getTime()}function u(e,t,n){var r=0;do r=e.indexOf(t,r),r!==-1&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1);while(r!==-1);return e}function c(e,t,n){return e=u(e,'src="'+t+'"','src="'+n+'"'),e=u(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')}function d(t,n){e.each(a.undoManager.data,function(r){"fragmented"===r.type?r.fragments=e.map(r.fragments,function(e){return c(e,t,n)}):r.content=c(r.content,t,n)})}function f(){return a.notificationManager.open({text:a.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function p(e,t){C.removeByUri(e.src),d(e.src,t),a.$(e).attr({src:E.images_reuse_filename?t+l():t,"data-mce-src":a.convertURL(t,"src")})}function h(n){return x||(x=new t(N,{url:E.images_upload_url,basePath:E.images_upload_base_path,credentials:E.images_upload_credentials,handler:E.images_upload_handler})),v().then(s(function(t){var r;return r=e.map(t,function(e){return e.blobInfo}),x.upload(r,f).then(s(function(r){return r=e.map(r,function(e,n){var r=t[n].image;return e.status&&a.settings.images_replace_blob_uris!==!1?p(r,e.url):e.error&&o.uploadError(a,e.error),{element:r,status:e.status}}),n&&n(r),r}))}))}function m(e){if(E.automatic_uploads!==!1)return h(e)}function g(e){return!E.images_dataimg_filter||E.images_dataimg_filter(e)}function v(){return w||(w=new n(N,C)),w.findAll(a.getBody(),g).then(s(function(t){return e.each(t,function(e){d(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),t}))}function y(){C.destroy(),N.destroy(),w=x=null}function b(t){return t.replace(/src="(blob:[^"]+)"/g,function(t,n){var r=N.getResultUri(n);if(r)return'src="'+r+'"';var i=C.getByUri(n);return i||(i=e.reduce(a.editorManager.editors,function(e,t){return e||t.editorUpload.blobCache.getByUri(n)},null)),i?'src="data:'+i.blob().type+";base64,"+i.base64()+'"':t})}var C=new r,x,w,E=a.settings,N=new i;return a.on("setContent",function(){a.settings.automatic_uploads!==!1?m():v()}),a.on("RawSaveContent",function(e){e.content=b(e.content)}),a.on("getContent",function(e){e.source_view||"raw"==e.format||(e.content=b(e.content))}),a.on("PostRender",function(){a.parser.addNodeFilter("img",function(t){e.each(t,function(e){var t=e.attr("src");if(!C.getByUri(t)){var n=N.getResultUri(t);n&&e.attr("src",n)}})})}),{blobCache:C,uploadImages:h,uploadImagesAuto:m,scanForImages:v,destroy:y}}}),r(Je,[k,$,_,T,g,W,c],function(e,t,n,r,i,o,a){var s=n.isContentEditableFalse;return function(t,n){function r(e,n){var r=o.collapse(e.getBoundingClientRect(),n),i,a,s,l,u;return"BODY"==t.tagName?(i=t.ownerDocument.documentElement,a=t.scrollLeft||i.scrollLeft,s=t.scrollTop||i.scrollTop):(u=t.getBoundingClientRect(),a=t.scrollLeft-u.left,s=t.scrollTop-u.top),r.left+=a,r.right+=a,r.top+=s,r.bottom+=s,r.width=1,l=e.offsetWidth-e.clientWidth,l>0&&(n&&(l*=-1),r.left+=l,r.right+=l),r}function l(){var n,r,o,a,s;for(n=i("*[contentEditable=false]",t),a=0;a<n.length;a++)r=n[a],o=r.previousSibling,e.endsWithCaretContainer(o)&&(s=o.data,1==s.length?o.parentNode.removeChild(o):o.deleteData(s.length-1,1)),o=r.nextSibling,e.startsWithCaretContainer(o)&&(s=o.data,1==s.length?o.parentNode.removeChild(o):o.deleteData(0,1));return null}function u(o,a){var l,u;return c(),n(a)?(g=e.insertBlock("p",a,o),l=r(a,o),i(g).css("top",l.top),m=i('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(l).appendTo(t),o&&m.addClass("mce-visual-caret-before"),d(),u=a.ownerDocument.createRange(),u.setStart(g,0),u.setEnd(g,0),u):(g=e.insertInline(a,o),u=a.ownerDocument.createRange(),s(g.nextSibling)?(u.setStart(g,0),u.setEnd(g,0)):(u.setStart(g,1),u.setEnd(g,1)),u)}function c(){l(),g&&(e.remove(g),g=null),m&&(m.remove(),m=null),clearInterval(h)}function d(){h=a.setInterval(function(){i("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden")},500)}function f(){a.clearInterval(h)}function p(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"}var h,m,g;return{show:u,hide:c,getCss:p,destroy:f}}}),r(Qe,[h,_,W],function(e,t,n){function r(i){function o(t){return e.map(t,function(e){return e=n.clone(e),e.node=i,e})}if(e.isArray(i))return e.reduce(i,function(e,t){return e.concat(r(t))},[]);if(t.isElement(i))return o(i.getClientRects());if(t.isText(i)){var a=i.ownerDocument.createRange();return a.setStart(i,0),a.setEnd(i,i.data.length),o(a.getClientRects())}}return{getClientRects:r}}),r(Ze,[z,h,Qe,U,ie,oe,$,W],function(e,t,n,r,i,o,a,s){function l(e,t,n,o){for(;o=i.findNode(o,e,r.isEditableCaretCandidate,t);)if(n(o))return}function u(e,r,i,o,a,s){function u(o){var s,l,u;for(u=n.getClientRects(o),e==-1&&(u=u.reverse()),s=0;s<u.length;s++)if(l=u[s],!i(l,p)){if(f.length>0&&r(l,t.last(f))&&c++,l.line=c,a(l))return!0;f.push(l)}}var c=0,d,f=[],p;return(p=t.last(s.getClientRects()))?(d=s.getNode(),u(d),l(e,o,u,d),f):f}function c(e,t){return t.line>e}function d(e,t){return t.line===e}function f(e,n,r,i){function l(n){return 1==e?t.last(n.getClientRects()):t.last(n.getClientRects())}var u=new o(n),c,d,f,p,h=[],m=0,g,v;1==e?(c=u.next,d=s.isBelow,f=s.isAbove,p=a.after(i)):(c=u.prev,d=s.isAbove,f=s.isBelow,p=a.before(i)),v=l(p);do if(p.isVisible()&&(g=l(p),!f(g,v))){if(h.length>0&&d(g,t.last(h))&&m++,g=s.clone(g),g.position=p,g.line=m,r(g))return h;h.push(g)}while(p=c(p));return h}var p=e.curry,h=p(u,-1,s.isAbove,s.isBelow),m=p(u,1,s.isBelow,s.isAbove);return{upUntil:h,downUntil:m,positionsUntil:f,isAboveLine:p(c),isLine:p(d)}}),r(et,[z,h,_,Qe,W,ie,U],function(e,t,n,r,i,o,a){function s(e,t){return Math.abs(e.left-t)}function l(e,t){return Math.abs(e.right-t)}function u(e,n){function r(e,t){return e>=t.left&&e<=t.right}return t.reduce(e,function(e,t){var i,o;return i=Math.min(s(e,n),l(e,n)),o=Math.min(s(t,n),l(t,n)),r(n,t)?t:r(n,e)?e:o==i&&m(t.node)?t:o<i?t:e})}function c(e,t,n,r){for(;r=g(r,e,a.isEditableCaretCandidate,t);)if(n(r))return}function d(e,n){function o(e,i){var o;return o=t.filter(r.getClientRects(i),function(t){return!e(t,n)}),a=a.concat(o),0===o.length}var a=[];return a.push(n),c(-1,e,v(o,i.isAbove),n.node),c(1,e,v(o,i.isBelow),n.node),a}function f(e){return t.filter(t.toArray(e.getElementsByTagName("*")),m)}function p(e,t){return{node:e.node,before:s(e,t)<l(e,t)}}function h(e,n,i){var o,a;return o=r.getClientRects(f(e)),o=t.filter(o,function(e){return i>=e.top&&i<=e.bottom}),a=u(o,n),a&&(a=u(d(e,a),n),a&&m(a.node))?p(a,n):null}var m=n.isContentEditableFalse,g=o.findNode,v=e.curry;return{findClosestClientRect:u,findLineNodeRects:d,closestCaret:h}}),r(tt,[],function(){var e=function(e){var t,n,r,i;return i=e.getBoundingClientRect(),t=e.ownerDocument,n=t.documentElement,r=t.defaultView,{top:i.top+r.pageYOffset-n.clientTop,left:i.left+r.pageXOffset-n.clientLeft}},t=function(t){return t.inline?e(t.getBody()):{left:0,top:0}},n=function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},r=function(e){var t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},i={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:i},i=function(t,n){if(n.target.ownerDocument!==t.getDoc()){var i=e(t.getContentAreaContainer()),o=r(t);return{left:n.pageX-i.left+o.left,top:n.pageY-i.top+o.top}}return{left:n.pageX,top:n.pageY}},o=function(e,t,n){return{pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}},a=function(e,r){return o(t(e),n(e),i(e,r))};return{calc:a}}),r(nt,[_,h,z,c,w,tt],function(e,t,n,r,i,o){var a=e.isContentEditableFalse,s=e.isContentEditableTrue,l=function(e,t){return a(t)&&t!==e},u=function(e,t,n){return t!==n&&!e.dom.isChildOf(t,n)&&!a(t)},c=function(e){var t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t},d=function(e,t,n,r){var i=t.cloneNode(!0);e.dom.setStyles(i,{width:n,height:r}),e.dom.setAttrib(i,"data-mce-selected",null);var o=e.dom.create("div",{"class":"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),e.dom.setStyles(i,{margin:0,boxSizing:"border-box"}),o.appendChild(i),o},f=function(e,t){e.parentNode!==t&&t.appendChild(e)},p=function(e,t,n,r,i,o){var a=0,s=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>i&&(a=t.pageX+n-i),t.pageY+r>o&&(s=t.pageY+r-o),e.style.width=n-a+"px",e.style.height=r-s+"px"},h=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},m=function(e){return 0===e.button},g=function(e){return e.element},v=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}},y=function(e,r){return function(i){if(m(i)){var o=t.find(r.dom.getParents(i.target),n.or(a,s));if(l(r.getBody(),o)){var u=r.dom.getPos(o),c=r.getBody(),f=r.getDoc().documentElement;e.element=o,e.screenX=i.screenX,e.screenY=i.screenY,e.maxX=(r.inline?c.scrollWidth:f.offsetWidth)-2,e.maxY=(r.inline?c.scrollHeight:f.offsetHeight)-2,e.relX=i.pageX-u.x,e.relY=i.pageY-u.y,e.width=o.offsetWidth,e.height=o.offsetHeight,e.ghost=d(r,o,e.width,e.height)}}}},b=function(e,t){var n=r.throttle(function(e,n){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)},0);return function(r){var i=Math.max(Math.abs(r.screenX-e.screenX),Math.abs(r.screenY-e.screenY));if(g(e)&&!e.dragging&&i>10){var a=t.fire("dragstart",{target:e.element});if(a.isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){var s=v(e,o.calc(t,r));f(e.ghost,t.getBody()),p(e.ghost,s,e.width,e.height,e.maxX,e.maxY),n(r.clientX,r.clientY)}}},C=function(e){var t=e.getSel().getRangeAt(0),n=t.startContainer;return 3===n.nodeType?n.parentNode:n},x=function(e,t){return function(n){if(e.dragging&&u(t,C(t.selection),e.element)){var r=c(e.element),i=t.fire("drop",{targetClone:r,clientX:n.clientX,clientY:n.clientY});i.isDefaultPrevented()||(r=i.targetClone,t.undoManager.transact(function(){h(e.element),t.insertContent(t.dom.getOuterHTML(r)),t._selectionOverrides.hideFakeCaret()}))}E(e)}},w=function(e,t){return function(){E(e),e.dragging&&t.fire("dragend")}},E=function(e){e.dragging=!1,e.element=null,h(e.ghost)},N=function(e){var t={},n,r,o,a,s,l;n=i.DOM,l=document,r=y(t,e),o=b(t,e),a=x(t,e),s=w(t,e),e.on("mousedown",r),e.on("mousemove",o),e.on("mouseup",a),n.bind(l,"mousemove",o),n.bind(l,"mouseup",s),e.on("remove",function(){n.unbind(l,"mousemove",o),n.unbind(l,"mouseup",s)})},_=function(e){e.on("drop",function(t){var n="undefined"!=typeof t.clientX?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(a(n)||a(e.dom.getContentEditableParent(n)))&&t.preventDefault()})},S=function(e){N(e),_(e)};return{init:S}}),r(rt,[d,oe,$,k,ie,Je,Ze,et,_,T,W,I,z,h,c,nt],function(e,t,n,r,i,o,a,s,l,u,c,d,f,p,h,m){function g(e,t){for(;t=e(t);)if(t.isVisible())return t;return t}function v(u){function v(e){return u.dom.hasClass(e,"mce-offscreen-selection")}function _(){var e=u.dom.get(ue);return e?e.getElementsByTagName("*")[0]:e}function S(e){return u.dom.isBlock(e)}function k(e){e&&u.selection.setRng(e)}function T(){return u.selection.getRng()}function R(e,t){u.selection.scrollIntoView(e,t)}function A(e,t,n){var r;return r=u.fire("ShowCaret",{target:t,direction:e,before:n}),r.isDefaultPrevented()?null:(R(t,e===-1),le.show(n,t))}function B(e){var t;return t=u.fire("BeforeObjectSelected",{target:e}),t.isDefaultPrevented()?null:D(e)}function D(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t}function L(e,t){var n=i.isInSameBlock(e,t);return!(n||!l.isBr(e.getNode()))||n}function M(e,t){return t=i.normalizeRange(e,ie,t),e==-1?n.fromRangeStart(t):n.fromRangeEnd(t)}function P(e){return r.isCaretContainerBlock(e.startContainer)}function O(e,t,n,r){var i,o,a,s;return!r.collapsed&&(i=N(r),C(i))?A(e,i,e==-1):(s=P(r),o=M(e,r),n(o)?B(o.getNode(e==-1)):(o=t(o))?n(o)?A(e,o.getNode(e==-1),1==e):(a=t(o),n(a)&&L(o,a)?A(e,a.getNode(e==-1),1==e):s?$(o.toRange()):null):s?r:null)}function H(e,t,n){var r,i,o,l,u,c,d,f,h;if(h=N(n),r=M(e,n),i=t(ie,a.isAboveLine(1),r),o=p.filter(i,a.isLine(1)),u=p.last(r.getClientRects()),E(r)&&(h=r.getNode()),w(r)&&(h=r.getNode(!0)),!u)return null;if(c=u.left,l=s.findClosestClientRect(o,c),l&&C(l.node))return d=Math.abs(c-l.left),f=Math.abs(c-l.right),A(e,l.node,d<f);if(h){var m=a.positionsUntil(e,ie,a.isAboveLine(1),h);if(l=s.findClosestClientRect(p.filter(m,a.isLine(1)),c))return $(l.position.toRange());if(l=p.last(p.filter(m,a.isLine(0))))return $(l.position.toRange())}}function I(t,r){function i(){var t=u.dom.create(u.settings.forced_root_block);return(!e.ie||e.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">'),t}var o,a,s;if(r.collapsed&&u.settings.forced_root_block){if(o=u.dom.getParent(r.startContainer,"PRE"),!o)return;a=1==t?ae(n.fromRangeStart(r)):se(n.fromRangeStart(r)),a||(s=i(),1==t?u.$(o).after(s):u.$(o).before(s),u.selection.select(s,!0),u.selection.collapse())}}function F(e,t,n,r){var i;return(i=O(e,t,n,r))?i:(i=I(e,r),i?i:null)}function z(e,t,n){var r;return(r=H(e,t,n))?r:(r=I(e,n),r?r:null)}function U(){return de("*[data-mce-caret]")[0]}function W(e){e.hasAttribute("data-mce-caret")&&(r.showCaretContainerBlock(e),k(T()),R(e[0]))}function V(e){var t,r;return e=i.normalizeRange(1,ie,e),t=n.fromRangeStart(e),C(t.getNode())?A(1,t.getNode(),!t.isAtEnd()):C(t.getNode(!0))?A(1,t.getNode(!0),!1):(r=u.dom.getParent(t.getNode(),f.or(C,b)),C(r)?A(1,r,!1):null)}function $(e){var t;return e&&e.collapsed?(t=V(e),t?t:e):e}function q(e){var t,i,o,a;return C(e)?(C(e.previousSibling)&&(o=e.previousSibling),i=se(n.before(e)),i||(t=ae(n.after(e))),t&&x(t.getNode())&&(a=t.getNode()),r.remove(e.previousSibling),r.remove(e.nextSibling),u.dom.remove(e),u.dom.isEmpty(u.getBody())?(u.setContent(""),void u.focus()):o?n.after(o).toRange():a?n.before(a).toRange():i?i.toRange():t?t.toRange():null):null}function j(e){var t=u.schema.getTextBlockElements();return e.nodeName in t}function Y(e){return u.dom.isEmpty(e)}function X(e,t,r){var i=u.dom,o,a,s,l;if(o=i.getParent(t.getNode(),i.isBlock),a=i.getParent(r.getNode(),i.isBlock),e===-1){if(l=r.getNode(!0),w(r)&&S(l))return j(o)?(Y(o)&&i.remove(o),n.after(l).toRange()):q(r.getNode(!0))}else if(l=t.getNode(),E(t)&&S(l))return j(a)?(Y(a)&&i.remove(a),n.before(l).toRange()):q(t.getNode());if(o===a||!j(o)||!j(a))return null;for(;s=o.firstChild;)a.appendChild(s);return u.dom.remove(o),r.toRange()}function K(e,t,n,i){var o,a,s,l;return!i.collapsed&&(o=N(i),C(o))?$(q(o)):(a=M(e,i),n(a)&&r.isCaretContainerBlock(i.startContainer)?(l=e==-1?oe.prev(a):oe.next(a),l?$(l.toRange()):i):t(a)?$(q(a.getNode(e==-1))):(s=e==-1?oe.prev(a):oe.next(a),t(s)?e===-1?X(e,a,s):X(e,s,a):void 0))}function G(){function i(e,t){if(e.isDefaultPrevented()===!1){var n=t(T());n&&(e.preventDefault(),k(n))}}function o(e){for(var t=u.getBody();e&&e!=t;){if(b(e)||C(e))return e;e=e.parentNode}return null}function l(e,t,n){return!n.collapsed&&p.reduce(n.getClientRects(),function(n,r){return n||c.containsXY(r,e,t)},!1)}function f(e){var t=!1;e.on("touchstart",function(){t=!1}),e.on("touchmove",function(){t=!0}),e.on("touchend",function(e){var n=o(e.target);C(n)&&(t||(e.preventDefault(),ee(B(n))))})}function g(){var e,t=o(u.selection.getNode());b(t)&&S(t)&&u.dom.isEmpty(t)&&(e=u.dom.create("br",{"data-mce-bogus":"1"}),u.$(t).empty().append(e),u.selection.setRng(n.before(e).toRange()))}function x(e){var t=U();if(t)return"compositionstart"==e.type?(e.preventDefault(),e.stopPropagation(),void W(t)):void(r.hasContent(t)&&W(t))}function N(e){var t;switch(e.keyCode){case d.DELETE:t=g();break;case d.BACKSPACE:t=g()}t&&e.preventDefault()}var R=y(F,1,ae,E),D=y(F,-1,se,w),L=y(K,1,E,w),M=y(K,-1,w,E),P=y(z,-1,a.upUntil),O=y(z,1,a.downUntil);u.on("mouseup",function(){var e=T();e.collapsed&&k(V(e))}),u.on("click",function(e){var t;t=o(e.target),t&&(C(t)&&(e.preventDefault(),u.focus()),b(t)&&u.dom.isChildOf(t,u.selection.getNode())&&te())}),u.on("blur NewBlock",function(){te(),re()});var H=function(e){var r=new t(e);if(!e.firstChild)return!1;var i=n.before(e.firstChild),o=r.next(i);return o&&!E(o)&&!w(o)},I=function(e,t){var n=u.dom.getParent(e,u.dom.isBlock),r=u.dom.getParent(t,u.dom.isBlock);return n===r},j=function(e){return!(e.keyCode>=112&&e.keyCode<=123)},Y=function(e,t){var n=u.dom.getParent(e,u.dom.isBlock),r=u.dom.getParent(t,u.dom.isBlock);return n&&!I(n,r)&&H(n)};f(u),u.on("mousedown",function(e){var t;if(t=o(e.target))C(t)?(e.preventDefault(),ee(B(t))):l(e.clientX,e.clientY,u.selection.getRng())||u.selection.placeCaretAt(e.clientX,e.clientY);else{te(),re();var n=s.closestCaret(ie,e.clientX,e.clientY);n&&(Y(e.target,n.node)||(e.preventDefault(),u.getBody().focus(),k(A(1,n.node,n.before))))}}),u.on("keydown",function(e){if(!d.modifierPressed(e))switch(e.keyCode){case d.RIGHT:i(e,R);break;case d.DOWN:i(e,O);break;case d.LEFT:i(e,D);break;case d.UP:i(e,P);break;case d.DELETE:i(e,L);break;case d.BACKSPACE:i(e,M);break;default:C(u.selection.getNode())&&j(e)&&e.preventDefault()}}),u.on("keyup compositionstart",function(e){x(e),N(e)},!0),u.on("cut",function(){var e=u.selection.getNode();C(e)&&h.setEditorTimeout(u,function(){k($(q(e)))})}),u.on("getSelectionRange",function(e){var t=e.range;if(ce){if(!ce.parentNode)return void(ce=null);t=t.cloneRange(),t.selectNode(ce),e.range=t}}),u.on("setSelectionRange",function(e){var t;t=ee(e.range),t&&(e.range=t)}),u.on("AfterSetSelectionRange",function(e){var t=e.range;Z(t)||re(),v(t.startContainer.parentNode)||te()}),u.on("focus",function(){h.setEditorTimeout(u,function(){u.selection.setRng($(u.selection.getRng()))},0)}),u.on("copy",function(t){var n=t.clipboardData;if(!t.isDefaultPrevented()&&t.clipboardData&&!e.ie){var r=_();r&&(t.preventDefault(),n.clearData(),n.setData("text/html",r.outerHTML),n.setData("text/plain",r.outerText))}}),m.init(u)}function J(){var e=u.contentStyles,t=".mce-content-body";e.push(le.getCss()),e.push(t+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+t+" *[contentEditable=false] {cursor: default;}"+t+" *[contentEditable=true] {cursor: text;}")}function Q(e){return r.isCaretContainer(e)||r.startsWithCaretContainer(e)||r.endsWithCaretContainer(e)}function Z(e){return Q(e.startContainer)||Q(e.endContainer)}function ee(t){var n,r=u.$,i=u.dom,o,a,s,l,c,d,f,p,h;if(!t)return null;if(t.collapsed){if(!Z(t)){if(f=M(1,t),C(f.getNode()))return A(1,f.getNode(),!f.isAtEnd());if(C(f.getNode(!0)))return A(1,f.getNode(!0),!1)}return null}return s=t.startContainer,l=t.startOffset,c=t.endOffset,3==s.nodeType&&0==l&&C(s.parentNode)&&(s=s.parentNode,l=i.nodeIndex(s),s=s.parentNode),1!=s.nodeType?null:(c==l+1&&(n=s.childNodes[l]),C(n)?(p=h=n.cloneNode(!0),d=u.fire("ObjectSelected",{target:n,targetClone:p}),d.isDefaultPrevented()?null:(p=d.targetClone,o=r("#"+ue),0===o.length&&(o=r('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",ue),o.appendTo(u.getBody())),t=u.dom.createRng(),p===h&&e.ie?(o.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(p),t.setStartAfter(o[0].firstChild.firstChild),t.setEndAfter(p)):(o.empty().append("\xa0").append(p).append("\xa0"),t.setStart(o[0].firstChild,1),t.setEnd(o[0].lastChild,0)),o.css({top:i.getPos(n,u.getBody()).y}),o[0].focus(),a=u.selection.getSel(),a.removeAllRanges(),a.addRange(t),u.$("*[data-mce-selected]").removeAttr("data-mce-selected"),n.setAttribute("data-mce-selected",1),ce=n,re(),t)):null)}function te(){ce&&(ce.removeAttribute("data-mce-selected"),u.$("#"+ue).remove(),ce=null)}function ne(){le.destroy(),ce=null}function re(){le.hide()}var ie=u.getBody(),oe=new t(ie),ae=y(g,oe.next),se=y(g,oe.prev),le=new o(u.getBody(),S),ue="sel-"+u.dom.uniqueId(),ce,de=u.$;return e.ceFalse&&(G(),J()),{showBlockCaretContainer:W,hideFakeCaret:re,destroy:ne}}var y=f.curry,b=l.isContentEditableTrue,C=l.isContentEditableFalse,x=l.isElement,w=i.isAfterContentEditableFalse,E=i.isBeforeContentEditableFalse,N=u.getSelectedNode;return v}),r(it,[],function(){var e=0,t=function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)},t=(new Date).getTime();return"s"+t.toString(36)+e()+e()+e()},n=function(n){return n+e++ +t()};return{uuid:n}}),r(ot,[],function(){var e=function(e,t,n){var r=e.sidebars?e.sidebars:[];r.push({name:t,settings:n}),e.sidebars=r};return{add:e}}),r(at,[w,g,N,R,A,O,P,Y,J,te,ne,re,le,ue,E,f,Le,Ie,B,L,ze,d,m,c,Ue,We,Ve,Ge,rt,it,ot,Ke],function(e,n,r,i,o,a,s,l,u,c,d,f,p,h,m,g,v,y,b,C,x,w,E,N,_,S,k,T,R,A,B,D){function L(e,t,i){var o=this,a,s,l;a=o.documentBaseUrl=i.documentBaseURL,s=i.baseURI,l=i.defaultSettings,t=H({id:e,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:a,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:o.convertURL,url_converter_scope:o,ie7_compat:!0},l,t),l&&l.external_plugins&&t.external_plugins&&(t.external_plugins=H({},l.external_plugins,t.external_plugins)),o.settings=t,r.language=t.language||"en",r.languageLoad=t.language_load,r.baseURL=i.baseURL,o.id=t.id=e,o.setDirty(!1),o.plugins={},o.documentBaseURI=new h(t.document_base_url||a,{base_uri:s}),o.baseURI=s,o.contentCSS=[],o.contentStyles=[],o.shortcuts=new k(o),o.loadedCSS={},o.editorCommands=new p(o),o.suffix=i.suffix,o.editorManager=i,o.inline=t.inline,o.settings.content_editable=o.inline,t.cache_suffix&&(w.cacheSuffix=t.cache_suffix.replace(/^[\?\&]+/,"")),t.override_viewport===!1&&(w.overrideViewPort=!1),i.fire("SetupEditor",o),o.execCallback("setup",o),o.$=n.overrideDefaults(function(){return{context:o.inline?o.getBody():o.getDoc(),element:o.getBody()}})}var M=e.DOM,P=r.ThemeManager,O=r.PluginManager,H=E.extend,I=E.each,F=E.explode,z=E.inArray,U=E.trim,W=E.resolve,V=g.Event,$=w.gecko,q=w.ie;return L.prototype={render:function(){function e(){M.unbind(window,"ready",e),n.render()}function t(){var e=m.ScriptLoader;if(r.language&&"en"!=r.language&&!r.language_url&&(r.language_url=n.editorManager.baseURL+"/langs/"+r.language+".js"),r.language_url&&e.add(r.language_url),r.theme&&"function"!=typeof r.theme&&"-"!=r.theme.charAt(0)&&!P.urls[r.theme]){var t=r.theme_url;t=t?n.documentBaseURI.toAbsolute(t):"themes/"+r.theme+"/theme"+o+".js",P.load(r.theme,t)}E.isArray(r.plugins)&&(r.plugins=r.plugins.join(" ")),I(r.external_plugins,function(e,t){O.load(t,e),r.plugins+=" "+t}),I(r.plugins.split(/[ ,]/),function(e){if(e=U(e),e&&!O.urls[e])if("-"==e.charAt(0)){e=e.substr(1,e.length);var t=O.dependencies(e);I(t,function(e){var t={prefix:"plugins/",resource:e,suffix:"/plugin"+o+".js"};e=O.createUrl(t,e),O.load(e.resource,e)})}else O.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+o+".js"})}),e.loadQueue(function(){n.removed||n.init()},n,function(e){D.pluginLoadError(n,e[0]),n.removed||n.init()})}var n=this,r=n.settings,i=n.id,o=n.suffix;if(!V.domLoaded)return void M.bind(window,"ready",e);if(n.getElement()&&w.contentEditable){r.inline?n.inline=!0:(n.orgVisibility=n.getElement().style.visibility,n.getElement().style.visibility="hidden");var a=n.getElement().form||M.getParent(i,"form");a&&(n.formElement=a,r.hidden_input&&!/TEXTAREA|INPUT/i.test(n.getElement().nodeName)&&(M.insertAfter(M.create("input",{type:"hidden",name:i}),i),n.hasHiddenInput=!0),n.formEventDelegate=function(e){n.fire(e.type,e)},M.bind(a,"submit reset",n.formEventDelegate),n.on("reset",function(){n.setContent(n.startContent,{format:"raw"})}),!r.submit_patch||a.submit.nodeType||a.submit.length||a._mceOldSubmit||(a._mceOldSubmit=a.submit,a.submit=function(){return n.editorManager.triggerSave(),n.setDirty(!1),a._mceOldSubmit(a)})),n.windowManager=new v(n),n.notificationManager=new y(n),"xml"==r.encoding&&n.on("GetContent",function(e){e.save&&(e.content=M.encode(e.content))}),r.add_form_submit_trigger&&n.on("submit",function(){n.initialized&&n.save()}),r.add_unload_trigger&&(n._beforeUnload=function(){!n.initialized||n.destroyed||n.isHidden()||n.save({format:"raw",no_events:!0,set_dirty:!1})},n.editorManager.on("BeforeUnload",n._beforeUnload)),n.editorManager.add(n),t()}},init:function(){function e(n){var r=O.get(n),i,o;if(i=O.urls[n]||t.documentBaseUrl.replace(/\/$/,""),n=U(n),r&&z(m,n)===-1){if(I(O.dependencies(n),function(t){e(t)}),t.plugins[n])return;o=new r(t,i,t.$),t.plugins[n]=o,o.init&&(o.init(t,i),m.push(n))}}var t=this,n=t.settings,r=t.getElement(),i,o,a,s,l,u,c,d,f,p,h,m=[];if(t.rtl=n.rtl_ui||t.editorManager.i18n.rtl,t.editorManager.i18n.setCode(n.language),n.aria_label=n.aria_label||M.getAttrib(r,"aria-label",t.getLang("aria.rich_text_area")),t.fire("ScriptsLoaded"),n.theme&&("function"!=typeof n.theme?(n.theme=n.theme.replace(/-/,""),u=P.get(n.theme),t.theme=new u(t,P.urls[n.theme]),t.theme.init&&t.theme.init(t,P.urls[n.theme]||t.documentBaseUrl.replace(/\/$/,""),t.$)):t.theme=n.theme),I(n.plugins.replace(/\-/g,"").split(/[ ,]/),e),n.render_ui&&t.theme&&(t.orgDisplay=r.style.display,"function"!=typeof n.theme?(i=n.width||r.style.width||r.offsetWidth,o=n.height||r.style.height||r.offsetHeight,a=n.min_height||100,p=/^[0-9\.]+(|px)$/i,p.test(""+i)&&(i=Math.max(parseInt(i,10),100)),p.test(""+o)&&(o=Math.max(parseInt(o,10),a)),l=t.theme.renderUI({targetNode:r,width:i,height:o,deltaWidth:n.delta_width,deltaHeight:n.delta_height}),n.content_editable||(o=(l.iframeHeight||o)+("number"==typeof o?l.deltaHeight||0:""),o<a&&(o=a))):(l=n.theme(t,r),l.editorContainer.nodeType&&(l.editorContainer.id=l.editorContainer.id||t.id+"_parent"),l.iframeContainer.nodeType&&(l.iframeContainer.id=l.iframeContainer.id||t.id+"_iframecontainer"),o=l.iframeHeight||r.offsetHeight),t.editorContainer=l.editorContainer),n.content_css&&I(F(n.content_css),function(e){t.contentCSS.push(t.documentBaseURI.toAbsolute(e))}),n.content_style&&t.contentStyles.push(n.content_style),n.content_editable)return r=s=l=null,t.initContentBody();if(t.iframeHTML=n.doctype+"<html><head>",n.document_base_url!=t.documentBaseUrl&&(t.iframeHTML+='<base href="'+t.documentBaseURI.getURI()+'" />'),!w.caretAfter&&n.ie7_compat&&(t.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),t.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',!/#$/.test(document.location.href))for(h=0;h<t.contentCSS.length;h++){var g=t.contentCSS[h];t.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+E._addCacheSuffix(g)+'" />',t.loadedCSS[g]=!0}d=n.body_id||"tinymce",d.indexOf("=")!=-1&&(d=t.getParam("body_id","","hash"),d=d[t.id]||d),f=n.body_class||"",f.indexOf("=")!=-1&&(f=t.getParam("body_class","","hash"),f=f[t.id]||""),n.content_security_policy&&(t.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+n.content_security_policy+'" />'),t.iframeHTML+='</head><body id="'+d+'" class="mce-content-body '+f+'" data-id="'+t.id+'"><br></body></html>';var v='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+t.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&w.ie&&w.ie<12&&(c=v);var y=M.create("iframe",{id:t.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:t.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:o,display:"block"}});if(y.onload=function(){y.onload=null,t.fire("load")},M.setAttrib(y,"src",c||'javascript:""'),t.contentAreaContainer=l.iframeContainer,t.iframeElement=y,s=M.add(l.iframeContainer,y),q)try{t.getDoc()}catch(b){s.src=c=v}l.editorContainer&&(M.get(l.editorContainer).style.display=t.orgDisplay,t.hidden=M.isHidden(l.editorContainer)),t.getElement().style.display="none",M.setAttrib(t.id,"aria-hidden",!0),c||t.initContentBody(),r=s=l=null},initContentBody:function(t){var n=this,r=n.settings,s=n.getElement(),p=n.getDoc(),h,m;r.inline||(n.getElement().style.visibility=n.orgVisibility),t||r.content_editable||(p.open(),p.write(n.iframeHTML),p.close()),r.content_editable&&(n.on("remove",function(){var e=this.getBody();M.removeClass(e,"mce-content-body"),M.removeClass(e,"mce-edit-focus"),M.setAttrib(e,"contentEditable",null)}),M.addClass(s,"mce-content-body"),n.contentDocument=p=r.content_document||document,n.contentWindow=r.content_window||window,n.bodyElement=s,r.content_document=r.content_window=null,r.root_name=s.nodeName.toLowerCase()),h=n.getBody(),h.disabled=!0,n.readonly=r.readonly,n.readonly||(n.inline&&"static"==M.getStyle(h,"position",!0)&&(h.style.position="relative"),h.contentEditable=n.getParam("content_editable_state",!0)),h.disabled=!1,n.editorUpload=new T(n),n.schema=new b(r),n.dom=new e(p,{keep_values:!0,url_converter:n.convertURL,url_converter_scope:n,hex_colors:r.force_hex_style_colors,class_filter:r.class_filter,update_styles:!0,root_element:n.inline?n.getBody():null,collect:r.content_editable,schema:n.schema,onSetAttrib:function(e){n.fire("SetAttrib",e)}}),n.parser=new C(r,n.schema),n.parser.addAttributeFilter("src,href,style,tabindex",function(e,t){for(var r=e.length,i,o=n.dom,a,s;r--;)if(i=e[r],a=i.attr(t),s="data-mce-"+t,!i.attributes.map[s]){if(0===a.indexOf("data:")||0===a.indexOf("blob:"))continue;"style"===t?(a=o.serializeStyle(o.parseStyle(a),i.name),a.length||(a=null),i.attr(s,a),i.attr(t,a)):"tabindex"===t?(i.attr(s,a),i.attr(t,null)):i.attr(s,n.convertURL(a,t,i.name));
}}),n.parser.addNodeFilter("script",function(e){for(var t=e.length,n,r;t--;)n=e[t],r=n.attr("type")||"no/type",0!==r.indexOf("mce-")&&n.attr("type","mce-"+r)}),n.parser.addNodeFilter("#cdata",function(e){for(var t=e.length,n;t--;)n=e[t],n.type=8,n.name="#comment",n.value="[CDATA["+n.value+"]]"}),n.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var t=e.length,r,i=n.schema.getNonEmptyElements();t--;)r=e[t],r.isEmpty(i)&&0===r.getAll("br").length&&(r.append(new o("br",1)).shortEnded=!0)}),n.serializer=new a(r,n),n.selection=new l(n.dom,n.getWin(),n.serializer,n),n.formatter=new u(n),n.undoManager=new c(n),n.forceBlocks=new f(n),n.enterKey=new d(n),n._nodeChangeDispatcher=new i(n),n._selectionOverrides=new R(n),n.fire("PreInit"),r.browser_spellcheck||r.gecko_spellcheck||(p.body.spellcheck=!1,M.setAttrib(h,"spellcheck","false")),n.quirks=new x(n),n.fire("PostRender"),r.directionality&&(h.dir=r.directionality),r.nowrap&&(h.style.whiteSpace="nowrap"),r.protect&&n.on("BeforeSetContent",function(e){I(r.protect,function(t){e.content=e.content.replace(t,function(e){return"<!--mce:protected "+escape(e)+"-->"})})}),n.on("SetContent",function(){n.addVisual(n.getBody())}),r.padd_empty_editor&&n.on("PostProcess",function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),n.load({initial:!0,format:"html"}),n.startContent=n.getContent({format:"raw"}),n.initialized=!0,n.bindPendingEventDelegates(),n.fire("init"),n.focus(!0),n.nodeChanged({initial:!0}),n.execCallback("init_instance_callback",n),n.on("compositionstart compositionend",function(e){n.composing="compositionstart"===e.type}),n.contentStyles.length>0&&(m="",I(n.contentStyles,function(e){m+=e+"\r\n"}),n.dom.addStyle(m)),I(n.contentCSS,function(e){n.loadedCSS[e]||(n.dom.loadCSS(e),n.loadedCSS[e]=!0)}),r.auto_focus&&N.setEditorTimeout(n,function(){var e;e=r.auto_focus===!0?n:n.editorManager.get(r.auto_focus),e.destroyed||e.focus()},100),s=p=h=null},focus:function(e){function t(e){return n.dom.getParent(e,function(e){return"true"===n.dom.getContentEditable(e)})}var n=this,r=n.selection,i=n.settings.content_editable,o,a,s=n.getDoc(),l=n.getBody(),u;if(!e){if(o=r.getRng(),o.item&&(a=o.item(0)),n.quirks.refreshContentEditable(),u=t(r.getNode()),n.$.contains(l,u))return u.focus(),r.normalize(),void n.editorManager.setActive(n);if(i||(w.opera||n.getBody().focus(),n.getWin().focus()),$||i){if(l.setActive)try{l.setActive()}catch(c){l.focus()}else l.focus();i&&r.normalize()}a&&a.ownerDocument==s&&(o=s.body.createControlRange(),o.addElement(a),o.select())}n.editorManager.setActive(n)},execCallback:function(e){var t=this,n=t.settings[e],r;if(n)return t.callbackLookup&&(r=t.callbackLookup[e])&&(n=r.func,r=r.scope),"string"==typeof n&&(r=n.replace(/\.\w+$/,""),r=r?W(r):0,n=W(n),t.callbackLookup=t.callbackLookup||{},t.callbackLookup[e]={func:n,scope:r}),n.apply(r||t,Array.prototype.slice.call(arguments,1))},translate:function(e){var t=this.settings.language||"en",n=this.editorManager.i18n;return e?(e=n.data[t+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,r){return n.data[t+"."+r]||"{#"+r+"}"}),this.editorManager.translate(e)):""},getLang:function(e,n){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(n!==t?n:"{#"+e+"}")},getParam:function(e,t,n){var r=e in this.settings?this.settings[e]:t,i;return"hash"===n?(i={},"string"==typeof r?I(r.indexOf("=")>0?r.split(/[;,](?![^=;,]*(?:[;,]|$))/):r.split(","),function(e){e=e.split("="),e.length>1?i[U(e[0])]=U(e[1]):i[U(e[0])]=U(e)}):i=r,i):r},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.text||t.icon||(t.icon=e),n.buttons=n.buttons||{},t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addSidebar:function(e,t){return B.add(this,e,t)},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems=n.menuItems||{},n.menuItems[e]=t},addContextToolbar:function(e,t){var n=this,r;n.contextToolbars=n.contextToolbars||[],"string"==typeof e&&(r=e,e=function(e){return n.dom.is(e,r)}),n.contextToolbars.push({id:A.uuid("mcet"),predicate:e,items:t})},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,r){this.shortcuts.add(e,t,n,r)},execCommand:function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable=!0:(M.show(e.getContainer()),M.hide(e.id)),e.load(),e.fire("show"))},hide:function(){var e=this,t=e.getDoc();e.hidden||(q&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e==e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(M.hide(e.getContainer()),M.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var n=this,r=n.getElement(),i;if(r)return e=e||{},e.load=!0,i=n.setContent(r.value!==t?r.value:r.innerHTML,e),e.element=r,e.no_events||n.fire("LoadContent",e),e.element=r=null,i},save:function(e){var t=this,n=t.getElement(),r,i;if(n&&t.initialized)return e=e||{},e.save=!0,e.element=n,r=e.content=t.getContent(e),e.no_events||t.fire("SaveContent",e),"raw"==e.format&&t.fire("RawSaveContent",e),r=e.content,/TEXTAREA|INPUT/i.test(n.nodeName)?n.value=r:(t.inline||(n.innerHTML=r),(i=M.getParent(t.id,"form"))&&I(i.elements,function(e){if(e.name==t.id)return e.value=r,!1})),e.element=n=null,e.set_dirty!==!1&&t.setDirty(!1),r},setContent:function(e,t){var n=this,r=n.getBody(),i,o;return t=t||{},t.format=t.format||"html",t.set=!0,t.content=e,t.no_events||n.fire("BeforeSetContent",t),e=t.content,0===e.length||/^\s+$/.test(e)?(o=q&&q<11?"":'<br data-mce-bogus="1">',"TABLE"==r.nodeName?e="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(r.nodeName)&&(e="<li>"+o+"</li>"),i=n.settings.forced_root_block,i&&n.schema.isValidChild(r.nodeName.toLowerCase(),i.toLowerCase())?(e=o,e=n.dom.createHTML(i,n.settings.forced_root_block_attrs,e)):q||e||(e='<br data-mce-bogus="1">'),n.dom.setHTML(r,e),n.fire("SetContent",t)):("raw"!==t.format&&(e=new s({validate:n.validate},n.schema).serialize(n.parser.parse(e,{isRootContent:!0}))),t.content=U(e),n.dom.setHTML(r,t.content),t.no_events||n.fire("SetContent",t)),t.content},getContent:function(e){var t=this,n,r=t.getBody();return e=e||{},e.format=e.format||"html",e.get=!0,e.getInner=!0,e.no_events||t.fire("BeforeGetContent",e),n="raw"==e.format?E.trim(t.serializer.getTrimmedContent()):"text"==e.format?r.innerText||r.textContent:t.serializer.serialize(r,e),"text"!=e.format?e.content=U(n):e.content=n,e.no_events||t.fire("GetContent",e),e.content},insertContent:function(e,t){t&&(e=H({content:e},t)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!=t&&this.fire("dirty")},setMode:function(e){S.setMode(this,e)},getContainer:function(){var e=this;return e.container||(e.container=M.get(e.editorContainer||e.id+"_parent")),e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=M.get(this.id)),this.targetElm},getWin:function(){var e=this,t;return e.contentWindow||(t=e.iframeElement,t&&(e.contentWindow=t.contentWindow)),e.contentWindow},getDoc:function(){var e=this,t;return e.contentDocument||(t=e.getWin(),t&&(e.contentDocument=t.document)),e.contentDocument},getBody:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},convertURL:function(e,t,n){var r=this,i=r.settings;return i.urlconverter_callback?r.execCallback("urlconverter_callback",e,n,!0,t):!i.convert_urls||n&&"LINK"==n.nodeName||0===e.indexOf("file:")||0===e.length?e:i.relative_urls?r.documentBaseURI.toRelative(e):e=r.documentBaseURI.toAbsolute(e,i.remove_script_host)},addVisual:function(e){var n=this,r=n.settings,i=n.dom,o;e=e||n.getBody(),n.hasVisual===t&&(n.hasVisual=r.visual),I(i.select("table,a",e),function(e){var t;switch(e.nodeName){case"TABLE":return o=r.visual_table_class||"mce-item-table",t=i.getAttrib(e,"border"),void(t&&"0"!=t||!n.hasVisual?i.removeClass(e,o):i.addClass(e,o));case"A":return void(i.getAttrib(e,"href",!1)||(t=i.getAttrib(e,"name")||e.id,o=r.visual_anchor_class||"mce-item-anchor",t&&n.hasVisual?i.addClass(e,o):i.removeClass(e,o)))}}),n.fire("VisualAid",{element:e,hasVisual:n.hasVisual})},remove:function(){var e=this;e.removed||(e.save(),e.removed=1,e.unbindAllNativeEvents(),e.hasHiddenInput&&M.remove(e.getElement().nextSibling),e.inline||(q&&q<10&&e.getDoc().execCommand("SelectAll",!1,null),M.setStyle(e.id,"display",e.orgDisplay),e.getBody().onload=null),e.fire("remove"),e.editorManager.remove(e),M.remove(e.getContainer()),e._selectionOverrides.destroy(),e.editorUpload.destroy(),e.destroy())},destroy:function(e){var t=this,n;if(!t.destroyed){if(!e&&!t.removed)return void t.remove();e||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),t.selection.destroy(),t.dom.destroy()),n=t.formElement,n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,n._mceOldSubmit=null),M.unbind(n,"submit reset",t.formEventDelegate)),t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null,t.selection&&(t.selection=t.selection.win=t.selection.dom=t.selection.dom.doc=null),t.destroyed=1}},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},H(L.prototype,_),L}),r(st,[m],function(e){var t={},n="en";return{setCode:function(e){e&&(n=e,this.rtl=!!this.data[e]&&"rtl"===this.data[e]._dir)},getCode:function(){return n},rtl:!1,add:function(e,n){var r=t[e];r||(t[e]=r={});for(var i in n)r[i]=n[i];this.setCode(e)},translate:function(r){function i(t){return e.is(t,"function")?Object.prototype.toString.call(t):o(t)?"":""+t}function o(t){return""===t||null===t||e.is(t,"undefined")}function a(t){return t=i(t),e.hasOwn(s,t)?i(s[t]):t}var s=t[n]||{};if(o(r))return"";if(e.is(r,"object")&&e.hasOwn(r,"raw"))return i(r.raw);if(e.is(r,"array")){var l=r.slice(1);r=a(r[0]).replace(/\{([0-9]+)\}/g,function(t,n){return e.hasOwn(l,n)?i(l[n]):t})}return a(r).replace(/{context:\w+}$/,"")},data:t}}),r(lt,[w,c,d],function(e,t,n){function r(e){function r(){try{return document.activeElement}catch(e){return document.body}}function u(e,t){if(t&&t.startContainer){if(!e.isChildOf(t.startContainer,e.getRoot())||!e.isChildOf(t.endContainer,e.getRoot()))return;return{startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset}}return t}function c(e,t){var n;return t.startContainer?(n=e.getDoc().createRange(),n.setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset)):n=t,n}function d(d){var f=d.editor;f.on("init",function(){(f.inline||n.ie)&&("onbeforedeactivate"in document&&n.ie<9?f.dom.bind(f.getBody(),"beforedeactivate",function(e){if(e.target==f.getBody())try{f.lastRng=f.selection.getRng()}catch(t){}}):f.on("nodechange mouseup keyup",function(e){var t=r();"nodechange"==e.type&&e.selectionChange||(t&&t.id==f.id+"_ifr"&&(t=f.getBody()),f.dom.isChildOf(t,f.getBody())&&(f.lastRng=f.selection.getRng()))}),n.webkit&&!i&&(i=function(){var t=e.activeEditor;if(t&&t.selection){var n=t.selection.getRng();n&&!n.collapsed&&(f.lastRng=n)}},s.bind(document,"selectionchange",i)))}),f.on("setcontent",function(){f.lastRng=null}),f.on("mousedown",function(){f.selection.lastFocusBookmark=null}),f.on("focusin",function(){var t=e.focusedEditor,n;f.selection.lastFocusBookmark&&(n=c(f,f.selection.lastFocusBookmark),f.selection.lastFocusBookmark=null,f.selection.setRng(n)),t!=f&&(t&&t.fire("blur",{focusedEditor:f}),e.setActive(f),e.focusedEditor=f,f.fire("focus",{blurredEditor:t}),f.focus(!0)),f.lastRng=null}),f.on("focusout",function(){t.setEditorTimeout(f,function(){var t=e.focusedEditor;l(f,r())||t!=f||(f.fire("blur",{focusedEditor:null}),e.focusedEditor=null,f.selection&&(f.selection.lastFocusBookmark=null))})}),o||(o=function(t){var n=e.activeEditor,r;r=t.target,n&&r.ownerDocument==document&&(n.selection&&r!=n.getBody()&&(n.selection.lastFocusBookmark=u(n.dom,n.lastRng)),r==document.body||l(n,r)||e.focusedEditor!=n||(n.fire("blur",{focusedEditor:null}),e.focusedEditor=null))},s.bind(document,"focusin",o)),f.inline&&!a&&(a=function(t){var n=e.activeEditor,r=n.dom;if(n.inline&&r&&!r.isChildOf(t.target,n.getBody())){var i=n.selection.getRng();i.collapsed||(n.lastRng=i)}},s.bind(document,"mouseup",a))}function f(t){e.focusedEditor==t.editor&&(e.focusedEditor=null),e.activeEditor||(s.unbind(document,"selectionchange",i),s.unbind(document,"focusin",o),s.unbind(document,"mouseup",a),i=o=a=null)}e.on("AddEditor",d),e.on("RemoveEditor",f)}var i,o,a,s=e.DOM,l=function(e,t){var n=e?e.settings.custom_ui_selector:"",i=s.getParent(t,function(t){return r.isEditorUIElement(t)||!!n&&e.dom.is(t,n)});return null!==i};return r.isEditorUIElement=function(e){return e.className.toString().indexOf("mce-")!==-1},r._isUIElement=l,r}),r(ut,[at,g,w,ue,d,m,u,pe,st,lt,N],function(e,t,n,r,i,o,a,s,l,u,c){function d(e){v(x.editors,function(t){"scroll"===e.type?t.fire("ScrollWindow",e):t.fire("ResizeWindow",e)})}function f(e,n){n!==w&&(n?t(window).on("resize scroll",d):t(window).off("resize scroll",d),w=n)}function p(e){var t=x.editors,n;delete t[e.id];for(var r=0;r<t.length;r++)if(t[r]==e){t.splice(r,1),n=!0;break}return x.activeEditor==e&&(x.activeEditor=t[0]),x.focusedEditor==e&&(x.focusedEditor=null),n}function h(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(p(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e}var m=n.DOM,g=o.explode,v=o.each,y=o.extend,b=0,C,x,w=!1;return x={$:t,majorVersion:"4",minorVersion:"5.7",releaseDate:"2017-04-25",editors:[],i18n:l,activeEditor:null,setup:function(){var e=this,t,n,i="",o,a;if(n=r.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),o=window.tinymce||window.tinyMCEPreInit)t=o.base||o.baseURL,i=o.suffix;else{for(var s=document.getElementsByTagName("script"),l=0;l<s.length;l++){a=s[l].src;var c=a.substring(a.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(a)){c.indexOf(".min")!=-1&&(i=".min"),t=a.substring(0,a.lastIndexOf("/"));break}}!t&&document.currentScript&&(a=document.currentScript.src,a.indexOf(".min")!=-1&&(i=".min"),t=a.substring(0,a.lastIndexOf("/")))}e.baseURL=new r(n).toAbsolute(t),e.documentBaseURL=n,e.baseURI=new r(e.baseURL),e.suffix=i,e.focusManager=new u(e)},overrideDefaults:function(e){var t,n;t=e.base_url,t&&(this.baseURL=new r(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new r(this.baseURL)),n=e.suffix,e.suffix&&(this.suffix=n),this.defaultSettings=e;var i=e.plugin_base_urls;for(var o in i)c.PluginManager.urls[o]=i[o]},init:function(n){function r(e,t){return e.inline&&t.tagName.toLowerCase()in C}function i(e,t){window.console&&!window.test&&window.console.log(e,t)}function s(e){var t=e.id;return t||(t=e.name,t=t&&!m.get(t)?e.name:m.uniqueId(),e.setAttribute("id",t)),t}function l(e){var t=n[e];if(t)return t.apply(f,Array.prototype.slice.call(arguments,2))}function u(e,t){return t.constructor===RegExp?t.test(e.className):m.hasClass(e,t)}function c(e){var t,n=[];if(e.types)return v(e.types,function(e){n=n.concat(m.select(e.selector))}),n;if(e.selector)return m.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":t=e.elements||"",t.length>0&&v(g(t),function(e){var t;(t=m.get(e))?n.push(t):v(document.forms,function(t){v(t.elements,function(t){t.name===e&&(e="mce_editor_"+b++,m.setAttrib(t,"id",e),n.push(t))})})});break;case"textareas":case"specific_textareas":v(m.select("textarea"),function(t){e.editor_deselector&&u(t,e.editor_deselector)||e.editor_selector&&!u(t,e.editor_selector)||n.push(t)})}return n}function d(){function a(t,n,r){var i=new e(t,n,f);p.push(i),i.on("init",function(){++u===g.length&&x(p)}),i.targetElm=i.targetElm||r,i.render()}var u=0,p=[],g;return m.unbind(window,"ready",d),l("onpageload"),g=t.unique(c(n)),n.types?void v(n.types,function(e){o.each(g,function(t){return!m.is(t,e.selector)||(a(s(t),y({},n,e),t),!1)})}):(o.each(g,function(e){h(f.get(e.id))}),g=o.grep(g,function(e){return!f.get(e.id)}),void v(g,function(e){r(n,e)?i("Could not initialize inline editor on invalid inline target element",e):a(s(e),n,e)}))}var f=this,p,C;C=o.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var x=function(e){p=e};return f.settings=n,m.bind(window,"ready",d),new a(function(e){p?e(p):x=function(t){e(t)}})},get:function(e){return arguments.length?e in this.editors?this.editors[e]:null:this.editors},add:function(e){var t=this,n=t.editors;return n[e.id]=e,n.push(e),f(n,!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),C||(C=function(){t.fire("BeforeUnload")},m.bind(window,"beforeunload",C)),e},createEditor:function(t,n){return this.add(new e(t,n,this))},remove:function(e){var t=this,n,r=t.editors,i;{if(e)return"string"==typeof e?(e=e.selector||e,void v(m.select(e),function(e){i=r[e.id],i&&t.remove(i)})):(i=e,r[i.id]?(p(i)&&t.fire("RemoveEditor",{editor:i}),r.length||m.unbind(window,"beforeunload",C),i.remove(),f(r,r.length>0),i):null);for(n=r.length-1;n>=0;n--)t.remove(r[n])}},execCommand:function(t,n,r){var i=this,o=i.get(r);switch(t){case"mceAddEditor":return i.get(r)||new e(r,i.settings,i).render(),!0;case"mceRemoveEditor":return o&&o.remove(),!0;case"mceToggleEditor":return o?(o.isHidden()?o.show():o.hide(),!0):(i.execCommand("mceAddEditor",0,r),!0)}return!!i.activeEditor&&i.activeEditor.execCommand(t,n,r)},triggerSave:function(){v(this.editors,function(e){e.save()})},addI18n:function(e,t){l.add(e,t)},translate:function(e){return l.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!=e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e}},y(x,s),x.setup(),window.tinymce=window.tinyMCE=x,x}),r(ct,[ut,m],function(e,t){var n=t.each,r=t.explode;e.on("AddEditor",function(e){var t=e.editor;t.on("preInit",function(){function e(e,t){n(t,function(t,n){t&&s.setStyle(e,n,t)}),s.rename(e,"span")}function i(e){s=t.dom,l.convert_fonts_to_spans&&n(s.select("font,u,strike",e.node),function(e){o[e.nodeName.toLowerCase()](s,e)})}var o,a,s,l=t.settings;l.inline_styles&&(a=r(l.font_size_legacy_values),o={font:function(t,n){e(n,{backgroundColor:n.style.backgroundColor,color:n.color,fontFamily:n.face,fontSize:a[parseInt(n.size,10)-1]})},u:function(n,r){"html4"===t.settings.schema&&e(r,{textDecoration:"underline"})},strike:function(t,n){e(n,{textDecoration:"line-through"})}},t.on("PreProcess SetContent",i))})})}),r(dt,[pe,m],function(e,t){var n={send:function(e){function r(){!e.async||4==i.readyState||o++>1e4?(e.success&&o<1e4&&200==i.status?e.success.call(e.success_scope,""+i.responseText,i,e):e.error&&e.error.call(e.error_scope,o>1e4?"TIMED_OUT":"GENERAL",i,e),i=null):setTimeout(r,10)}var i,o=0;if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",n.fire("beforeInitialize",{settings:e}),i=new XMLHttpRequest){if(i.overrideMimeType&&i.overrideMimeType(e.content_type),i.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(i.withCredentials=!0),e.content_type&&i.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&t.each(e.requestheaders,function(e){i.setRequestHeader(e.key,e.value)}),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i=n.fire("beforeSend",{xhr:i,settings:e}).xhr,i.send(e.data),!e.async)return r();setTimeout(r,10)}}};return t.extend(n,e),n}),r(ft,[],function(){function e(t,n){var r,i,o,a;if(n=n||'"',null===t)return"null";if(o=typeof t,"string"==o)return i="\bb\tt\nn\ff\rr\"\"''\\\\",n+t.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,t){return'"'===n&&"'"===e?e:(r=i.indexOf(t),r+1?"\\"+i.charAt(r+1):(e=t.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e))})+n;if("object"==o){if(t.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(t)){for(r=0,i="[";r<t.length;r++)i+=(r>0?",":"")+e(t[r],n);return i+"]"}i="{";for(a in t)t.hasOwnProperty(a)&&(i+="function"!=typeof t[a]?(i.length>1?","+n:n)+a+n+":"+e(t[a],n):"");return i+"}"}return""+t}return{serialize:e,parse:function(e){try{return window[String.fromCharCode(101)+"val"]("("+e+")")}catch(t){}}}}),r(pt,[ft,dt,m],function(e,t,n){function r(e){this.settings=i({},e),this.count=0}var i=n.extend;return r.sendRPC=function(e){return(new r).send(e)},r.prototype={send:function(n){var r=n.error,o=n.success;n=i(this.settings,n),n.success=function(t,i){t=e.parse(t),"undefined"==typeof t&&(t={error:"JSON Parse error."}),t.error?r.call(n.error_scope||n.scope,t.error,i):o.call(n.success_scope||n.scope,t.result)},n.error=function(e,t){r&&r.call(n.error_scope||n.scope,e,t)},n.data=e.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),n.content_type="application/json",t.send(n)}},r}),r(ht,[w],function(e){return{callbacks:{},count:0,send:function(n){var r=this,i=e.DOM,o=n.count!==t?n.count:r.count,a="tinymce_jsonp_"+o;r.callbacks[o]=function(e){i.remove(a),delete r.callbacks[o],n.callback(e)},i.add(i.doc.body,"script",{id:a,src:n.url,type:"text/javascript"}),r.count++}}}),r(mt,[],function(){function e(){s=[];for(var e in a)s.push(e);i.length=s.length}function n(){function n(e){var n,r;return r=e!==t?c+e:i.indexOf(",",c),r===-1||r>i.length?null:(n=i.substring(c,r),c=r+1,n)}var r,i,s,c=0;if(a={},u){o.load(l),i=o.getAttribute(l)||"";do{var d=n();if(null===d)break;if(r=n(parseInt(d,32)||0),null!==r){if(d=n(),null===d)break;s=n(parseInt(d,32)||0),r&&(a[r]=s)}}while(null!==r);e()}}function r(){var t,n="";if(u){for(var r in a)t=a[r],n+=(n?",":"")+r.length.toString(32)+","+r+","+t.length.toString(32)+","+t;o.setAttribute(l,n);try{o.save(l)}catch(i){}e()}}var i,o,a,s,l,u;try{if(window.localStorage)return localStorage}catch(c){}return l="tinymce",o=document.documentElement,u=!!o.addBehavior,u&&o.addBehavior("#default#userData"),i={key:function(e){return s[e]},getItem:function(e){return e in a?a[e]:null},setItem:function(e,t){a[e]=""+t,r()},removeItem:function(e){delete a[e],r()},clear:function(){a={},r()}},n(),i}),r(gt,[w,f,E,N,m,d],function(e,t,n,r,i,o){var a=window.tinymce;return a.DOM=e.DOM,a.ScriptLoader=n.ScriptLoader,a.PluginManager=r.PluginManager,a.ThemeManager=r.ThemeManager,a.dom=a.dom||{},a.dom.Event=t.Event,i.each("trim isArray is toArray makeMap each map grep inArray extend create walk createNS resolve explode _addCacheSuffix".split(" "),function(e){a[e]=i[e]}),i.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(e){a[e]=o[e.substr(2).toLowerCase()]}),{}}),r(vt,[ce,m],function(e,t){return e.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=t.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var t=this,n=t.settings,r,i,o,a;r=n.firstControlClass,i=n.lastControlClass,e.each(function(e){e.classes.remove(r).remove(i).add(n.controlClass),e.visible()&&(o||(o=e),a=e)}),o&&o.classes.add(r),a&&a.classes.add(i)},renderHtml:function(e){var t=this,n="";return t.applyClasses(e.items()),e.items().each(function(e){n+=e.renderHtml()}),n},recalc:function(){},postRender:function(){},isNative:function(){return!1}})}),r(yt,[vt],function(e){return e.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(e){e.items().filter(":visible").each(function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&&e.recalc()})},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}})}),r(bt,[Pe],function(e){return e.extend({Defaults:{classes:"widget btn",role:"button"},init:function(e){var t=this,n;t._super(e),e=t.settings,n=t.settings.size,t.on("click mousedown",function(e){e.preventDefault()}),t.on("touchstart",function(e){t.fire("click",e),e.preventDefault()}),e.subtype&&t.classes.add(e.subtype),n&&t.classes.add("btn-"+n),e.icon&&t.icon(e.icon)},icon:function(e){return arguments.length?(this.state.set("icon",e),this):this.state.get("icon")},repaint:function(){var e=this.getEl().firstChild,t;e&&(t=e.style,t.width=t.height="100%"),this._super()},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,r=e.state.get("icon"),i,o=e.state.get("text"),a="";return i=e.settings.image,i?(r="none","string"!=typeof i&&(i=window.getSelection?i[0]:i[1]),i=" style=\"background-image: url('"+i+"')\""):i="",o&&(e.classes.add("btn-has-text"),a='<span class="'+n+'txt">'+e.encode(o)+"</span>"),r=r?n+"ico "+n+"i-"+r:"",'<div id="'+t+'" class="'+e.classes+'" tabindex="-1" aria-labelledby="'+t+'"><button role="presentation" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+i+"></i>":"")+a+"</button></div>"},bindStates:function(){function e(e){var i=n("span."+r,t.getEl());e?(i[0]||(n("button:first",t.getEl()).append('<span class="'+r+'"></span>'),i=n("span."+r,t.getEl())),i.html(t.encode(e))):i.remove(),t.classes.toggle("btn-has-text",!!e)}var t=this,n=t.$,r=t.classPrefix+"txt";return t.state.on("change:text",function(t){e(t.value)}),t.state.on("change:icon",function(n){var r=n.value,i=t.classPrefix;t.settings.icon=r,r=r?i+"ico "+i+"i-"+t.settings.icon:"";var o=t.getEl().firstChild,a=o.getElementsByTagName("i")[0];r?(a&&a==o.firstChild||(a=document.createElement("i"),o.insertBefore(a,o.firstChild)),a.className=r):a&&o.removeChild(a),e(t.state.get("text"))}),t._super()}})}),r(Ct,[Ne],function(e){return e.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var e=this,t=e._layout;return e.classes.add("btn-group"),e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"><div id="'+e._id+'-body">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}})}),r(xt,[Pe],function(e){return e.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var t=this;t._super(e),t.on("click mousedown",function(e){e.preventDefault()}),t.on("click",function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked())}),t.checked(t.settings.checked)},checked:function(e){return arguments.length?(this.state.set("checked",e),this):this.state.get("checked")},value:function(e){return arguments.length?this.checked(e):this.checked()},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes+'" unselectable="on" aria-labelledby="'+t+'-al" tabindex="-1"><i class="'+n+"ico "+n+'i-checkbox"></i><span id="'+t+'-al" class="'+n+'label">'+e.encode(e.state.get("text"))+"</span></div>"},bindStates:function(){function e(e){t.classes.toggle("checked",e),t.aria("checked",e)}var t=this;return t.state.on("change:text",function(e){t.getEl("al").firstChild.data=t.translate(e.value)}),t.state.on("change:checked change:value",function(n){t.fire("change"),e(n.value)}),t.state.on("change:icon",function(e){var n=e.value,r=t.classPrefix;if("undefined"==typeof n)return t.settings.icon;t.settings.icon=n,n=n?r+"ico "+r+"i-"+t.settings.icon:"";var i=t.getEl().firstChild,o=i.getElementsByTagName("i")[0];n?(o&&o==i.firstChild||(o=document.createElement("i"),i.insertBefore(o,i.firstChild)),o.className=n):o&&i.removeChild(o)}),t.state.get("checked")&&e(!0),t._super()}})}),r(wt,[Pe,we,ve,g,I,m],function(e,t,n,r,i,o){return e.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.classes.add("combobox"),t.subinput=!0,t.ariaTarget="inp",e.menu=e.menu||e.values,e.menu&&(e.icon="caret"),t.on("click",function(n){var i=n.target,o=t.getEl();if(r.contains(o,i)||i==o)for(;i&&i!=o;)i.id&&i.id.indexOf("-open")!=-1&&(t.fire("action"),e.menu&&(t.showMenu(),n.aria&&t.menu.items()[0].focus())),i=i.parentNode}),t.on("keydown",function(e){var n;13==e.keyCode&&"INPUT"===e.target.nodeName&&(e.preventDefault(),t.parents().reverse().each(function(e){if(e.toJSON)return n=e,!1}),t.fire("submit",{data:n.toJSON()}))}),t.on("keyup",function(e){if("INPUT"==e.target.nodeName){var n=t.state.get("value"),r=e.target.value;r!==n&&(t.state.set("value",r),t.fire("autocomplete",e))}}),t.on("mouseover",function(e){var n=t.tooltip().moveTo(-65535);if(t.statusLevel()&&e.target.className.indexOf(t.classPrefix+"status")!==-1){var r=t.statusMessage()||"Ok",i=n.text(r).show().testMoveRel(e.target,["bc-tc","bc-tl","bc-tr"]);n.classes.toggle("tooltip-n","bc-tc"==i),n.classes.toggle("tooltip-nw","bc-tl"==i),n.classes.toggle("tooltip-ne","bc-tr"==i),n.moveRel(e.target,i)}})},statusLevel:function(e){return arguments.length>0&&this.state.set("statusLevel",e),this.state.get("statusLevel")},statusMessage:function(e){return arguments.length>0&&this.state.set("statusMessage",e),this.state.get("statusMessage")},showMenu:function(){var e=this,n=e.settings,r;e.menu||(r=n.menu||[],r.length?r={type:"menu",items:r}:r.type=r.type||"menu",e.menu=t.create(r).parent(e).renderTo(e.getContainerElm()),e.fire("createmenu"),e.menu.reflow(),e.menu.on("cancel",function(t){t.control===e.menu&&e.focus()}),e.menu.on("show hide",function(t){t.control.items().each(function(t){t.active(t.value()==e.value())})}).fire("show"),e.menu.on("select",function(t){e.value(t.control.value())}),e.on("focusin",function(t){"INPUT"==t.target.tagName.toUpperCase()&&e.menu.hide()}),e.aria("expanded",!0)),e.menu.show(),e.menu.layoutRect({w:e.layoutRect().w}),e.menu.moveRel(e.getEl(),e.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var e=this,t=e.getEl(),i=e.getEl("open"),o=e.layoutRect(),a,s,l=0,u=t.firstChild;e.statusLevel()&&"none"!==e.statusLevel()&&(l=parseInt(n.getRuntimeStyle(u,"padding-right"),10)-parseInt(n.getRuntimeStyle(u,"padding-left"),10)),a=i?o.w-n.getSize(i).width-10:o.w-10;var c=document;return c.all&&(!c.documentMode||c.documentMode<=8)&&(s=e.layoutRect().h-2+"px"),r(u).css({width:a-l,lineHeight:s}),e._super(),e},postRender:function(){var e=this;return r(this.getEl("inp")).on("change",function(t){e.state.set("value",t.target.value),e.fire("change",t)}),e._super()},renderHtml:function(){var e=this,t=e._id,n=e.settings,r=e.classPrefix,i=e.state.get("value")||"",o,a,s="",l="",u="";return"spellcheck"in n&&(l+=' spellcheck="'+n.spellcheck+'"'),n.maxLength&&(l+=' maxlength="'+n.maxLength+'"'),n.size&&(l+=' size="'+n.size+'"'),n.subtype&&(l+=' type="'+n.subtype+'"'),u='<i id="'+t+'-status" class="mce-status mce-ico" style="display: none"></i>',e.disabled()&&(l+=' disabled="disabled"'),o=n.icon,o&&"caret"!=o&&(o=r+"ico "+r+"i-"+n.icon),a=e.state.get("text"),(o||a)&&(s='<div id="'+t+'-open" class="'+r+"btn "+r+'open" tabIndex="-1" role="button"><button id="'+t+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=o?'<i class="'+o+'"></i>':'<i class="'+r+'caret"></i>')+(a?(o?" ":"")+a:"")+"</button></div>",e.classes.add("has-open")),'<div id="'+t+'" class="'+e.classes+'"><input id="'+t+'-inp" class="'+r+'textbox" value="'+e.encode(i,!1)+'" hidefocus="1"'+l+' placeholder="'+e.encode(n.placeholder)+'" />'+u+s+"</div>"},value:function(e){return arguments.length?(this.state.set("value",e),
this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(e,n){var r=this;if(0===e.length)return void r.hideMenu();var i=function(e,t){return function(){r.fire("selectitem",{title:t,value:e})}};r.menu?r.menu.items().remove():r.menu=t.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(r).renderTo(),o.each(e,function(e){r.menu.add({text:e.title,url:e.previewUrl,match:n,classes:"menu-item-ellipsis",onclick:i(e.value,e.title)})}),r.menu.renderNew(),r.hideMenu(),r.menu.on("cancel",function(e){e.control.parent()===r.menu&&(e.stopPropagation(),r.focus(),r.hideMenu())}),r.menu.on("select",function(){r.focus()});var a=r.layoutRect().w;r.menu.layoutRect({w:a,minW:0,maxW:a}),r.menu.reflow(),r.menu.show(),r.menu.moveRel(r.getEl(),r.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var e=this;e.state.on("change:value",function(t){e.getEl("inp").value!=t.value&&(e.getEl("inp").value=t.value)}),e.state.on("change:disabled",function(t){e.getEl("inp").disabled=t.value}),e.state.on("change:statusLevel",function(t){var r=e.getEl("status"),i=e.classPrefix,o=t.value;n.css(r,"display","none"===o?"none":""),n.toggleClass(r,i+"i-checkmark","ok"===o),n.toggleClass(r,i+"i-warning","warn"===o),n.toggleClass(r,i+"i-error","error"===o),e.classes.toggle("has-status","none"!==o),e.repaint()}),n.on(e.getEl("status"),"mouseleave",function(){e.tooltip().hide()}),e.on("cancel",function(t){e.menu&&e.menu.visible()&&(t.stopPropagation(),e.hideMenu())});var t=function(e,t){t&&t.items().length>0&&t.items().eq(e)[0].focus()};return e.on("keydown",function(n){var r=n.keyCode;"INPUT"===n.target.nodeName&&(r===i.DOWN?(n.preventDefault(),e.fire("autocomplete"),t(0,e.menu)):r===i.UP&&(n.preventDefault(),t(-1,e.menu)))}),e._super()},remove:function(){r(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}})}),r(Et,[wt],function(e){return e.extend({init:function(e){var t=this;e.spellcheck=!1,e.onaction&&(e.icon="none"),t._super(e),t.classes.add("colorbox"),t.on("change keyup postrender",function(){t.repaintColor(t.value())})},repaintColor:function(e){var t=this.getEl("open"),n=t?t.getElementsByTagName("i")[0]:null;if(n)try{n.style.background=e}catch(r){}},bindStates:function(){var e=this;return e.state.on("change:value",function(t){e.state.get("rendered")&&e.repaintColor(t.value)}),e._super()}})}),r(Nt,[bt,Ae],function(e,t){return e.extend({showPanel:function(){var e=this,n=e.settings;if(e.active(!0),e.panel)e.panel.show();else{var r=n.panel;r.type&&(r={layout:"grid",items:r}),r.role=r.role||"dialog",r.popover=!0,r.autohide=!0,r.ariaRoot=!0,e.panel=new t(r).on("hide",function(){e.active(!1)}).on("cancel",function(t){t.stopPropagation(),e.focus(),e.hidePanel()}).parent(e).renderTo(e.getContainerElm()),e.panel.fire("show"),e.panel.reflow()}e.panel.moveRel(e.getEl(),n.popoverAlign||(e.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){var e=this;e.panel&&e.panel.hide()},postRender:function(){var e=this;return e.aria("haspopup",!0),e.on("click",function(t){t.control===e&&(e.panel&&e.panel.visible()?e.hidePanel():(e.showPanel(),e.panel.focus(!!t.aria)))}),e._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),r(_t,[Nt,w],function(e,t){var n=t.DOM;return e.extend({init:function(e){this._super(e),this.classes.add("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,r=e.state.get("text"),i=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"",o=e.settings.image?" style=\"background-image: url('"+e.settings.image+"')\"":"",a="";return r&&(e.classes.add("btn-has-text"),a='<span class="'+n+'txt">'+e.encode(r)+"</span>"),'<div id="'+t+'" class="'+e.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+o+"></i>":"")+'<span id="'+t+'-preview" class="'+n+'preview"></span>'+a+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1"> <i class="'+n+'caret"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",function(r){r.aria&&"down"==r.aria.key||r.control!=e||n.getParent(r.target,"."+e.classPrefix+"open")||(r.stopImmediatePropagation(),t.call(e,r))}),delete e.settings.onclick,e._super()}})}),r(St,[],function(){function e(e){function i(e,i,o){var a,s,l,u,c,d;return a=0,s=0,l=0,e/=255,i/=255,o/=255,c=t(e,t(i,o)),d=n(e,n(i,o)),c==d?(l=c,{h:0,s:0,v:100*l}):(u=e==c?i-o:o==c?e-i:o-e,a=e==c?3:o==c?1:5,a=60*(a-u/(d-c)),s=(d-c)/d,l=d,{h:r(a),s:r(100*s),v:r(100*l)})}function o(e,i,o){var a,s,l,u;if(e=(parseInt(e,10)||0)%360,i=parseInt(i,10)/100,o=parseInt(o,10)/100,i=n(0,t(i,1)),o=n(0,t(o,1)),0===i)return void(d=f=p=r(255*o));switch(a=e/60,s=o*i,l=s*(1-Math.abs(a%2-1)),u=o-s,Math.floor(a)){case 0:d=s,f=l,p=0;break;case 1:d=l,f=s,p=0;break;case 2:d=0,f=s,p=l;break;case 3:d=0,f=l,p=s;break;case 4:d=l,f=0,p=s;break;case 5:d=s,f=0,p=l;break;default:d=f=p=0}d=r(255*(d+u)),f=r(255*(f+u)),p=r(255*(p+u))}function a(){function e(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e}return"#"+e(d)+e(f)+e(p)}function s(){return{r:d,g:f,b:p}}function l(){return i(d,f,p)}function u(e){var t;return"object"==typeof e?"r"in e?(d=e.r,f=e.g,p=e.b):"v"in e&&o(e.h,e.s,e.v):(t=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(d=parseInt(t[1],10),f=parseInt(t[2],10),p=parseInt(t[3],10)):(t=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(d=parseInt(t[1],16),f=parseInt(t[2],16),p=parseInt(t[3],16)):(t=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(d=parseInt(t[1]+t[1],16),f=parseInt(t[2]+t[2],16),p=parseInt(t[3]+t[3],16)),d=d<0?0:d>255?255:d,f=f<0?0:f>255?255:f,p=p<0?0:p>255?255:p,c}var c=this,d=0,f=0,p=0;e&&u(e),c.toRgb=s,c.toHsv=l,c.toHex=a,c.parse=u}var t=Math.min,n=Math.max,r=Math.round;return e}),r(kt,[Pe,_e,ve,St],function(e,t,n,r){return e.extend({Defaults:{classes:"widget colorpicker"},init:function(e){this._super(e)},postRender:function(){function e(e,t){var r=n.getPos(e),i,o;return i=t.pageX-r.x,o=t.pageY-r.y,i=Math.max(0,Math.min(i/e.clientWidth,1)),o=Math.max(0,Math.min(o/e.clientHeight,1)),{x:i,y:o}}function i(e,t){var i=(360-e.h)/360;n.css(d,{top:100*i+"%"}),t||n.css(p,{left:e.s+"%",top:100-e.v+"%"}),f.style.background=new r({s:100,v:100,h:e.h}).toHex(),s.color().parse({s:e.s,v:e.v,h:e.h})}function o(t){var n;n=e(f,t),u.s=100*n.x,u.v=100*(1-n.y),i(u),s.fire("change")}function a(t){var n;n=e(c,t),u=l.toHsv(),u.h=360*(1-n.y),i(u,!0),s.fire("change")}var s=this,l=s.color(),u,c,d,f,p;c=s.getEl("h"),d=s.getEl("hp"),f=s.getEl("sv"),p=s.getEl("svp"),s._repaint=function(){u=l.toHsv(),i(u)},s._super(),s._svdraghelper=new t(s._id+"-sv",{start:o,drag:o}),s._hdraghelper=new t(s._id+"-h",{start:a,drag:a}),s._repaint()},rgb:function(){return this.color().toRgb()},value:function(e){var t=this;return arguments.length?(t.color().parse(e),void(t._rendered&&t._repaint())):t.color().toHex()},color:function(){return this._color||(this._color=new r),this._color},renderHtml:function(){function e(){var e,t,n="",i,a;for(i="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",a=o.split(","),e=0,t=a.length-1;e<t;e++)n+='<div class="'+r+'colorpicker-h-chunk" style="height:'+100/t+"%;"+i+a[e]+",endColorstr="+a[e+1]+");-ms-"+i+a[e]+",endColorstr="+a[e+1]+')"></div>';return n}var t=this,n=t._id,r=t.classPrefix,i,o="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000",a="background: -ms-linear-gradient(top,"+o+");background: linear-gradient(to bottom,"+o+");";return i='<div id="'+n+'-h" class="'+r+'colorpicker-h" style="'+a+'">'+e()+'<div id="'+n+'-hp" class="'+r+'colorpicker-h-marker"></div></div>','<div id="'+n+'" class="'+t.classes+'"><div id="'+n+'-sv" class="'+r+'colorpicker-sv"><div class="'+r+'colorpicker-overlay1"><div class="'+r+'colorpicker-overlay2"><div id="'+n+'-svp" class="'+r+'colorpicker-selector1"><div class="'+r+'colorpicker-selector2"></div></div></div></div></div>'+i+"</div>"}})}),r(Tt,[Pe],function(e){return e.extend({init:function(e){var t=this;e.delimiter||(e.delimiter="\xbb"),t._super(e),t.classes.add("path"),t.canFocus=!0,t.on("click",function(e){var n,r=e.target;(n=r.getAttribute("data-index"))&&t.fire("select",{value:t.row()[n],index:n})}),t.row(t.settings.row)},focus:function(){var e=this;return e.getEl().firstChild.focus(),e},row:function(e){return arguments.length?(this.state.set("row",e),this):this.state.get("row")},renderHtml:function(){var e=this;return'<div id="'+e._id+'" class="'+e.classes+'">'+e._getDataPathHtml(e.state.get("row"))+"</div>"},bindStates:function(){var e=this;return e.state.on("change:row",function(t){e.innerHtml(e._getDataPathHtml(t.value))}),e._super()},_getDataPathHtml:function(e){var t=this,n=e||[],r,i,o="",a=t.classPrefix;for(r=0,i=n.length;r<i;r++)o+=(r>0?'<div class="'+a+'divider" aria-hidden="true"> '+t.settings.delimiter+" </div>":"")+'<div role="button" class="'+a+"path-item"+(r==i-1?" "+a+"last":"")+'" data-index="'+r+'" tabindex="-1" id="'+t._id+"-"+r+'" aria-level="'+(r+1)+'">'+n[r].name+"</div>";return o||(o='<div class="'+a+'path-item">\xa0</div>'),o}})}),r(Rt,[Tt],function(e){return e.extend({postRender:function(){function e(e){if(1===e.nodeType){if("BR"==e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1}var t=this,n=t.settings.editor;return n.settings.elementpath!==!1&&(t.on("select",function(e){n.focus(),n.selection.select(this.row()[e.index].element),n.nodeChanged()}),n.on("nodeChange",function(r){for(var i=[],o=r.parents,a=o.length;a--;)if(1==o[a].nodeType&&!e(o[a])){var s=n.fire("ResolveName",{name:o[a].nodeName.toLowerCase(),target:o[a]});if(s.isDefaultPrevented()||i.push({name:s.name,element:o[a]}),s.isPropagationStopped())break}t.row(i)})),t._super()}})}),r(At,[Ne],function(e){return e.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.classes.add("formitem"),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<div id="'+e._id+'-title" class="'+n+'title">'+e.settings.title+"</div>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}})}),r(Bt,[Ne,At,m],function(e,t,n){return e.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var e=this,r=e.items();e.settings.formItemDefaults||(e.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),r.each(function(r){var i,o=r.settings.label;o&&(i=new t(n.extend({items:{type:"label",id:r._id+"-l",text:o,flex:0,forId:r._id,disabled:r.disabled()}},e.settings.formItemDefaults)),i.type="formitem",r.aria("labelledby",r._id+"-l"),"undefined"==typeof r.settings.flex&&(r.settings.flex=1),e.replace(r,i),i.add(r))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var e=this;e._super(),e.fromJSON(e.settings.data)},bindStates:function(){function e(){var e=0,n=[],r,i,o;if(t.settings.labelGapCalc!==!1)for(o="children"==t.settings.labelGapCalc?t.find("formitem"):t.items(),o.filter("formitem").each(function(t){var r=t.items()[0],i=r.getEl().clientWidth;e=i>e?i:e,n.push(r)}),i=t.settings.labelGap||0,r=n.length;r--;)n[r].settings.minWidth=e+i}var t=this;t._super(),t.on("show",e),e()}})}),r(Dt,[Bt],function(e){return e.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.preRender(),t.preRender(e),'<fieldset id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<legend id="'+e._id+'-title" class="'+n+'fieldset-title">'+e.settings.title+"</legend>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></fieldset>"}})}),r(Lt,[w,z,h,it,m,_],function(e,t,n,r,i,o){var a=i.trim,s=function(e,t,n,r,i){return{type:e,title:t,url:n,level:r,attach:i}},l=function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&"inherit"!==t)return o.isContentEditableTrue(e)}return!1},u=function(t,n){return e.DOM.select(t,n)},c=function(e){return e.innerText||e.textContent},d=function(e){return e.id?e.id:r.uuid("h")},f=function(e){return e&&"A"===e.nodeName&&(e.id||e.name)},p=function(e){return f(e)&&m(e)},h=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},m=function(e){return l(e)&&!o.isContentEditableFalse(e)},g=function(e){return h(e)&&m(e)},v=function(e){return h(e)?parseInt(e.nodeName.substr(1),10):0},y=function(e){var t=d(e),n=function(){e.id=t};return s("header",c(e),"#"+t,v(e),n)},b=function(e){var n=e.id||e.name,r=c(e);return s("anchor",r?r:"#"+n,"#"+n,0,t.noop)},C=function(e){return n.map(n.filter(e,g),y)},x=function(e){return n.map(n.filter(e,p),b)},w=function(e){var t=u("h1,h2,h3,h4,h5,h6,a:not([href])",e);return t},E=function(e){return a(e.title).length>0},N=function(e){var t=w(e);return n.filter(C(t).concat(x(t)),E)};return{find:N}}),r(Mt,[wt,m,h,z,I,Lt],function(e,t,n,r,i,o){var a={},s=5,l=function(e){return{title:e.title,value:{title:{raw:e.title},url:e.url,attach:e.attach}}},u=function(e){return t.map(e,l)},c=function(e,t){return{title:e,value:{title:e,url:t,attach:r.noop}}},d=function(e,t){var r=n.find(t,function(t){return t.url===e});return!r},f=function(e,t,n){var r=t in e?e[t]:n;return r===!1?null:r},p=function(e,i,o,s){var l={title:"-"},p=function(e){var a=n.filter(e[o],function(e){return d(e,i)});return t.map(a,function(e){return{title:e,value:{title:e,url:e,attach:r.noop}}})},h=function(e){var t=n.filter(i,function(t){return t.type==e});return u(t)},g=function(){var e=h("anchor"),t=f(s,"anchor_top","#top"),n=f(s,"anchor_bottom","#bottom");return null!==t&&e.unshift(c("<top>",t)),null!==n&&e.push(c("<bottom>",n)),e},v=function(e){return n.reduce(e,function(e,t){var n=0===e.length||0===t.length;return n?e.concat(t):e.concat(l,t)},[])};return s.typeahead_urls===!1?[]:"file"===o?v([m(e,p(a)),m(e,h("header")),m(e,g())]):m(e,p(a))},h=function(e,t){var r=a[t];/^https?/.test(e)&&(r?n.indexOf(r,e)===-1&&(a[t]=r.slice(0,s).concat(e)):a[t]=[e])},m=function(e,n){var r=e.toLowerCase(),i=t.grep(n,function(e){return e.title.toLowerCase().indexOf(r)!==-1});return 1===i.length&&i[0].title===e?[]:i},g=function(e){var t=e.title;return t.raw?t.raw:t},v=function(e,t,n,r){var i=function(i){var a=o.find(n),s=p(i,a,r,t);e.showAutoComplete(s,i)};e.on("autocomplete",function(){i(e.value())}),e.on("selectitem",function(t){var n=t.value;e.value(n.url);var i=g(n);"image"===r?e.fire("change",{meta:{alt:i,attach:n.attach}}):e.fire("change",{meta:{text:i,attach:n.attach}}),e.focus()}),e.on("click",function(t){0===e.value().length&&"INPUT"===t.target.nodeName&&i("")}),e.on("PostRender",function(){e.getRoot().on("submit",function(t){t.isDefaultPrevented()||h(e.value(),r)})})},y=function(e){var t=e.status,n=e.message;return"valid"===t?{status:"ok",message:n}:"unknown"===t?{status:"warn",message:n}:"invalid"===t?{status:"warn",message:n}:{status:"none",message:""}},b=function(e,t,n){var r=t.filepicker_validator_handler;if(r){var i=function(t){return 0===t.length?void e.statusLevel("none"):void r({url:t,type:n},function(t){var n=y(t);e.statusMessage(n.message),e.statusLevel(n.status)})};e.state.on("change:value",function(e){i(e.value)})}};return e.extend({init:function(e){var n=this,r=tinymce.activeEditor,i=r.settings,o,a,s,l=e.filetype;e.spellcheck=!1,s=i.file_picker_types||i.file_browser_callback_types,s&&(s=t.makeMap(s,/[, ]/)),s&&!s[l]||(a=i.file_picker_callback,!a||s&&!s[l]?(a=i.file_browser_callback,!a||s&&!s[l]||(o=function(){a(n.getEl("inp").id,n.value(),l,window)})):o=function(){var e=n.fire("beforecall").meta;e=t.extend({filetype:l},e),a.call(r,function(e,t){n.value(e).fire("change",{meta:t})},n.value(),e)}),o&&(e.icon="browse",e.onaction=o),n._super(e),v(n,i,r.getBody(),l),b(n,i,l)}})}),r(Pt,[yt],function(e){return e.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox;e.items().filter(":visible").each(function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&&e.recalc()})}})}),r(Ot,[yt],function(e){return e.extend({recalc:function(e){var t,n,r,i,o,a,s,l,u,c,d,f,p,h,m,g,v=[],y,b,C,x,w,E,N,_,S,k,T,R,A,B,D,L,M,P,O,H,I,F,z=Math.max,U=Math.min;for(r=e.items().filter(":visible"),i=e.layoutRect(),o=e.paddingBox,a=e.settings,f=e.isRtl()?a.direction||"row-reversed":a.direction,s=a.align,l=e.isRtl()?a.pack||"end":a.pack,u=a.spacing||0,"row-reversed"!=f&&"column-reverse"!=f||(r=r.set(r.toArray().reverse()),f=f.split("-")[0]),"column"==f?(S="y",N="h",_="minH",k="maxH",R="innerH",T="top",A="deltaH",B="contentH",O="left",M="w",D="x",L="innerW",P="minW",H="right",I="deltaW",F="contentW"):(S="x",N="w",_="minW",k="maxW",R="innerW",T="left",A="deltaW",B="contentW",O="top",M="h",D="y",L="innerH",P="minH",H="bottom",I="deltaH",F="contentH"),d=i[R]-o[T]-o[T],E=c=0,t=0,n=r.length;t<n;t++)p=r[t],h=p.layoutRect(),m=p.settings,g=m.flex,d-=t<n-1?u:0,g>0&&(c+=g,h[k]&&v.push(p),h.flex=g),d-=h[_],y=o[O]+h[P]+o[H],y>E&&(E=y);if(x={},d<0?x[_]=i[_]-d+i[A]:x[_]=i[R]-d+i[A],x[P]=E+i[I],x[B]=i[R]-d,x[F]=E,x.minW=U(x.minW,i.maxW),x.minH=U(x.minH,i.maxH),x.minW=z(x.minW,i.startMinWidth),x.minH=z(x.minH,i.startMinHeight),!i.autoResize||x.minW==i.minW&&x.minH==i.minH){for(C=d/c,t=0,n=v.length;t<n;t++)p=v[t],h=p.layoutRect(),b=h[k],y=h[_]+h.flex*C,y>b?(d-=h[k]-h[_],c-=h.flex,h.flex=0,h.maxFlexSize=b):h.maxFlexSize=0;for(C=d/c,w=o[T],x={},0===c&&("end"==l?w=d+o[T]:"center"==l?(w=Math.round(i[R]/2-(i[R]-d)/2)+o[T],w<0&&(w=o[T])):"justify"==l&&(w=o[T],u=Math.floor(d/(r.length-1)))),x[D]=o[O],t=0,n=r.length;t<n;t++)p=r[t],h=p.layoutRect(),y=h.maxFlexSize||h[_],"center"===s?x[D]=Math.round(i[L]/2-h[M]/2):"stretch"===s?(x[M]=z(h[P]||0,i[L]-o[O]-o[H]),x[D]=o[O]):"end"===s&&(x[D]=i[L]-h[M]-o.top),h.flex>0&&(y+=h.flex*C),x[N]=y,x[S]=w,p.layoutRect(x),p.recalc&&p.recalc(),w+=y+u}else if(x.w=x.minW,x.h=x.minH,e.layoutRect(x),this.recalc(e),null===e._lastRect){var W=e.parent();W&&(W._lastRect=null,W.recalc())}}})}),r(Ht,[vt],function(e){return e.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(e){e.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})},isNative:function(){return!0}})}),r(It,[w],function(e){var n=function(e,t,n){for(;n!==t;){if(n.style[e])return n.style[e];n=n.parentNode}return""},r=function(e){return/[0-9.]+px$/.test(e)?Math.round(72*parseInt(e,10)/96)+"pt":e},i=function(e){return e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")},o=function(t,n){return e.DOM.getStyle(n,t,!0)},a=function(e,t){var r=n("fontSize",e,t);return""!==r?r:o("fontSize",t)},s=function(e,r){var a=n("fontFamily",e,r),s=""!==a?a:o("fontFamily",r);return s!==t?i(s):""};return{getFontSize:a,getFontFamily:s,toPt:r}}),r(Ft,[xe,Pe,Ae,m,h,w,ut,d,It],function(e,t,n,r,i,o,a,s,l){function u(e){e.settings.ui_container&&(s.container=o.DOM.select(e.settings.ui_container)[0])}function c(t){t.on("ScriptsLoaded",function(){t.rtl&&(e.rtl=!0)})}function d(e){function t(t,n){return function(){var r=this;e.on("nodeChange",function(i){var o=e.formatter,a=null;f(i.parents,function(e){if(f(t,function(t){if(n?o.matchNode(e,n,{value:t.value})&&(a=t.value):o.matchNode(e,t.value)&&(a=t.value),a)return!1}),a)return!1}),r.value(a)})}}function i(t){return function(){var n=this,r=function(e){return e?e.split(",")[0]:""};e.on("nodeChange",function(i){var o,a=null;o=l.getFontFamily(e.getBody(),i.element),f(t,function(e){e.value.toLowerCase()===o.toLowerCase()&&(a=e.value)}),f(t,function(e){a||r(e.value).toLowerCase()!==r(o).toLowerCase()||(a=e.value)}),n.value(a),!a&&o&&n.text(r(o))})}}function o(t){return function(){var n=this;e.on("nodeChange",function(r){var i,o,a=null;i=l.getFontSize(e.getBody(),r.element),o=l.toPt(i),f(t,function(e){e.value===i?a=i:e.value===o&&(a=o)}),n.value(a),a||n.text(o)})}}function a(e){e=e.replace(/;$/,"").split(";");for(var t=e.length;t--;)e[t]=e[t].split("=");return e}function s(){function t(e){var n=[];if(e)return f(e,function(e){var o={text:e.title,icon:e.icon};if(e.items)o.menu=t(e.items);else{var a=e.format||"custom"+r++;e.format||(e.name=a,i.push(e)),o.format=a,o.cmd=e.cmd}n.push(o)}),n}function n(){var n;return n=t(e.settings.style_formats_merge?e.settings.style_formats?o.concat(e.settings.style_formats):o:e.settings.style_formats||o)}var r=0,i=[],o=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];return e.on("init",function(){f(i,function(t){e.formatter.register(t.name,t)})}),{type:"menu",items:n(),onPostRender:function(t){e.fire("renderFormatsMenu",{control:t.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return e.formatter.getCssText(this.settings.format)},onPostRender:function(){var t=this;t.parent().on("show",function(){var n,r;n=t.settings.format,n&&(t.disabled(!e.formatter.canApply(n)),t.active(e.formatter.match(n))),r=t.settings.cmd,r&&t.active(e.queryCommandState(r))})},onclick:function(){this.settings.format&&h(this.settings.format),this.settings.cmd&&e.execCommand(this.settings.cmd)}}}}function u(t){return function(){var n=this;e.formatter?e.formatter.formatChanged(t,function(e){n.active(e)}):e.on("init",function(){e.formatter.formatChanged(t,function(e){n.active(e)})})}}function c(t){return function(){function n(){var n="redo"==t?"hasRedo":"hasUndo";return!!e.undoManager&&e.undoManager[n]()}var r=this;r.disabled(!n()),e.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){r.disabled(e.readonly||!n())})}}function d(){var t=this;e.on("VisualAid",function(e){t.active(e.hasVisual)}),t.active(e.hasVisual)}function h(t){t.control&&(t=t.control.value()),t&&e.execCommand("mceToggleFormat",!1,t)}function m(t){var n=t.length;return r.each(t,function(t){t.menu&&(t.hidden=0===m(t.menu));var r=t.format;r&&(t.hidden=!e.formatter.canApply(r)),t.hidden&&n--}),n}function g(t){var n=t.items().length;return t.items().each(function(t){t.menu&&t.visible(g(t.menu)>0),!t.menu&&t.settings.menu&&t.visible(m(t.settings.menu)>0);var r=t.settings.format;r&&t.visible(e.formatter.canApply(r)),t.visible()||n--}),n}var v;v=s(),f({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(t,n){e.addButton(n,{tooltip:t,onPostRender:u(n),onclick:function(){h(n)}})}),f({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1]})}),f({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1],onPostRender:u(n)})});var y=function(e){var t=e;return t.length>0&&"-"===t[0].text&&(t=t.slice(1)),t.length>0&&"-"===t[t.length-1].text&&(t=t.slice(0,t.length-1)),t},b=function(t){var n,i;if("string"==typeof t)i=t.split(" ");else if(r.isArray(t))return p(r.map(t,b));return n=r.grep(i,function(t){return"|"===t||t in e.menuItems}),r.map(n,function(t){return"|"===t?{text:"-"}:e.menuItems[t]})},C=function(t){var n=[{text:"-"}],i=r.grep(e.menuItems,function(e){return e.context===t});return r.each(i,function(e){"before"==e.separator&&n.push({text:"|"}),e.prependToContext?n.unshift(e):n.push(e),"after"==e.separator&&n.push({text:"|"})}),n},x=function(e){return y(e.insert_button_items?b(e.insert_button_items):C("insert"))};e.addButton("undo",{tooltip:"Undo",onPostRender:c("undo"),cmd:"undo"}),e.addButton("redo",{tooltip:"Redo",onPostRender:c("redo"),cmd:"redo"}),e.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),e.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:c("undo"),cmd:"undo"}),e.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:c("redo"),cmd:"redo"}),e.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:d,cmd:"mceToggleVisualAid"}),e.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"}),e.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(x(e.settings)),this.menu.renderNew()}}),f({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(t,n){e.addMenuItem(n,{text:t[0],icon:n,shortcut:t[2],cmd:t[1]})}),e.on("mousedown",function(){n.hideAll()}),e.addButton("styleselect",{type:"menubutton",text:"Formats",menu:v,onShowMenu:function(){e.settings.style_formats_autohide&&g(this.menu)}}),e.addButton("formatselect",function(){var n=[],r=a(e.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return f(r,function(t){n.push({text:t[0],value:t[1],textStyle:function(){return e.formatter.getCssText(t[1])}})}),{type:"listbox",text:r[0][0],values:n,fixedWidth:!0,onselect:h,onPostRender:t(n)}}),e.addButton("fontselect",function(){var t="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",n=[],r=a(e.settings.font_formats||t);return f(r,function(e){n.push({text:{raw:e[0]},value:e[1],textStyle:e[1].indexOf("dings")==-1?"font-family:"+e[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:n,fixedWidth:!0,onPostRender:i(n),onselect:function(t){t.control.settings.value&&e.execCommand("FontName",!1,t.control.settings.value)}}}),e.addButton("fontsizeselect",function(){var t=[],n="8pt 10pt 12pt 14pt 18pt 24pt 36pt",r=e.settings.fontsize_formats||n;return f(r.split(" "),function(e){var n=e,r=e,i=e.split("=");i.length>1&&(n=i[0],r=i[1]),t.push({text:n,value:r})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:t,fixedWidth:!0,onPostRender:o(t),onclick:function(t){t.control.settings.value&&e.execCommand("FontSize",!1,t.control.settings.value)}}}),e.addMenuItem("formats",{text:"Formats",menu:v})}var f=r.each,p=function(e){return i.reduce(e,function(e,t){return e.concat(t)},[])};a.on("AddEditor",function(e){var t=e.editor;c(t),d(t),u(t)}),e.translate=function(e){return a.translate(e)},t.tooltips=!s.iOS}),r(zt,[yt],function(e){return e.extend({recalc:function(e){var t,n,r,i,o,a,s,l,u,c,d,f,p,h,m,g,v,y,b,C,x,w,E,N=[],_=[],S,k,T,R,A,B;t=e.settings,i=e.items().filter(":visible"),o=e.layoutRect(),r=t.columns||Math.ceil(Math.sqrt(i.length)),n=Math.ceil(i.length/r),y=t.spacingH||t.spacing||0,b=t.spacingV||t.spacing||0,C=t.alignH||t.align,x=t.alignV||t.align,g=e.paddingBox,A="reverseRows"in t?t.reverseRows:e.isRtl(),C&&"string"==typeof C&&(C=[C]),x&&"string"==typeof x&&(x=[x]);for(d=0;d<r;d++)N.push(0);for(f=0;f<n;f++)_.push(0);for(f=0;f<n;f++)for(d=0;d<r&&(c=i[f*r+d],c);d++)u=c.layoutRect(),S=u.minW,k=u.minH,N[d]=S>N[d]?S:N[d],_[f]=k>_[f]?k:_[f];for(T=o.innerW-g.left-g.right,w=0,d=0;d<r;d++)w+=N[d]+(d>0?y:0),T-=(d>0?y:0)+N[d];for(R=o.innerH-g.top-g.bottom,E=0,f=0;f<n;f++)E+=_[f]+(f>0?b:0),R-=(f>0?b:0)+_[f];if(w+=g.left+g.right,E+=g.top+g.bottom,l={},l.minW=w+(o.w-o.innerW),l.minH=E+(o.h-o.innerH),l.contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH,l.minW=Math.min(l.minW,o.maxW),l.minH=Math.min(l.minH,o.maxH),l.minW=Math.max(l.minW,o.startMinWidth),l.minH=Math.max(l.minH,o.startMinHeight),!o.autoResize||l.minW==o.minW&&l.minH==o.minH){o.autoResize&&(l=e.layoutRect(l),l.contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH);var D;D="start"==t.packV?0:R>0?Math.floor(R/n):0;var L=0,M=t.flexWidths;if(M)for(d=0;d<M.length;d++)L+=M[d];else L=r;var P=T/L;for(d=0;d<r;d++)N[d]+=M?M[d]*P:P;for(h=g.top,f=0;f<n;f++){for(p=g.left,s=_[f]+D,d=0;d<r&&(B=A?f*r+r-1-d:f*r+d,c=i[B],c);d++)m=c.settings,u=c.layoutRect(),a=Math.max(N[d],u.startMinWidth),u.x=p,u.y=h,v=m.alignH||(C?C[d]||C[0]:null),"center"==v?u.x=p+a/2-u.w/2:"right"==v?u.x=p+a-u.w:"stretch"==v&&(u.w=a),v=m.alignV||(x?x[d]||x[0]:null),"center"==v?u.y=h+s/2-u.h/2:"bottom"==v?u.y=h+s-u.h:"stretch"==v&&(u.h=s),c.layoutRect(u),p+=a+y,c.recalc&&c.recalc();h+=s+b}}else if(l.w=l.minW,l.h=l.minH,e.layoutRect(l),this.recalc(e),null===e._lastRect){var O=e.parent();O&&(O._lastRect=null,O.recalc())}}})}),r(Ut,[Pe,c],function(e,t){return e.extend({renderHtml:function(){var e=this;return e.classes.add("iframe"),e.canFocus=!1,'<iframe id="'+e._id+'" class="'+e.classes+'" tabindex="-1" src="'+(e.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,n){var r=this,i=this.getEl().contentWindow.document.body;return i?(i.innerHTML=e,n&&n()):t.setTimeout(function(){r.html(e)}),this}})}),r(Wt,[Pe],function(e){return e.extend({init:function(e){var t=this;t._super(e),t.classes.add("widget").add("infobox"),t.canFocus=!1},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},help:function(e){this.state.set("help",e)},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes+'"><div id="'+e._id+'-body">'+e.encode(e.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+t+"ico "+t+'i-help"></i></button></div></div>'},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl("body").firstChild.data=e.encode(t.value),
e.state.get("rendered")&&e.updateLayoutRect()}),e.state.on("change:help",function(t){e.classes.toggle("has-help",t.value),e.state.get("rendered")&&e.updateLayoutRect()}),e._super()}})}),r(Vt,[Pe,ve],function(e,t){return e.extend({init:function(e){var t=this;t._super(e),t.classes.add("widget").add("label"),t.canFocus=!1,e.multiline&&t.classes.add("autoscroll"),e.strong&&t.classes.add("strong")},initLayoutRect:function(){var e=this,n=e._super();if(e.settings.multiline){var r=t.getSize(e.getEl());r.width>n.maxW&&(n.minW=n.maxW,e.classes.add("multiline")),e.getEl().style.width=n.minW+"px",n.startMinH=n.h=n.minH=Math.min(n.maxH,t.getSize(e.getEl()).height)}return n},repaint:function(){var e=this;return e.settings.multiline||(e.getEl().style.lineHeight=e.layoutRect().h+"px"),e._super()},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},renderHtml:function(){var e=this,t,n,r=e.settings.forId;return!r&&(n=e.settings.forName)&&(t=e.getRoot().find("#"+n)[0],t&&(r=t._id)),r?'<label id="'+e._id+'" class="'+e.classes+'"'+(r?' for="'+r+'"':"")+">"+e.encode(e.state.get("text"))+"</label>":'<span id="'+e._id+'" class="'+e.classes+'">'+e.encode(e.state.get("text"))+"</span>"},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.innerHtml(e.encode(t.value)),e.state.get("rendered")&&e.updateLayoutRect()}),e._super()}})}),r($t,[Ne],function(e){return e.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(e){var t=this;t._super(e),t.classes.add("toolbar")},postRender:function(){var e=this;return e.items().each(function(e){e.classes.add("toolbar-item")}),e._super()}})}),r(qt,[$t],function(e){return e.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),r(jt,[bt,we,qt],function(e,t,n){function r(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}var i=e.extend({init:function(e){var t=this;t._renderOpen=!0,t._super(e),e=t.settings,t.classes.add("menubtn"),e.fixedWidth&&t.classes.add("fixed-width"),t.aria("haspopup",!0),t.state.set("menu",e.menu||t.render())},showMenu:function(e){var n=this,r;return n.menu&&n.menu.visible()&&e!==!1?n.hideMenu():(n.menu||(r=n.state.get("menu")||[],r.length?r={type:"menu",items:r}:r.type=r.type||"menu",r.renderTo?n.menu=r.parent(n).show().renderTo():n.menu=t.create(r).parent(n).renderTo(),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",function(e){e.control.parent()===n.menu&&(e.stopPropagation(),n.focus(),n.hideMenu())}),n.menu.on("select",function(){n.focus()}),n.menu.on("show hide",function(e){e.control==n.menu&&n.activeMenu("show"==e.type),n.aria("expanded","show"==e.type)}).fire("show")),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),void n.fire("showmenu"))},hideMenu:function(){var e=this;e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide())},activeMenu:function(e){this.classes.toggle("active",e)},renderHtml:function(){var e=this,t=e._id,r=e.classPrefix,i=e.settings.icon,o,a=e.state.get("text"),s="";return o=e.settings.image,o?(i="none","string"!=typeof o&&(o=window.getSelection?o[0]:o[1]),o=" style=\"background-image: url('"+o+"')\""):o="",a&&(e.classes.add("btn-has-text"),s='<span class="'+r+'txt">'+e.encode(a)+"</span>"),i=e.settings.icon?r+"ico "+r+"i-"+i:"",e.aria("role",e.parent()instanceof n?"menuitem":"button"),'<div id="'+t+'" class="'+e.classes+'" tabindex="-1" aria-labelledby="'+t+'"><button id="'+t+'-open" role="presentation" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+o+"></i>":"")+s+' <i class="'+r+'caret"></i></button></div>'},postRender:function(){var e=this;return e.on("click",function(t){t.control===e&&r(t.target,e.getEl())&&(e.focus(),e.showMenu(!t.aria),t.aria&&e.menu.items().filter(":visible")[0].focus())}),e.on("mouseenter",function(t){var n=t.control,r=e.parent(),o;n&&r&&n instanceof i&&n.parent()==r&&(r.items().filter("MenuButton").each(function(e){e.hideMenu&&e!=n&&(e.menu&&e.menu.visible()&&(o=!0),e.hideMenu())}),o&&(n.focus(),n.showMenu()))}),e._super()},bindStates:function(){var e=this;return e.state.on("change:menu",function(){e.menu&&e.menu.remove(),e.menu=null}),e._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return i}),r(Yt,[Pe,we,d,c],function(e,t,n,r){return e.extend({Defaults:{border:0,role:"menuitem"},init:function(e){var t=this,n;t._super(e),e=t.settings,t.classes.add("menu-item"),e.menu&&t.classes.add("menu-item-expand"),e.preview&&t.classes.add("menu-item-preview"),n=t.state.get("text"),"-"!==n&&"|"!==n||(t.classes.add("menu-item-sep"),t.aria("role","separator"),t.state.set("text","-")),e.selectable&&(t.aria("role","menuitemcheckbox"),t.classes.add("menu-item-checkbox"),e.icon="selected"),e.preview||e.selectable||t.classes.add("menu-item-normal"),t.on("mousedown",function(e){e.preventDefault()}),e.menu&&!e.ariaHideMenu&&t.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var e=this,n=e.settings,r,i=e.parent();if(i.items().each(function(t){t!==e&&t.hideMenu()}),n.menu){r=e.menu,r?r.show():(r=n.menu,r.length?r={type:"menu",items:r}:r.type=r.type||"menu",i.settings.itemDefaults&&(r.itemDefaults=i.settings.itemDefaults),r=e.menu=t.create(r).parent(e).renderTo(),r.reflow(),r.on("cancel",function(t){t.stopPropagation(),e.focus(),r.hide()}),r.on("show hide",function(e){e.control.items&&e.control.items().each(function(e){e.active(e.settings.selected)})}).fire("show"),r.on("hide",function(t){t.control===r&&e.classes.remove("selected")}),r.submenu=!0),r._parentMenu=i,r.classes.add("menu-sub");var o=r.testMoveRel(e.getEl(),e.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);r.moveRel(e.getEl(),o),r.rel=o,o="menu-sub-"+o,r.classes.remove(r._lastRel).add(o),r._lastRel=o,e.classes.add("selected"),e.aria("expanded",!0)}},hideMenu:function(){var e=this;return e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide(),e.aria("expanded",!1)),e},renderHtml:function(){function e(e){var t,r,i={};for(i=n.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},e=e.split("+"),t=0;t<e.length;t++)r=i[e[t].toLowerCase()],r&&(e[t]=r);return e.join("+")}function t(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function r(e){var n=s.match||"";return n?e.replace(new RegExp(t(n),"gi"),function(e){return"!mce~match["+e+"]mce~match!"}):e}function i(e){return e.replace(new RegExp(t("!mce~match["),"g"),"<b>").replace(new RegExp(t("]mce~match!"),"g"),"</b>")}var o=this,a=o._id,s=o.settings,l=o.classPrefix,u=o.state.get("text"),c=o.settings.icon,d="",f=s.shortcut,p=o.encode(s.url),h="";return c&&o.parent().classes.add("menu-has-icons"),s.image&&(d=" style=\"background-image: url('"+s.image+"')\""),f&&(f=e(f)),c=l+"ico "+l+"i-"+(o.settings.icon||"none"),h="-"!==u?'<i class="'+c+'"'+d+"></i>\xa0":"",u=i(o.encode(r(u))),p=i(o.encode(r(p))),'<div id="'+a+'" class="'+o.classes+'" tabindex="-1">'+h+("-"!==u?'<span id="'+a+'-text" class="'+l+'text">'+u+"</span>":"")+(f?'<div id="'+a+'-shortcut" class="'+l+'menu-shortcut">'+f+"</div>":"")+(s.menu?'<div class="'+l+'caret"></div>':"")+(p?'<div class="'+l+'menu-item-link">'+p+"</div>":"")+"</div>"},postRender:function(){var e=this,t=e.settings,n=t.textStyle;if("function"==typeof n&&(n=n.call(this)),n){var i=e.getEl("text");i&&i.setAttribute("style",n)}return e.on("mouseenter click",function(n){n.control===e&&(t.menu||"click"!==n.type?(e.showMenu(),n.aria&&e.menu.focus(!0)):(e.fire("select"),r.requestAnimationFrame(function(){e.parent().hideAll()})))}),e._super(),e},hover:function(){var e=this;return e.parent().items().each(function(e){e.classes.remove("selected")}),e.classes.toggle("selected",!0),e},active:function(e){return"undefined"!=typeof e&&this.aria("checked",e),this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),r(Xt,[g,xe,c],function(e,t,n){return function(r,i){var o=this,a,s=t.classPrefix,l;o.show=function(t,u){function c(){a&&(e(r).append('<div class="'+s+"throbber"+(i?" "+s+"throbber-inline":"")+'"></div>'),u&&u())}return o.hide(),a=!0,t?l=n.setTimeout(c,t):c(),o},o.hide=function(){var e=r.lastChild;return n.clearTimeout(l),e&&e.className.indexOf("throbber")!=-1&&e.parentNode.removeChild(e),a=!1,o}}}),r(Kt,[Ae,Yt,Xt,m],function(e,t,n,r){return e.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(e){var t=this;if(e.autohide=!0,e.constrainToViewport=!0,"function"==typeof e.items&&(e.itemsFactory=e.items,e.items=[]),e.itemDefaults)for(var n=e.items,i=n.length;i--;)n[i]=r.extend({},e.itemDefaults,n[i]);t._super(e),t.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var e=this;e.hideAll(),e.fire("select")},load:function(){function e(){t.throbber&&(t.throbber.hide(),t.throbber=null)}var t=this,r,i;i=t.settings.itemsFactory,i&&(t.throbber||(t.throbber=new n(t.getEl("body"),!0),0===t.items().length?(t.throbber.show(),t.fire("loading")):t.throbber.show(100,function(){t.items().remove(),t.fire("loading")}),t.on("hide close",e)),t.requestTime=r=(new Date).getTime(),t.settings.itemsFactory(function(n){return 0===n.length?void t.hide():void(t.requestTime===r&&(t.getEl().style.width="",t.getEl("body").style.width="",e(),t.items().remove(),t.getEl("body").innerHTML="",t.add(n),t.renderNew(),t.fire("loaded")))}))},hideAll:function(){var e=this;return this.find("menuitem").exec("hideMenu"),e._super()},preRender:function(){var e=this;return e.items().each(function(t){var n=t.settings;if(n.icon||n.image||n.selectable)return e._hasIcons=!0,!1}),e.settings.itemsFactory&&e.on("postrender",function(){e.settings.itemsFactory&&e.load()}),e._super()}})}),r(Gt,[jt,Kt],function(e,t){return e.extend({init:function(e){function t(r){for(var a=0;a<r.length;a++){if(i=r[a].selected||e.value===r[a].value)return o=o||r[a].text,n.state.set("value",r[a].value),!0;if(r[a].menu&&t(r[a].menu))return!0}}var n=this,r,i,o,a;n._super(e),e=n.settings,n._values=r=e.values,r&&("undefined"!=typeof e.value&&t(r),!i&&r.length>0&&(o=r[0].text,n.state.set("value",r[0].value)),n.state.set("menu",r)),n.state.set("text",e.text||o),n.classes.add("listbox"),n.on("select",function(t){var r=t.control;a&&(t.lastControl=a),e.multiple?r.active(!r.active()):n.value(t.control.value()),a=r})},bindStates:function(){function e(e,n){e instanceof t&&e.items().each(function(e){e.hasMenus()||e.active(e.value()===n)})}function n(e,t){var r;if(e)for(var i=0;i<e.length;i++){if(e[i].value===t)return e[i];if(e[i].menu&&(r=n(e[i].menu,t)))return r}}var r=this;return r.on("show",function(t){e(t.control,r.value())}),r.state.on("change:value",function(e){var t=n(r.state.get("menu"),e.value);t?r.text(t.text):r.text(r.settings.text)}),r._super()}})}),r(Jt,[xt],function(e){return e.extend({Defaults:{classes:"radio",role:"radio"}})}),r(Qt,[Pe,_e],function(e,t){return e.extend({renderHtml:function(){var e=this,t=e.classPrefix;return e.classes.add("resizehandle"),"both"==e.settings.direction&&e.classes.add("resizehandle-both"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes+'"><i class="'+t+"ico "+t+'i-resize"></i></div>'},postRender:function(){var e=this;e._super(),e.resizeDragHelper=new t(this._id,{start:function(){e.fire("ResizeStart")},drag:function(t){"both"!=e.settings.direction&&(t.deltaX=0),e.fire("Resize",t)},stop:function(){e.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),r(Zt,[Pe],function(e){function t(e){var t="";if(e)for(var n=0;n<e.length;n++)t+='<option value="'+e[n]+'">'+e[n]+"</option>";return t}return e.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(e){var t=this;t._super(e),t.settings.size&&(t.size=t.settings.size),t.settings.options&&(t._options=t.settings.options),t.on("keydown",function(e){var n;13==e.keyCode&&(e.preventDefault(),t.parents().reverse().each(function(e){if(e.toJSON)return n=e,!1}),t.fire("submit",{data:n.toJSON()}))})},options:function(e){return arguments.length?(this.state.set("options",e),this):this.state.get("options")},renderHtml:function(){var e=this,n,r="";return n=t(e._options),e.size&&(r=' size = "'+e.size+'"'),'<select id="'+e._id+'" class="'+e.classes+'"'+r+">"+n+"</select>"},bindStates:function(){var e=this;return e.state.on("change:options",function(n){e.getEl().innerHTML=t(n.value)}),e._super()}})}),r(en,[Pe,_e,ve],function(e,t,n){function r(e,t,n){return e<t&&(e=t),e>n&&(e=n),e}function i(e,t,n){e.setAttribute("aria-"+t,n)}function o(e,t){var r,o,a,s,l,u;"v"==e.settings.orientation?(s="top",a="height",o="h"):(s="left",a="width",o="w"),u=e.getEl("handle"),r=(e.layoutRect()[o]||100)-n.getSize(u)[a],l=r*((t-e._minValue)/(e._maxValue-e._minValue))+"px",u.style[s]=l,u.style.height=e.layoutRect().h+"px",i(u,"valuenow",t),i(u,"valuetext",""+e.settings.previewFilter(t)),i(u,"valuemin",e._minValue),i(u,"valuemax",e._maxValue)}return e.extend({init:function(e){var t=this;e.previewFilter||(e.previewFilter=function(e){return Math.round(100*e)/100}),t._super(e),t.classes.add("slider"),"v"==e.orientation&&t.classes.add("vertical"),t._minValue=e.minValue||0,t._maxValue=e.maxValue||100,t._initValue=t.state.get("value")},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes+'"><div id="'+t+'-handle" class="'+n+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){function e(e,t,n){return(n+e)/(t-e)}function i(e,t,n){return n*(t-e)-e}function o(t,n){function o(o){var a;a=s.value(),a=i(t,n,e(t,n,a)+.05*o),a=r(a,t,n),s.value(a),s.fire("dragstart",{value:a}),s.fire("drag",{value:a}),s.fire("dragend",{value:a})}s.on("keydown",function(e){switch(e.keyCode){case 37:case 38:o(-1);break;case 39:case 40:o(1)}})}function a(e,i,o){var a,l,u,h,m;s._dragHelper=new t(s._id,{handle:s._id+"-handle",start:function(e){a=e[c],l=parseInt(s.getEl("handle").style[d],10),u=(s.layoutRect()[p]||100)-n.getSize(o)[f],s.fire("dragstart",{value:m})},drag:function(t){var n=t[c]-a;h=r(l+n,0,u),o.style[d]=h+"px",m=e+h/u*(i-e),s.value(m),s.tooltip().text(""+s.settings.previewFilter(m)).show().moveRel(o,"bc tc"),s.fire("drag",{value:m})},stop:function(){s.tooltip().hide(),s.fire("dragend",{value:m})}})}var s=this,l,u,c,d,f,p;l=s._minValue,u=s._maxValue,"v"==s.settings.orientation?(c="screenY",d="top",f="height",p="h"):(c="screenX",d="left",f="width",p="w"),s._super(),o(l,u,s.getEl("handle")),a(l,u,s.getEl("handle"))},repaint:function(){this._super(),o(this,this.value())},bindStates:function(){var e=this;return e.state.on("change:value",function(t){o(e,t.value)}),e._super()}})}),r(tn,[Pe],function(e){return e.extend({renderHtml:function(){var e=this;return e.classes.add("spacer"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes+'"></div>'}})}),r(nn,[jt,ve,g],function(e,t,n){return e.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var e=this,r=e.getEl(),i=e.layoutRect(),o,a;return e._super(),o=r.firstChild,a=r.lastChild,n(o).css({width:i.w-t.getSize(a).width,height:i.h-2}),n(a).css({height:i.h-2}),e},activeMenu:function(e){var t=this;n(t.getEl().lastChild).toggleClass(t.classPrefix+"active",e)},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,r,i=e.state.get("icon"),o=e.state.get("text"),a="";return r=e.settings.image,r?(i="none","string"!=typeof r&&(r=window.getSelection?r[0]:r[1]),r=" style=\"background-image: url('"+r+"')\""):r="",i=e.settings.icon?n+"ico "+n+"i-"+i:"",o&&(e.classes.add("btn-has-text"),a='<span class="'+n+'txt">'+e.encode(o)+"</span>"),'<div id="'+t+'" class="'+e.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(i?'<i class="'+i+'"'+r+"></i>":"")+a+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1">'+(e._menuBtnText?(i?"\xa0":"")+e._menuBtnText:"")+' <i class="'+n+'caret"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",function(e){var n=e.target;if(e.control==this)for(;n;){if(e.aria&&"down"!=e.aria.key||"BUTTON"==n.nodeName&&n.className.indexOf("open")==-1)return e.stopImmediatePropagation(),void(t&&t.call(this,e));n=n.parentNode}}),delete e.settings.onclick,e._super()}})}),r(rn,[Ht],function(e){return e.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})}),r(on,[ke,g,ve],function(e,t,n){return e.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(e){var n;this.activeTabId&&(n=this.getEl(this.activeTabId),t(n).removeClass(this.classPrefix+"active"),n.setAttribute("aria-selected","false")),this.activeTabId="t"+e,n=this.getEl("t"+e),n.setAttribute("aria-selected","true"),t(n).addClass(this.classPrefix+"active"),this.items()[e].show().fire("showtab"),this.reflow(),this.items().each(function(t,n){e!=n&&t.hide()})},renderHtml:function(){var e=this,t=e._layout,n="",r=e.classPrefix;return e.preRender(),t.preRender(e),e.items().each(function(t,i){var o=e._id+"-t"+i;t.aria("role","tabpanel"),t.aria("labelledby",o),n+='<div id="'+o+'" class="'+r+'tab" unselectable="on" role="tab" aria-controls="'+t._id+'" aria-selected="false" tabIndex="-1">'+e.encode(t.settings.title)+"</div>"}),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1"><div id="'+e._id+'-head" class="'+r+'tabs" role="tablist">'+n+'</div><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div></div>"},postRender:function(){var e=this;e._super(),e.settings.activeTab=e.settings.activeTab||0,e.activateTab(e.settings.activeTab),this.on("click",function(t){var n=t.target.parentNode;if(n&&n.id==e._id+"-head")for(var r=n.childNodes.length;r--;)n.childNodes[r]==t.target&&e.activateTab(r)})},initLayoutRect:function(){var e=this,t,r,i;r=n.getSize(e.getEl("head")).width,r=r<0?0:r,i=0,e.items().each(function(e){r=Math.max(r,e.layoutRect().minW),i=Math.max(i,e.layoutRect().minH)}),e.items().each(function(e){e.settings.x=0,e.settings.y=0,e.settings.w=r,e.settings.h=i,e.layoutRect({x:0,y:0,w:r,h:i})});var o=n.getSize(e.getEl("head")).height;return e.settings.minWidth=r,e.settings.minHeight=i+o,t=e._super(),t.deltaH+=o,t.innerH=t.h-t.deltaH,t}})}),r(an,[Pe,m,ve],function(e,t,n){return e.extend({init:function(e){var t=this;t._super(e),t.classes.add("textbox"),e.multiline?t.classes.add("multiline"):(t.on("keydown",function(e){var n;13==e.keyCode&&(e.preventDefault(),t.parents().reverse().each(function(e){if(e.toJSON)return n=e,!1}),t.fire("submit",{data:n.toJSON()}))}),t.on("keyup",function(e){t.state.set("value",e.target.value)}))},repaint:function(){var e=this,t,n,r,i,o=0,a;t=e.getEl().style,n=e._layoutRect,a=e._lastRepaintRect||{};var s=document;return!e.settings.multiline&&s.all&&(!s.documentMode||s.documentMode<=8)&&(t.lineHeight=n.h-o+"px"),r=e.borderBox,i=r.left+r.right+8,o=r.top+r.bottom+(e.settings.multiline?8:0),n.x!==a.x&&(t.left=n.x+"px",a.x=n.x),n.y!==a.y&&(t.top=n.y+"px",a.y=n.y),n.w!==a.w&&(t.width=n.w-i+"px",a.w=n.w),n.h!==a.h&&(t.height=n.h-o+"px",a.h=n.h),e._lastRepaintRect=a,e.fire("repaint",{},!1),e},renderHtml:function(){var e=this,r=e.settings,i,o;return i={id:e._id,hidefocus:"1"},t.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(e){i[e]=r[e]}),e.disabled()&&(i.disabled="disabled"),r.subtype&&(i.type=r.subtype),o=n.create(r.multiline?"textarea":"input",i),o.value=e.state.get("value"),o.className=e.classes,o.outerHTML},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var e=this;e.getEl().value=e.state.get("value"),e._super(),e.$el.on("change",function(t){e.state.set("value",t.target.value),e.fire("change",t)})},bindStates:function(){var e=this;return e.state.on("change:value",function(t){e.getEl().value!=t.value&&(e.getEl().value=t.value)}),e.state.on("change:disabled",function(t){e.getEl().disabled=t.value}),e._super()},remove:function(){this.$el.off(),this._super()}})}),r(sn,[],function(){var e=this||window,t=function(){return e.tinymce};return"function"==typeof e.define&&(e.define.amd||e.define("ephox/tinymce",[],t)),"object"==typeof module&&(module.exports=window.tinymce),{}}),a([l,u,c,d,f,p,m,g,v,y,C,w,E,N,T,A,B,D,L,M,P,O,I,F,j,Y,J,te,le,ue,ce,de,pe,me,ge,Ce,xe,we,Ee,Ne,_e,Se,ke,Te,Re,Ae,Be,De,Le,Me,Pe,Oe,He,Ie,Ue,Ve,at,st,lt,ut,dt,ft,pt,ht,mt,gt,vt,yt,bt,Ct,xt,wt,Et,Nt,_t,St,kt,Tt,Rt,At,Bt,Dt,Mt,Pt,Ot,Ht,Ft,zt,Ut,Wt,Vt,$t,qt,jt,Yt,Xt,Kt,Gt,Jt,Qt,Zt,en,tn,nn,rn,on,an])}(window);
;!function(){var e={},t=function(t){for(var n=e[t],i=n.deps,o=n.defn,a=i.length,s=new Array(a),l=0;l<a;++l)s[l]=r(i[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+t+"] returned undefined";n.instance=c},n=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},r=function(n){var r=e[n];if(void 0===r)throw"module ["+n+"] was undefined";return void 0===r.instance&&t(n),r.instance},i=function(e,t){for(var n=e.length,i=new Array(n),o=0;o<n;++o)i.push(r(e[o]));t.apply(null,t)},o={};o.bolt={module:{api:{define:n,require:i,demand:r}}};var a=n,s=function(e,t){a(e,[],function(){return t})};s("1",tinymce.Env),s("2",tinymce.EditorManager),s("3",tinymce.ThemeManager),s("8",tinymce.util.Tools),s("9",tinymce.ui.Factory),s("a",tinymce.DOM),a("b",["8","9"],function(e,t){var n="undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image",r=function(n,r,i){var o,a=[];if(r)return e.each(r.split(/[ ,]/),function(e){var r,s=function(){var t=n.selection;e.settings.stateSelector&&t.selectorChanged(e.settings.stateSelector,function(t){e.active(t)},!0),e.settings.disabledStateSelector&&t.selectorChanged(e.settings.disabledStateSelector,function(t){e.disabled(t)})};"|"==e?o=null:t.has(e)?(e={type:e,size:i},a.push(e),o=null):(o||(o={type:"buttongroup",items:[]},a.push(o)),n.buttons[e]&&(r=e,e=n.buttons[r],"function"==typeof e&&(e=e()),e.type=e.type||"button",e.size=i,e=t.create(e),o.items.push(e),n.initialized?s():n.on("init",s)))}),{type:"toolbar",layout:"flow",items:a}},i=function(t,i){var o=[],a=t.settings,s=function(e){if(e)return o.push(r(t,e,i)),!0};if(e.isArray(a.toolbar)){if(0===a.toolbar.length)return;e.each(a.toolbar,function(e,t){a["toolbar"+(t+1)]=e}),delete a.toolbar}for(var l=1;l<10&&s(a["toolbar"+l]);l++);if(o.length||a.toolbar===!1||s(a.toolbar||n),o.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:o}};return{createToolbar:r,createToolbars:i}}),a("c",["8"],function(e){var t={file:{title:"File",items:"newdocument"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},insert:{title:"Insert",items:"|"},view:{title:"View",items:"visualaid |"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | formats | removeformat"},table:{title:"Table"},tools:{title:"Tools"}},n=function(e,t){var n;return"|"==t?{text:"|"}:n=e[t]},r=function(r,i,o){var a,s,l,c,u;if(u=e.makeMap((i.removed_menuitems||"").split(/[ ,]/)),i.menu?(s=i.menu[o],c=!0):s=t[o],s){a={text:s.title},l=[],e.each((s.items||"").split(/[ ,]/),function(e){var t=n(r,e);t&&!u[e]&&l.push(n(r,e))}),c||e.each(r,function(e){e.context==o&&("before"==e.separator&&l.push({text:"|"}),e.prependToContext?l.unshift(e):l.push(e),"after"==e.separator&&l.push({text:"|"}))});for(var d=0;d<l.length;d++)"|"==l[d].text&&(0!==d&&d!=l.length-1||l.splice(d,1));if(a.menu=l,!a.menu.length)return null}return a},i=function(e){var n,i=[],o=e.settings,a=[];if(o.menu)for(n in o.menu)a.push(n);else for(n in t)a.push(n);for(var s="string"==typeof o.menubar?o.menubar.split(/[ ,]/):a,l=0;l<s.length;l++){var c=s[l];c=r(e.menuItems,e.settings,c),c&&i.push(c)}return i};return{createMenuButtons:i}}),s("j",tinymce.util.Delay),s("k",tinymce.geom.Rect),a("d",["a","8","j","b","9","k"],function(e,t,n,r,i,o){var a=function(e){return{left:e.x,top:e.y,width:e.w,height:e.h,right:e.x+e.w,bottom:e.y+e.h}},s=function(e){t.each(e.contextToolbars,function(e){e.panel&&e.panel.hide()})},l=function(e,t){e.moveTo(t.left,t.top)},c=function(e,n,r){n=n?n.substr(0,2):"",t.each({t:"down",b:"up"},function(t,i){e.classes.toggle("arrow-"+t,r(i,n.substr(0,1)))}),t.each({l:"left",r:"right"},function(t,i){e.classes.toggle("arrow-"+t,r(i,n.substr(1,1)))})},u=function(e,t,n,r,i,o){return o=a({x:t,y:n,w:o.w,h:o.h}),e&&(o=e({elementRect:a(r),contentAreaRect:a(i),panelRect:o})),o},d=function(a){var d,f=a.settings,p=function(){return a.contextToolbars||[]},m=function(t){var n,r,i;return n=e.getPos(a.getContentAreaContainer()),r=a.dom.getRect(t),i=a.dom.getRoot(),"BODY"===i.nodeName&&(r.x-=i.ownerDocument.documentElement.scrollLeft||i.scrollLeft,r.y-=i.ownerDocument.documentElement.scrollTop||i.scrollTop),r.x+=n.x,r.y+=n.y,r},g=function(t,n){var r,i,d,p,g,h,v,b,y=f.inline_toolbar_position_handler;if(!a.removed){if(!t||!t.toolbar.panel)return void s(a);v=["bc-tc","tc-bc","tl-bl","bl-tl","tr-br","br-tr"],g=t.toolbar.panel,n&&g.show(),d=m(t.element),i=e.getRect(g.getEl()),p=e.getRect(a.getContentAreaContainer()||a.getBody()),b=25,"inline"!==e.getStyle(t.element,"display",!0)&&(d.w=t.element.clientWidth,d.h=t.element.clientHeight),a.inline||(p.w=a.getDoc().documentElement.offsetWidth),a.selection.controlSelection.isResizable(t.element)&&d.w<b&&(d=o.inflate(d,0,8)),r=o.findBestRelativePosition(i,d,p,v),d=o.clamp(d,p),r?(h=o.relativePosition(i,d,r),l(g,u(y,h.x,h.y,d,p,i))):(p.h+=i.h,d=o.intersect(p,d),d?(r=o.findBestRelativePosition(i,d,p,["bc-tc","bl-tl","br-tr"]),r?(h=o.relativePosition(i,d,r),l(g,u(y,h.x,h.y,d,p,i))):l(g,u(y,d.x,d.y,d,p,i))):g.hide()),c(g,r,function(e,t){return e===t})}},h=function(e){return function(){var t=function(){a.selection&&g(x(a.selection.getNode()),e)};n.requestAnimationFrame(t)}},v=function(){d||(d=a.selection.getScrollContainer()||a.getWin(),e.bind(d,"scroll",h(!0)),a.on("remove",function(){e.unbind(d,"scroll")}))},b=function(e){var t;return e.toolbar.panel?(e.toolbar.panel.show(),void g(e)):(v(),t=i.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:r.createToolbar(a,e.toolbar.items),oncancel:function(){a.focus()}}),e.toolbar.panel=t,t.renderTo(document.body).reflow(),void g(e))},y=function(){t.each(p(),function(e){e.panel&&e.panel.hide()})},x=function(e){var t,n,r,i=p();for(r=a.$(e).parents().add(e),t=r.length-1;t>=0;t--)for(n=i.length-1;n>=0;n--)if(i[n].predicate(r[t]))return{toolbar:i[n],element:r[t]};return null};a.on("click keyup setContent ObjectResized",function(e){("setcontent"!==e.type||e.selection)&&n.setEditorTimeout(a,function(){var e;e=x(a.selection.getNode()),e?(y(),b(e)):y()})}),a.on("blur hide contextmenu",y),a.on("ObjectResizeStart",function(){var e=x(a.selection.getNode());e&&e.toolbar.panel&&e.toolbar.panel.hide()}),a.on("ResizeEditor ResizeWindow",h(!0)),a.on("nodeChange",h(!1)),a.on("remove",function(){t.each(p(),function(e){e.panel&&e.panel.remove()}),a.contextToolbars={}}),a.shortcuts.add("ctrl+shift+e > ctrl+shift+p","",function(){var e=x(a.selection.getNode());e&&e.toolbar.panel&&e.toolbar.panel.items()[0].focus()})};return{addContextualToolbars:d}}),a("e",[],function(){var e=function(e,t){return function(){var n=e.find(t)[0];n&&n.focus(!0)}},t=function(t,n){t.shortcuts.add("Alt+F9","",e(n,"menubar")),t.shortcuts.add("Alt+F10,F10","",e(n,"toolbar")),t.shortcuts.add("Alt+F11","",e(n,"elementpath")),n.on("cancel",function(){t.focus()})};return{addKeys:t}}),a("f",["8","9","1"],function(e,t,n){var r=function(e){return{element:function(){return e}}},i=function(e,t,n){var i=e.settings[n];i&&i(r(t.getEl("body")))},o=function(t,n,r){e.each(r,function(e){var r=n.items().filter("#"+e.name)[0];r&&r.visible()&&e.name!==t&&(i(e,r,"onhide"),r.visible(!1))})},a=function(e){e.items().each(function(e){e.active(!1)})},s=function(t,n){return e.grep(t,function(e){return e.name===n})[0]},l=function(e,n,r){return function(l){var c=l.control,u=c.parents().filter("panel")[0],d=u.find("#"+n)[0],f=s(r,n);o(n,u,r),a(c.parent()),d&&d.visible()?(i(f,d,"onhide"),d.hide(),c.active(!1)):(d?(d.show(),i(f,d,"onshow")):(d=t.create({type:"container",name:n,layout:"stack",classes:"sidebar-panel",html:""}),u.prepend(d),i(f,d,"onrender"),i(f,d,"onshow")),c.active(!0)),e.fire("ResizeEditor")}},c=function(){return!n.ie||n.ie>=11},u=function(e){return!(!c()||!e.sidebars)&&e.sidebars.length>0},d=function(t){var n=e.map(t.sidebars,function(e){var n=e.settings;return{type:"button",icon:n.icon,image:n.image,tooltip:n.tooltip,onclick:l(t,e.name,t.sidebars)}});return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:n}]}};return{hasSidebar:u,createSidebar:d}}),a("g",[],function(){var e=function(e){var t=function(){e._skinLoaded=!0,e.fire("SkinLoaded")};return function(){e.initialized?t():e.on("init",t)}};return{fireSkinLoaded:e}}),a("6",["a"],function(e){var t=function(e){return{width:e.clientWidth,height:e.clientHeight}},n=function(n,r,i){var o,a,s,l,c=n.settings;o=n.getContainer(),a=n.getContentAreaContainer().firstChild,s=t(o),l=t(a),null!==r&&(r=Math.max(c.min_width||100,r),r=Math.min(c.max_width||65535,r),e.setStyle(o,"width",r+(s.width-l.width)),e.setStyle(a,"width",r)),i=Math.max(c.min_height||100,i),i=Math.min(c.max_height||65535,i),e.setStyle(a,"height",i),n.fire("ResizeEditor")},r=function(e,t,r){var i=e.getContentAreaContainer();n(e,i.clientWidth+t,i.clientHeight+r)};return{resizeTo:n,resizeBy:r}}),a("4",["8","9","a","b","c","d","e","f","g","6"],function(e,t,n,r,i,o,a,s,l,c){var u=function(e){return function(t){e.find("*").disabled("readonly"===t.mode)}},d=function(e){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:e,html:""}},f=function(e){return{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[d("0"),s.createSidebar(e)]}},p=function(e,p,m){var g,h,v,b=e.settings;return m.skinUiCss&&n.styleSheetLoader.load(m.skinUiCss,l.fireSkinLoaded(e)),g=p.panel=t.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[b.menubar===!1?null:{type:"menubar",border:"0 0 1 0",items:i.createMenuButtons(e)},r.createToolbars(e,b.toolbar_items_size),s.hasSidebar(e)?f(e):d("1 0 0 0")]}),b.resize!==!1&&(h={type:"resizehandle",direction:b.resize,onResizeStart:function(){var t=e.getContentAreaContainer().firstChild;v={width:t.clientWidth,height:t.clientHeight}},onResize:function(t){"both"===b.resize?c.resizeTo(e,v.width+t.deltaX,v.height+t.deltaY):c.resizeTo(e,null,v.height+t.deltaY)}}),b.statusbar!==!1&&g.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath",editor:e},h]}),e.fire("BeforeRenderUI"),e.on("SwitchMode",u(g)),g.renderBefore(m.targetNode).reflow(),b.readonly&&e.setMode("readonly"),b.width&&n.setStyle(g.getEl(),"width",b.width),e.on("remove",function(){g.remove(),g=null}),a.addKeys(e,g),o.addContextualToolbars(e),{iframeContainer:g.find("#iframe")[0].getEl(),editorContainer:g.getEl()}};return{render:p}}),s("h",tinymce.ui.FloatPanel),a("5",["8","9","a","h","b","c","d","e","g"],function(e,t,n,r,i,o,a,s,l){var c=function(e,c,u){var d,f,p=e.settings;p.fixed_toolbar_container&&(f=n.select(p.fixed_toolbar_container)[0]);var m=function(){if(d&&d.moveRel&&d.visible()&&!d._fixed){var t=e.selection.getScrollContainer(),r=e.getBody(),i=0,o=0;if(t){var a=n.getPos(r),s=n.getPos(t);i=Math.max(0,s.x-a.x),o=Math.max(0,s.y-a.y)}d.fixed(!1).moveRel(r,e.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(i,o)}},g=function(){d&&(d.show(),m(),n.addClass(e.getBody(),"mce-edit-focus"))},h=function(){d&&(d.hide(),r.hideAll(),n.removeClass(e.getBody(),"mce-edit-focus"))},v=function(){return d?void(d.visible()||g()):(d=c.panel=t.create({type:f?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!!f,border:1,items:[p.menubar===!1?null:{type:"menubar",border:"0 0 1 0",items:o.createMenuButtons(e)},i.createToolbars(e,p.toolbar_items_size)]}),e.fire("BeforeRenderUI"),d.renderTo(f||document.body).reflow(),s.addKeys(e,d),g(),a.addContextualToolbars(e),e.on("nodeChange",m),e.on("activate",g),e.on("deactivate",h),void e.nodeChanged())};return p.content_editable=!0,e.on("focus",function(){u.skinUiCss?n.styleSheetLoader.load(u.skinUiCss,v,v):v()}),e.on("blur hide",h),e.on("remove",function(){d&&(d.remove(),d=null)}),u.skinUiCss&&n.styleSheetLoader.load(u.skinUiCss,l.fireSkinLoaded(e)),{}};return{render:c}}),s("i",tinymce.ui.Throbber),a("7",["i"],function(e){var t=function(t,n){var r;t.on("ProgressState",function(t){r=r||new e(n.panel.getEl("body")),t.state?r.show(t.time):r.hide()})};return{setup:t}}),a("0",["1","2","3","4","5","6","7"],function(e,t,n,r,i,o,a){var s=function(n,o,s){var l=n.settings,c=l.skin!==!1&&(l.skin||"lightgray");if(c){var u=l.skin_url;u=u?n.documentBaseURI.toAbsolute(u):t.baseURL+"/skins/"+c,e.documentMode<=7?s.skinUiCss=u+"/skin.ie7.min.css":s.skinUiCss=u+"/skin.min.css",n.contentCSS.push(u+"/content"+(n.inline?".inline":"")+".min.css")}return a.setup(n,o),l.inline?i.render(n,o,s):r.render(n,o,s)};return n.add("modern",function(e){return{renderUI:function(t){return s(e,this,t)},resizeTo:function(t,n){return o.resizeTo(e,t,n)},resizeBy:function(t,n){return o.resizeBy(e,t,n)}}}),function(){}}),r("0")()}();
;tinymce.PluginManager.add("link",function(e){function t(e){return e&&"A"===e.nodeName&&e.href}function n(e){return tinymce.util.Tools.grep(e,t).length>0}function r(t){return e.dom.getParent(t,"a[href]")}function i(){return r(e.selection.getStart())}function o(e){var t=e.getAttribute("data-mce-href");return t?t:e.getAttribute("href")}function a(){var t=e.plugins.contextmenu;return!!t&&t.isContextMenuVisible()}function s(n){var r,i,o;return!!(e.settings.link_context_toolbar&&!a()&&t(n)&&(r=e.selection,i=r.getRng(),o=i.startContainer,3==o.nodeType&&r.isCollapsed()&&i.startOffset>0&&i.startOffset<o.data.length))}function l(e,t){document.body.appendChild(e),e.dispatchEvent(t),document.body.removeChild(e)}function c(e){if(!tinymce.Env.ie||tinymce.Env.ie>10){var t=document.createElement("a");t.target="_blank",t.href=e,t.rel="noreferrer noopener";var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),l(t,n)}else{var r=window.open("","_blank");if(r){r.opener=null;var i=r.document;i.open(),i.write('<meta http-equiv="refresh" content="0; url='+tinymce.DOM.encode(e)+'">'),i.close()}}}function u(t){if(t){var n=o(t);if(/^#/.test(n)){var r=e.$(n);r.length&&e.selection.scrollIntoView(r[0],!0)}else c(t.href)}}function d(){u(i())}function f(){var t=this,r=function(e){n(e.parents)?t.show():t.hide()};n(e.dom.getParents(e.selection.getStart()))||t.hide(),e.on("nodechange",r),t.on("remove",function(){e.off("nodechange",r)})}function p(t){return function(){var n=e.settings.link_list;"string"==typeof n?tinymce.util.XHR.send({url:n,success:function(e){t(tinymce.util.JSON.parse(e))}}):"function"==typeof n?n(t):t(n)}}function m(e,t,n){function r(e,n){return n=n||[],tinymce.each(e,function(e){var i={text:e.text||e.title};e.menu?i.menu=r(e.menu):(i.value=e.value,t&&t(i)),n.push(i)}),n}return r(e,n||[])}function g(t){function n(e){var t=d.find("#text");(!t.value()||e.lastControl&&t.value()==e.lastControl.text())&&t.value(e.control.text()),d.find("#href").value(e.control.value())}function r(t){var r=[];if(tinymce.each(e.dom.select("a:not([href])"),function(e){var n=e.name||e.id;n&&r.push({text:n,value:"#"+n,selected:t.indexOf("#"+n)!=-1})}),r.length)return r.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:r,onselect:n}}function i(){!u&&0===w.text.length&&f&&this.parent().parent().find("#text")[0].value(this.value())}function o(t){var n=t.meta||{};g&&g.value(e.convertURL(this.value(),"href")),tinymce.each(t.meta,function(e,t){var n=d.find("#"+t);"text"===t?0===u.length&&(n.value(e),w.text=e):n.value(e)}),n.attach&&(h={href:this.value(),attach:n.attach}),n.text||i.call(this)}function a(e){var t=N.getContent();if(/</.test(t)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(t)||t.indexOf("href=")==-1))return!1;if(e){var n,r=e.childNodes;if(0===r.length)return!1;for(n=r.length-1;n>=0;n--)if(3!=r[n].nodeType)return!1}return!0}function s(e){e.meta=d.toJSON()}var l,c,u,d,f,p,g,v,b,y,x,C,w={},N=e.selection,k=e.dom;l=N.getNode(),c=k.getParent(l,"a[href]"),f=a(),w.text=u=c?c.innerText||c.textContent:N.getContent({format:"text"}),w.href=c?k.getAttrib(c,"href"):"",c?w.target=k.getAttrib(c,"target"):e.settings.default_link_target&&(w.target=e.settings.default_link_target),(C=k.getAttrib(c,"rel"))&&(w.rel=C),(C=k.getAttrib(c,"class"))&&(w["class"]=C),(C=k.getAttrib(c,"title"))&&(w.title=C),f&&(p={name:"text",type:"textbox",size:40,label:"Text to display",onchange:function(){w.text=this.value()}}),t&&(g={type:"listbox",label:"Link list",values:m(t,function(t){t.value=e.convertURL(t.value||t.url,"href")},[{text:"None",value:""}]),onselect:n,value:e.convertURL(w.href,"href"),onPostRender:function(){g=this}}),e.settings.target_list!==!1&&(e.settings.target_list||(e.settings.target_list=[{text:"None",value:""},{text:"New window",value:"_blank"}]),b={name:"target",type:"listbox",label:"Target",values:m(e.settings.target_list)}),e.settings.rel_list&&(v={name:"rel",type:"listbox",label:"Rel",values:m(e.settings.rel_list)}),e.settings.link_class_list&&(y={name:"class",type:"listbox",label:"Class",values:m(e.settings.link_class_list,function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({inline:"a",classes:[t.value]})})})}),e.settings.link_title!==!1&&(x={name:"title",type:"textbox",label:"Title",value:w.title}),d=e.windowManager.open({title:"Insert link",data:w,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",onchange:o,onkeyup:i,onbeforecall:s},p,x,r(w.href),g,v,b,y],onSubmit:function(t){function n(t,n){var r=e.selection.getRng();tinymce.util.Delay.setEditorTimeout(e,function(){e.windowManager.confirm(t,function(t){e.selection.setRng(r),n(t)})})}function r(e,t){function n(e){return e=r(e),e?[e,i].join(" "):i}function r(e){var t=new RegExp("("+i.replace(" ","|")+")","g");return e&&(e=tinymce.trim(e.replace(t,""))),e?e:null}var i="noopener noreferrer";return t?n(e):r(e)}function i(){var t={href:a,target:w.target?w.target:null,rel:w.rel?w.rel:null,"class":w["class"]?w["class"]:null,title:w.title?w.title:null};e.settings.allow_unsafe_link_target||(t.rel=r(t.rel,"_blank"==t.target)),a===h.href&&(h.attach(),h={}),c?(e.focus(),f&&w.text!=u&&("innerText"in c?c.innerText=w.text:c.textContent=w.text),k.setAttribs(c,t),N.select(c),e.undoManager.add()):f?e.insertContent(k.createHTML("a",t,k.encode(w.text))):e.execCommand("mceInsertLink",!1,t)}function o(){e.undoManager.transact(i)}var a;return w=tinymce.extend(w,t.data),(a=w.href)?a.indexOf("@")>0&&a.indexOf("//")==-1&&a.indexOf("mailto:")==-1?void n("The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",function(e){e&&(a="mailto:"+a),o()}):e.settings.link_assume_external_targets&&!/^\w+:/i.test(a)||!e.settings.link_assume_external_targets&&/^\s*www[\.|\d\.]/i.test(a)?void n("The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(e){e&&(a="http://"+a),o()}):void o():void e.execCommand("unlink")}})}var h={},v=function(e){return e.altKey===!0&&e.shiftKey===!1&&e.ctrlKey===!1&&e.metaKey===!1};e.addButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onclick:p(g),stateSelector:"a[href]"}),e.addButton("unlink",{icon:"unlink",tooltip:"Remove link",cmd:"unlink",stateSelector:"a[href]"}),e.addContextToolbar&&(e.addButton("openlink",{icon:"newtab",tooltip:"Open link",onclick:d}),e.addContextToolbar(s,"openlink | link unlink")),e.addShortcut("Meta+K","",p(g)),e.addCommand("mceLink",p(g)),e.on("click",function(e){var t=r(e.target);t&&tinymce.util.VK.metaKeyPressed(e)&&(e.preventDefault(),u(t))}),e.on("keydown",function(e){var t=i();t&&13===e.keyCode&&v(e)&&(e.preventDefault(),u(t))}),this.showDialog=g,e.addMenuItem("openlink",{text:"Open link",icon:"newtab",onclick:d,onPostRender:f,prependToContext:!0}),e.addMenuItem("link",{icon:"link",text:"Link",shortcut:"Meta+K",onclick:p(g),stateSelector:"a[href]",context:"insert",prependToContext:!0})});
;!function(e,t){"use strict";function n(e,t){for(var n,r=[],o=0;o<e.length;++o){if(n=a[e[o]]||i(e[o]),!n)throw"module definition dependecy not found: "+e[o];r.push(n)}t.apply(null,r)}function r(e,r,i){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(r===t)throw"invalid module definition, dependencies must be specified";if(i===t)throw"invalid module definition, definition function must be specified";n(r,function(){a[e]=i.apply(null,arguments)})}function i(t){for(var n=e,r=t.split(/[.\/]/),i=0;i<r.length;++i){if(!n[r[i]])return;n=n[r[i]]}return n}function o(n){var r,i,o,s,l;for(r=0;r<n.length;r++){i=e,o=n[r],s=o.split(/[.\/]/);for(var c=0;c<s.length-1;++c)i[s[c]]===t&&(i[s[c]]={}),i=i[s[c]];i[s[s.length-1]]=a[o]}if(e.AMDLC_TESTS){l=e.privateModules||{};for(o in a)l[o]=a[o];for(r=0;r<n.length;r++)delete l[n[r]];e.privateModules=l}}var a={};r("tinymce/pasteplugin/Utils",["tinymce/util/Tools","tinymce/html/DomParser","tinymce/html/Schema"],function(e,t,n){function r(t,n){return e.each(n,function(e){t=e.constructor==RegExp?t.replace(e,""):t.replace(e[0],e[1])}),t}function i(i){function o(e){var t=e.name,n=e;if("br"===t)return void(l+="\n");if(c[t]&&(l+=" "),u[t])return void(l+=" ");if(3==e.type&&(l+=e.value),!e.shortEnded&&(e=e.firstChild))do o(e);while(e=e.next);d[t]&&n.next&&(l+="\n","p"==t&&(l+="\n"))}var a=new n,s=new t({},a),l="",c=a.getShortEndedElements(),u=e.makeMap("script noscript style textarea video audio iframe object"," "),d=a.getBlockElements();return i=r(i,[/<!\[[^\]]+\]>/g]),o(s.parse(i)),l}function o(e){function t(e,t,n){return t||n?"\xa0":" "}return e=r(s(e),[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,t],/<br class="Apple-interchange-newline">/g,/<br>$/i])}function a(e){var t=0;return function(){return e+t++}}var s=function(e){var t="<!--StartFragment-->",n="<!--EndFragment-->",r=e.indexOf(t);if(r!==-1){var i=e.substr(r+t.length),o=i.indexOf(n);if(o!==-1&&/^<\/(p|h[1-6]|li)>/i.test(i.substr(o+n.length,5)))return i.substr(0,o)}return e};return{filter:r,innerText:i,trimHtml:o,createIdGenerator:a}}),r("tinymce/pasteplugin/SmartPaste",["tinymce/util/Tools"],function(e){var t=function(e){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(e)},n=function(e){return t(e)&&/.(gif|jpe?g|png)$/.test(e)},r=function(e,t,n){return e.undoManager.extra(function(){n(e,t)},function(){e.insertContent('<img src="'+t+'">')}),!0},i=function(e,t,n){return e.undoManager.extra(function(){n(e,t)},function(){e.execCommand("mceInsertLink",!1,t)}),!0},o=function(e,n,r){return!(e.selection.isCollapsed()!==!1||!t(n))&&i(e,n,r)},a=function(e,t,i){return!!n(t)&&r(e,t,i)},s=function(e,t){return e.insertContent(t,{merge:e.settings.paste_merge_formats!==!1,paste:!0}),!0},l=function(t,n){e.each([o,a,s],function(e){return e(t,n,s)!==!0})},c=function(e,t){e.settings.smart_paste===!1?s(e,t):l(e,t)};return{isImageUrl:n,isAbsoluteUrl:t,insertContent:c}}),r("tinymce/pasteplugin/Clipboard",["tinymce/Env","tinymce/dom/RangeUtils","tinymce/util/VK","tinymce/pasteplugin/Utils","tinymce/pasteplugin/SmartPaste","tinymce/util/Delay"],function(e,t,n,r,i,o){return function(a){function s(e){var t,n=a.dom;if(t=a.fire("BeforePastePreProcess",{content:e}),t=a.fire("PastePreProcess",t),e=t.content,!t.isDefaultPrevented()){if(a.hasEventListeners("PastePostProcess")&&!t.isDefaultPrevented()){var r=n.add(a.getBody(),"div",{style:"display:none"},e);t=a.fire("PastePostProcess",{node:r}),n.remove(r),e=t.node.innerHTML}t.isDefaultPrevented()||i.insertContent(a,e)}}function l(e){e=a.dom.encode(e).replace(/\r\n/g,"\n");var t,n=a.dom.getParent(a.selection.getStart(),a.dom.isBlock),i=a.settings.forced_root_block;i&&(t=a.dom.createHTML(i,a.settings.forced_root_block_attrs),t=t.substr(0,t.length-3)+">"),n&&/^(PRE|DIV)$/.test(n.nodeName)||!i?e=r.filter(e,[[/\n/g,"<br>"]]):(e=r.filter(e,[[/\n\n/g,"</p>"+t],[/^(.*<\/p>)(<p>)$/,t+"$1"],[/\n/g,"<br />"]]),e.indexOf("<p>")!=-1&&(e=t+e)),s(e)}function c(){function t(e){var t,n,i,o=e.startContainer;if(t=e.getClientRects(),t.length)return t[0];if(e.collapsed&&1==o.nodeType){for(i=o.childNodes[S.startOffset];i&&3==i.nodeType&&!i.data.length;)i=i.nextSibling;if(i)return"BR"==i.tagName&&(n=r.doc.createTextNode("\ufeff"),i.parentNode.insertBefore(n,i),e=r.createRng(),e.setStartBefore(n),e.setEndAfter(n),t=e.getClientRects(),r.remove(n)),t.length?t[0]:void 0}}var n,r=a.dom,i=a.getBody(),o=a.dom.getViewPort(a.getWin()),s=o.y,l=20;if(S=a.selection.getRng(),a.inline&&(n=a.selection.getScrollContainer(),n&&n.scrollTop>0&&(s=n.scrollTop)),S.getClientRects){var c=t(S);if(c)l=s+(c.top-r.getPos(i).y);else{l=s;var u=S.startContainer;u&&(3==u.nodeType&&u.parentNode!=i&&(u=u.parentNode),1==u.nodeType&&(l=r.getPos(u,n||i).y))}}k=r.add(a.getBody(),"div",{id:"mcepastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: absolute; top: "+l+"px;width: 10px; height: 10px; overflow: hidden; opacity: 0"},A),(e.ie||e.gecko)&&r.setStyle(k,"left","rtl"==r.getStyle(i,"direction",!0)?65535:-65535),r.bind(k,"beforedeactivate focusin focusout",function(e){e.stopPropagation()}),k.focus(),a.selection.select(k,!0)}function u(){if(k){for(var e;e=a.dom.get("mcepastebin");)a.dom.remove(e),a.dom.unbind(e);S&&a.selection.setRng(S)}k=S=null}function d(){var e,t,n,r,i="";for(e=a.dom.select("div[id=mcepastebin]"),t=0;t<e.length;t++)n=e[t],n.firstChild&&"mcepastebin"==n.firstChild.id&&(n=n.firstChild),r=n.innerHTML,i!=A&&(i+=r);return i}function f(e){var t={};if(e){if(e.getData){var n=e.getData("Text");n&&n.length>0&&n.indexOf(B)==-1&&(t["text/plain"]=n)}if(e.types)for(var r=0;r<e.types.length;r++){var i=e.types[r];t[i]=e.getData(i)}}return t}function p(e){return f(e.clipboardData||a.getDoc().dataTransfer)}function m(e){return C(e,"text/html")||C(e,"text/plain")}function g(e){var t;return t=e.indexOf(","),t!==-1?e.substr(t+1):null}function h(e,t){return!e.images_dataimg_filter||e.images_dataimg_filter(t)}function v(e,t,n){e&&(a.selection.setRng(e),e=null);var r=t.result,i=g(r),o=new Image;if(o.src=r,h(a.settings,o)){var l,c,u=a.editorUpload.blobCache;c=u.findFirst(function(e){return e.base64()===i}),c?l=c:(l=u.create(P(),n,i),u.add(l)),s('<img src="'+l.blobUri()+'">')}else s('<img src="'+r+'">')}function b(e,t){function n(n){var r,i,o,a=!1;if(n)for(r=0;r<n.length;r++)if(i=n[r],/^image\/(jpeg|png|gif|bmp)$/.test(i.type)){var s=i.getAsFile?i.getAsFile():i;o=new FileReader,o.onload=v.bind(null,t,o,s),o.readAsDataURL(s),e.preventDefault(),a=!0}return a}var r=e.clipboardData||e.dataTransfer;if(a.settings.paste_data_images&&r)return n(r.items)||n(r.files)}function y(e){var t=e.clipboardData;return navigator.userAgent.indexOf("Android")!=-1&&t&&t.items&&0===t.items.length}function x(e){return t.getCaretRangeFromPoint(e.clientX,e.clientY,a.getDoc())}function C(e,t){return t in e&&e[t].length>0}function w(e){return n.metaKeyPressed(e)&&86==e.keyCode||e.shiftKey&&45==e.keyCode}function N(){function t(e,t,n){var i;return C(e,"text/html")?i=e["text/html"]:(i=d(),i==A&&(n=!0)),i=r.trimHtml(i),k&&k.firstChild&&"mcepastebin"===k.firstChild.id&&(n=!0),u(),i.length||(n=!0),n&&(i=C(e,"text/plain")&&i.indexOf("</p>")==-1?e["text/plain"]:r.innerText(i)),i==A?void(t||a.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.")):void(n?l(i):s(i))}function n(e){var t=e["text/plain"];return!!t&&0===t.indexOf("file://")}a.on("keydown",function(t){function n(e){w(e)&&!e.isDefaultPrevented()&&u()}if(w(t)&&!t.isDefaultPrevented()){if(_=t.shiftKey&&86==t.keyCode,_&&e.webkit&&navigator.userAgent.indexOf("Version/")!=-1)return;if(t.stopImmediatePropagation(),T=(new Date).getTime(),e.ie&&_)return t.preventDefault(),void a.fire("paste",{ieFake:!0});u(),c(),a.once("keyup",n),a.once("paste",function(){a.off("keyup",n)})}});var i=function(){return S||a.selection.getRng()};a.on("paste",function(n){var r=(new Date).getTime(),s=p(n),l=(new Date).getTime()-r,f=(new Date).getTime()-T-l<1e3,g="text"==E.pasteFormat||_;return _=!1,n.isDefaultPrevented()||y(n)?void u():!m(s)&&b(n,i())?void u():(f||n.preventDefault(),!e.ie||f&&!n.ieFake||(c(),a.dom.bind(k,"paste",function(e){e.stopPropagation()}),a.getDoc().execCommand("Paste",!1,null),s["text/html"]=d()),void(C(s,"text/html")?(n.preventDefault(),t(s,f,g)):o.setEditorTimeout(a,function(){t(s,f,g)},0)))}),a.on("dragstart dragend",function(e){R="dragstart"==e.type}),a.on("drop",function(e){var t,i;if(i=x(e),!e.isDefaultPrevented()&&!R&&(t=f(e.dataTransfer),(m(t)&&!n(t)||!b(e,i))&&i&&a.settings.paste_filter_drop!==!1)){var c=t["mce-internal"]||t["text/html"]||t["text/plain"];c&&(e.preventDefault(),o.setEditorTimeout(a,function(){a.undoManager.transact(function(){t["mce-internal"]&&a.execCommand("Delete"),a.selection.setRng(i),c=r.trimHtml(c),t["text/html"]?s(c):l(c)})}))}}),a.on("dragover dragend",function(e){a.settings.paste_data_images&&e.preventDefault()})}var k,S,_,E=this,T=0,R=!1,A="%MCEPASTEBIN%",B="data:text/mce-internal,",P=r.createIdGenerator("mceclip");E.pasteHtml=s,E.pasteText=l,E.pasteImageData=b,a.on("preInit",function(){N(),a.parser.addNodeFilter("img",function(t,n,r){function i(e){return e.data&&e.data.paste===!0}function o(t){t.attr("data-mce-object")||u===e.transparentSrc||t.remove()}function s(e){return 0===e.indexOf("webkit-fake-url")}function l(e){return 0===e.indexOf("data:")}if(!a.settings.paste_data_images&&i(r))for(var c=t.length;c--;){var u=t[c].attributes.map.src;u&&(s(u)?o(t[c]):!a.settings.allow_html_data_urls&&l(u)&&o(t[c]))}})})}}),r("tinymce/pasteplugin/WordFilter",["tinymce/util/Tools","tinymce/html/DomParser","tinymce/html/Schema","tinymce/html/Serializer","tinymce/html/Node","tinymce/pasteplugin/Utils"],function(e,t,n,r,i,o){function a(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)}function s(t){var n,r;return r=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],t=t.replace(/^[\u00a0 ]+/,""),e.each(r,function(e){if(e.test(t))return n=!0,!1}),n}function l(e){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(e)}function c(c){var u=c.settings;c.on("BeforePastePreProcess",function(d){function f(e){function t(e){var n="";if(3===e.type)return e.value;if(e=e.firstChild)do n+=t(e);while(e=e.next);return n}function n(e,t){if(3===e.type&&t.test(e.value))return e.value=e.value.replace(t,""),!1;if(e=e.firstChild)do if(!n(e,t))return!1;while(e=e.next);return!0}function r(e){if(e._listIgnore)return void e.remove();if(e=e.firstChild)do r(e);while(e=e.next)}function o(e,t,o){var s=e._listLevel||u;s!=u&&(s<u?a&&(a=a.parent.parent):(c=a,a=null)),a&&a.name==t?a.append(e):(c=c||a,a=new i(t,1),o>1&&a.attr("start",""+o),e.wrap(a)),e.name="li",s>u&&c&&c.lastChild.append(a),u=s,r(e),n(e,/^\u00a0+/),n(e,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),n(e,/^\u00a0+/)}for(var a,c,u=1,d=[],f=e.firstChild;"undefined"!=typeof f&&null!==f;)if(d.push(f),f=f.walk(),null!==f)for(;"undefined"!=typeof f&&f.parent!==e;)f=f.walk();for(var p=0;p<d.length;p++)if(e=d[p],"p"==e.name&&e.firstChild){var m=t(e);if(l(m)){o(e,"ul");continue}if(s(m)){var g=/([0-9]+)\./.exec(m),h=1;g&&(h=parseInt(g[1],10)),o(e,"ol",h);continue}if(e._listLevel){o(e,"ul",1);continue}a=null}else c=a,a=null}function p(t,n){var r,o={},a=c.dom.parseStyle(n);return e.each(a,function(e,i){switch(i){case"mso-list":r=/\w+ \w+([0-9]+)/i.exec(n),r&&(t._listLevel=parseInt(r[1],10)),/Ignore/i.test(e)&&t.firstChild&&(t._listIgnore=!0,t.firstChild._listIgnore=!0);break;case"horiz-align":i="text-align";break;case"vert-align":i="vertical-align";break;case"font-color":case"mso-foreground":i="color";break;case"mso-background":case"mso-highlight":i="background";break;case"font-weight":case"font-style":return void("normal"!=e&&(o[i]=e));case"mso-element":if(/^(comment|comment-list)$/i.test(e))return void t.remove()}return 0===i.indexOf("mso-comment")?void t.remove():void(0!==i.indexOf("mso-")&&("all"==m||g&&g[i])&&(o[i]=e))}),/(bold)/i.test(o["font-weight"])&&(delete o["font-weight"],t.wrap(new i("b",1))),/(italic)/i.test(o["font-style"])&&(delete o["font-style"],t.wrap(new i("i",1))),o=c.dom.serializeStyle(o,t.name),o?o:null}var m,g,h=d.content;if(h=h.replace(/<b[^>]+id="?docs-internal-[^>]*>/gi,""),h=h.replace(/<br class="?Apple-interchange-newline"?>/gi,""),m=u.paste_retain_style_properties,m&&(g=e.makeMap(m.split(/[, ]/))),u.paste_enable_default_filters!==!1&&a(d.content)){d.wordContent=!0,h=o.filter(h,[/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"\xa0"],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return t.length>0?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join("\xa0"):""}]]);var v=u.paste_word_valid_elements;v||(v="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody");var b=new n({valid_elements:v,valid_children:"-li[p]"});e.each(b.elements,function(e){e.attributes["class"]||(e.attributes["class"]={},e.attributesOrder.push("class")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push("style"))});var y=new t({},b);y.addAttributeFilter("style",function(e){for(var t,n=e.length;n--;)t=e[n],t.attr("style",p(t,t.attr("style"))),"span"==t.name&&t.parent&&!t.attributes.length&&t.unwrap()}),y.addAttributeFilter("class",function(e){for(var t,n,r=e.length;r--;)t=e[r],n=t.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr("class",null)}),y.addNodeFilter("del",function(e){for(var t=e.length;t--;)e[t].remove()}),y.addNodeFilter("a",function(e){for(var t,n,r,i=e.length;i--;)if(t=e[i],n=t.attr("href"),r=t.attr("name"),n&&n.indexOf("#_msocom_")!=-1)t.remove();else if(n&&0===n.indexOf("file://")&&(n=n.split("#")[1],n&&(n="#"+n)),n||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){t.unwrap();continue}t.attr({href:n,name:r})}else t.unwrap()});var x=y.parse(h);u.paste_convert_word_fake_lists!==!1&&f(x),d.content=new r({validate:u.validate},b).serialize(x)}})}return c.isWordContent=a,c}),r("tinymce/pasteplugin/Quirks",["tinymce/Env","tinymce/util/Tools","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Utils"],function(e,t,n,r){return function(i){function o(e){i.on("BeforePastePreProcess",function(t){t.content=e(t.content)})}function a(e){i.on("PastePostProcess",function(t){e(t.node)})}function s(e){if(!n.isWordContent(e))return e;var o=[];t.each(i.schema.getBlockElements(),function(e,t){o.push(t)});var a=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+o.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return e=r.filter(e,[[a,"$1"]]),e=r.filter(e,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function l(e){if(n.isWordContent(e))return e;var t=i.settings.paste_webkit_styles;if(i.settings.paste_remove_styles_if_webkit===!1||"all"==t)return e;if(t&&(t=t.split(/[, ]/)),t){var r=i.dom,o=i.selection.getNode();e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(e,n,i,a){var s=r.parseStyle(i,"span"),l={};if("none"===t)return n+a;for(var c=0;c<t.length;c++){var u=s[t[c]],d=r.getStyle(o,t[c],!0);/color/.test(t[c])&&(u=r.toHex(u),d=r.toHex(d)),d!=u&&(l[t[c]]=u)}return l=r.serializeStyle(l,"span"),l?n+' style="'+l+'"'+a:n+a})}else e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return e=e.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(e,t,n,r){return t+' style="'+n+'"'+r})}function c(e){i.$("a",e).find("font,u").each(function(e,t){i.dom.remove(t,!0)})}e.webkit&&o(l),e.ie&&(o(s),a(c))}}),r("tinymce/pasteplugin/Plugin",["tinymce/PluginManager","tinymce/pasteplugin/Clipboard","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Quirks"],function(e,t,n,r){var i;e.add("paste",function(o){function a(){return i||o.settings.paste_plaintext_inform===!1}function s(){if("text"==c.pasteFormat)c.pasteFormat="html",o.fire("PastePlainTextToggle",{state:!1});else if(c.pasteFormat="text",o.fire("PastePlainTextToggle",{state:!0}),!a()){var e=o.translate("Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.");o.notificationManager.open({text:e,type:"info"}),i=!0}o.focus()}function l(){var e=this;e.active("text"===c.pasteFormat),o.on("PastePlainTextToggle",function(t){e.active(t.state)})}var c,u=this,d=o.settings;return/(^|[ ,])powerpaste([, ]|$)/.test(d.plugins)&&e.get("powerpaste")?void("undefined"!=typeof console&&console.log&&console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option.")):(u.clipboard=c=new t(o),u.quirks=new r(o),u.wordFilter=new n(o),o.settings.paste_as_text&&(u.clipboard.pasteFormat="text"),d.paste_preprocess&&o.on("PastePreProcess",function(e){d.paste_preprocess.call(u,u,e)}),d.paste_postprocess&&o.on("PastePostProcess",function(e){d.paste_postprocess.call(u,u,e)}),o.addCommand("mceInsertClipboardContent",function(e,t){t.content&&u.clipboard.pasteHtml(t.content),t.text&&u.clipboard.pasteText(t.text)}),o.settings.paste_block_drop&&o.on("dragend dragover draggesture dragdrop drop drag",function(e){e.preventDefault(),e.stopPropagation()}),o.settings.paste_data_images||o.on("drop",function(e){var t=e.dataTransfer;t&&t.files&&t.files.length>0&&e.preventDefault()}),o.addCommand("mceTogglePlainTextPaste",s),o.addButton("pastetext",{icon:"pastetext",tooltip:"Paste as text",onclick:s,onPostRender:l}),void o.addMenuItem("pastetext",{text:"Paste as text",selectable:!0,active:c.pasteFormat,onclick:s,onPostRender:l}))})}),o(["tinymce/pasteplugin/Utils"])}(window);
;!function(e,t){"use strict";function n(e,t){for(var n,r=[],a=0;a<e.length;++a){if(n=o[e[a]]||i(e[a]),!n)throw"module definition dependecy not found: "+e[a];r.push(n)}t.apply(null,r)}function r(e,r,i){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(r===t)throw"invalid module definition, dependencies must be specified";if(i===t)throw"invalid module definition, definition function must be specified";n(r,function(){o[e]=i.apply(null,arguments)})}function i(t){for(var n=e,r=t.split(/[.\/]/),i=0;i<r.length;++i){if(!n[r[i]])return;n=n[r[i]]}return n}var o={};r("tinymce/tableplugin/Utils",["tinymce/Env"],function(e){function t(t){(!e.ie||e.ie>9)&&(t.hasChildNodes()||(t.innerHTML='<br data-mce-bogus="1" />'))}var n=function(e){return function(t,n){t&&(n=parseInt(n,10),1===n||0===n?t.removeAttribute(e,1):t.setAttribute(e,n,1))}},r=function(e){return function(t){return parseInt(t.getAttribute(e)||1,10)}};return{setColSpan:n("colSpan"),setRowSpan:n("rowspan"),getColSpan:r("colSpan"),getRowSpan:r("rowSpan"),setSpanVal:function(e,t,r){n(t)(e,r)},getSpanVal:function(e,t){return r(t)(e)},paddCell:t}}),r("tinymce/tableplugin/SplitCols",["tinymce/util/Tools","tinymce/tableplugin/Utils"],function(e,t){var n=function(e,t,n){return e[n]?e[n][t]:null},r=function(e,t,r){var i=n(e,t,r);return i?i.elm:null},i=function(e,t,i,o){var a,s,l=0,c=r(e,t,i);for(a=i;(o>0?a<e.length:a>=0)&&(s=n(e,t,a),c===s.elm);a+=o)l++;return l},o=function(e,t,n){for(var r,i=e[n],o=t;o<i.length;o++)if(r=i[o],r.real)return r.elm;return null},a=function(e,n){for(var r,o=[],a=e[n],s=0;s<a.length;s++)r=a[s],o.push({elm:r.elm,above:i(e,s,n,-1)-1,below:i(e,s,n,1)-1}),s+=t.getColSpan(r.elm)-1;return o},s=function(e,n){var r=e.elm.ownerDocument,i=r.createElement("td");return t.setColSpan(i,t.getColSpan(e.elm)),t.setRowSpan(i,n),t.paddCell(i),i},l=function(e,t,n,r){var i=o(e,n+1,r);i?i.parentNode.insertBefore(t,i):(i=o(e,0,r),i.parentNode.appendChild(t))},c=function(e,n,r,i){if(0!==n.above){t.setRowSpan(n.elm,n.above);var o=s(n,n.below+1);return l(e,o,r,i),o}return null},u=function(e,n,r,i){if(0!==n.below){t.setRowSpan(n.elm,n.above+1);var o=s(n,n.below);return l(e,o,r,i+1),o}return null},d=function(t,n,i,o){var s=a(t,i),l=r(t,n,i).parentNode,d=[];return e.each(s,function(e,n){var r=o?c(t,e,n,i):u(t,e,n,i);null!==r&&d.push(d)}),{cells:d,row:l}};return{splitAt:d}}),r("tinymce/tableplugin/TableGrid",["tinymce/util/Tools","tinymce/Env","tinymce/tableplugin/Utils","tinymce/tableplugin/SplitCols"],function(e,n,r,i){var o=e.each,a=r.getSpanVal,s=r.setSpanVal;return function(l,c,u){function d(){l.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected")}function f(e){return e===l.getBody()}function p(t,n){return t?(n=e.map(n.split(","),function(e){return e.toLowerCase()}),e.grep(t.childNodes,function(t){return e.inArray(n,t.nodeName.toLowerCase())!==-1})):[]}function m(){var e=0;Z=[],Q=0,o(["thead","tbody","tfoot"],function(t){var n=p(c,t)[0],r=p(n,"tr");o(r,function(n,r){r+=e,o(p(n,"td,th"),function(e,n){var i,o,s,l;if(Z[r])for(;Z[r][n];)n++;for(s=a(e,"rowspan"),l=a(e,"colspan"),o=r;o<r+s;o++)for(Z[o]||(Z[o]=[]),i=n;i<n+l;i++)Z[o][i]={part:t,real:o==r&&i==n,elm:e,rowspan:s,colspan:l};Q=Math.max(Q,n+1)})}),e+=r.length})}function g(e){return l.fire("newrow",{node:e}),e}function h(e){return l.fire("newcell",{node:e}),e}function v(e,t){return e=e.cloneNode(t),e.removeAttribute("id"),e}function b(e,t){var n;if(n=Z[t])return n[e]}function y(e,t){return e[t]?e[t]:null}function x(e,t){for(var n=[],r=0;r<e.length;r++)n.push(b(t,r));return n}function C(e){return e&&(!!re.getAttrib(e.elm,"data-mce-selected")||e==u)}function w(){var e=[];return o(c.rows,function(t){o(t.cells,function(n){if(re.getAttrib(n,"data-mce-selected")||u&&n==u.elm)return e.push(t),!1})}),e}function N(){var e=0;return o(Z,function(t){if(o(t,function(t){C(t)&&e++}),e)return!1}),e}function k(){var e=re.createRng();f(c)||(e.setStartAfter(c),e.setEndAfter(c),ne.setRng(e),re.remove(c))}function S(t){var i,a={};return l.settings.table_clone_elements!==!1&&(a=e.makeMap((l.settings.table_clone_elements||"strong em b i span font h1 h2 h3 h4 h5 h6 p div").toUpperCase(),/[ ,]/)),e.walk(t,function(e){var r;if(3==e.nodeType)return o(re.getParents(e.parentNode,null,t).reverse(),function(e){a[e.nodeName]&&(e=v(e,!1),i?r&&r.appendChild(e):i=r=e,r=e)}),r&&(r.innerHTML=n.ie&&n.ie<10?"&nbsp;":'<br data-mce-bogus="1" />'),!1},"childNodes"),t=v(t,!1),h(t),s(t,"rowSpan",1),s(t,"colSpan",1),i?t.appendChild(i):r.paddCell(t),t}function _(){var e,t=re.createRng();return o(re.select("tr",c),function(e){0===e.cells.length&&re.remove(e)}),0===re.select("tr",c).length?(t.setStartBefore(c),t.setEndBefore(c),ne.setRng(t),void re.remove(c)):(o(re.select("thead,tbody,tfoot",c),function(e){0===e.rows.length&&re.remove(e)}),m(),void(ee&&(e=Z[Math.min(Z.length-1,ee.y)],e&&(ne.select(e[Math.min(e.length-1,ee.x)].elm,!0),ne.collapse(!0)))))}function E(e,t,n,r){var i,o,a,s,l;for(i=Z[t][e].elm.parentNode,a=1;a<=n;a++)if(i=re.getNext(i,"tr")){for(o=e;o>=0;o--)if(l=Z[t+a][o].elm,l.parentNode==i){for(s=1;s<=r;s++)re.insertAfter(S(l),l);break}if(o==-1)for(s=1;s<=r;s++)i.insertBefore(S(i.cells[0]),i.cells[0])}}function T(){o(Z,function(e,t){o(e,function(e,n){var r,i,o;if(C(e)&&(e=e.elm,r=a(e,"colspan"),i=a(e,"rowspan"),r>1||i>1)){for(s(e,"rowSpan",1),s(e,"colSpan",1),o=0;o<r-1;o++)re.insertAfter(S(e),e);E(n,t,i-1,r)}})})}function R(e,t,n){for(var r=[],i=0;i<e.length;i++)(i<t||i>n)&&r.push(e[i]);return r}function A(t){return e.grep(t,function(e){return e.real===!1})}function B(e){for(var t=[],n=0;n<e.length;n++){var r=e[n].elm;t[t.length-1]!==r&&t.push(r)}return t}function P(t,n,i,o,a){var s=0;if(a-i<1)return 0;for(var l=i+1;l<=a;l++){var c=R(y(t,l),n,o),u=A(c);c.length===u.length&&(e.each(B(u),function(e){r.setRowSpan(e,r.getRowSpan(e)-1)}),s++)}return s}function D(t,n,i,o,a){var s=0;if(o-n<1)return 0;for(var l=n+1;l<=o;l++){var c=R(x(t,l),i,a),u=A(c);c.length===u.length&&(e.each(B(u),function(e){r.setColSpan(e,r.getColSpan(e)-1)}),s++)}return s}function M(t,n,r){var i,a,l,c,u,d,f,p,g,h,v,y,x;if(t?(i=q(t),a=i.x,l=i.y,c=a+(n-1),u=l+(r-1)):(ee=te=null,o(Z,function(e,t){o(e,function(e,n){C(e)&&(ee||(ee={x:n,y:t}),te={x:n,y:t})})}),ee&&(a=ee.x,l=ee.y,c=te.x,u=te.y)),p=b(a,l),g=b(c,u),p&&g&&p.part==g.part){T(),m(),y=P(Z,a,l,c,u),x=D(Z,a,l,c,u),p=b(a,l).elm;var w=c-a-x+1,N=u-l-y+1;for(w===Q&&N===Z.length&&(w=1,N=1),w===Q&&N>1&&(N=1),s(p,"colSpan",w),s(p,"rowSpan",N),f=l;f<=u;f++)for(d=a;d<=c;d++)Z[f]&&Z[f][d]&&(t=Z[f][d].elm,t!=p&&(h=e.grep(t.childNodes),o(h,function(e){p.appendChild(e)}),h.length&&(h=e.grep(p.childNodes),v=0,o(h,function(e){"BR"==e.nodeName&&v++<h.length-1&&p.removeChild(e)})),re.remove(t)));_()}}function L(e){var n,r,i,l,c,u,d,f,p,m;if(o(Z,function(r,i){if(o(r,function(t){if(C(t)&&(t=t.elm,c=t.parentNode,u=g(v(c,!1)),n=i,e))return!1}),e)return n===t}),n!==t){for(l=0,m=0;l<Z[0].length;l+=m)if(Z[n][l]&&(r=Z[n][l].elm,m=a(r,"colspan"),r!=i)){if(e){if(n>0&&Z[n-1][l]&&(f=Z[n-1][l].elm,p=a(f,"rowSpan"),p>1)){s(f,"rowSpan",p+1);continue}}else if(p=a(r,"rowspan"),p>1){s(r,"rowSpan",p+1);continue}d=S(r),s(d,"colSpan",r.colSpan),u.appendChild(d),i=r}u.hasChildNodes()&&(e?c.parentNode.insertBefore(u,c):re.insertAfter(u,c))}}function I(e,t){t=t||w().length||1;for(var n=0;n<t;n++)L(e)}function O(e){var n,r;o(Z,function(r){if(o(r,function(t,r){if(C(t)&&(n=r,e))return!1}),e)return n===t}),o(Z,function(t,i){var o,l,c;t[n]&&(o=t[n].elm,o!=r&&(c=a(o,"colspan"),l=a(o,"rowspan"),1==c?e?(o.parentNode.insertBefore(S(o),o),E(n,i,l-1,c)):(re.insertAfter(S(o),o),E(n,i,l-1,c)):s(o,"colSpan",o.colSpan+1),r=o))})}function H(e,t){t=t||N()||1;for(var n=0;n<t;n++)O(e)}function F(t){return e.grep(z(t),C)}function z(e){var t=[];return o(e,function(e){o(e,function(e){t.push(e)})}),t}function W(){var t=[];if(f(c)){if(1==Z[0].length)return;if(F(Z).length==z(Z).length)return}o(Z,function(n){o(n,function(n,r){C(n)&&e.inArray(t,r)===-1&&(o(Z,function(e){var t,n=e[r].elm;t=a(n,"colSpan"),t>1?s(n,"colSpan",t-1):re.remove(n)}),t.push(r))})}),_()}function U(){function e(e){var t,n;o(e.cells,function(e){var n=a(e,"rowSpan");n>1&&(s(e,"rowSpan",n-1),t=q(e),E(t.x,t.y,1,1))}),t=q(e.cells[0]),o(Z[t.y],function(e){var t;e=e.elm,e!=n&&(t=a(e,"rowSpan"),t<=1?re.remove(e):s(e,"rowSpan",t-1),n=e)})}var t;t=w(),f(c)&&t.length==c.rows.length||(o(t.reverse(),function(t){e(t)}),_())}function V(){var e=w();if(!f(c)||e.length!=c.rows.length)return re.remove(e),_(),e}function $(){var e=w();return o(e,function(t,n){e[n]=v(t,!0)}),e}function j(t,n){var r,a,l;t&&(r=i.splitAt(Z,ee.x,ee.y,n),a=r.row,e.each(r.cells,h),l=e.map(t,function(e){return e.cloneNode(!0)}),n||l.reverse(),o(l,function(e){var t,r,i=e.cells.length;for(g(e),t=0;t<i;t++)r=e.cells[t],h(r),s(r,"colSpan",1),s(r,"rowSpan",1);for(t=i;t<Q;t++)e.appendChild(h(S(e.cells[i-1])));for(t=Q;t<i;t++)re.remove(e.cells[t]);n?a.parentNode.insertBefore(e,a):re.insertAfter(e,a)}),d())}function q(e){var t;return o(Z,function(n,r){return o(n,function(n,i){if(n.elm==e)return t={x:i,y:r},!1}),!t}),t}function Y(e){ee=q(e)}function X(){var e,t;return e=t=0,o(Z,function(n,r){o(n,function(n,i){var o,a;C(n)&&(n=Z[r][i],i>e&&(e=i),r>t&&(t=r),n.real&&(o=n.colspan-1,a=n.rowspan-1,o&&i+o>e&&(e=i+o),a&&r+a>t&&(t=r+a)))})}),{x:e,y:t}}function K(e){var t,n,r,i,o,a,s,l,c,u;if(te=q(e),ee&&te){for(t=Math.min(ee.x,te.x),n=Math.min(ee.y,te.y),r=Math.max(ee.x,te.x),i=Math.max(ee.y,te.y),o=r,a=i,u=n;u<=i;u++)for(c=t;c<=r;c++)e=Z[u][c],e.real&&(s=e.colspan-1,l=e.rowspan-1,s&&c+s>o&&(o=c+s),l&&u+l>a&&(a=u+l));for(d(),u=n;u<=a;u++)for(c=t;c<=o;c++)Z[u][c]&&re.setAttrib(Z[u][c].elm,"data-mce-selected","1")}}function G(e,t){var n,r,i;n=q(e),r=n.y*Q+n.x;do{if(r+=t,i=b(r%Q,Math.floor(r/Q)),!i)break;if(i.elm!=e)return ne.select(i.elm,!0),re.isEmpty(i.elm)&&ne.collapse(!0),!0}while(i.elm==e);return!1}function J(t){if(ee){var n=i.splitAt(Z,ee.x,ee.y,t);e.each(n.cells,h)}}var Z,Q,ee,te,ne=l.selection,re=ne.dom;c=c||re.getParent(ne.getStart(!0),"table"),m(),u=u||re.getParent(ne.getStart(!0),"th,td"),u&&(ee=q(u),te=X(),u=b(ee.x,ee.y)),e.extend(this,{deleteTable:k,split:T,merge:M,insertRow:L,insertRows:I,insertCol:O,insertCols:H,splitCols:J,deleteCols:W,deleteRows:U,cutRows:V,copyRows:$,pasteRows:j,getPos:q,setStartCell:Y,setEndCell:K,moveRelIdx:G,refresh:m})}}),r("tinymce/tableplugin/Quirks",["tinymce/util/VK","tinymce/util/Delay","tinymce/Env","tinymce/util/Tools","tinymce/tableplugin/Utils"],function(e,t,n,r,i){var o=r.each,a=i.getSpanVal;return function(s){function l(){function n(n){function r(e,t){var r=e?"previousSibling":"nextSibling",o=s.dom.getParent(t,"tr"),a=o[r];if(a)return v(s,t,a,e),n.preventDefault(),!0;var l=s.dom.getParent(o,"table"),d=o.parentNode,f=d.nodeName.toLowerCase();if("tbody"===f||f===(e?"tfoot":"thead")){var p=i(e,l,d,"tbody");if(null!==p)return c(e,p,t)}return u(e,o,r,l)}function i(e,t,n,r){var i=s.dom.select(">"+r,t),o=i.indexOf(n);if(e&&0===o||!e&&o===i.length-1)return l(e,t);if(o===-1){var a="thead"===n.tagName.toLowerCase()?0:i.length-1;return i[a]}return i[o+(e?-1:1)]}function l(e,t){var n=e?"thead":"tfoot",r=s.dom.select(">"+n,t);return 0!==r.length?r[0]:null}function c(e,t,r){var i=d(t,e);return i&&v(s,r,i,e),n.preventDefault(),!0}function u(e,t,i,o){var a=o[i];if(a)return f(a),!0;var l=s.dom.getParent(o,"td,th");if(l)return r(e,l,n);var c=d(t,!e);return f(c),n.preventDefault(),!1}function d(e,t){var n=e&&e[t?"lastChild":"firstChild"];return n&&"BR"===n.nodeName?s.dom.getParent(n,"td,th"):n}function f(e){s.selection.setCursorLocation(e,0)}function p(){return x==e.UP||x==e.DOWN}function m(e){var t=e.selection.getNode(),n=e.dom.getParent(t,"tr");return null!==n}function g(e){for(var t=0,n=e;n.previousSibling;)n=n.previousSibling,t+=a(n,"colspan");return t}function h(e,t){var n=0,r=0;return o(e.children,function(e,i){if(n+=a(e,"colspan"),r=i,n>t)return!1}),r}function v(e,t,n,r){var i=g(s.dom.getParent(t,"td,th")),o=h(n,i),a=n.childNodes[o],l=d(a,r);f(l||a)}function b(e){var t=s.selection.getNode(),n=s.dom.getParent(t,"td,th"),r=s.dom.getParent(e,"td,th");return n&&n!==r&&y(n,r)}function y(e,t){return s.dom.getParent(e,"TABLE")===s.dom.getParent(t,"TABLE")}var x=n.keyCode;if(p()&&m(s)){var C=s.selection.getNode();t.setEditorTimeout(s,function(){b(C)&&r(!n.shiftKey&&x===e.UP,C,n)},0)}}s.on("KeyDown",function(e){n(e)})}function c(){function e(e,t){var n,r=t.ownerDocument,i=r.createRange();return i.setStartBefore(t),i.setEnd(e.endContainer,e.endOffset),n=r.createElement("body"),n.appendChild(i.cloneContents()),0===n.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,"-").replace(/<[^>]+>/g,"").length}s.on("KeyDown",function(t){var n,r,i=s.dom;37!=t.keyCode&&38!=t.keyCode||(n=s.selection.getRng(),r=i.getParent(n.startContainer,"table"),r&&s.getBody().firstChild==r&&e(n,r)&&(n=i.createRng(),n.setStartBefore(r),n.setEndBefore(r),s.selection.setRng(n),t.preventDefault()))})}function u(){s.on("KeyDown SetContent VisualAid",function(){var e;for(e=s.getBody().lastChild;e;e=e.previousSibling)if(3==e.nodeType){if(e.nodeValue.length>0)break}else if(1==e.nodeType&&("BR"==e.tagName||!e.getAttribute("data-mce-bogus")))break;e&&"TABLE"==e.nodeName&&(s.settings.forced_root_block?s.dom.add(s.getBody(),s.settings.forced_root_block,s.settings.forced_root_block_attrs,n.ie&&n.ie<10?"&nbsp;":'<br data-mce-bogus="1" />'):s.dom.add(s.getBody(),"br",{"data-mce-bogus":"1"}))}),s.on("PreProcess",function(e){var t=e.node.lastChild;t&&("BR"==t.nodeName||1==t.childNodes.length&&("BR"==t.firstChild.nodeName||"\xa0"==t.firstChild.nodeValue))&&t.previousSibling&&"TABLE"==t.previousSibling.nodeName&&s.dom.remove(t)})}function d(){function e(e,t,n,r){var i,o,a,s=3,l=e.dom.getParent(t.startContainer,"TABLE");return l&&(i=l.parentNode),o=t.startContainer.nodeType==s&&0===t.startOffset&&0===t.endOffset&&r&&("TR"==n.nodeName||n==i),a=("TD"==n.nodeName||"TH"==n.nodeName)&&!r,o||a}function t(){var t=s.selection.getRng(),n=s.selection.getNode(),r=s.dom.getParent(t.startContainer,"TD,TH");if(e(s,t,n,r)){r||(r=n);for(var i=r.lastChild;i.lastChild;)i=i.lastChild;3==i.nodeType&&(t.setEnd(i,i.data.length),s.selection.setRng(t))}}s.on("KeyDown",function(){t()}),s.on("MouseDown",function(e){2!=e.button&&t()})}function f(){function t(e){s.selection.select(e,!0),s.selection.collapse(!0)}function n(e){s.$(e).empty(),i.paddCell(e)}s.on("keydown",function(i){if((i.keyCode==e.DELETE||i.keyCode==e.BACKSPACE)&&!i.isDefaultPrevented()){var o,a,l,c;if(o=s.dom.getParent(s.selection.getStart(),"table")){if(a=s.dom.select("td,th",o),l=r.grep(a,function(e){return!!s.dom.getAttrib(e,"data-mce-selected")}),0===l.length)return c=s.dom.getParent(s.selection.getStart(),"td,th"),void(s.selection.isCollapsed()&&c&&s.dom.isEmpty(c)&&(i.preventDefault(),n(c),t(c)));i.preventDefault(),s.undoManager.transact(function(){a.length==l.length?s.execCommand("mceTableDelete"):(r.each(l,n),t(l[0]))})}}})}function p(){var t=function(e){return e&&"CAPTION"==e.nodeName&&"TABLE"==e.parentNode.nodeName},r=function(e,t){var n=s.selection.getRng(),r=e.ownerDocument.createTextNode("\xa0");n.startOffset?e.insertBefore(r,e.firstChild):e.appendChild(r),t&&(s.selection.select(r,!0),s.selection.collapse(!0))},i=function(t){return(t.keyCode==e.DELETE||t.keyCode==e.BACKSPACE)&&!t.isDefaultPrevented()},o=function(e){return e.firstChild===e.lastChild&&e.firstChild},a=function(e){return e&&3===e.nodeType},l=function(e){var t=o(e);return a(t)&&1===t.data.length?t.data:null},c=function(e){var t=o(e),n=l(e);return t&&!a(t)||n&&!d(n)},u=function(e){return s.dom.isEmpty(e)||d(l(e))},d=function(e){return"\xa0"===e};s.on("keydown",function(e){if(i(e)){var o=s.dom.getParent(s.selection.getStart(),"caption");t(o)&&(n.ie&&(s.selection.isCollapsed()?c(o)&&r(o):(s.undoManager.transact(function(){s.execCommand("Delete"),u(o)&&r(o,!0)}),e.preventDefault())),u(o)&&e.preventDefault())}})}f(),p(),n.webkit&&(l(),d()),n.gecko&&(c(),u()),n.ie>9&&(c(),u())}}),r("tinymce/tableplugin/CellSelection",["tinymce/tableplugin/TableGrid","tinymce/dom/TreeWalker","tinymce/util/Tools"],function(e,t,n){return function(r,i){function o(e){r.getBody().style.webkitUserSelect="",(e||g)&&(r.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected"),g=!1)}function a(e,t){return!(!e||!t)&&e===m.getParent(t,"table")}function s(t){var n,o,s=t.target;if(!f&&!p&&s!==d&&(d=s,u&&c)){if(o=m.getParent(s,"td,th"),a(u,o)||(o=m.getParent(u,"td,th")),c===o&&!g)return;if(i(!0),a(u,o)){t.preventDefault(),l||(l=new e(r,u,c),r.getBody().style.webkitUserSelect="none"),l.setEndCell(o),g=!0,n=r.selection.getSel();try{n.removeAllRanges?n.removeAllRanges():n.empty()}catch(e){}}}}var l,c,u,d,f,p,m=r.dom,g=!0,h=function(){c=l=u=d=null,i(!1)};return r.on("SelectionChange",function(e){g&&e.stopImmediatePropagation()},!0),r.on("MouseDown",function(e){2==e.button||f||p||(o(),c=m.getParent(e.target,"td,th"),u=m.getParent(c,"table"))}),r.on("mouseover",s),r.on("remove",function(){m.unbind(r.getDoc(),"mouseover",s),o()}),r.on("MouseUp",function(){function e(e,r){var o=new t(e,e);do{if(3==e.nodeType&&0!==n.trim(e.nodeValue).length)return void(r?i.setStart(e,0):i.setEnd(e,e.nodeValue.length));if("BR"==e.nodeName)return void(r?i.setStartBefore(e):i.setEndBefore(e))}while(e=r?o.next():o.prev())}var i,o,a,s,u,d=r.selection;if(c){if(l&&(r.getBody().style.webkitUserSelect=""),o=m.select("td[data-mce-selected],th[data-mce-selected]"),o.length>0){i=m.createRng(),s=o[0],i.setStartBefore(s),i.setEndAfter(s),e(s,1),a=new t(s,m.getParent(o[0],"table"));do if("TD"==s.nodeName||"TH"==s.nodeName){if(!m.getAttrib(s,"data-mce-selected"))break;u=s}while(s=a.next());e(u),d.setRng(i)}r.nodeChanged(),h()}}),r.on("KeyUp Drop SetContent",function(e){o("setcontent"==e.type),h(),f=!1}),r.on("ObjectResizeStart ObjectResized",function(e){f="objectresized"!=e.type}),r.on("dragstart",function(){p=!0}),r.on("drop dragend",function(){p=!1}),{clear:o}}}),r("tinymce/tableplugin/Dialogs",["tinymce/util/Tools","tinymce/Env"],function(e,t){var n=e.each;return function(r){function i(){var e=r.settings.color_picker_callback;if(e)return function(){var t=this;e.call(r,function(e){t.value(e).fire("change")},t.value())}}function o(e){return{title:"Advanced",type:"form",defaults:{onchange:function(){d(e,this.parents().reverse()[0],"style"==this.name())}},items:[{label:"Style",name:"style",type:"textbox"},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border color",type:"colorbox",name:"borderColor",onaction:i()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:i()}]}]}}function a(e){return e?e.replace(/px$/,""):""}function s(e){return/^[0-9]+$/.test(e)&&(e+="px"),e}function l(e){n("left center right".split(" "),function(t){r.formatter.remove("align"+t,{},e)})}function c(e){n("top middle bottom".split(" "),function(t){r.formatter.remove("valign"+t,{},e)})}function u(t,n,r){function i(t,r){return r=r||[],e.each(t,function(e){var t={text:e.text||e.title};e.menu?t.menu=i(e.menu):(t.value=e.value,n&&n(t)),r.push(t)}),r}return i(t,r||[])}function d(e,t,n){var r=t.toJSON(),i=e.parseStyle(r.style);n?(t.find("#borderColor").value(i["border-color"]||"")[0].fire("change"),t.find("#backgroundColor").value(i["background-color"]||"")[0].fire("change")):(i["border-color"]=r.borderColor,i["background-color"]=r.backgroundColor),t.find("#style").value(e.serializeStyle(e.parseStyle(e.serializeStyle(i))))}function f(e,t,n){var r=e.parseStyle(e.getAttrib(n,"style"));r["border-color"]&&(t.borderColor=r["border-color"]),r["background-color"]&&(t.backgroundColor=r["background-color"]),t.style=e.serializeStyle(r)}function p(e,t,r){var i=e.parseStyle(e.getAttrib(t,"style"));n(r,function(e){i[e.name]=e.value}),e.setAttrib(t,"style",e.serializeStyle(e.parseStyle(e.serializeStyle(i))))}var m=this;m.tableProps=function(){m.table(!0)},m.table=function(i){function c(){function n(e,t,r){if("TD"===e.tagName||"TH"===e.tagName)C.setStyle(e,t,r);else if(e.children)for(var i=0;i<e.children.length;i++)n(e.children[i],t,r)}var i;d(C,this),w=e.extend(w,this.toJSON()),w["class"]===!1&&delete w["class"],r.undoManager.transact(function(){if(g||(g=r.plugins.table.insertTable(w.cols||1,w.rows||1)),r.dom.setAttribs(g,{style:w.style,"class":w["class"]}),r.settings.table_style_by_css){if(x=[],x.push({name:"border",value:w.border}),x.push({name:"border-spacing",value:s(w.cellspacing)}),p(C,g,x),C.setAttribs(g,{"data-mce-border-color":w.borderColor,"data-mce-cell-padding":w.cellpadding,"data-mce-border":w.border}),g.children)for(var e=0;e<g.children.length;e++)n(g.children[e],"border",w.border),n(g.children[e],"padding",s(w.cellpadding))}else r.dom.setAttribs(g,{border:w.border,cellpadding:w.cellpadding,cellspacing:w.cellspacing});C.getAttrib(g,"width")&&!r.settings.table_style_by_css?C.setAttrib(g,"width",a(w.width)):C.setStyle(g,"width",s(w.width)),C.setStyle(g,"height",s(w.height)),i=C.select("caption",g)[0],i&&!w.caption&&C.remove(i),!i&&w.caption&&(i=C.create("caption"),i.innerHTML=t.ie?"\xa0":'<br data-mce-bogus="1"/>',g.insertBefore(i,g.firstChild)),l(g),w.align&&r.formatter.apply("align"+w.align,{},g),r.focus(),r.addVisual()})}function m(e,t){function n(e,n){for(var r=0;r<n.length;r++){var i=C.getStyle(n[r],t);if("undefined"==typeof e&&(e=i),e!=i)return""}return e}var i,o=r.dom.select("td,th",e);return i=n(i,o)}var g,h,v,b,y,x,C=r.dom,w={};i===!0?(g=C.getParent(r.selection.getStart(),"table"),g&&(w={width:a(C.getStyle(g,"width")||C.getAttrib(g,"width")),height:a(C.getStyle(g,"height")||C.getAttrib(g,"height")),cellspacing:a(C.getStyle(g,"border-spacing")||C.getAttrib(g,"cellspacing")),cellpadding:C.getAttrib(g,"data-mce-cell-padding")||C.getAttrib(g,"cellpadding")||m(g,"padding"),border:C.getAttrib(g,"data-mce-border")||C.getAttrib(g,"border")||m(g,"border"),borderColor:C.getAttrib(g,"data-mce-border-color"),caption:!!C.select("caption",g)[0],"class":C.getAttrib(g,"class")},n("left center right".split(" "),function(e){r.formatter.matchNode(g,"align"+e)&&(w.align=e)}))):(h={label:"Cols",name:"cols"},v={label:"Rows",name:"rows"}),r.settings.table_class_list&&(w["class"]&&(w["class"]=w["class"].replace(/\s*mce\-item\-table\s*/g,"")),b={name:"class",type:"listbox",label:"Class",values:u(r.settings.table_class_list,function(e){e.value&&(e.textStyle=function(){return r.formatter.getCssText({block:"table",classes:[e.value]})})})}),y={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:r.settings.table_appearance_options!==!1?[h,v,{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]:[h,v,{label:"Width",name:"width"},{label:"Height",name:"height"}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},b]},r.settings.table_advtab!==!1?(f(C,w,g),r.windowManager.open({title:"Table properties",data:w,bodyType:"tabpanel",body:[{title:"General",type:"form",items:y},o(C)],onsubmit:c})):r.windowManager.open({title:"Table properties",data:w,body:y,onsubmit:c})},m.merge=function(e,t){r.windowManager.open({title:"Merge cells",body:[{label:"Cols",name:"cols",type:"textbox",value:"1",size:10},{label:"Rows",name:"rows",type:"textbox",value:"1",size:10}],onsubmit:function(){var n=this.toJSON();r.undoManager.transact(function(){e.merge(t,n.cols,n.rows)})}})},m.cell=function(){function t(e,t,n){(1===b.length||n)&&v.setAttrib(e,t,n)}function i(e,t,n){(1===b.length||n)&&v.setStyle(e,t,n)}function p(){d(v,this),g=e.extend(g,this.toJSON()),r.undoManager.transact(function(){n(b,function(e){t(e,"scope",g.scope),t(e,"style",g.style),t(e,"class",g["class"]),i(e,"width",s(g.width)),i(e,"height",s(g.height)),g.type&&e.nodeName.toLowerCase()!==g.type&&(e=v.rename(e,g.type)),1===b.length&&(l(e),c(e)),g.align&&r.formatter.apply("align"+g.align,{},e),g.valign&&r.formatter.apply("valign"+g.valign,{},e)}),r.focus()})}var m,g,h,v=r.dom,b=[];if(b=r.dom.select("td[data-mce-selected],th[data-mce-selected]"),m=r.dom.getParent(r.selection.getStart(),"td,th"),!b.length&&m&&b.push(m),m=m||b[0]){b.length>1?g={width:"",height:"",scope:"","class":"",align:"",style:"",type:m.nodeName.toLowerCase()}:(g={width:a(v.getStyle(m,"width")||v.getAttrib(m,"width")),height:a(v.getStyle(m,"height")||v.getAttrib(m,"height")),scope:v.getAttrib(m,"scope"),"class":v.getAttrib(m,"class")},g.type=m.nodeName.toLowerCase(),n("left center right".split(" "),function(e){r.formatter.matchNode(m,"align"+e)&&(g.align=e)}),n("top middle bottom".split(" "),function(e){r.formatter.matchNode(m,"valign"+e)&&(g.valign=e)}),f(v,g,m)),r.settings.table_cell_class_list&&(h={name:"class",type:"listbox",label:"Class",values:u(r.settings.table_cell_class_list,function(e){e.value&&(e.textStyle=function(){return r.formatter.getCssText({block:"td",classes:[e.value]})})})});var y={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},h]};r.settings.table_cell_advtab!==!1?r.windowManager.open({title:"Cell properties",bodyType:"tabpanel",data:g,body:[{title:"General",type:"form",items:y},o(v)],onsubmit:p}):r.windowManager.open({title:"Cell properties",data:g,body:y,onsubmit:p})}},m.row=function(){function t(e,t,n){(1===x.length||n)&&y.setAttrib(e,t,n)}function i(e,t,n){(1===x.length||n)&&y.setStyle(e,t,n)}function c(){var o,a,c;d(y,this),v=e.extend(v,this.toJSON()),r.undoManager.transact(function(){var e=v.type;n(x,function(n){t(n,"scope",v.scope),t(n,"style",v.style),t(n,"class",v["class"]),i(n,"height",s(v.height)),e!==n.parentNode.nodeName.toLowerCase()&&(o=y.getParent(n,"table"),a=n.parentNode,c=y.select(e,o)[0],c||(c=y.create(e),o.firstChild?o.insertBefore(c,o.firstChild):o.appendChild(c)),c.appendChild(n),a.hasChildNodes()||y.remove(a)),1===x.length&&l(n),v.align&&r.formatter.apply("align"+v.align,{},n)}),r.focus()})}var p,m,g,h,v,b,y=r.dom,x=[];p=r.dom.getParent(r.selection.getStart(),"table"),m=r.dom.getParent(r.selection.getStart(),"td,th"),n(p.rows,function(e){n(e.cells,function(t){if(y.getAttrib(t,"data-mce-selected")||t==m)return x.push(e),!1})}),g=x[0],g&&(x.length>1?v={height:"",scope:"","class":"",align:"",type:g.parentNode.nodeName.toLowerCase()}:(v={height:a(y.getStyle(g,"height")||y.getAttrib(g,"height")),scope:y.getAttrib(g,"scope"),"class":y.getAttrib(g,"class")},v.type=g.parentNode.nodeName.toLowerCase(),n("left center right".split(" "),function(e){r.formatter.matchNode(g,"align"+e)&&(v.align=e)}),f(y,v,g)),r.settings.table_row_class_list&&(h={name:"class",type:"listbox",label:"Class",values:u(r.settings.table_row_class_list,function(e){e.value&&(e.textStyle=function(){return r.formatter.getCssText({block:"tr",classes:[e.value]})})})}),b={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"Header",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},h]},r.settings.table_row_advtab!==!1?r.windowManager.open({title:"Row properties",data:v,bodyType:"tabpanel",body:[{title:"General",type:"form",items:b},o(y)],onsubmit:c}):r.windowManager.open({title:"Row properties",data:v,body:b,onsubmit:c}))}}}),r("tinymce/tableplugin/ResizeBars",["tinymce/util/Tools","tinymce/util/VK"],function(e,n){var r;return function(i){function o(e,t){return{index:e,y:i.dom.getPos(t).y}}function a(e,t){return{index:e,y:i.dom.getPos(t).y+t.offsetHeight}}function s(e,t){return{index:e,x:i.dom.getPos(t).x}}function l(e,t){return{index:e,x:i.dom.getPos(t).x+t.offsetWidth}}function c(){var e=i.getBody().dir;return"rtl"===e}function u(){return i.inline}function d(){return u?i.getBody().ownerDocument.body:i.getBody()}function f(e,t){return c()?l(e,t):s(e,t)}function p(e,t){return c()?s(e,t):l(e,t)}function m(e,t){return g(e,"width")/g(t,"width")*100}function g(e,t){var n=i.dom.getStyle(e,t,!0),r=parseInt(n,10);return r}function h(e){var t=g(e,"width"),n=g(e.parentElement,"width");return t/n*100}function v(e,t){var n=g(e,"width");return t/n*100}function b(e,t){var n=g(e.parentElement,"width");return t/n*100}function y(e,t,n){for(var r=[],i=1;i<n.length;i++){var o=n[i].element;r.push(e(i-1,o))}var a=n[n.length-1];return r.push(t(n.length-1,a.element)),r}function x(){var t=i.dom.select("."+fe,d());e.each(t,function(e){i.dom.remove(e)})}function C(e){x(),B(e)}function w(e,t,n,r,i,o,a,s){var l={"data-mce-bogus":"all","class":fe+" "+e,unselectable:"on","data-mce-resize":!1,style:"cursor: "+t+"; margin: 0; padding: 0; position: absolute; left: "+n+"px; top: "+r+"px; height: "+i+"px; width: "+o+"px; "};return l[a]=s,l}function N(t,n,r){e.each(t,function(e){var t=r.x,o=e.y-Ce/2,a=Ce,s=n;i.dom.add(d(),"div",w(pe,me,t,o,a,s,ge,e.index))})}function k(t,n,r){e.each(t,function(e){var t=e.x-Ce/2,o=r.y,a=n,s=Ce;i.dom.add(d(),"div",w(ve,be,t,o,a,s,ye,e.index))})}function S(t){return e.map(t.rows,function(t){var n=e.map(t.cells,function(e){var t=e.hasAttribute("rowspan")?parseInt(e.getAttribute("rowspan"),10):1,n=e.hasAttribute("colspan")?parseInt(e.getAttribute("colspan"),10):1;return{element:e,rowspan:t,colspan:n}});return{element:t,cells:n}})}function _(n){function r(e,t){return e+","+t}function i(e,t){return s[r(e,t)]}function o(){var t=[];return e.each(l,function(e){t=t.concat(e.cells)}),t}function a(){return l}var s={},l=[],c=0,u=0;return e.each(n,function(n,i){var o=[];e.each(n.cells,function(e){for(var n=0;s[r(i,n)]!==t;)n++;for(var a={element:e.element,colspan:e.colspan,rowspan:e.rowspan,rowIndex:i,colIndex:n},l=0;l<e.colspan;l++)for(var d=0;d<e.rowspan;d++){var f=i+d,p=n+l;s[r(f,p)]=a,c=Math.max(c,f+1),u=Math.max(u,p+1)}o.push(a)}),l.push({element:n.element,cells:o})}),{grid:{maxRows:c,maxCols:u},getAt:i,getAllCells:o,getAllRows:a}}function E(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n}function T(e,t,n){for(var r,i=e(),o=0;o<i.length;o++)t(i[o])&&(r=i[o]);return r?r:n()}function R(t){var n=E(0,t.grid.maxCols),r=E(0,t.grid.maxRows);return e.map(n,function(e){function n(){for(var n=[],i=0;i<r.length;i++){var o=t.getAt(i,e);o&&o.colIndex===e&&n.push(o)}return n}function i(e){return 1===e.colspan}function o(){for(var n,i=0;i<r.length;i++)if(n=t.getAt(i,e))return n;return null}return T(n,i,o)})}function A(t){var n=E(0,t.grid.maxCols),r=E(0,t.grid.maxRows);return e.map(r,function(e){function r(){for(var r=[],i=0;i<n.length;i++){var o=t.getAt(e,i);o&&o.rowIndex===e&&r.push(o)}return r}function i(e){return 1===e.rowspan}function o(){return t.getAt(e,0)}return T(r,i,o);
})}function B(e){var t=S(e),n=_(t),r=A(n),s=R(n),l=i.dom.getPos(e),c=r.length>0?y(o,a,r):[],u=s.length>0?y(f,p,s):[];N(c,e.offsetWidth,l),k(u,e.offsetHeight,l)}function P(e,t,n,r){if(t<0||t>=e.length-1)return"";var i=e[t];if(i)i={value:i,delta:0};else for(var o=e.slice(0,t).reverse(),a=0;a<o.length;a++)o[a]&&(i={value:o[a],delta:a+1});var s=e[t+1];if(s)s={value:s,delta:1};else for(var l=e.slice(t+1),c=0;c<l.length;c++)l[c]&&(s={value:l[c],delta:c+1});var u=s.delta-i.delta,d=Math.abs(s.value-i.value)/u;return n?d/g(r,"width")*100:d}function D(e,t){var n=i.dom.getStyle(e,t);return n||(n=i.dom.getAttrib(e,t)),n||(n=i.dom.getStyle(e,t,!0)),n}function M(e,t,n){var r=D(e,"width"),i=parseInt(r,10),o=t?m(e,n):g(e,"width");return(t&&!V(r)||!t&&!$(r))&&(i=0),!isNaN(i)&&i>0?i:o}function L(t,n,r){for(var i=R(t),o=e.map(i,function(e){return f(e.colIndex,e.element).x}),a=[],s=0;s<i.length;s++){var l=i[s].element.hasAttribute("colspan")?parseInt(i[s].element.getAttribute("colspan"),10):1,c=l>1?P(o,s):M(i[s].element,n,r);c=c?c:we,a.push(c)}return a}function I(e){var t=D(e,"height"),n=parseInt(t,10);return V(t)&&(n=0),!isNaN(n)&&n>0?n:g(e,"height")}function O(t){for(var n=A(t),r=e.map(n,function(e){return o(e.rowIndex,e.element).y}),i=[],a=0;a<n.length;a++){var s=n[a].element.hasAttribute("rowspan")?parseInt(n[a].element.getAttribute("rowspan"),10):1,l=s>1?P(r,a):I(n[a].element);l=l?l:Ne,i.push(l)}return i}function H(t,n,r,i,o){function a(t){return e.map(t,function(){return 0})}function s(){var e;if(o)e=[100-d[0]];else{var t=Math.max(i,d[0]+r);e=[t-d[0]]}return e}function l(e,t){var n,o=a(d.slice(0,e)),s=a(d.slice(t+1));if(r>=0){var l=Math.max(i,d[t]-r);n=o.concat([r,l-d[t]]).concat(s)}else{var c=Math.max(i,d[e]+r),u=d[e]-c;n=o.concat([c-d[e],u]).concat(s)}return n}function c(e,t){var n,o=a(d.slice(0,t));if(r>=0)n=o.concat([r]);else{var s=Math.max(i,d[t]+r);n=o.concat([s-d[t]])}return n}var u,d=t.slice(0);return u=0===t.length?[]:1===t.length?s():0===n?l(0,1):n>0&&n<t.length-1?l(n,n+1):n===t.length-1?c(n-1,n):[]}function F(e,t,n){for(var r=0,i=e;i<t;i++)r+=n[i];return r}function z(t,n){var r=t.getAllCells();return e.map(r,function(e){var t=F(e.colIndex,e.colIndex+e.colspan,n);return{element:e.element,width:t,colspan:e.colspan}})}function W(t,n){var r=t.getAllCells();return e.map(r,function(e){var t=F(e.rowIndex,e.rowIndex+e.rowspan,n);return{element:e.element,height:t,rowspan:e.rowspan}})}function U(t,n){var r=t.getAllRows();return e.map(r,function(e,t){return{element:e.element,height:n[t]}})}function V(e){return Se.test(e)}function $(e){return _e.test(e)}function j(t,n,r){function o(t,n){e.each(t,function(e){i.dom.setStyle(e.element,"width",e.width+n),i.dom.setAttrib(e.element,"width",null)})}function a(){return r<u.grid.maxCols-1?h(t):h(t)+b(t,n)}function s(){return r<u.grid.maxCols-1?g(t,"width"):g(t,"width")+n}function l(e,n,o){r!=u.grid.maxCols-1&&o||(i.dom.setStyle(t,"width",e+n),i.dom.setAttrib(t,"width",null))}for(var c=S(t),u=_(c),d=V(t.width)||V(t.style.width),f=L(u,d,t),p=d?v(t,n):n,m=H(f,r,p,we,d,t),y=[],x=0;x<m.length;x++)y.push(m[x]+f[x]);var C=z(u,y),w=d?"%":"px",N=d?a():s();i.undoManager.transact(function(){o(C,w),l(N,w,d)})}function q(t,n,r){for(var o=S(t),a=_(o),s=O(a),l=[],c=0,u=0;u<s.length;u++)l.push(u===r?n+s[u]:s[u]),c+=c[u];var d=W(a,l),f=U(a,l);i.undoManager.transact(function(){e.each(f,function(e){i.dom.setStyle(e.element,"height",e.height+"px"),i.dom.setAttrib(e.element,"height",null)}),e.each(d,function(e){i.dom.setStyle(e.element,"height",e.height+"px"),i.dom.setAttrib(e.element,"height",null)}),i.dom.setStyle(t,"height",c+"px"),i.dom.setAttrib(t,"height",null)})}function Y(){ae=setTimeout(function(){J()},200)}function X(){clearTimeout(ae)}function K(){var e=document.createElement("div");return e.setAttribute("style","margin: 0; padding: 0; position: fixed; left: 0px; top: 0px; height: 100%; width: 100%;"),e.setAttribute("data-mce-bogus","all"),e}function G(e,t){i.dom.bind(e,"mouseup",function(){J()}),i.dom.bind(e,"mousemove",function(e){X(),se&&t(e)}),i.dom.bind(e,"mouseout",function(){Y()})}function J(){if(i.dom.remove(le),se){i.dom.removeClass(ce,ke),se=!1;var e,t;if(Q(ce)){var n=parseInt(i.dom.getAttrib(ce,xe),10),o=i.dom.getPos(ce).x;e=parseInt(i.dom.getAttrib(ce,ye),10),t=c()?n-o:o-n,Math.abs(t)>=1&&j(r,t,e)}else if(ee(ce)){var a=parseInt(i.dom.getAttrib(ce,he),10),s=i.dom.getPos(ce).y;e=parseInt(i.dom.getAttrib(ce,ge),10),t=s-a,Math.abs(t)>=1&&q(r,t,e)}C(r),i.nodeChanged()}}function Z(e,t){le=le?le:K(),se=!0,i.dom.addClass(e,ke),ce=e,G(le,t),i.dom.add(d(),le)}function Q(e){return i.dom.hasClass(e,ve)}function ee(e){return i.dom.hasClass(e,pe)}function te(e){ue=ue!==t?ue:e.clientX;var n=e.clientX-ue;ue=e.clientX;var r=i.dom.getPos(ce).x;i.dom.setStyle(ce,"left",r+n+"px")}function ne(e){de=de!==t?de:e.clientY;var n=e.clientY-de;de=e.clientY;var r=i.dom.getPos(ce).y;i.dom.setStyle(ce,"top",r+n+"px")}function re(e){ue=t,Z(e,te)}function ie(e){de=t,Z(e,ne)}function oe(e){var t=e.target,n=i.getBody();if(i.$.contains(n,r)||r===n)if(Q(t)){e.preventDefault();var o=i.dom.getPos(t).x;i.dom.setAttrib(t,xe,o),re(t)}else if(ee(t)){e.preventDefault();var a=i.dom.getPos(t).y;i.dom.setAttrib(t,he,a),ie(t)}else x()}var ae,se,le,ce,ue,de,fe="mce-resize-bar",pe="mce-resize-bar-row",me="row-resize",ge="data-row",he="data-initial-top",ve="mce-resize-bar-col",be="col-resize",ye="data-col",xe="data-initial-left",Ce=4,we=10,Ne=10,ke="mce-resize-bar-dragging",Se=new RegExp(/(\d+(\.\d+)?%)/),_e=new RegExp(/px|em/);return i.on("init",function(){i.dom.bind(d(),"mousedown",oe)}),i.on("ObjectResized",function(t){var n=t.target;if("TABLE"===n.nodeName){var r=[];e.each(n.rows,function(t){e.each(t.cells,function(e){var t=i.dom.getStyle(e,"width",!0);r.push({cell:e,width:t})})}),e.each(r,function(e){i.dom.setStyle(e.cell,"width",e.width),i.dom.setAttrib(e.cell,"width",null)})}}),i.on("mouseover",function(e){if(!se){var t=i.dom.getParent(e.target,"table");("TABLE"===e.target.nodeName||t)&&(r=t,C(t))}}),i.on("keydown",function(e){switch(e.keyCode){case n.LEFT:case n.RIGHT:case n.UP:case n.DOWN:x()}}),i.on("remove",function(){x(),i.dom.unbind(d(),"mousedown",oe)}),{adjustWidth:j,adjustHeight:q,clearBars:x,drawBars:B,determineDeltas:H,getTableGrid:_,getTableDetails:S,getWidths:L,getPixelHeights:O,isPercentageBasedSize:V,isPixelBasedSize:$,recalculateWidths:z,recalculateCellHeights:W,recalculateRowHeights:U}}}),r("tinymce/tableplugin/Plugin",["tinymce/tableplugin/TableGrid","tinymce/tableplugin/Quirks","tinymce/tableplugin/CellSelection","tinymce/tableplugin/Dialogs","tinymce/tableplugin/ResizeBars","tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/Env","tinymce/PluginManager"],function(e,t,n,r,i,o,a,s,l){function c(o){function a(e){return function(){o.execCommand(e)}}function l(e,t){var n,r,i,a;for(i='<table id="__mce"><tbody>',n=0;n<t;n++){for(i+="<tr>",r=0;r<e;r++)i+="<td>"+(s.ie&&s.ie<10?"&nbsp;":"<br>")+"</td>";i+="</tr>"}return i+="</tbody></table>",o.undoManager.transact(function(){o.insertContent(i),a=o.dom.get("__mce"),o.dom.setAttrib(a,"id",null),o.$("tr",a).each(function(e,t){o.fire("newrow",{node:t}),o.$("th,td",t).each(function(e,t){o.fire("newcell",{node:t})})}),o.dom.setAttribs(a,o.settings.table_default_attributes||{}),o.dom.setStyles(a,o.settings.table_default_styles||{})}),a}function c(e,t,n){function r(){var r,i,a,s={},l=0;i=o.dom.select("td[data-mce-selected],th[data-mce-selected]"),r=i[0],r||(r=o.selection.getStart()),n&&i.length>0?(u(i,function(e){return s[e.parentNode.parentNode.nodeName]=1}),u(s,function(e){l+=e}),a=1!==l):a=!o.dom.getParent(r,t),e.disabled(a),o.selection.selectorChanged(t,function(t){e.disabled(!t)})}o.initialized?r():o.on("init",r)}function d(){c(this,"table")}function f(){c(this,"td,th")}function p(){c(this,"td,th",!0)}function m(){var e="";e='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var t=0;t<10;t++){e+="<tr>";for(var n=0;n<10;n++)e+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*t+n)+'" href="#" data-mce-x="'+n+'" data-mce-y="'+t+'"></a></td>';e+="</tr>"}return e+="</table>",e+='<div class="mce-text-center" role="presentation">1 x 1</div>'}function g(e,t,n){var r,i,a,s,l,c=n.getEl().getElementsByTagName("table")[0],u=n.isRtl()||"tl-tr"==n.parent().rel;for(c.nextSibling.innerHTML=e+1+" x "+(t+1),u&&(e=9-e),i=0;i<10;i++)for(r=0;r<10;r++)s=c.rows[i].childNodes[r].firstChild,l=(u?r>=e:r<=e)&&i<=t,o.dom.toggleClass(s,"mce-active",l),l&&(a=s);return a.parentNode}function h(){o.addButton("tableprops",{title:"Table properties",onclick:k.tableProps,icon:"table"}),o.addButton("tabledelete",{title:"Delete table",onclick:a("mceTableDelete")}),o.addButton("tablecellprops",{title:"Cell properties",onclick:a("mceTableCellProps")}),o.addButton("tablemergecells",{title:"Merge cells",onclick:a("mceTableMergeCells")}),o.addButton("tablesplitcells",{title:"Split cell",onclick:a("mceTableSplitCells")}),o.addButton("tableinsertrowbefore",{title:"Insert row before",onclick:a("mceTableInsertRowBefore")}),o.addButton("tableinsertrowafter",{title:"Insert row after",onclick:a("mceTableInsertRowAfter")}),o.addButton("tabledeleterow",{title:"Delete row",onclick:a("mceTableDeleteRow")}),o.addButton("tablerowprops",{title:"Row properties",onclick:a("mceTableRowProps")}),o.addButton("tablecutrow",{title:"Cut row",onclick:a("mceTableCutRow")}),o.addButton("tablecopyrow",{title:"Copy row",onclick:a("mceTableCopyRow")}),o.addButton("tablepasterowbefore",{title:"Paste row before",onclick:a("mceTablePasteRowBefore")}),o.addButton("tablepasterowafter",{title:"Paste row after",onclick:a("mceTablePasteRowAfter")}),o.addButton("tableinsertcolbefore",{title:"Insert column before",onclick:a("mceTableInsertColBefore")}),o.addButton("tableinsertcolafter",{title:"Insert column after",onclick:a("mceTableInsertColAfter")}),o.addButton("tabledeletecol",{title:"Delete column",onclick:a("mceTableDeleteCol")})}function v(e){var t=o.dom.is(e,"table")&&o.getBody().contains(e);return t}function b(){var e=o.settings.table_toolbar;""!==e&&e!==!1&&(e||(e="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"),o.addContextToolbar(v,e))}function y(){return C}function x(e){C=e}var C,w,N=this,k=new r(o);!o.settings.object_resizing||o.settings.table_resize_bars===!1||o.settings.object_resizing!==!0&&"table"!==o.settings.object_resizing||(w=i(o)),o.settings.table_grid===!1?o.addMenuItem("inserttable",{text:"Table",icon:"table",context:"table",onclick:k.table}):o.addMenuItem("inserttable",{text:"Table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(e){e.aria&&(this.parent().hideAll(),e.stopImmediatePropagation(),k.table())},onshow:function(){g(0,0,this.menu.items()[0])},onhide:function(){var e=this.menu.items()[0].getEl().getElementsByTagName("a");o.dom.removeClass(e,"mce-active"),o.dom.addClass(e[0],"mce-active")},menu:[{type:"container",html:m(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(e){var t,n,r=e.target;"A"==r.tagName.toUpperCase()&&(t=parseInt(r.getAttribute("data-mce-x"),10),n=parseInt(r.getAttribute("data-mce-y"),10),(this.isRtl()||"tl-tr"==this.parent().rel)&&(t=9-t),t===this.lastX&&n===this.lastY||(g(t,n,e.control),this.lastX=t,this.lastY=n))},onclick:function(e){var t=this;"A"==e.target.tagName.toUpperCase()&&(e.preventDefault(),e.stopPropagation(),t.parent().cancel(),o.undoManager.transact(function(){l(t.lastX+1,t.lastY+1)}),o.addVisual())}}]}),o.addMenuItem("tableprops",{text:"Table properties",context:"table",onPostRender:d,onclick:k.tableProps}),o.addMenuItem("deletetable",{text:"Delete table",context:"table",onPostRender:d,cmd:"mceTableDelete"}),o.addMenuItem("cell",{separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:a("mceTableCellProps"),onPostRender:f},{text:"Merge cells",onclick:a("mceTableMergeCells"),onPostRender:p},{text:"Split cell",onclick:a("mceTableSplitCells"),onPostRender:f}]}),o.addMenuItem("row",{text:"Row",context:"table",menu:[{text:"Insert row before",onclick:a("mceTableInsertRowBefore"),onPostRender:f},{text:"Insert row after",onclick:a("mceTableInsertRowAfter"),onPostRender:f},{text:"Delete row",onclick:a("mceTableDeleteRow"),onPostRender:f},{text:"Row properties",onclick:a("mceTableRowProps"),onPostRender:f},{text:"-"},{text:"Cut row",onclick:a("mceTableCutRow"),onPostRender:f},{text:"Copy row",onclick:a("mceTableCopyRow"),onPostRender:f},{text:"Paste row before",onclick:a("mceTablePasteRowBefore"),onPostRender:f},{text:"Paste row after",onclick:a("mceTablePasteRowAfter"),onPostRender:f}]}),o.addMenuItem("column",{text:"Column",context:"table",menu:[{text:"Insert column before",onclick:a("mceTableInsertColBefore"),onPostRender:f},{text:"Insert column after",onclick:a("mceTableInsertColAfter"),onPostRender:f},{text:"Delete column",onclick:a("mceTableDeleteCol"),onPostRender:f}]});var S=[];u("inserttable tableprops deletetable | cell row column".split(" "),function(e){"|"==e?S.push({text:"-"}):S.push(o.menuItems[e])}),o.addButton("table",{type:"menubutton",title:"Table",menu:S}),s.isIE||o.on("click",function(e){e=e.target,"TABLE"===e.nodeName&&(o.selection.select(e),o.nodeChanged())}),N.quirks=new t(o),o.on("Init",function(){N.cellSelection=new n(o,function(e){e&&w&&w.clearBars()}),N.resizeBars=w}),o.on("PreInit",function(){o.serializer.addAttributeFilter("data-mce-cell-padding,data-mce-border,data-mce-border-color",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})}),u({mceTableSplitCells:function(e){e.split()},mceTableMergeCells:function(e){var t;t=o.dom.getParent(o.selection.getStart(),"th,td"),o.dom.select("td[data-mce-selected],th[data-mce-selected]").length?e.merge():k.merge(e,t)},mceTableInsertRowBefore:function(e){e.insertRows(!0)},mceTableInsertRowAfter:function(e){e.insertRows()},mceTableInsertColBefore:function(e){e.insertCols(!0)},mceTableInsertColAfter:function(e){e.insertCols()},mceTableDeleteCol:function(e){e.deleteCols()},mceTableDeleteRow:function(e){e.deleteRows()},mceTableCutRow:function(e){C=e.cutRows()},mceTableCopyRow:function(e){C=e.copyRows()},mceTablePasteRowBefore:function(e){e.pasteRows(C,!0)},mceTablePasteRowAfter:function(e){e.pasteRows(C)},mceSplitColsBefore:function(e){e.splitCols(!0)},mceSplitColsAfter:function(e){e.splitCols(!1)},mceTableDelete:function(e){w&&w.clearBars(),e.deleteTable()}},function(t,n){o.addCommand(n,function(){var n=new e(o);n&&(t(n),o.execCommand("mceRepaint"),N.cellSelection.clear())})}),u({mceInsertTable:k.table,mceTableProps:function(){k.table(!0)},mceTableRowProps:k.row,mceTableCellProps:k.cell},function(e,t){o.addCommand(t,function(t,n){e(n)})}),h(),b(),o.settings.table_tab_navigation!==!1&&o.on("keydown",function(t){var n,r,i;9==t.keyCode&&(n=o.dom.getParent(o.selection.getStart(),"th,td"),n&&(t.preventDefault(),r=new e(o),i=t.shiftKey?-1:1,o.undoManager.transact(function(){!r.moveRelIdx(n,i)&&i>0&&(r.insertRow(),r.refresh(),r.moveRelIdx(n,i))})))}),N.insertTable=l,N.setClipboardRows=x,N.getClipboardRows=y}var u=o.each;l.add("table",c)})}(window);
;
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/


!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.echarts={})}(this,function(t){"use strict";var e=2311,n=function(){return e++},v="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:function(t){var e={},i=t.match(/Firefox\/([\d.]+)/),n=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),o=t.match(/Edge\/([\d.]+)/),a=/micromessenger/i.test(t);i&&(e.firefox=!0,e.version=i[1]);n&&(e.ie=!0,e.version=n[1]);o&&(e.edge=!0,e.version=o[1]);a&&(e.weChat=!0);return{browser:e,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!e.ie&&!e.edge,pointerEventsSupported:"onpointerdown"in window&&(e.edge||e.ie&&11<=e.version),domSupported:"undefined"!=typeof document}}(navigator.userAgent);var s={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},l={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},u=Object.prototype.toString,i=Array.prototype,r=i.forEach,h=i.filter,o=i.slice,c=i.map,d=i.reduce,a={};function f(t,e){"createCanvas"===t&&(y=null),a[t]=e}function L(t){if(null==t||"object"!=typeof t)return t;var e=t,i=u.call(t);if("[object Array]"===i){if(!$(t)){e=[];for(var n=0,o=t.length;n<o;n++)e[n]=L(t[n])}}else if(l[i]){if(!$(t)){var a=t.constructor;if(t.constructor.from)e=a.from(t);else{e=new a(t.length);for(n=0,o=t.length;n<o;n++)e[n]=L(t[n])}}}else if(!s[i]&&!$(t)&&!G(t))for(var r in e={},t)t.hasOwnProperty(r)&&(e[r]=L(t[r]));return e}function m(t,e,i){if(!z(e)||!z(t))return i?L(e):t;for(var n in e)if(e.hasOwnProperty(n)){var o=t[n],a=e[n];!z(a)||!z(o)||O(a)||O(o)||G(a)||G(o)||B(a)||B(o)||$(a)||$(o)?!i&&n in t||(t[n]=L(e[n])):m(o,a,i)}return t}function p(t,e){for(var i=t[0],n=1,o=t.length;n<o;n++)i=m(i,t[n],e);return i}function k(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function D(t,e,i){for(var n in e)e.hasOwnProperty(n)&&(i?null!=e[n]:null==t[n])&&(t[n]=e[n]);return t}function g(){return a.createCanvas()}var y;function x(){return y=y||g().getContext("2d")}function _(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i}return-1}function w(t,e){var i=t.prototype;function n(){}for(var o in n.prototype=e.prototype,t.prototype=new n,i)i.hasOwnProperty(o)&&(t.prototype[o]=i[o]);(t.prototype.constructor=t).superClass=e}function b(t,e,i){D(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,i)}function P(t){if(t)return"string"!=typeof t&&"number"==typeof t.length}function E(t,e,i){if(t&&e)if(t.forEach&&t.forEach===r)t.forEach(e,i);else if(t.length===+t.length)for(var n=0,o=t.length;n<o;n++)e.call(i,t[n],n,t);else for(var a in t)t.hasOwnProperty(a)&&e.call(i,t[a],a,t)}function N(t,e,i){if(t&&e){if(t.map&&t.map===c)return t.map(e,i);for(var n=[],o=0,a=t.length;o<a;o++)n.push(e.call(i,t[o],o,t));return n}}function S(t,e,i,n){if(t&&e){if(t.reduce&&t.reduce===d)return t.reduce(e,i,n);for(var o=0,a=t.length;o<a;o++)i=e.call(n,i,t[o],o,t);return i}}function M(t,e,i){if(t&&e){if(t.filter&&t.filter===h)return t.filter(e,i);for(var n=[],o=0,a=t.length;o<a;o++)e.call(i,t[o],o,t)&&n.push(t[o]);return n}}function I(t,e,i){if(t&&e)for(var n=0,o=t.length;n<o;n++)if(e.call(i,t[n],n,t))return t[n]}function A(t,e){var i=o.call(arguments,2);return function(){return t.apply(e,i.concat(o.call(arguments)))}}function T(t){var e=o.call(arguments,1);return function(){return t.apply(this,e.concat(o.call(arguments)))}}function O(t){return"[object Array]"===u.call(t)}function C(t){return"function"==typeof t}function R(t){return"[object String]"===u.call(t)}function z(t){var e=typeof t;return"function"==e||!!t&&"object"==e}function B(t){return!!s[u.call(t)]}function V(t){return!!l[u.call(t)]}function G(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function F(t){return t!=t}function W(t){for(var e=0,i=arguments.length;e<i;e++)if(null!=arguments[e])return arguments[e]}function H(t,e){return null!=t?t:e}function Z(t,e,i){return null!=t?t:null!=e?e:i}function U(){return Function.call.apply(o,arguments)}function X(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function Y(t,e){if(!t)throw new Error(e)}function j(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}a.createCanvas=function(){return document.createElement("canvas")};var q="__ec_primitive__";function K(t){t[q]=!0}function $(t){return t[q]}function J(t){var i=O(t);this.data={};var n=this;function e(t,e){i?n.set(t,e):n.set(e,t)}t instanceof J?t.each(e):t&&E(t,e)}function Q(t){return new J(t)}function tt(t,e){for(var i=new t.constructor(t.length+e.length),n=0;n<t.length;n++)i[n]=t[n];var o=t.length;for(n=0;n<e.length;n++)i[n+o]=e[n];return i}function et(){}J.prototype={constructor:J,get:function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},set:function(t,e){return this.data[t]=e},each:function(t,e){for(var i in void 0!==e&&(t=A(t,e)),this.data)this.data.hasOwnProperty(i)&&t(this.data[i],i)},removeKey:function(t){delete this.data[t]}};var it=(Object.freeze||Object)({$override:f,clone:L,merge:m,mergeAll:p,extend:k,defaults:D,createCanvas:g,getContext:x,indexOf:_,inherits:w,mixin:b,isArrayLike:P,each:E,map:N,reduce:S,filter:M,find:I,bind:A,curry:T,isArray:O,isFunction:C,isString:R,isObject:z,isBuiltInObject:B,isTypedArray:V,isDom:G,eqNaN:F,retrieve:W,retrieve2:H,retrieve3:Z,slice:U,normalizeCssArray:X,assert:Y,trim:j,setAsPrimitive:K,isPrimitive:$,createHashMap:Q,concatArray:tt,noop:et}),nt="undefined"==typeof Float32Array?Array:Float32Array;function ot(t,e){var i=new nt(2);return null==t&&(t=0),null==e&&(e=0),i[0]=t,i[1]=e,i}function at(t,e){return t[0]=e[0],t[1]=e[1],t}function rt(t){var e=new nt(2);return e[0]=t[0],e[1]=t[1],e}function st(t,e,i){return t[0]=e,t[1]=i,t}function lt(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t}function ut(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t}function ht(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function ct(t){return Math.sqrt(ft(t))}var dt=ct;function ft(t){return t[0]*t[0]+t[1]*t[1]}var pt=ft;function gt(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t}function mt(t,e){var i=ct(e);return 0===i?(t[0]=0,t[1]=0):(t[0]=e[0]/i,t[1]=e[1]/i),t}function vt(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var yt=vt;function xt(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var _t=xt;function wt(t,e,i,n){return t[0]=e[0]+n*(i[0]-e[0]),t[1]=e[1]+n*(i[1]-e[1]),t}function bt(t,e,i){var n=e[0],o=e[1];return t[0]=i[0]*n+i[2]*o+i[4],t[1]=i[1]*n+i[3]*o+i[5],t}function St(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t}function Mt(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}var It=(Object.freeze||Object)({create:ot,copy:at,clone:rt,set:st,add:lt,scaleAndAdd:ut,sub:ht,len:ct,length:dt,lenSquare:ft,lengthSquare:pt,mul:function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t},div:function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},scale:gt,normalize:mt,distance:vt,dist:yt,distanceSquare:xt,distSquare:_t,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},lerp:wt,applyTransform:bt,min:St,max:Mt});function Tt(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this)}function At(t,e){return{target:t,topTarget:e&&e.topTarget}}Tt.prototype={constructor:Tt,_dragStart:function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent;e&&((this._draggingTarget=e).dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(At(e,t),"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var i=t.offsetX,n=t.offsetY,o=i-this._x,a=n-this._y;this._x=i,this._y=n,e.drift(o,a,t),this.dispatchToElement(At(e,t),"drag",t.event);var r=this.findHover(i,n,e).target,s=this._dropTarget;e!==(this._dropTarget=r)&&(s&&r!==s&&this.dispatchToElement(At(s,t),"dragleave",t.event),r&&r!==s&&this.dispatchToElement(At(r,t),"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(At(e,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(At(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null}};var Dt=Array.prototype.slice,Ct=function(t){this._$handlers={},this._$eventProcessor=t};function Lt(t,e,i,n,o,a){var r=t._$handlers;if("function"==typeof i&&(o=n,n=i,i=null),!n||!e)return t;i=function(t,e){var i=t._$eventProcessor;return null!=e&&i&&i.normalizeQuery&&(e=i.normalizeQuery(e)),e}(t,i),r[e]||(r[e]=[]);for(var s=0;s<r[e].length;s++)if(r[e][s].h===n)return t;var l={h:n,one:a,query:i,ctx:o||t,callAtLast:n.zrEventfulCallAtLast},u=r[e].length-1,h=r[e][u];return h&&h.callAtLast?r[e].splice(u,0,l):r[e].push(l),t}Ct.prototype={constructor:Ct,one:function(t,e,i,n){return Lt(this,t,e,i,n,!0)},on:function(t,e,i,n){return Lt(this,t,e,i,n,!1)},isSilent:function(t){var e=this._$handlers;return!e[t]||!e[t].length},off:function(t,e){var i=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(i[t]){for(var n=[],o=0,a=i[t].length;o<a;o++)i[t][o].h!==e&&n.push(i[t][o]);i[t]=n}i[t]&&0===i[t].length&&delete i[t]}else delete i[t];return this},trigger:function(t){var e=this._$handlers[t],i=this._$eventProcessor;if(e){var n=arguments,o=n.length;3<o&&(n=Dt.call(n,1));for(var a=e.length,r=0;r<a;){var s=e[r];if(i&&i.filter&&null!=s.query&&!i.filter(t,s.query))r++;else{switch(o){case 1:s.h.call(s.ctx);break;case 2:s.h.call(s.ctx,n[1]);break;case 3:s.h.call(s.ctx,n[1],n[2]);break;default:s.h.apply(s.ctx,n)}s.one?(e.splice(r,1),a--):r++}}}return i&&i.afterTrigger&&i.afterTrigger(t),this},triggerWithContext:function(t){var e=this._$handlers[t],i=this._$eventProcessor;if(e){var n=arguments,o=n.length;4<o&&(n=Dt.call(n,1,n.length-1));for(var a=n[n.length-1],r=e.length,s=0;s<r;){var l=e[s];if(i&&i.filter&&null!=l.query&&!i.filter(t,l.query))s++;else{switch(o){case 1:l.h.call(a);break;case 2:l.h.call(a,n[1]);break;case 3:l.h.call(a,n[1],n[2]);break;default:l.h.apply(a,n)}l.one?(e.splice(s,1),r--):s++}}}return i&&i.afterTrigger&&i.afterTrigger(t),this}};var kt=Math.log(2);function Pt(t,e,i,n,o,a){var r=n+"-"+o,s=t.length;if(a.hasOwnProperty(r))return a[r];if(1===e){var l=Math.round(Math.log((1<<s)-1&~o)/kt);return t[i][l]}for(var u=n|1<<i,h=i+1;n&1<<h;)h++;for(var c=0,d=0,f=0;d<s;d++){var p=1<<d;p&o||(c+=(f%2?-1:1)*t[i][d]*Pt(t,e-1,h,u,o|p,a),f++)}return a[r]=c}function Nt(t,e){var i=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],n={},o=Pt(i,8,0,0,0,n);if(0!==o){for(var a=[],r=0;r<8;r++)for(var s=0;s<8;s++)null==a[s]&&(a[s]=0),a[s]+=((r+s)%2?-1:1)*Pt(i,7,0===r?1:0,1<<r,1<<s,n)/o*e[r];return function(t,e,i){var n=e*a[6]+i*a[7]+1;t[0]=(e*a[0]+i*a[1]+a[2])/n,t[1]=(e*a[3]+i*a[4]+a[5])/n}}}var Ot="___zrEVENTSAVED",Et=[];function Rt(t,e,i,n,o){if(e.getBoundingClientRect&&v.domSupported&&!zt(e)){var a=e[Ot]||(e[Ot]={}),r=function(t,e,i){for(var n=i?"invTrans":"trans",o=e[n],a=e.srcCoords,r=!0,s=[],l=[],u=0;u<4;u++){var h=t[u].getBoundingClientRect(),c=2*u,d=h.left,f=h.top;s.push(d,f),r=r&&a&&d===a[c]&&f===a[1+c],l.push(t[u].offsetLeft,t[u].offsetTop)}return r&&o?o:(e.srcCoords=s,e[n]=i?Nt(l,s):Nt(s,l))}(function(t,e){var i=e.markers;if(i)return i;i=e.markers=[];for(var n=["left","right"],o=["top","bottom"],a=0;a<4;a++){var r=document.createElement("div"),s=r.style,l=a%2,u=(a>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[l]+":0",o[u]+":0",n[1-l]+":auto",o[1-u]+":auto",""].join("!important;"),t.appendChild(r),i.push(r)}return i}(e,a),a,o);if(r)return r(t,i,n),!0}return!1}function zt(t){return"CANVAS"===t.nodeName.toUpperCase()}var Bt="undefined"!=typeof window&&!!window.addEventListener,Vt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Gt=[];function Ft(t,e,i,n){return i=i||{},n||!v.canvasSupported?Wt(t,e,i):v.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(i.zrX=e.layerX,i.zrY=e.layerY):null!=e.offsetX?(i.zrX=e.offsetX,i.zrY=e.offsetY):Wt(t,e,i),i}function Wt(t,e,i){if(v.domSupported&&t.getBoundingClientRect){var n=e.clientX,o=e.clientY;if(zt(t)){var a=t.getBoundingClientRect();return i.zrX=n-a.left,void(i.zrY=o-a.top)}if(Rt(Gt,t,n,o))return i.zrX=Gt[0],void(i.zrY=Gt[1])}i.zrX=i.zrY=0}function Ht(t){return t||window.event}function Zt(t,e,i){if(null!=(e=Ht(e)).zrX)return e;var n=e.type;if(n&&0<=n.indexOf("touch")){var o="touchend"!==n?e.targetTouches[0]:e.changedTouches[0];o&&Ft(t,o,e,i)}else Ft(t,e,e,i),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var a=e.button;return null==e.which&&void 0!==a&&Vt.test(e.type)&&(e.which=1&a?1:2&a?3:4&a?2:0),e}function Ut(t,e,i,n){Bt?t.addEventListener(e,i,n):t.attachEvent("on"+e,i)}var Xt=Bt?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};function Yt(t){return 2===t.which||3===t.which}function jt(){this._track=[]}function qt(t){var e=t[1][0]-t[0][0],i=t[1][1]-t[0][1];return Math.sqrt(e*e+i*i)}jt.prototype={constructor:jt,recognize:function(t,e,i){return this._doTrack(t,e,i),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,i){var n=t.touches;if(n){for(var o={points:[],touches:[],target:e,event:t},a=0,r=n.length;a<r;a++){var s=n[a],l=Ft(i,s,{});o.points.push([l.zrX,l.zrY]),o.touches.push(s)}this._track.push(o)}},_recognize:function(t){for(var e in Kt)if(Kt.hasOwnProperty(e)){var i=Kt[e](this._track,t);if(i)return i}}};var Kt={pinch:function(t,e){var i=t.length;if(i){var n=(t[i-1]||{}).points,o=(t[i-2]||{}).points||n;if(o&&1<o.length&&n&&1<n.length){var a=qt(n)/qt(o);isFinite(a)||(a=1),e.pinchScale=a;var r=function(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}(n);return e.pinchX=r[0],e.pinchY=r[1],{type:"pinch",target:t[0].target,event:e}}}}},$t="silent";function Jt(){Xt(this.event)}function Qt(){}Qt.prototype.dispose=function(){};function te(t,e,i,n){Ct.call(this),this.storage=t,this.painter=e,this.painterRoot=n,i=i||new Qt,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,Tt.call(this),this.setHandlerProxy(i)}var ee=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];function ie(t,e,i){if(t[t.rectHover?"rectContain":"contain"](e,i)){for(var n,o=t;o;){if(o.clipPath&&!o.clipPath.contain(e,i))return!1;o.silent&&(n=!0),o=o.parent}return!n||$t}return!1}function ne(t,e,i){var n=t.painter;return e<0||e>n.getWidth()||i<0||i>n.getHeight()}te.prototype={constructor:te,setHandlerProxy:function(e){this.proxy&&this.proxy.dispose(),e&&(E(ee,function(t){e.on&&e.on(t,this[t],this)},this),e.handler=this),this.proxy=e},mousemove:function(t){var e=t.zrX,i=t.zrY,n=ne(this,e,i),o=this._hovered,a=o.target;a&&!a.__zr&&(a=(o=this.findHover(o.x,o.y)).target);var r=this._hovered=n?{x:e,y:i}:this.findHover(e,i),s=r.target,l=this.proxy;l.setCursor&&l.setCursor(s?s.cursor:"default"),a&&s!==a&&this.dispatchToElement(o,"mouseout",t),this.dispatchToElement(r,"mousemove",t),s&&s!==a&&this.dispatchToElement(r,"mouseover",t)},mouseout:function(t){var e=t.zrEventControl,i=t.zrIsToLocalDOM;"only_globalout"!==e&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==e&&(i||this.trigger("globalout",{type:"globalout",event:t}))},resize:function(t){this._hovered={}},dispatch:function(t,e){var i=this[t];i&&i.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,i){var n=(t=t||{}).target;if(!n||!n.silent){for(var o="on"+e,a=function(t,e,i){return{type:t,event:i,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch,which:i.which,stop:Jt}}(e,t,i);n&&(n[o]&&(a.cancelBubble=n[o].call(n,a)),n.trigger(e,a),n=n.parent,!a.cancelBubble););a.cancelBubble||(this.trigger(e,a),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[o]&&t[o].call(t,a),t.trigger&&t.trigger(e,a)}))}},findHover:function(t,e,i){for(var n=this.storage.getDisplayList(),o={x:t,y:e},a=n.length-1;0<=a;a--){var r;if(n[a]!==i&&!n[a].ignore&&(r=ie(n[a],t,e))&&(o.topTarget||(o.topTarget=n[a]),r!==$t)){o.target=n[a];break}}return o},processGesture:function(t,e){this._gestureMgr||(this._gestureMgr=new jt);var i=this._gestureMgr;"start"===e&&i.clear();var n=i.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&i.clear(),n){var o=n.type;t.gestureEvent=o,this.dispatchToElement({target:n.target},o,n.event)}}},E(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(r){te.prototype[r]=function(t){var e,i,n=t.zrX,o=t.zrY,a=ne(this,n,o);if("mouseup"===r&&a||(i=(e=this.findHover(n,o)).target),"mousedown"===r)this._downEl=i,this._downPoint=[t.zrX,t.zrY],this._upEl=i;else if("mouseup"===r)this._upEl=i;else if("click"===r){if(this._downEl!==this._upEl||!this._downPoint||4<yt(this._downPoint,[t.zrX,t.zrY]))return;this._downPoint=null}this.dispatchToElement(e,r,t)}}),b(te,Ct),b(te,Tt);var oe="undefined"==typeof Float32Array?Array:Float32Array;function ae(){var t=new oe(6);return re(t),t}function re(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function se(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function le(t,e,i){var n=e[0]*i[0]+e[2]*i[1],o=e[1]*i[0]+e[3]*i[1],a=e[0]*i[2]+e[2]*i[3],r=e[1]*i[2]+e[3]*i[3],s=e[0]*i[4]+e[2]*i[5]+e[4],l=e[1]*i[4]+e[3]*i[5]+e[5];return t[0]=n,t[1]=o,t[2]=a,t[3]=r,t[4]=s,t[5]=l,t}function ue(t,e,i){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+i[0],t[5]=e[5]+i[1],t}function he(t,e,i){var n=e[0],o=e[2],a=e[4],r=e[1],s=e[3],l=e[5],u=Math.sin(i),h=Math.cos(i);return t[0]=n*h+r*u,t[1]=-n*u+r*h,t[2]=o*h+s*u,t[3]=-o*u+h*s,t[4]=h*a+u*l,t[5]=h*l-u*a,t}function ce(t,e,i){var n=i[0],o=i[1];return t[0]=e[0]*n,t[1]=e[1]*o,t[2]=e[2]*n,t[3]=e[3]*o,t[4]=e[4]*n,t[5]=e[5]*o,t}function de(t,e){var i=e[0],n=e[2],o=e[4],a=e[1],r=e[3],s=e[5],l=i*r-a*n;return l?(l=1/l,t[0]=r*l,t[1]=-a*l,t[2]=-n*l,t[3]=i*l,t[4]=(n*s-r*o)*l,t[5]=(a*o-i*s)*l,t):null}function fe(t){var e=ae();return se(e,t),e}var pe=(Object.freeze||Object)({create:ae,identity:re,copy:se,mul:le,translate:ue,rotate:he,scale:ce,invert:de,clone:fe}),ge=re;function me(t){return 5e-5<t||t<-5e-5}var ve=function(t){(t=t||{}).position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},ye=ve.prototype;ye.transform=null,ye.needLocalTransform=function(){return me(this.rotation)||me(this.position[0])||me(this.position[1])||me(this.scale[0]-1)||me(this.scale[1]-1)};var xe=[];ye.updateTransform=function(){var t=this.parent,e=t&&t.transform,i=this.needLocalTransform(),n=this.transform;if(i||e){n=n||ae(),i?this.getLocalTransform(n):ge(n),e&&(i?le(n,t.transform,n):se(n,t.transform)),this.transform=n;var o=this.globalScaleRatio;if(null!=o&&1!==o){this.getGlobalScale(xe);var a=xe[0]<0?-1:1,r=xe[1]<0?-1:1,s=((xe[0]-a)*o+a)/xe[0]||0,l=((xe[1]-r)*o+r)/xe[1]||0;n[0]*=s,n[1]*=s,n[2]*=l,n[3]*=l}this.invTransform=this.invTransform||ae(),de(this.invTransform,n)}else n&&ge(n)},ye.getLocalTransform=function(t){return ve.getLocalTransform(this,t)},ye.setTransform=function(t){var e=this.transform,i=t.dpr||1;e?t.setTransform(i*e[0],i*e[1],i*e[2],i*e[3],i*e[4],i*e[5]):t.setTransform(i,0,0,i,0,0)},ye.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var _e=[],we=ae();ye.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],i=t[2]*t[2]+t[3]*t[3],n=this.position,o=this.scale;me(e-1)&&(e=Math.sqrt(e)),me(i-1)&&(i=Math.sqrt(i)),t[0]<0&&(e=-e),t[3]<0&&(i=-i),n[0]=t[4],n[1]=t[5],o[0]=e,o[1]=i,this.rotation=Math.atan2(-t[1]/i,t[0]/e)}},ye.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(le(_e,t.invTransform,e),e=_e);var i=this.origin;i&&(i[0]||i[1])&&(we[4]=i[0],we[5]=i[1],le(_e,e,we),_e[4]-=i[0],_e[5]-=i[1],e=_e),this.setLocalTransform(e)}},ye.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1])):(t[0]=1,t[1]=1),t},ye.transformCoordToLocal=function(t,e){var i=[t,e],n=this.invTransform;return n&&bt(i,i,n),i},ye.transformCoordToGlobal=function(t,e){var i=[t,e],n=this.transform;return n&&bt(i,i,n),i},ve.getLocalTransform=function(t,e){ge(e=e||[]);var i=t.origin,n=t.scale||[1,1],o=t.rotation||0,a=t.position||[0,0];return i&&(e[4]-=i[0],e[5]-=i[1]),ce(e,e,n),o&&he(e,e,o),i&&(e[4]+=i[0],e[5]+=i[1]),e[4]+=a[0],e[5]+=a[1],e};var be={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,i=.1;return 0===t?0:1===t?1:(e=!i||i<1?(i=1,.1):.4*Math.asin(1/i)/(2*Math.PI),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(e=!i||i<1?(i=1,.1):.4*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(e=!i||i<1?(i=1,.1):.4*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){return t*t*(2.70158*t-1.70158)},backOut:function(t){return--t*t*(2.70158*t+1.70158)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((1+e)*t-e)*.5:.5*((t-=2)*t*((1+e)*t+e)+2)},bounceIn:function(t){return 1-be.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*be.bounceIn(2*t):.5*be.bounceOut(2*t-1)+.5}};function Se(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}Se.prototype={constructor:Se,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var i=(t-this._startTime-this._pausedTime)/this._life;if(!(i<0)){i=Math.min(i,1);var n=this.easing,o="string"==typeof n?be[n]:n,a="function"==typeof o?o(i):i;return this.fire("frame",a),1===i?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){this[t="on"+t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};function Me(){this.head=null,this.tail=null,this._len=0}var Ie=Me.prototype;Ie.insert=function(t){var e=new Ae(t);return this.insertEntry(e),e},Ie.insertEntry=function(t){this.head?((this.tail.next=t).prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},Ie.remove=function(t){var e=t.prev,i=t.next;e?e.next=i:this.head=i,i?i.prev=e:this.tail=e,t.next=t.prev=null,this._len--},Ie.len=function(){return this._len},Ie.clear=function(){this.head=this.tail=null,this._len=0};function Te(t){this._list=new Me,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null}var Ae=function(t){this.value=t,this.next,this.prev},De=Te.prototype;De.put=function(t,e){var i=this._list,n=this._map,o=null;if(null==n[t]){var a=i.len(),r=this._lastRemovedEntry;if(a>=this._maxSize&&0<a){var s=i.head;i.remove(s),delete n[s.key],o=s.value,this._lastRemovedEntry=s}r?r.value=e:r=new Ae(e),r.key=t,i.insertEntry(r),n[t]=r}return o},De.get=function(t){var e=this._map[t],i=this._list;if(null!=e)return e!==i.tail&&(i.remove(e),i.insertEntry(e)),e.value},De.clear=function(){this._list.clear(),this._map={}};var Ce={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Le(t){return(t=Math.round(t))<0?0:255<t?255:t}function ke(t){return t<0?0:1<t?1:t}function Pe(t){return t.length&&"%"===t.charAt(t.length-1)?Le(parseFloat(t)/100*255):Le(parseInt(t,10))}function Ne(t){return t.length&&"%"===t.charAt(t.length-1)?ke(parseFloat(t)/100):ke(parseFloat(t))}function Oe(t,e,i){return i<0?i+=1:1<i&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function Ee(t,e,i){return t+(e-t)*i}function Re(t,e,i,n,o){return t[0]=e,t[1]=i,t[2]=n,t[3]=o,t}function ze(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var Be=new Te(20),Ve=null;function Ge(t,e){Ve&&ze(Ve,e),Ve=Be.put(t,Ve||e.slice())}function Fe(t,e){if(t){e=e||[];var i=Be.get(t);if(i)return ze(e,i);var n,o=(t+="").replace(/ /g,"").toLowerCase();if(o in Ce)return ze(e,Ce[o]),Ge(t,e),e;if("#"===o.charAt(0))return 4===o.length?0<=(n=parseInt(o.substr(1),16))&&n<=4095?(Re(e,(3840&n)>>4|(3840&n)>>8,240&n|(240&n)>>4,15&n|(15&n)<<4,1),Ge(t,e),e):void Re(e,0,0,0,1):7===o.length?0<=(n=parseInt(o.substr(1),16))&&n<=16777215?(Re(e,(16711680&n)>>16,(65280&n)>>8,255&n,1),Ge(t,e),e):void Re(e,0,0,0,1):void 0;var a=o.indexOf("("),r=o.indexOf(")");if(-1!==a&&r+1===o.length){var s=o.substr(0,a),l=o.substr(a+1,r-(a+1)).split(","),u=1;switch(s){case"rgba":if(4!==l.length)return void Re(e,0,0,0,1);u=Ne(l.pop());case"rgb":return 3!==l.length?void Re(e,0,0,0,1):(Re(e,Pe(l[0]),Pe(l[1]),Pe(l[2]),u),Ge(t,e),e);case"hsla":return 4!==l.length?void Re(e,0,0,0,1):(l[3]=Ne(l[3]),We(l,e),Ge(t,e),e);case"hsl":return 3!==l.length?void Re(e,0,0,0,1):(We(l,e),Ge(t,e),e);default:return}}Re(e,0,0,0,1)}}function We(t,e){var i=(parseFloat(t[0])%360+360)%360/360,n=Ne(t[1]),o=Ne(t[2]),a=o<=.5?o*(n+1):o+n-o*n,r=2*o-a;return Re(e=e||[],Le(255*Oe(r,a,i+1/3)),Le(255*Oe(r,a,i)),Le(255*Oe(r,a,i-1/3)),1),4===t.length&&(e[3]=t[3]),e}function He(t,e){var i=Fe(t);if(i){for(var n=0;n<3;n++)i[n]=e<0?i[n]*(1-e)|0:(255-i[n])*e+i[n]|0,255<i[n]?i[n]=255:t[n]<0&&(i[n]=0);return $e(i,4===i.length?"rgba":"rgb")}}function Ze(t){var e=Fe(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function Ue(t,e,i){if(e&&e.length&&0<=t&&t<=1){i=i||[];var n=t*(e.length-1),o=Math.floor(n),a=Math.ceil(n),r=e[o],s=e[a],l=n-o;return i[0]=Le(Ee(r[0],s[0],l)),i[1]=Le(Ee(r[1],s[1],l)),i[2]=Le(Ee(r[2],s[2],l)),i[3]=ke(Ee(r[3],s[3],l)),i}}var Xe=Ue;function Ye(t,e,i){if(e&&e.length&&0<=t&&t<=1){var n=t*(e.length-1),o=Math.floor(n),a=Math.ceil(n),r=Fe(e[o]),s=Fe(e[a]),l=n-o,u=$e([Le(Ee(r[0],s[0],l)),Le(Ee(r[1],s[1],l)),Le(Ee(r[2],s[2],l)),ke(Ee(r[3],s[3],l))],"rgba");return i?{color:u,leftIndex:o,rightIndex:a,value:n}:u}}var je=Ye;function qe(t,e,i,n){if(t=Fe(t))return t=function(t){if(t){var e,i,n=t[0]/255,o=t[1]/255,a=t[2]/255,r=Math.min(n,o,a),s=Math.max(n,o,a),l=s-r,u=(s+r)/2;if(0==l)i=e=0;else{i=u<.5?l/(s+r):l/(2-s-r);var h=((s-n)/6+l/2)/l,c=((s-o)/6+l/2)/l,d=((s-a)/6+l/2)/l;n===s?e=d-c:o===s?e=1/3+h-d:a===s&&(e=2/3+c-h),e<0&&(e+=1),1<e&&(e-=1)}var f=[360*e,i,u];return null!=t[3]&&f.push(t[3]),f}}(t),null!=e&&(t[0]=function(t){return(t=Math.round(t))<0?0:360<t?360:t}(e)),null!=i&&(t[1]=Ne(i)),null!=n&&(t[2]=Ne(n)),$e(We(t),"rgba")}function Ke(t,e){if((t=Fe(t))&&null!=e)return t[3]=ke(e),$e(t,"rgba")}function $e(t,e){if(t&&t.length){var i=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(i+=","+t[3]),e+"("+i+")"}}var Je=(Object.freeze||Object)({parse:Fe,lift:He,toHex:Ze,fastLerp:Ue,fastMapToColor:Xe,lerp:Ye,mapToColor:je,modifyHSL:qe,modifyAlpha:Ke,stringify:$e}),Qe=Array.prototype.slice;function ti(t,e){return t[e]}function ei(t,e,i){t[e]=i}function ii(t,e,i){return(e-t)*i+t}function ni(t,e,i){return.5<i?e:t}function oi(t,e,i,n,o){var a=t.length;if(1===o)for(var r=0;r<a;r++)n[r]=ii(t[r],e[r],i);else{var s=a&&t[0].length;for(r=0;r<a;r++)for(var l=0;l<s;l++)n[r][l]=ii(t[r][l],e[r][l],i)}}function ai(t,e,i){var n=t.length,o=e.length;if(n!==o)if(o<n)t.length=o;else for(var a=n;a<o;a++)t.push(1===i?e[a]:Qe.call(e[a]));var r=t[0]&&t[0].length;for(a=0;a<t.length;a++)if(1===i)isNaN(t[a])&&(t[a]=e[a]);else for(var s=0;s<r;s++)isNaN(t[a][s])&&(t[a][s]=e[a][s])}function ri(t,e,i){if(t===e)return!0;var n=t.length;if(n!==e.length)return!1;if(1===i){for(var o=0;o<n;o++)if(t[o]!==e[o])return!1}else{var a=t[0].length;for(o=0;o<n;o++)for(var r=0;r<a;r++)if(t[o][r]!==e[o][r])return!1}return!0}function si(t,e,i,n,o,a,r,s,l){var u=t.length;if(1===l)for(var h=0;h<u;h++)s[h]=li(t[h],e[h],i[h],n[h],o,a,r);else{var c=t[0].length;for(h=0;h<u;h++)for(var d=0;d<c;d++)s[h][d]=li(t[h][d],e[h][d],i[h][d],n[h][d],o,a,r)}}function li(t,e,i,n,o,a,r){var s=.5*(i-t),l=.5*(n-e);return(2*(e-i)+s+l)*r+(-3*(e-i)-2*s-l)*a+s*o+e}function ui(t){if(P(t)){var e=t.length;if(P(t[0])){for(var i=[],n=0;n<e;n++)i.push(Qe.call(t[n]));return i}return Qe.call(t)}return t}function hi(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function ci(t,e,i,n,a,o){var r=t._getter,s=t._setter,l="spline"===e,u=n.length;if(u){var h,c=P(n[0].value),d=!1,f=!1,p=c?function(t){var e=t[t.length-1].value;return P(e&&e[0])?2:1}(n):0;n.sort(function(t,e){return t.time-e.time}),h=n[u-1].time;for(var g=[],m=[],v=n[0].value,y=!0,x=0;x<u;x++){g.push(n[x].time/h);var _=n[x].value;if(c&&ri(_,v,p)||!c&&_===v||(y=!1),"string"==typeof(v=_)){var w=Fe(_);w?(_=w,d=!0):f=!0}m.push(_)}if(o||!y){var b=m[u-1];for(x=0;x<u-1;x++)c?ai(m[x],b,p):!isNaN(m[x])||isNaN(b)||f||d||(m[x]=b);c&&ai(r(t._target,a),b,p);var S,M,I,T,A,D=0,C=0;if(d)var L=[0,0,0,0];var k=new Se({target:t._target,life:h,loop:t._loop,delay:t._delay,onframe:function(t,e){var i;if(e<0)i=0;else if(e<C){for(i=Math.min(D+1,u-1);0<=i&&!(g[i]<=e);i--);i=Math.min(i,u-2)}else{for(i=D;i<u&&!(g[i]>e);i++);i=Math.min(i-1,u-2)}C=e;var n=g[(D=i)+1]-g[i];if(0!=n)if(S=(e-g[i])/n,l)if(I=m[i],M=m[0===i?i:i-1],T=m[u-2<i?u-1:i+1],A=m[u-3<i?u-1:i+2],c)si(M,I,T,A,S,S*S,S*S*S,r(t,a),p);else{if(d)o=si(M,I,T,A,S,S*S,S*S*S,L,1),o=hi(L);else{if(f)return ni(I,T,S);o=li(M,I,T,A,S,S*S,S*S*S)}s(t,a,o)}else if(c)oi(m[i],m[i+1],S,r(t,a),p);else{var o;if(d)oi(m[i],m[i+1],S,L,1),o=hi(L);else{if(f)return ni(m[i],m[i+1],S);o=ii(m[i],m[i+1],S)}s(t,a,o)}},ondestroy:i});return e&&"spline"!==e&&(k.easing=e),k}}}function di(t,e,i,n){this._tracks={},this._target=t,this._loop=e||!1,this._getter=i||ti,this._setter=n||ei,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]}di.prototype={when:function(t,e){var i=this._tracks;for(var n in e)if(e.hasOwnProperty(n)){if(!i[n]){i[n]=[];var o=this._getter(this._target,n);if(null==o)continue;0!==t&&i[n].push({time:0,value:ui(o)})}i[n].push({time:t,value:e[n]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,i=0;i<e;i++)t[i].call(this)},start:function(t,e){function i(){--a||o._doneCallback()}var n,o=this,a=0;for(var r in this._tracks)if(this._tracks.hasOwnProperty(r)){var s=ci(this,t,i,this._tracks[r],r,e);s&&(this._clipList.push(s),a++,this.animation&&this.animation.addClip(s),n=s)}if(n){var l=n.onframe;n.onframe=function(t,e){l(t,e);for(var i=0;i<o._onframeList.length;i++)o._onframeList[i](t,e)}}return a||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,i=this.animation,n=0;n<e.length;n++){var o=e[n];t&&o.onframe(this._target,1),i&&i.removeClip(o)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};var fi=1;"undefined"!=typeof window&&(fi=Math.max(window.devicePixelRatio||1,1));var pi=fi,gi=function(){};function mi(){this.animators=[]}var vi=gi;function yi(t,e,i,n,o,a,r,s){R(n)?(a=o,o=n,n=0):C(o)?(a=o,o="linear",n=0):C(n)?(a=n,n=0):i=C(i)?(a=i,500):i||500,t.stopAnimation(),function t(e,i,n,o,a,r,s){var l={};var u=0;for(var h in o)o.hasOwnProperty(h)&&(null!=n[h]?z(o[h])&&!P(o[h])?t(e,i?i+"."+h:h,n[h],o[h],a,r,s):(s?(l[h]=n[h],xi(e,i,h,o[h])):l[h]=o[h],u++):null==o[h]||s||xi(e,i,h,o[h]));0<u&&e.animate(i,!1).when(null==a?500:a,l).delay(r||0)}(t,"",t,e,i,n,s);var l=t.animators.slice(),u=l.length;function h(){--u||a&&a()}u||a&&a();for(var c=0;c<l.length;c++)l[c].done(h).start(o,r)}function xi(t,e,i,n){if(e){var o={};o[e]={},o[e][i]=n,t.attr(o)}else t.attr(i,n)}mi.prototype={constructor:mi,animate:function(t,e){var i,n=!1,o=this,a=this.__zr;if(t){var r=t.split("."),s=o;n="shape"===r[0];for(var l=0,u=r.length;l<u;l++)s=s&&s[r[l]];s&&(i=s)}else i=o;if(i){var h=o.animators,c=new di(i,e);return c.during(function(t){o.dirty(n)}).done(function(){h.splice(_(h,c),1)}),h.push(c),a&&a.animation.addAnimator(c),c}vi('Property "'+t+'" is not existed in element '+o.id)},stopAnimation:function(t){for(var e=this.animators,i=e.length,n=0;n<i;n++)e[n].stop(t);return e.length=0,this},animateTo:function(t,e,i,n,o,a){yi(this,t,e,i,n,o,a)},animateFrom:function(t,e,i,n,o,a){yi(this,t,e,i,n,o,a,!0)}};var _i=function(t){ve.call(this,t),Ct.call(this,t),mi.call(this,t),this.id=t.id||n()};_i.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var i=this.transform;(i=i||(this.transform=[1,0,0,1,0,0]))[4]+=t,i[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var i=this[t];(i=i||(this[t]=[]))[0]=e[0],i[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(z(t))for(var i in t)t.hasOwnProperty(i)&&this.attrKV(i,t[i]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),(this.clipPath=t).__zr=e,(t.__clipTarget=this).dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.addAnimator(e[i]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.removeAnimator(e[i]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},b(_i,mi),b(_i,ve),b(_i,Ct);var wi,bi,Si,Mi,Ii=bt,Ti=Math.min,Ai=Math.max;function Di(t,e,i,n){i<0&&(t+=i,i=-i),n<0&&(e+=n,n=-n),this.x=t,this.y=e,this.width=i,this.height=n}Di.prototype={constructor:Di,union:function(t){var e=Ti(t.x,this.x),i=Ti(t.y,this.y);this.width=Ai(t.x+t.width,this.x+this.width)-e,this.height=Ai(t.y+t.height,this.y+this.height)-i,this.x=e,this.y=i},applyTransform:(wi=[],bi=[],Si=[],Mi=[],function(t){if(t){wi[0]=Si[0]=this.x,wi[1]=Mi[1]=this.y,bi[0]=Mi[0]=this.x+this.width,bi[1]=Si[1]=this.y+this.height,Ii(wi,wi,t),Ii(bi,bi,t),Ii(Si,Si,t),Ii(Mi,Mi,t),this.x=Ti(wi[0],bi[0],Si[0],Mi[0]),this.y=Ti(wi[1],bi[1],Si[1],Mi[1]);var e=Ai(wi[0],bi[0],Si[0],Mi[0]),i=Ai(wi[1],bi[1],Si[1],Mi[1]);this.width=e-this.x,this.height=i-this.y}}),calculateTransform:function(t){var e=t.width/this.width,i=t.height/this.height,n=ae();return ue(n,n,[-this.x,-this.y]),ce(n,n,[e,i]),ue(n,n,[t.x,t.y]),n},intersect:function(t){if(!t)return!1;t instanceof Di||(t=Di.create(t));var e=this,i=e.x,n=e.x+e.width,o=e.y,a=e.y+e.height,r=t.x,s=t.x+t.width,l=t.y,u=t.y+t.height;return!(n<r||s<i||a<l||u<o)},contain:function(t,e){var i=this;return t>=i.x&&t<=i.x+i.width&&e>=i.y&&e<=i.y+i.height},clone:function(){return new Di(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},Di.create=function(t){return new Di(t.x,t.y,t.width,t.height)};var Ci=function(t){for(var e in t=t||{},_i.call(this,t),t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};Ci.prototype={constructor:Ci,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,i=0;i<e.length;i++)if(e[i].name===t)return e[i]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var i=this._children,n=i.indexOf(e);0<=n&&(i.splice(n,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t);var e=(t.parent=this).__storage,i=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof Ci&&t.addChildrenToStorage(e)),i&&i.refresh()},remove:function(t){var e=this.__zr,i=this.__storage,n=this._children,o=_(n,t);return o<0||(n.splice(o,1),t.parent=null,i&&(i.delFromStorage(t),t instanceof Ci&&t.delChildrenFromStorage(i)),e&&e.refresh()),this},removeAll:function(){var t,e,i=this._children,n=this.__storage;for(e=0;e<i.length;e++)t=i[e],n&&(n.delFromStorage(t),t instanceof Ci&&t.delChildrenFromStorage(n)),t.parent=null;return i.length=0,this},eachChild:function(t,e){for(var i=this._children,n=0;n<i.length;n++){var o=i[n];t.call(e,o,n)}return this},traverse:function(t,e){for(var i=0;i<this._children.length;i++){var n=this._children[i];t.call(e,n),"group"===n.type&&n.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.addToStorage(i),i instanceof Ci&&i.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.delFromStorage(i),i instanceof Ci&&i.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,i=new Di(0,0,0,0),n=t||this._children,o=[],a=0;a<n.length;a++){var r=n[a];if(!r.ignore&&!r.invisible){var s=r.getBoundingRect(),l=r.getLocalTransform(o);l?(i.copy(s),i.applyTransform(l),(e=e||i.clone()).union(i)):(e=e||s.clone()).union(s)}}return e||i}},w(Ci,_i);var Li=32,ki=7;function Pi(t,e,i,n){var o=e+1;if(o===i)return 1;if(n(t[o++],t[e])<0){for(;o<i&&n(t[o],t[o-1])<0;)o++;!function(t,e,i){i--;for(;e<i;){var n=t[e];t[e++]=t[i],t[i--]=n}}(t,e,o)}else for(;o<i&&0<=n(t[o],t[o-1]);)o++;return o-e}function Ni(t,e,i,n,o){for(n===e&&n++;n<i;n++){for(var a,r=t[n],s=e,l=n;s<l;)o(r,t[a=s+l>>>1])<0?l=a:s=1+a;var u=n-s;switch(u){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;0<u;)t[s+u]=t[s+u-1],u--}t[s]=r}}function Oi(t,e,i,n,o,a){var r=0,s=0,l=1;if(0<a(t,e[i+o])){for(s=n-o;l<s&&0<a(t,e[i+o+l]);)(l=1+((r=l)<<1))<=0&&(l=s);s<l&&(l=s),r+=o,l+=o}else{for(s=o+1;l<s&&a(t,e[i+o-l])<=0;)(l=1+((r=l)<<1))<=0&&(l=s);s<l&&(l=s);var u=r;r=o-l,l=o-u}for(r++;r<l;){var h=r+(l-r>>>1);0<a(t,e[i+h])?r=h+1:l=h}return l}function Ei(t,e,i,n,o,a){var r=0,s=0,l=1;if(a(t,e[i+o])<0){for(s=o+1;l<s&&a(t,e[i+o-l])<0;)(l=1+((r=l)<<1))<=0&&(l=s);s<l&&(l=s);var u=r;r=o-l,l=o-u}else{for(s=n-o;l<s&&0<=a(t,e[i+o+l]);)(l=1+((r=l)<<1))<=0&&(l=s);s<l&&(l=s),r+=o,l+=o}for(r++;r<l;){var h=r+(l-r>>>1);a(t,e[i+h])<0?l=h:r=h+1}return l}function Ri(p,g){var r,s,m=ki,l=0,v=[];function e(t){var e=r[t],i=s[t],n=r[t+1],o=s[t+1];s[t]=i+o,t===l-3&&(r[t+1]=r[t+2],s[t+1]=s[t+2]),l--;var a=Ei(p[n],p,e,i,0,g);e+=a,0!==(i-=a)&&0!==(o=Oi(p[e+i-1],p,n,o,o-1,g))&&(i<=o?function(t,e,i,n){var o=0;for(o=0;o<e;o++)v[o]=p[t+o];var a=0,r=i,s=t;if(p[s++]=p[r++],0==--n){for(o=0;o<e;o++)p[s+o]=v[a+o];return}if(1===e){for(o=0;o<n;o++)p[s+o]=p[r+o];return p[s+n]=v[a]}var l,u,h,c=m;for(;;){u=l=0,h=!1;do{if(g(p[r],v[a])<0){if(p[s++]=p[r++],u++,(l=0)==--n){h=!0;break}}else if(p[s++]=v[a++],l++,u=0,1==--e){h=!0;break}}while((l|u)<c);if(h)break;do{if(0!==(l=Ei(p[r],v,a,e,0,g))){for(o=0;o<l;o++)p[s+o]=v[a+o];if(s+=l,a+=l,(e-=l)<=1){h=!0;break}}if(p[s++]=p[r++],0==--n){h=!0;break}if(0!==(u=Oi(v[a],p,r,n,0,g))){for(o=0;o<u;o++)p[s+o]=p[r+o];if(s+=u,r+=u,0===(n-=u)){h=!0;break}}if(p[s++]=v[a++],1==--e){h=!0;break}c--}while(ki<=l||ki<=u);if(h)break;c<0&&(c=0),c+=2}if((m=c)<1&&(m=1),1===e){for(o=0;o<n;o++)p[s+o]=p[r+o];p[s+n]=v[a]}else{if(0===e)throw new Error;for(o=0;o<e;o++)p[s+o]=v[a+o]}}(e,i,n,o):function(t,e,i,n){var o=0;for(o=0;o<n;o++)v[o]=p[i+o];var a=t+e-1,r=n-1,s=i+n-1,l=0,u=0;if(p[s--]=p[a--],0==--e){for(l=s-(n-1),o=0;o<n;o++)p[l+o]=v[o];return}if(1===n){for(u=(s-=e)+1,l=(a-=e)+1,o=e-1;0<=o;o--)p[u+o]=p[l+o];return p[s]=v[r]}var h=m;for(;;){var c=0,d=0,f=!1;do{if(g(v[r],p[a])<0){if(p[s--]=p[a--],c++,(d=0)==--e){f=!0;break}}else if(p[s--]=v[r--],d++,c=0,1==--n){f=!0;break}}while((c|d)<h);if(f)break;do{if(0!==(c=e-Ei(v[r],p,t,e,e-1,g))){for(e-=c,u=(s-=c)+1,l=(a-=c)+1,o=c-1;0<=o;o--)p[u+o]=p[l+o];if(0===e){f=!0;break}}if(p[s--]=v[r--],1==--n){f=!0;break}if(0!==(d=n-Oi(p[a],v,0,n,n-1,g))){for(n-=d,u=(s-=d)+1,l=(r-=d)+1,o=0;o<d;o++)p[u+o]=v[l+o];if(n<=1){f=!0;break}}if(p[s--]=p[a--],0==--e){f=!0;break}h--}while(ki<=c||ki<=d);if(f)break;h<0&&(h=0),h+=2}(m=h)<1&&(m=1);if(1===n){for(u=(s-=e)+1,l=(a-=e)+1,o=e-1;0<=o;o--)p[u+o]=p[l+o];p[s]=v[r]}else{if(0===n)throw new Error;for(l=s-(n-1),o=0;o<n;o++)p[l+o]=v[o]}}(e,i,n,o))}r=[],s=[],this.mergeRuns=function(){for(;1<l;){var t=l-2;if(1<=t&&s[t-1]<=s[t]+s[t+1]||2<=t&&s[t-2]<=s[t]+s[t-1])s[t-1]<s[t+1]&&t--;else if(s[t]>s[t+1])break;e(t)}},this.forceMergeRuns=function(){for(;1<l;){var t=l-2;0<t&&s[t-1]<s[t+1]&&t--,e(t)}},this.pushRun=function(t,e){r[l]=t,s[l]=e,l+=1}}function zi(t,e,i,n){i=i||0;var o=(n=n||t.length)-i;if(!(o<2)){var a=0;if(o<Li)Ni(t,i,n,i+(a=Pi(t,i,n,e)),e);else{var r=new Ri(t,e),s=function(t){for(var e=0;Li<=t;)e|=1&t,t>>=1;return t+e}(o);do{if((a=Pi(t,i,n,e))<s){var l=o;s<l&&(l=s),Ni(t,i,i+l,i+a,e),a=l}r.pushRun(i,a),r.mergeRuns(),o-=a,i+=a}while(0!==o);r.forceMergeRuns()}}}function Bi(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}function Vi(){this._roots=[],this._displayList=[],this._displayListLen=0}Vi.prototype={constructor:Vi,traverse:function(t,e){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,i=this._displayList,n=0,o=e.length;n<o;n++)this._updateAndAddDisplayable(e[n],null,t);i.length=this._displayListLen,v.canvasSupported&&zi(i,Bi)},_updateAndAddDisplayable:function(t,e,i){if(!t.ignore||i){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var n=t.clipPath;if(n){e=e?e.slice():[];for(var o=n,a=t;o;)o.parent=a,o.updateTransform(),e.push(o),o=(a=o).clipPath}if(t.isGroup){for(var r=t._children,s=0;s<r.length;s++){var l=r[s];t.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,e,i)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof Ci&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var e=0;e<this._roots.length;e++){var i=this._roots[e];i instanceof Ci&&i.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array){e=0;for(var n=t.length;e<n;e++)this.delRoot(t[e])}else{var o=_(this._roots,t);0<=o&&(this.delFromStorage(t),this._roots.splice(o,1),t instanceof Ci&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t&&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:Bi};var Gi={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},Fi=function(t,e,i){return Gi.hasOwnProperty(e)?i*t.dpr:i},Wi={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},Hi=9,Zi=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],Ui=function(t){this.extendFrom(t,!1)};function Xi(t,e,i){var n=null==e.x?0:e.x,o=null==e.x2?1:e.x2,a=null==e.y?0:e.y,r=null==e.y2?0:e.y2;return e.global||(n=n*i.width+i.x,o=o*i.width+i.x,a=a*i.height+i.y,r=r*i.height+i.y),n=isNaN(n)?0:n,o=isNaN(o)?1:o,a=isNaN(a)?0:a,r=isNaN(r)?0:r,t.createLinearGradient(n,a,o,r)}function Yi(t,e,i){var n=i.width,o=i.height,a=Math.min(n,o),r=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(r=r*n+i.x,s=s*o+i.y,l*=a),t.createRadialGradient(r,s,0,r,s,l)}Ui.prototype={constructor:Ui,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,i){var n=this,o=i&&i.style,a=!o||t.__attrCachedBy!==Wi.STYLE_BIND;t.__attrCachedBy=Wi.STYLE_BIND;for(var r=0;r<Zi.length;r++){var s=Zi[r],l=s[0];!a&&n[l]===o[l]||(t[l]=Fi(t,l,n[l]||s[1]))}if(!a&&n.fill===o.fill||(t.fillStyle=n.fill),!a&&n.stroke===o.stroke||(t.strokeStyle=n.stroke),!a&&n.opacity===o.opacity||(t.globalAlpha=null==n.opacity?1:n.opacity),!a&&n.blend===o.blend||(t.globalCompositeOperation=n.blend||"source-over"),this.hasStroke()){var u=n.lineWidth;t.lineWidth=u/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&0<this.lineWidth},extendFrom:function(t,e){if(t)for(var i in t)!t.hasOwnProperty(i)||!0!==e&&(!1===e?this.hasOwnProperty(i):null==t[i])||(this[i]=t[i])},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,i){for(var n=("radial"===e.type?Yi:Xi)(t,e,i),o=e.colorStops,a=0;a<o.length;a++)n.addColorStop(o[a].offset,o[a].color);return n}};for(var ji=Ui.prototype,qi=0;qi<Zi.length;qi++){var Ki=Zi[qi];Ki[0]in ji||(ji[Ki[0]]=Ki[1])}Ui.getGradient=ji.getGradient;function $i(t,e){this.image=t,this.repeat=e,this.type="pattern"}function Ji(){return!1}function Qi(t,e,i){var n=g(),o=e.getWidth(),a=e.getHeight(),r=n.style;return r&&(r.position="absolute",r.left=0,r.top=0,r.width=o+"px",r.height=a+"px",n.setAttribute("data-zr-dom-id",t)),n.width=o*i,n.height=a*i,n}function tn(t,e,i){var n;i=i||pi,"string"==typeof t?n=Qi(t,e,i):z(t)&&(t=(n=t).id),this.id=t;var o=(this.dom=n).style;o&&(n.onselectstart=Ji,o["-webkit-user-select"]="none",o["user-select"]="none",o["-webkit-touch-callout"]="none",o["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",o.padding=0,o.margin=0,o["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=i}tn.prototype={constructor:tn,__dirty:!0,__used:!($i.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")}),__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=Qi("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},resize:function(t,e){var i=this.dpr,n=this.dom,o=n.style,a=this.domBack;o&&(o.width=t+"px",o.height=e+"px"),n.width=t*i,n.height=e*i,a&&(a.width=t*i,a.height=e*i,1!==i&&this.ctxBack.scale(i,i))},clear:function(t,e){var i,n=this.dom,o=this.ctx,a=n.width,r=n.height,s=(e=e||this.clearColor,this.motionBlur&&!t),l=this.lastFrameAlpha,u=this.dpr;s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(n,0,0,a/u,r/u)),o.clearRect(0,0,a,r),e&&"transparent"!==e&&(e.colorStops?(i=e.__canvasGradient||Ui.getGradient(o,e,{x:0,y:0,width:a,height:r}),e.__canvasGradient=i):e.image&&(i=$i.prototype.getCanvasPattern.call(e,o)),o.save(),o.fillStyle=i||e,o.fillRect(0,0,a,r),o.restore());if(s){var h=this.domBack;o.save(),o.globalAlpha=l,o.drawImage(h,0,0,a,r),o.restore()}}};var en="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)},nn=new Te(50);function on(t){if("string"!=typeof t)return t;var e=nn.get(t);return e&&e.image}function an(t,e,i,n,o){if(t){if("string"!=typeof t)return t;if(e&&e.__zrImageSrc===t||!i)return e;var a=nn.get(t),r={hostEl:i,cb:n,cbPayload:o};return a?sn(e=a.image)||a.pending.push(r):((e=new Image).onload=e.onerror=rn,nn.put(t,e.__cachedImgObj={image:e,pending:[r]}),e.src=e.__zrImageSrc=t),e}return e}function rn(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var i=t.pending[e],n=i.cb;n&&n(this,i.cbPayload),i.hostEl.dirty()}t.pending.length=0}function sn(t){return t&&t.width&&t.height}var ln={},un=0,hn=5e3,cn=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,dn="12px sans-serif",fn={};function pn(t,e){var i=t+":"+(e=e||dn);if(ln[i])return ln[i];for(var n,o,a=(t+"").split("\n"),r=0,s=0,l=a.length;s<l;s++)r=Math.max((n=a[s],o=e,fn.measureText(n,o)).width,r);return hn<un&&(un=0,ln={}),un++,ln[i]=r}function gn(t,e,i,n,o,a,r,s){return r?function(t,e,i,n,o,a,r,s){var l=In(t,{rich:r,truncate:s,font:e,textAlign:i,textPadding:o,textLineHeight:a}),u=l.outerWidth,h=l.outerHeight,c=mn(0,u,i),d=vn(0,h,n);return new Di(c,d,u,h)}(t,e,i,n,o,a,r,s):function(t,e,i,n,o,a,r){var s=Mn(t,e,o,a,r),l=pn(t,e);o&&(l+=o[1]+o[3]);var u=s.outerHeight,h=mn(0,l,i),c=vn(0,u,n),d=new Di(h,c,l,u);return d.lineHeight=s.lineHeight,d}(t,e,i,n,o,a,s)}function mn(t,e,i){return"right"===i?t-=e:"center"===i&&(t-=e/2),t}function vn(t,e,i){return"middle"===i?t-=e/2:"bottom"===i&&(t-=e),t}function yn(t,e,i){var n=e.textPosition,o=e.textDistance,a=i.x,r=i.y;o=o||0;var s=i.height,l=i.width,u=s/2,h="left",c="top";switch(n){case"left":a-=o,r+=u,h="right",c="middle";break;case"right":a+=o+l,r+=u,c="middle";break;case"top":a+=l/2,r-=o,h="center",c="bottom";break;case"bottom":a+=l/2,r+=s+o,h="center";break;case"inside":a+=l/2,r+=u,h="center",c="middle";break;case"insideLeft":a+=o,r+=u,c="middle";break;case"insideRight":a+=l-o,r+=u,h="right",c="middle";break;case"insideTop":a+=l/2,r+=o,h="center";break;case"insideBottom":a+=l/2,r+=s-o,h="center",c="bottom";break;case"insideTopLeft":a+=o,r+=o;break;case"insideTopRight":a+=l-o,r+=o,h="right";break;case"insideBottomLeft":a+=o,r+=s-o,c="bottom";break;case"insideBottomRight":a+=l-o,r+=s-o,h="right",c="bottom"}return(t=t||{}).x=a,t.y=r,t.textAlign=h,t.textVerticalAlign=c,t}function xn(t,e,i,n,o){if(!e)return"";var a=(t+"").split("\n");o=_n(e,i,n,o);for(var r=0,s=a.length;r<s;r++)a[r]=wn(a[r],o);return a.join("\n")}function _n(t,e,i,n){(n=k({},n)).font=e;i=H(i,"...");n.maxIterations=H(n.maxIterations,2);var o=n.minChar=H(n.minChar,0);n.cnCharWidth=pn("",e);var a=n.ascCharWidth=pn("a",e);n.placeholder=H(n.placeholder,"");for(var r=t=Math.max(0,t-1),s=0;s<o&&a<=r;s++)r-=a;var l=pn(i,e);return r<l&&(i="",l=0),r=t-l,n.ellipsis=i,n.ellipsisWidth=l,n.contentWidth=r,n.containerWidth=t,n}function wn(t,e){var i=e.containerWidth,n=e.font,o=e.contentWidth;if(!i)return"";var a=pn(t,n);if(a<=i)return t;for(var r=0;;r++){if(a<=o||r>=e.maxIterations){t+=e.ellipsis;break}var s=0===r?bn(t,o,e.ascCharWidth,e.cnCharWidth):0<a?Math.floor(t.length*o/a):0;a=pn(t=t.substr(0,s),n)}return""===t&&(t=e.placeholder),t}function bn(t,e,i,n){for(var o=0,a=0,r=t.length;a<r&&o<e;a++){var s=t.charCodeAt(a);o+=0<=s&&s<=127?i:n}return a}function Sn(t){return pn("",t)}function Mn(t,e,i,n,o){null!=t&&(t+="");var a=H(n,Sn(e)),r=t?t.split("\n"):[],s=r.length*a,l=s,u=!0;if(i&&(l+=i[0]+i[2]),t&&o){u=!1;var h=o.outerHeight,c=o.outerWidth;if(null!=h&&h<l)t="",r=[];else if(null!=c)for(var d=_n(c-(i?i[1]+i[3]:0),e,o.ellipsis,{minChar:o.minChar,placeholder:o.placeholder}),f=0,p=r.length;f<p;f++)r[f]=wn(r[f],d)}return{lines:r,height:s,outerHeight:l,lineHeight:a,canCacheByTextString:u}}function In(t,e){var i={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return i;for(var n,o=cn.lastIndex=0;null!=(n=cn.exec(t));){var a=n.index;o<a&&Tn(i,t.substring(o,a)),Tn(i,n[2],n[1]),o=cn.lastIndex}o<t.length&&Tn(i,t.substring(o,t.length));var r=i.lines,s=0,l=0,u=[],h=e.textPadding,c=e.truncate,d=c&&c.outerWidth,f=c&&c.outerHeight;h&&(null!=d&&(d-=h[1]+h[3]),null!=f&&(f-=h[0]+h[2]));for(var p=0;p<r.length;p++){for(var g=r[p],m=0,v=0,y=0;y<g.tokens.length;y++){var x=(C=g.tokens[y]).styleName&&e.rich[C.styleName]||{},_=C.textPadding=x.textPadding,w=C.font=x.font||e.font,b=C.textHeight=H(x.textHeight,Sn(w));if(_&&(b+=_[0]+_[2]),C.height=b,C.lineHeight=Z(x.textLineHeight,e.textLineHeight,b),C.textAlign=x&&x.textAlign||e.textAlign,C.textVerticalAlign=x&&x.textVerticalAlign||"middle",null!=f&&s+C.lineHeight>f)return{lines:[],width:0,height:0};C.textWidth=pn(C.text,w);var S=x.textWidth,M=null==S||"auto"===S;if("string"==typeof S&&"%"===S.charAt(S.length-1))C.percentWidth=S,u.push(C),S=0;else{if(M){S=C.textWidth;var I=x.textBackgroundColor,T=I&&I.image;T&&sn(T=on(T))&&(S=Math.max(S,T.width*b/T.height))}var A=_?_[1]+_[3]:0;S+=A;var D=null!=d?d-v:null;null!=D&&D<S&&(!M||D<A?(C.text="",C.textWidth=S=0):(C.text=xn(C.text,D-A,w,c.ellipsis,{minChar:c.minChar}),C.textWidth=pn(C.text,w),S=C.textWidth+A))}v+=C.width=S,x&&(m=Math.max(m,C.lineHeight))}g.width=v,s+=g.lineHeight=m,l=Math.max(l,v)}i.outerWidth=i.width=H(e.textWidth,l),i.outerHeight=i.height=H(e.textHeight,s),h&&(i.outerWidth+=h[1]+h[3],i.outerHeight+=h[0]+h[2]);for(p=0;p<u.length;p++){var C,L=(C=u[p]).percentWidth;C.width=parseInt(L,10)/100*l}return i}function Tn(t,e,i){for(var n=""===e,o=e.split("\n"),a=t.lines,r=0;r<o.length;r++){var s=o[r],l={styleName:i,text:s,isLineHolder:!s&&!n};if(r)a.push({tokens:[l]});else{var u=(a[a.length-1]||(a[0]={tokens:[]})).tokens,h=u.length;1===h&&u[0].isLineHolder?u[0]=l:!s&&h&&!n||u.push(l)}}}function An(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ");return e&&j(e)||t.textFont||t.font}function Dn(t,e){var i,n,o,a,r,s=e.x,l=e.y,u=e.width,h=e.height,c=e.r;u<0&&(s+=u,u=-u),h<0&&(l+=h,h=-h),"number"==typeof c?i=n=o=a=c:c instanceof Array?1===c.length?i=n=o=a=c[0]:2===c.length?(i=o=c[0],n=a=c[1]):3===c.length?(i=c[0],n=a=c[1],o=c[2]):(i=c[0],n=c[1],o=c[2],a=c[3]):i=n=o=a=0,u<i+n&&(i*=u/(r=i+n),n*=u/r),u<o+a&&(o*=u/(r=o+a),a*=u/r),h<n+o&&(n*=h/(r=n+o),o*=h/r),h<i+a&&(i*=h/(r=i+a),a*=h/r),t.moveTo(s+i,l),t.lineTo(s+u-n,l),0!==n&&t.arc(s+u-n,l+n,n,-Math.PI/2,0),t.lineTo(s+u,l+h-o),0!==o&&t.arc(s+u-o,l+h-o,o,0,Math.PI/2),t.lineTo(s+a,l+h),0!==a&&t.arc(s+a,l+h-a,a,Math.PI/2,Math.PI),t.lineTo(s,l+i),0!==i&&t.arc(s+i,l+i,i,Math.PI,1.5*Math.PI)}fn.measureText=function(t,e){var i=x();return i.font=e||dn,i.measureText(t)};var Cn=dn,Ln={left:1,right:1,center:1},kn={top:1,bottom:1,middle:1},Pn=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],Nn={},On={};function En(t){return Rn(t),E(t.rich,Rn),t}function Rn(t){if(t){t.font=An(t);var e=t.textAlign;"middle"===e&&(e="center"),t.textAlign=null==e||Ln[e]?e:"left";var i=t.textVerticalAlign||t.textBaseline;"center"===i&&(i="middle"),t.textVerticalAlign=null==i||kn[i]?i:"top",t.textPadding&&(t.textPadding=X(t.textPadding))}}function zn(t,e,i,n,o,a){n.rich?function(t,e,i,n,o,a){a!==Hi&&(e.__attrCachedBy=Wi.NONE);var r=t.__textCotentBlock;r&&!t.__dirtyText||(r=t.__textCotentBlock=In(i,n));!function(t,e,i,n,o){var a=i.width,r=i.outerWidth,s=i.outerHeight,l=n.textPadding,u=Hn(On,t,n,o),h=u.baseX,c=u.baseY,d=u.textAlign,f=u.textVerticalAlign;Bn(e,n,o,h,c);var p=mn(h,r,d),g=vn(c,s,f),m=p,v=g;l&&(m+=l[3],v+=l[0]);var y=m+a;Gn(n)&&Fn(t,e,n,p,g,r,s);for(var x=0;x<i.lines.length;x++){for(var _,w=i.lines[x],b=w.tokens,S=b.length,M=w.lineHeight,I=w.width,T=0,A=m,D=y,C=S-1;T<S&&(!(_=b[T]).textAlign||"left"===_.textAlign);)Vn(t,e,_,n,M,v,A,"left"),I-=_.width,A+=_.width,T++;for(;0<=C&&"right"===(_=b[C]).textAlign;)Vn(t,e,_,n,M,v,D,"right"),I-=_.width,D-=_.width,C--;for(A+=(a-(A-m)-(y-D)-I)/2;T<=C;)_=b[T],Vn(t,e,_,n,M,v,A+_.width/2,"center"),A+=_.width,T++;v+=M}}(t,e,r,n,o)}(t,e,i,n,o,a):function(t,e,i,n,o,a){var r,s=Gn(n),l=!1,u=e.__attrCachedBy===Wi.PLAIN_TEXT;a!==Hi?(a&&(r=a.style,l=!s&&u&&r),e.__attrCachedBy=s?Wi.NONE:Wi.PLAIN_TEXT):u&&(e.__attrCachedBy=Wi.NONE);var h=n.font||Cn;l&&h===(r.font||Cn)||(e.font=h);var c=t.__computedFont;t.__styleFont!==h&&(t.__styleFont=h,c=t.__computedFont=e.font);var d=n.textPadding,f=n.textLineHeight,p=t.__textCotentBlock;p&&!t.__dirtyText||(p=t.__textCotentBlock=Mn(i,c,d,f,n.truncate));var g=p.outerHeight,m=p.lines,v=p.lineHeight,y=Hn(On,t,n,o),x=y.baseX,_=y.baseY,w=y.textAlign||"left",b=y.textVerticalAlign;Bn(e,n,o,x,_);var S=vn(_,g,b),M=x,I=S;if(s||d){var T=pn(i,c);d&&(T+=d[1]+d[3]);var A=mn(x,T,w);s&&Fn(t,e,n,A,S,T,g),d&&(M=jn(x,w,d),I+=d[0])}e.textAlign=w,e.textBaseline="middle",e.globalAlpha=n.opacity||1;for(var D=0;D<Pn.length;D++){var C=Pn[D],L=C[0],k=C[1],P=n[L];l&&P===r[L]||(e[k]=Fi(e,k,P||C[2]))}I+=v/2;var N=n.textStrokeWidth,O=l?r.textStrokeWidth:null,E=!l||N!==O,R=!l||E||n.textStroke!==r.textStroke,z=Un(n.textStroke,N),B=Xn(n.textFill);z&&(E&&(e.lineWidth=N),R&&(e.strokeStyle=z));B&&(l&&n.textFill===r.textFill||(e.fillStyle=B));if(1===m.length)z&&e.strokeText(m[0],M,I),B&&e.fillText(m[0],M,I);else for(D=0;D<m.length;D++)z&&e.strokeText(m[D],M,I),B&&e.fillText(m[D],M,I),I+=v}(t,e,i,n,o,a)}function Bn(t,e,i,n,o){if(i&&e.textRotation){var a=e.textOrigin;"center"===a?(n=i.width/2+i.x,o=i.height/2+i.y):a&&(n=a[0]+i.x,o=a[1]+i.y),t.translate(n,o),t.rotate(-e.textRotation),t.translate(-n,-o)}}function Vn(t,e,i,n,o,a,r,s){var l=n.rich[i.styleName]||{};l.text=i.text;var u=i.textVerticalAlign,h=a+o/2;"top"===u?h=a+i.height/2:"bottom"===u&&(h=a+o-i.height/2),!i.isLineHolder&&Gn(l)&&Fn(t,e,l,"right"===s?r-i.width:"center"===s?r-i.width/2:r,h-i.height/2,i.width,i.height);var c=i.textPadding;c&&(r=jn(r,s,c),h-=i.height/2-c[2]-i.textHeight/2),Zn(e,"shadowBlur",Z(l.textShadowBlur,n.textShadowBlur,0)),Zn(e,"shadowColor",l.textShadowColor||n.textShadowColor||"transparent"),Zn(e,"shadowOffsetX",Z(l.textShadowOffsetX,n.textShadowOffsetX,0)),Zn(e,"shadowOffsetY",Z(l.textShadowOffsetY,n.textShadowOffsetY,0)),Zn(e,"textAlign",s),Zn(e,"textBaseline","middle"),Zn(e,"font",i.font||Cn);var d=Un(l.textStroke||n.textStroke,p),f=Xn(l.textFill||n.textFill),p=H(l.textStrokeWidth,n.textStrokeWidth);d&&(Zn(e,"lineWidth",p),Zn(e,"strokeStyle",d),e.strokeText(i.text,r,h)),f&&(Zn(e,"fillStyle",f),e.fillText(i.text,r,h))}function Gn(t){return!!(t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor)}function Fn(t,e,i,n,o,a,r){var s=i.textBackgroundColor,l=i.textBorderWidth,u=i.textBorderColor,h=R(s);if(Zn(e,"shadowBlur",i.textBoxShadowBlur||0),Zn(e,"shadowColor",i.textBoxShadowColor||"transparent"),Zn(e,"shadowOffsetX",i.textBoxShadowOffsetX||0),Zn(e,"shadowOffsetY",i.textBoxShadowOffsetY||0),h||l&&u){e.beginPath();var c=i.textBorderRadius;c?Dn(e,{x:n,y:o,width:a,height:r,r:c}):e.rect(n,o,a,r),e.closePath()}if(h)if(Zn(e,"fillStyle",s),null!=i.fillOpacity){var d=e.globalAlpha;e.globalAlpha=i.fillOpacity*i.opacity,e.fill(),e.globalAlpha=d}else e.fill();else if(z(s)){var f=s.image;(f=an(f,null,t,Wn,s))&&sn(f)&&e.drawImage(f,n,o,a,r)}if(l&&u)if(Zn(e,"lineWidth",l),Zn(e,"strokeStyle",u),null!=i.strokeOpacity){d=e.globalAlpha;e.globalAlpha=i.strokeOpacity*i.opacity,e.stroke(),e.globalAlpha=d}else e.stroke()}function Wn(t,e){e.image=t}function Hn(t,e,i,n){var o=i.x||0,a=i.y||0,r=i.textAlign,s=i.textVerticalAlign;if(n){var l=i.textPosition;if(l instanceof Array)o=n.x+Yn(l[0],n.width),a=n.y+Yn(l[1],n.height);else{var u=e&&e.calculateTextPosition?e.calculateTextPosition(Nn,i,n):yn(Nn,i,n);o=u.x,a=u.y,r=r||u.textAlign,s=s||u.textVerticalAlign}var h=i.textOffset;h&&(o+=h[0],a+=h[1])}return(t=t||{}).baseX=o,t.baseY=a,t.textAlign=r,t.textVerticalAlign=s,t}function Zn(t,e,i){return t[e]=Fi(t,e,i),t[e]}function Un(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function Xn(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function Yn(t,e){return"string"==typeof t?0<=t.lastIndexOf("%")?parseFloat(t)/100*e:parseFloat(t):t}function jn(t,e,i){return"right"===e?t-i[1]:"center"===e?t+i[3]/2-i[1]/2:t+i[3]}function qn(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}function Kn(){}var $n=new Di;function Jn(t){for(var e in t=t||{},_i.call(this,t),t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new Ui(t.style,this),this._rect=null,this.__clipPaths=null}function Qn(t){Jn.call(this,t)}Jn.prototype={constructor:Jn,type:"displayable",__dirty:!0,invisible:!(Kn.prototype={constructor:Kn,drawRectText:function(t,e){var i=this.style;e=i.textRect||e,this.__dirty&&En(i);var n=i.text;if(null!=n&&(n+=""),qn(n,i)){t.save();var o=this.transform;i.transformText?this.setTransform(t):o&&($n.copy(e),$n.applyTransform(o),e=$n),zn(this,t,n,i,e,Hi),t.restore()}}}),z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var i=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(i[0],i[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?_i.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new Ui(t,this),this.dirty(!1),this},calculateTextPosition:null},w(Jn,_i),b(Jn,Kn),Qn.prototype={constructor:Qn,type:"image",brush:function(t,e){var i=this.style,n=i.image;i.bind(t,this,e);var o=this._image=an(n,this._image,this,this.onload);if(o&&sn(o)){var a=i.x||0,r=i.y||0,s=i.width,l=i.height,u=o.width/o.height;if(null==s&&null!=l?s=l*u:null==l&&null!=s?l=s/u:null==s&&null==l&&(s=o.width,l=o.height),this.setTransform(t),i.sWidth&&i.sHeight){var h=i.sx||0,c=i.sy||0;t.drawImage(o,h,c,i.sWidth,i.sHeight,a,r,s,l)}else if(i.sx&&i.sy){var d=s-(h=i.sx),f=l-(c=i.sy);t.drawImage(o,h,c,d,f,a,r,s,l)}else t.drawImage(o,a,r,s,l);null!=i.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new Di(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},w(Qn,Jn);var to=314159;function eo(t){return parseInt(t,10)}var io=new Di(0,0,0,0),no=new Di(0,0,0,0);function oo(t,e,i){this.type="canvas";var n=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=i=k({},i||{}),this.dpr=i.devicePixelRatio||pi,this._singleCanvas=n;var o=(this.root=t).style;o&&(o["-webkit-tap-highlight-color"]="transparent",o["-webkit-user-select"]=o["user-select"]=o["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var a=this._zlevelList=[],r=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,n){var s=t.width,l=t.height;null!=i.width&&(s=i.width),null!=i.height&&(l=i.height),this.dpr=i.devicePixelRatio||1,t.width=s*this.dpr,t.height=l*this.dpr,this._width=s,this._height=l;var u=new tn(t,this,this.dpr);u.__builtin__=!0,u.initContext(),(r[to]=u).zlevel=to,a.push(to),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var h=this._domRoot=function(t,e){var i=document.createElement("div");return i.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",i}(this._width,this._height);t.appendChild(h)}this._hoverlayer=null,this._hoverElements=[]}oo.prototype={constructor:oo,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(t){var e=this.storage.getDisplayList(!0),i=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var n=0;n<i.length;n++){var o=i[n],a=this._layers[o];if(!a.__builtin__&&a.refresh){var r=0===n?this._backgroundColor:null;a.refresh(r)}}return this.refreshHover(),this},addHover:function(t,e){if(!t.__hoverMir){var i=new t.constructor({style:t.style,shape:t.shape,z:t.z,z2:t.z2,silent:t.silent});return(i.__from=t).__hoverMir=i,e&&i.setStyle(e),this._hoverElements.push(i),i}},removeHover:function(t){var e=t.__hoverMir,i=this._hoverElements,n=_(i,e);0<=n&&i.splice(n,1),t.__hoverMir=null},clearHover:function(t){for(var e=this._hoverElements,i=0;i<e.length;i++){var n=e[i].__from;n&&(n.__hoverMir=null)}e.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,i=this._hoverlayer;if(i&&i.clear(),e){zi(t,this.storage.displayableSortFunc);var n={};(i=i||(this._hoverlayer=this.getLayer(1e5))).ctx.save();for(var o=0;o<e;){var a=t[o],r=a.__from;r&&r.__zr?(o++,r.invisible||(a.transform=r.transform,a.invTransform=r.invTransform,a.__clipPaths=r.__clipPaths,this._doPaintEl(a,i,!0,n))):(t.splice(o,1),r.__hoverMir=null,e--)}i.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(t,e,i){if(this._redrawId===i){e=e||!1,this._updateLayerStatus(t);var n=this._doPaintList(t,e);if(this._needsManuallyCompositing&&this._compositeManually(),!n){var o=this;en(function(){o._paintList(t,e,i)})}}},_compositeManually:function(){var e=this.getLayer(to).ctx,i=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,i,n),this.eachBuiltinLayer(function(t){t.virtual&&e.drawImage(t.dom,0,0,i,n)})},_doPaintList:function(t,e){for(var i=[],n=0;n<this._zlevelList.length;n++){var o=this._zlevelList[n];(s=this._layers[o]).__builtin__&&s!==this._hoverlayer&&(s.__dirty||e)&&i.push(s)}for(var a=!0,r=0;r<i.length;r++){var s,l=(s=i[r]).ctx,u={};l.save();var h=e?s.__startIndex:s.__drawIndex,c=!e&&s.incremental&&Date.now,d=c&&Date.now(),f=s.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(s.__startIndex===s.__endIndex)s.clear(!1,f);else if(h===s.__startIndex){var p=t[h];p.incremental&&p.notClear&&!e||s.clear(!1,f)}-1===h&&(console.error("For some unknown reason. drawIndex is -1"),h=s.__startIndex);for(var g=h;g<s.__endIndex;g++){var m=t[g];if(this._doPaintEl(m,s,e,u),m.__dirty=m.__dirtyText=!1,c)if(15<Date.now()-d)break}s.__drawIndex=g,s.__drawIndex<s.__endIndex&&(a=!1),u.prevElClipPaths&&l.restore(),l.restore()}return v.wxa&&E(this._layers,function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()}),a},_doPaintEl:function(t,e,i,n){var o=e.ctx,a=t.transform;if((e.__dirty||i)&&!t.invisible&&0!==t.style.opacity&&(!a||a[0]||a[3])&&(!t.culling||!function(t,e,i){return io.copy(t.getBoundingRect()),t.transform&&io.applyTransform(t.transform),no.width=e,no.height=i,!io.intersect(no)}(t,this._width,this._height))){var r=t.__clipPaths,s=n.prevElClipPaths;s&&!function(t,e){if(t===e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!0;return!1}(r,s)||(s&&(o.restore(),n.prevElClipPaths=null,n.prevEl=null),r&&(o.save(),function(t,e){for(var i=0;i<t.length;i++){var n=t[i];n.setTransform(e),e.beginPath(),n.buildPath(e,n.shape),e.clip(),n.restoreTransform(e)}}(r,o),n.prevElClipPaths=r)),t.beforeBrush&&t.beforeBrush(o),t.brush(o,n.prevEl||null),(n.prevEl=t).afterBrush&&t.afterBrush(o)}},getLayer:function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=to);var i=this._layers[t];return i||((i=new tn("zr_"+t,this,this.dpr)).zlevel=t,i.__builtin__=!0,this._layerConfig[t]&&m(i,this._layerConfig[t],!0),e&&(i.virtual=e),this.insertLayer(t,i),i.initContext()),i},insertLayer:function(t,e){var i=this._layers,n=this._zlevelList,o=n.length,a=null,r=-1,s=this._domRoot;if(i[t])vi("ZLevel "+t+" has been used already");else if(function(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh)}(e)){if(0<o&&t>n[0]){for(r=0;r<o-1&&!(n[r]<t&&n[r+1]>t);r++);a=i[n[r]]}if(n.splice(r+1,0,t),!(i[t]=e).virtual)if(a){var l=a.dom;l.nextSibling?s.insertBefore(e.dom,l.nextSibling):s.appendChild(e.dom)}else s.firstChild?s.insertBefore(e.dom,s.firstChild):s.appendChild(e.dom)}else vi("Layer of zlevel "+t+" is not valid")},eachLayer:function(t,e){var i,n,o=this._zlevelList;for(n=0;n<o.length;n++)i=o[n],t.call(e,this._layers[i],i)},eachBuiltinLayer:function(t,e){var i,n,o,a=this._zlevelList;for(o=0;o<a.length;o++)n=a[o],(i=this._layers[n]).__builtin__&&t.call(e,i,n)},eachOtherLayer:function(t,e){var i,n,o,a=this._zlevelList;for(o=0;o<a.length;o++)n=a[o],(i=this._layers[n]).__builtin__||t.call(e,i,n)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){function e(t){n&&(n.__endIndex!==t&&(n.__dirty=!0),n.__endIndex=t)}if(this.eachBuiltinLayer(function(t,e){t.__dirty=t.__used=!1}),this._singleCanvas)for(var i=1;i<t.length;i++){if((a=t[i]).zlevel!==t[i-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}}var n=null,o=0;for(i=0;i<t.length;i++){var a,r,s=(a=t[i]).zlevel;a.incremental?((r=this.getLayer(s+.001,this._needsManuallyCompositing)).incremental=!0,o=1):r=this.getLayer(s+(0<o?.01:0),this._needsManuallyCompositing),r.__builtin__||vi("ZLevel "+s+" has been used by unkown layer "+r.id),r!==n&&(r.__used=!0,r.__startIndex!==i&&(r.__dirty=!0),r.__startIndex=i,r.incremental?r.__drawIndex=-1:r.__drawIndex=i,e(i),n=r),a.__dirty&&(r.__dirty=!0,r.incremental&&r.__drawIndex<0&&(r.__drawIndex=i))}e(i),this.eachBuiltinLayer(function(t,e){!t.__used&&0<t.getElementCount()&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},setBackgroundColor:function(t){this._backgroundColor=t},configLayer:function(t,e){if(e){var i=this._layerConfig;i[t]?m(i[t],e,!0):i[t]=e;for(var n=0;n<this._zlevelList.length;n++){var o=this._zlevelList[n];if(o===t||o===t+.01)m(this._layers[o],i[t],!0)}}},delLayer:function(t){var e=this._layers,i=this._zlevelList,n=e[t];n&&(n.dom.parentNode.removeChild(n.dom),delete e[t],i.splice(_(i,t),1))},resize:function(e,i){if(this._domRoot.style){var t=this._domRoot;t.style.display="none";var n=this._opts;if(null!=e&&(n.width=e),null!=i&&(n.height=i),e=this._getSize(0),i=this._getSize(1),t.style.display="",this._width!==e||i!==this._height){for(var o in t.style.width=e+"px",t.style.height=i+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,i);E(this._progressiveLayers,function(t){t.resize(e,i)}),this.refresh(!0)}this._width=e,this._height=i}else{if(null==e||null==i)return;this._width=e,this._height=i,this.getLayer(to).resize(e,i)}return this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[to].dom;var e=new tn("image",this,t.pixelRatio||this.dpr);if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var i=e.dom.width,n=e.dom.height,o=e.ctx;this.eachLayer(function(t){t.__builtin__?o.drawImage(t.dom,0,0,i,n):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())})}else for(var a={},r=this.storage.getDisplayList(!0),s=0;s<r.length;s++){var l=r[s];this._doPaintEl(l,e,!0,a)}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,i=["width","height"][t],n=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],a=["paddingRight","paddingBottom"][t];if(null!=e[i]&&"auto"!==e[i])return parseFloat(e[i]);var r=this.root,s=document.defaultView.getComputedStyle(r);return(r[n]||eo(s[i])||eo(r.style[i]))-(eo(s[o])||0)-(eo(s[a])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var i=document.createElement("canvas"),n=i.getContext("2d"),o=t.getBoundingRect(),a=t.style,r=a.shadowBlur*e,s=a.shadowOffsetX*e,l=a.shadowOffsetY*e,u=a.hasStroke()?a.lineWidth:0,h=Math.max(u/2,r-s),c=Math.max(u/2,s+r),d=Math.max(u/2,r-l),f=Math.max(u/2,l+r),p=o.width+h+c,g=o.height+d+f;i.width=p*e,i.height=g*e,n.scale(e,e),n.clearRect(0,0,p,g),n.dpr=e;var m={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[h-o.x,d-o.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(n);var v=new Qn({style:{x:0,y:0,image:i}});return null!=m.position&&(v.position=t.position=m.position),null!=m.rotation&&(v.rotation=t.rotation=m.rotation),null!=m.scale&&(v.scale=t.scale=m.scale),v}};function ao(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,Ct.call(this)}ao.prototype={constructor:ao,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),i=0;i<e.length;i++)this.addClip(e[i])},removeClip:function(t){var e=_(this._clips,t);0<=e&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),i=0;i<e.length;i++)this.removeClip(e[i]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,i=this._clips,n=i.length,o=[],a=[],r=0;r<n;r++){var s=i[r],l=s.step(t,e);l&&(o.push(l),a.push(s))}for(r=0;r<n;)i[r]._needsRemove?(i[r]=i[n-1],i.pop(),n--):r++;n=o.length;for(r=0;r<n;r++)a[r].fire(o[r]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},_startLoop:function(){var e=this;this._running=!0,en(function t(){e._running&&(en(t),e._paused||e._update())})},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(t,e){var i=new di(t,(e=e||{}).loop,e.getter,e.setter);return this.addAnimator(i),i}},b(ao,Ct);var ro,so,lo=v.domSupported,uo=(so={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:ro=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:N(ro,function(t){var e=t.replace("mouse","pointer");return so.hasOwnProperty(e)?e:t})}),ho={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]};function co(t){return"mousewheel"===t&&v.browser.firefox?"DOMMouseScroll":t}function fo(t){var e=t.pointerType;return"pen"===e||"touch"===e}function po(t){t&&(t.zrByTouch=!0)}function go(t,e){for(var i=e,n=!1;i&&9!==i.nodeType&&!(n=i.domBelongToZr||i!==e&&i===t.painterRoot);)i=i.parentNode;return n}function mo(t,e){this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY}var vo=mo.prototype;vo.stopPropagation=vo.stopImmediatePropagation=vo.preventDefault=et;var yo={mousedown:function(t){t=Zt(this.dom,t),this._mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=Zt(this.dom,t);var e=this._mayPointerCapture;!e||t.zrX===e[0]&&t.zrY===e[1]||Mo(this,!0),this.trigger("mousemove",t)},mouseup:function(t){t=Zt(this.dom,t),Mo(this,!1),this.trigger("mouseup",t)},mouseout:function(t){t=Zt(this.dom,t),this._pointerCapturing&&(t.zrEventControl="no_globalout");var e=t.toElement||t.relatedTarget;t.zrIsToLocalDOM=go(this,e),this.trigger("mouseout",t)},touchstart:function(t){po(t=Zt(this.dom,t)),this._lastTouchMoment=new Date,this.handler.processGesture(t,"start"),yo.mousemove.call(this,t),yo.mousedown.call(this,t)},touchmove:function(t){po(t=Zt(this.dom,t)),this.handler.processGesture(t,"change"),yo.mousemove.call(this,t)},touchend:function(t){po(t=Zt(this.dom,t)),this.handler.processGesture(t,"end"),yo.mouseup.call(this,t),+new Date-this._lastTouchMoment<300&&yo.click.call(this,t)},pointerdown:function(t){yo.mousedown.call(this,t)},pointermove:function(t){fo(t)||yo.mousemove.call(this,t)},pointerup:function(t){yo.mouseup.call(this,t)},pointerout:function(t){fo(t)||yo.mouseout.call(this,t)}};E(["click","mousewheel","dblclick","contextmenu"],function(e){yo[e]=function(t){t=Zt(this.dom,t),this.trigger(e,t)}});var xo={pointermove:function(t){fo(t)||xo.mousemove.call(this,t)},pointerup:function(t){xo.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this._pointerCapturing;Mo(this,!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function _o(i,n){var o=n.domHandlers;v.pointerEventsSupported?E(uo.pointer,function(e){bo(n,e,function(t){o[e].call(i,t)})}):(v.touchEventsSupported&&E(uo.touch,function(e){bo(n,e,function(t){o[e].call(i,t),function(t){t.touching=!0,null!=t.touchTimer&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout(function(){t.touching=!1,t.touchTimer=null},700)}(n)})}),E(uo.mouse,function(e){bo(n,e,function(t){t=Ht(t),n.touching||o[e].call(i,t)})}))}function wo(i,n){function t(e){bo(n,e,function(t){t=Ht(t),go(i,t.target)||(t=function(t,e){return Zt(t.dom,new mo(t,e),!0)}(i,t),n.domHandlers[e].call(i,t))},{capture:!0})}v.pointerEventsSupported?E(ho.pointer,t):v.touchEventsSupported||E(ho.mouse,t)}function bo(t,e,i,n){t.mounted[e]=i,t.listenerOpts[e]=n,Ut(t.domTarget,co(e),i,n)}function So(t){var e,i,n,o,a=t.mounted;for(var r in a)a.hasOwnProperty(r)&&(e=t.domTarget,i=co(r),n=a[r],o=t.listenerOpts[r],Bt?e.removeEventListener(i,n,o):e.detachEvent("on"+i,n));t.mounted={}}function Mo(t,e){if(t._mayPointerCapture=null,lo&&t._pointerCapturing^e){t._pointerCapturing=e;var i=t._globalHandlerScope;e?wo(t,i):So(i)}}function Io(t,e){this.domTarget=t,this.domHandlers=e,this.mounted={},this.listenerOpts={},this.touchTimer=null,this.touching=!1}function To(t,e){Ct.call(this),this.dom=t,this.painterRoot=e,this._localHandlerScope=new Io(t,yo),lo&&(this._globalHandlerScope=new Io(document,xo)),this._pointerCapturing=!1,this._mayPointerCapture=null,_o(this,this._localHandlerScope)}var Ao=To.prototype;Ao.dispose=function(){So(this._localHandlerScope),lo&&So(this._globalHandlerScope)},Ao.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},b(To,Ct);var Do=!v.canvasSupported,Co={canvas:oo},Lo={};function ko(t,e){var i=new No(n(),t,e);return Lo[i.id]=i}function Po(t,e){Co[t]=e}var No=function(t,e,i){i=i||{},this.dom=e,this.id=t;var n=this,o=new Vi,a=i.renderer;if(Do){if(!Co.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");a="vml"}else a&&Co[a]||(a="canvas");var r=new Co[a](e,o,i,t);this.storage=o,this.painter=r;var s=v.node||v.worker?null:new To(r.getViewportRoot(),r.root);this.handler=new te(o,r,s,r.root),this.animation=new ao({stage:{update:A(this.flush,this)}}),this.animation.start(),this._needsRefresh;var l=o.delFromStorage,u=o.addToStorage;o.delFromStorage=function(t){l.call(o,t),t&&t.removeSelfFromZr(n)},o.addToStorage=function(t){u.call(o,t),t.addSelfToZr(n)}};No.prototype={constructor:No,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this._needsRefresh=!0},setBackgroundColor:function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1,this.painter.refresh(),this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var t;this._needsRefresh&&(t=!0,this.refreshImmediately()),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately()),t&&this.trigger("rendered")},addHover:function(t,e){if(this.painter.addHover){var i=this.painter.addHover(t,e);return this.refreshHover(),i}},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,i){this.handler.on(t,e,i)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,function(t){delete Lo[t]}(this.id)}};var Oo=(Object.freeze||Object)({version:"4.3.0",init:ko,dispose:function(t){if(t)t.dispose();else{for(var e in Lo)Lo.hasOwnProperty(e)&&Lo[e].dispose();Lo={}}return this},getInstance:function(t){return Lo[t]},registerPainter:Po}),Eo=E,Ro=z,zo=O,Bo="series\0";function Vo(t){return t instanceof Array?t:null==t?[]:[t]}function Go(t,e,i){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var n=0,o=i.length;n<o;n++){var a=i[n];!t.emphasis[e].hasOwnProperty(a)&&t[e].hasOwnProperty(a)&&(t.emphasis[e][a]=t[e][a])}}}var Fo=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Wo(t){return!Ro(t)||zo(t)||t instanceof Date?t:t.value}function Ho(t,o){o=(o||[]).slice();var a=N(t||[],function(t,e){return{exist:t}});return Eo(o,function(t,e){if(Ro(t)){for(var i=0;i<a.length;i++)if(!a[i].option&&null!=t.id&&a[i].exist.id===t.id+"")return a[i].option=t,void(o[e]=null);for(i=0;i<a.length;i++){var n=a[i].exist;if(!(a[i].option||null!=n.id&&null!=t.id||null==t.name||Xo(t)||Xo(n)||n.name!==t.name+""))return a[i].option=t,void(o[e]=null)}}}),Eo(o,function(t,e){if(Ro(t)){for(var i=0;i<a.length;i++){var n=a[i].exist;if(!a[i].option&&!Xo(n)&&null==t.id){a[i].option=t;break}}i>=a.length&&a.push({option:t})}}),a}function Zo(t){var r=Q();Eo(t,function(t,e){var i=t.exist;i&&r.set(i.id,t)}),Eo(t,function(t,e){var i=t.option;Y(!i||null==i.id||!r.get(i.id)||r.get(i.id)===t,"id duplicates: "+(i&&i.id)),i&&null!=i.id&&r.set(i.id,t),t.keyInfo||(t.keyInfo={})}),Eo(t,function(t,e){var i=t.exist,n=t.option,o=t.keyInfo;if(Ro(n)){if(o.name=null!=n.name?n.name+"":i?i.name:Bo+e,i)o.id=i.id;else if(null!=n.id)o.id=n.id+"";else for(var a=0;o.id="\0"+o.name+"\0"+a++,r.get(o.id););r.set(o.id,t)}})}function Uo(t){var e=t.name;return!(!e||!e.indexOf(Bo))}function Xo(t){return Ro(t)&&t.id&&0===(t.id+"").indexOf("\0_ec_\0")}function Yo(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?O(t.dataIndex)?N(t.dataIndex,function(t){return e.indexOfRawIndex(t)}):e.indexOfRawIndex(t.dataIndex):null!=t.name?O(t.name)?N(t.name,function(t){return e.indexOfName(t)}):e.indexOfName(t.name):void 0}function jo(){var e="__\0ec_inner_"+qo+++"_"+Math.random().toFixed(5);return function(t){return t[e]||(t[e]={})}}var qo=0;function Ko(s,l,u){if(R(l)){var t={};t[l+"Index"]=0,l=t}var e=u&&u.defaultMainType;!e||$o(l,e+"Index")||$o(l,e+"Id")||$o(l,e+"Name")||(l[e+"Index"]=0);var h={};return Eo(l,function(t,e){t=l[e];if("dataIndex"!==e&&"dataIndexInside"!==e){var i=e.match(/^(\w+)(Index|Id|Name)$/)||[],n=i[1],o=(i[2]||"").toLowerCase();if(!(!n||!o||null==t||"index"===o&&"none"===t||u&&u.includeMainTypes&&_(u.includeMainTypes,n)<0)){var a={mainType:n};"index"===o&&"all"===t||(a[o]=t);var r=s.queryComponents(a);h[n+"Models"]=r,h[n+"Model"]=r[0]}}else h[e]=t}),h}function $o(t,e){return t&&t.hasOwnProperty(e)}function Jo(t,e,i){t.setAttribute?t.setAttribute(e,i):t[e]=i}function Qo(t){return"auto"===t?v.domSupported?"html":"richText":t||"html"}function ta(t,i){var n=Q(),o=[];return E(t,function(t){var e=i(t);(n.get(e)||(o.push(e),n.set(e,[]))).push(t)}),{keys:o,buckets:n}}var ea=".",ia="___EC__COMPONENT__CONTAINER___";function na(t){var e={main:"",sub:""};return t&&(t=t.split(ea),e.main=t[0]||"",e.sub=t[1]||""),e}function oa(t){(t.$constructor=t).extend=function(t){function e(){t.$constructor?t.$constructor.apply(this,arguments):i.apply(this,arguments)}var i=this;return k(e.prototype,t),e.extend=this.extend,e.superCall=sa,e.superApply=la,w(e,this),e.superClass=i,e}}var aa=0;function ra(t){var e=["__\0is_clz",aa++,Math.random().toFixed(3)].join("_");t.prototype[e]=!0,t.isInstance=function(t){return!(!t||!t[e])}}function sa(t,e){var i=U(arguments,2);return this.superClass.prototype[e].apply(t,i)}function la(t,e,i){return this.superClass.prototype[e].apply(t,i)}function ua(i,t){t=t||{};var o={};if(i.registerClass=function(t,e){if(e)if(function(t){Y(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}(e),(e=na(e)).sub){if(e.sub!==ia){(function(t){var e=o[t.main];e&&e[ia]||((e=o[t.main]={})[ia]=!0);return e})(e)[e.sub]=t}}else o[e.main]=t;return t},i.getClass=function(t,e,i){var n=o[t];if(n&&n[ia]&&(n=e?n[e]:null),i&&!n)throw new Error(e?"Component "+t+"."+(e||"")+" not exists. Load it first.":t+".type should be specified.");return n},i.getClassesByMainType=function(t){t=na(t);var i=[],e=o[t.main];return e&&e[ia]?E(e,function(t,e){e!==ia&&i.push(t)}):i.push(e),i},i.hasClass=function(t){return t=na(t),!!o[t.main]},i.getAllClassMainTypes=function(){var i=[];return E(o,function(t,e){i.push(e)}),i},i.hasSubTypes=function(t){t=na(t);var e=o[t.main];return e&&e[ia]},i.parseClassType=na,t.registerWhenExtend){var n=i.extend;n&&(i.extend=function(t){var e=n.call(this,t);return i.registerClass(e,t.type)})}return i}function ha(s){for(var t=0;t<s.length;t++)s[t][1]||(s[t][1]=s[t][0]);return function(t,e,i){for(var n={},o=0;o<s.length;o++){var a=s[o][1];if(!(e&&0<=_(e,a)||i&&_(i,a)<0)){var r=t.getShallow(a);null!=r&&(n[s[o][0]]=r)}}return n}}var ca=ha([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),da={getLineStyle:function(t){var e=ca(this,t);return e.lineDash=this.getLineDash(e.lineWidth),e},getLineDash:function(t){null==t&&(t=1);var e=this.get("type"),i=Math.max(t,2),n=4*t;return"solid"!==e&&null!=e&&("dashed"===e?[n,n]:[i,i])}},fa=ha([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),pa={getAreaStyle:function(t,e){return fa(this,t,e)}},ga=Math.pow,ma=Math.sqrt,va=1e-8,ya=1e-4,xa=ma(3),_a=1/3,wa=ot(),ba=ot(),Sa=ot();function Ma(t){return-va<t&&t<va}function Ia(t){return va<t||t<-va}function Ta(t,e,i,n,o){var a=1-o;return a*a*(a*t+3*o*e)+o*o*(o*n+3*a*i)}function Aa(t,e,i,n,o){var a=1-o;return 3*(((e-t)*a+2*(i-e)*o)*a+(n-i)*o*o)}function Da(t,e,i,n,o){var a=6*i-12*e+6*t,r=9*e+3*n-3*t-9*i,s=3*e-3*t,l=0;if(Ma(r)){if(Ia(a))0<=(h=-s/a)&&h<=1&&(o[l++]=h)}else{var u=a*a-4*r*s;if(Ma(u))o[0]=-a/(2*r);else if(0<u){var h,c=ma(u),d=(-a-c)/(2*r);0<=(h=(-a+c)/(2*r))&&h<=1&&(o[l++]=h),0<=d&&d<=1&&(o[l++]=d)}}return l}function Ca(t,e,i,n,o,a){var r=(e-t)*o+t,s=(i-e)*o+e,l=(n-i)*o+i,u=(s-r)*o+r,h=(l-s)*o+s,c=(h-u)*o+u;a[0]=t,a[1]=r,a[2]=u,a[3]=c,a[4]=c,a[5]=h,a[6]=l,a[7]=n}function La(t,e,i,n){var o=1-n;return o*(o*t+2*n*e)+n*n*i}function ka(t,e,i,n){return 2*((1-n)*(e-t)+n*(i-e))}function Pa(t,e,i){var n=t+i-2*e;return 0==n?.5:(t-e)/n}function Na(t,e,i,n,o){var a=(e-t)*n+t,r=(i-e)*n+e,s=(r-a)*n+a;o[0]=t,o[1]=a,o[2]=s,o[3]=s,o[4]=r,o[5]=i}var Oa=Math.min,Ea=Math.max,Ra=Math.sin,za=Math.cos,Ba=2*Math.PI,Va=ot(),Ga=ot(),Fa=ot();function Wa(t,e,i){if(0!==t.length){var n,o=t[0],a=o[0],r=o[0],s=o[1],l=o[1];for(n=1;n<t.length;n++)o=t[n],a=Oa(a,o[0]),r=Ea(r,o[0]),s=Oa(s,o[1]),l=Ea(l,o[1]);e[0]=a,e[1]=s,i[0]=r,i[1]=l}}function Ha(t,e,i,n,o,a){o[0]=Oa(t,i),o[1]=Oa(e,n),a[0]=Ea(t,i),a[1]=Ea(e,n)}var Za=[],Ua=[];function Xa(t,e,i,n,o,a,r,s,l,u){var h,c=Da,d=Ta,f=c(t,i,o,r,Za);for(l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0,h=0;h<f;h++){var p=d(t,i,o,r,Za[h]);l[0]=Oa(p,l[0]),u[0]=Ea(p,u[0])}for(f=c(e,n,a,s,Ua),h=0;h<f;h++){var g=d(e,n,a,s,Ua[h]);l[1]=Oa(g,l[1]),u[1]=Ea(g,u[1])}l[0]=Oa(t,l[0]),u[0]=Ea(t,u[0]),l[0]=Oa(r,l[0]),u[0]=Ea(r,u[0]),l[1]=Oa(e,l[1]),u[1]=Ea(e,u[1]),l[1]=Oa(s,l[1]),u[1]=Ea(s,u[1])}function Ya(t,e,i,n,o,a,r,s,l){var u=St,h=Mt,c=Math.abs(o-a);if(c%Ba<1e-4&&1e-4<c)return s[0]=t-i,s[1]=e-n,l[0]=t+i,void(l[1]=e+n);if(Va[0]=za(o)*i+t,Va[1]=Ra(o)*n+e,Ga[0]=za(a)*i+t,Ga[1]=Ra(a)*n+e,u(s,Va,Ga),h(l,Va,Ga),(o%=Ba)<0&&(o+=Ba),(a%=Ba)<0&&(a+=Ba),a<o&&!r?a+=Ba:o<a&&r&&(o+=Ba),r){var d=a;a=o,o=d}for(var f=0;f<a;f+=Math.PI/2)o<f&&(Fa[0]=za(f)*i+t,Fa[1]=Ra(f)*n+e,u(s,Fa,s),h(l,Fa,l))}var ja={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},qa=[],Ka=[],$a=[],Ja=[],Qa=Math.min,tr=Math.max,er=Math.cos,ir=Math.sin,nr=Math.sqrt,or=Math.abs,ar="undefined"!=typeof Float32Array,rr=function(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};function sr(t,e,i,n,o,a,r){if(0===o)return!1;var s=o,l=0;if(e+s<r&&n+s<r||r<e-s&&r<n-s||t+s<a&&i+s<a||a<t-s&&a<i-s)return!1;if(t===i)return Math.abs(a-t)<=s/2;var u=(l=(e-n)/(t-i))*a-r+(t*n-i*e)/(t-i);return u*u/(l*l+1)<=s/2*s/2}function lr(t,e,i,n,o,a,r,s,l,u,h){if(0===l)return!1;var c=l;return!(e+c<h&&n+c<h&&a+c<h&&s+c<h||h<e-c&&h<n-c&&h<a-c&&h<s-c||t+c<u&&i+c<u&&o+c<u&&r+c<u||u<t-c&&u<i-c&&u<o-c&&u<r-c)&&function(t,e,i,n,o,a,r,s,l,u,h){var c,d,f,p,g,m=.005,v=1/0;wa[0]=l,wa[1]=u;for(var y=0;y<1;y+=.05)ba[0]=Ta(t,i,o,r,y),ba[1]=Ta(e,n,a,s,y),(p=_t(wa,ba))<v&&(c=y,v=p);v=1/0;for(var x=0;x<32&&!(m<ya);x++)d=c-m,f=c+m,ba[0]=Ta(t,i,o,r,d),ba[1]=Ta(e,n,a,s,d),p=_t(ba,wa),0<=d&&p<v?(c=d,v=p):(Sa[0]=Ta(t,i,o,r,f),Sa[1]=Ta(e,n,a,s,f),g=_t(Sa,wa),f<=1&&g<v?(c=f,v=g):m*=.5);return h&&(h[0]=Ta(t,i,o,r,c),h[1]=Ta(e,n,a,s,c)),ma(v)}(t,e,i,n,o,a,r,s,u,h,null)<=c/2}function ur(t,e,i,n,o,a,r,s,l){if(0===r)return!1;var u=r;return!(e+u<l&&n+u<l&&a+u<l||l<e-u&&l<n-u&&l<a-u||t+u<s&&i+u<s&&o+u<s||s<t-u&&s<i-u&&s<o-u)&&function(t,e,i,n,o,a,r,s,l){var u,h=.005,c=1/0;wa[0]=r,wa[1]=s;for(var d=0;d<1;d+=.05){ba[0]=La(t,i,o,d),ba[1]=La(e,n,a,d),(m=_t(wa,ba))<c&&(u=d,c=m)}c=1/0;for(var f=0;f<32&&!(h<ya);f++){var p=u-h,g=u+h;ba[0]=La(t,i,o,p),ba[1]=La(e,n,a,p);var m=_t(ba,wa);if(0<=p&&m<c)u=p,c=m;else{Sa[0]=La(t,i,o,g),Sa[1]=La(e,n,a,g);var v=_t(Sa,wa);g<=1&&v<c?(u=g,c=v):h*=.5}}return l&&(l[0]=La(t,i,o,u),l[1]=La(e,n,a,u)),ma(c)}(t,e,i,n,o,a,s,l,null)<=u/2}rr.prototype={constructor:rr,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e,i){i=i||0,this._ux=or(i/pi/t)||0,this._uy=or(i/pi/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return(this._ctx=t)&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(ja.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var i=or(t-this._xi)>this._ux||or(e-this._yi)>this._uy||this._len<5;return this.addData(ja.L,t,e),this._ctx&&i&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),i&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,i,n,o,a){return this.addData(ja.C,t,e,i,n,o,a),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,i,n,o,a):this._ctx.bezierCurveTo(t,e,i,n,o,a)),this._xi=o,this._yi=a,this},quadraticCurveTo:function(t,e,i,n){return this.addData(ja.Q,t,e,i,n),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,i,n):this._ctx.quadraticCurveTo(t,e,i,n)),this._xi=i,this._yi=n,this},arc:function(t,e,i,n,o,a){return this.addData(ja.A,t,e,i,i,n,o-n,0,a?0:1),this._ctx&&this._ctx.arc(t,e,i,n,o,a),this._xi=er(o)*i+t,this._yi=ir(o)*i+e,this},arcTo:function(t,e,i,n,o){return this._ctx&&this._ctx.arcTo(t,e,i,n,o),this},rect:function(t,e,i,n){return this._ctx&&this._ctx.rect(t,e,i,n),this.addData(ja.R,t,e,i,n),this},closePath:function(){this.addData(ja.Z);var t=this._ctx,e=this._x0,i=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,i),t.closePath()),this._xi=e,this._yi=i,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t;for(var e=this._dashIdx=0,i=0;i<t.length;i++)e+=t[i];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length===e||!ar||(this.data=new Float32Array(e));for(var i=0;i<e;i++)this.data[i]=t[i];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,i=0,n=this._len,o=0;o<e;o++)i+=t[o].len();ar&&this.data instanceof Float32Array&&(this.data=new Float32Array(n+i));for(o=0;o<e;o++)for(var a=t[o].data,r=0;r<a.length;r++)this.data[n++]=a[r];this._len=n},addData:function(t){if(this._saveData){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var i=0;i<arguments.length;i++)e[this._len++]=arguments[i];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var i,n,o=this._dashSum,a=this._dashOffset,r=this._lineDash,s=this._ctx,l=this._xi,u=this._yi,h=t-l,c=e-u,d=nr(h*h+c*c),f=l,p=u,g=r.length;for(a<0&&(a=o+a),f-=(a%=o)*(h/=d),p-=a*(c/=d);0<h&&f<=t||h<0&&t<=f||0===h&&(0<c&&p<=e||c<0&&e<=p);)f+=h*(i=r[n=this._dashIdx]),p+=c*i,this._dashIdx=(n+1)%g,0<h&&f<l||h<0&&l<f||0<c&&p<u||c<0&&u<p||s[n%2?"moveTo":"lineTo"](0<=h?Qa(f,t):tr(f,t),0<=c?Qa(p,e):tr(p,e));h=f-t,c=p-e,this._dashOffset=-nr(h*h+c*c)},_dashedBezierTo:function(t,e,i,n,o,a){var r,s,l,u,h,c=this._dashSum,d=this._dashOffset,f=this._lineDash,p=this._ctx,g=this._xi,m=this._yi,v=Ta,y=0,x=this._dashIdx,_=f.length,w=0;for(d<0&&(d=c+d),d%=c,r=0;r<1;r+=.1)s=v(g,t,i,o,r+.1)-v(g,t,i,o,r),l=v(m,e,n,a,r+.1)-v(m,e,n,a,r),y+=nr(s*s+l*l);for(;x<_&&!(d<(w+=f[x]));x++);for(r=(w-d)/y;r<=1;)u=v(g,t,i,o,r),h=v(m,e,n,a,r),x%2?p.moveTo(u,h):p.lineTo(u,h),r+=f[x]/y,x=(x+1)%_;x%2!=0&&p.lineTo(o,a),s=o-u,l=a-h,this._dashOffset=-nr(s*s+l*l)},_dashedQuadraticTo:function(t,e,i,n){var o=i,a=n;i=(i+2*t)/3,n=(n+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,i,n,o,a)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,ar&&(this.data=new Float32Array(t)))},getBoundingRect:function(){qa[0]=qa[1]=$a[0]=$a[1]=Number.MAX_VALUE,Ka[0]=Ka[1]=Ja[0]=Ja[1]=-Number.MAX_VALUE;for(var t,e,i,n,o,a,r,s,l,u,h,c,d,f,p=this.data,g=0,m=0,v=0,y=0,x=0;x<p.length;){var _=p[x++];switch(1===x&&(v=g=p[x],y=m=p[x+1]),_){case ja.M:g=v=p[x++],m=y=p[x++],$a[0]=v,$a[1]=y,Ja[0]=v,Ja[1]=y;break;case ja.L:Ha(g,m,p[x],p[x+1],$a,Ja),g=p[x++],m=p[x++];break;case ja.C:Xa(g,m,p[x++],p[x++],p[x++],p[x++],p[x],p[x+1],$a,Ja),g=p[x++],m=p[x++];break;case ja.Q:t=g,e=m,i=p[x++],n=p[x++],o=p[x],a=p[x+1],r=$a,s=Ja,u=l=void 0,u=La,h=Ea(Oa((l=Pa)(t,i,o),1),0),c=Ea(Oa(l(e,n,a),1),0),d=u(t,i,o,h),f=u(e,n,a,c),r[0]=Oa(t,o,d),r[1]=Oa(e,a,f),s[0]=Ea(t,o,d),s[1]=Ea(e,a,f),g=p[x++],m=p[x++];break;case ja.A:var w=p[x++],b=p[x++],S=p[x++],M=p[x++],I=p[x++],T=p[x++]+I;x+=1;var A=1-p[x++];1===x&&(v=er(I)*S+w,y=ir(I)*M+b),Ya(w,b,S,M,I,T,A,$a,Ja),g=er(T)*S+w,m=ir(T)*M+b;break;case ja.R:Ha(v=g=p[x++],y=m=p[x++],v+p[x++],y+p[x++],$a,Ja);break;case ja.Z:g=v,m=y}St(qa,qa,$a),Mt(Ka,Ka,Ja)}return 0===x&&(qa[0]=qa[1]=Ka[0]=Ka[1]=0),new Di(qa[0],qa[1],Ka[0]-qa[0],Ka[1]-qa[1])},rebuildPath:function(t){for(var e,i,n,o,a,r,s=this.data,l=this._ux,u=this._uy,h=this._len,c=0;c<h;){var d=s[c++];switch(1===c&&(e=n=s[c],i=o=s[c+1]),d){case ja.M:e=n=s[c++],i=o=s[c++],t.moveTo(n,o);break;case ja.L:a=s[c++],r=s[c++],(or(a-n)>l||or(r-o)>u||c===h-1)&&(t.lineTo(a,r),n=a,o=r);break;case ja.C:t.bezierCurveTo(s[c++],s[c++],s[c++],s[c++],s[c++],s[c++]),n=s[c-2],o=s[c-1];break;case ja.Q:t.quadraticCurveTo(s[c++],s[c++],s[c++],s[c++]),n=s[c-2],o=s[c-1];break;case ja.A:var f=s[c++],p=s[c++],g=s[c++],m=s[c++],v=s[c++],y=s[c++],x=s[c++],_=s[c++],w=m<g?g:m,b=m<g?1:g/m,S=m<g?m/g:1,M=v+y;.001<Math.abs(g-m)?(t.translate(f,p),t.rotate(x),t.scale(b,S),t.arc(0,0,w,v,M,1-_),t.scale(1/b,1/S),t.rotate(-x),t.translate(-f,-p)):t.arc(f,p,w,v,M,1-_),1===c&&(e=er(v)*g+f,i=ir(v)*m+p),n=er(M)*g+f,o=ir(M)*m+p;break;case ja.R:e=n=s[c],i=o=s[c+1],t.rect(s[c++],s[c++],s[c++],s[c++]);break;case ja.Z:t.closePath(),n=e,o=i}}}},rr.CMD=ja;var hr=2*Math.PI;function cr(t){return(t%=hr)<0&&(t+=hr),t}var dr=2*Math.PI;function fr(t,e,i,n,o,a,r,s,l){if(0===r)return!1;var u=r;s-=t,l-=e;var h=Math.sqrt(s*s+l*l);if(i<h-u||h+u<i)return!1;if(Math.abs(n-o)%dr<1e-4)return!0;if(a){var c=n;n=cr(o),o=cr(c)}else n=cr(n),o=cr(o);o<n&&(o+=dr);var d=Math.atan2(l,s);return d<0&&(d+=dr),n<=d&&d<=o||n<=d+dr&&d+dr<=o}function pr(t,e,i,n,o,a){if(e<a&&n<a||a<e&&a<n)return 0;if(n===e)return 0;var r=n<e?1:-1,s=(a-e)/(n-e);1!=s&&0!=s||(r=n<e?.5:-.5);var l=s*(i-t)+t;return l===o?1/0:o<l?r:0}var gr=rr.CMD,mr=2*Math.PI,vr=1e-4;var yr=[-1,-1,-1],xr=[-1,-1];function _r(t,e,i,n,o,a,r,s,l,u){if(e<u&&n<u&&a<u&&s<u||u<e&&u<n&&u<a&&u<s)return 0;var h,c=function(t,e,i,n,o,a){var r=n+3*(e-i)-t,s=3*(i-2*e+t),l=3*(e-t),u=t-o,h=s*s-3*r*l,c=s*l-9*r*u,d=l*l-3*s*u,f=0;if(Ma(h)&&Ma(c)){if(Ma(s))a[0]=0;else 0<=(M=-l/s)&&M<=1&&(a[f++]=M)}else{var p=c*c-4*h*d;if(Ma(p)){var g=c/h,m=-g/2;0<=(M=-s/r+g)&&M<=1&&(a[f++]=M),0<=m&&m<=1&&(a[f++]=m)}else if(0<p){var v=ma(p),y=h*s+1.5*r*(-c+v),x=h*s+1.5*r*(-c-v);0<=(M=(-s-((y=y<0?-ga(-y,_a):ga(y,_a))+(x=x<0?-ga(-x,_a):ga(x,_a))))/(3*r))&&M<=1&&(a[f++]=M)}else{var _=(2*h*s-3*r*c)/(2*ma(h*h*h)),w=Math.acos(_)/3,b=ma(h),S=Math.cos(w),M=(-s-2*b*S)/(3*r),I=(m=(-s+b*(S+xa*Math.sin(w)))/(3*r),(-s+b*(S-xa*Math.sin(w)))/(3*r));0<=M&&M<=1&&(a[f++]=M),0<=m&&m<=1&&(a[f++]=m),0<=I&&I<=1&&(a[f++]=I)}}return f}(e,n,a,s,u,yr);if(0===c)return 0;for(var d,f,p=0,g=-1,m=0;m<c;m++){var v=yr[m],y=0===v||1===v?.5:1;Ta(t,i,o,r,v)<l||(g<0&&(g=Da(e,n,a,s,xr),xr[1]<xr[0]&&1<g&&(void 0,h=xr[0],xr[0]=xr[1],xr[1]=h),d=Ta(e,n,a,s,xr[0]),1<g&&(f=Ta(e,n,a,s,xr[1]))),2===g?v<xr[0]?p+=d<e?y:-y:v<xr[1]?p+=f<d?y:-y:p+=s<f?y:-y:v<xr[0]?p+=d<e?y:-y:p+=s<d?y:-y)}return p}function wr(t,e,i,n,o,a,r,s){if(e<s&&n<s&&a<s||s<e&&s<n&&s<a)return 0;var l=function(t,e,i,n,o){var a=t-2*e+i,r=2*(e-t),s=t-n,l=0;if(Ma(a)){if(Ia(r))0<=(h=-s/r)&&h<=1&&(o[l++]=h)}else{var u=r*r-4*a*s;if(Ma(u))0<=(h=-r/(2*a))&&h<=1&&(o[l++]=h);else if(0<u){var h,c=ma(u),d=(-r-c)/(2*a);0<=(h=(-r+c)/(2*a))&&h<=1&&(o[l++]=h),0<=d&&d<=1&&(o[l++]=d)}}return l}(e,n,a,s,yr);if(0===l)return 0;var u=Pa(e,n,a);if(0<=u&&u<=1){for(var h=0,c=La(e,n,a,u),d=0;d<l;d++){var f=0===yr[d]||1===yr[d]?.5:1;La(t,i,o,yr[d])<r||(yr[d]<u?h+=c<e?f:-f:h+=a<c?f:-f)}return h}f=0===yr[0]||1===yr[0]?.5:1;return La(t,i,o,yr[0])<r?0:a<e?f:-f}function br(t,e,i,n,o,a,r,s){if(i<(s-=e)||s<-i)return 0;var l=Math.sqrt(i*i-s*s);yr[0]=-l,yr[1]=l;var u=Math.abs(n-o);if(u<1e-4)return 0;if(u%mr<1e-4){o=mr;var h=a?1:-1;return r>=yr[n=0]+t&&r<=yr[1]+t?h:0}if(a){l=n;n=cr(o),o=cr(l)}else n=cr(n),o=cr(o);o<n&&(o+=mr);for(var c=0,d=0;d<2;d++){var f=yr[d];if(r<f+t){var p=Math.atan2(s,f);h=a?1:-1;p<0&&(p=mr+p),(n<=p&&p<=o||n<=p+mr&&p+mr<=o)&&(p>Math.PI/2&&p<1.5*Math.PI&&(h=-h),c+=h)}}return c}function Sr(t,e,i,n,o){for(var a=0,r=0,s=0,l=0,u=0,h=0;h<t.length;){var c=t[h++];switch(c===gr.M&&1<h&&(i||(a+=pr(r,s,l,u,n,o))),1===h&&(l=r=t[h],u=s=t[h+1]),c){case gr.M:r=l=t[h++],s=u=t[h++];break;case gr.L:if(i){if(sr(r,s,t[h],t[h+1],e,n,o))return!0}else a+=pr(r,s,t[h],t[h+1],n,o)||0;r=t[h++],s=t[h++];break;case gr.C:if(i){if(lr(r,s,t[h++],t[h++],t[h++],t[h++],t[h],t[h+1],e,n,o))return!0}else a+=_r(r,s,t[h++],t[h++],t[h++],t[h++],t[h],t[h+1],n,o)||0;r=t[h++],s=t[h++];break;case gr.Q:if(i){if(ur(r,s,t[h++],t[h++],t[h],t[h+1],e,n,o))return!0}else a+=wr(r,s,t[h++],t[h++],t[h],t[h+1],n,o)||0;r=t[h++],s=t[h++];break;case gr.A:var d=t[h++],f=t[h++],p=t[h++],g=t[h++],m=t[h++],v=t[h++];h+=1;var y=1-t[h++],x=Math.cos(m)*p+d,_=Math.sin(m)*g+f;1<h?a+=pr(r,s,x,_,n,o):(l=x,u=_);var w=(n-d)*g/p+d;if(i){if(fr(d,f,g,m,m+v,y,e,w,o))return!0}else a+=br(d,f,g,m,m+v,y,w,o);r=Math.cos(m+v)*p+d,s=Math.sin(m+v)*g+f;break;case gr.R:l=r=t[h++],u=s=t[h++];x=l+t[h++],_=u+t[h++];if(i){if(sr(l,u,x,u,e,n,o)||sr(x,u,x,_,e,n,o)||sr(x,_,l,_,e,n,o)||sr(l,_,l,u,e,n,o))return!0}else a+=pr(x,u,x,_,n,o),a+=pr(l,_,l,u,n,o);break;case gr.Z:if(i){if(sr(r,s,l,u,e,n,o))return!0}else a+=pr(r,s,l,u,n,o);r=l,s=u}}return i||function(t,e){return Math.abs(t-e)<vr}(s,u)||(a+=pr(r,s,l,u,n,o)||0),0!==a}var Mr=$i.prototype.getCanvasPattern,Ir=Math.abs,Tr=new rr(!0);function Ar(t){Jn.call(this,t),this.path=null}Ar.prototype={constructor:Ar,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(t,e){var i,n=this.style,o=this.path||Tr,a=n.hasStroke(),r=n.hasFill(),s=n.fill,l=n.stroke,u=r&&!!s.colorStops,h=a&&!!l.colorStops,c=r&&!!s.image,d=a&&!!l.image;n.bind(t,this,e),this.setTransform(t),this.__dirty&&(u&&(i=i||this.getBoundingRect(),this._fillGradient=n.getGradient(t,s,i)),h&&(i=i||this.getBoundingRect(),this._strokeGradient=n.getGradient(t,l,i)));u?t.fillStyle=this._fillGradient:c&&(t.fillStyle=Mr.call(s,t)),h?t.strokeStyle=this._strokeGradient:d&&(t.strokeStyle=Mr.call(l,t));var f=n.lineDash,p=n.lineDashOffset,g=!!t.setLineDash,m=this.getGlobalScale();if(o.setScale(m[0],m[1],this.segmentIgnoreThreshold),this.__dirtyPath||f&&!g&&a?(o.beginPath(t),f&&!g&&(o.setLineDash(f),o.setLineDashOffset(p)),this.buildPath(o,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),r)if(null!=n.fillOpacity){var v=t.globalAlpha;t.globalAlpha=n.fillOpacity*n.opacity,o.fill(t),t.globalAlpha=v}else o.fill(t);if(f&&g&&(t.setLineDash(f),t.lineDashOffset=p),a)if(null!=n.strokeOpacity){v=t.globalAlpha;t.globalAlpha=n.strokeOpacity*n.opacity,o.stroke(t),t.globalAlpha=v}else o.stroke(t);f&&g&&t.setLineDash([]),null!=n.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},buildPath:function(t,e,i){},createPathProxy:function(){this.path=new rr},getBoundingRect:function(){var t=this._rect,e=this.style,i=!t;if(i){var n=this.path;n=n||(this.path=new rr),this.__dirtyPath&&(n.beginPath(),this.buildPath(n,this.shape,!1)),t=n.getBoundingRect()}if(this._rect=t,e.hasStroke()){var o=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||i){o.copy(t);var a=e.lineWidth,r=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(a=Math.max(a,this.strokeContainThreshold||4)),1e-10<r&&(o.width+=a/r,o.height+=a/r,o.x-=a/r/2,o.y-=a/r/2)}return o}return t},contain:function(t,e){var i=this.transformCoordToLocal(t,e),n=this.getBoundingRect(),o=this.style;if(t=i[0],e=i[1],n.contain(t,e)){var a=this.path.data;if(o.hasStroke()){var r=o.lineWidth,s=o.strokeNoScale?this.getLineScale():1;if(1e-10<s&&(o.hasFill()||(r=Math.max(r,this.strokeContainThreshold)),function(t,e,i,n){return Sr(t,e,!0,i,n)}(a,r/s,t,e)))return!0}if(o.hasFill())return function(t,e,i){return Sr(t,0,!1,e,i)}(a,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):Jn.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var i=this.shape;if(i){if(z(t))for(var n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);else i[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&1e-10<Ir(t[0]-1)&&1e-10<Ir(t[3]-1)?Math.sqrt(Ir(t[0]*t[3]-t[2]*t[1])):1}},Ar.extend=function(o){function t(t){Ar.call(this,t),o.style&&this.style.extendFrom(o.style,!1);var e=o.shape;if(e){this.shape=this.shape||{};var i=this.shape;for(var n in e)!i.hasOwnProperty(n)&&e.hasOwnProperty(n)&&(i[n]=e[n])}o.init&&o.init.call(this,t)}for(var e in w(t,Ar),o)"style"!==e&&"shape"!==e&&(t.prototype[e]=o[e]);return t},w(Ar,Jn);function Dr(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}var Cr=rr.CMD,Lr=[[],[],[]],kr=Math.sqrt,Pr=Math.atan2,Nr=function(t,e){var i,n,o,a,r,s=t.data,l=Cr.M,u=Cr.C,h=Cr.L,c=Cr.R,d=Cr.A,f=Cr.Q;for(a=o=0;o<s.length;){switch(i=s[o++],a=o,n=0,i){case l:case h:n=1;break;case u:n=3;break;case f:n=2;break;case d:var p=e[4],g=e[5],m=kr(e[0]*e[0]+e[1]*e[1]),v=kr(e[2]*e[2]+e[3]*e[3]),y=Pr(-e[1]/v,e[0]/m);s[o]*=m,s[o++]+=p,s[o]*=v,s[o++]+=g,s[o++]*=m,s[o++]*=v,s[o++]+=y,s[o++]+=y,a=o+=2;break;case c:x[0]=s[o++],x[1]=s[o++],bt(x,x,e),s[a++]=x[0],s[a++]=x[1],x[0]+=s[o++],x[1]+=s[o++],bt(x,x,e),s[a++]=x[0],s[a++]=x[1]}for(r=0;r<n;r++){var x;(x=Lr[r])[0]=s[o++],x[1]=s[o++],bt(x,x,e),s[a++]=x[0],s[a++]=x[1]}}},Or=Math.sqrt,Er=Math.sin,Rr=Math.cos,zr=Math.PI,Br=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(Dr(t)*Dr(e))},Vr=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Br(t,e))};function Gr(t,e,i,n,o,a,r,s,l,u,h){var c=l*(zr/180),d=Rr(c)*(t-i)/2+Er(c)*(e-n)/2,f=-1*Er(c)*(t-i)/2+Rr(c)*(e-n)/2,p=d*d/(r*r)+f*f/(s*s);1<p&&(r*=Or(p),s*=Or(p));var g=(o===a?-1:1)*Or((r*r*(s*s)-r*r*(f*f)-s*s*(d*d))/(r*r*(f*f)+s*s*(d*d)))||0,m=g*r*f/s,v=g*-s*d/r,y=(t+i)/2+Rr(c)*m-Er(c)*v,x=(e+n)/2+Er(c)*m+Rr(c)*v,_=Vr([1,0],[(d-m)/r,(f-v)/s]),w=[(d-m)/r,(f-v)/s],b=[(-1*d-m)/r,(-1*f-v)/s],S=Vr(w,b);Br(w,b)<=-1&&(S=zr),1<=Br(w,b)&&(S=0),0===a&&0<S&&(S-=2*zr),1===a&&S<0&&(S+=2*zr),h.addData(u,y,x,r,s,_,S,c,a)}var Fr=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,Wr=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Hr(t,e){var i=function(t){if(!t)return new rr;for(var e,i=0,n=0,o=i,a=n,r=new rr,s=rr.CMD,l=t.match(Fr),u=0;u<l.length;u++){for(var h,c=l[u],d=c.charAt(0),f=c.match(Wr)||[],p=f.length,g=0;g<p;g++)f[g]=parseFloat(f[g]);for(var m=0;m<p;){var v,y,x,_,w,b,S,M=i,I=n;switch(d){case"l":i+=f[m++],n+=f[m++],h=s.L,r.addData(h,i,n);break;case"L":i=f[m++],n=f[m++],h=s.L,r.addData(h,i,n);break;case"m":i+=f[m++],n+=f[m++],h=s.M,r.addData(h,i,n),o=i,a=n,d="l";break;case"M":i=f[m++],n=f[m++],h=s.M,r.addData(h,i,n),o=i,a=n,d="L";break;case"h":i+=f[m++],h=s.L,r.addData(h,i,n);break;case"H":i=f[m++],h=s.L,r.addData(h,i,n);break;case"v":n+=f[m++],h=s.L,r.addData(h,i,n);break;case"V":n=f[m++],h=s.L,r.addData(h,i,n);break;case"C":h=s.C,r.addData(h,f[m++],f[m++],f[m++],f[m++],f[m++],f[m++]),i=f[m-2],n=f[m-1];break;case"c":h=s.C,r.addData(h,f[m++]+i,f[m++]+n,f[m++]+i,f[m++]+n,f[m++]+i,f[m++]+n),i+=f[m-2],n+=f[m-1];break;case"S":v=i,y=n;var T=r.len(),A=r.data;e===s.C&&(v+=i-A[T-4],y+=n-A[T-3]),h=s.C,M=f[m++],I=f[m++],i=f[m++],n=f[m++],r.addData(h,v,y,M,I,i,n);break;case"s":v=i,y=n;T=r.len(),A=r.data;e===s.C&&(v+=i-A[T-4],y+=n-A[T-3]),h=s.C,M=i+f[m++],I=n+f[m++],i+=f[m++],n+=f[m++],r.addData(h,v,y,M,I,i,n);break;case"Q":M=f[m++],I=f[m++],i=f[m++],n=f[m++],h=s.Q,r.addData(h,M,I,i,n);break;case"q":M=f[m++]+i,I=f[m++]+n,i+=f[m++],n+=f[m++],h=s.Q,r.addData(h,M,I,i,n);break;case"T":v=i,y=n;T=r.len(),A=r.data;e===s.Q&&(v+=i-A[T-4],y+=n-A[T-3]),i=f[m++],n=f[m++],h=s.Q,r.addData(h,v,y,i,n);break;case"t":v=i,y=n;T=r.len(),A=r.data;e===s.Q&&(v+=i-A[T-4],y+=n-A[T-3]),i+=f[m++],n+=f[m++],h=s.Q,r.addData(h,v,y,i,n);break;case"A":x=f[m++],_=f[m++],w=f[m++],b=f[m++],S=f[m++],Gr(M=i,I=n,i=f[m++],n=f[m++],b,S,x,_,w,h=s.A,r);break;case"a":x=f[m++],_=f[m++],w=f[m++],b=f[m++],S=f[m++],Gr(M=i,I=n,i+=f[m++],n+=f[m++],b,S,x,_,w,h=s.A,r)}}"z"!==d&&"Z"!==d||(h=s.Z,r.addData(h),i=o,n=a),e=h}return r.toStatic(),r}(t);return(e=e||{}).buildPath=function(t){if(t.setData){t.setData(i.data),(e=t.getContext())&&t.rebuildPath(e)}else{var e=t;i.rebuildPath(e)}},e.applyTransform=function(t){Nr(i,t),this.dirty(!0)},e}function Zr(t,e){return new Ar(Hr(t,e))}var Ur=function(t){Jn.call(this,t)};Ur.prototype={constructor:Ur,type:"text",brush:function(t,e){var i=this.style;this.__dirty&&En(i),i.fill=i.stroke=i.shadowBlur=i.shadowColor=i.shadowOffsetX=i.shadowOffsetY=null;var n=i.text;null!=n&&(n+=""),qn(n,i)?(this.setTransform(t),zn(this,t,n,i,null,e),this.restoreTransform(t)):t.__attrCachedBy=Wi.NONE},getBoundingRect:function(){var t=this.style;if(this.__dirty&&En(t),!this._rect){var e=t.text;null!=e?e+="":e="";var i=gn(t.text+"",t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich);if(i.x+=t.x||0,i.y+=t.y||0,Un(t.textStroke,t.textStrokeWidth)){var n=t.textStrokeWidth;i.x-=n/2,i.y-=n/2,i.width+=n,i.height+=n}this._rect=i}return this._rect}},w(Ur,Jn);function Xr(l){return v.browser.ie&&11<=v.browser.version?function(){var t,e=this.__clipPaths,i=this.style;if(e)for(var n=0;n<e.length;n++){var o=e[n],a=o&&o.shape,r=o&&o.type;if(a&&("sector"===r&&a.startAngle===a.endAngle||"rect"===r&&(!a.width||!a.height))){for(var s=0;s<jr.length;s++)jr[s][2]=i[jr[s][0]],i[jr[s][0]]=jr[s][1];t=!0;break}}if(l.apply(this,arguments),t)for(s=0;s<jr.length;s++)i[jr[s][0]]=jr[s][2]}:l}var Yr=Ar.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,i){i&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}}),jr=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],qr=Ar.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:Xr(Ar.prototype.brush),buildPath:function(t,e){var i=e.cx,n=e.cy,o=Math.max(e.r0||0,0),a=Math.max(e.r,0),r=e.startAngle,s=e.endAngle,l=e.clockwise,u=Math.cos(r),h=Math.sin(r);t.moveTo(u*o+i,h*o+n),t.lineTo(u*a+i,h*a+n),t.arc(i,n,a,r,s,!l),t.lineTo(Math.cos(s)*o+i,Math.sin(s)*o+n),0!==o&&t.arc(i,n,o,s,r,l),t.closePath()}}),Kr=Ar.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var i=e.cx,n=e.cy,o=2*Math.PI;t.moveTo(i+e.r,n),t.arc(i,n,e.r,0,o,!1),t.moveTo(i+e.r0,n),t.arc(i,n,e.r0,0,o,!0)}});function $r(t,e,i,n,o,a,r){var s=.5*(i-t),l=.5*(n-e);return(2*(e-i)+s+l)*r+(-3*(e-i)-2*s-l)*a+s*o+e}function Jr(t,e,i){var n=e.points,o=e.smooth;if(n&&2<=n.length){if(o&&"spline"!==o){var a=function(t,e,i,n){var o,a,r,s,l=[],u=[],h=[],c=[];if(n){r=[1/0,1/0],s=[-1/0,-1/0];for(var d=0,f=t.length;d<f;d++)St(r,r,t[d]),Mt(s,s,t[d]);St(r,r,n[0]),Mt(s,s,n[1])}for(d=0,f=t.length;d<f;d++){var p=t[d];if(i)o=t[d?d-1:f-1],a=t[(d+1)%f];else{if(0===d||d===f-1){l.push(rt(t[d]));continue}o=t[d-1],a=t[d+1]}ht(u,a,o),gt(u,u,e);var g=vt(p,o),m=vt(p,a),v=g+m;0!==v&&(g/=v,m/=v),gt(h,u,-g),gt(c,u,m);var y=lt([],p,h),x=lt([],p,c);n&&(Mt(y,y,r),St(y,y,s),Mt(x,x,r),St(x,x,s)),l.push(y),l.push(x)}return i&&l.push(l.shift()),l}(n,o,i,e.smoothConstraint);t.moveTo(n[0][0],n[0][1]);for(var r=n.length,s=0;s<(i?r:r-1);s++){var l=a[2*s],u=a[2*s+1],h=n[(s+1)%r];t.bezierCurveTo(l[0],l[1],u[0],u[1],h[0],h[1])}}else{"spline"===o&&(n=function(t,e){for(var i=t.length,n=[],o=0,a=1;a<i;a++)o+=vt(t[a-1],t[a]);var r=o/2;r=r<i?i:r;for(a=0;a<r;a++){var s,l,u,h=a/(r-1)*(e?i:i-1),c=Math.floor(h),d=h-c,f=t[c%i];u=e?(s=t[(c-1+i)%i],l=t[(c+1)%i],t[(c+2)%i]):(s=t[0===c?c:c-1],l=t[i-2<c?i-1:c+1],t[i-3<c?i-1:c+2]);var p=d*d,g=d*p;n.push([$r(s[0],f[0],l[0],u[0],d,p,g),$r(s[1],f[1],l[1],u[1],d,p,g)])}return n}(n,i)),t.moveTo(n[0][0],n[0][1]);s=1;for(var c=n.length;s<c;s++)t.lineTo(n[s][0],n[s][1])}i&&t.closePath()}}var Qr=Ar.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){Jr(t,e,!0)}}),ts=Ar.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){Jr(t,e,!1)}}),es=Math.round;function is(t,e,i){if(e){var n=e.x1,o=e.x2,a=e.y1,r=e.y2;t.x1=n,t.x2=o,t.y1=a,t.y2=r;var s=i&&i.lineWidth;s&&(es(2*n)===es(2*o)&&(t.x1=t.x2=os(n,s,!0)),es(2*a)===es(2*r)&&(t.y1=t.y2=os(a,s,!0)))}}function ns(t,e,i){if(e){var n=e.x,o=e.y,a=e.width,r=e.height;t.x=n,t.y=o,t.width=a,t.height=r;var s=i&&i.lineWidth;s&&(t.x=os(n,s,!0),t.y=os(o,s,!0),t.width=Math.max(os(n+a,s,!1)-t.x,0===a?0:1),t.height=Math.max(os(o+r,s,!1)-t.y,0===r?0:1))}}function os(t,e,i){if(!e)return t;var n=es(2*t);return(n+es(e))%2==0?n/2:(n+(i?1:-1))/2}var as={},rs=Ar.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var i,n,o,a;this.subPixelOptimize?(ns(as,e,this.style),i=as.x,n=as.y,o=as.width,a=as.height,as.r=e.r,e=as):(i=e.x,n=e.y,o=e.width,a=e.height),e.r?Dn(t,e):t.rect(i,n,o,a),t.closePath()}}),ss={},ls=Ar.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i,n,o,a;a=this.subPixelOptimize?(is(ss,e,this.style),i=ss.x1,n=ss.y1,o=ss.x2,ss.y2):(i=e.x1,n=e.y1,o=e.x2,e.y2);var r=e.percent;0!==r&&(t.moveTo(i,n),r<1&&(o=i*(1-r)+o*r,a=n*(1-r)+a*r),t.lineTo(o,a))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}}),us=[];function hs(t,e,i){var n=t.cpx2,o=t.cpy2;return null===n||null===o?[(i?Aa:Ta)(t.x1,t.cpx1,t.cpx2,t.x2,e),(i?Aa:Ta)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(i?ka:La)(t.x1,t.cpx1,t.x2,e),(i?ka:La)(t.y1,t.cpy1,t.y2,e)]}function cs(t){this.colorStops=t||[]}var ds=Ar.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.x1,n=e.y1,o=e.x2,a=e.y2,r=e.cpx1,s=e.cpy1,l=e.cpx2,u=e.cpy2,h=e.percent;0!==h&&(t.moveTo(i,n),null==l||null==u?(h<1&&(Na(i,r,o,h,us),r=us[1],o=us[2],Na(n,s,a,h,us),s=us[1],a=us[2]),t.quadraticCurveTo(r,s,o,a)):(h<1&&(Ca(i,r,l,o,h,us),r=us[1],l=us[2],o=us[3],Ca(n,s,u,a,h,us),s=us[1],u=us[2],a=us[3]),t.bezierCurveTo(r,s,l,u,o,a)))},pointAt:function(t){return hs(this.shape,t,!1)},tangentAt:function(t){var e=hs(this.shape,t,!0);return mt(e,e)}}),fs=Ar.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.cx,n=e.cy,o=Math.max(e.r,0),a=e.startAngle,r=e.endAngle,s=e.clockwise,l=Math.cos(a),u=Math.sin(a);t.moveTo(l*o+i,u*o+n),t.arc(i,n,o,a,r,!s)}}),ps=Ar.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,i=0;i<e.length;i++)t=t||e[i].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(e[0],e[1],t[i].segmentIgnoreThreshold)},buildPath:function(t,e){for(var i=e.paths||[],n=0;n<i.length;n++)i[n].buildPath(t,i[n].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),Ar.prototype.getBoundingRect.call(this)}});cs.prototype={constructor:cs,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};function gs(t,e,i,n,o,a){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==i?1:i,this.y2=null==n?0:n,this.type="linear",this.global=a||!1,cs.call(this,o)}gs.prototype={constructor:gs},w(gs,cs);function ms(t,e,i,n,o){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==i?.5:i,this.type="radial",this.global=o||!1,cs.call(this,n)}function vs(t){Jn.call(this,t),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}ms.prototype={constructor:ms},w(ms,cs),vs.prototype.incremental=!0,vs.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},vs.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.dirty()},vs.prototype.addDisplayables=function(t,e){e=e||!1;for(var i=0;i<t.length;i++)this.addDisplayable(t[i],e)},vs.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},vs.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){(e=this._displayables[t]).parent=this,e.update(),e.parent=null}for(t=0;t<this._temporaryDisplayables.length;t++){var e;(e=this._temporaryDisplayables[t]).parent=this,e.update(),e.parent=null}},vs.prototype.brush=function(t,e){for(var i=this._cursor;i<this._displayables.length;i++){(n=this._displayables[i]).beforeBrush&&n.beforeBrush(t),n.brush(t,i===this._cursor?null:this._displayables[i-1]),n.afterBrush&&n.afterBrush(t)}this._cursor=i;for(i=0;i<this._temporaryDisplayables.length;i++){var n;(n=this._temporaryDisplayables[i]).beforeBrush&&n.beforeBrush(t),n.brush(t,0===i?null:this._temporaryDisplayables[i-1]),n.afterBrush&&n.afterBrush(t)}this._temporaryDisplayables=[],this.notClear=!0};var ys=[];vs.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new Di(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var i=this._displayables[e],n=i.getBoundingRect().clone();i.needLocalTransform()&&n.applyTransform(i.getLocalTransform(ys)),t.union(n)}this._rect=t}return this._rect},vs.prototype.contain=function(t,e){var i=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(i[0],i[1]))for(var n=0;n<this._displayables.length;n++){if(this._displayables[n].contain(t,e))return!0}return!1},w(vs,Jn);var xs=Math.max,_s=Math.min,ws={},bs=1,Ss={color:"textFill",textBorderColor:"textStroke",textBorderWidth:"textStrokeWidth"},Ms="emphasis",Is="normal",Ts=1,As={},Ds={};function Cs(t){return Ar.extend(t)}function Ls(t,e){Ds[t]=e}function ks(t){if(Ds.hasOwnProperty(t))return Ds[t]}function Ps(t,e,i,n){var o=Zr(t,e);return i&&("center"===n&&(i=Os(i,o.getBoundingRect())),Rs(o,i)),o}function Ns(t,i,n){var o=new Qn({style:{image:t,x:i.x,y:i.y,width:i.width,height:i.height},onload:function(t){if("center"===n){var e={width:t.width,height:t.height};o.setStyle(Os(i,e))}}});return o}function Os(t,e){var i,n=e.width/e.height,o=t.height*n;return i=o<=t.width?t.height:(o=t.width)/n,{x:t.x+t.width/2-o/2,y:t.y+t.height/2-i/2,width:o,height:i}}var Es=function(t,e){for(var i=[],n=t.length,o=0;o<n;o++){var a=t[o];a.path||a.createPathProxy(),a.__dirtyPath&&a.buildPath(a.path,a.shape,!0),i.push(a.path)}var r=new Ar(e);return r.createPathProxy(),r.buildPath=function(t){t.appendPath(i);var e=t.getContext();e&&t.rebuildPath(e)},r};function Rs(t,e){if(t.applyTransform){var i=t.getBoundingRect().calculateTransform(e);t.applyTransform(i)}}var zs=os;function Bs(t){return null!=t&&"none"!==t}var Vs=Q(),Gs=0;function Fs(t){var e=t.__hoverStl;if(e&&!t.__highlighted){var i=t.__zr,n=t.useHoverLayer&&i&&"canvas"===i.painter.type;if(t.__highlighted=n?"layer":"plain",!(t.isGroup||!i&&t.useHoverLayer)){var o=t,a=t.style;n&&(a=(o=i.addHover(t)).style),ll(a),n||function(t){if(t.__hoverStlDirty){t.__hoverStlDirty=!1;var e=t.__hoverStl;if(e){var i=t.__cachedNormalStl={};t.__cachedNormalZ2=t.z2;var n=t.style;for(var o in e)null!=e[o]&&(i[o]=n[o]);i.fill=n.fill,i.stroke=n.stroke}else t.__cachedNormalStl=t.__cachedNormalZ2=null}}(o),a.extendFrom(e),Ws(a,e,"fill"),Ws(a,e,"stroke"),sl(a),n||(t.dirty(!1),t.z2+=bs)}}}function Ws(t,e,i){!Bs(e[i])&&Bs(t[i])&&(t[i]=function(t){if("string"!=typeof t)return t;var e=Vs.get(t);return e||(e=He(t,-.1),Gs<1e4&&(Vs.set(t,e),Gs++)),e}(t[i]))}function Hs(t){var e=t.__highlighted;if(e&&(t.__highlighted=!1,!t.isGroup))if("layer"===e)t.__zr&&t.__zr.removeHover(t);else{var i=t.style,n=t.__cachedNormalStl;n&&(ll(i),t.setStyle(n),sl(i));var o=t.__cachedNormalZ2;null!=o&&t.z2-o===bs&&(t.z2=o)}}function Zs(t,e,i){var n,o=Is,a=Is;t.__highlighted&&(o=Ms,n=!0),e(t,i),t.__highlighted&&(a=Ms,n=!0),t.isGroup&&t.traverse(function(t){t.isGroup||e(t,i)}),n&&t.__highDownOnUpdate&&t.__highDownOnUpdate(o,a)}function Us(t,e){e=t.__hoverStl=!1!==e&&(t.hoverStyle||e||{}),t.__hoverStlDirty=!0,t.__highlighted&&(t.__cachedNormalStl=null,Hs(t),Fs(t))}function Xs(t){Ks(this,t)||this.__highByOuter||Zs(this,Fs)}function Ys(t){Ks(this,t)||this.__highByOuter||Zs(this,Hs)}function js(t){this.__highByOuter|=1<<(t||0),Zs(this,Fs)}function qs(t){(this.__highByOuter&=~(1<<(t||0)))||Zs(this,Hs)}function Ks(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function $s(t,e){Js(t,!0),Zs(t,Us,e)}function Js(t,e){var i=!1===e;if(t.__highDownSilentOnTouch=t.highDownSilentOnTouch,t.__highDownOnUpdate=t.highDownOnUpdate,!i||t.__highDownDispatcher){var n=i?"off":"on";t[n]("mouseover",Xs)[n]("mouseout",Ys),t[n]("emphasis",js)[n]("normal",qs),t.__highByOuter=t.__highByOuter||0,t.__highDownDispatcher=!i}}function Qs(t){return!(!t||!t.__highDownDispatcher)}function tl(t){var e=As[t];return null==e&&Ts<=32&&(e=As[t]=Ts++),e}function el(t,e,i,n,o,a,r){var s,l=(o=o||ws).labelFetcher,u=o.labelDataIndex,h=o.labelDimIndex,c=i.getShallow("show"),d=n.getShallow("show");(c||d)&&(l&&(s=l.getFormattedLabel(u,"normal",null,h)),null==s&&(s=C(o.defaultText)?o.defaultText(u,o):o.defaultText));var f=c?s:null,p=d?H(l?l.getFormattedLabel(u,"emphasis",null,h):null,s):null;null==f&&null==p||(nl(t,i,a,o),nl(e,n,r,o,!0)),t.text=f,e.text=p}function il(t,e,i){var n=t.style;e&&(ll(n),t.setStyle(e),sl(n)),n=t.__hoverStl,i&&n&&(ll(n),k(n,i),sl(n))}function nl(t,e,i,n,o){return ol(t,e,n,o),i&&k(t,i),t}function ol(t,e,i,n){if((i=i||ws).isRectText){var o;i.getTextPosition?o=i.getTextPosition(e,n):"outside"===(o=e.getShallow("position")||(n?null:"inside"))&&(o="top"),t.textPosition=o,t.textOffset=e.getShallow("offset");var a=e.getShallow("rotate");null!=a&&(a*=Math.PI/180),t.textRotation=a,t.textDistance=H(e.getShallow("distance"),n?null:5)}var r,s=e.ecModel,l=s&&s.option.textStyle,u=function(t){var e;for(;t&&t!==t.ecModel;){var i=(t.option||ws).rich;if(i)for(var n in e=e||{},i)i.hasOwnProperty(n)&&(e[n]=1);t=t.parentModel}return e}(e);if(u)for(var h in r={},u)if(u.hasOwnProperty(h)){var c=e.getModel(["rich",h]);al(r[h]={},c,l,i,n)}return t.rich=r,al(t,e,l,i,n,!0),i.forceRich&&!i.textStyle&&(i.textStyle={}),t}function al(t,e,i,n,o,a){i=!o&&i||ws,t.textFill=rl(e.getShallow("color"),n)||i.color,t.textStroke=rl(e.getShallow("textBorderColor"),n)||i.textBorderColor,t.textStrokeWidth=H(e.getShallow("textBorderWidth"),i.textBorderWidth),o||(a&&(t.insideRollbackOpt=n,sl(t)),null==t.textFill&&(t.textFill=n.autoColor)),t.fontStyle=e.getShallow("fontStyle")||i.fontStyle,t.fontWeight=e.getShallow("fontWeight")||i.fontWeight,t.fontSize=e.getShallow("fontSize")||i.fontSize,t.fontFamily=e.getShallow("fontFamily")||i.fontFamily,t.textAlign=e.getShallow("align"),t.textVerticalAlign=e.getShallow("verticalAlign")||e.getShallow("baseline"),t.textLineHeight=e.getShallow("lineHeight"),t.textWidth=e.getShallow("width"),t.textHeight=e.getShallow("height"),t.textTag=e.getShallow("tag"),a&&n.disableBox||(t.textBackgroundColor=rl(e.getShallow("backgroundColor"),n),t.textPadding=e.getShallow("padding"),t.textBorderColor=rl(e.getShallow("borderColor"),n),t.textBorderWidth=e.getShallow("borderWidth"),t.textBorderRadius=e.getShallow("borderRadius"),t.textBoxShadowColor=e.getShallow("shadowColor"),t.textBoxShadowBlur=e.getShallow("shadowBlur"),t.textBoxShadowOffsetX=e.getShallow("shadowOffsetX"),t.textBoxShadowOffsetY=e.getShallow("shadowOffsetY")),t.textShadowColor=e.getShallow("textShadowColor")||i.textShadowColor,t.textShadowBlur=e.getShallow("textShadowBlur")||i.textShadowBlur,t.textShadowOffsetX=e.getShallow("textShadowOffsetX")||i.textShadowOffsetX,t.textShadowOffsetY=e.getShallow("textShadowOffsetY")||i.textShadowOffsetY}function rl(t,e){return"auto"!==t?t:e&&e.autoColor?e.autoColor:null}function sl(t){var e,i=t.textPosition,n=t.insideRollbackOpt;if(n&&null==t.textFill){var o=n.autoColor,a=n.isRectText,r=n.useInsideStyle,s=!1!==r&&(!0===r||a&&i&&"string"==typeof i&&0<=i.indexOf("inside")),l=!s&&null!=o;(s||l)&&(e={textFill:t.textFill,textStroke:t.textStroke,textStrokeWidth:t.textStrokeWidth}),s&&(t.textFill="#fff",null==t.textStroke&&(t.textStroke=o,null==t.textStrokeWidth&&(t.textStrokeWidth=2))),l&&(t.textFill=o)}t.insideRollback=e}function ll(t){var e=t.insideRollback;e&&(t.textFill=e.textFill,t.textStroke=e.textStroke,t.textStrokeWidth=e.textStrokeWidth,t.insideRollback=null)}function ul(t,e){var i=e&&e.getModel("textStyle");return j([t.fontStyle||i&&i.getShallow("fontStyle")||"",t.fontWeight||i&&i.getShallow("fontWeight")||"",(t.fontSize||i&&i.getShallow("fontSize")||12)+"px",t.fontFamily||i&&i.getShallow("fontFamily")||"sans-serif"].join(" "))}function hl(t,e,i,n,o,a){if("function"==typeof o&&(a=o,o=null),n&&n.isAnimationEnabled()){var r=t?"Update":"",s=n.getShallow("animationDuration"+r),l=n.getShallow("animationEasing"+r),u=n.getShallow("animationDelay"+r);"function"==typeof u&&(u=u(o,n.getAnimationDelayParams?n.getAnimationDelayParams(e,o):null)),"function"==typeof s&&(s=s(o)),0<s?e.animateTo(i,s,u||0,l,a,!!a):(e.stopAnimation(),e.attr(i),a&&a())}else e.stopAnimation(),e.attr(i),a&&a()}function cl(t,e,i,n,o){hl(!0,t,e,i,n,o)}function dl(t,e,i,n,o){hl(!1,t,e,i,n,o)}function fl(t,e){for(var i=re([]);t&&t!==e;)le(i,t.getLocalTransform(),i),t=t.parent;return i}function pl(t,e,i){return e&&!P(e)&&(e=ve.getLocalTransform(e)),i&&(e=de([],e)),bt([],t,e)}function gl(t,e,i){var n=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),o=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),a=["left"===t?-n:"right"===t?n:0,"top"===t?-o:"bottom"===t?o:0];return a=pl(a,e,i),Math.abs(a[0])>Math.abs(a[1])?0<a[0]?"right":"left":0<a[1]?"bottom":"top"}function ml(t,e,n,i){if(t&&e){var o,a=(o={},t.traverse(function(t){!t.isGroup&&t.anid&&(o[t.anid]=t)}),o);e.traverse(function(t){if(!t.isGroup&&t.anid){var e=a[t.anid];if(e){var i=r(t);t.attr(r(e)),cl(t,i,n,t.dataIndex)}}})}function r(t){var e={position:rt(t.position),rotation:t.rotation};return t.shape&&(e.shape=k({},t.shape)),e}}function vl(t,n){return N(t,function(t){var e=t[0];e=xs(e,n.x),e=_s(e,n.x+n.width);var i=t[1];return i=xs(i,n.y),[e,i=_s(i,n.y+n.height)]})}function yl(t,e,i){var n=(e=k({rectHover:!0},e)).style={strokeNoScale:!0};if(i=i||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(n.image=t.slice(8),D(n,i),new Qn(e)):Ps(t.replace("path://",""),e,i,"center")}function xl(t,e,i,n,o){for(var a=0,r=o[o.length-1];a<o.length;a++){var s=o[a];if(_l(t,e,i,n,s[0],s[1],r[0],r[1]))return!0;r=s}}function _l(t,e,i,n,o,a,r,s){var l=i-t,u=n-e,h=r-o,c=s-a,d=wl(h,c,l,u);if(function(t){return t<=1e-6&&-1e-6<=t}(d))return!1;var f=t-o,p=e-a,g=wl(f,p,l,u)/d;if(g<0||1<g)return!1;var m=wl(f,p,h,c)/d;return!(m<0||1<m)}function wl(t,e,i,n){return t*n-i*e}Ls("circle",Yr),Ls("sector",qr),Ls("ring",Kr),Ls("polygon",Qr),Ls("polyline",ts),Ls("rect",rs),Ls("line",ls),Ls("bezierCurve",ds),Ls("arc",fs);var bl=(Object.freeze||Object)({Z2_EMPHASIS_LIFT:bs,CACHED_LABEL_STYLE_PROPERTIES:Ss,extendShape:Cs,extendPath:function(t,e){return function(t,e){return Ar.extend(Hr(t,e))}(t,e)},registerShape:Ls,getShapeClass:ks,makePath:Ps,makeImage:Ns,mergePath:Es,resizePath:Rs,subPixelOptimizeLine:function(t){return is(t.shape,t.shape,t.style),t},subPixelOptimizeRect:function(t){return ns(t.shape,t.shape,t.style),t},subPixelOptimize:zs,setElementHoverStyle:Us,setHoverStyle:$s,setAsHighDownDispatcher:Js,isHighDownDispatcher:Qs,getHighlightDigit:tl,setLabelStyle:el,modifyLabelStyle:il,setTextStyle:nl,setText:function(t,e,i){var n,o={isRectText:!0};!1===i?n=!0:o.autoColor=i,ol(t,e,o,n)},getFont:ul,updateProps:cl,initProps:dl,getTransform:fl,applyTransform:pl,transformDirection:gl,groupTransition:ml,clipPointsByRect:vl,clipRectByRect:function(t,e){var i=xs(t.x,e.x),n=_s(t.x+t.width,e.x+e.width),o=xs(t.y,e.y),a=_s(t.y+t.height,e.y+e.height);if(i<=n&&o<=a)return{x:i,y:o,width:n-i,height:a-o}},createIcon:yl,linePolygonIntersect:xl,lineLineIntersect:_l,Group:Ci,Image:Qn,Text:Ur,Circle:Yr,Sector:qr,Ring:Kr,Polygon:Qr,Polyline:ts,Rect:rs,Line:ls,BezierCurve:ds,Arc:fs,IncrementalDisplayable:vs,CompoundPath:ps,LinearGradient:gs,RadialGradient:ms,BoundingRect:Di}),Sl=["textStyle","color"],Ml={getTextColor:function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(Sl):null)},getFont:function(){return ul({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(t){return gn(t,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}},Il=ha([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),Tl={getItemStyle:function(t,e){var i=Il(this,t,e),n=this.getBorderLineDash();return n&&(i.lineDash=n),i},getBorderLineDash:function(){var t=this.get("borderType");return"solid"===t||null==t?null:"dashed"===t?[5,5]:[1,1]}},Al=b,Dl=jo();function Cl(t,e,i){this.parentModel=e,this.ecModel=i,this.option=t}function Ll(t,e,i){for(var n=0;n<e.length&&(!e[n]||null!=(t=t&&"object"==typeof t?t[e[n]]:null));n++);return null==t&&i&&(t=i.get(e)),t}function kl(t,e){var i=Dl(t).getParent;return i?i.call(t,e):t.parentModel}Cl.prototype={constructor:Cl,init:null,mergeOption:function(t){m(this.option,t,!0)},get:function(t,e){return null==t?this.option:Ll(this.option,this.parsePath(t),!e&&kl(this,t))},getShallow:function(t,e){var i=this.option,n=null==i?i:i[t],o=!e&&kl(this,t);return null==n&&o&&(n=o.getShallow(t)),n},getModel:function(t,e){var i;return new Cl(null==t?this.option:Ll(this.option,t=this.parsePath(t)),e=e||(i=kl(this,t))&&i.getModel(t),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new this.constructor(L(this.option))},setReadOnly:function(t){},parsePath:function(t){return"string"==typeof t&&(t=t.split(".")),t},customizeGetParent:function(t){Dl(this).getParent=t},isAnimationEnabled:function(){if(!v.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},oa(Cl),ra(Cl),Al(Cl,da),Al(Cl,pa),Al(Cl,Ml),Al(Cl,Tl);var Pl=0;function Nl(t){return[t||"",Pl++,Math.random().toFixed(5)].join("_")}var Ol=1e-4;function El(t,e,i,n){var o=e[1]-e[0],a=i[1]-i[0];if(0==o)return 0==a?i[0]:(i[0]+i[1])/2;if(n)if(0<o){if(t<=e[0])return i[0];if(t>=e[1])return i[1]}else{if(t>=e[0])return i[0];if(t<=e[1])return i[1]}else{if(t===e[0])return i[0];if(t===e[1])return i[1]}return(t-e[0])/o*a+i[0]}function Rl(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?function(t){return t.replace(/^\s+|\s+$/g,"")}(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t}function zl(t,e,i){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),i?t:+t}function Bl(t){return t.sort(function(t,e){return t-e}),t}function Vl(t){if(t=+t,isNaN(t))return 0;for(var e=1,i=0;Math.round(t*e)/e!==t;)e*=10,i++;return i}function Gl(t){var e=t.toString(),i=e.indexOf("e");if(0<i){var n=+e.slice(i+1);return n<0?-n:0}var o=e.indexOf(".");return o<0?0:e.length-1-o}function Fl(t,e){var i=Math.log,n=Math.LN10,o=Math.floor(i(t[1]-t[0])/n),a=Math.round(i(Math.abs(e[1]-e[0]))/n),r=Math.min(Math.max(-o+a,0),20);return isFinite(r)?r:20}function Wl(t,e,i){if(!t[e])return 0;var n=S(t,function(t,e){return t+(isNaN(e)?0:e)},0);if(0===n)return 0;for(var o=Math.pow(10,i),a=N(t,function(t){return(isNaN(t)?0:t)/n*o*100}),r=100*o,s=N(a,function(t){return Math.floor(t)}),l=S(s,function(t,e){return t+e},0),u=N(a,function(t,e){return t-s[e]});l<r;){for(var h=Number.NEGATIVE_INFINITY,c=null,d=0,f=u.length;d<f;++d)u[d]>h&&(h=u[d],c=d);++s[c],u[c]=0,++l}return s[e]/o}var Hl=9007199254740991;function Zl(t){var e=2*Math.PI;return(t%e+e)%e}function Ul(t){return-Ol<t&&t<Ol}var Xl=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Yl(t){if(t instanceof Date)return t;if("string"!=typeof t)return null==t?new Date(NaN):new Date(Math.round(t));var e=Xl.exec(t);if(!e)return new Date(NaN);if(e[8]){var i=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(i-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,i,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}function jl(t){return Math.pow(10,ql(t))}function ql(t){if(0===t)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return 10<=t/Math.pow(10,e)&&e++,e}function Kl(t,e){var i=ql(t),n=Math.pow(10,i),o=t/n;return t=(e?o<1.5?1:o<2.5?2:o<4?3:o<7?5:10:o<1?1:o<2?2:o<3?3:o<5?5:10)*n,-20<=i?+t.toFixed(i<0?-i:0):t}function $l(t){t.sort(function(t,e){return function t(e,i,n){return e.interval[n]<i.interval[n]||e.interval[n]===i.interval[n]&&(e.close[n]-i.close[n]==(n?-1:1)||!n&&t(e,i,1))}(t,e,0)?-1:1});for(var e=-1/0,i=1,n=0;n<t.length;){for(var o=t[n].interval,a=t[n].close,r=0;r<2;r++)o[r]<=e&&(o[r]=e,a[r]=r?1:1-i),e=o[r],i=a[r];o[0]===o[1]&&a[0]*a[1]!=1?t.splice(n,1):n++}return t}function Jl(t){return 0<=t-parseFloat(t)}var Ql=(Object.freeze||Object)({linearMap:El,parsePercent:Rl,round:zl,asc:Bl,getPrecision:Vl,getPrecisionSafe:Gl,getPixelPrecision:Fl,getPercentWithPrecision:Wl,MAX_SAFE_INTEGER:Hl,remRadian:Zl,isRadianAroundZero:Ul,parseDate:Yl,quantity:jl,quantityExponent:ql,nice:Kl,quantile:function(t,e){var i=(t.length-1)*e+1,n=Math.floor(i),o=+t[n-1],a=i-n;return a?o+a*(t[n]-o):o},reformIntervals:$l,isNumeric:Jl});function tu(t){return isNaN(t)?"-":(t=(t+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(1<t.length?"."+t[1]:"")}function eu(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var iu=X,nu=/([&<>"'])/g,ou={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function au(t){return null==t?"":(t+"").replace(nu,function(t,e){return ou[e]})}function ru(t,e){return"{"+t+(null==e?"":e)+"}"}var su=["a","b","c","d","e","f","g"];function lu(t,e,i){O(e)||(e=[e]);var n=e.length;if(!n)return"";for(var o=e[0].$vars||[],a=0;a<o.length;a++){var r=su[a];t=t.replace(ru(r),ru(r,0))}for(var s=0;s<n;s++)for(var l=0;l<o.length;l++){var u=e[s][o[l]];t=t.replace(ru(su[l],s),i?au(u):u)}return t}function uu(i,t,n){return E(t,function(t,e){i=i.replace("{"+e+"}",n?au(t):t)}),i}function hu(t,e){var i=(t=R(t)?{color:t,extraCssText:e}:t||{}).color,n=t.type,o=(e=t.extraCssText,t.renderMode||"html"),a=t.markerId||"X";return i?"html"===o?"subItem"===n?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+au(i)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+au(i)+";"+(e||"")+'"></span>':{renderMode:o,content:"{marker"+a+"|}  ",style:{color:i}}:""}function cu(t,e){return"0000".substr(0,e-(t+="").length)+t}function du(t,e,i){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var n=Yl(e),o=i?"UTC":"",a=n["get"+o+"FullYear"](),r=n["get"+o+"Month"]()+1,s=n["get"+o+"Date"](),l=n["get"+o+"Hours"](),u=n["get"+o+"Minutes"](),h=n["get"+o+"Seconds"](),c=n["get"+o+"Milliseconds"]();return t=t.replace("MM",cu(r,2)).replace("M",r).replace("yyyy",a).replace("yy",a%100).replace("dd",cu(s,2)).replace("d",s).replace("hh",cu(l,2)).replace("h",l).replace("mm",cu(u,2)).replace("m",u).replace("ss",cu(h,2)).replace("s",h).replace("SSS",cu(c,3))}function fu(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t}var pu=xn;var gu=(Object.freeze||Object)({addCommas:tu,toCamelCase:eu,normalizeCssArray:iu,encodeHTML:au,formatTpl:lu,formatTplSimple:uu,getTooltipMarker:hu,formatTime:du,capitalFirst:fu,truncateText:pu,getTextBoundingRect:function(t){return gn(t.text,t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich,t.truncate)},getTextRect:function(t,e,i,n,o,a,r,s){return gn(t,e,i,n,o,s,a,r)}}),mu=E,vu=["left","right","top","bottom","width","height"],yu=[["width","left","right"],["height","top","bottom"]];function xu(h,c,d,f,p){var g=0,m=0;null==f&&(f=1/0),null==p&&(p=1/0);var v=0;c.eachChild(function(t,e){var i,n,o=t.position,a=t.getBoundingRect(),r=c.childAt(e+1),s=r&&r.getBoundingRect();if("horizontal"===h){var l=a.width+(s?-s.x+a.x:0);v=f<(i=g+l)||t.newline?(g=0,i=l,m+=v+d,a.height):Math.max(v,a.height)}else{var u=a.height+(s?-s.y+a.y:0);v=p<(n=m+u)||t.newline?(g+=v+d,m=0,n=u,a.width):Math.max(v,a.width)}t.newline||(o[0]=g,o[1]=m,"horizontal"===h?g=i+d:m=n+d)})}var _u=xu;T(xu,"vertical"),T(xu,"horizontal");function wu(t,e,i){i=iu(i||0);var n=e.width,o=e.height,a=Rl(t.left,n),r=Rl(t.top,o),s=Rl(t.right,n),l=Rl(t.bottom,o),u=Rl(t.width,n),h=Rl(t.height,o),c=i[2]+i[0],d=i[1]+i[3],f=t.aspect;switch(isNaN(u)&&(u=n-s-d-a),isNaN(h)&&(h=o-l-c-r),null!=f&&(isNaN(u)&&isNaN(h)&&(n/o<f?u=.8*n:h=.8*o),isNaN(u)&&(u=f*h),isNaN(h)&&(h=u/f)),isNaN(a)&&(a=n-s-u-d),isNaN(r)&&(r=o-l-h-c),t.left||t.right){case"center":a=n/2-u/2-i[3];break;case"right":a=n-u-d}switch(t.top||t.bottom){case"middle":case"center":r=o/2-h/2-i[0];break;case"bottom":r=o-h-c}a=a||0,r=r||0,isNaN(u)&&(u=n-d-a-(s||0)),isNaN(h)&&(h=o-c-r-(l||0));var p=new Di(a+i[3],r+i[0],u,h);return p.margin=i,p}function bu(t,e,i,n,o){var a=!o||!o.hv||o.hv[0],r=!o||!o.hv||o.hv[1],s=o&&o.boundingMode||"all";if(a||r){var l;if("raw"===s)l="group"===t.type?new Di(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(l=t.getBoundingRect(),t.needLocalTransform()){var u=t.getLocalTransform();(l=l.clone()).applyTransform(u)}e=wu(D({width:l.width,height:l.height},e),i,n);var h=t.position,c=a?e.x-l.x:0,d=r?e.y-l.y:0;t.attr("position","raw"===s?[c,d]:[h[0]+c,h[1]+d])}}function Su(l,u,t){z(t)||(t={});var h=t.ignoreSize;O(h)||(h=[h,h]);var e=n(yu[0],0),i=n(yu[1],1);function n(t,e){var i={},n=0,o={},a=0;if(mu(t,function(t){o[t]=l[t]}),mu(t,function(t){c(u,t)&&(i[t]=o[t]=u[t]),d(i,t)&&n++,d(o,t)&&a++}),h[e])return d(u,t[1])?o[t[2]]=null:d(u,t[2])&&(o[t[1]]=null),o;if(2!==a&&n){if(2<=n)return i;for(var r=0;r<t.length;r++){var s=t[r];if(!c(i,s)&&c(l,s)){i[s]=l[s];break}}return i}return o}function c(t,e){return t.hasOwnProperty(e)}function d(t,e){return null!=t[e]&&"auto"!==t[e]}function o(t,e,i){mu(t,function(t){e[t]=i[t]})}o(yu[0],l,e),o(yu[1],l,i)}function Mu(t){return Iu({},t)}function Iu(e,i){return i&&e&&mu(vu,function(t){i.hasOwnProperty(t)&&(e[t]=i[t])}),e}var Tu,Au,Du,Cu=jo(),Lu=Cl.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(t,e,i,n){Cl.call(this,t,e,i,n),this.uid=Nl("ec_cpt_model")},init:function(t,e,i,n){this.mergeDefaultAndTheme(t,i)},mergeDefaultAndTheme:function(t,e){var i=this.layoutMode,n=i?Mu(t):{};m(t,e.getTheme().get(this.mainType)),m(t,this.getDefaultOption()),i&&Su(t,n,i)},mergeOption:function(t,e){m(this.option,t,!0);var i=this.layoutMode;i&&Su(this.option,t,i)},optionUpdated:function(t,e){},getDefaultOption:function(){var t=Cu(this);if(!t.defaultOption){for(var e=[],i=this.constructor;i;){var n=i.prototype.defaultOption;n&&e.push(n),i=i.superClass}for(var o={},a=e.length-1;0<=a;a--)o=m(o,e[a],!0);t.defaultOption=o}return t.defaultOption},getReferringComponents:function(t){return this.ecModel.queryComponents({mainType:t,index:this.get(t+"Index",!0),id:this.get(t+"Id",!0)})}});function ku(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}ua(Lu,{registerWhenExtend:!0}),Au={},(Tu=Lu).registerSubTypeDefaulter=function(t,e){t=na(t),Au[t.main]=e},Tu.determineSubType=function(t,e){var i=e.type;if(!i){var n=na(t).main;Tu.hasSubTypes(t)&&Au[n]&&(i=Au[n](e))}return i},Du=function(t){var e=[];E(Lu.getClassesByMainType(t),function(t){e=e.concat(t.prototype.dependencies||[])}),e=N(e,function(t){return na(t).main}),"dataset"!==t&&_(e,"dataset")<=0&&e.unshift("dataset");return e},Lu.topologicalTravel=function(t,e,i,n){if(t.length){var o=function(e){var o={},a=[];return E(e,function(i){var n=ku(o,i),t=function(t,e){var i=[];return E(t,function(t){0<=_(e,t)&&i.push(t)}),i}(n.originalDeps=Du(i),e);n.entryCount=t.length,0===n.entryCount&&a.push(i),E(t,function(t){_(n.predecessor,t)<0&&n.predecessor.push(t);var e=ku(o,t);_(e.successor,t)<0&&e.successor.push(i)})}),{graph:o,noEntryList:a}}(e),a=o.graph,r=o.noEntryList,s={};for(E(t,function(t){s[t]=!0});r.length;){var l=r.pop(),u=a[l],h=!!s[l];h&&(i.call(n,l,u.originalDeps.slice()),delete s[l]),E(u.successor,h?d:c)}E(s,function(){throw new Error("Circle dependency may exists")})}function c(t){a[t].entryCount--,0===a[t].entryCount&&r.push(t)}function d(t){s[t]=!0,c(t)}},b(Lu,{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}});var Pu="";"undefined"!=typeof navigator&&(Pu=navigator.platform||"");var Nu={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:Pu.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},Ou=jo();var Eu={clearColorPalette:function(){Ou(this).colorIdx=0,Ou(this).colorNameMap={}},getColorFromPalette:function(t,e,i){var n=Ou(e=e||this),o=n.colorIdx||0,a=n.colorNameMap=n.colorNameMap||{};if(a.hasOwnProperty(t))return a[t];var r=Vo(this.get("color",!0)),s=this.get("colorLayer",!0),l=null!=i&&s?function(t,e){for(var i=t.length,n=0;n<i;n++)if(t[n].length>e)return t[n];return t[i-1]}(s,i):r;if((l=l||r)&&l.length){var u=l[o];return t&&(a[t]=u),n.colorIdx=(o+1)%l.length,u}}},Ru="original",zu="arrayRows",Bu="objectRows",Vu="keyedColumns",Gu="unknown",Fu="typedArray",Wu="column",Hu="row";function Zu(t){this.fromDataset=t.fromDataset,this.data=t.data||(t.sourceFormat===Vu?{}:[]),this.sourceFormat=t.sourceFormat||Gu,this.seriesLayoutBy=t.seriesLayoutBy||Wu,this.dimensionsDefine=t.dimensionsDefine,this.encodeDefine=t.encodeDefine&&Q(t.encodeDefine),this.startIndex=t.startIndex||0,this.dimensionsDetectCount=t.dimensionsDetectCount}Zu.seriesDataToSource=function(t){return new Zu({data:t,sourceFormat:V(t)?Fu:Ru,fromDataset:!1})},ra(Zu);var Uu={Must:1,Might:2,Not:3},Xu=jo();function Yu(t){var e=t.option,i=e.data,n=V(i)?Fu:Ru,o=!1,a=e.seriesLayoutBy,r=e.sourceHeader,s=e.dimensions,l=Ju(t);if(l){var u=l.option;i=u.source,n=Xu(l).sourceFormat,o=!0,a=a||u.seriesLayoutBy,null==r&&(r=u.sourceHeader),s=s||u.dimensions}var h=function(t,e,i,n,o){if(!t)return{dimensionsDefine:ju(o)};var a,r;if(e===zu)"auto"===n||null==n?qu(function(t){null!=t&&"-"!==t&&(R(t)?null==r&&(r=1):r=0)},i,t,10):r=n?1:0,o||1!==r||(o=[],qu(function(t,e){o[e]=null!=t?t:""},i,t)),a=o?o.length:i===Hu?t.length:t[0]?t[0].length:null;else if(e===Bu)o=o||function(t){var e,i=0;for(;i<t.length&&!(e=t[i++]););if(e){var n=[];return E(e,function(t,e){n.push(e)}),n}}(t);else if(e===Vu)o||(o=[],E(t,function(t,e){o.push(e)}));else if(e===Ru){var s=Wo(t[0]);a=O(s)&&s.length||1}return{startIndex:r,dimensionsDefine:ju(o),dimensionsDetectCount:a}}(i,n,a,r,s);Xu(t).source=new Zu({data:i,fromDataset:o,seriesLayoutBy:a,sourceFormat:n,dimensionsDefine:h.dimensionsDefine,startIndex:h.startIndex,dimensionsDetectCount:h.dimensionsDetectCount,encodeDefine:e.encode})}function ju(t){if(t){var n=Q();return N(t,function(t,e){if(null==(t=k({},z(t)?t:{name:t})).name)return t;t.name+="",null==t.displayName&&(t.displayName=t.name);var i=n.get(t.name);return i?t.name+="-"+i.count++:n.set(t.name,{count:1}),t})}}function qu(t,e,i,n){if(null==n&&(n=1/0),e===Hu)for(var o=0;o<i.length&&o<n;o++)t(i[o]?i[o][0]:null,o);else{var a=i[0]||[];for(o=0;o<a.length&&o<n;o++)t(a[o],o)}}function Ku(i,t,e){var a={},n=Ju(t);if(!n||!i)return a;var r,o,s=[],l=[],u=t.ecModel,h=Xu(u).datasetMap,c=n.uid+"_"+e.seriesLayoutBy;E(i=i.slice(),function(t,e){z(t)||(i[e]={name:t}),"ordinal"===t.type&&null==r&&(o=p(i[r=e])),a[t.name]=[]});var d=h.get(c)||h.set(c,{categoryWayDim:o,valueWayDim:0});function f(t,e,i){for(var n=0;n<i;n++)t.push(e+n)}function p(t){var e=t.dimsDef;return e?e.length:1}return E(i,function(t,e){var i=t.name,n=p(t);if(null==r){var o=d.valueWayDim;f(a[i],o,n),f(l,o,n),d.valueWayDim+=n}else if(r===e)f(a[i],0,n),f(s,0,n);else{o=d.categoryWayDim;f(a[i],o,n),f(l,o,n),d.categoryWayDim+=n}}),s.length&&(a.itemName=s),l.length&&(a.seriesName=l),a}function $u(t,l,u){var e={};if(!Ju(t))return e;var h,c=l.sourceFormat,d=l.dimensionsDefine;c!==Bu&&c!==Vu||E(d,function(t,e){"name"===(z(t)?t.name:t)&&(h=e)});var i=function(){for(var t={},e={},i=[],n=0,o=Math.min(5,u);n<o;n++){var a=Qu(l.data,c,l.seriesLayoutBy,d,l.startIndex,n);i.push(a);var r=a===Uu.Not;if(r&&null==t.v&&n!==h&&(t.v=n),null!=t.n&&t.n!==t.v&&(r||i[t.n]!==Uu.Not)||(t.n=n),s(t)&&i[t.n]!==Uu.Not)return t;r||(a===Uu.Might&&null==e.v&&n!==h&&(e.v=n),null!=e.n&&e.n!==e.v||(e.n=n))}function s(t){return null!=t.v&&null!=t.n}return s(t)?t:s(e)?e:null}();if(i){e.value=i.v;var n=null!=h?h:i.n;e.itemName=[n],e.seriesName=[n]}return e}function Ju(t){var e=t.option;if(!e.data)return t.ecModel.getComponent("dataset",e.datasetIndex||0)}function Qu(t,e,i,n,o,a){var r,s,l;if(V(t))return Uu.Not;if(n){var u=n[a];z(u)?(s=u.name,l=u.type):R(u)&&(s=u)}if(null!=l)return"ordinal"===l?Uu.Must:Uu.Not;if(e===zu)if(i===Hu){for(var h=t[a],c=0;c<(h||[]).length&&c<5;c++)if(null!=(r=g(h[o+c])))return r}else for(c=0;c<t.length&&c<5;c++){var d=t[o+c];if(d&&null!=(r=g(d[a])))return r}else if(e===Bu){if(!s)return Uu.Not;for(c=0;c<t.length&&c<5;c++){if((f=t[c])&&null!=(r=g(f[s])))return r}}else if(e===Vu){if(!s)return Uu.Not;if(!(h=t[s])||V(h))return Uu.Not;for(c=0;c<h.length&&c<5;c++)if(null!=(r=g(h[c])))return r}else if(e===Ru)for(c=0;c<t.length&&c<5;c++){var f,p=Wo(f=t[c]);if(!O(p))return Uu.Not;if(null!=(r=g(p[a])))return r}function g(t){var e=R(t);return null!=t&&isFinite(t)&&""!==t?e?Uu.Might:Uu.Not:e&&"-"!==t?Uu.Must:void 0}return Uu.Not}var th="\0_ec_inner",eh=Cl.extend({init:function(t,e,i,n){i=i||{},this.option=null,this._theme=new Cl(i),this._optionManager=n},setOption:function(t,e){Y(!(th in t),"please use chart.getOption()"),this._optionManager.setOption(t,e),this.resetOption(null)},resetOption:function(t){var e=!1,i=this._optionManager;if(!t||"recreate"===t){var n=i.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this.mergeOption(n)):function(t){t=t,this.option={},this.option[th]=1,this._componentsMap=Q({series:[]}),this._seriesIndices,this._seriesIndicesMap,function(i,t){var n=i.color&&!i.colorLayer;E(t,function(t,e){"colorLayer"===e&&n||Lu.hasClass(e)||("object"==typeof t?i[e]=i[e]?m(i[e],t,!1):L(t):null==i[e]&&(i[e]=t))})}(t,this._theme.option),m(t,Nu,!1),this.mergeOption(t)}.call(this,n),e=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var o=i.getTimelineOption(this);o&&(this.mergeOption(o),e=!0)}if(!t||"recreate"===t||"media"===t){var a=i.getMediaOption(this,this._api);a.length&&E(a,function(t){this.mergeOption(t,e=!0)},this)}return e},mergeOption:function(n){var l=this.option,u=this._componentsMap,i=[];!function(t){Xu(t).datasetMap=Q()}(this),E(n,function(t,e){null!=t&&(Lu.hasClass(e)?e&&i.push(e):l[e]=null==l[e]?L(t):m(l[e],t,!0))}),Lu.topologicalTravel(i,Lu.getAllClassMainTypes(),function(r,t){var e=Vo(n[r]),i=Ho(u.get(r),e);Zo(i),E(i,function(t,e){var i=t.option;z(i)&&(t.keyInfo.mainType=r,t.keyInfo.subType=function(t,e,i){return e.type?e.type:i?i.subType:Lu.determineSubType(t,e)}(r,i,t.exist))});var s=function(e,t){O(t)||(t=t?[t]:[]);var i={};return E(t,function(t){i[t]=(e.get(t)||[]).slice()}),i}(u,t);l[r]=[],u.set(r,[]),E(i,function(t,e){var i=t.exist,n=t.option;if(Y(z(n)||i,"Empty component definition"),n){var o=Lu.getClass(r,t.keyInfo.subType,!0);if(i&&i.constructor===o)i.name=t.keyInfo.name,i.mergeOption(n,this),i.optionUpdated(n,!1);else{var a=k({dependentModels:s,componentIndex:e},t.keyInfo);k(i=new o(n,this,this,a),a),i.init(n,this,this,a),i.optionUpdated(null,!0)}}else i.mergeOption({},this),i.optionUpdated({},!1);u.get(r)[e]=i,l[r][e]=i.option},this),"series"===r&&ih(this,u.get("series"))},this),this._seriesIndicesMap=Q(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var n=L(this.option);return E(n,function(t,e){if(Lu.hasClass(e)){for(var i=(t=Vo(t)).length-1;0<=i;i--)Xo(t[i])&&t.splice(i,1);n[e]=t}}),delete n[th],n},getTheme:function(){return this._theme},getComponent:function(t,e){var i=this._componentsMap.get(t);if(i)return i[e||0]},queryComponents:function(t){var e=t.mainType;if(!e)return[];var i,n=t.index,o=t.id,a=t.name,r=this._componentsMap.get(e);if(!r||!r.length)return[];if(null!=n)O(n)||(n=[n]),i=M(N(n,function(t){return r[t]}),function(t){return!!t});else if(null!=o){var s=O(o);i=M(r,function(t){return s&&0<=_(o,t.id)||!s&&t.id===o})}else if(null!=a){var l=O(a);i=M(r,function(t){return l&&0<=_(a,t.name)||!l&&t.name===a})}else i=r.slice();return nh(i,t)},findComponents:function(t){var e,i,n,o,a,r=t.query,s=t.mainType,l=(i=s+"Index",n=s+"Id",o=s+"Name",!(e=r)||null==e[i]&&null==e[n]&&null==e[o]?null:{mainType:s,index:e[i],id:e[n],name:e[o]}),u=l?this.queryComponents(l):this._componentsMap.get(s);return a=nh(u,t),t.filter?M(a,t.filter):a},eachComponent:function(t,n,o){var e=this._componentsMap;if("function"==typeof t)o=n,n=t,e.each(function(t,i){E(t,function(t,e){n.call(o,i,t,e)})});else if(R(t))E(e.get(t),n,o);else if(z(t)){E(this.findComponents(t),n,o)}},getSeriesByName:function(e){return M(this._componentsMap.get("series"),function(t){return t.name===e})},getSeriesByIndex:function(t){return this._componentsMap.get("series")[t]},getSeriesByType:function(e){return M(this._componentsMap.get("series"),function(t){return t.subType===e})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(i,n){E(this._seriesIndices,function(t){var e=this._componentsMap.get("series")[t];i.call(n,e,t)},this)},eachRawSeries:function(t,e){E(this._componentsMap.get("series"),t,e)},eachSeriesByType:function(i,n,o){E(this._seriesIndices,function(t){var e=this._componentsMap.get("series")[t];e.subType===i&&n.call(o,e,t)},this)},eachRawSeriesByType:function(t,e,i){return E(this.getSeriesByType(t),e,i)},isSeriesFiltered:function(t){return null==this._seriesIndicesMap.get(t.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(t,e){var i=M(this._componentsMap.get("series"),t,e);ih(this,i)},restoreData:function(i){var n=this._componentsMap;ih(this,n.get("series"));var o=[];n.each(function(t,e){o.push(e)}),Lu.topologicalTravel(o,Lu.getAllClassMainTypes(),function(e,t){E(n.get(e),function(t){"series"===e&&function(t,e){if(e){var i=e.seiresIndex,n=e.seriesId,o=e.seriesName;return null!=i&&t.componentIndex!==i||null!=n&&t.id!==n||null!=o&&t.name!==o}}(t,i)||t.restoreData()})})}});function ih(t,e){t._seriesIndicesMap=Q(t._seriesIndices=N(e,function(t){return t.componentIndex})||[])}function nh(t,e){return e.hasOwnProperty("subType")?M(t,function(t){return t.subType===e.subType}):t}b(eh,Eu);var oh=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];function ah(e){E(oh,function(t){this[t]=A(e[t],e)},this)}var rh={};function sh(){this._coordinateSystems=[]}sh.prototype={constructor:sh,create:function(n,o){var a=[];E(rh,function(t,e){var i=t.create(n,o);a=a.concat(i||[])}),this._coordinateSystems=a},update:function(e,i){E(this._coordinateSystems,function(t){t.update&&t.update(e,i)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},sh.register=function(t,e){rh[t]=e},sh.get=function(t){return rh[t]};var lh=E,uh=L,hh=N,ch=m,dh=/^(min|max)?(.+)$/;function fh(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function ph(t,e,i){var a={width:e,height:i,aspectratio:e/i},r=!0;return E(t,function(t,e){var i=e.match(dh);if(i&&i[1]&&i[2]){var n=i[1],o=i[2].toLowerCase();!function(t,e,i){return"min"===i?e<=t:"max"===i?t<=e:t===e}(a[o],t,n)&&(r=!1)}}),r}fh.prototype={constructor:fh,setOption:function(t,e){t&&E(Vo(t.series),function(t){t&&t.data&&V(t.data)&&K(t.data)}),t=uh(t);var i=this._optionBackup,n=function(t,i,n){var e,o,a=[],r=[],s=t.timeline;t.baseOption&&(o=t.baseOption);(s||t.options)&&(o=o||{},a=(t.options||[]).slice());if(t.media){o=o||{};var l=t.media;lh(l,function(t){t&&t.option&&(t.query?r.push(t):e=e||t)})}o=o||t;o.timeline||(o.timeline=s);return lh([o].concat(a).concat(N(r,function(t){return t.option})),function(e){lh(i,function(t){t(e,n)})}),{baseOption:o,timelineOptions:a,mediaDefault:e,mediaList:r}}.call(this,t,e,!i);this._newBaseOption=n.baseOption,i?(function(o,t){lh(t=t||{},function(t,e){if(null!=t){var i=o[e];if(Lu.hasClass(e)){t=Vo(t);var n=Ho(i=Vo(i),t);o[e]=hh(n,function(t){return t.option&&t.exist?ch(t.exist,t.option,!0):t.exist||t.option})}else o[e]=ch(i,t,!0)}})}(i.baseOption,n.baseOption),n.timelineOptions.length&&(i.timelineOptions=n.timelineOptions),n.mediaList.length&&(i.mediaList=n.mediaList),n.mediaDefault&&(i.mediaDefault=n.mediaDefault)):this._optionBackup=n},mountOption:function(t){var e=this._optionBackup;return this._timelineOptions=hh(e.timelineOptions,uh),this._mediaList=hh(e.mediaList,uh),this._mediaDefault=uh(e.mediaDefault),this._currentMediaIndices=[],uh(t?e.baseOption:this._newBaseOption)},getTimelineOption:function(t){var e,i=this._timelineOptions;if(i.length){var n=t.getComponent("timeline");n&&(e=uh(i[n.getCurrentIndex()],!0))}return e},getMediaOption:function(t){var e=this._api.getWidth(),i=this._api.getHeight(),n=this._mediaList,o=this._mediaDefault,a=[],r=[];if(!n.length&&!o)return r;for(var s=0,l=n.length;s<l;s++)ph(n[s].query,e,i)&&a.push(s);return!a.length&&o&&(a=[-1]),a.length&&!function(t,e){return t.join(",")===e.join(",")}(a,this._currentMediaIndices)&&(r=hh(a,function(t){return uh(-1===t?o.option:n[t].option)})),this._currentMediaIndices=a,r}};var gh=E,mh=z,vh=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function yh(t){var e=t&&t.itemStyle;if(e)for(var i=0,n=vh.length;i<n;i++){var o=vh[i],a=e.normal,r=e.emphasis;a&&a[o]&&(t[o]=t[o]||{},t[o].normal?m(t[o].normal,a[o]):t[o].normal=a[o],a[o]=null),r&&r[o]&&(t[o]=t[o]||{},t[o].emphasis?m(t[o].emphasis,r[o]):t[o].emphasis=r[o],r[o]=null)}}function xh(t,e,i){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var n=t[e].normal,o=t[e].emphasis;n&&(i?(t[e].normal=t[e].emphasis=null,D(t[e],n)):t[e]=n),o&&(t.emphasis=t.emphasis||{},t.emphasis[e]=o)}}function _h(t){xh(t,"itemStyle"),xh(t,"lineStyle"),xh(t,"areaStyle"),xh(t,"label"),xh(t,"labelLine"),xh(t,"upperLabel"),xh(t,"edgeLabel")}function wh(t,e){var i=mh(t)&&t[e],n=mh(i)&&i.textStyle;if(n)for(var o=0,a=Fo.length;o<a;o++){e=Fo[o];n.hasOwnProperty(e)&&(i[e]=n[e])}}function bh(t){t&&(_h(t),wh(t,"label"),t.emphasis&&wh(t.emphasis,"label"))}function Sh(t){return O(t)?t:t?[t]:[]}function Mh(t){return(O(t)?t[0]:t)||{}}function Ih(e,t){gh(Sh(e.series),function(t){mh(t)&&function(t){if(mh(t)){yh(t),_h(t),wh(t,"label"),wh(t,"upperLabel"),wh(t,"edgeLabel"),t.emphasis&&(wh(t.emphasis,"label"),wh(t.emphasis,"upperLabel"),wh(t.emphasis,"edgeLabel")),(i=t.markPoint)&&(yh(i),bh(i)),(n=t.markLine)&&(yh(n),bh(n));var e=t.markArea;e&&bh(e);var i,n,o=t.data;if("graph"===t.type){o=o||t.nodes;var a=t.links||t.edges;if(a&&!V(a))for(var r=0;r<a.length;r++)bh(a[r]);E(t.categories,function(t){_h(t)})}if(o&&!V(o))for(r=0;r<o.length;r++)bh(o[r]);if((i=t.markPoint)&&i.data){var s=i.data;for(r=0;r<s.length;r++)bh(s[r])}if((n=t.markLine)&&n.data){var l=n.data;for(r=0;r<l.length;r++)O(l[r])?(bh(l[r][0]),bh(l[r][1])):bh(l[r])}"gauge"===t.type?(wh(t,"axisLabel"),wh(t,"title"),wh(t,"detail")):"treemap"===t.type?(xh(t.breadcrumb,"itemStyle"),E(t.levels,function(t){_h(t)})):"tree"===t.type&&_h(t.leaves)}}(t)});var i=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&i.push("valueAxis","categoryAxis","logAxis","timeAxis"),gh(i,function(t){gh(Sh(e[t]),function(t){t&&(wh(t,"axisLabel"),wh(t.axisPointer,"label"))})}),gh(Sh(e.parallel),function(t){var e=t&&t.parallelAxisDefault;wh(e,"axisLabel"),wh(e&&e.axisPointer,"label")}),gh(Sh(e.calendar),function(t){xh(t,"itemStyle"),wh(t,"dayLabel"),wh(t,"monthLabel"),wh(t,"yearLabel")}),gh(Sh(e.radar),function(t){wh(t,"name")}),gh(Sh(e.geo),function(t){mh(t)&&(bh(t),gh(Sh(t.regions),function(t){bh(t)}))}),gh(Sh(e.timeline),function(t){bh(t),xh(t,"label"),xh(t,"itemStyle"),xh(t,"controlStyle",!0);var e=t.data;O(e)&&E(e,function(t){z(t)&&(xh(t,"label"),xh(t,"itemStyle"))})}),gh(Sh(e.toolbox),function(t){xh(t,"iconStyle"),gh(t.feature,function(t){xh(t,"iconStyle")})}),wh(Mh(e.axisPointer),"label"),wh(Mh(e.tooltip).axisPointer,"label")}function Th(e){E(Ah,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var Ah=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Dh=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Ch=function(i,t){Ih(i,t),i.series=Vo(i.series),E(i.series,function(t){if(z(t)){var e=t.type;if("line"===e)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===e||"gauge"===e)null!=t.clockWise&&(t.clockwise=t.clockWise);else if("gauge"===e){var i=function(t,e){e=e.split(",");for(var i=t,n=0;n<e.length&&null!=(i=i&&i[e[n]]);n++);return i}(t,"pointer.color");null!=i&&function(t,e,i,n){e=e.split(",");for(var o,a=t,r=0;r<e.length-1;r++)null==a[o=e[r]]&&(a[o]={}),a=a[o];!n&&null!=a[e[r]]||(a[e[r]]=i)}(t,"itemStyle.color",i)}Th(t)}}),i.dataRange&&(i.visualMap=i.dataRange),E(Dh,function(t){var e=i[t];e&&(O(e)||(e=[e]),E(e,function(t){Th(t)}))})};function Lh(m){E(m,function(h,c){var d=[],f=[NaN,NaN],t=[h.stackResultDimension,h.stackedOverDimension],p=h.data,g=h.isStackedByIndex,e=p.map(t,function(t,e,i){var n,o,a=p.get(h.stackedDimension,i);if(isNaN(a))return f;g?o=p.getRawIndex(i):n=p.get(h.stackedByDimension,i);for(var r=NaN,s=c-1;0<=s;s--){var l=m[s];if(g||(o=l.data.rawIndexOf(l.stackedByDimension,n)),0<=o){var u=l.data.getByRawIndex(l.stackResultDimension,o);if(0<=a&&0<u||a<=0&&u<0){a+=u,r=u;break}}}return d[0]=a,d[1]=r,d});p.hostModel.setData(e),h.data=e})}function kh(t,e){Zu.isInstance(t)||(t=Zu.seriesDataToSource(t)),this._source=t;var i=this._data=t.data,n=t.sourceFormat;n===Fu&&(this._offset=0,this._dimSize=e,this._data=i),k(this,Nh[n===zu?n+"_"+t.seriesLayoutBy:n])}var Ph=kh.prototype;Ph.pure=!1;var Nh={arrayRows_column:{pure:Ph.persistent=!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(t){return this._data[t+this._source.startIndex]},appendData:Rh},arrayRows_row:{pure:!0,count:function(){var t=this._data[0];return t?Math.max(0,t.length-this._source.startIndex):0},getItem:function(t){t+=this._source.startIndex;for(var e=[],i=this._data,n=0;n<i.length;n++){var o=i[n];e.push(o?o[t]:null)}return e},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:Oh,getItem:Eh,appendData:Rh},keyedColumns:{pure:!0,count:function(){var t=this._source.dimensionsDefine[0].name,e=this._data[t];return e?e.length:0},getItem:function(t){for(var e=[],i=this._source.dimensionsDefine,n=0;n<i.length;n++){var o=this._data[i[n].name];e.push(o?o[t]:null)}return e},appendData:function(t){var o=this._data;E(t,function(t,e){for(var i=o[e]||(o[e]=[]),n=0;n<(t||[]).length;n++)i.push(t[n])})}},original:{count:Oh,getItem:Eh,appendData:Rh},typedArray:{persistent:!(Ph.getSource=function(){return this._source}),pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(t,e){t-=this._offset,e=e||[];for(var i=this._dimSize*t,n=0;n<this._dimSize;n++)e[n]=this._data[i+n];return e},appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}}};function Oh(){return this._data.length}function Eh(t){return this._data[t]}function Rh(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}var zh={arrayRows:Bh,objectRows:function(t,e,i,n){return null!=i?t[n]:t},keyedColumns:Bh,original:function(t,e,i,n){var o=Wo(t);return null!=i&&o instanceof Array?o[i]:o},typedArray:Bh};function Bh(t,e,i,n){return null!=i?t[i]:t}var Vh={arrayRows:Gh,objectRows:function(t,e,i,n){return Fh(t[e],this._dimensionInfos[e])},keyedColumns:Gh,original:function(t,e,i,n){var o=t&&(null==t.value?t:t.value);return!this._rawData.pure&&function(t){return Ro(t)&&!(t instanceof Array)}(t)&&(this.hasItemOption=!0),Fh(o instanceof Array?o[n]:o,this._dimensionInfos[e])},typedArray:function(t,e,i,n){return t[n]}};function Gh(t,e,i,n){return Fh(t[n],this._dimensionInfos[e])}function Fh(t,e){var i=e&&e.type;if("ordinal"!==i)return"time"===i&&"number"!=typeof t&&null!=t&&"-"!==t&&(t=+Yl(t)),null==t||""===t?NaN:+t;var n=e&&e.ordinalMeta;return n?n.parseAndCollect(t):t}function Wh(t,e,i){if(t){var n=t.getRawDataItem(e);if(null!=n){var o,a,r=t.getProvider().getSource().sourceFormat,s=t.getDimensionInfo(i);return s&&(o=s.name,a=s.index),zh[r](n,e,a,o)}}}function Hh(t,e,i){if(t){var n=t.getProvider().getSource().sourceFormat;if(n===Ru||n===Bu){var o=t.getRawDataItem(e);return n!==Ru||z(o)||(o=null),o?o[i]:void 0}}}var Zh=/\{@(.+?)\}/g,Uh={getDataParams:function(t,e){var i=this.getData(e),n=this.getRawValue(t,e),o=i.getRawIndex(t),a=i.getName(t),r=i.getRawDataItem(t),s=i.getItemVisual(t,"color"),l=i.getItemVisual(t,"borderColor"),u=this.ecModel.getComponent("tooltip"),h=Qo(u&&u.get("renderMode")),c=this.mainType,d="series"===c,f=i.userOutput;return{componentType:c,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:d?this.subType:null,seriesIndex:this.seriesIndex,seriesId:d?this.id:null,seriesName:d?this.name:null,name:a,dataIndex:o,data:r,dataType:e,value:n,color:s,borderColor:l,dimensionNames:f?f.dimensionNames:null,encode:f?f.encode:null,marker:hu({color:s,renderMode:h}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(n,t,e,i,o){t=t||"normal";var a=this.getData(e),r=a.getItemModel(n),s=this.getDataParams(n,e);null!=i&&s.value instanceof Array&&(s.value=s.value[i]);var l=r.get("normal"===t?[o||"label","formatter"]:[t,o||"label","formatter"]);return"function"==typeof l?(s.status=t,s.dimensionIndex=i,l(s)):"string"==typeof l?lu(l,s).replace(Zh,function(t,e){var i=e.length;return"["===e.charAt(0)&&"]"===e.charAt(i-1)&&(e=+e.slice(1,i-1)),Wh(a,n,e)}):void 0},getRawValue:function(t,e){return Wh(this.getData(e),t)},formatTooltip:function(){}};function Xh(t){return new Yh(t)}function Yh(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0,this.context}var jh=Yh.prototype;jh.perform=function(t){var e,i=this._upstream,n=t&&t.skip;if(this._dirty&&i){var o=this.context;o.data=o.outputData=i.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!n&&(e=this._plan(this.context));var a,r=h(this._modBy),s=this._modDataCount||0,l=h(t&&t.modBy),u=t&&t.modDataCount||0;function h(t){return 1<=t||(t=1),t}r===l&&s===u||(e="reset"),!this._dirty&&"reset"!==e||(this._dirty=!1,a=function(t,e){var i,n;t._dueIndex=t._outputDueEnd=t._dueEnd=0,t._settedOutputEnd=null,!e&&t._reset&&((i=t._reset(t.context))&&i.progress&&(n=i.forceFirstProgress,i=i.progress),O(i)&&!i.length&&(i=null));t._progress=i,t._modBy=t._modDataCount=null;var o=t._downstream;return o&&o.dirty(),n}(this,n)),this._modBy=l,this._modDataCount=u;var c=t&&t.step;if(this._dueEnd=i?i._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var d=this._dueIndex,f=Math.min(null!=c?this._dueIndex+c:1/0,this._dueEnd);if(!n&&(a||d<f)){var p=this._progress;if(O(p))for(var g=0;g<p.length;g++)oc(this,p[g],d,f,l,u);else oc(this,p,d,f,l,u)}this._dueIndex=f;var m=null!=this._settedOutputEnd?this._settedOutputEnd:f;this._outputDueEnd=m}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var qh,Kh,$h,Jh,Qh,tc,ec=tc={reset:function(t,e,i,n){Kh=t,qh=e,$h=i,Jh=n,Qh=Math.ceil(Jh/$h),tc.next=1<$h&&0<Jh?nc:ic}};function ic(){return Kh<qh?Kh++:null}function nc(){var t=Kh%Qh*$h+Math.ceil(Kh/Qh),e=qh<=Kh?null:t<Jh?t:Kh;return Kh++,e}function oc(t,e,i,n,o,a){ec.reset(i,n,o,a),t._callingProgress=e,t._callingProgress({start:i,end:n,count:n-i,next:ec.next},t.context)}jh.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},jh.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},jh.pipe=function(t){this._downstream===t&&!this._dirty||((this._downstream=t)._upstream=this,t.dirty())},jh.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},jh.getUpstream=function(){return this._upstream},jh.getDownstream=function(){return this._downstream},jh.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t};var ac=jo(),rc=Lu.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendVisualProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,init:function(t,e,i,n){this.seriesIndex=this.componentIndex,this.dataTask=Xh({count:lc,reset:uc}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,i),Yu(this);var o=this.getInitialData(t,i);cc(o,this),this.dataTask.context.data=o,ac(this).dataBeforeProcessed=o,sc(this)},mergeDefaultAndTheme:function(t,e){var i=this.layoutMode,n=i?Mu(t):{},o=this.subType;Lu.hasClass(o)&&(o+="Series"),m(t,e.getTheme().get(this.subType)),m(t,this.getDefaultOption()),Go(t,"label",["show"]),this.fillDataTextStyle(t.data),i&&Su(t,n,i)},mergeOption:function(t,e){t=m(this.option,t,!0),this.fillDataTextStyle(t.data);var i=this.layoutMode;i&&Su(this.option,t,i),Yu(this);var n=this.getInitialData(t,e);cc(n,this),this.dataTask.dirty(),this.dataTask.context.data=n,ac(this).dataBeforeProcessed=n,sc(this)},fillDataTextStyle:function(t){if(t&&!V(t))for(var e=["show"],i=0;i<t.length;i++)t[i]&&t[i].label&&Go(t[i],"label",e)},getInitialData:function(){},appendData:function(t){this.getRawData().appendData(t.data)},getData:function(t){var e=fc(this);if(e){var i=e.context.data;return null==t?i:i.getLinkedData(t)}return ac(this).data},setData:function(t){var e=fc(this);if(e){var i=e.context;i.data!==t&&e.modifyOutputEnd&&e.setOutputEnd(t.count()),i.outputData=t,e!==this.dataTask&&(i.data=t)}ac(this).data=t},getSource:function(){return function(t){return Xu(t).source}(this)},getRawData:function(){return ac(this).dataBeforeProcessed},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(o,h,t,c){var d=this,e="html"===(c=c||"html")?"<br/>":"\n",f="richText"===c,p={},g=0;function i(t){return{renderMode:c,content:au(tu(t)),style:p}}var m=this.getData(),a=m.mapDimension("defaultedTooltip",!0),n=a.length,r=this.getRawValue(o),s=O(r),v=m.getItemVisual(o,"color");z(v)&&v.colorStops&&(v=(v.colorStops[0]||{}).color),v=v||"transparent";var l=(1<n||s&&!n?function(t){var l=S(t,function(t,e,i){var n=m.getDimensionInfo(i);return t|(n&&!1!==n.tooltip&&null!=n.displayName)},0),u=[];function e(t,e){var i=m.getDimensionInfo(e);if(i&&!1!==i.otherDims.tooltip){var n=i.type,o="sub"+d.seriesIndex+"at"+g,a=hu({color:v,type:"subItem",renderMode:c,markerId:o}),r="string"==typeof a?a:a.content,s=(l?r+au(i.displayName||"-")+": ":"")+au("ordinal"===n?t+"":"time"===n?h?"":du("yyyy/MM/dd hh:mm:ss",t):tu(t));s&&u.push(s),f&&(p[o]=v,++g)}}a.length?E(a,function(t){e(Wh(m,o,t),t)}):E(t,e);var i=l?f?"\n":"<br/>":"",n=i+u.join(i||", ");return{renderMode:c,content:n,style:p}}(r):i(n?Wh(m,o,a[0]):s?r[0]:r)).content,u=d.seriesIndex+"at"+g,y=hu({color:v,type:"item",renderMode:c,markerId:u});p[u]=v,++g;var x=m.getName(o),_=this.name;Uo(this)||(_=""),_=_?au(_)+(h?": ":e):"";var w="string"==typeof y?y:y.content;return{html:h?w+_+l:_+w+(x?au(x)+": "+l:l),markers:p}},isAnimationEnabled:function(){if(v.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),t},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(t,e,i){var n=this.ecModel,o=Eu.getColorFromPalette.call(this,t,e,i);return o=o||n.getColorFromPalette(t,e,i)},coordDimToDataDim:function(t){return this.getRawData().mapDimension(t,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});function sc(t){var e=t.name;Uo(t)||(t.name=function(t){var i=t.getRawData(),e=i.mapDimension("seriesName",!0),n=[];return E(e,function(t){var e=i.getDimensionInfo(t);e.displayName&&n.push(e.displayName)}),n.join(" ")}(t)||e)}function lc(t){return t.model.getRawData().count()}function uc(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),hc}function hc(t,e){t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function cc(e,i){E(e.CHANGABLE_METHODS,function(t){e.wrapMethod(t,T(dc,i))})}function dc(t){var e=fc(t);e&&e.setOutputEnd(this.count())}function fc(t){var e=(t.ecModel||{}).scheduler,i=e&&e.getPipeline(t.uid);if(i){var n=i.currentTask;if(n){var o=n.agentStubMap;o&&(n=o.get(t.uid))}return n}}b(rc,Uh),b(rc,Eu);var pc=function(){this.group=new Ci,this.uid=Nl("viewComponent")};pc.prototype={constructor:pc,init:function(t,e){},render:function(t,e,i,n){},dispose:function(){},filterForExposedEvent:null};var gc=pc.prototype;gc.updateView=gc.updateLayout=gc.updateVisual=function(t,e,i,n){},oa(pc),ua(pc,{registerWhenExtend:!0});function mc(){var s=jo();return function(t){var e=s(t),i=t.pipelineContext,n=e.large,o=e.progressiveRender,a=e.large=i&&i.large,r=e.progressiveRender=i&&i.progressiveRender;return!!(n^a||o^r)&&"reset"}}var vc=jo(),yc=mc();function xc(){this.group=new Ci,this.uid=Nl("viewChart"),this.renderTask=Xh({plan:Sc,reset:Mc}),this.renderTask.context={view:this}}var _c=xc.prototype={type:"chart",init:function(t,e){},render:function(t,e,i,n){},highlight:function(t,e,i,n){bc(t.getData(),n,"emphasis")},downplay:function(t,e,i,n){bc(t.getData(),n,"normal")},remove:function(t,e){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};function wc(t,e,i){if(t&&(t.trigger(e,i),t.isGroup&&!Qs(t)))for(var n=0,o=t.childCount();n<o;n++)wc(t.childAt(n),e,i)}function bc(e,t,i){var n=Yo(e,t),o=t&&null!=t.highlightKey?tl(t.highlightKey):null;null!=n?E(Vo(n),function(t){wc(e.getItemGraphicEl(t),i,o)}):e.eachItemGraphicEl(function(t){wc(t,i,o)})}function Sc(t){return yc(t.model)}function Mc(t){var e=t.model,i=t.ecModel,n=t.api,o=t.payload,a=e.pipelineContext.progressiveRender,r=t.view,s=o&&vc(o).updateMethod,l=a?"incrementalPrepareRender":s&&r[s]?s:"render";return"render"!==l&&r[l](e,i,n,o),Ic[l]}_c.updateView=_c.updateLayout=_c.updateVisual=function(t,e,i,n){this.render(t,e,i,n)},oa(xc),ua(xc,{registerWhenExtend:!0}),xc.markUpdateMethod=function(t,e){vc(t).updateMethod=e};var Ic={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},Tc="\0__throttleOriginMethod",Ac="\0__throttleRate",Dc="\0__throttleType";function Cc(t,i,n){var o,a,r,s,l,u=0,h=0,c=null;function d(){h=(new Date).getTime(),c=null,t.apply(r,s||[])}i=i||0;function e(){o=(new Date).getTime(),r=this,s=arguments;var t=l||i,e=l||n;l=null,a=o-(e?u:h)-t,clearTimeout(c),e?c=setTimeout(d,t):0<=a?d():c=setTimeout(d,-a),u=o}return e.clear=function(){c&&(clearTimeout(c),c=null)},e.debounceNextCall=function(t){l=t},e}function Lc(t,e,i,n){var o=t[e];if(o){var a=o[Tc]||o,r=o[Dc];if(o[Ac]!==i||r!==n){if(null==i||!n)return t[e]=a;(o=t[e]=Cc(a,i,"debounce"===n))[Tc]=a,o[Dc]=n,o[Ac]=i}return o}}function kc(t,e){var i=t[e];i&&i[Tc]&&(t[e]=i[Tc])}var Pc={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var i=e.getData(),a=(e.visualColorAccessPath||"itemStyle.color").split("."),n=e.get(a),o=!C(n)||n instanceof cs?null:n;n&&!o||(n=e.getColorFromPalette(e.name,null,t.getSeriesCount())),i.setVisual("color",n);var r=(e.visualBorderColorAccessPath||"itemStyle.borderColor").split("."),s=e.get(r);if(i.setVisual("borderColor",s),!t.isSeriesFiltered(e)){o&&i.each(function(t){i.setItemVisual(t,"color",o(e.getDataParams(t)))});return{dataEach:i.hasItemOption?function(t,e){var i=t.getItemModel(e),n=i.get(a,!0),o=i.get(r,!0);null!=n&&t.setItemVisual(e,"color",n),null!=o&&t.setItemVisual(e,"borderColor",o)}:null}}}},Nc={legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}},Oc=function(t,e){var a=e.getModel("aria");if(a.get("show"))if(a.get("description"))t.setAttribute("aria-label",a.get("description"));else{var h=0;e.eachSeries(function(t,e){++h},this);var i,c=a.get("data.maxCount")||10,n=a.get("series.maxCount")||10,d=Math.min(h,n);if(!(h<1)){var o=function(){var t=e.getModel("title").option;t&&t.length&&(t=t[0]);return t&&t.text}();i=o?p(g("general.withTitle"),{title:o}):g("general.withoutTitle");var f=[];i+=p(g(1<h?"series.multiple.prefix":"series.single.prefix"),{seriesCount:h}),e.eachSeries(function(t,e){if(e<d){var i,n=t.get("name"),o="series."+(1<h?"multiple":"single")+".";i=p(i=g(n?o+"withName":o+"withoutName"),{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:function(t){return Nc.series.typeNames[t]||""}(t.subType)});var a=t.getData();(window.data=a).count()>c?i+=p(g("data.partialData"),{displayCnt:c}):i+=g("data.allData");for(var r=[],s=0;s<a.count();s++)if(s<c){var l=a.getName(s),u=Wh(a,s);r.push(p(g(l?"data.withName":"data.withoutName"),{name:l,value:u}))}i+=r.join(g("data.separator.middle"))+g("data.separator.end"),f.push(i)}}),i+=f.join(g("series.multiple.separator.middle"))+g("series.multiple.separator.end"),t.setAttribute("aria-label",i)}}function p(t,e){if("string"!=typeof t)return t;var i=t;return E(e,function(t,e){i=i.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)}),i}function g(t){var e=a.get(t);if(null!=e)return e;for(var i=t.split("."),n=Nc.aria,o=0;o<i.length;++o)n=n[i[o]];return n}},Ec=Math.PI;function Rc(t,e,i,n){this.ecInstance=t,this.api=e,this.unfinished;i=this._dataProcessorHandlers=i.slice(),n=this._visualHandlers=n.slice();this._allHandlers=i.concat(n),this._stageTaskMap=Q()}var zc=Rc.prototype;function Bc(l,t,u,h,c){var d;function f(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}c=c||{},E(t,function(n,t){if(!c.visualType||c.visualType===n.visualType){var e=l._stageTaskMap.get(n.uid),i=e.seriesTaskMap,o=e.overallTask;if(o){var a,r=o.agentStubMap;r.each(function(t){f(c,t)&&(t.dirty(),a=!0)}),a&&o.dirty(),Vc(o,h);var s=l.getPerformArgs(o,c.block);r.each(function(t){t.perform(s)}),d|=o.perform(s)}else i&&i.each(function(t,e){f(c,t)&&t.dirty();var i=l.getPerformArgs(t,c.block);i.skip=!n.performRawSeries&&u.isSeriesFiltered(t.context.model),Vc(t,h),d|=t.perform(i)})}}),l.unfinished|=d}zc.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(t){var e=t.overallTask;e&&e.dirty()})},zc.getPerformArgs=function(t,e){if(t.__pipeline){var i=this._pipelineMap.get(t.__pipeline.id),n=i.context,o=!e&&i.progressiveEnabled&&(!n||n.progressiveRender)&&t.__idxInPipeline>i.blockIndex?i.step:null,a=n&&n.modDataCount;return{step:o,modBy:null!=a?Math.ceil(a/o):null,modDataCount:a}}},zc.getPipeline=function(t){return this._pipelineMap.get(t)},zc.updateStreamModes=function(t,e){var i=this._pipelineMap.get(t.uid),n=t.getData().count(),o=i.progressiveEnabled&&e.incrementalPrepareRender&&n>=i.threshold,a=t.get("large")&&n>=t.get("largeThreshold"),r="mod"===t.get("progressiveChunkMode")?n:null;t.pipelineContext=i.context={progressiveRender:o,modDataCount:r,large:a}},zc.restorePipelines=function(t){var n=this,o=n._pipelineMap=Q();t.eachSeries(function(t){var e=t.getProgressive(),i=t.uid;o.set(i,{id:i,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:e&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(e||700),count:0}),qc(n,t,t.dataTask)})},zc.prepareStageTasks=function(){var i=this._stageTaskMap,n=this.ecInstance.getModel(),o=this.api;E(this._allHandlers,function(t){var e=i.get(t.uid)||i.set(t.uid,[]);t.reset&&function(n,o,t,a,r){var s=t.seriesTaskMap||(t.seriesTaskMap=Q()),e=o.seriesType,i=o.getTargetSeries;o.createOnAllSeries?a.eachRawSeries(l):e?a.eachRawSeriesByType(e,l):i&&i(a,r).each(l);function l(t){var e=t.uid,i=s.get(e)||s.set(e,Xh({plan:Zc,reset:Uc,count:jc}));i.context={model:t,ecModel:a,api:r,useClearVisual:o.isVisual&&!o.isLayout,plan:o.plan,reset:o.reset,scheduler:n},qc(n,t,i)}var u=n._pipelineMap;s.each(function(t,e){u.get(e)||(t.dispose(),s.removeKey(e))})}(this,t,e,n,o),t.overallReset&&function(n,t,e,i,o){var a=e.overallTask=e.overallTask||Xh({reset:Gc});a.context={ecModel:i,api:o,overallReset:t.overallReset,scheduler:n};var r=a.agentStubMap=a.agentStubMap||Q(),s=t.seriesType,l=t.getTargetSeries,u=!0,h=t.modifyOutputEnd;s?i.eachRawSeriesByType(s,c):l?l(i,o).each(c):(u=!1,E(i.getSeries(),c));function c(t){var e=t.uid,i=r.get(e);i||(i=r.set(e,Xh({reset:Fc,onDirty:Hc})),a.dirty()),i.context={model:t,overallProgress:u,modifyOutputEnd:h},i.agent=a,i.__block=u,qc(n,t,i)}var d=n._pipelineMap;r.each(function(t,e){d.get(e)||(t.dispose(),a.dirty(),r.removeKey(e))})}(this,t,e,n,o)},this)},zc.prepareView=function(t,e,i,n){var o=t.renderTask,a=o.context;a.model=e,a.ecModel=i,a.api=n,o.__block=!t.incrementalPrepareRender,qc(this,e,o)},zc.performDataProcessorTasks=function(t,e){Bc(this,this._dataProcessorHandlers,t,e,{block:!0})},zc.performVisualTasks=function(t,e,i){Bc(this,this._visualHandlers,t,e,i)},zc.performSeriesTasks=function(t){var e;t.eachSeries(function(t){e|=t.dataTask.perform()}),this.unfinished|=e},zc.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})};var Vc=zc.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)};function Gc(t){t.overallReset(t.ecModel,t.api,t.payload)}function Fc(t,e){return t.overallProgress&&Wc}function Wc(){this.agent.dirty(),this.getDownstream().dirty()}function Hc(){this.agent&&this.agent.dirty()}function Zc(t){return t.plan&&t.plan(t.model,t.ecModel,t.api,t.payload)}function Uc(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=Vo(t.reset(t.model,t.ecModel,t.api,t.payload));return 1<e.length?N(e,function(t,e){return Yc(e)}):Xc}var Xc=Yc(0);function Yc(a){return function(t,e){var i=e.data,n=e.resetDefines[a];if(n&&n.dataEach)for(var o=t.start;o<t.end;o++)n.dataEach(i,o);else n&&n.progress&&n.progress(t,i)}}function jc(t){return t.data.count()}function qc(t,e,i){var n=e.uid,o=t._pipelineMap.get(n);o.head||(o.head=i),o.tail&&o.tail.pipe(i),(o.tail=i).__idxInPipeline=o.count++,i.__pipeline=o}Rc.wrapStageHandler=function(t,e){return C(t)&&(t={overallReset:t,seriesType:function(t){Kc=null;try{t($c,Jc)}catch(t){}return Kc}(t)}),t.uid=Nl("stageHandler"),e&&(t.visualType=e),t};var Kc,$c={},Jc={};function Qc(t,e){for(var i in e.prototype)t[i]=et}Qc($c,eh),Qc(Jc,ah),$c.eachSeriesByType=$c.eachRawSeriesByType=function(t){Kc=t},$c.eachComponent=function(t){"series"===t.mainType&&t.subType&&(Kc=t.subType)};function td(){return{axisLine:{lineStyle:{color:nd}},axisTick:{lineStyle:{color:nd}},axisLabel:{textStyle:{color:nd}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:nd}}}}var ed=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],id={color:ed,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],ed]},nd="#eee",od=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],ad={color:od,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:nd},crossStyle:{color:nd},label:{color:"#000"}}},legend:{textStyle:{color:nd}},textStyle:{color:nd},title:{textStyle:{color:nd}},toolbox:{iconStyle:{normal:{borderColor:nd}}},dataZoom:{textStyle:{color:nd}},visualMap:{textStyle:{color:nd}},timeline:{lineStyle:{color:nd},itemStyle:{normal:{color:od[1]}},label:{normal:{textStyle:{color:nd}}},controlStyle:{normal:{color:nd,borderColor:nd}}},timeAxis:td(),logAxis:td(),valueAxis:td(),categoryAxis:td(),line:{symbol:"circle"},graph:{color:od},gauge:{title:{textStyle:{color:nd}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};ad.categoryAxis.splitLine.show=!1,Lu.extend({type:"dataset",defaultOption:{seriesLayoutBy:Wu,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){!function(t){var e=t.option.source,i=Gu;if(V(e))i=Fu;else if(O(e)){0===e.length&&(i=zu);for(var n=0,o=e.length;n<o;n++){var a=e[n];if(null!=a){if(O(a)){i=zu;break}if(z(a)){i=Bu;break}}}}else if(z(e)){for(var r in e)if(e.hasOwnProperty(r)&&P(e[r])){i=Vu;break}}else if(null!=e)throw new Error("Invalid data");Xu(t).sourceFormat=i}(this)}}),pc.extend({type:"dataset"});var rd=Ar.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(t,e){var i=e.cx,n=e.cy,o=e.rx,a=e.ry,r=.5522848*o,s=.5522848*a;t.moveTo(i-o,n),t.bezierCurveTo(i-o,n-s,i-r,n-a,i,n-a),t.bezierCurveTo(i+r,n-a,i+o,n-s,i+o,n),t.bezierCurveTo(i+o,n+s,i+r,n+a,i,n+a),t.bezierCurveTo(i-r,n+a,i-o,n+s,i-o,n),t.closePath()}}),sd=/[\s,]+/;function ld(t){R(t)&&(t=(new DOMParser).parseFromString(t,"text/xml"));for(9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}function ud(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}ud.prototype.parse=function(t,e){e=e||{};var i=ld(t);if(!i)throw new Error("Illegal svg");var n=new Ci;this._root=n;var o=i.getAttribute("viewBox")||"",a=parseFloat(i.getAttribute("width")||e.width),r=parseFloat(i.getAttribute("height")||e.height);isNaN(a)&&(a=null),isNaN(r)&&(r=null),gd(i,n,null,!0);for(var s,l,u=i.firstChild;u;)this._parseNode(u,n),u=u.nextSibling;if(o){var h=j(o).split(sd);4<=h.length&&(s={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])})}if(s&&null!=a&&null!=r&&(l=_d(s,a,r),!e.ignoreViewBox)){var c=n;(n=new Ci).add(c),c.scale=l.scale.slice(),c.position=l.position.slice()}return e.ignoreRootClip||null==a||null==r||n.setClipPath(new rs({shape:{x:0,y:0,width:a,height:r}})),{root:n,width:a,height:r,viewBoxRect:s,viewBoxTransform:l}},ud.prototype._parseNode=function(t,e){var i,n,o=t.nodeName.toLowerCase();if("defs"===o?this._isDefine=!0:"text"===o&&(this._isText=!0),this._isDefine){if(n=cd[o]){var a=n.call(this,t),r=t.getAttribute("id");r&&(this._defs[r]=a)}}else(n=hd[o])&&(i=n.call(this,t,e),e.add(i));for(var s=t.firstChild;s;)1===s.nodeType&&this._parseNode(s,i),3===s.nodeType&&this._isText&&this._parseText(s,i),s=s.nextSibling;"defs"===o?this._isDefine=!1:"text"===o&&(this._isText=!1)},ud.prototype._parseText=function(t,e){if(1===t.nodeType){var i=t.getAttribute("dx")||0,n=t.getAttribute("dy")||0;this._textX+=parseFloat(i),this._textY+=parseFloat(n)}var o=new Ur({style:{text:t.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});dd(e,o),gd(t,o,this._defs);var a=o.style.fontSize;a&&a<9&&(o.style.fontSize=9,o.scale=o.scale||[1,1],o.scale[0]*=a/9,o.scale[1]*=a/9);var r=o.getBoundingRect();return this._textX+=r.width,e.add(o),o};var hd={g:function(t,e){var i=new Ci;return dd(e,i),gd(t,i,this._defs),i},rect:function(t,e){var i=new rs;return dd(e,i),gd(t,i,this._defs),i.setShape({x:parseFloat(t.getAttribute("x")||0),y:parseFloat(t.getAttribute("y")||0),width:parseFloat(t.getAttribute("width")||0),height:parseFloat(t.getAttribute("height")||0)}),i},circle:function(t,e){var i=new Yr;return dd(e,i),gd(t,i,this._defs),i.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),r:parseFloat(t.getAttribute("r")||0)}),i},line:function(t,e){var i=new ls;return dd(e,i),gd(t,i,this._defs),i.setShape({x1:parseFloat(t.getAttribute("x1")||0),y1:parseFloat(t.getAttribute("y1")||0),x2:parseFloat(t.getAttribute("x2")||0),y2:parseFloat(t.getAttribute("y2")||0)}),i},ellipse:function(t,e){var i=new rd;return dd(e,i),gd(t,i,this._defs),i.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),rx:parseFloat(t.getAttribute("rx")||0),ry:parseFloat(t.getAttribute("ry")||0)}),i},polygon:function(t,e){var i=t.getAttribute("points");i=i&&fd(i);var n=new Qr({shape:{points:i||[]}});return dd(e,n),gd(t,n,this._defs),n},polyline:function(t,e){var i=new Ar;dd(e,i),gd(t,i,this._defs);var n=t.getAttribute("points");return n=n&&fd(n),new ts({shape:{points:n||[]}})},image:function(t,e){var i=new Qn;return dd(e,i),gd(t,i,this._defs),i.setStyle({image:t.getAttribute("xlink:href"),x:t.getAttribute("x"),y:t.getAttribute("y"),width:t.getAttribute("width"),height:t.getAttribute("height")}),i},text:function(t,e){var i=t.getAttribute("x")||0,n=t.getAttribute("y")||0,o=t.getAttribute("dx")||0,a=t.getAttribute("dy")||0;this._textX=parseFloat(i)+parseFloat(o),this._textY=parseFloat(n)+parseFloat(a);var r=new Ci;return dd(e,r),gd(t,r,this._defs),r},tspan:function(t,e){var i=t.getAttribute("x"),n=t.getAttribute("y");null!=i&&(this._textX=parseFloat(i)),null!=n&&(this._textY=parseFloat(n));var o=t.getAttribute("dx")||0,a=t.getAttribute("dy")||0,r=new Ci;return dd(e,r),gd(t,r,this._defs),this._textX+=o,this._textY+=a,r},path:function(t,e){var i=Zr(t.getAttribute("d")||"");return dd(e,i),gd(t,i,this._defs),i}},cd={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||0,10),i=parseInt(t.getAttribute("y1")||0,10),n=parseInt(t.getAttribute("x2")||10,10),o=parseInt(t.getAttribute("y2")||0,10),a=new gs(e,i,n,o);return function(t,e){var i=t.firstChild;for(;i;){if(1===i.nodeType){var n=i.getAttribute("offset");n=0<n.indexOf("%")?parseInt(n,10)/100:n?parseFloat(n):0;var o=i.getAttribute("stop-color")||"#000000";e.addColorStop(n,o)}i=i.nextSibling}}(t,a),a},radialgradient:function(t){}};function dd(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),D(e.__inheritedStyle,t.__inheritedStyle))}function fd(t){for(var e=j(t).split(sd),i=[],n=0;n<e.length;n+=2){var o=parseFloat(e[n]),a=parseFloat(e[n+1]);i.push([o,a])}return i}var pd={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"};function gd(t,e,i,n){var o=e.__inheritedStyle||{},a="text"===e.type;if(1===t.nodeType&&(function(t,e){var i=t.getAttribute("transform");if(i){i=i.replace(/,/g," ");var n=null,o=[];i.replace(yd,function(t,e,i){o.push(e,i)});for(var a=o.length-1;0<a;a-=2){var r=o[a],s=o[a-1];switch(n=n||ae(),s){case"translate":r=j(r).split(sd),ue(n,n,[parseFloat(r[0]),parseFloat(r[1]||0)]);break;case"scale":r=j(r).split(sd),ce(n,n,[parseFloat(r[0]),parseFloat(r[1]||r[0])]);break;case"rotate":r=j(r).split(sd),he(n,n,parseFloat(r[0]));break;case"skew":r=j(r).split(sd),console.warn("Skew transform is not supported yet");break;case"matrix":r=j(r).split(sd);n[0]=parseFloat(r[0]),n[1]=parseFloat(r[1]),n[2]=parseFloat(r[2]),n[3]=parseFloat(r[3]),n[4]=parseFloat(r[4]),n[5]=parseFloat(r[5])}}e.setLocalTransform(n)}}(t,e),k(o,function(t){var e=t.getAttribute("style"),i={};if(!e)return i;var n,o={};xd.lastIndex=0;for(;null!=(n=xd.exec(e));)o[n[1]]=n[2];for(var a in pd)pd.hasOwnProperty(a)&&null!=o[a]&&(i[pd[a]]=o[a]);return i}(t)),!n))for(var r in pd)if(pd.hasOwnProperty(r)){var s=t.getAttribute(r);null!=s&&(o[pd[r]]=s)}var l=a?"textFill":"fill",u=a?"textStroke":"stroke";e.style=e.style||new Ui;var h=e.style;null!=o.fill&&h.set(l,vd(o.fill,i)),null!=o.stroke&&h.set(u,vd(o.stroke,i)),E(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(t){var e="lineWidth"===t&&a?"textStrokeWidth":t;null!=o[t]&&h.set(e,parseFloat(o[t]))}),o.textBaseline&&"auto"!==o.textBaseline||(o.textBaseline="alphabetic"),"alphabetic"===o.textBaseline&&(o.textBaseline="bottom"),"start"===o.textAlign&&(o.textAlign="left"),"end"===o.textAlign&&(o.textAlign="right"),E(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],function(t){null!=o[t]&&h.set(t,o[t])}),o.lineDash&&(e.style.lineDash=j(o.lineDash).split(sd)),h[u]&&"none"!==h[u]&&(e[u]=!0),e.__inheritedStyle=o}var md=/url\(\s*#(.*?)\)/;function vd(t,e){var i=e&&t&&t.match(md);return i?e[j(i[1])]:t}var yd=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g;var xd=/([^\s:;]+)\s*:\s*([^:;]+)/g;function _d(t,e,i){var n=e/t.width,o=i/t.height,a=Math.min(n,o);return{scale:[a,a],position:[-(t.x+t.width/2)*a+e/2,-(t.y+t.height/2)*a+i/2]}}var wd=Q(),bd={registerMap:function(t,e,i){var n;return E(n=O(e)?e:e.svg?[{type:"svg",source:e.svg,specialAreas:e.specialAreas}]:(e.geoJson&&!e.features&&(i=e.specialAreas,e=e.geoJson),[{type:"geoJSON",source:e,specialAreas:i}]),function(t){var e=t.type;"geoJson"===e&&(e=t.type="geoJSON"),(0,Sd[e])(t)}),wd.set(t,n)},retrieveMap:function(t){return wd.get(t)}},Sd={geoJSON:function(t){var e=t.source;t.geoJSON=R(e)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e},svg:function(t){t.svgXML=ld(t.source)}},Md=Y,Id=E,Td=C,Ad=z,Dd=Lu.parseClassType,Cd={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:3500,COMPONENT:4e3,BRUSH:5e3}},Ld="__flagInMainProcess",kd="__optionUpdated",Pd=/^[a-zA-Z0-9_]+$/;function Nd(n,o){return function(t,e,i){!o&&this._disposed||(t=t&&t.toLowerCase(),Ct.prototype[n].call(this,t,e,i))}}function Od(){Ct.call(this)}function Ed(t,e,i){i=i||{},"string"==typeof e&&(e=rf[e]),this.id,this.group,this._dom=t;var n=this._zr=ko(t,{renderer:i.renderer||"canvas",devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height});this._throttledZrFlush=Cc(A(n.flush,n),17),(e=L(e))&&Ch(e,!0),this._theme=e,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new sh;var o=this._api=function(i){var t=i._coordSysMgr;return k(new ah(i),{getCoordinateSystems:A(t.getCoordinateSystems,t),getComponentByElement:function(t){for(;t;){var e=t.__ecComponentInfo;if(null!=e)return i._model.getComponent(e.mainType,e.index);t=t.parent}}})}(this);function a(t,e){return t.__prio-e.__prio}zi(af,a),zi(ef,a),this._scheduler=new Rc(this,o,ef,af),Ct.call(this,this._ecEventProcessor=new Jd),this._messageCenter=new Od,this._initEvents(),this.resize=A(this.resize,this),this._pendingActions=[],n.animation.on("frame",this._onframe,this),function(t,e){t.on("rendered",function(){e.trigger("rendered"),!t.animation.isFinished()||e[kd]||e._scheduler.unfinished||e._pendingActions.length||e.trigger("finished")})}(n,this),K(this)}Od.prototype.on=Nd("on",!0),Od.prototype.off=Nd("off",!0),Od.prototype.one=Nd("one",!0),b(Od,Ct);var Rd=Ed.prototype;function zd(t,e,i){if(!this._disposed){var n,o=this._model,a=this._coordSysMgr.getCoordinateSystems();e=Ko(o,e);for(var r=0;r<a.length;r++){var s=a[r];if(s[t]&&null!=(n=s[t](o,e,i)))return n}}}Rd._onframe=function(){if(!this._disposed){var t=this._scheduler;if(this[kd]){var e=this[kd].silent;this[Ld]=!0,Vd(this),Bd.update.call(this),this[Ld]=!1,this[kd]=!1,Hd.call(this,e),Zd.call(this,e)}else if(t.unfinished){var i=1,n=this._model,o=this._api;t.unfinished=!1;do{var a=+new Date;t.performSeriesTasks(n),t.performDataProcessorTasks(n),Fd(this,n),t.performVisualTasks(n),jd(this,this._model,o,"remain"),i-=+new Date-a}while(0<i&&t.unfinished);t.unfinished||this._zr.flush()}}},Rd.getDom=function(){return this._dom},Rd.getZr=function(){return this._zr},Rd.setOption=function(t,e,i){if(!this._disposed){var n;if(Ad(e)&&(i=e.lazyUpdate,n=e.silent,e=e.notMerge),this[Ld]=!0,!this._model||e){var o=new fh(this._api),a=this._theme,r=this._model=new eh;r.scheduler=this._scheduler,r.init(null,null,a,o)}this._model.setOption(t,nf),i?(this[kd]={silent:n},this[Ld]=!1):(Vd(this),Bd.update.call(this),this._zr.flush(),this[kd]=!1,this[Ld]=!1,Hd.call(this,n),Zd.call(this,n))}},Rd.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},Rd.getModel=function(){return this._model},Rd.getOption=function(){return this._model&&this._model.getOption()},Rd.getWidth=function(){return this._zr.getWidth()},Rd.getHeight=function(){return this._zr.getHeight()},Rd.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},Rd.getRenderedCanvas=function(t){if(v.canvasSupported)return(t=t||{}).pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(t)},Rd.getSvgDataUrl=function(){if(v.svgSupported){var t=this._zr;return E(t.storage.getDisplayList(),function(t){t.stopAnimation(!0)}),t.painter.pathToDataUrl()}},Rd.getDataURL=function(t){if(!this._disposed){var e=(t=t||{}).excludeComponents,i=this._model,n=[],o=this;Id(e,function(t){i.eachComponent({mainType:t},function(t){var e=o._componentsMap[t.__viewId];e.group.ignore||(n.push(e),e.group.ignore=!0)})});var a="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return Id(n,function(t){t.group.ignore=!1}),a}},Rd.getConnectedDataURL=function(o){if(!this._disposed&&v.canvasSupported){var a=this.group,r=Math.min,s=Math.max;if(uf[a]){var l=1/0,u=1/0,h=-1/0,c=-1/0,d=[],i=o&&o.pixelRatio||1;E(lf,function(t,e){if(t.group===a){var i=t.getRenderedCanvas(L(o)),n=t.getDom().getBoundingClientRect();l=r(n.left,l),u=r(n.top,u),h=s(n.right,h),c=s(n.bottom,c),d.push({dom:i,left:n.left,top:n.top})}});var t=(h*=i)-(l*=i),e=(c*=i)-(u*=i),n=g();n.width=t,n.height=e;var f=ko(n);return o.connectedBackgroundColor&&f.add(new rs({shape:{x:0,y:0,width:t,height:e},style:{fill:o.connectedBackgroundColor}})),Id(d,function(t){var e=new Qn({style:{x:t.left*i-l,y:t.top*i-u,image:t.dom}});f.add(e)}),f.refreshImmediately(),n.toDataURL("image/"+(o&&o.type||"png"))}return this.getDataURL(o)}},Rd.convertToPixel=T(zd,"convertToPixel"),Rd.convertFromPixel=T(zd,"convertFromPixel"),Rd.containPixel=function(t,o){var a;if(!this._disposed)return E(t=Ko(this._model,t),function(t,n){0<=n.indexOf("Models")&&E(t,function(t){var e=t.coordinateSystem;if(e&&e.containPoint)a|=!!e.containPoint(o);else if("seriesModels"===n){var i=this._chartsMap[t.__viewId];i&&i.containPoint&&(a|=i.containPoint(o,t))}},this)},this),!!a},Rd.getVisual=function(t,e){var i=(t=Ko(this._model,t,{defaultMainType:"series"})).seriesModel.getData(),n=t.hasOwnProperty("dataIndexInside")?t.dataIndexInside:t.hasOwnProperty("dataIndex")?i.indexOfRawIndex(t.dataIndex):null;return null!=n?i.getItemVisual(n,e):i.getVisual(e)},Rd.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},Rd.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]};var Bd={prepareAndUpdate:function(t){Vd(this),Bd.update.call(this,t)},update:function(t){var e=this._model,i=this._api,n=this._zr,o=this._coordSysMgr,a=this._scheduler;if(e){a.restoreData(e,t),a.performSeriesTasks(e),o.create(e,i),a.performDataProcessorTasks(e,t),Fd(this,e),o.update(e,i),Xd(e),a.performVisualTasks(e,t),Yd(this,e,i,t);var r=e.get("backgroundColor")||"transparent";if(v.canvasSupported)n.setBackgroundColor(r);else{var s=Fe(r);r=$e(s,"rgb"),0===s[3]&&(r="transparent")}qd(e,i)}},updateTransform:function(o){var a=this._model,r=this,s=this._api;if(a){var l=[];a.eachComponent(function(t,e){var i=r.getViewOfComponentModel(e);if(i&&i.__alive)if(i.updateTransform){var n=i.updateTransform(e,a,s,o);n&&n.update&&l.push(i)}else l.push(i)});var n=Q();a.eachSeries(function(t){var e=r._chartsMap[t.__viewId];if(e.updateTransform){var i=e.updateTransform(t,a,s,o);i&&i.update&&n.set(t.uid,1)}else n.set(t.uid,1)}),Xd(a),this._scheduler.performVisualTasks(a,o,{setDirty:!0,dirtyMap:n}),jd(r,a,s,o,n),qd(a,this._api)}},updateView:function(t){var e=this._model;e&&(xc.markUpdateMethod(t,"updateView"),Xd(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0}),Yd(this,this._model,this._api,t),qd(e,this._api))},updateVisual:function(t){Bd.update.call(this,t)},updateLayout:function(t){Bd.update.call(this,t)}};function Vd(t){var e=t._model,i=t._scheduler;i.restorePipelines(e),i.prepareStageTasks(),Ud(t,"component",e,i),Ud(t,"chart",e,i),i.plan()}function Gd(e,i,n,o,t){var a=e._model;if(o){var r={};r[o+"Id"]=n[o+"Id"],r[o+"Index"]=n[o+"Index"],r[o+"Name"]=n[o+"Name"];var s={mainType:o,query:r};t&&(s.subType=t);var l=n.excludeSeriesId;null!=l&&(l=Q(Vo(l))),a&&a.eachComponent(s,function(t){l&&null!=l.get(t.id)||u(e["series"===o?"_chartsMap":"_componentsMap"][t.__viewId])},e)}else Id(e._componentsViews.concat(e._chartsViews),u);function u(t){t&&t.__alive&&t[i]&&t[i](t.__model,a,e._api,n)}}function Fd(t,e){var i=t._chartsMap,n=t._scheduler;e.eachSeries(function(t){n.updateStreamModes(t,i[t.__viewId])})}function Wd(e,t){var i=e.type,n=e.escapeConnect,o=Qd[i],a=o.actionInfo,r=(a.update||"update").split(":"),s=r.pop();r=null!=r[0]&&Dd(r[0]),this[Ld]=!0;var l=[e],u=!1;e.batch&&(u=!0,l=N(e.batch,function(t){return(t=D(k({},t),e)).batch=null,t}));var h,c=[],d="highlight"===i||"downplay"===i;Id(l,function(t){(h=(h=o.action(t,this._model,this._api))||k({},t)).type=a.event||h.type,c.push(h),d?Gd(this,s,t,"series"):r&&Gd(this,s,t,r.main,r.sub)},this),"none"===s||d||r||(this[kd]?(Vd(this),Bd.update.call(this,e),this[kd]=!1):Bd[s].call(this,e)),h=u?{type:a.event||i,escapeConnect:n,batch:c}:c[0],this[Ld]=!1,t||this._messageCenter.trigger(h.type,h)}function Hd(t){for(var e=this._pendingActions;e.length;){var i=e.shift();Wd.call(this,i,t)}}function Zd(t){t||this.trigger("updated")}function Ud(t,e,o,a){for(var r="component"===e,s=r?t._componentsViews:t._chartsViews,l=r?t._componentsMap:t._chartsMap,u=t._zr,h=t._api,i=0;i<s.length;i++)s[i].__alive=!1;function n(t){var e="_ec_"+t.id+"_"+t.type,i=l[e];if(!i){var n=Dd(t.type);(i=new(r?pc.getClass(n.main,n.sub):xc.getClass(n.sub))).init(o,h),l[e]=i,s.push(i),u.add(i.group)}t.__viewId=i.__id=e,i.__alive=!0,i.__model=t,i.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},r||a.prepareView(i,t,o,h)}r?o.eachComponent(function(t,e){"series"!==t&&n(e)}):o.eachSeries(n);for(i=0;i<s.length;){var c=s[i];c.__alive?i++:(r||c.renderTask.dispose(),u.remove(c.group),c.dispose(o,h),s.splice(i,1),delete l[c.__id],c.__id=c.group.__ecComponentInfo=null)}}function Xd(t){t.clearColorPalette(),t.eachSeries(function(t){t.clearColorPalette()})}function Yd(t,e,i,n){!function(t,i,n,o,e){Id(e||t._componentsViews,function(t){var e=t.__model;t.render(e,i,n,o),$d(e,t)})}(t,e,i,n),Id(t._chartsViews,function(t){t.__alive=!1}),jd(t,e,i,n),Id(t._chartsViews,function(t){t.__alive||t.remove(e,i)})}function jd(n,t,e,o,a){var r,s=n._scheduler;t.eachSeries(function(t){var e=n._chartsMap[t.__viewId];e.__alive=!0;var i=e.renderTask;s.updatePayload(i,o),a&&a.get(t.uid)&&i.dirty(),r|=i.perform(s.getPerformArgs(i)),e.group.silent=!!t.get("silent"),$d(t,e),function(t,e){var i=t.get("blendMode")||null;e.group.traverse(function(t){t.isGroup||t.style.blend!==i&&t.setStyle("blend",i),t.eachPendingDisplayable&&t.eachPendingDisplayable(function(t){t.setStyle("blend",i)})})}(t,e)}),s.unfinished|=r,function(i,t){var e=i._zr.storage,n=0;e.traverse(function(t){n++}),n>t.get("hoverLayerThreshold")&&!v.node&&t.eachSeries(function(t){if(!t.preventUsingHoverLayer){var e=i._chartsMap[t.__viewId];e.__alive&&e.group.traverse(function(t){t.useHoverLayer=!0})}})}(n,t),Oc(n._zr.dom,t)}function qd(e,i){Id(of,function(t){t(e,i)})}Rd.resize=function(t){if(!this._disposed){this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){var i=e.resetOption("media"),n=t&&t.silent;this[Ld]=!0,i&&Vd(this),Bd.update.call(this),this[Ld]=!1,Hd.call(this,n),Zd.call(this,n)}}},Rd.showLoading=function(t,e){if(!this._disposed&&(Ad(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),sf[t])){var i=sf[t](this._api,e),n=this._zr;this._loadingFX=i,n.add(i)}},Rd.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},Rd.makeActionFromEvent=function(t){var e=k({},t);return e.type=tf[t.type],e},Rd.dispatchAction=function(t,e){this._disposed||(Ad(e)||(e={silent:!!e}),Qd[t.type]&&this._model&&(this[Ld]?this._pendingActions.push(t):(Wd.call(this,t,e.silent),e.flush?this._zr.flush(!0):!1!==e.flush&&v.browser.weChat&&this._throttledZrFlush(),Hd.call(this,e.silent),Zd.call(this,e.silent))))},Rd.appendData=function(t){if(!this._disposed){var e=t.seriesIndex;this.getModel().getSeriesByIndex(e).appendData(t),this._scheduler.unfinished=!0}},Rd.on=Nd("on",!1),Rd.off=Nd("off",!1),Rd.one=Nd("one",!1);var Kd=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function $d(t,e){var i=t.get("z"),n=t.get("zlevel");e.group.traverse(function(t){"group"!==t.type&&(null!=i&&(t.z=i),null!=n&&(t.zlevel=n))})}function Jd(){this.eventInfo}Rd._initEvents=function(){Id(Kd,function(u){function t(t){var e,i=this.getModel(),n=t.target;if("globalout"===u)e={};else if(n&&null!=n.dataIndex){var o=n.dataModel||i.getSeriesByIndex(n.seriesIndex);e=o&&o.getDataParams(n.dataIndex,n.dataType,n)||{}}else n&&n.eventData&&(e=k({},n.eventData));if(e){var a=e.componentType,r=e.componentIndex;"markLine"!==a&&"markPoint"!==a&&"markArea"!==a||(a="series",r=e.seriesIndex);var s=a&&null!=r&&i.getComponent(a,r),l=s&&this["series"===s.mainType?"_chartsMap":"_componentsMap"][s.__viewId];e.event=t,e.type=u,this._ecEventProcessor.eventInfo={targetEl:n,packedEvent:e,model:s,view:l},this.trigger(u,e)}}t.zrEventfulCallAtLast=!0,this._zr.on(u,t,this)},this),Id(tf,function(t,e){this._messageCenter.on(e,function(t){this.trigger(e,t)},this)},this)},Rd.isDisposed=function(){return this._disposed},Rd.clear=function(){this._disposed||this.setOption({series:[]},!0)},Rd.dispose=function(){if(!this._disposed){this._disposed=!0,Jo(this.getDom(),df,"");var e=this._api,i=this._model;Id(this._componentsViews,function(t){t.dispose(i,e)}),Id(this._chartsViews,function(t){t.dispose(i,e)}),this._zr.dispose(),delete lf[this.id]}},b(Ed,Ct),Jd.prototype={constructor:Jd,normalizeQuery:function(t){var s={},l={},u={};if(R(t)){var e=Dd(t);s.mainType=e.main||null,s.subType=e.sub||null}else{var h=["Index","Name","Id"],c={name:1,dataIndex:1,dataType:1};E(t,function(t,e){for(var i=!1,n=0;n<h.length;n++){var o=h[n],a=e.lastIndexOf(o);if(0<a&&a===e.length-o.length){var r=e.slice(0,a);"data"!==r&&(s.mainType=r,s[o.toLowerCase()]=t,i=!0)}}c.hasOwnProperty(e)&&(l[e]=t,i=!0),i||(u[e]=t)})}return{cptQuery:s,dataQuery:l,otherQuery:u}},filter:function(t,e,i){var n=this.eventInfo;if(!n)return!0;var o=n.targetEl,a=n.packedEvent,r=n.model,s=n.view;if(!r||!s)return!0;var l=e.cptQuery,u=e.dataQuery;return h(l,r,"mainType")&&h(l,r,"subType")&&h(l,r,"index","componentIndex")&&h(l,r,"name")&&h(l,r,"id")&&h(u,a,"name")&&h(u,a,"dataIndex")&&h(u,a,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(t,e.otherQuery,o,a));function h(t,e,i,n){return null==t[i]||e[n||i]===t[i]}},afterTrigger:function(){this.eventInfo=null}};var Qd={},tf={},ef=[],nf=[],of=[],af=[],rf={},sf={},lf={},uf={},hf=new Date-0,cf=new Date-0,df="_echarts_instance_";function ff(t){uf[t]=!1}var pf=ff;function gf(t){return lf[function(t,e){return t.getAttribute?t.getAttribute(e):t[e]}(t,df)]}function mf(t,e){rf[t]=e}function vf(t){nf.push(t)}function yf(t,e){Sf(ef,t,e,1e3)}function xf(t,e,i){"function"==typeof e&&(i=e,e="");var n=Ad(t)?t.type:[t,t={event:e}][0];t.event=(t.event||n).toLowerCase(),e=t.event,Md(Pd.test(n)&&Pd.test(e)),Qd[n]||(Qd[n]={action:i,actionInfo:t}),tf[e]=n}function _f(t,e){sh.register(t,e)}function wf(t,e){Sf(af,t,e,1e3,"layout")}function bf(t,e){Sf(af,t,e,3e3,"visual")}function Sf(t,e,i,n,o){(Td(e)||Ad(e))&&(i=e,e=n);var a=Rc.wrapStageHandler(i,o);return a.__prio=e,a.__raw=i,t.push(a),a}function Mf(t,e){sf[t]=e}function If(t){return Lu.extend(t)}function Tf(t){return pc.extend(t)}function Af(t){return rc.extend(t)}function Df(t){return xc.extend(t)}bf(2e3,Pc),vf(Ch),yf(900,function(t){var a=Q();t.eachSeries(function(t){var e=t.get("stack");if(e){var i=a.get(e)||a.set(e,[]),n=t.getData(),o={stackResultDimension:n.getCalculationInfo("stackResultDimension"),stackedOverDimension:n.getCalculationInfo("stackedOverDimension"),stackedDimension:n.getCalculationInfo("stackedDimension"),stackedByDimension:n.getCalculationInfo("stackedByDimension"),isStackedByIndex:n.getCalculationInfo("isStackedByIndex"),data:n,seriesModel:t};if(!o.stackedDimension||!o.isStackedByIndex&&!o.stackedByDimension)return;i.length&&n.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(o)}}),a.each(Lh)}),Mf("default",function(n,t){D(t=t||{},{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var o=new rs({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4}),a=new fs({shape:{startAngle:-Ec/2,endAngle:-Ec/2+.1,r:10},style:{stroke:t.color,lineCap:"round",lineWidth:5},zlevel:t.zlevel,z:10001}),r=new rs({style:{fill:"none",text:t.text,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});a.animateShape(!0).when(1e3,{endAngle:3*Ec/2}).start("circularInOut"),a.animateShape(!0).when(1e3,{startAngle:3*Ec/2}).delay(300).start("circularInOut");var e=new Ci;return e.add(a),e.add(r),e.add(o),e.resize=function(){var t=n.getWidth()/2,e=n.getHeight()/2;a.setShape({cx:t,cy:e});var i=a.shape.r;r.setShape({x:t-i,y:e-i,width:2*i,height:2*i}),o.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},e.resize(),e}),xf({type:"highlight",event:"highlight",update:"highlight"},et),xf({type:"downplay",event:"downplay",update:"downplay"},et),mf("light",id),mf("dark",ad);function Cf(t){return t}function Lf(t,e,i,n,o){this._old=t,this._new=e,this._oldKeyGetter=i||Cf,this._newKeyGetter=n||Cf,this.context=o}function kf(t,e,i,n,o){for(var a=0;a<t.length;a++){var r="_ec_"+o[n](t[a],a),s=e[r];null==s?(i.push(r),e[r]=a):(s.length||(e[r]=s=[s]),s.push(a))}}Lf.prototype={constructor:Lf,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t=this._old,e=this._new,i={},n=[],o=[];for(kf(t,{},n,"_oldKeyGetter",this),kf(e,i,o,"_newKeyGetter",this),a=0;a<t.length;a++){if(null!=(s=i[r=n[a]]))(u=s.length)?(1===u&&(i[r]=null),s=s.shift()):i[r]=null,this._update&&this._update(s,a);else this._remove&&this._remove(a)}for(var a=0;a<o.length;a++){var r=o[a];if(i.hasOwnProperty(r)){var s;if(null==(s=i[r]))continue;if(s.length)for(var l=0,u=s.length;l<u;l++)this._add&&this._add(s[l]);else this._add&&this._add(s)}}}};var Pf=Q(["tooltip","label","itemName","itemId","seriesName"]);function Nf(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function Of(t){return"category"===t?"ordinal":"time"===t?"time":"float"}function Ef(t){null!=t&&k(this,t),this.otherDims={}}var Rf=z,zf="undefined",Bf={float:typeof Float64Array==zf?Array:Float64Array,int:typeof Int32Array==zf?Array:Int32Array,ordinal:Array,number:Array,time:Array},Vf=typeof Uint32Array==zf?Array:Uint32Array,Gf=typeof Int32Array==zf?Array:Int32Array,Ff=typeof Uint16Array==zf?Array:Uint16Array;function Wf(t){return 65535<t._rawCount?Vf:Ff}var Hf=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],Zf=["_extent","_approximateExtent","_rawExtent"];function Uf(e,i){E(Hf.concat(i.__wrappedMethods||[]),function(t){i.hasOwnProperty(t)&&(e[t]=i[t])}),e.__wrappedMethods=i.__wrappedMethods,E(Zf,function(t){e[t]=L(i[t])}),e._calculationInfo=k(i._calculationInfo)}var Xf=function(t,e){t=t||["x","y"];for(var i={},n=[],o={},a=0;a<t.length;a++){var r=t[a];R(r)?r=new Ef({name:r}):r instanceof Ef||(r=new Ef(r));var s=r.name;r.type=r.type||"float",r.coordDim||(r.coordDim=s,r.coordDimIndex=0),r.otherDims=r.otherDims||{},n.push(s),(i[s]=r).index=a,r.createInvertedIndices&&(o[s]=[])}this.dimensions=n,this._dimensionInfos=i,this.hostModel=e,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=function(n){var t={},a=t.encode={},r=Q(),s=[],l=[],u=t.userOutput={dimensionNames:n.dimensions.slice(),encode:{}};E(n.dimensions,function(t){var o=n.getDimensionInfo(t),e=o.coordDim;if(e){var i=o.coordDimIndex;Nf(a,e)[i]=t,o.isExtraCoord||(r.set(e,1),function(t){return!("ordinal"===t||"time"===t)}(o.type)&&(s[0]=t),Nf(u.encode,e)[i]=o.index),o.defaultTooltip&&l.push(t)}Pf.each(function(t,e){var i=Nf(a,e),n=o.otherDims[e];null!=n&&!1!==n&&(i[n]=o.name)})});var o=[],h={};r.each(function(t,e){var i=a[e];h[e]=i[0],o=o.concat(i)}),t.dataDimsOnCoord=o,t.encodeFirstDimNotExtra=h;var e=a.label;e&&e.length&&(s=e.slice());var i=a.tooltip;return i&&i.length?l=i.slice():l.length||(l=s.slice()),a.defaultedLabel=s,a.defaultedTooltip=l,t}(this),this._invertedIndicesMap=o,this._calculationInfo={},this.userOutput=this._dimensionsSummary.userOutput},Yf=Xf.prototype;function jf(t,e,i,n,o){var a=Bf[e.type],r=n-1,s=e.name,l=t[s][r];if(l&&l.length<i){for(var u=new a(Math.min(o-r*i,i)),h=0;h<l.length;h++)u[h]=l[h];t[s][r]=u}for(var c=n*i;c<o;c+=i)t[s].push(new a(Math.min(o-c,i)))}function qf(o){var a=o._invertedIndicesMap;E(a,function(t,e){var i=o._dimensionInfos[e].ordinalMeta;if(i){t=a[e]=new Gf(i.categories.length);for(var n=0;n<t.length;n++)t[n]=-1;for(n=0;n<o._count;n++)t[o.get(e,n)]=n}})}function Kf(t,e,i){var n;if(null!=e){var o=t._chunkSize,a=Math.floor(i/o),r=i%o,s=t.dimensions[e],l=t._storage[s][a];if(l){n=l[r];var u=t._dimensionInfos[s].ordinalMeta;u&&u.categories.length&&(n=u.categories[n])}}return n}function $f(t){return t}function Jf(t){return t<this._count&&0<=t?this._indices[t]:-1}function Qf(t,e){var i=t._idList[e];return null==i&&(i=Kf(t,t._idDimIdx,e)),null==i&&(i="e\0\0"+e),i}function tp(t){return O(t)||(t=[t]),t}function ep(t,e){var i=t.dimensions,n=new Xf(N(i,t.getDimensionInfo,t),t.hostModel);Uf(n,t);for(var o=n._storage={},a=t._storage,r=0;r<i.length;r++){var s=i[r];a[s]&&(0<=_(e,s)?(o[s]=ip(a[s]),n._rawExtent[s]=np(),n._extent[s]=null):o[s]=a[s])}return n}function ip(t){for(var e,i,n=new Array(t.length),o=0;o<t.length;o++)n[o]=(e=t[o],i=void 0,(i=e.constructor)===Array?e.slice():new i(e));return n}function np(){return[1/0,-1/0]}Yf.type="list",Yf.hasItemOption=!0,Yf.getDimension=function(t){return"number"!=typeof t&&(isNaN(t)||this._dimensionInfos.hasOwnProperty(t))||(t=this.dimensions[t]),t},Yf.getDimensionInfo=function(t){return this._dimensionInfos[this.getDimension(t)]},Yf.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},Yf.mapDimension=function(t,e){var i=this._dimensionsSummary;if(null==e)return i.encodeFirstDimNotExtra[t];var n=i.encode[t];return!0===e?(n||[]).slice():n&&n[e]},Yf.initData=function(t,e,i){(Zu.isInstance(t)||P(t))&&(t=new kh(t,this.dimensions.length)),this._rawData=t,this._storage={},this._indices=null,this._nameList=e||[],this._idList=[],this._nameRepeatCount={},i||(this.hasItemOption=!1),this.defaultDimValueGetter=Vh[this._rawData.getSource().sourceFormat],this._dimValueGetter=i=i||this.defaultDimValueGetter,this._dimValueGetterArrayRows=Vh.arrayRows,this._rawExtent={},this._initDataFromProvider(0,t.count()),t.pure&&(this.hasItemOption=!1)},Yf.getProvider=function(){return this._rawData},Yf.appendData=function(t){var e=this._rawData,i=this.count();e.appendData(t);var n=e.count();e.persistent||(n+=i),this._initDataFromProvider(i,n)},Yf.appendValues=function(t,e){for(var i=this._chunkSize,n=this._storage,o=this.dimensions,a=o.length,r=this._rawExtent,s=this.count(),l=s+Math.max(t.length,e?e.length:0),u=this._chunkCount,h=0;h<a;h++){r[v=o[h]]||(r[v]=np()),n[v]||(n[v]=[]),jf(n,this._dimensionInfos[v],i,u,l),this._chunkCount=n[v].length}for(var c=new Array(a),d=s;d<l;d++){for(var f=d-s,p=Math.floor(d/i),g=d%i,m=0;m<a;m++){var v=o[m],y=this._dimValueGetterArrayRows(t[f]||c,v,f,m);n[v][p][g]=y;var x=r[v];y<x[0]&&(x[0]=y),y>x[1]&&(x[1]=y)}e&&(this._nameList[d]=e[f])}this._rawCount=this._count=l,this._extent={},qf(this)},Yf._initDataFromProvider=function(t,e){if(!(e<=t)){for(var i,n=this._chunkSize,o=this._rawData,a=this._storage,r=this.dimensions,s=r.length,l=this._dimensionInfos,u=this._nameList,h=this._idList,c=this._rawExtent,d=this._nameRepeatCount={},f=this._chunkCount,p=0;p<s;p++){c[w=r[p]]||(c[w]=np());var g=l[w];0===g.otherDims.itemName&&(i=this._nameDimIdx=p),0===g.otherDims.itemId&&(this._idDimIdx=p),a[w]||(a[w]=[]),jf(a,g,n,f,e),this._chunkCount=a[w].length}for(var m=new Array(s),v=t;v<e;v++){m=o.getItem(v,m);for(var y=Math.floor(v/n),x=v%n,_=0;_<s;_++){var w,b=a[w=r[_]][y],S=this._dimValueGetter(m,w,v,_);b[x]=S;var M=c[w];S<M[0]&&(M[0]=S),S>M[1]&&(M[1]=S)}if(!o.pure){var I=u[v];if(m&&null==I)if(null!=m.name)u[v]=I=m.name;else if(null!=i){var T=r[i],A=a[T][y];if(A){I=A[x];var D=l[T].ordinalMeta;D&&D.categories.length&&(I=D.categories[I])}}var C=null==m?null:m.id;null==C&&null!=I&&(d[I]=d[I]||0,0<d[C=I]&&(C+="__ec__"+d[I]),d[I]++),null!=C&&(h[v]=C)}}!o.persistent&&o.clean&&o.clean(),this._rawCount=this._count=e,this._extent={},qf(this)}},Yf.count=function(){return this._count},Yf.getIndices=function(){var t=this._indices;if(t){var e=t.constructor,i=this._count;if(e===Array){o=new e(i);for(var n=0;n<i;n++)o[n]=t[n]}else o=new e(t.buffer,0,i)}else{var o=new(e=Wf(this))(this.count());for(n=0;n<o.length;n++)o[n]=n}return o},Yf.get=function(t,e){if(!(0<=e&&e<this._count))return NaN;var i=this._storage;if(!i[t])return NaN;e=this.getRawIndex(e);var n=Math.floor(e/this._chunkSize),o=e%this._chunkSize;return i[t][n][o]},Yf.getByRawIndex=function(t,e){if(!(0<=e&&e<this._rawCount))return NaN;var i=this._storage[t];if(!i)return NaN;var n=Math.floor(e/this._chunkSize),o=e%this._chunkSize;return i[n][o]},Yf._getFast=function(t,e){var i=Math.floor(e/this._chunkSize),n=e%this._chunkSize;return this._storage[t][i][n]},Yf.getValues=function(t,e){var i=[];O(t)||(e=t,t=this.dimensions);for(var n=0,o=t.length;n<o;n++)i.push(this.get(t[n],e));return i},Yf.hasValue=function(t){for(var e=this._dimensionsSummary.dataDimsOnCoord,i=0,n=e.length;i<n;i++)if(isNaN(this.get(e[i],t)))return!1;return!0},Yf.getDataExtent=function(t){t=this.getDimension(t);var e=this._storage[t],i=np();if(!e)return i;var n,o=this.count();if(!this._indices)return this._rawExtent[t].slice();if(n=this._extent[t])return n.slice();for(var a=(n=i)[0],r=n[1],s=0;s<o;s++){var l=this._getFast(t,this.getRawIndex(s));l<a&&(a=l),r<l&&(r=l)}return n=[a,r],this._extent[t]=n},Yf.getApproximateExtent=function(t){return t=this.getDimension(t),this._approximateExtent[t]||this.getDataExtent(t)},Yf.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},Yf.getCalculationInfo=function(t){return this._calculationInfo[t]},Yf.setCalculationInfo=function(t,e){Rf(t)?k(this._calculationInfo,t):this._calculationInfo[t]=e},Yf.getSum=function(t){var e=0;if(this._storage[t])for(var i=0,n=this.count();i<n;i++){var o=this.get(t,i);isNaN(o)||(e+=o)}return e},Yf.getMedian=function(t){var i=[];this.each(t,function(t,e){isNaN(t)||i.push(t)});var e=[].concat(i).sort(function(t,e){return t-e}),n=this.count();return 0===n?0:n%2==1?e[(n-1)/2]:(e[n/2]+e[n/2-1])/2},Yf.rawIndexOf=function(t,e){var i=(t&&this._invertedIndicesMap[t])[e];return null==i||isNaN(i)?-1:i},Yf.indexOfName=function(t){for(var e=0,i=this.count();e<i;e++)if(this.getName(e)===t)return e;return-1},Yf.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,i=e[t];if(null!=i&&i<this._count&&i===t)return t;for(var n=0,o=this._count-1;n<=o;){var a=(n+o)/2|0;if(e[a]<t)n=1+a;else{if(!(e[a]>t))return a;o=a-1}}return-1},Yf.indicesOfNearest=function(t,e,i){var n=[];if(!this._storage[t])return n;null==i&&(i=1/0);for(var o=1/0,a=-1,r=0,s=0,l=this.count();s<l;s++){var u=e-this.get(t,s),h=Math.abs(u);h<=i&&((h<o||h===o&&0<=u&&a<0)&&(o=h,a=u,r=0),u===a&&(n[r++]=s))}return n.length=r,n},Yf.getRawIndex=$f,Yf.getRawDataItem=function(t){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(t));for(var e=[],i=0;i<this.dimensions.length;i++){var n=this.dimensions[i];e.push(this.get(n,t))}return e},Yf.getName=function(t){var e=this.getRawIndex(t);return this._nameList[e]||Kf(this,this._nameDimIdx,e)||""},Yf.getId=function(t){return Qf(this,this.getRawIndex(t))},Yf.each=function(t,e,i,n){if(this._count){"function"==typeof t&&(n=i,i=e,e=t,t=[]),i=i||n||this;for(var o=(t=N(tp(t),this.getDimension,this)).length,a=0;a<this.count();a++)switch(o){case 0:e.call(i,a);break;case 1:e.call(i,this.get(t[0],a),a);break;case 2:e.call(i,this.get(t[0],a),this.get(t[1],a),a);break;default:for(var r=0,s=[];r<o;r++)s[r]=this.get(t[r],a);s[r]=a,e.apply(i,s)}}},Yf.filterSelf=function(t,e,i,n){if(this._count){"function"==typeof t&&(n=i,i=e,e=t,t=[]),i=i||n||this,t=N(tp(t),this.getDimension,this);for(var o=this.count(),a=new(Wf(this))(o),r=[],s=t.length,l=0,u=t[0],h=0;h<o;h++){var c,d=this.getRawIndex(h);if(0===s)c=e.call(i,h);else if(1===s){var f=this._getFast(u,d);c=e.call(i,f,h)}else{for(var p=0;p<s;p++)r[p]=this._getFast(u,d);r[p]=h,c=e.apply(i,r)}c&&(a[l++]=d)}return l<o&&(this._indices=a),this._count=l,this._extent={},this.getRawIndex=this._indices?Jf:$f,this}},Yf.selectRange=function(t){if(this._count){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);var n=e.length;if(n){var o=this.count(),a=new(Wf(this))(o),r=0,s=e[0],l=t[s][0],u=t[s][1],h=!1;if(!this._indices){var c=0;if(1===n){for(var d=this._storage[e[0]],f=0;f<this._chunkCount;f++)for(var p=d[f],g=Math.min(this._count-f*this._chunkSize,this._chunkSize),m=0;m<g;m++){(l<=(w=p[m])&&w<=u||isNaN(w))&&(a[r++]=c),c++}h=!0}else if(2===n){d=this._storage[s];var v=this._storage[e[1]],y=t[e[1]][0],x=t[e[1]][1];for(f=0;f<this._chunkCount;f++){p=d[f];var _=v[f];for(g=Math.min(this._count-f*this._chunkSize,this._chunkSize),m=0;m<g;m++){var w=p[m],b=_[m];(l<=w&&w<=u||isNaN(w))&&(y<=b&&b<=x||isNaN(b))&&(a[r++]=c),c++}}h=!0}}if(!h)if(1===n)for(m=0;m<o;m++){var S=this.getRawIndex(m);(l<=(w=this._getFast(s,S))&&w<=u||isNaN(w))&&(a[r++]=S)}else for(m=0;m<o;m++){var M=!0;for(S=this.getRawIndex(m),f=0;f<n;f++){var I=e[f];((w=this._getFast(i,S))<t[I][0]||w>t[I][1])&&(M=!1)}M&&(a[r++]=this.getRawIndex(m))}return r<o&&(this._indices=a),this._count=r,this._extent={},this.getRawIndex=this._indices?Jf:$f,this}}},Yf.mapArray=function(t,e,i,n){"function"==typeof t&&(n=i,i=e,e=t,t=[]),i=i||n||this;var o=[];return this.each(t,function(){o.push(e&&e.apply(this,arguments))},i),o},Yf.map=function(t,e,i,n){i=i||n||this;var o=ep(this,t=N(tp(t),this.getDimension,this));o._indices=this._indices,o.getRawIndex=o._indices?Jf:$f;for(var a=o._storage,r=[],s=this._chunkSize,l=t.length,u=this.count(),h=[],c=o._rawExtent,d=0;d<u;d++){for(var f=0;f<l;f++)h[f]=this.get(t[f],d);h[l]=d;var p=e&&e.apply(i,h);if(null!=p){"object"!=typeof p&&(r[0]=p,p=r);for(var g=this.getRawIndex(d),m=Math.floor(g/s),v=g%s,y=0;y<p.length;y++){var x=t[y],_=p[y],w=c[x],b=a[x];b&&(b[m][v]=_),_<w[0]&&(w[0]=_),_>w[1]&&(w[1]=_)}}}return o},Yf.downSample=function(t,e,i,n){for(var o=ep(this,[t]),a=o._storage,r=[],s=Math.floor(1/e),l=a[t],u=this.count(),h=this._chunkSize,c=o._rawExtent[t],d=new(Wf(this))(u),f=0,p=0;p<u;p+=s){u-p<s&&(s=u-p,r.length=s);for(var g=0;g<s;g++){var m=this.getRawIndex(p+g),v=Math.floor(m/h),y=m%h;r[g]=l[v][y]}var x=i(r),_=this.getRawIndex(Math.min(p+n(r,x)||0,u-1)),w=_%h;(l[Math.floor(_/h)][w]=x)<c[0]&&(c[0]=x),x>c[1]&&(c[1]=x),d[f++]=_}return o._count=f,o._indices=d,o.getRawIndex=Jf,o},Yf.getItemModel=function(t){var e=this.hostModel;return new Cl(this.getRawDataItem(t),e,e&&e.ecModel)},Yf.diff=function(e){var i=this;return new Lf(e?e.getIndices():[],this.getIndices(),function(t){return Qf(e,t)},function(t){return Qf(i,t)})},Yf.getVisual=function(t){var e=this._visual;return e&&e[t]},Yf.setVisual=function(t,e){if(Rf(t))for(var i in t)t.hasOwnProperty(i)&&this.setVisual(i,t[i]);else this._visual=this._visual||{},this._visual[t]=e},Yf.setLayout=function(t,e){if(Rf(t))for(var i in t)t.hasOwnProperty(i)&&this.setLayout(i,t[i]);else this._layout[t]=e},Yf.getLayout=function(t){return this._layout[t]},Yf.getItemLayout=function(t){return this._itemLayouts[t]},Yf.setItemLayout=function(t,e,i){this._itemLayouts[t]=i?k(this._itemLayouts[t]||{},e):e},Yf.clearItemLayouts=function(){this._itemLayouts.length=0},Yf.getItemVisual=function(t,e,i){var n=this._itemVisuals[t],o=n&&n[e];return null!=o||i?o:this.getVisual(e)},Yf.setItemVisual=function(t,e,i){var n=this._itemVisuals[t]||{},o=this.hasItemVisual;if(this._itemVisuals[t]=n,Rf(e))for(var a in e)e.hasOwnProperty(a)&&(n[a]=e[a],o[a]=!0);else n[e]=i,o[e]=!0},Yf.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};function op(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType}function ap(t,e,i){Zu.isInstance(e)||(e=Zu.seriesDataToSource(e)),i=i||{},t=(t||[]).slice();for(var n=(i.dimsDef||[]).slice(),o=Q(),a=Q(),l=[],r=function(t,e,i,n){var o=Math.max(t.dimensionsDetectCount||1,e.length,i.length,n||0);return E(e,function(t){var e=t.dimsDef;e&&(o=Math.max(o,e.length))}),o}(e,t,n,i.dimCount),s=0;s<r;s++){var u=n[s]=k({},z(n[s])?n[s]:{name:n[s]}),h=u.name,c=l[s]=new Ef;null!=h&&null==o.get(h)&&(c.name=c.displayName=h,o.set(h,s)),null!=u.type&&(c.type=u.type),null!=u.displayName&&(c.displayName=u.displayName)}var d=i.encodeDef;!d&&i.encodeDefaulter&&(d=i.encodeDefaulter(e,r)),(d=Q(d)).each(function(t,i){if(1===(t=Vo(t).slice()).length&&!R(t[0])&&t[0]<0)d.set(i,!1);else{var n=d.set(i,[]);E(t,function(t,e){R(t)&&(t=o.get(t)),null!=t&&t<r&&(n[e]=t,p(l[t],i,e))})}});var f=0;function p(t,e,i){null!=Pf.get(e)?t.otherDims[e]=i:(t.coordDim=e,t.coordDimIndex=i,a.set(e,!0))}E(t,function(o,t){var a,r,s;if(R(o))a=o,o={};else{a=o.name;var e=o.ordinalMeta;o.ordinalMeta=null,(o=L(o)).ordinalMeta=e,r=o.dimsDef,s=o.otherDims,o.name=o.coordDim=o.coordDimIndex=o.dimsDef=o.otherDims=null}if(!1!==(i=d.get(a))){var i;if(!(i=Vo(i)).length)for(var n=0;n<(r&&r.length||1);n++){for(;f<l.length&&null!=l[f].coordDim;)f++;f<l.length&&i.push(f++)}E(i,function(t,e){var i=l[t];if(p(D(i,o),a,e),null==i.name&&r){var n=r[e];z(n)||(n={name:n}),i.name=i.displayName=n.name,i.defaultTooltip=n.defaultTooltip}s&&D(i.otherDims,s)})}});var g=i.generateCoord,m=i.generateCoordCount,v=null!=m;m=g?m||1:0;for(var y,x,_=g||"value",w=0;w<r;w++){null==(c=l[w]=l[w]||new Ef).coordDim&&(c.coordDim=rp(_,a,v),c.coordDimIndex=0,(!g||m<=0)&&(c.isExtraCoord=!0),m--),null==c.name&&(c.name=rp(c.coordDim,o)),null==c.type&&(y=e,x=w,c.name,Qu(y.data,y.sourceFormat,y.seriesLayoutBy,y.dimensionsDefine,y.startIndex,x)===Uu.Must||c.isExtraCoord&&(null!=c.otherDims.itemName||null!=c.otherDims.seriesName))&&(c.type="ordinal")}return l}function rp(t,e,i){if(i||null!=e.get(t)){for(var n=0;null!=e.get(t+n);)n++;t+=n}return e.set(t,!0),t}Yf.setItemGraphicEl=function(t,e){var i=this.hostModel;e&&(e.dataIndex=t,e.dataType=this.dataType,e.seriesIndex=i&&i.seriesIndex,"group"===e.type&&e.traverse(op,e)),this._graphicEls[t]=e},Yf.getItemGraphicEl=function(t){return this._graphicEls[t]},Yf.eachItemGraphicEl=function(i,n){E(this._graphicEls,function(t,e){t&&i&&i.call(n,t,e)})},Yf.cloneShallow=function(t){if(!t){var e=N(this.dimensions,this.getDimensionInfo,this);t=new Xf(e,this.hostModel)}if(t._storage=this._storage,Uf(t,this),this._indices){var i=this._indices.constructor;t._indices=new i(this._indices)}else t._indices=null;return t.getRawIndex=t._indices?Jf:$f,t},Yf.wrapMethod=function(t,e){var i=this[t];"function"==typeof i&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=i.apply(this,arguments);return e.apply(this,[t].concat(U(arguments)))})},Yf.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],Yf.CHANGABLE_METHODS=["filterSelf","selectRange"];var sp=function(t,e){return ap((e=e||{}).coordDimensions||[],t,{dimsDef:e.dimensionsDefine||t.dimensionsDefine,encodeDef:e.encodeDefine||t.encodeDefine,dimCount:e.dimensionsCount,encodeDefaulter:e.encodeDefaulter,generateCoord:e.generateCoord,generateCoordCount:e.generateCoordCount})};function lp(t){this.coordSysName=t,this.coordSysDims=[],this.axisMap=Q(),this.categoryAxisMap=Q(),this.firstCategoryDimIndex=null}var up={cartesian2d:function(t,e,i,n){var o=t.getReferringComponents("xAxis")[0],a=t.getReferringComponents("yAxis")[0];e.coordSysDims=["x","y"],i.set("x",o),i.set("y",a),hp(o)&&(n.set("x",o),e.firstCategoryDimIndex=0),hp(a)&&(n.set("y",a),e.firstCategoryDimIndex,e.firstCategoryDimIndex=1)},singleAxis:function(t,e,i,n){var o=t.getReferringComponents("singleAxis")[0];e.coordSysDims=["single"],i.set("single",o),hp(o)&&(n.set("single",o),e.firstCategoryDimIndex=0)},polar:function(t,e,i,n){var o=t.getReferringComponents("polar")[0],a=o.findAxisModel("radiusAxis"),r=o.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],i.set("radius",a),i.set("angle",r),hp(a)&&(n.set("radius",a),e.firstCategoryDimIndex=0),hp(r)&&(n.set("angle",r),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(t,e,i,n){e.coordSysDims=["lng","lat"]},parallel:function(t,o,a,r){var s=t.ecModel,e=s.getComponent("parallel",t.get("parallelIndex")),l=o.coordSysDims=e.dimensions.slice();E(e.parallelAxisIndex,function(t,e){var i=s.getComponent("parallelAxis",t),n=l[e];a.set(n,i),hp(i)&&null==o.firstCategoryDimIndex&&(r.set(n,i),o.firstCategoryDimIndex=e)})}};function hp(t){return"category"===t.get("type")}function cp(t,i,e){var n,o,a,r,s=(e=e||{}).byIndex,l=e.stackedCoordDimension,u=!(!t||!t.get("stack"));if(E(i,function(t,e){R(t)&&(i[e]=t={name:t}),u&&!t.isExtraCoord&&(s||n||!t.ordinalMeta||(n=t),o||"ordinal"===t.type||"time"===t.type||l&&l!==t.coordDim||(o=t))}),!o||s||n||(s=!0),o){a="__\0ecstackresult",r="__\0ecstackedover",n&&(n.createInvertedIndices=!0);var h=o.coordDim,c=o.type,d=0;E(i,function(t){t.coordDim===h&&d++}),i.push({name:a,coordDim:h,coordDimIndex:d,type:c,isExtraCoord:!0,isCalculationCoord:!0}),d++,i.push({name:r,coordDim:r,coordDimIndex:d,type:c,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:o&&o.name,stackedByDimension:n&&n.name,isStackedByIndex:s,stackedOverDimension:r,stackResultDimension:a}}function dp(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function fp(t,e){return dp(t,e)?t.getCalculationInfo("stackResultDimension"):e}function pp(t,e,i){i=i||{},Zu.isInstance(t)||(t=Zu.seriesDataToSource(t));var n,o=e.get("coordinateSystem"),a=sh.get(o),r=function(t){var e=t.get("coordinateSystem"),i=new lp(e),n=up[e];if(n)return n(t,i,i.axisMap,i.categoryAxisMap),i}(e);r&&(n=N(r.coordSysDims,function(t){var e={name:t},i=r.axisMap.get(t);if(i){var n=i.get("type");e.type=Of(n)}return e})),n=n||(a&&(a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice())||["x","y"]);var s,l,u=sp(t,{coordDimensions:n,generateCoord:i.generateCoord,encodeDefaulter:i.useEncodeDefaulter?T(Ku,n,e):null});r&&E(u,function(t,e){var i=t.coordDim,n=r.categoryAxisMap.get(i);n&&(null==s&&(s=e),t.ordinalMeta=n.getOrdinalMeta()),null!=t.otherDims.itemName&&(l=!0)}),l||null==s||(u[s].otherDims.itemName=0);var h=cp(e,u),c=new Xf(u,e);c.setCalculationInfo(h);var d=null!=s&&function(t){if(t.sourceFormat===Ru){var e=function(t){var e=0;for(;e<t.length&&null==t[e];)e++;return t[e]}(t.data||[]);return null!=e&&!O(Wo(e))}}(t)?function(t,e,i,n){return n===s?i:this.defaultDimValueGetter(t,e,i,n)}:null;return c.hasItemOption=!1,c.initData(t,null,d),c}function gp(t){this._setting=t||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}function mp(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this._map}gp.prototype.parse=function(t){return t},gp.prototype.getSetting=function(t){return this._setting[t]},gp.prototype.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},gp.prototype.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},gp.prototype.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},gp.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},gp.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},gp.prototype.getExtent=function(){return this._extent.slice()},gp.prototype.setExtent=function(t,e){var i=this._extent;isNaN(t)||(i[0]=t),isNaN(e)||(i[1]=e)},gp.prototype.isBlank=function(){return this._isBlank},gp.prototype.setBlank=function(t){this._isBlank=t},gp.prototype.getLabel=null,oa(gp),ua(gp,{registerWhenExtend:!0}),mp.createByAxisModel=function(t){var e=t.option,i=e.data,n=i&&N(i,xp);return new mp({categories:n,needCollect:!n,deduplication:!1!==e.dedplication})};var vp=mp.prototype;function yp(t){return t._map||(t._map=Q(t.categories))}function xp(t){return z(t)&&null!=t.value?t.value:t+""}vp.getOrdinal=function(t){return yp(this).get(t)},vp.parseAndCollect=function(t){var e,i=this._needCollect;if("string"!=typeof t&&!i)return t;if(i&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var n=yp(this);return null==(e=n.get(t))&&(i?(e=this.categories.length,this.categories[e]=t,n.set(t,e)):e=NaN),e};var _p=gp.prototype,wp=gp.extend({type:"ordinal",init:function(t,e){t&&!O(t)||(t=new mp({categories:t})),this._ordinalMeta=t,this._extent=e||[0,t.categories.length-1]},parse:function(t){return"string"==typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},contain:function(t){return t=this.parse(t),_p.contain.call(this,t)&&null!=this._ordinalMeta.categories[t]},normalize:function(t){return _p.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(_p.scale.call(this,t))},getTicks:function(){for(var t=[],e=this._extent,i=e[0];i<=e[1];)t.push(i),i++;return t},getLabel:function(t){if(!this.isBlank())return this._ordinalMeta.categories[t]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:et,niceExtent:et});wp.create=function(){return new wp};var bp=zl;function Sp(t){return Gl(t)+2}function Mp(t,e,i){t[e]=Math.max(Math.min(t[e],i[1]),i[0])}function Ip(t,e){isFinite(t[0])||(t[0]=e[0]),isFinite(t[1])||(t[1]=e[1]),Mp(t,0,e),Mp(t,1,e),t[0]>t[1]&&(t[0]=t[1])}var Tp=zl,Ap=gp.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(t,e){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(e)||(i[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),Ap.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=Sp(t)},getTicks:function(t){var e=this._interval,i=this._extent,n=this._niceExtent,o=this._intervalPrecision,a=[];if(!e)return a;i[0]<n[0]&&(t?a.push(Tp(n[0]-e,o)):a.push(i[0]));for(var r=n[0];r<=n[1]&&(a.push(r),(r=Tp(r+e,o))!==a[a.length-1]);)if(1e4<a.length)return[];var s=a.length?a[a.length-1]:n[1];return i[1]>s&&(t?a.push(Tp(s+e,o)):a.push(i[1])),a},getMinorTicks:function(t){for(var e=this.getTicks(!0),i=[],n=this.getExtent(),o=1;o<e.length;o++){for(var a=e[o],r=e[o-1],s=0,l=[],u=(a-r)/t;s<t-1;){var h=zl(r+(s+1)*u);h>n[0]&&h<n[1]&&l.push(h),s++}i.push(l)}return i},getLabel:function(t,e){if(null==t)return"";var i=e&&e.precision;return null==i?i=Gl(t)||0:"auto"===i&&(i=this._intervalPrecision),tu(t=Tp(t,i,!0))},niceTicks:function(t,e,i){t=t||5;var n=this._extent,o=n[1]-n[0];if(isFinite(o)){o<0&&(o=-o,n.reverse());var a=function(t,e,i,n){var o={},a=t[1]-t[0],r=o.interval=Kl(a/e,!0);null!=i&&r<i&&(r=o.interval=i),null!=n&&n<r&&(r=o.interval=n);var s=o.intervalPrecision=Sp(r);return Ip(o.niceTickExtent=[bp(Math.ceil(t[0]/r)*r,s),bp(Math.floor(t[1]/r)*r,s)],t),o}(n,t,e,i);this._intervalPrecision=a.intervalPrecision,this._interval=a.interval,this._niceExtent=a.niceTickExtent}},niceExtent:function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var i=e[0];t.fixMax||(e[1]+=i/2),e[0]-=i/2}else e[1]=1;var n=e[1]-e[0];isFinite(n)||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var o=this._interval;t.fixMin||(e[0]=Tp(Math.floor(e[0]/o)*o)),t.fixMax||(e[1]=Tp(Math.ceil(e[1]/o)*o))}});Ap.create=function(){return new Ap};var Dp="__ec_stack_",Cp="undefined"!=typeof Float32Array?Float32Array:Array;function Lp(t){return t.get("stack")||Dp+t.seriesIndex}function kp(t){return t.dim+t.index}function Pp(t,e){var i=[];return e.eachSeriesByType(t,function(t){Bp(t)&&!Vp(t)&&i.push(t)}),i}function Np(t){var g=function(t){var l={};E(t,function(t){var e=t.coordinateSystem.getBaseAxis();if("time"===e.type||"value"===e.type)for(var i=t.getData(),n=e.dim+"_"+e.index,o=i.mapDimension(e.dim),a=0,r=i.count();a<r;++a){var s=i.get(o,a);l[n]?l[n].push(s):l[n]=[s]}});var e=[];for(var i in l)if(l.hasOwnProperty(i)){var n=l[i];if(n){n.sort(function(t,e){return t-e});for(var o=null,a=1;a<n.length;++a){var r=n[a]-n[a-1];0<r&&(o=null===o?r:Math.min(o,r))}e[i]=o}}return e}(t),m=[];return E(t,function(t){var e,i=t.coordinateSystem.getBaseAxis(),n=i.getExtent();if("category"===i.type)e=i.getBandWidth();else if("value"===i.type||"time"===i.type){var o=i.dim+"_"+i.index,a=g[o],r=Math.abs(n[1]-n[0]),s=i.scale.getExtent(),l=Math.abs(s[1]-s[0]);e=a?r/l*a:r}else{var u=t.getData();e=Math.abs(n[1]-n[0])/u.count()}var h=Rl(t.get("barWidth"),e),c=Rl(t.get("barMaxWidth"),e),d=Rl(t.get("barMinWidth")||1,e),f=t.get("barGap"),p=t.get("barCategoryGap");m.push({bandWidth:e,barWidth:h,barMaxWidth:c,barMinWidth:d,barGap:f,barCategoryGap:p,axisKey:kp(i),stackId:Lp(t)})}),Op(m)}function Op(t){var d={};E(t,function(t,e){var i=t.axisKey,n=t.bandWidth,o=d[i]||{bandWidth:n,remainedWidth:n,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},a=o.stacks;d[i]=o;var r=t.stackId;a[r]||o.autoWidthCount++,a[r]=a[r]||{width:0,maxWidth:0};var s=t.barWidth;s&&!a[r].width&&(a[r].width=s,s=Math.min(o.remainedWidth,s),o.remainedWidth-=s);var l=t.barMaxWidth;l&&(a[r].maxWidth=l);var u=t.barMinWidth;u&&(a[r].minWidth=u);var h=t.barGap;null!=h&&(o.gap=h);var c=t.barCategoryGap;null!=c&&(o.categoryGap=c)});var f={};return E(d,function(t,i){f[i]={};var e=t.stacks,n=t.bandWidth,o=Rl(t.categoryGap,n),a=Rl(t.gap,1),r=t.remainedWidth,s=t.autoWidthCount,l=(r-o)/(s+(s-1)*a);l=Math.max(l,0),E(e,function(t){var e=t.maxWidth,i=t.minWidth;if(t.width){n=t.width;e&&(n=Math.min(n,e)),i&&(n=Math.max(n,i)),t.width=n,r-=n+a*n,s--}else{var n=l;e&&e<n&&(n=Math.min(e,r)),i&&n<i&&(n=i),n!==l&&(t.width=n,r-=n+a*n,s--)}}),l=(r-o)/(s+(s-1)*a),l=Math.max(l,0);var u,h=0;E(e,function(t,e){t.width||(t.width=l),h+=(u=t).width*(1+a)}),u&&(h-=u.width*a);var c=-h/2;E(e,function(t,e){f[i][e]=f[i][e]||{bandWidth:n,offset:c,width:t.width},c+=t.width*(1+a)})}),f}function Ep(t,e,i){if(t&&e){var n=t[kp(e)];return null!=n&&null!=i&&(n=n[Lp(i)]),n}}function Rp(t,e){var i=Pp(t,e),T=Np(i),A={};E(i,function(t){var e=t.getData(),i=t.coordinateSystem,n=i.getBaseAxis(),o=Lp(t),a=T[kp(n)][o],r=a.offset,s=a.width,l=i.getOtherAxis(n),u=t.get("barMinHeight")||0;A[o]=A[o]||[],e.setLayout({bandWidth:a.bandWidth,offset:r,size:s});for(var h=e.mapDimension(l.dim),c=e.mapDimension(n.dim),d=dp(e,h),f=l.isHorizontal(),p=Gp(n,l,d),g=0,m=e.count();g<m;g++){var v,y,x,_,w,b=e.get(h,g),S=e.get(c,g),M=0<=b?"p":"n",I=p;if(d&&(A[o][S]||(A[o][S]={p:p,n:p}),I=A[o][S][M]),f)v=I,y=(w=i.dataToPoint([b,S]))[1]+r,x=w[0]-p,_=s,Math.abs(x)<u&&(x=(x<0?-1:1)*u),isNaN(x)||d&&(A[o][S][M]+=x);else v=(w=i.dataToPoint([S,b]))[0]+r,y=I,x=s,_=w[1]-p,Math.abs(_)<u&&(_=(_<=0?-1:1)*u),isNaN(_)||d&&(A[o][S][M]+=_);e.setItemLayout(g,{x:v,y:y,width:x,height:_})}},this)}var zp={seriesType:"bar",plan:mc(),reset:function(t){if(Bp(t)&&Vp(t)){var e=t.getData(),c=t.coordinateSystem,d=c.grid.getRect(),f=c.getBaseAxis(),p=c.getOtherAxis(f),g=e.mapDimension(p.dim),m=e.mapDimension(f.dim),v=p.isHorizontal(),y=v?0:1,x=Ep(Np([t]),f,t).width;return.5<x||(x=.5),{progress:function(t,e){var i,n=t.count,o=new Cp(2*n),a=new Cp(2*n),r=new Cp(n),s=[],l=[],u=0,h=0;for(;null!=(i=t.next());)l[y]=e.get(g,i),l[1-y]=e.get(m,i),s=c.dataToPoint(l,null,s),a[u]=v?d.x+d.width:s[0],o[u++]=s[0],a[u]=v?s[1]:d.y+d.height,o[u++]=s[1],r[h++]=i;e.setLayout({largePoints:o,largeDataIndices:r,largeBackgroundPoints:a,barWidth:x,valueAxisStart:Gp(f,p,!1),backgroundStart:v?d.x:d.y,valueAxisHorizontal:v})}}}}};function Bp(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function Vp(t){return t.pipelineContext&&t.pipelineContext.large}function Gp(t,e){return e.toGlobalCoord(e.dataToCoord("log"===e.type?1:0))}var Fp=Ap.prototype,Wp=Math.ceil,Hp=Math.floor,Zp=36e5,Up=864e5,Xp=Ap.extend({type:"time",getLabel:function(t){var e=this._stepLvl,i=new Date(t);return du(e[0],i,this.getSetting("useUTC"))},niceExtent:function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=Up,e[1]+=Up),e[1]===-1/0&&e[0]===1/0){var i=new Date;e[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),e[0]=e[1]-Up}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var n=this._interval;t.fixMin||(e[0]=zl(Hp(e[0]/n)*n)),t.fixMax||(e[1]=zl(Wp(e[1]/n)*n))},niceTicks:function(t,e,i){t=t||10;var n=this._extent,o=n[1]-n[0],a=o/t;null!=e&&a<e&&(a=e),null!=i&&i<a&&(a=i);var r=Yp.length,s=function(t,e,i,n){for(;i<n;){var o=i+n>>>1;t[o][1]<e?i=1+o:n=o}return i}(Yp,a,0,r),l=Yp[Math.min(s,r-1)],u=l[1];"year"===l[0]&&(u*=Kl(o/u/t,!0));var h=this.getSetting("useUTC")?0:60*new Date(+n[0]||+n[1]).getTimezoneOffset()*1e3,c=[Math.round(Wp((n[0]-h)/u)*u+h),Math.round(Hp((n[1]-h)/u)*u+h)];Ip(c,n),this._stepLvl=l,this._interval=u,this._niceExtent=c},parse:function(t){return+Yl(t)}});E(["contain","normalize"],function(e){Xp.prototype[e]=function(t){return Fp[e].call(this,this.parse(t))}});var Yp=[["hh:mm:ss",1e3],["hh:mm:ss",5e3],["hh:mm:ss",1e4],["hh:mm:ss",15e3],["hh:mm:ss",3e4],["hh:mm\nMM-dd",6e4],["hh:mm\nMM-dd",3e5],["hh:mm\nMM-dd",6e5],["hh:mm\nMM-dd",9e5],["hh:mm\nMM-dd",18e5],["hh:mm\nMM-dd",Zp],["hh:mm\nMM-dd",72e5],["hh:mm\nMM-dd",6*Zp],["hh:mm\nMM-dd",432e5],["MM-dd\nyyyy",Up],["MM-dd\nyyyy",2*Up],["MM-dd\nyyyy",3*Up],["MM-dd\nyyyy",4*Up],["MM-dd\nyyyy",5*Up],["MM-dd\nyyyy",6*Up],["week",7*Up],["MM-dd\nyyyy",864e6],["week",14*Up],["week",21*Up],["month",31*Up],["week",42*Up],["month",62*Up],["week",70*Up],["quarter",95*Up],["month",31*Up*4],["month",13392e6],["half-year",16416e6],["month",31*Up*8],["month",26784e6],["year",380*Up]];Xp.create=function(t){return new Xp({useUTC:t.ecModel.get("useUTC")})};var jp=gp.prototype,qp=Ap.prototype,Kp=Gl,$p=zl,Jp=Math.floor,Qp=Math.ceil,tg=Math.pow,eg=Math.log,ig=gp.extend({type:"log",base:10,$constructor:function(){gp.apply(this,arguments),this._originalScale=new Ap},getTicks:function(t){var i=this._originalScale,n=this._extent,o=i.getExtent();return N(qp.getTicks.call(this,t),function(t){var e=zl(tg(this.base,t));return e=t===n[0]&&i.__fixMin?ng(e,o[0]):e,e=t===n[1]&&i.__fixMax?ng(e,o[1]):e},this)},getMinorTicks:qp.getMinorTicks,getLabel:qp.getLabel,scale:function(t){return t=jp.scale.call(this,t),tg(this.base,t)},setExtent:function(t,e){var i=this.base;t=eg(t)/eg(i),e=eg(e)/eg(i),qp.setExtent.call(this,t,e)},getExtent:function(){var t=this.base,e=jp.getExtent.call(this);e[0]=tg(t,e[0]),e[1]=tg(t,e[1]);var i=this._originalScale,n=i.getExtent();return i.__fixMin&&(e[0]=ng(e[0],n[0])),i.__fixMax&&(e[1]=ng(e[1],n[1])),e},unionExtent:function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=eg(t[0])/eg(e),t[1]=eg(t[1])/eg(e),jp.unionExtent.call(this,t)},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},niceTicks:function(t){t=t||10;var e=this._extent,i=e[1]-e[0];if(!(i==1/0||i<=0)){var n=jl(i);for(t/i*n<=.5&&(n*=10);!isNaN(n)&&Math.abs(n)<1&&0<Math.abs(n);)n*=10;var o=[zl(Qp(e[0]/n)*n),zl(Jp(e[1]/n)*n)];this._interval=n,this._niceExtent=o}},niceExtent:function(t){qp.niceExtent.call(this,t);var e=this._originalScale;e.__fixMin=t.fixMin,e.__fixMax=t.fixMax}});function ng(t,e){return $p(t,Kp(e))}function og(t,e){var i,n,o,a=t.type,r=e.getMin(),s=e.getMax(),l=null!=r,u=null!=s,h=t.getExtent();"ordinal"===a?i=e.getCategories().length:(O(n=e.get("boundaryGap"))||(n=[n||0,n||0]),"boolean"==typeof n[0]&&(n=[0,0]),n[0]=Rl(n[0],1),n[1]=Rl(n[1],1),o=h[1]-h[0]||Math.abs(h[0])),null==r&&(r="ordinal"===a?i?0:NaN:h[0]-n[0]*o),null==s&&(s="ordinal"===a?i?i-1:NaN:h[1]+n[1]*o),"dataMin"===r?r=h[0]:"function"==typeof r&&(r=r({min:h[0],max:h[1]})),"dataMax"===s?s=h[1]:"function"==typeof s&&(s=s({min:h[0],max:h[1]})),null!=r&&isFinite(r)||(r=NaN),null!=s&&isFinite(s)||(s=NaN),t.setBlank(F(r)||F(s)||"ordinal"===a&&!t.getOrdinalMeta().categories.length),e.getNeedCrossZero()&&(0<r&&0<s&&!l&&(r=0),r<0&&s<0&&!u&&(s=0));var c=e.ecModel;if(c&&"time"===a){var d,f=Pp("bar",c);if(E(f,function(t){d|=t.getBaseAxis()===e.axis}),d){var p=Np(f),g=function(t,e,i,n){var o=i.axis.getExtent(),a=o[1]-o[0],r=Ep(n,i.axis);if(void 0===r)return{min:t,max:e};var s=1/0;E(r,function(t){s=Math.min(t.offset,s)});var l=-1/0;E(r,function(t){l=Math.max(t.offset+t.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,h=e-t,c=h/(1-(s+l)/a)-h;return{min:t-=s/u*c,max:e+=l/u*c}}(r,s,e,p);r=g.min,s=g.max}}return[r,s]}function ag(t,e){var i=og(t,e),n=null!=e.getMin(),o=null!=e.getMax(),a=e.get("splitNumber");"log"===t.type&&(t.base=e.get("logBase"));var r=t.type;t.setExtent(i[0],i[1]),t.niceExtent({splitNumber:a,fixMin:n,fixMax:o,minInterval:"interval"===r||"time"===r?e.get("minInterval"):null,maxInterval:"interval"===r||"time"===r?e.get("maxInterval"):null});var s=e.get("interval");null!=s&&t.setInterval&&t.setInterval(s)}function rg(t,e){if(e=e||t.get("type"))switch(e){case"category":return new wp(t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),[1/0,-1/0]);case"value":return new Ap;default:return(gp.getClass(e)||Ap).create(t)}}function sg(i){var e,n=i.getLabelModel().get("formatter"),o="category"===i.type?i.scale.getExtent()[0]:null;return"string"==typeof n?(e=n,n=function(t){return t=i.scale.getLabel(t),e.replace("{value}",null!=t?t:"")}):"function"==typeof n?function(t,e){return null!=o&&(e=t-o),n(lg(i,t),e)}:function(t){return i.scale.getLabel(t)}}function lg(t,e){return"category"===t.type?t.scale.getLabel(e):e}function ug(t){var e=t.get("interval");return null==e?"auto":e}function hg(t){return"category"===t.type&&0===ug(t.getLabelModel())}E(["contain","normalize"],function(e){ig.prototype[e]=function(t){return t=eg(t)/eg(this.base),jp[e].call(this,t)}}),ig.create=function(){return new ig};var cg={getMin:function(t){var e=this.option,i=t||null==e.rangeStart?e.min:e.rangeStart;return this.axis&&null!=i&&"dataMin"!==i&&"function"!=typeof i&&!F(i)&&(i=this.axis.scale.parse(i)),i},getMax:function(t){var e=this.option,i=t||null==e.rangeEnd?e.max:e.rangeEnd;return this.axis&&null!=i&&"dataMax"!==i&&"function"!=typeof i&&!F(i)&&(i=this.axis.scale.parse(i)),i},getNeedCrossZero:function(){var t=this.option;return null==t.rangeStart&&null==t.rangeEnd&&!t.scale},getCoordSysModel:et,setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},dg=Cs({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,o=e.width/2,a=e.height/2;t.moveTo(i,n-a),t.lineTo(i+o,n+a),t.lineTo(i-o,n+a),t.closePath()}}),fg=Cs({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,o=e.width/2,a=e.height/2;t.moveTo(i,n-a),t.lineTo(i+o,n),t.lineTo(i,n+a),t.lineTo(i-o,n),t.closePath()}}),pg=Cs({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.x,n=e.y,o=e.width/5*3,a=Math.max(o,e.height),r=o/2,s=r*r/(a-r),l=n-a+r+s,u=Math.asin(s/r),h=Math.cos(u)*r,c=Math.sin(u),d=Math.cos(u),f=.6*r,p=.7*r;t.moveTo(i-h,l+s),t.arc(i,l,r,Math.PI-u,2*Math.PI+u),t.bezierCurveTo(i+h-c*f,l+s+d*f,i,n-p,i,n),t.bezierCurveTo(i,n-p,i-h+c*f,l+s+d*f,i-h,l+s),t.closePath()}}),gg=Cs({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.height,n=e.width,o=e.x,a=e.y,r=n/3*2;t.moveTo(o,a),t.lineTo(o+r,a+i),t.lineTo(o,a+i/4*3),t.lineTo(o-r,a+i),t.lineTo(o,a),t.closePath()}}),mg={line:function(t,e,i,n,o){o.x1=t,o.y1=e+n/2,o.x2=t+i,o.y2=e+n/2},rect:function(t,e,i,n,o){o.x=t,o.y=e,o.width=i,o.height=n},roundRect:function(t,e,i,n,o){o.x=t,o.y=e,o.width=i,o.height=n,o.r=Math.min(i,n)/4},square:function(t,e,i,n,o){var a=Math.min(i,n);o.x=t,o.y=e,o.width=a,o.height=a},circle:function(t,e,i,n,o){o.cx=t+i/2,o.cy=e+n/2,o.r=Math.min(i,n)/2},diamond:function(t,e,i,n,o){o.cx=t+i/2,o.cy=e+n/2,o.width=i,o.height=n},pin:function(t,e,i,n,o){o.x=t+i/2,o.y=e+n/2,o.width=i,o.height=n},arrow:function(t,e,i,n,o){o.x=t+i/2,o.y=e+n/2,o.width=i,o.height=n},triangle:function(t,e,i,n,o){o.cx=t+i/2,o.cy=e+n/2,o.width=i,o.height=n}},vg={};E({line:ls,rect:rs,roundRect:rs,square:rs,circle:Yr,diamond:fg,pin:pg,arrow:gg,triangle:dg},function(t,e){vg[e]=new t});var yg=Cs({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,i){var n=yn(t,e,i),o=this.shape;return o&&"pin"===o.symbolType&&"inside"===e.textPosition&&(n.y=i.y+.4*i.height),n},buildPath:function(t,e,i){var n=e.symbolType;if("none"!==n){var o=vg[n];o=o||vg[n="rect"],mg[n](e.x,e.y,e.width,e.height,o.shape),o.buildPath(t,o.shape,i)}}});function xg(t,e){if("image"!==this.type){var i=this.style,n=this.shape;n&&"line"===n.symbolType?i.stroke=t:this.__isEmptyBrush?(i.stroke=t,i.fill=e||"#fff"):(i.fill&&(i.fill=t),i.stroke&&(i.stroke=t)),this.dirty(!1)}}function _g(t,e,i,n,o,a,r){var s,l=0===t.indexOf("empty");return l&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),(s=0===t.indexOf("image://")?Ns(t.slice(8),new Di(e,i,n,o),r?"center":"cover"):0===t.indexOf("path://")?Ps(t.slice(7),{},new Di(e,i,n,o),r?"center":"cover"):new yg({shape:{symbolType:t,x:e,y:i,width:n,height:o}})).__isEmptyBrush=l,s.setColor=xg,s.setColor(a),s}var wg={isDimensionStacked:dp,enableDataStack:cp,getStackedDimension:fp};var bg=(Object.freeze||Object)({createList:function(t){return pp(t.getSource(),t)},getLayoutRect:wu,dataStack:wg,createScale:function(t,e){var i=e;Cl.isInstance(e)||b(i=new Cl(e),cg);var n=rg(i);return n.setExtent(t[0],t[1]),ag(n,i),n},mixinAxisModelCommonMethods:function(t){b(t,cg)},completeDimensions:ap,createDimensions:sp,createSymbol:_g}),Sg=1e-8;function Mg(t,e){return Math.abs(t-e)<Sg}function Ig(t,e,i){var n=0,o=t[0];if(!o)return!1;for(var a=1;a<t.length;a++){var r=t[a];n+=pr(o[0],o[1],r[0],r[1],e,i),o=r}var s=t[0];return Mg(o[0],s[0])&&Mg(o[1],s[1])||(n+=pr(o[0],o[1],s[0],s[1],e,i)),0!==n}function Tg(t,e,i){if(this.name=t,this.geometries=e,i)i=[i[0],i[1]];else{var n=this.getBoundingRect();i=[n.x+n.width/2,n.y+n.height/2]}this.center=i}function Ag(t,e,i){for(var n=[],o=e[0],a=e[1],r=0;r<t.length;r+=2){var s=t.charCodeAt(r)-64,l=t.charCodeAt(r+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),o=s+=o,a=l+=a,n.push([s/i,l/i])}return n}Tg.prototype={constructor:Tg,properties:null,getBoundingRect:function(){var t=this._rect;if(t)return t;for(var e=Number.MAX_VALUE,i=[e,e],n=[-e,-e],o=[],a=[],r=this.geometries,s=0;s<r.length;s++){if("polygon"===r[s].type)Wa(r[s].exterior,o,a),St(i,i,o),Mt(n,n,a)}return 0===s&&(i[0]=i[1]=n[0]=n[1]=0),this._rect=new Di(i[0],i[1],n[0]-i[0],n[1]-i[1])},contain:function(t){var e=this.getBoundingRect(),i=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var n=0,o=i.length;n<o;n++)if("polygon"===i[n].type){var a=i[n].exterior,r=i[n].interiors;if(Ig(a,t[0],t[1])){for(var s=0;s<(r?r.length:0);s++)if(Ig(r[s]))continue t;return!0}}return!1},transformTo:function(t,e,i,n){var o=this.getBoundingRect(),a=o.width/o.height;i?n=n||i/a:i=a*n;for(var r=new Di(t,e,i,n),s=o.calculateTransform(r),l=this.geometries,u=0;u<l.length;u++)if("polygon"===l[u].type){for(var h=l[u].exterior,c=l[u].interiors,d=0;d<h.length;d++)bt(h[d],h[d],s);for(var f=0;f<(c?c.length:0);f++)for(d=0;d<c[f].length;d++)bt(c[f][d],c[f][d],s)}(o=this._rect).copy(r),this.center=[o.x+o.width/2,o.y+o.height/2]},cloneShallow:function(t){null==t&&(t=this.name);var e=new Tg(t,this.geometries,this.center);return e._rect=this._rect,e.transformTo=null,e}};function Dg(t){return function(t){if(!t.UTF8Encoding)return;var e=t.UTF8Scale;null==e&&(e=1024);for(var i=t.features,n=0;n<i.length;n++)for(var o=i[n].geometry,a=o.coordinates,r=o.encodeOffsets,s=0;s<a.length;s++){var l=a[s];if("Polygon"===o.type)a[s]=Ag(l,r[s],e);else if("MultiPolygon"===o.type)for(var u=0;u<l.length;u++){var h=l[u];l[u]=Ag(h,r[s][u],e)}}t.UTF8Encoding=!1}(t),N(M(t.features,function(t){return t.geometry&&t.properties&&0<t.geometry.coordinates.length}),function(t){var e=t.properties,i=t.geometry,n=i.coordinates,o=[];"Polygon"===i.type&&o.push({type:"polygon",exterior:n[0],interiors:n.slice(1)}),"MultiPolygon"===i.type&&E(n,function(t){t[0]&&o.push({type:"polygon",exterior:t[0],interiors:t.slice(1)})});var a=new Tg(e.name,o,e.cp);return a.properties=e,a})}var Cg=jo();function Lg(t){return"category"===t.type?function(t){var e=t.getLabelModel(),i=Pg(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:i.labelCategoryInterval}:i}(t):function(i){var t=i.scale.getTicks(),n=sg(i);return{labels:N(t,function(t,e){return{formattedLabel:n(t,e),rawLabel:i.scale.getLabel(t),tickValue:t}})}}(t)}function kg(t,e){return"category"===t.type?function(t,e){var i,n,o=Ng(t,"ticks"),a=ug(e),r=Og(o,a);if(r)return r;e.get("show")&&!t.scale.isBlank()||(i=[]);if(C(a))i=zg(t,a,!0);else if("auto"===a){var s=Pg(t,t.getLabelModel());n=s.labelCategoryInterval,i=N(s.labels,function(t){return t.tickValue})}else i=Rg(t,n=a,!0);return Eg(o,a,{ticks:i,tickCategoryInterval:n})}(t,e):{ticks:t.scale.getTicks()}}function Pg(t,e){var i,n=Ng(t,"labels"),o=ug(e),a=Og(n,o);return a||Eg(n,o,{labels:C(o)?zg(t,o):Rg(t,i="auto"===o?function(t){var e=Cg(t).autoInterval;return null!=e?e:Cg(t).autoInterval=t.calculateCategoryInterval()}(t):o),labelCategoryInterval:i})}function Ng(t,e){return Cg(t)[e]||(Cg(t)[e]=[])}function Og(t,e){for(var i=0;i<t.length;i++)if(t[i].key===e)return t[i].value}function Eg(t,e,i){return t.push({key:e,value:i}),i}function Rg(t,e,i){var n=sg(t),o=t.scale,a=o.getExtent(),r=t.getLabelModel(),s=[],l=Math.max((e||0)+1,1),u=a[0],h=o.count();0!==u&&1<l&&2<h/l&&(u=Math.round(Math.ceil(u/l)*l));var c=hg(t),d=r.get("showMinLabel")||c,f=r.get("showMaxLabel")||c;d&&u!==a[0]&&g(a[0]);for(var p=u;p<=a[1];p+=l)g(p);function g(t){s.push(i?t:{formattedLabel:n(t),rawLabel:o.getLabel(t),tickValue:t})}return f&&p-l!==a[1]&&g(a[1]),s}function zg(t,i,n){var o=t.scale,a=sg(t),r=[];return E(o.getTicks(),function(t){var e=o.getLabel(t);i(t,e)&&r.push(n?t:{formattedLabel:a(t),rawLabel:e,tickValue:t})}),r}var Bg=[0,1],Vg=function(t,e,i){this.dim=t,this.scale=e,this._extent=i||[0,0],this.inverse=!1,this.onBand=!1};function Gg(t,e){var i=(t[1]-t[0])/e/2;t[0]+=i,t[1]-=i}Vg.prototype={constructor:Vg,contain:function(t){var e=this._extent,i=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]);return i<=t&&t<=n},containData:function(t){return this.scale.contain(t)},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(t){return Fl(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var i=this._extent;i[0]=t,i[1]=e},dataToCoord:function(t,e){var i=this._extent,n=this.scale;return t=n.normalize(t),this.onBand&&"ordinal"===n.type&&Gg(i=i.slice(),n.count()),El(t,Bg,i,e)},coordToData:function(t,e){var i=this._extent,n=this.scale;this.onBand&&"ordinal"===n.type&&Gg(i=i.slice(),n.count());var o=El(t,i,Bg,e);return this.scale.scale(o)},pointToData:function(t,e){},getTicksCoords:function(t){var e=(t=t||{}).tickModel||this.getTickModel(),i=N(kg(this,e).ticks,function(t){return{coord:this.dataToCoord(t),tickValue:t}},this);return function(t,e,i,n){var o=e.length;if(!t.onBand||i||!o)return;var a,r,s=t.getExtent();if(1===o)e[0].coord=s[0],a=e[1]={coord:s[0]};else{var l=e[o-1].tickValue-e[0].tickValue,u=(e[o-1].coord-e[0].coord)/l;E(e,function(t){t.coord-=u/2});var h=t.scale.getExtent();r=1+h[1]-e[o-1].tickValue,a={coord:e[o-1].coord+u*r},e.push(a)}var c=s[0]>s[1];d(e[0].coord,s[0])&&(n?e[0].coord=s[0]:e.shift());n&&d(s[0],e[0].coord)&&e.unshift({coord:s[0]});d(s[1],a.coord)&&(n?a.coord=s[1]:e.pop());n&&d(a.coord,s[1])&&e.push({coord:s[1]});function d(t,e){return t=zl(t),e=zl(e),c?e<t:t<e}}(this,i,e.get("alignWithLabel"),t.clamp),i},getMinorTicksCoords:function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick").get("splitNumber");return 0<t&&t<100||(t=5),N(this.scale.getMinorTicks(t),function(t){return N(t,function(t){return{coord:this.dataToCoord(t),tickValue:t}},this)},this)},getViewLabels:function(){return Lg(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),i=e[1]-e[0]+(this.onBand?1:0);0===i&&(i=1);var n=Math.abs(t[1]-t[0]);return Math.abs(n)/i},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return function(t){var e=function(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}(t),i=sg(t),n=(e.axisRotate-e.labelRotate)/180*Math.PI,o=t.scale,a=o.getExtent(),r=o.count();if(a[1]-a[0]<1)return 0;var s=1;40<r&&(s=Math.max(1,Math.floor(r/40)));for(var l=a[0],u=t.dataToCoord(l+1)-t.dataToCoord(l),h=Math.abs(u*Math.cos(n)),c=Math.abs(u*Math.sin(n)),d=0,f=0;l<=a[1];l+=s){var p,g,m=gn(i(l),e.font,"center","top");p=1.3*m.width,g=1.3*m.height,d=Math.max(d,p,7),f=Math.max(f,g,7)}var v=d/h,y=f/c;isNaN(v)&&(v=1/0),isNaN(y)&&(y=1/0);var x=Math.max(0,Math.floor(Math.min(v,y))),_=Cg(t.model),w=t.getExtent(),b=_.lastAutoInterval,S=_.lastTickCount;return null!=b&&null!=S&&Math.abs(b-x)<=1&&Math.abs(S-r)<=1&&x<b&&_.axisExtend0===w[0]&&_.axisExtend1===w[1]?x=b:(_.lastTickCount=r,_.lastAutoInterval=x,_.axisExtend0=w[0],_.axisExtend1=w[1]),x}(this)}};var Fg=Dg,Wg={};E(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(t){Wg[t]=it[t]});var Hg={};function Zg(t,e){var i=t.mapDimension("defaultedLabel",!0),n=i.length;if(1===n)return Wh(t,e,i[0]);if(n){for(var o=[],a=0;a<i.length;a++){var r=Wh(t,e,i[a]);o.push(r)}return o.join(" ")}}function Ug(t,e,i){Ci.call(this),this.updateData(t,e,i)}E(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","registerShape","getShapeClass","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],function(t){Hg[t]=bl[t]}),rc.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(t,e){return pp(this.getSource(),this,{useEncodeDefaulter:!0})},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clip:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});var Xg=Ug.prototype,Yg=Ug.getSymbolSize=function(t,e){var i=t.getItemVisual(e,"symbolSize");return i instanceof Array?i.slice():[+i,+i]};function jg(t){return[t[0]/2,t[1]/2]}function qg(t,e){this.parent.drift(t,e)}Xg._createSymbol=function(t,e,i,n,o){this.removeAll();var a=_g(t,-1,-1,2,2,e.getItemVisual(i,"color"),o);a.attr({z2:100,culling:!0,scale:jg(n)}),a.drift=qg,this._symbolType=t,this.add(a)},Xg.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},Xg.getSymbolPath=function(){return this.childAt(0)},Xg.getScale=function(){return this.childAt(0).scale},Xg.highlight=function(){this.childAt(0).trigger("emphasis")},Xg.downplay=function(){this.childAt(0).trigger("normal")},Xg.setZ=function(t,e){var i=this.childAt(0);i.zlevel=t,i.z=e},Xg.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":e.cursor},Xg.updateData=function(t,e,i){this.silent=!1;var n=t.getItemVisual(e,"symbol")||"circle",o=t.hostModel,a=Yg(t,e),r=n!==this._symbolType;if(r){var s=t.getItemVisual(e,"symbolKeepAspect");this._createSymbol(n,t,e,a,s)}else{(l=this.childAt(0)).silent=!1,cl(l,{scale:jg(a)},o,e)}if(this._updateCommon(t,e,a,i),r){var l=this.childAt(0),u=i&&i.fadeIn,h={scale:l.scale.slice()};u&&(h.style={opacity:l.style.opacity}),l.scale=[0,0],u&&(l.style.opacity=0),dl(l,h,o,e)}this._seriesModel=o};var Kg=["itemStyle"],$g=["emphasis","itemStyle"],Jg=["label"],Qg=["emphasis","label"];function tm(t,e){if(!this.incremental&&!this.useHoverLayer)if("emphasis"===e){var i=this.__symbolOriginalScale,n=i[1]/i[0],o={scale:[Math.max(1.1*i[0],i[0]+3),Math.max(1.1*i[1],i[1]+3*n)]};this.animateTo(o,400,"elasticOut")}else"normal"===e&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}function em(t){this.group=new Ci,this._symbolCtor=t||Ug}Xg._updateCommon=function(i,t,e,n){var o=this.childAt(0),a=i.hostModel,r=i.getItemVisual(t,"color");"image"!==o.type?o.useStyle({strokeNoScale:!0}):o.setStyle({opacity:null,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var s=n&&n.itemStyle,l=n&&n.hoverItemStyle,u=n&&n.symbolRotate,h=n&&n.symbolOffset,c=n&&n.labelModel,d=n&&n.hoverLabelModel,f=n&&n.hoverAnimation,p=n&&n.cursorStyle;if(!n||i.hasItemOption){var g=n&&n.itemModel?n.itemModel:i.getItemModel(t);s=g.getModel(Kg).getItemStyle(["color"]),l=g.getModel($g).getItemStyle(),u=g.getShallow("symbolRotate"),h=g.getShallow("symbolOffset"),c=g.getModel(Jg),d=g.getModel(Qg),f=g.getShallow("hoverAnimation"),p=g.getShallow("cursor")}else l=k({},l);var m=o.style;o.attr("rotation",(u||0)*Math.PI/180||0),h&&o.attr("position",[Rl(h[0],e[0]),Rl(h[1],e[1])]),p&&o.attr("cursor",p),o.setColor(r,n&&n.symbolInnerColor),o.setStyle(s);var v=i.getItemVisual(t,"opacity");null!=v&&(m.opacity=v);var y=i.getItemVisual(t,"liftZ"),x=o.__z2Origin;null!=y?null==x&&(o.__z2Origin=o.z2,o.z2+=y):null!=x&&(o.z2=x,o.__z2Origin=null);var _=n&&n.useNameLabel;el(m,l,c,d,{labelFetcher:a,labelDataIndex:t,defaultText:function(t,e){return _?i.getName(t):Zg(i,t)},isRectText:!0,autoColor:r}),o.__symbolOriginalScale=jg(e),o.hoverStyle=l,o.highDownOnUpdate=f&&a.isAnimationEnabled()?tm:null,$s(o)},Xg.fadeOut=function(t,e){var i=this.childAt(0);this.silent=i.silent=!0,e&&e.keepLabel||(i.style.text=null),cl(i,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,t)},w(Ug,Ci);var im=em.prototype;function nm(t,e,i,n){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(n.isIgnore&&n.isIgnore(i))&&!(n.clipShape&&!n.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(i,"symbol")}function om(t){return null==t||z(t)||(t={isIgnore:t}),t||{}}function am(t){var e=t.hostModel;return{itemStyle:e.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:e.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label"),cursorStyle:e.get("cursor")}}function rm(t,e,i){var n,o=t.getBaseAxis(),a=t.getOtherAxis(o),r=function(t,e){var i=0,n=t.scale.getExtent();"start"===e?i=n[0]:"end"===e?i=n[1]:0<n[0]?i=n[0]:n[1]<0&&(i=n[1]);return i}(a,i),s=o.dim,l=a.dim,u=e.mapDimension(l),h=e.mapDimension(s),c="x"===l||"radius"===l?1:0,d=N(t.dimensions,function(t){return e.mapDimension(t)}),f=e.getCalculationInfo("stackResultDimension");return(n|=dp(e,d[0]))&&(d[0]=f),(n|=dp(e,d[1]))&&(d[1]=f),{dataDimsForPoint:d,valueStart:r,valueAxisDim:l,baseAxisDim:s,stacked:!!n,valueDim:u,baseDim:h,baseDataOffset:c,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function sm(t,e,i,n){var o=NaN;t.stacked&&(o=i.get(i.getCalculationInfo("stackedOverDimension"),n)),isNaN(o)&&(o=t.valueStart);var a=t.baseDataOffset,r=[];return r[a]=i.get(t.baseDim,n),r[1-a]=o,e.dataToPoint(r)}im.updateData=function(o,a){a=om(a);var r=this.group,s=o.hostModel,l=this._data,u=this._symbolCtor,h=am(o);l||r.removeAll(),o.diff(l).add(function(t){var e=o.getItemLayout(t);if(nm(o,e,t,a)){var i=new u(o,t,h);i.attr("position",e),o.setItemGraphicEl(t,i),r.add(i)}}).update(function(t,e){var i=l.getItemGraphicEl(e),n=o.getItemLayout(t);nm(o,n,t,a)?(i?(i.updateData(o,t,h),cl(i,{position:n},s)):(i=new u(o,t)).attr("position",n),r.add(i),o.setItemGraphicEl(t,i)):r.remove(i)}).remove(function(t){var e=l.getItemGraphicEl(t);e&&e.fadeOut(function(){r.remove(e)})}).execute(),this._data=o},im.isPersistent=function(){return!0},im.updateLayout=function(){var n=this._data;n&&n.eachItemGraphicEl(function(t,e){var i=n.getItemLayout(e);t.attr("position",i)})},im.incrementalPrepareUpdate=function(t){this._seriesScope=am(t),this._data=null,this.group.removeAll()},im.incrementalUpdate=function(t,e,i){function n(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}i=om(i);for(var o=t.start;o<t.end;o++){var a=e.getItemLayout(o);if(nm(e,a,o,i)){var r=new this._symbolCtor(e,o,this._seriesScope);r.traverse(n),r.attr("position",a),this.group.add(r),e.setItemGraphicEl(o,r)}}},im.remove=function(t){var e=this.group,i=this._data;i&&t?i.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)})}):e.removeAll()};var lm=St,um=Mt,hm=ut,cm=at,dm=[],fm=[],pm=[];function gm(t){return isNaN(t[0])||isNaN(t[1])}function mm(t,e,i,n,o,a,r,s,l,u){return"none"!==u&&u?function(t,e,i,n,o,a,r,s,l,u,h){for(var c=0,d=i,f=0;f<n;f++){var p=e[d];if(o<=d||d<0)break;if(gm(p)){if(h){d+=a;continue}break}if(d===i)t[0<a?"moveTo":"lineTo"](p[0],p[1]);else if(0<l){var g=e[c],m="y"===u?1:0,v=(p[m]-g[m])*l;cm(fm,g),fm[m]=g[m]+v,cm(pm,p),pm[m]=p[m]-v,t.bezierCurveTo(fm[0],fm[1],pm[0],pm[1],p[0],p[1])}else t.lineTo(p[0],p[1]);c=d,d+=a}return f}.apply(this,arguments):function(t,e,i,n,o,a,r,s,l,u,h){for(var c=0,d=i,f=0;f<n;f++){var p=e[d];if(o<=d||d<0)break;if(gm(p)){if(h){d+=a;continue}break}if(d===i)t[0<a?"moveTo":"lineTo"](p[0],p[1]),cm(fm,p);else if(0<l){var g=d+a,m=e[g];if(h)for(;m&&gm(e[g]);)m=e[g+=a];var v=.5,y=e[c];if(!(m=e[g])||gm(m))cm(pm,p);else{var x,_;if(gm(m)&&!h&&(m=p),ht(dm,m,y),"x"===u||"y"===u){var w="x"===u?0:1;x=Math.abs(p[w]-y[w]),_=Math.abs(p[w]-m[w])}else x=yt(p,y),_=yt(p,m);hm(pm,p,dm,-l*(1-(v=_/(_+x))))}lm(fm,fm,s),um(fm,fm,r),lm(pm,pm,s),um(pm,pm,r),t.bezierCurveTo(fm[0],fm[1],pm[0],pm[1],p[0],p[1]),hm(fm,p,dm,l*v)}else t.lineTo(p[0],p[1]);c=d,d+=a}return f}.apply(this,arguments)}function vm(t,e){var i=[1/0,1/0],n=[-1/0,-1/0];if(e)for(var o=0;o<t.length;o++){var a=t[o];a[0]<i[0]&&(i[0]=a[0]),a[1]<i[1]&&(i[1]=a[1]),a[0]>n[0]&&(n[0]=a[0]),a[1]>n[1]&&(n[1]=a[1])}return{min:e?i:n,max:e?n:i}}var ym=Ar.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:Xr(Ar.prototype.brush),buildPath:function(t,e){var i=e.points,n=0,o=i.length,a=vm(i,e.smoothConstraint);if(e.connectNulls){for(;0<o&&gm(i[o-1]);o--);for(;n<o&&gm(i[n]);n++);}for(;n<o;)n+=mm(t,i,n,o,o,1,a.min,a.max,e.smooth,e.smoothMonotone,e.connectNulls)+1}}),xm=Ar.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:Xr(Ar.prototype.brush),buildPath:function(t,e){var i=e.points,n=e.stackedOnPoints,o=0,a=i.length,r=e.smoothMonotone,s=vm(i,e.smoothConstraint),l=vm(n,e.smoothConstraint);if(e.connectNulls){for(;0<a&&gm(i[a-1]);a--);for(;o<a&&gm(i[o]);o++);}for(;o<a;){var u=mm(t,i,o,a,a,1,s.min,s.max,e.smooth,r,e.connectNulls);mm(t,n,o+u-1,u,a,-1,l.min,l.max,e.stackedOnSmooth,r,e.connectNulls),o+=u+1,t.closePath()}}});function _m(t,e,i){var n=t.getArea(),o=t.getBaseAxis().isHorizontal(),a=n.x,r=n.y,s=n.width,l=n.height,u=i.get("lineStyle.width")||2,h=new rs({shape:{x:a-=u/2,y:r-=u/2,width:s+=u,height:l+=u}});return e&&(h.shape[o?"width":"height"]=0,dl(h,{shape:{width:s,height:l}},i)),h}function wm(t,e,i){var n=t.getArea(),o=new qr({shape:{cx:zl(t.cx,1),cy:zl(t.cy,1),r0:zl(n.r0,1),r:zl(n.r,1),startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});return e&&(o.shape.endAngle=n.startAngle,dl(o,{shape:{endAngle:n.endAngle}},i)),o}function bm(t,e,i){return t?"polar"===t.type?wm(t,e,i):"cartesian2d"===t.type?_m(t,e,i):null:null}function Sm(t,e){if(t.length===e.length){for(var i=0;i<t.length;i++){var n=t[i],o=e[i];if(n[0]!==o[0]||n[1]!==o[1])return}return!0}}function Mm(t){return"number"==typeof t?t:t?.5:0}function Im(t,e,i){for(var n=e.getBaseAxis(),o="x"===n.dim||"radius"===n.dim?0:1,a=[],r=0;r<t.length-1;r++){var s=t[r+1],l=t[r];a.push(l);var u=[];switch(i){case"end":u[o]=s[o],u[1-o]=l[1-o],a.push(u);break;case"middle":var h=(l[o]+s[o])/2,c=[];u[o]=c[o]=h,u[1-o]=l[1-o],c[1-o]=s[1-o],a.push(u),a.push(c);break;default:u[o]=l[o],u[1-o]=s[1-o],a.push(u)}}return t[r]&&a.push(t[r]),a}function Tm(t,e,i){var n=t.get("showAllSymbol"),o="auto"===n;if(!n||o){var a=i.getAxesByScale("ordinal")[0];if(a&&(!o||!function(t,e){var i=t.getExtent(),n=Math.abs(i[1]-i[0])/t.scale.count();isNaN(n)&&(n=0);for(var o=e.count(),a=Math.max(1,Math.round(o/5)),r=0;r<o;r+=a)if(1.5*Ug.getSymbolSize(e,r)[t.isHorizontal()?1:0]>n)return!1;return!0}(a,e))){var r=e.mapDimension(a.dim),s={};return E(a.getViewLabels(),function(t){s[t.tickValue]=1}),function(t){return!s.hasOwnProperty(e.get(r,t))}}}}function Am(t,e,i){if("cartesian2d"!==t.type)return wm(t,e,i);var n=t.getBaseAxis().isHorizontal(),o=_m(t,e,i);if(!i.get("clip",!0)){var a=o.shape,r=Math.max(a.width,a.height);n?(a.y-=r,a.height+=2*r):(a.x-=r,a.width+=2*r)}return o}xc.extend({type:"line",init:function(){var t=new Ci,e=new em;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},render:function(t,e,i){var n=t.coordinateSystem,o=this.group,a=t.getData(),r=t.getModel("lineStyle"),s=t.getModel("areaStyle"),l=a.mapArray(a.getItemLayout),u="polar"===n.type,h=this._coordSys,c=this._symbolDraw,d=this._polyline,f=this._polygon,p=this._lineGroup,g=t.get("animation"),m=!s.isEmpty(),v=s.get("origin"),y=function(t,e,i){if(!i.valueDim)return[];for(var n=[],o=0,a=e.count();o<a;o++)n.push(sm(i,t,e,o));return n}(n,a,rm(n,a,v)),x=t.get("showSymbol"),_=x&&!u&&Tm(t,a,n),w=this._data;w&&w.eachItemGraphicEl(function(t,e){t.__temp&&(o.remove(t),w.setItemGraphicEl(e,null))}),x||c.remove(),o.add(p);var b,S=!u&&t.get("step");n&&n.getArea&&t.get("clip",!0)&&(null!=(b=n.getArea()).width?(b.x-=.1,b.y-=.1,b.width+=.2,b.height+=.2):b.r0&&(b.r0-=.5,b.r1+=.5)),this._clipShapeForSymbol=b,d&&h.type===n.type&&S===this._step?(m&&!f?f=this._newPolygon(l,y,n,g):f&&!m&&(p.remove(f),f=this._polygon=null),p.setClipPath(Am(n,!1,t)),x&&c.updateData(a,{isIgnore:_,clipShape:b}),a.eachItemGraphicEl(function(t){t.stopAnimation(!0)}),Sm(this._stackedOnPoints,y)&&Sm(this._points,l)||(g?this._updateAnimation(a,y,n,i,S,v):(S&&(l=Im(l,n,S),y=Im(y,n,S)),d.setShape({points:l}),f&&f.setShape({points:l,stackedOnPoints:y})))):(x&&c.updateData(a,{isIgnore:_,clipShape:b}),S&&(l=Im(l,n,S),y=Im(y,n,S)),d=this._newPolyline(l,n,g),m&&(f=this._newPolygon(l,y,n,g)),p.setClipPath(Am(n,!0,t)));var M=function(t,e){var i=t.getVisual("visualMeta");if(i&&i.length&&t.count()&&"cartesian2d"===e.type){for(var n,o,a=i.length-1;0<=a;a--){var r=i[a].dimension,s=t.dimensions[r],l=t.getDimensionInfo(s);if("x"===(n=l&&l.coordDim)||"y"===n){o=i[a];break}}if(o){var u=e.getAxis(n),h=N(o.stops,function(t){return{coord:u.toGlobalCoord(u.dataToCoord(t.value)),color:t.color}}),c=h.length,d=o.outerColors.slice();c&&h[0].coord>h[c-1].coord&&(h.reverse(),d.reverse());var f=h[0].coord-10,p=h[c-1].coord+10,g=p-f;if(g<.001)return"transparent";E(h,function(t){t.offset=(t.coord-f)/g}),h.push({offset:c?h[c-1].offset:.5,color:d[1]||"transparent"}),h.unshift({offset:c?h[0].offset:.5,color:d[0]||"transparent"});var m=new gs(0,0,0,0,h,!0);return m[n]=f,m[n+"2"]=p,m}}}(a,n)||a.getVisual("color");d.useStyle(D(r.getLineStyle(),{fill:"none",stroke:M,lineJoin:"bevel"}));var I=t.get("smooth");if(I=Mm(t.get("smooth")),d.setShape({smooth:I,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")}),f){var T=a.getCalculationInfo("stackedOnSeries"),A=0;f.useStyle(D(s.getAreaStyle(),{fill:M,opacity:.7,lineJoin:"bevel"})),T&&(A=Mm(T.get("smooth"))),f.setShape({smooth:I,stackedOnSmooth:A,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")})}this._data=a,this._coordSys=n,this._stackedOnPoints=y,this._points=l,this._step=S,this._valueOrigin=v},dispose:function(){},highlight:function(t,e,i,n){var o=t.getData(),a=Yo(o,n);if(!(a instanceof Array)&&null!=a&&0<=a){var r=o.getItemGraphicEl(a);if(!r){var s=o.getItemLayout(a);if(!s)return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(s[0],s[1]))return;(r=new Ug(o,a)).position=s,r.setZ(t.get("zlevel"),t.get("z")),r.ignore=isNaN(s[0])||isNaN(s[1]),r.__temp=!0,o.setItemGraphicEl(a,r),r.stopSymbolAnimation(!0),this.group.add(r)}r.highlight()}else xc.prototype.highlight.call(this,t,e,i,n)},downplay:function(t,e,i,n){var o=t.getData(),a=Yo(o,n);if(null!=a&&0<=a){var r=o.getItemGraphicEl(a);r&&(r.__temp?(o.setItemGraphicEl(a,null),this.group.remove(r)):r.downplay())}else xc.prototype.downplay.call(this,t,e,i,n)},_newPolyline:function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new ym({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(e),this._polyline=e},_newPolygon:function(t,e){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new xm({shape:{points:t,stackedOnPoints:e},silent:!0}),this._lineGroup.add(i),this._polygon=i},_updateAnimation:function(t,e,i,n,o,a){var r=this._polyline,s=this._polygon,l=t.hostModel,u=function(t,e,i,n,o,a,r,s){for(var l=function(t,e){var i=[];return e.diff(t).add(function(t){i.push({cmd:"+",idx:t})}).update(function(t,e){i.push({cmd:"=",idx:e,idx1:t})}).remove(function(t){i.push({cmd:"-",idx:t})}).execute(),i}(t,e),u=[],h=[],c=[],d=[],f=[],p=[],g=[],m=rm(o,e,r),v=rm(a,t,s),y=0;y<l.length;y++){var x=l[y],_=!0;switch(x.cmd){case"=":var w=t.getItemLayout(x.idx),b=e.getItemLayout(x.idx1);(isNaN(w[0])||isNaN(w[1]))&&(w=b.slice()),u.push(w),h.push(b),c.push(i[x.idx]),d.push(n[x.idx1]),g.push(e.getRawIndex(x.idx1));break;case"+":var S=x.idx;u.push(o.dataToPoint([e.get(m.dataDimsForPoint[0],S),e.get(m.dataDimsForPoint[1],S)])),h.push(e.getItemLayout(S).slice()),c.push(sm(m,o,e,S)),d.push(n[S]),g.push(e.getRawIndex(S));break;case"-":S=x.idx;var M=t.getRawIndex(S);M!==S?(u.push(t.getItemLayout(S)),h.push(a.dataToPoint([t.get(v.dataDimsForPoint[0],S),t.get(v.dataDimsForPoint[1],S)])),c.push(i[S]),d.push(sm(v,a,t,S)),g.push(M)):_=!1}_&&(f.push(x),p.push(p.length))}p.sort(function(t,e){return g[t]-g[e]});var I=[],T=[],A=[],D=[],C=[];for(y=0;y<p.length;y++){S=p[y];I[y]=u[S],T[y]=h[S],A[y]=c[S],D[y]=d[S],C[y]=f[S]}return{current:I,next:T,stackedOnCurrent:A,stackedOnNext:D,status:C}}(this._data,t,this._stackedOnPoints,e,this._coordSys,i,this._valueOrigin,a),h=u.current,c=u.stackedOnCurrent,d=u.next,f=u.stackedOnNext;o&&(h=Im(u.current,i,o),c=Im(u.stackedOnCurrent,i,o),d=Im(u.next,i,o),f=Im(u.stackedOnNext,i,o)),r.shape.__points=u.current,r.shape.points=h,cl(r,{shape:{points:d}},l),s&&(s.setShape({points:h,stackedOnPoints:c}),cl(s,{shape:{points:d,stackedOnPoints:f}},l));for(var p=[],g=u.status,m=0;m<g.length;m++){if("="===g[m].cmd){var v=t.getItemGraphicEl(g[m].idx1);v&&p.push({el:v,ptIdx:m})}}r.animators&&r.animators.length&&r.animators[0].during(function(){for(var t=0;t<p.length;t++){p[t].el.attr("position",r.shape.__points[p[t].ptIdx])}})},remove:function(t){var i=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(t,e){t.__temp&&(i.remove(t),n.setItemGraphicEl(e,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});function Dm(t,r,s){return{seriesType:t,performRawSeries:!0,reset:function(l,t,e){var i=l.getData(),u=l.get("symbol"),h=l.get("symbolSize"),n=l.get("symbolKeepAspect"),c=C(u),d=C(h),f=c||d,o=!c&&u?u:r,a=d?null:h;if(i.setVisual({legendSymbol:s||o,symbol:o,symbolSize:a,symbolKeepAspect:n}),!t.isSeriesFiltered(l))return{dataEach:i.hasItemOption||f?function(t,e){if(f){var i=l.getRawValue(e),n=l.getDataParams(e);c&&t.setItemVisual(e,"symbol",u(i,n)),d&&t.setItemVisual(e,"symbolSize",h(i,n))}if(t.hasItemOption){var o=t.getItemModel(e),a=o.getShallow("symbol",!0),r=o.getShallow("symbolSize",!0),s=o.getShallow("symbolKeepAspect",!0);null!=a&&t.setItemVisual(e,"symbol",a),null!=r&&t.setItemVisual(e,"symbolSize",r),null!=s&&t.setItemVisual(e,"symbolKeepAspect",s)}}:null}}}}function Cm(t){return{seriesType:t,plan:mc(),reset:function(t){var e=t.getData(),c=t.coordinateSystem,d=t.pipelineContext.large;if(c){var f=N(c.dimensions,function(t){return e.mapDimension(t)}).slice(0,2),p=f.length,i=e.getCalculationInfo("stackResultDimension");return dp(e,f[0])&&(f[0]=i),dp(e,f[1])&&(f[1]=i),p&&{progress:function(t,e){for(var i=t.end-t.start,n=d&&new Float32Array(i*p),o=t.start,a=0,r=[],s=[];o<t.end;o++){var l;if(1===p){var u=e.get(f[0],o);l=!isNaN(u)&&c.dataToPoint(u,null,s)}else{u=r[0]=e.get(f[0],o);var h=r[1]=e.get(f[1],o);l=!isNaN(u)&&!isNaN(h)&&c.dataToPoint(r,null,s)}d?(n[a++]=l?l[0]:NaN,n[a++]=l?l[1]:NaN):e.setItemLayout(o,l&&l.slice()||[NaN,NaN])}d&&e.setLayout("symbolPoints",n)}}}}}}function Lm(t,e){return Math.round(t.length/2)}var km={average:function(t){for(var e=0,i=0,n=0;n<t.length;n++)isNaN(t[n])||(e+=t[n],i++);return 0===i?NaN:e/i},sum:function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i]||0;return e},max:function(t){for(var e=-1/0,i=0;i<t.length;i++)t[i]>e&&(e=t[i]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,i=0;i<t.length;i++)t[i]<e&&(e=t[i]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}};function Pm(t){return this._axes[t]}function Nm(t){this._axes={},this._dimList=[],this.name=t||""}function Om(t){Nm.call(this,t)}Nm.prototype={constructor:Nm,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return N(this._dimList,Pm,this)},getAxesByScale:function(e){return e=e.toLowerCase(),M(this.getAxes(),function(t){return t.scale.type===e})},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(t,e){for(var i=this._dimList,n=t instanceof Array?[]:{},o=0;o<i.length;o++){var a=i[o],r=this._axes[a];n[a]=r[e](t[a])}return n}},Om.prototype={constructor:Om,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(t){var e=this.getAxis("x"),i=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},dataToPoint:function(t,e,i){var n=this.getAxis("x"),o=this.getAxis("y");return(i=i||[])[0]=n.toGlobalCoord(n.dataToCoord(t[0])),i[1]=o.toGlobalCoord(o.dataToCoord(t[1])),i},clampData:function(t,e){var i=this.getAxis("x").scale,n=this.getAxis("y").scale,o=i.getExtent(),a=n.getExtent(),r=i.parse(t[0]),s=n.parse(t[1]);return(e=e||[])[0]=Math.min(Math.max(Math.min(o[0],o[1]),r),Math.max(o[0],o[1])),e[1]=Math.min(Math.max(Math.min(a[0],a[1]),s),Math.max(a[0],a[1])),e},pointToData:function(t,e){var i=this.getAxis("x"),n=this.getAxis("y");return(e=e||[])[0]=i.coordToData(i.toLocalCoord(t[0])),e[1]=n.coordToData(n.toLocalCoord(t[1])),e},getOtherAxis:function(t){return this.getAxis("x"===t.dim?"y":"x")},getArea:function(){var t=this.getAxis("x").getGlobalExtent(),e=this.getAxis("y").getGlobalExtent(),i=Math.min(t[0],t[1]),n=Math.min(e[0],e[1]);return new Di(i,n,Math.max(t[0],t[1])-i,Math.max(e[0],e[1])-n)}},w(Om,Nm);function Em(t,e,i,n,o){Vg.call(this,t,e,i),this.type=n||"value",this.position=o||"bottom"}Em.prototype={constructor:Em,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},getGlobalExtent:function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},toLocalCoord:null,toGlobalCoord:null},w(Em,Vg);var Rm={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},zm={};zm.categoryAxis=m({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Rm),zm.valueAxis=m({boundaryGap:[0,0],splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#eee",width:1}}},Rm),zm.timeAxis=D({scale:!0,min:"dataMin",max:"dataMax"},zm.valueAxis),zm.logAxis=D({scale:!0,logBase:10},zm.valueAxis);function Bm(a,t,r,e){E(Vm,function(o){t.extend({type:a+"Axis."+o,mergeDefaultAndTheme:function(t,e){var i=this.layoutMode,n=i?Mu(t):{};m(t,e.getTheme().get(o+"Axis")),m(t,this.getDefaultOption()),t.type=r(a,t),i&&Su(t,n,i)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=mp.createByAxisModel(this))},getCategories:function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:p([{},zm[o+"Axis"],e],!0)})}),Lu.registerSubTypeDefaulter(a+"Axis",T(r,a))}var Vm=["value","category","time","log"],Gm=Lu.extend({type:"cartesian2dAxis",axis:null,init:function(){Gm.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){Gm.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){Gm.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function Fm(t,e){return e.type||(e.data?"category":"value")}m(Gm.prototype,cg);var Wm={offset:0};function Hm(t,e){return t.getCoordSysModel()===e}function Zm(t,e,i){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,i),this.model=t}Bm("x",Gm,Fm,Wm),Bm("y",Gm,Fm,Wm),Lu.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var Um=Zm.prototype;function Xm(t,e,i,n){i.getAxesOnZeroOf=function(){return o?[o]:[]};var o,a=t[e],r=i.model,s=r.get("axisLine.onZero"),l=r.get("axisLine.onZeroAxisIndex");if(s){if(null!=l)Ym(a[l])&&(o=a[l]);else for(var u in a)if(a.hasOwnProperty(u)&&Ym(a[u])&&!n[h(a[u])]){o=a[u];break}o&&(n[h(o)]=!0)}function h(t){return t.dim+"_"+t.index}}function Ym(t){return t&&"category"!==t.type&&"time"!==t.type&&function(t){var e=t.scale.getExtent(),i=e[0],n=e[1];return!(0<i&&0<n||i<0&&n<0)}(t)}Um.type="grid",Um.axisPointerEnabled=!0,Um.getRect=function(){return this._rect},Um.update=function(t,e){var i=this._axesMap;this._updateScale(t,this.model),E(i.x,function(t){ag(t.scale,t.model)}),E(i.y,function(t){ag(t.scale,t.model)});var n={};E(i.x,function(t){Xm(i,"y",t,n)}),E(i.y,function(t){Xm(i,"x",t,n)}),this.resize(this.model,e)},Um.resize=function(t,e,i){var o=wu(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=o;var n=this._axesList;function a(){E(n,function(t){var e=t.isHorizontal(),i=e?[0,o.width]:[0,o.height],n=t.inverse?1:0;t.setExtent(i[n],i[1-n]),function(t,e){var i=t.getExtent(),n=i[0]+i[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return n-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return n-t+e}}(t,e?o.x:o.y)})}a(),!i&&t.get("containLabel")&&(E(n,function(t){if(!t.model.get("axisLabel.inside")){var e=function(t){var e=t.model,i=t.scale;if(e.get("axisLabel.show")&&!i.isBlank()){var n,o,a="category"===t.type,r=i.getExtent();o=a?i.count():(n=i.getTicks()).length;var s,l,u,h,c,d,f,p,g,m=t.getLabelModel(),v=sg(t),y=1;40<o&&(y=Math.ceil(o/40));for(var x=0;x<o;x+=y){var _=v(n?n[x]:r[0]+x),w=m.getTextRect(_),b=(l=w,u=m.get("rotate")||0,void 0,h=u*Math.PI/180,c=l.plain(),d=c.width,f=c.height,p=d*Math.cos(h)+f*Math.sin(h),g=d*Math.sin(h)+f*Math.cos(h),new Di(c.x,c.y,p,g));s?s.union(b):s=b}return s}}(t);if(e){var i=t.isHorizontal()?"height":"width",n=t.model.get("axisLabel.margin");o[i]-=e[i]+n,"top"===t.position?o.y+=e.height+n:"left"===t.position&&(o.x+=e.width+n)}}}),a())},Um.getAxis=function(t,e){var i=this._axesMap[t];if(null!=i){if(null==e)for(var n in i)if(i.hasOwnProperty(n))return i[n];return i[e]}},Um.getAxes=function(){return this._axesList.slice()},Um.getCartesian=function(t,e){if(null!=t&&null!=e){var i="x"+t+"y"+e;return this._coordsMap[i]}z(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var n=0,o=this._coordsList;n<o.length;n++)if(o[n].getAxis("x").index===t||o[n].getAxis("y").index===e)return o[n]},Um.getCartesians=function(){return this._coordsList.slice()},Um.convertToPixel=function(t,e,i){var n=this._findConvertTarget(t,e);return n.cartesian?n.cartesian.dataToPoint(i):n.axis?n.axis.toGlobalCoord(n.axis.dataToCoord(i)):null},Um.convertFromPixel=function(t,e,i){var n=this._findConvertTarget(t,e);return n.cartesian?n.cartesian.pointToData(i):n.axis?n.axis.coordToData(n.axis.toLocalCoord(i)):null},Um._findConvertTarget=function(t,e){var i,n,o=e.seriesModel,a=e.xAxisModel||o&&o.getReferringComponents("xAxis")[0],r=e.yAxisModel||o&&o.getReferringComponents("yAxis")[0],s=e.gridModel,l=this._coordsList;if(o)_(l,i=o.coordinateSystem)<0&&(i=null);else if(a&&r)i=this.getCartesian(a.componentIndex,r.componentIndex);else if(a)n=this.getAxis("x",a.componentIndex);else if(r)n=this.getAxis("y",r.componentIndex);else if(s){s.coordinateSystem===this&&(i=this._coordsList[0])}return{cartesian:i,axis:n}},Um.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},Um._initCartesian=function(r,t,e){var s={left:!1,right:!1,top:!1,bottom:!1},l={x:{},y:{}},u={x:0,y:0};if(t.eachComponent("xAxis",i("x"),this),t.eachComponent("yAxis",i("y"),this),!u.x||!u.y)return this._axesMap={},void(this._axesList=[]);function i(a){return function(t,e){if(Hm(t,r)){var i=t.get("position");"x"===a?"top"!==i&&"bottom"!==i&&(i=s.bottom?"top":"bottom"):"left"!==i&&"right"!==i&&(i=s.left?"right":"left"),s[i]=!0;var n=new Em(a,rg(t),[0,0],t.get("type"),i),o="category"===n.type;n.onBand=o&&t.get("boundaryGap"),n.inverse=t.get("inverse"),(t.axis=n).model=t,n.grid=this,n.index=e,this._axesList.push(n),l[a][e]=n,u[a]++}}}E((this._axesMap=l).x,function(o,a){E(l.y,function(t,e){var i="x"+a+"y"+e,n=new Om(i);n.grid=this,n.model=r,this._coordsMap[i]=n,this._coordsList.push(n),n.addAxis(o),n.addAxis(t)},this)},this)},Um._updateScale=function(l,u){function h(e,i){E(e.mapDimension(i.dim,!0),function(t){i.scale.unionExtentFromData(e,fp(e,t))})}E(this._axesList,function(t){t.scale.setExtent(1/0,-1/0)}),l.eachSeries(function(t){if(Km(t)){var e=qm(t,l),i=e[0],n=e[1];if(!Hm(i,u)||!Hm(n,u))return;var o=this.getCartesian(i.componentIndex,n.componentIndex),a=t.getData(),r=o.getAxis("x"),s=o.getAxis("y");"list"===a.type&&(h(a,r,t),h(a,s,t))}},this)},Um.getTooltipAxes=function(n){var o=[],a=[];return E(this.getCartesians(),function(t){var e=null!=n&&"auto"!==n?t.getAxis(n):t.getBaseAxis(),i=t.getOtherAxis(e);_(o,e)<0&&o.push(e),_(a,i)<0&&a.push(i)}),{baseAxes:o,otherAxes:a}};var jm=["xAxis","yAxis"];function qm(e){return N(jm,function(t){return e.getReferringComponents(t)[0]})}function Km(t){return"cartesian2d"===t.get("coordinateSystem")}Zm.create=function(n,o){var a=[];return n.eachComponent("grid",function(t,e){var i=new Zm(t,n,o);i.name="grid_"+e,i.resize(t,o,!0),t.coordinateSystem=i,a.push(i)}),n.eachSeries(function(t){if(Km(t)){var e=qm(t),i=e[0],n=e[1],o=i.getCoordSysModel().coordinateSystem;t.coordinateSystem=o.getCartesian(i.componentIndex,n.componentIndex)}}),a},Zm.dimensions=Zm.prototype.dimensions=Om.prototype.dimensions,sh.register("cartesian2d",Zm);function $m(t,e){this.opt=e,this.axisModel=t,D(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new Ci;var i=new Ci({position:e.position.slice(),rotation:e.rotation});i.updateTransform(),this._transform=i.transform,this._dumbGroup=i}var Jm=Math.PI;$m.prototype={constructor:$m,hasBuilder:function(t){return!!Qm[t]},add:function(t){Qm[t].call(this)},getGroup:function(){return this.group}};var Qm={axisLine:function(){var a=this.opt,t=this.axisModel;if(t.get("axisLine.show")){var e=this.axisModel.axis.getExtent(),i=this._transform,r=[e[0],0],n=[e[1],0];i&&(bt(r,r,i),bt(n,n,i));var s=k({lineCap:"round"},t.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new ls({anid:"line",subPixelOptimize:!0,shape:{x1:r[0],y1:r[1],x2:n[0],y2:n[1]},style:s,strokeContainThreshold:a.strokeContainThreshold||5,silent:!0,z2:1}));var l=t.get("axisLine.symbol"),o=t.get("axisLine.symbolSize"),u=t.get("axisLine.symbolOffset")||0;if("number"==typeof u&&(u=[u,u]),null!=l){"string"==typeof l&&(l=[l,l]),"string"!=typeof o&&"number"!=typeof o||(o=[o,o]);var h=o[0],c=o[1];E([{rotate:a.rotation+Math.PI/2,offset:u[0],r:0},{rotate:a.rotation-Math.PI/2,offset:u[1],r:Math.sqrt((r[0]-n[0])*(r[0]-n[0])+(r[1]-n[1])*(r[1]-n[1]))}],function(t,e){if("none"!==l[e]&&null!=l[e]){var i=_g(l[e],-h/2,-c/2,h,c,s.stroke,!0),n=t.r+t.offset,o=[r[0]+n*Math.cos(a.rotation),r[1]-n*Math.sin(a.rotation)];i.attr({rotation:t.rotate,position:o,silent:!0,z2:11}),this.group.add(i)}},this)}}},axisTickLabel:function(){var t=this.axisModel,e=this.opt,i=function(t,e,i){var n=e.axis,o=e.getModel("axisTick");if(!o.get("show")||n.scale.isBlank())return;for(var a=o.getModel("lineStyle"),r=i.tickDirection*o.get("length"),s=rv(n.getTicksCoords(),t._transform,r,D(a.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}),"ticks"),l=0;l<s.length;l++)t.group.add(s[l]);return s}(this,t,e);!function(t,e,i){if(hg(t.axis))return;var n=t.get("axisLabel.showMinLabel"),o=t.get("axisLabel.showMaxLabel");i=i||[];var a=(e=e||[])[0],r=e[1],s=e[e.length-1],l=e[e.length-2],u=i[0],h=i[1],c=i[i.length-1],d=i[i.length-2];!1===n?(nv(a),nv(u)):ov(a,r)&&(n?(nv(r),nv(h)):(nv(a),nv(u)));!1===o?(nv(s),nv(c)):ov(l,s)&&(o?(nv(l),nv(d)):(nv(s),nv(c)))}(t,function(u,h,c){var d=h.axis;if(!W(c.axisLabelShow,h.get("axisLabel.show"))||d.scale.isBlank())return;var f=h.getModel("axisLabel"),p=f.get("margin"),t=d.getViewLabels(),e=(W(c.labelRotate,f.get("rotate"))||0)*Jm/180,g=ev(c.rotation,e,c.labelDirection),m=h.getCategories&&h.getCategories(!0),v=[],y=iv(h),x=h.get("triggerEvent");return E(t,function(t,e){var i=t.tickValue,n=t.formattedLabel,o=t.rawLabel,a=f;m&&m[i]&&m[i].textStyle&&(a=new Cl(m[i].textStyle,f,h.ecModel));var r=a.getTextColor()||h.get("axisLine.lineStyle.color"),s=[d.dataToCoord(i),c.labelOffset+c.labelDirection*p],l=new Ur({anid:"label_"+i,position:s,rotation:g.rotation,silent:y,z2:10});nl(l.style,a,{text:n,textAlign:a.getShallow("align",!0)||g.textAlign,textVerticalAlign:a.getShallow("verticalAlign",!0)||a.getShallow("baseline",!0)||g.textVerticalAlign,textFill:"function"==typeof r?r("category"===d.type?o:"value"===d.type?i+"":i,e):r}),x&&(l.eventData=tv(h),l.eventData.targetType="axisLabel",l.eventData.value=o),u._dumbGroup.add(l),l.updateTransform(),v.push(l),u.group.add(l),l.decomposeTransform()}),v}(this,t,e),i),function(t,e,i){var n=e.axis,o=e.getModel("minorTick");if(!o.get("show")||n.scale.isBlank())return;var a=n.getMinorTicksCoords();if(!a.length)return;for(var r=o.getModel("lineStyle"),s=i.tickDirection*o.get("length"),l=D(r.getLineStyle(),D(e.getModel("axisTick").getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")})),u=0;u<a.length;u++)for(var h=rv(a[u],t._transform,s,l,"minorticks_"+u),c=0;c<h.length;c++)t.group.add(h[c])}(this,t,e)},axisName:function(){var t=this.opt,e=this.axisModel,i=W(t.axisName,e.get("name"));if(i){var n,o,a=e.get("nameLocation"),r=t.nameDirection,s=e.getModel("nameTextStyle"),l=e.get("nameGap")||0,u=this.axisModel.axis.getExtent(),h=u[0]>u[1]?-1:1,c=["start"===a?u[0]-h*l:"end"===a?u[1]+h*l:(u[0]+u[1])/2,av(a)?t.labelOffset+r*l:0],d=e.get("nameRotate");null!=d&&(d=d*Jm/180),av(a)?n=ev(t.rotation,null!=d?d:t.rotation,r):(n=function(t,e,i,n){var o,a,r=Zl(i-t.rotation),s=n[0]>n[1],l="start"===e&&!s||"start"!==e&&s;o=Ul(r-Jm/2)?(a=l?"bottom":"top","center"):Ul(r-1.5*Jm)?(a=l?"top":"bottom","center"):(a="middle",r<1.5*Jm&&Jm/2<r?l?"left":"right":l?"right":"left");return{rotation:r,textAlign:o,textVerticalAlign:a}}(t,a,d||0,u),null!=(o=t.axisNameAvailableWidth)&&(o=Math.abs(o/Math.sin(n.rotation)),isFinite(o)||(o=null)));var f=s.getFont(),p=e.get("nameTruncate",!0)||{},g=p.ellipsis,m=W(t.nameTruncateMaxWidth,p.maxWidth,o),v=null!=g&&null!=m?pu(i,m,f,g,{minChar:2,placeholder:p.placeholder}):i,y=e.get("tooltip",!0),x=e.mainType,_={componentType:x,name:i,$vars:["name"]};_[x+"Index"]=e.componentIndex;var w=new Ur({anid:"name",__fullText:i,__truncatedText:v,position:c,rotation:n.rotation,silent:iv(e),z2:1,tooltip:y&&y.show?k({content:i,formatter:function(){return i},formatterParams:_},y):null});nl(w.style,s,{text:v,textFont:f,textFill:s.getTextColor()||e.get("axisLine.lineStyle.color"),textAlign:s.get("align")||n.textAlign,textVerticalAlign:s.get("verticalAlign")||n.textVerticalAlign}),e.get("triggerEvent")&&(w.eventData=tv(e),w.eventData.targetType="axisName",w.eventData.name=i),this._dumbGroup.add(w),w.updateTransform(),this.group.add(w),w.decomposeTransform()}}},tv=$m.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},ev=$m.innerTextLayout=function(t,e,i){var n,o=Zl(e-t);return{rotation:o,textAlign:Ul(o)?(n=0<i?"top":"bottom","center"):Ul(o-Jm)?(n=0<i?"bottom":"top","center"):(n="middle",0<o&&o<Jm?0<i?"right":"left":0<i?"left":"right"),textVerticalAlign:n}};var iv=$m.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)};function nv(t){t&&(t.ignore=!0)}function ov(t,e){var i=t&&t.getBoundingRect().clone(),n=e&&e.getBoundingRect().clone();if(i&&n){var o=re([]);return he(o,o,-t.rotation),i.applyTransform(le([],o,t.getLocalTransform())),n.applyTransform(le([],o,e.getLocalTransform())),i.intersect(n)}}function av(t){return"middle"===t||"center"===t}function rv(t,e,i,n,o){for(var a=[],r=[],s=[],l=0;l<t.length;l++){var u=t[l].coord;r[0]=u,s[r[1]=0]=u,s[1]=i,e&&(bt(r,r,e),bt(s,s,e));var h=new ls({anid:o+"_"+t[l].tickValue,subPixelOptimize:!0,shape:{x1:r[0],y1:r[1],x2:s[0],y2:s[1]},style:n,z2:2,silent:!0});a.push(h)}return a}var sv=E,lv=T;function uv(t,e){var i={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(p,g,t){var a=g.getComponent("tooltip"),m=g.getComponent("axisPointer"),v=m.get("link",!0)||[],y=[];sv(t.getCoordinateSystems(),function(c){if(c.axisPointerEnabled){var t=fv(c.model),d=p.coordSysAxesInfo[t]={},f=(p.coordSysMap[t]=c).model.getModel("tooltip",a);if(sv(c.getAxes(),lv(o,!1,null)),c.getTooltipAxes&&a&&f.get("show")){var e="axis"===f.get("trigger"),i="cross"===f.get("axisPointer.type"),n=c.getTooltipAxes(f.get("axisPointer.axis"));(e||i)&&sv(n.baseAxes,lv(o,!i||"cross",e)),i&&sv(n.otherAxes,lv(o,"cross",!1))}}function o(t,e,i){var n=i.model.getModel("axisPointer",m),o=n.get("show");if(o&&("auto"!==o||t||dv(n))){null==e&&(e=n.get("triggerTooltip"));var a=(n=t?function(t,e,i,n,o,a){var r=e.getModel("axisPointer"),s={};sv(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(t){s[t]=L(r.get(t))}),s.snap="category"!==t.type&&!!a,"cross"===r.get("type")&&(s.type="line");var l=s.label||(s.label={});if(null==l.show&&(l.show=!1),"cross"===o){var u=r.get("label.show");if(l.show=null==u||u,!a){var h=s.lineStyle=r.get("crossStyle");h&&D(l,h.textStyle)}}return t.model.getModel("axisPointer",new Cl(s,i,n))}(i,f,m,g,t,e):n).get("snap"),r=fv(i.model),s=e||a||"category"===i.type,l=p.axesInfo[r]={key:r,axis:i,coordSys:c,axisPointerModel:n,triggerTooltip:e,involveSeries:s,snap:a,useHandle:dv(n),seriesModels:[]};d[r]=l,p.seriesInvolved|=s;var u=function(t,e){for(var i=e.model,n=e.dim,o=0;o<t.length;o++){var a=t[o]||{};if(hv(a[n+"AxisId"],i.id)||hv(a[n+"AxisIndex"],i.componentIndex)||hv(a[n+"AxisName"],i.name))return o}}(v,i);if(null!=u){var h=y[u]||(y[u]={axesInfo:{}});h.axesInfo[r]=l,h.mapper=v[u].mapper,l.linkGroup=h}}}})}(i,t,e),i.seriesInvolved&&function(o,t){t.eachSeries(function(i){var n=i.coordinateSystem,t=i.get("tooltip.trigger",!0),e=i.get("tooltip.show",!0);n&&"none"!==t&&!1!==t&&"item"!==t&&!1!==e&&!1!==i.get("axisPointer.show",!0)&&sv(o.coordSysAxesInfo[fv(n.model)],function(t){var e=t.axis;n.getAxis(e.dim)===e&&(t.seriesModels.push(i),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=i.getData().count())})},this)}(i,t),i}function hv(t,e){return"all"===t||O(t)&&0<=_(t,e)||t===e}function cv(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[fv(t)]}function dv(t){return!!t.get("handle.show")}function fv(t){return t.type+"||"+t.id}var pv=Tf({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(t,e,i,n){this.axisPointerClass&&function(t){var e=cv(t);if(e){var i=e.axisPointerModel,n=e.axis.scale,o=i.option,a=i.get("status"),r=i.get("value");null!=r&&(r=n.parse(r));var s=dv(i);null==a&&(o.status=s?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==r||r>l[1])&&(r=l[1]),r<l[0]&&(r=l[0]),o.value=r,s&&(o.status=e.axis.scale.isBlank()?"hide":"show")}}(t),pv.superApply(this,"render",arguments),gv(this,t,e,i,n,!0)},updateAxisPointer:function(t,e,i,n,o){gv(this,t,e,i,n,!1)},remove:function(t,e){var i=this._axisPointer;i&&i.remove(e),pv.superApply(this,"remove",arguments)},dispose:function(t,e){mv(this,e),pv.superApply(this,"dispose",arguments)}});function gv(t,e,i,n,o,a){var r=pv.getAxisPointerClass(t.axisPointerClass);if(r){var s=function(t){var e=cv(t);return e&&e.axisPointerModel}(e);s?(t._axisPointer||(t._axisPointer=new r)).render(e,s,n,a):mv(t,n)}}function mv(t,e,i){var n=t._axisPointer;n&&n.dispose(e,i),t._axisPointer=null}var vv=[];function yv(t,e,i){i=i||{};var n=t.coordinateSystem,o=e.axis,a={},r=o.getAxesOnZeroOf()[0],s=o.position,l=r?"onZero":s,u=o.dim,h=n.getRect(),c=[h.x,h.x+h.width,h.y,h.y+h.height],d={left:0,right:1,top:0,bottom:1,onZero:2},f=e.get("offset")||0,p="x"===u?[c[2]-f,c[3]+f]:[c[0]-f,c[1]+f];if(r){var g=r.toGlobalCoord(r.dataToCoord(0));p[d.onZero]=Math.max(Math.min(g,p[1]),p[0])}a.position=["y"===u?p[d[l]]:c[0],"x"===u?p[d[l]]:c[3]],a.rotation=Math.PI/2*("x"===u?0:1);a.labelDirection=a.tickDirection=a.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],a.labelOffset=r?p[d[s]]-p[d.onZero]:0,e.get("axisTick.inside")&&(a.tickDirection=-a.tickDirection),W(i.labelInside,e.get("axisLabel.inside"))&&(a.labelDirection=-a.labelDirection);var m=e.get("axisLabel.rotate");return a.labelRotate="top"===l?-m:m,a.z2=1,a}function xv(t,e,i,n){var o=i.axis;if(!o.scale.isBlank()){var a=i.getModel("splitArea"),r=a.getModel("areaStyle"),s=r.get("color"),l=n.coordinateSystem.getRect(),u=o.getTicksCoords({tickModel:a,clamp:!0});if(u.length){var h=s.length,c=t.__splitAreaColors,d=Q(),f=0;if(c)for(var p=0;p<u.length;p++){var g=c.get(u[p].tickValue);if(null!=g){f=(g+(h-1)*p)%h;break}}var m=o.toGlobalCoord(u[0].coord),v=r.getAreaStyle();s=O(s)?s:[s];for(p=1;p<u.length;p++){var y,x,_,w,b=o.toGlobalCoord(u[p].coord);m=o.isHorizontal()?(y=m,x=l.y,_=b-y,w=l.height,y+_):(y=l.x,x=m,_=l.width,x+(w=b-x));var S=u[p-1].tickValue;null!=S&&d.set(S,f),e.add(new rs({anid:null!=S?"area_"+S:null,shape:{x:y,y:x,width:_,height:w},style:D({fill:s[f]},v),silent:!0})),f=(f+1)%h}t.__splitAreaColors=d}}}function _v(t){t.__splitAreaColors=null}pv.registerAxisPointerClass=function(t,e){vv[t]=e},pv.getAxisPointerClass=function(t){return t&&vv[t]};var wv=["axisLine","axisTickLabel","axisName"],bv=["splitArea","splitLine","minorSplitLine"],Sv=pv.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(e,t,i,n){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Ci,this.group.add(this._axisGroup),e.get("show")){var a=e.getCoordSysModel(),r=yv(a,e),s=new $m(e,r);E(wv,s.add,s),this._axisGroup.add(s.getGroup()),E(bv,function(t){e.get(t+".show")&&this["_"+t](e,a)},this),ml(o,this._axisGroup,e),Sv.superCall(this,"render",e,t,i,n)}},remove:function(){_v(this)},_splitLine:function(t,e){var i=t.axis;if(!i.scale.isBlank()){var n=t.getModel("splitLine"),o=n.getModel("lineStyle"),a=o.get("color");a=O(a)?a:[a];for(var r=e.coordinateSystem.getRect(),s=i.isHorizontal(),l=0,u=i.getTicksCoords({tickModel:n}),h=[],c=[],d=o.getLineStyle(),f=0;f<u.length;f++){var p=i.toGlobalCoord(u[f].coord);s?(h[0]=p,h[1]=r.y,c[0]=p,c[1]=r.y+r.height):(h[0]=r.x,h[1]=p,c[0]=r.x+r.width,c[1]=p);var g=l++%a.length,m=u[f].tickValue;this._axisGroup.add(new ls({anid:null!=m?"line_"+u[f].tickValue:null,subPixelOptimize:!0,shape:{x1:h[0],y1:h[1],x2:c[0],y2:c[1]},style:D({stroke:a[g]},d),silent:!0}))}}},_minorSplitLine:function(t,e){var i=t.axis,n=t.getModel("minorSplitLine").getModel("lineStyle"),o=e.coordinateSystem.getRect(),a=i.isHorizontal(),r=i.getMinorTicksCoords();if(r.length)for(var s=[],l=[],u=n.getLineStyle(),h=0;h<r.length;h++)for(var c=0;c<r[h].length;c++){var d=i.toGlobalCoord(r[h][c].coord);a?(s[0]=d,s[1]=o.y,l[0]=d,l[1]=o.y+o.height):(s[0]=o.x,s[1]=d,l[0]=o.x+o.width,l[1]=d),this._axisGroup.add(new ls({anid:"minor_line_"+r[h][c].tickValue,subPixelOptimize:!0,shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:u,silent:!0}))}},_splitArea:function(t,e){xv(this,this._axisGroup,t,e)}});Sv.extend({type:"xAxis"}),Sv.extend({type:"yAxis"}),Tf({type:"grid",render:function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new rs({shape:t.coordinateSystem.getRect(),style:D({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))}}),vf(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}),bf(Dm("line","circle","line")),wf(Cm("line")),yf(Cd.PROCESSOR.STATISTIC,{seriesType:"line",modifyOutputEnd:!0,reset:function(t,e,i){var n=t.getData(),o=t.get("sampling"),a=t.coordinateSystem;if("cartesian2d"===a.type&&o){var r,s=a.getBaseAxis(),l=a.getOtherAxis(s),u=s.getExtent(),h=u[1]-u[0],c=Math.round(n.count()/h);1<c&&("string"==typeof o?r=km[o]:"function"==typeof o&&(r=o),r&&t.setData(n.downSample(n.mapDimension(l.dim),1/c,r,Lm)))}}});var Mv=rc.extend({type:"series.__base_bar__",getInitialData:function(t,e){return pp(this.getSource(),this,{useEncodeDefaulter:!0})},getMarkerPosition:function(t){var e=this.coordinateSystem;if(e){var i=e.dataToPoint(e.clampData(t)),n=this.getData(),o=n.getLayout("offset"),a=n.getLayout("size");return i[e.getBaseAxis().isHorizontal()?0:1]+=o+a/2,i}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});function Iv(t,e,i,n,o,a){el(t,e,i.getModel("label"),i.getModel("emphasis.label"),{labelFetcher:o,labelDataIndex:a,defaultText:Zg(o.getData(),a),isRectText:!0,autoColor:n}),Tv(t),Tv(e)}function Tv(t,e){"outside"===t.textPosition&&(t.textPosition=e)}Mv.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var t=this.get("progressiveThreshold"),e=this.get("largeThreshold");return t<e&&(t=e),t},defaultOption:{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1}}});var Av=ha([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Dv={getBarItemStyle:function(t){var e=Av(this,t);if(this.getBorderLineDash){var i=this.getBorderLineDash();i&&(e.lineDash=i)}return e}},Cv=Cs({type:"sausage",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(t,e){var i=e.cx,n=e.cy,o=Math.max(e.r0||0,0),a=Math.max(e.r,0),r=.5*(a-o),s=o+r,l=e.startAngle,u=e.endAngle,h=e.clockwise,c=Math.cos(l),d=Math.sin(l),f=Math.cos(u),p=Math.sin(u);(h?u-l<2*Math.PI:l-u<2*Math.PI)&&(t.moveTo(c*o+i,d*o+n),t.arc(c*s+i,d*s+n,r,-Math.PI+l,l,!h)),t.arc(i,n,a,l,u,!h),t.moveTo(f*a+i,p*a+n),t.arc(f*s+i,p*s+n,r,u-2*Math.PI,u-Math.PI,!h),0!==o&&(t.arc(i,n,o,u,l,h),t.moveTo(c*o+i,p*o+n)),t.closePath()}}),Lv=["itemStyle","barBorderWidth"],kv=[0,0];k(Cl.prototype,Dv),Df({type:"bar",render:function(t,e,i){this._updateDrawMode(t);var n=t.get("coordinateSystem");return"cartesian2d"!==n&&"polar"!==n||(this._isLargeDraw?this._renderLarge(t,e,i):this._renderNormal(t,e,i)),this.group},incrementalPrepareRender:function(t,e,i){this._clear(),this._updateDrawMode(t)},incrementalRender:function(t,e,i,n){this._incrementalRenderLarge(t,e)},_updateDrawMode:function(t){var e=t.pipelineContext.large;(null==this._isLargeDraw||e^this._isLargeDraw)&&(this._isLargeDraw=e,this._clear())},_renderNormal:function(r,t,e){var s,l=this.group,u=r.getData(),h=this._data,c=r.coordinateSystem,i=c.getBaseAxis();"cartesian2d"===c.type?s=i.isHorizontal():"polar"===c.type&&(s="angle"===i.dim);var d=r.isAnimationEnabled()?r:null,f=r.get("clip",!0),p=function(t,e){var i=t.getArea&&t.getArea();if("cartesian2d"===t.type){var n=t.getBaseAxis();if("category"!==n.type||!n.onBand){var o=e.getLayout("bandWidth");n.isHorizontal()?(i.x-=o,i.width+=2*o):(i.y-=o,i.height+=2*o)}}return i}(c,u);l.removeClipPath();var g=r.get("roundCap",!0),m=r.get("showBackground",!0),v=r.getModel("backgroundStyle"),y=[],x=this._backgroundEls||[];u.diff(h).add(function(t){var e=u.getItemModel(t),i=Bv[c.type](u,t,e);if(m){var n=function(t,e,i){return new("polar"===t.type?qr:rs)({shape:Zv(e,i,t),silent:!0,z2:0})}(c,s,i);n.useStyle(v.getBarItemStyle()),y[t]=n}if(u.hasValue(t)){if(f)if(Ov[c.type](p,i))return void l.remove(o);var o=Ev[c.type](t,i,s,d,!1,g);u.setItemGraphicEl(t,o),l.add(o),Gv(o,u,t,e,i,r,s,"polar"===c.type)}}).update(function(t,e){var i=u.getItemModel(t),n=Bv[c.type](u,t,i);if(m){var o=x[e];o.useStyle(v.getBarItemStyle()),cl(y[t]=o,{shape:Zv(s,n,c)},d,t)}var a=h.getItemGraphicEl(e);if(u.hasValue(t)){if(f)if(Ov[c.type](p,n))return void l.remove(a);a?cl(a,{shape:n},d,t):a=Ev[c.type](t,n,s,d,!0,g),u.setItemGraphicEl(t,a),l.add(a),Gv(a,u,t,i,n,r,s,"polar"===c.type)}else l.remove(a)}).remove(function(t){var e=h.getItemGraphicEl(t);"cartesian2d"===c.type?e&&Rv(t,d,e):e&&zv(t,d,e)}).execute();var n=this._backgroundGroup||(this._backgroundGroup=new Ci);n.removeAll();for(var o=0;o<y.length;++o)n.add(y[o]);l.add(n),this._backgroundEls=y,this._data=u},_renderLarge:function(t,e,i){this._clear(),Wv(t,this.group);var n=t.get("clip",!0)?bm(t.coordinateSystem,!1,t):null;n?this.group.setClipPath(n):this.group.removeClipPath()},_incrementalRenderLarge:function(t,e){this._removeBackground(),Wv(e,this.group,!0)},dispose:et,remove:function(t){this._clear(t)},_clear:function(e){var t=this.group,i=this._data;e&&e.get("animation")&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(t){"sector"===t.type?zv(t.dataIndex,e,t):Rv(t.dataIndex,e,t)})):t.removeAll(),this._data=null},_removeBackground:function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null}});var Pv=Math.max,Nv=Math.min,Ov={cartesian2d:function(t,e){var i=e.width<0?-1:1,n=e.height<0?-1:1;i<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height);var o=Pv(e.x,t.x),a=Nv(e.x+e.width,t.x+t.width),r=Pv(e.y,t.y),s=Nv(e.y+e.height,t.y+t.height);e.x=o,e.y=r,e.width=a-o,e.height=s-r;var l=e.width<0||e.height<0;return i<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height),l},polar:function(t){return!1}},Ev={cartesian2d:function(t,e,i,n,o){var a=new rs({shape:k({},e),z2:1});if(a.name="item",n){var r=i?"height":"width",s={};a.shape[r]=0,s[r]=e[r],bl[o?"updateProps":"initProps"](a,{shape:s},n,t)}return a},polar:function(t,e,i,n,o,a){var r=e.startAngle<e.endAngle,s=new(!i&&a?Cv:qr)({shape:D({clockwise:r},e),z2:1});if(s.name="item",n){var l=i?"r":"endAngle",u={};s.shape[l]=i?0:e.startAngle,u[l]=e[l],bl[o?"updateProps":"initProps"](s,{shape:u},n,t)}return s}};function Rv(t,e,i){i.style.text=null,cl(i,{shape:{width:0}},e,t,function(){i.parent&&i.parent.remove(i)})}function zv(t,e,i){i.style.text=null,cl(i,{shape:{r:i.shape.r0}},e,t,function(){i.parent&&i.parent.remove(i)})}var Bv={cartesian2d:function(t,e,i){var n=t.getItemLayout(e),o=function(t,e){var i=t.get(Lv)||0,n=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),o=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(i,n,o)}(i,n),a=0<n.width?1:-1,r=0<n.height?1:-1;return{x:n.x+a*o/2,y:n.y+r*o/2,width:n.width-a*o,height:n.height-r*o}},polar:function(t,e,i){var n=t.getItemLayout(e);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle}}};function Vv(t){return null!=t.startAngle&&null!=t.endAngle&&t.startAngle===t.endAngle}function Gv(t,e,i,n,o,a,r,s){var l=e.getItemVisual(i,"color"),u=e.getItemVisual(i,"opacity"),h=e.getVisual("borderColor"),c=n.getModel("itemStyle"),d=n.getModel("emphasis.itemStyle").getBarItemStyle();s||t.setShape("r",c.get("barBorderRadius")||0),t.useStyle(D({stroke:Vv(o)?"none":h,fill:Vv(o)?"none":l,opacity:u},c.getBarItemStyle()));var f=n.getShallow("cursor");f&&t.attr("cursor",f);r?o.height:o.width;s||Iv(t.style,d,n,l,a,i),Vv(o)&&(d.fill=d.stroke="none"),$s(t,d)}var Fv=Ar.extend({type:"largeBar",shape:{points:[]},buildPath:function(t,e){for(var i=e.points,n=this.__startPoint,o=this.__baseDimIdx,a=0;a<i.length;a+=2)n[o]=i[a+o],t.moveTo(n[0],n[1]),t.lineTo(i[a],i[a+1])}});function Wv(t,e,i){var n=t.getData(),o=[],a=n.getLayout("valueAxisHorizontal")?1:0;o[1-a]=n.getLayout("valueAxisStart");var r=n.getLayout("largeDataIndices"),s=n.getLayout("barWidth"),l=t.getModel("backgroundStyle");if(t.get("showBackground",!0)){var u=n.getLayout("largeBackgroundPoints"),h=[];h[1-a]=n.getLayout("backgroundStart");var c=new Fv({shape:{points:u},incremental:!!i,__startPoint:h,__baseDimIdx:a,__largeDataIndices:r,__barWidth:s,silent:!0,z2:0});!function(t,e,i){var n=e.get("borderColor")||e.get("color"),o=e.getItemStyle(["color","borderColor"]);t.useStyle(o),t.style.fill=null,t.style.stroke=n,t.style.lineWidth=i.getLayout("barWidth")}(c,l,n),e.add(c)}var d=new Fv({shape:{points:n.getLayout("largePoints")},incremental:!!i,__startPoint:o,__baseDimIdx:a,__largeDataIndices:r,__barWidth:s});e.add(d),function(t,e,i){var n=i.getVisual("borderColor")||i.getVisual("color"),o=e.getModel("itemStyle").getItemStyle(["color","borderColor"]);t.useStyle(o),t.style.fill=null,t.style.stroke=n,t.style.lineWidth=i.getLayout("barWidth")}(d,t,n),d.seriesIndex=t.seriesIndex,t.get("silent")||(d.on("mousedown",Hv),d.on("mousemove",Hv))}var Hv=Cc(function(t){var e=function(t,e,i){var n=t.__baseDimIdx,o=1-n,a=t.shape.points,r=t.__largeDataIndices,s=Math.abs(t.__barWidth/2),l=t.__startPoint[o];kv[0]=e,kv[1]=i;for(var u=kv[n],h=kv[1-n],c=u-s,d=u+s,f=0,p=a.length/2;f<p;f++){var g=2*f,m=a[g+n],v=a[g+o];if(c<=m&&m<=d&&(l<=v?l<=h&&h<=v:v<=h&&h<=l))return r[f]}return-1}(this,t.offsetX,t.offsetY);this.dataIndex=0<=e?e:null},30,!1);function Zv(t,e,i){var n,o="polar"===i.type;return n=o?i.getArea():i.grid.getRect(),o?{cx:n.cx,cy:n.cy,r0:t?n.r0:e.r0,r:t?n.r:e.r,startAngle:t?e.startAngle:0,endAngle:t?e.endAngle:2*Math.PI}:{x:t?e.x:n.x,y:t?n.y:e.y,width:t?e.width:n.width,height:t?n.height:e.height}}wf(Cd.VISUAL.LAYOUT,T(Rp,"bar")),wf(Cd.VISUAL.PROGRESSIVE_LAYOUT,zp),bf({seriesType:"bar",reset:function(t){t.getData().setVisual("legendSymbol","roundRect")}});function Uv(t,e,i){e=O(e)&&{coordDimensions:e}||k({},e);var n=t.getSource(),o=sp(n,e),a=new Xf(o,t);return a.initData(n,i),a}var Xv={updateSelectedMap:function(t){this._targetList=O(t)?t.slice():[],this._selectTargetMap=S(t||[],function(t,e){return t.set(e.name,e),t},Q())},select:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(t){t.selected=!1}),i&&(i.selected=!0)},unSelect:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);i&&(i.selected=!1)},toggleSelected:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);if(null!=i)return this[i.selected?"unSelect":"select"](t,e),i.selected},isSelected:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);return i&&i.selected}};function Yv(i,e){this.getAllNames=function(){var t=e();return t.mapArray(t.getName)},this.containName=function(t){return 0<=e().indexOfName(t)},this.indexOfName=function(t){return i().indexOfName(t)},this.getItemVisual=function(t,e){return i().getItemVisual(t,e)}}var jv=Af({type:"series.pie",init:function(t){jv.superApply(this,"init",arguments),this.legendVisualProvider=new Yv(A(this.getData,this),A(this.getRawData,this)),this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(t)},mergeOption:function(t){jv.superCall(this,"mergeOption",t),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(t,e){return Uv(this,{coordDimensions:["value"],encodeDefaulter:T($u,this)})},_createSelectableList:function(){for(var t=this.getRawData(),e=t.mapDimension("value"),i=[],n=0,o=t.count();n<o;n++)i.push({name:t.getName(n),value:t.get(e,n),selected:Hh(t,n,"selected")});return i},getDataParams:function(t){var e=this.getData(),i=jv.superCall(this,"getDataParams",t),n=[];return e.each(e.mapDimension("value"),function(t){n.push(t)}),i.percent=Wl(n,t,e.hostModel.get("percentPrecision")),i.$vars.push("percent"),i},_defaultLabelLine:function(t){Go(t,"labelLine",["show"]);var e=t.labelLine,i=t.emphasis.labelLine;e.show=e.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:!1,show:!0,position:"outer",alignTo:"none",margin:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationTypeUpdate:"transition",animationEasing:"cubicOut"}});function qv(t,e,i,n){var o=e.getData(),a=this.dataIndex,r=o.getName(a),s=e.get("selectedOffset");n.dispatchAction({type:"pieToggleSelect",from:t,name:r,seriesId:e.id}),o.each(function(t){Kv(o.getItemGraphicEl(t),o.getItemLayout(t),e.isSelected(o.getName(t)),s,i)})}function Kv(t,e,i,n,o){var a=(e.startAngle+e.endAngle)/2,r=i?n:0,s=[Math.cos(a)*r,Math.sin(a)*r];o?t.animate().when(200,{position:s}).start("bounceOut"):t.attr("position",s)}function $v(t,e){Ci.call(this);var i=new qr({z2:2}),n=new ts,o=new Ur;this.add(i),this.add(n),this.add(o),this.updateData(t,e,!0)}b(jv,Xv);var Jv=$v.prototype;Jv.updateData=function(t,e,i){var n=this.childAt(0),o=this.childAt(1),a=this.childAt(2),r=t.hostModel,s=t.getItemModel(e),l=t.getItemLayout(e),u=k({},l);u.label=null;var h=r.getShallow("animationTypeUpdate");i?(n.setShape(u),"scale"===r.getShallow("animationType")?(n.shape.r=l.r0,dl(n,{shape:{r:l.r}},r,e)):(n.shape.endAngle=l.startAngle,cl(n,{shape:{endAngle:l.endAngle}},r,e))):"expansion"===h?n.setShape(u):cl(n,{shape:u},r,e);var c=t.getItemVisual(e,"color");n.useStyle(D({lineJoin:"bevel",fill:c},s.getModel("itemStyle").getItemStyle())),n.hoverStyle=s.getModel("emphasis.itemStyle").getItemStyle();var d=s.getShallow("cursor");d&&n.attr("cursor",d),Kv(this,t.getItemLayout(e),r.isSelected(t.getName(e)),r.get("selectedOffset"),r.get("animation"));var f=!i&&"transition"===h;this._updateLabel(t,e,f),this.highDownOnUpdate=s.get("hoverAnimation")&&r.isAnimationEnabled()?function(t,e){"emphasis"===e?(o.ignore=o.hoverIgnore,a.ignore=a.hoverIgnore,n.stopAnimation(!0),n.animateTo({shape:{r:l.r+r.get("hoverOffset")}},300,"elasticOut")):(o.ignore=o.normalIgnore,a.ignore=a.normalIgnore,n.stopAnimation(!0),n.animateTo({shape:{r:l.r}},300,"elasticOut"))}:null,$s(this)},Jv._updateLabel=function(t,e,i){var n=this.childAt(1),o=this.childAt(2),a=t.hostModel,r=t.getItemModel(e),s=t.getItemLayout(e).label,l=t.getItemVisual(e,"color");if(!s||isNaN(s.x)||isNaN(s.y))o.ignore=o.normalIgnore=o.hoverIgnore=n.ignore=n.normalIgnore=n.hoverIgnore=!0;else{var u={points:s.linePoints||[[s.x,s.y],[s.x,s.y],[s.x,s.y]]},h={x:s.x,y:s.y};i?(cl(n,{shape:u},a,e),cl(o,{style:h},a,e)):(n.attr({shape:u}),o.attr({style:h})),o.attr({rotation:s.rotation,origin:[s.x,s.y],z2:10});var c=r.getModel("label"),d=r.getModel("emphasis.label"),f=r.getModel("labelLine"),p=r.getModel("emphasis.labelLine");l=t.getItemVisual(e,"color");el(o.style,o.hoverStyle={},c,d,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:s.text,autoColor:l,useInsideStyle:!!s.inside},{textAlign:s.textAlign,textVerticalAlign:s.verticalAlign,opacity:t.getItemVisual(e,"opacity")}),o.ignore=o.normalIgnore=!c.get("show"),o.hoverIgnore=!d.get("show"),n.ignore=n.normalIgnore=!f.get("show"),n.hoverIgnore=!p.get("show"),n.setStyle({stroke:l,opacity:t.getItemVisual(e,"opacity")}),n.setStyle(f.getModel("lineStyle").getLineStyle()),n.hoverStyle=p.getModel("lineStyle").getLineStyle();var g=f.get("smooth");g&&!0===g&&(g=.4),n.setShape({smooth:g})}},w($v,Ci);function Qv(i,t){E(t,function(a){a.update="updateView",xf(a,function(t,e){var o={};return e.eachComponent({mainType:"series",subType:i,query:t},function(i){i[a.method]&&i[a.method](t.name,t.dataIndex);var n=i.getData();n.each(function(t){var e=n.getName(t);o[e]=i.isSelected(e)||!1})}),{name:t.name,selected:o,seriesId:t.seriesId}})})}function ty(n){return{getTargetSeries:function(t){var e={},i=Q();return t.eachSeriesByType(n,function(t){t.__paletteScope=e,i.set(t.uid,t)}),i},reset:function(s,t){var l=s.getRawData(),u={},h=s.getData();h.each(function(t){var e=h.getRawIndex(t);u[e]=t}),l.each(function(t){var e,i=u[t],n=null!=i&&h.getItemVisual(i,"color",!0),o=null!=i&&h.getItemVisual(i,"borderColor",!0);if(n&&o||(e=l.getItemModel(t)),!n){var a=e.get("itemStyle.color")||s.getColorFromPalette(l.getName(t)||t+"",s.__paletteScope,l.count());null!=i&&h.setItemVisual(i,"color",a)}if(!o){var r=e.get("itemStyle.borderColor");null!=i&&h.setItemVisual(i,"borderColor",r)}})}}}xc.extend({type:"pie",init:function(){var t=new Ci;this._sectorGroup=t},render:function(t,e,i,n){if(!n||n.from!==this.uid){var o=t.getData(),a=this._data,r=this.group,s=e.get("animation"),l=!a,u=t.get("animationType"),h=t.get("animationTypeUpdate"),c=T(qv,this.uid,t,s,i),d=t.get("selectedMode");if(o.diff(a).add(function(t){var e=new $v(o,t);l&&"scale"!==u&&e.eachChild(function(t){t.stopAnimation(!0)}),d&&e.on("click",c),o.setItemGraphicEl(t,e),r.add(e)}).update(function(t,e){var i=a.getItemGraphicEl(e);l||"transition"===h||i.eachChild(function(t){t.stopAnimation(!0)}),i.updateData(o,t),i.off("click"),d&&i.on("click",c),r.add(i),o.setItemGraphicEl(t,i)}).remove(function(t){var e=a.getItemGraphicEl(t);r.remove(e)}).execute(),s&&0<o.count()&&(l?"scale"!==u:"transition"!==h)){for(var f=o.getItemLayout(0),p=1;isNaN(f.startAngle)&&p<o.count();++p)f=o.getItemLayout(p);var g=Math.max(i.getWidth(),i.getHeight())/2,m=A(r.removeClipPath,r);r.setClipPath(this._createClipPath(f.cx,f.cy,g,f.startAngle,f.clockwise,m,t,l))}else r.removeClipPath();this._data=o}},dispose:function(){},_createClipPath:function(t,e,i,n,o,a,r,s){var l=new qr({shape:{cx:t,cy:e,r0:0,r:i,startAngle:n,endAngle:n,clockwise:o}});return(s?dl:cl)(l,{shape:{endAngle:n+(o?1:-1)*Math.PI*2}},r,a),l},containPoint:function(t,e){var i=e.getData().getItemLayout(0);if(i){var n=t[0]-i.cx,o=t[1]-i.cy,a=Math.sqrt(n*n+o*o);return a<=i.r&&a>=i.r0}}});var ey=Math.PI/180;function iy(o,t,e,i,n,a,r,s,l,u){function h(t,e,i){for(var n=t;n<e&&!(o[n].y+i>l+r);n++)if(o[n].y+=i,t<n&&n+1<e&&o[n+1].y>o[n].y+o[n].height)return void c(n,i/2);c(e-1,i/2)}function c(t,e){for(var i=t;0<=i&&!(o[i].y-e<l)&&(o[i].y-=e,!(0<i&&o[i].y>o[i-1].y+o[i-1].height));i--);}function d(t,e,i,n,o,a){for(var r=e?Number.MAX_VALUE:0,s=0,l=t.length;s<l;s++)if("none"===t[s].labelAlignTo){var u=Math.abs(t[s].y-n),h=t[s].len,c=t[s].len2,d=u<o+h?Math.sqrt((o+h+c)*(o+h+c)-u*u):Math.abs(t[s].x-i);e&&r<=d&&(d=r-10),!e&&d<=r&&(d=r+10),t[s].x=i+d*a,r=d}}o.sort(function(t,e){return t.y-e.y});for(var f,p=0,g=o.length,m=[],v=[],y=0;y<g;y++){if("outer"===o[y].position&&"labelLine"===o[y].labelAlignTo){var x=o[y].x-u;o[y].linePoints[1][0]+=x,o[y].x=u}(f=o[y].y-p)<0&&h(y,g,-f),p=o[y].y+o[y].height}r-p<0&&c(g-1,p-r);for(y=0;y<g;y++)o[y].y>=e?v.push(o[y]):m.push(o[y]);d(m,!1,t,e,i,n),d(v,!0,t,e,i,n)}function ny(t){return"center"===t.position}function oy(L,k,P,t,N,e){var O,E,R=L.getData(),z=[],B=!1,V=(L.get("minShowLabelAngle")||0)*ey;R.each(function(t){var e=R.getItemLayout(t),i=R.getItemModel(t),n=i.getModel("label"),o=n.get("position")||i.get("emphasis.label.position"),a=n.get("distanceToLabelLine"),r=n.get("alignTo"),s=Rl(n.get("margin"),P),l=n.get("bleedMargin"),u=n.getFont(),h=i.getModel("labelLine"),c=h.get("length");c=Rl(c,P);var d=h.get("length2");if(d=Rl(d,P),!(e.angle<V)){var f,p,g,m,v=(e.startAngle+e.endAngle)/2,y=Math.cos(v),x=Math.sin(v);O=e.cx,E=e.cy;var _,w=L.getFormattedLabel(t,"normal")||R.getName(t),b=gn(w,u,m,"top"),S="inside"===o||"inner"===o;if("center"===o)f=e.cx,p=e.cy,m="center";else{var M=(S?(e.r+e.r0)/2*y:e.r*y)+O,I=(S?(e.r+e.r0)/2*x:e.r*x)+E;if(f=M+3*y,p=I+3*x,!S){var T=M+y*(c+k-e.r),A=I+x*(c+k-e.r),D=T+(y<0?-1:1)*d;f="edge"===r?y<0?N+s:N+P-s:D+(y<0?-a:a),g=[[M,I],[T,A],[D,p=A]]}m=S?"center":"edge"===r?0<y?"right":"left":0<y?"left":"right"}var C=n.get("rotate");_="number"==typeof C?C*(Math.PI/180):C?y<0?-v+Math.PI:-v:0,B=!!_,e.label={x:f,y:p,position:o,height:b.height,len:c,len2:d,linePoints:g,textAlign:m,verticalAlign:"middle",rotation:_,inside:S,labelDistance:a,labelAlignTo:r,labelMargin:s,bleedMargin:l,textRect:b,text:w,font:u},S||z.push(e.label)}}),!B&&L.get("avoidLabelOverlap")&&function(t,e,i,n,o,a,r,s){for(var l=[],u=[],h=Number.MAX_VALUE,c=-Number.MAX_VALUE,d=0;d<t.length;d++)ny(t[d])||(t[d].x<e?(h=Math.min(h,t[d].x),l.push(t[d])):(c=Math.max(c,t[d].x),u.push(t[d])));for(iy(u,e,i,n,1,0,a,0,s,c),iy(l,e,i,n,-1,0,a,0,s,h),d=0;d<t.length;d++){var f=t[d];if(!ny(f)){var p=f.linePoints;if(p){var g,m="edge"===f.labelAlignTo,v=f.textRect.width;(g=m?f.x<e?p[2][0]-f.labelDistance-r-f.labelMargin:r+o-f.labelMargin-p[2][0]-f.labelDistance:f.x<e?f.x-r-f.bleedMargin:r+o-f.x-f.bleedMargin)<f.textRect.width&&(f.text=xn(f.text,g,f.font),"edge"===f.labelAlignTo&&(v=pn(f.text,f.font)));var y=p[1][0]-p[2][0];m?f.x<e?p[2][0]=r+f.labelMargin+v+f.labelDistance:p[2][0]=r+o-f.labelMargin-v-f.labelDistance:(f.x<e?p[2][0]=f.x+f.labelDistance:p[2][0]=f.x-f.labelDistance,p[1][0]=p[2][0]+y),p[1][1]=p[2][1]=f.y}}}}(z,O,E,k,P,t,N,e)}var ay=2*Math.PI,ry=Math.PI/180;function sy(t){return{seriesType:t,reset:function(t,e){var n=e.findComponents({mainType:"legend"});if(n&&n.length){var o=t.getData();o.filterSelf(function(t){for(var e=o.getName(t),i=0;i<n.length;i++)if(!n[i].isSelected(e))return!1;return!0})}}}}Qv("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),bf(ty("pie")),wf(T(function(t,e,A,i){e.eachSeriesByType(t,function(t){var o=t.getData(),e=o.mapDimension("value"),a=function(t,e){return wu(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,A),i=t.get("center"),n=t.get("radius");O(n)||(n=[0,n]),O(i)||(i=[i,i]);var r=Rl(a.width,A.getWidth()),s=Rl(a.height,A.getHeight()),l=Math.min(r,s),u=Rl(i[0],r)+a.x,h=Rl(i[1],s)+a.y,c=Rl(n[0],l/2),d=Rl(n[1],l/2),f=-t.get("startAngle")*ry,p=t.get("minAngle")*ry,g=0;o.each(e,function(t){isNaN(t)||g++});var m=o.getSum(e),v=Math.PI/(m||g)*2,y=t.get("clockwise"),x=t.get("roseType"),_=t.get("stillShowZeroSum"),w=o.getDataExtent(e);w[0]=0;var b=ay,S=0,M=f,I=y?1:-1;if(o.each(e,function(t,e){var i;if(isNaN(t))o.setItemLayout(e,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:y,cx:u,cy:h,r0:c,r:x?NaN:d,viewRect:a});else{(i="area"!==x?0===m&&_?v:t*v:ay/g)<p?b-=i=p:S+=t;var n=M+I*i;o.setItemLayout(e,{angle:i,startAngle:M,endAngle:n,clockwise:y,cx:u,cy:h,r0:c,r:x?El(t,w,[c,d]):d,viewRect:a}),M=n}}),b<ay&&g)if(b<=.001){var T=ay/g;o.each(e,function(t,e){if(!isNaN(t)){var i=o.getItemLayout(e);i.angle=T,i.startAngle=f+I*e*T,i.endAngle=f+I*(e+1)*T}})}else v=b/S,M=f,o.each(e,function(t,e){if(!isNaN(t)){var i=o.getItemLayout(e),n=i.angle===p?p:t*v;i.startAngle=M,i.endAngle=M+I*n,M+=I*n}});oy(t,d,a.width,a.height,a.x,a.y)})},"pie")),yf(sy("pie")),rc.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(t,e){return pp(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",getProgressive:function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},getProgressiveThreshold:function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},clip:!0}});var ly=Cs({shape:{points:null},symbolProxy:null,softClipShape:null,buildPath:function(t,e){var i=e.points,n=e.size,o=this.symbolProxy,a=o.shape;if(!((t.getContext?t.getContext():t)&&n[0]<4))for(var r=0;r<i.length;){var s=i[r++],l=i[r++];isNaN(s)||isNaN(l)||this.softClipShape&&!this.softClipShape.contain(s,l)||(a.x=s-n[0]/2,a.y=l-n[1]/2,a.width=n[0],a.height=n[1],o.buildPath(t,a,!0))}},afterBrush:function(t){var e=this.shape,i=e.points,n=e.size;if(n[0]<4){this.setTransform(t);for(var o=0;o<i.length;){var a=i[o++],r=i[o++];isNaN(a)||isNaN(r)||this.softClipShape&&!this.softClipShape.contain(a,r)||t.fillRect(a-n[0]/2,r-n[1]/2,n[0],n[1])}this.restoreTransform(t)}},findDataIndex:function(t,e){for(var i=this.shape,n=i.points,o=i.size,a=Math.max(o[0],4),r=Math.max(o[1],4),s=n.length/2-1;0<=s;s--){var l=2*s,u=n[l]-a/2,h=n[1+l]-r/2;if(u<=t&&h<=e&&t<=u+a&&e<=h+r)return s}return-1}});function uy(){this.group=new Ci}var hy=uy.prototype;function cy(t,e,i){Vg.call(this,t,e,i),this.type="value",this.angle=0,this.name="",this.model}function dy(t,e,i){this._model=t,this.dimensions=[],this._indicatorAxes=N(t.getIndicatorModels(),function(t,e){var i="indicator_"+e,n=new cy(i,"log"===t.get("axisType")?new ig:new Ap);return n.name=t.get("name"),(n.model=t).axis=n,this.dimensions.push(i),n},this),this.resize(t,i),this.cx,this.cy,this.r,this.r0,this.startAngle}hy.isPersistent=function(){return!this._incremental},hy.updateData=function(t,e){this.group.removeAll();var i=new ly({rectHover:!0,cursor:"default"});i.setShape({points:t.getLayout("symbolPoints")}),this._setCommon(i,t,!1,e),this.group.add(i),this._incremental=null},hy.updateLayout=function(t){if(!this._incremental){var n=t.getLayout("symbolPoints");this.group.eachChild(function(t){if(null!=t.startIndex){var e=2*(t.endIndex-t.startIndex),i=4*t.startIndex*2;n=new Float32Array(n.buffer,i,e)}t.setShape("points",n)})}},hy.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),2e6<t.count()?(this._incremental||(this._incremental=new vs({silent:!0})),this.group.add(this._incremental)):this._incremental=null},hy.incrementalUpdate=function(t,e,i){var n;this._incremental?(n=new ly,this._incremental.addDisplayable(n,!0)):((n=new ly({rectHover:!0,cursor:"default",startIndex:t.start,endIndex:t.end})).incremental=!0,this.group.add(n)),n.setShape({points:e.getLayout("symbolPoints")}),this._setCommon(n,e,!!this._incremental,i)},hy._setCommon=function(i,t,e,n){var o=t.hostModel;n=n||{};var a=t.getVisual("symbolSize");i.setShape("size",a instanceof Array?a:[a,a]),i.softClipShape=n.clipShape||null,i.symbolProxy=_g(t.getVisual("symbol"),0,0,0,0),i.setColor=i.symbolProxy.setColor;var r=i.shape.size[0]<4;i.useStyle(o.getModel("itemStyle").getItemStyle(r?["color","shadowBlur","shadowColor"]:["color"]));var s=t.getVisual("color");s&&i.setColor(s),e||(i.seriesIndex=o.seriesIndex,i.on("mousemove",function(t){i.dataIndex=null;var e=i.findDataIndex(t.offsetX,t.offsetY);0<=e&&(i.dataIndex=e+(i.startIndex||0))}))},hy.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},hy._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()},Df({type:"scatter",render:function(t,e,i){var n=t.getData();this._updateSymbolDraw(n,t).updateData(n,{clipShape:this._getClipShape(t)}),this._finished=!0},incrementalPrepareRender:function(t,e,i){var n=t.getData();this._updateSymbolDraw(n,t).incrementalPrepareUpdate(n),this._finished=!1},incrementalRender:function(t,e,i){this._symbolDraw.incrementalUpdate(t,e.getData(),{clipShape:this._getClipShape(e)}),this._finished=t.end===e.getData().count()},updateTransform:function(t,e,i){var n=t.getData();if(this.group.dirty(),!this._finished||1e4<n.count()||!this._symbolDraw.isPersistent())return{update:!0};var o=Cm().reset(t);o.progress&&o.progress({start:0,end:n.count()},n),this._symbolDraw.updateLayout(n)},_getClipShape:function(t){var e=t.coordinateSystem,i=e&&e.getArea&&e.getArea();return t.get("clip",!0)?i:null},_updateSymbolDraw:function(t,e){var i=this._symbolDraw,n=e.pipelineContext.large;return i&&n===this._isLargeDraw||(i&&i.remove(),i=this._symbolDraw=n?new uy:new em,this._isLargeDraw=n,this.group.removeAll()),this.group.add(i.group),i},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}}),bf(Dm("scatter","circle")),wf(Cm("scatter")),w(cy,Vg),dy.prototype.getIndicatorAxes=function(){return this._indicatorAxes},dy.prototype.dataToPoint=function(t,e){var i=this._indicatorAxes[e];return this.coordToPoint(i.dataToCoord(t),e)},dy.prototype.coordToPoint=function(t,e){var i=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(i),this.cy-t*Math.sin(i)]},dy.prototype.pointToData=function(t){var e=t[0]-this.cx,i=t[1]-this.cy,n=Math.sqrt(e*e+i*i);e/=n,i/=n;for(var o,a=Math.atan2(-i,e),r=1/0,s=-1,l=0;l<this._indicatorAxes.length;l++){var u=this._indicatorAxes[l],h=Math.abs(a-u.angle);h<r&&(o=u,s=l,r=h)}return[s,+(o&&o.coordToData(n))]},dy.prototype.resize=function(t,e){var i=t.get("center"),n=e.getWidth(),o=e.getHeight(),a=Math.min(n,o)/2;this.cx=Rl(i[0],n),this.cy=Rl(i[1],o),this.startAngle=t.get("startAngle")*Math.PI/180;var r=t.get("radius");"string"!=typeof r&&"number"!=typeof r||(r=[0,r]),this.r0=Rl(r[0],a),this.r=Rl(r[1],a),E(this._indicatorAxes,function(t,e){t.setExtent(this.r0,this.r);var i=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;i=Math.atan2(Math.sin(i),Math.cos(i)),t.angle=i},this)},dy.prototype.update=function(n,t){var o=this._indicatorAxes,a=this._model;E(o,function(t){t.scale.setExtent(1/0,-1/0)}),n.eachSeriesByType("radar",function(t,e){if("radar"===t.get("coordinateSystem")&&n.getComponent("radar",t.get("radarIndex"))===a){var i=t.getData();E(o,function(t){t.scale.unionExtentFromData(i,i.mapDimension(t.dim))})}},this);var c=a.get("splitNumber");function d(t){var e=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),i=t/e;return 2===i?i=5:i*=2,i*e}E(o,function(t,e){var i=og(t.scale,t.model);ag(t.scale,t.model);var n=t.model,o=t.scale,a=n.getMin(),r=n.getMax(),s=o.getInterval();if(null!=a&&null!=r)o.setExtent(+a,+r),o.setInterval((r-a)/c);else if(null!=a)for(;u=a+s*c,o.setExtent(+a,u),o.setInterval(s),s=d(s),u<i[1]&&isFinite(u)&&isFinite(i[1]););else if(null!=r)for(;h=r-s*c,o.setExtent(h,+r),o.setInterval(s),s=d(s),h>i[0]&&isFinite(h)&&isFinite(i[0]););else{var l=o.getTicks().length-1;c<l&&(s=d(s));var u,h=zl((u=Math.ceil(i[1]/s)*s)-s*c);o.setExtent(h,u),o.setInterval(s)}})},dy.dimensions=[],dy.create=function(i,n){var o=[];return i.eachComponent("radar",function(t){var e=new dy(t,i,n);o.push(e),t.coordinateSystem=e}),i.eachSeriesByType("radar",function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=o[t.get("radarIndex")||0])}),o},sh.register("radar",dy);var fy=zm.valueAxis;function py(t,e){return D({show:e},t)}If({type:"radar",optionUpdated:function(){var o=this.get("boundaryGap"),a=this.get("splitNumber"),r=this.get("scale"),s=this.get("axisLine"),l=this.get("axisTick"),u=this.get("axisType"),h=this.get("axisLabel"),c=this.get("name"),d=this.get("name.show"),f=this.get("name.formatter"),p=this.get("nameGap"),g=this.get("triggerEvent"),t=N(this.get("indicator")||[],function(t){null!=t.max&&0<t.max&&!t.min?t.min=0:null!=t.min&&t.min<0&&!t.max&&(t.max=0);var e=c;if(null!=t.color&&(e=D({color:t.color},c)),t=m(L(t),{boundaryGap:o,splitNumber:a,scale:r,axisLine:s,axisTick:l,axisType:u,axisLabel:h,name:t.text,nameLocation:"end",nameGap:p,nameTextStyle:e,triggerEvent:g},!1),d||(t.name=""),"string"==typeof f){var i=t.name;t.name=f.replace("{value}",null!=i?i:"")}else"function"==typeof f&&(t.name=f(t.name,t));var n=k(new Cl(t,null,this.ecModel),cg);return n.mainType="radar",n.componentIndex=this.componentIndex,n},this);this.getIndicatorModels=function(){return t}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:m({lineStyle:{color:"#bbb"}},fy.axisLine),axisLabel:py(fy.axisLabel,!1),axisTick:py(fy.axisTick,!1),axisType:"interval",splitLine:py(fy.splitLine,!0),splitArea:py(fy.splitArea,!0),indicator:[]}});var gy=["axisLine","axisTickLabel","axisName"];Tf({type:"radar",render:function(t,e,i){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},_buildAxes:function(t){var e=t.coordinateSystem;E(N(e.getIndicatorAxes(),function(t){return new $m(t.model,{position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(t){E(gy,t.add,t),this.group.add(t.getGroup())},this)},_buildSplitLineAndArea:function(t){var n=t.coordinateSystem,e=n.getIndicatorAxes();if(e.length){var i=t.get("shape"),o=t.getModel("splitLine"),a=t.getModel("splitArea"),r=o.getModel("lineStyle"),s=a.getModel("areaStyle"),l=o.get("show"),u=a.get("show"),h=r.get("color"),c=s.get("color");h=O(h)?h:[h],c=O(c)?c:[c];var d=[],f=[];if("circle"===i)for(var p=e[0].getTicksCoords(),g=n.cx,m=n.cy,v=0;v<p.length;v++){if(l)d[I(d,h,v)].push(new Yr({shape:{cx:g,cy:m,r:p[v].coord}}));if(u&&v<p.length-1)f[I(f,c,v)].push(new Kr({shape:{cx:g,cy:m,r0:p[v].coord,r:p[v+1].coord}}))}else{var y,x=N(e,function(t,e){var i=t.getTicksCoords();return y=null==y?i.length-1:Math.min(i.length-1,y),N(i,function(t){return n.coordToPoint(t.coord,e)})}),_=[];for(v=0;v<=y;v++){for(var w=[],b=0;b<e.length;b++)w.push(x[b][v]);if(w[0]&&w.push(w[0].slice()),l)d[I(d,h,v)].push(new ts({shape:{points:w}}));if(u&&_)f[I(f,c,v-1)].push(new Qr({shape:{points:w.concat(_)}}));_=w.slice().reverse()}}var S=r.getLineStyle(),M=s.getAreaStyle();E(f,function(t,e){this.group.add(Es(t,{style:D({stroke:"none",fill:c[e%c.length]},M),silent:!0}))},this),E(d,function(t,e){this.group.add(Es(t,{style:D({fill:"none",stroke:h[e%h.length]},S),silent:!0}))},this)}function I(t,e,i){var n=i%e.length;return t[n]=t[n]||[],n}}});var my=rc.extend({type:"series.radar",dependencies:["radar"],init:function(t){my.superApply(this,"init",arguments),this.legendVisualProvider=new Yv(A(this.getData,this),A(this.getRawData,this))},getInitialData:function(t,e){return Uv(this,{generateCoord:"indicator_",generateCoordCount:1/0})},formatTooltip:function(n){var o=this.getData(),t=this.coordinateSystem.getIndicatorAxes(),e=this.getData().getName(n);return au(""===e?this.name:e)+"<br/>"+N(t,function(t,e){var i=o.get(o.mapDimension(t.dim),n);return au(t.name+" : "+i)}).join("<br />")},getTooltipPosition:function(t){if(null!=t)for(var e=this.getData(),i=this.coordinateSystem,n=e.getValues(N(i.dimensions,function(t){return e.mapDimension(t)}),t,!0),o=0,a=n.length;o<a;o++)if(!isNaN(n[o])){var r=i.getIndicatorAxes();return i.coordToPoint(r[o].dataToCoord(n[o]),o)}},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}});Df({type:"radar",render:function(l,t,e){var i=l.coordinateSystem,g=this.group,m=l.getData(),s=this._data;function u(t,e){var i=t.getItemVisual(e,"symbol")||"circle",n=t.getItemVisual(e,"color");if("none"!==i){var o=function(t){return O(t)||(t=[+t,+t]),t}(t.getItemVisual(e,"symbolSize")),a=_g(i,-1,-1,2,2,n);return a.attr({style:{strokeNoScale:!0},z2:100,scale:[o[0]/2,o[1]/2]}),a}}function h(t,e,i,n,o,a){i.removeAll();for(var r=0;r<e.length-1;r++){var s=u(n,o);s&&(t[s.__dimIdx=r]?(s.attr("position",t[r]),bl[a?"initProps":"updateProps"](s,{position:e[r]},l,o)):s.attr("position",e[r]),i.add(s))}}function c(t){return N(t,function(t){return[i.cx,i.cy]})}m.diff(s).add(function(t){var e=m.getItemLayout(t);if(e){var i=new Qr,n=new ts,o={shape:{points:e}};i.shape.points=c(e),n.shape.points=c(e),dl(i,o,l,t),dl(n,o,l,t);var a=new Ci,r=new Ci;a.add(n),a.add(i),a.add(r),h(n.shape.points,e,r,m,t,!0),m.setItemGraphicEl(t,a)}}).update(function(t,e){var i=s.getItemGraphicEl(e),n=i.childAt(0),o=i.childAt(1),a=i.childAt(2),r={shape:{points:m.getItemLayout(t)}};r.shape.points&&(h(n.shape.points,r.shape.points,a,m,t,!1),cl(n,r,l),cl(o,r,l),m.setItemGraphicEl(t,i))}).remove(function(t){g.remove(s.getItemGraphicEl(t))}).execute(),m.eachItemGraphicEl(function(t,i){var e=m.getItemModel(i),n=t.childAt(0),o=t.childAt(1),a=t.childAt(2),r=m.getItemVisual(i,"color");g.add(t),n.useStyle(D(e.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:r})),n.hoverStyle=e.getModel("emphasis.lineStyle").getLineStyle();var s=e.getModel("areaStyle"),l=e.getModel("emphasis.areaStyle"),u=s.isEmpty()&&s.parentModel.isEmpty(),h=l.isEmpty()&&l.parentModel.isEmpty();h=h&&u,o.ignore=u,o.useStyle(D(s.getAreaStyle(),{fill:r,opacity:.7})),o.hoverStyle=l.getAreaStyle();var c=e.getModel("itemStyle").getItemStyle(["color"]),d=e.getModel("emphasis.itemStyle").getItemStyle(),f=e.getModel("label"),p=e.getModel("emphasis.label");a.eachChild(function(t){t.setStyle(c),t.hoverStyle=L(d);var e=m.get(m.dimensions[t.__dimIdx],i);null!=e&&!isNaN(e)||(e=""),el(t.style,t.hoverStyle,f,p,{labelFetcher:m.hostModel,labelDataIndex:i,labelDimIndex:t.__dimIdx,defaultText:e,autoColor:r,isRectText:!0})}),t.highDownOnUpdate=function(t,e){o.attr("ignore","emphasis"===e?h:u)},$s(t)}),this._data=m},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});function vy(t){return!isNaN(t[0])&&!isNaN(t[1])}function yy(t){return[t.cx,t.cy]}bf(ty("radar")),bf(Dm("radar","circle")),wf(function(t){t.eachSeriesByType("radar",function(t){var i=t.getData(),o=[],a=t.coordinateSystem;if(a){var e=a.getIndicatorAxes();E(e,function(t,n){i.each(i.mapDimension(e[n].dim),function(t,e){o[e]=o[e]||[];var i=a.dataToPoint(t,n);o[e][n]=vy(i)?i:yy(a)})}),i.each(function(t){var e=I(o[t],function(t){return vy(t)})||yy(a);o[t].push(e.slice()),i.setItemLayout(t,o[t])})}})}),yf(sy("radar")),vf(function(i){var t=i.polar;if(t){O(t)||(t=[t]);var n=[];E(t,function(t,e){t.indicator?(t.type&&!t.shape&&(t.shape=t.type),i.radar=i.radar||[],O(i.radar)||(i.radar=[i.radar]),i.radar.push(t)):n.push(t)}),i.polar=n}E(i.series,function(t){t&&"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)})});for(var xy=[126,25],_y=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],wy=0;wy<_y.length;wy++)for(var by=0;by<_y[wy].length;by++)_y[wy][by][0]/=10.5,_y[wy][by][1]/=-14,_y[wy][by][0]+=xy[0],_y[wy][by][1]+=xy[1];var Sy={"":[32,80],"":[0,-10],"":[10,5],"":[-10,10],"":[5,5]},My={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]},Iy=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],Ty=jo(),Ay={load:function(n,t){var e=Ty(t).parsed;if(e)return e;var i,o=t.specialAreas||{},a=t.geoJSON;try{i=a?Dg(a):[]}catch(t){throw new Error("Invalid geoJson format\n"+t.message)}return function(t,e){"china"===t&&e.push(new Tg("",N(_y,function(t){return{type:"polygon",exterior:t}}),xy))}(n,i),E(i,function(t){var e=t.name;!function(t,e){if("china"===t){var i=Sy[e.name];if(i){var n=e.center;n[0]+=i[0]/10.5,n[1]+=-i[1]/14}}}(n,t),function(t,e){if("world"===t){var i=My[e.name];if(i){var n=e.center;n[0]=i[0],n[1]=i[1]}}}(n,t),function(t,e){"china"===t&&""===e.name&&e.geometries.push({type:"polygon",exterior:Iy[0]})}(n,t);var i=o[e];i&&t.transformTo(i.left,i.top,i.width,i.height)}),Ty(t).parsed={regions:i,boundingRect:function(t){for(var e,i=0;i<t.length;i++){var n=t[i].getBoundingRect();(e=e||n.clone()).union(n)}return e}(i)}}};var Dy=jo();function Cy(t,e){var i,n,o=t.svgXML;try{Y(null!=(n=(i=o&&function(t,e){return(new ud).parse(t,e)}(o,{ignoreViewBox:!0,ignoreRootClip:!0})||{}).root))}catch(t){throw new Error("Invalid svg format\n"+t.message)}var a=i.width,r=i.height,s=i.viewBoxRect;if(e||(e=null==a||null==r?n.getBoundingRect():new Di(0,0,0,0),null!=a&&(e.width=a),null!=r&&(e.height=r)),s){var l=_d(s,e.width,e.height),u=n;(n=new Ci).add(u),u.scale=l.scale,u.position=l.position}return n.setClipPath(new rs({shape:e.plain()})),{root:n,boundingRect:e}}var Ly={geoJSON:Ay,svg:{load:function(t,e){var i=Dy(e).originRoot;if(i)return{root:i,boundingRect:Dy(e).boundingRect};var n=Cy(e);return Dy(e).originRoot=n.root,Dy(e).boundingRect=n.boundingRect,n},makeGraphic:function(t,e,i){var n=Dy(e),o=n.rootMap||(n.rootMap=Q()),a=o.get(i);if(a)return a;var r=n.originRoot,s=n.boundingRect;return a=n.originRootHostKey?Cy(e,s).root:(n.originRootHostKey=i,r),o.set(i,a)},removeGraphic:function(t,e,i){var n=Dy(e),o=n.rootMap;o&&o.removeKey(i),i===n.originRootHostKey&&(n.originRootHostKey=null)}}},ky={load:function(n,o){var a,r=[],s=Q(),l=Q();return E(Ny(n),function(t){var e=Ly[t.type].load(n,t);E(e.regions,function(t){var e=t.name;o&&o.hasOwnProperty(e)&&(t=t.cloneShallow(e=o[e])),r.push(t),s.set(e,t),l.set(e,t.center)});var i=e.boundingRect;i&&(a?a.union(i):a=i.clone())}),{regions:r,regionsMap:s,nameCoordMap:l,boundingRect:a||new Di(0,0,0,0)}},makeGraphic:Py("makeGraphic"),removeGraphic:Py("removeGraphic")};function Py(a){return function(i,n){var t=Ny(i),o=[];return E(t,function(t){var e=Ly[t.type][a];e&&o.push(e(i,t,n))}),o}}function Ny(t){return bd.retrieveMap(t)||[]}b(rc.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],getInitialData:function(t){for(var e=Uv(this,{coordDimensions:["value"],encodeDefaulter:T($u,this)}),i=e.mapDimension("value"),n=Q(),o=[],a=[],r=0,s=e.count();r<s;r++){var l=e.getName(r);n.set(l,!0),o.push({name:l,value:e.get(i,r),selected:Hh(e,r,"selected")})}return E(ky.load(this.getMapType(),this.option.nameMap).regions,function(t){var e=t.name;n.get(e)||(o.push({name:e}),a.push(e))}),this.updateSelectedMap(o),e.appendValues([],a),e},getHostGeoModel:function(){var t=this.option.geoIndex;return null!=t?this.dependentModels.geo[t]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},getRawValue:function(t){var e=this.getData();return e.get(e.mapDimension("value"),t)},getRegionModel:function(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))},formatTooltip:function(t){for(var e=this.getData(),i=tu(this.getRawValue(t)),n=e.getName(t),o=this.seriesGroup,a=[],r=0;r<o.length;r++){var s=o[r].originalData.indexOfName(n),l=e.mapDimension("value");isNaN(o[r].originalData.get(l,s))||a.push(au(o[r].name))}return a.join(", ")+"<br />"+au(n+" : "+i)},getTooltipPosition:function(t){if(null!=t){var e=this.getData().getName(t),i=this.coordinateSystem,n=i.getRegion(e);return n&&i.dataToPoint(n.center)}},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}}}}),Xv);var Oy="\0_ec_interaction_mutex";function Ey(t,e){return!!Ry(t)[e]}function Ry(t){return t[Oy]||(t[Oy]={})}function zy(i){this.pointerChecker,this._zr=i,this._opt={};var t=A,n=t(By,this),o=t(Vy,this),a=t(Gy,this),r=t(Fy,this),s=t(Wy,this);Ct.call(this),this.setPointerChecker=function(t){this.pointerChecker=t},this.enable=function(t,e){this.disable(),this._opt=D(L(e)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&"move"!==t&&"pan"!==t||(i.on("mousedown",n),i.on("mousemove",o),i.on("mouseup",a)),!0!==t&&"scale"!==t&&"zoom"!==t||(i.on("mousewheel",r),i.on("pinch",s))},this.disable=function(){i.off("mousedown",n),i.off("mousemove",o),i.off("mouseup",a),i.off("mousewheel",r),i.off("pinch",s)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function By(t){if(!(Yt(t)||t.target&&t.target.draggable)){var e=t.offsetX,i=t.offsetY;this.pointerChecker&&this.pointerChecker(t,e,i)&&(this._x=e,this._y=i,this._dragging=!0)}}function Vy(t){if(this._dragging&&Uy("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!Ey(this._zr,"globalPan")){var e=t.offsetX,i=t.offsetY,n=this._x,o=this._y,a=e-n,r=i-o;this._x=e,this._y=i,this._opt.preventDefaultMouseMove&&Xt(t.event),Zy(this,"pan","moveOnMouseMove",t,{dx:a,dy:r,oldX:n,oldY:o,newX:e,newY:i})}}function Gy(t){Yt(t)||(this._dragging=!1)}function Fy(t){var e=Uy("zoomOnMouseWheel",t,this._opt),i=Uy("moveOnMouseWheel",t,this._opt),n=t.wheelDelta,o=Math.abs(n),a=t.offsetX,r=t.offsetY;if(0!==n&&(e||i)){if(e){var s=3<o?1.4:1<o?1.2:1.1;Hy(this,"zoom","zoomOnMouseWheel",t,{scale:0<n?s:1/s,originX:a,originY:r})}if(i){var l=Math.abs(n);Hy(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(0<n?1:-1)*(3<l?.4:1<l?.15:.05),originX:a,originY:r})}}}function Wy(t){Ey(this._zr,"globalPan")||Hy(this,"zoom",null,t,{scale:1<t.pinchScale?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY})}function Hy(t,e,i,n,o){t.pointerChecker&&t.pointerChecker(n,o.originX,o.originY)&&(Xt(n.event),Zy(t,e,i,n,o))}function Zy(t,e,i,n,o){o.isAvailableBehavior=A(Uy,null,i,n),t.trigger(e,o)}function Uy(t,e,i){var n=i[t];return!t||n&&(!R(n)||e.event[n+"Key"])}function Xy(t,e,i){var n=t.target,o=n.position;o[0]+=e,o[1]+=i,n.dirty()}function Yy(t,e,i,n){var o=t.target,a=t.zoomLimit,r=o.position,s=o.scale,l=t.zoom=t.zoom||1;if(l*=e,a){var u=a.min||0,h=a.max||1/0;l=Math.max(Math.min(h,l),u)}var c=l/t.zoom;t.zoom=l,r[0]-=(i-r[0])*(c-1),r[1]-=(n-r[1])*(c-1),s[0]*=c,s[1]*=c,o.dirty()}xf({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),b(zy,Ct);var jy={axisPointer:1,tooltip:1,brush:1};function qy(t,e,i){var n=e.getComponentByElement(t.topTarget),o=n&&n.coordinateSystem;return n&&n!==i&&!jy[n.mainType]&&o&&o.model!==i}function Ky(t){var e=t.getItemStyle(),i=t.get("areaColor");return null!=i&&(e.fill=i),e}function $y(i,t){t.eachChild(function(e){E(e.__regions,function(t){e.trigger(i.isSelected(t.name)?"emphasis":"normal")})})}function Jy(t,e){var i=new Ci;this.uid=Nl("ec_map_draw"),this._controller=new zy(t.getZr()),this._controllerHost={target:e?i:null},this.group=i,this._updateGroup=e,this._mouseDownFlag,this._mapName,this._initialized,i.add(this._regionsGroup=new Ci),i.add(this._backgroundGroup=new Ci)}Jy.prototype={constructor:Jy,draw:function(_,t,e,i,n){var w="geo"===_.mainType,b=_.getData&&_.getData();w&&t.eachComponent({mainType:"series",subType:"map"},function(t){b||t.getHostGeoModel()!==_||(b=t.getData())});var o=_.coordinateSystem;this._updateBackground(o);var S=this._regionsGroup,M=this.group,a=o.getTransformInfo();M.transform=a.roamTransform,M.decomposeTransform(),M.dirty();var I=a.rawScale,T=a.rawPosition;S.removeAll();var A=["itemStyle"],D=["emphasis","itemStyle"],C=["label"],L=["emphasis","label"],k=Q();E(o.regions,function(t){var e=k.get(t.name)||k.set(t.name,new Ci),a=new ps({segmentIgnoreThreshold:1,shape:{paths:[]}});e.add(a);var i,n=(x=_.getRegionModel(t.name)||_).getModel(A),o=x.getModel(D),r=Ky(n),s=Ky(o),l=x.getModel(C),u=x.getModel(L);if(b){i=b.indexOfName(t.name);var h=b.getItemVisual(i,"color",!0);h&&(r.fill=h)}function c(t){return[t[0]*I[0]+T[0],t[1]*I[1]+T[1]]}E(t.geometries,function(t){if("polygon"===t.type){for(var e=[],i=0;i<t.exterior.length;++i)e.push(c(t.exterior[i]));a.shape.paths.push(new Qr({segmentIgnoreThreshold:1,shape:{points:e}}));for(i=0;i<(t.interiors?t.interiors.length:0);++i){for(var n=t.interiors[i],o=(e=[],0);o<n.length;++o)e.push(c(n[o]));a.shape.paths.push(new Qr({segmentIgnoreThreshold:1,shape:{points:e}}))}}}),a.setStyle(r),a.style.strokeNoScale=!0,a.culling=!0;var d=l.get("show"),f=u.get("show"),p=b&&isNaN(b.get(b.mapDimension("value"),i)),g=b&&b.getItemLayout(i);if(w||p&&(d||f)||g&&g.showLabel){var m,v=w?t.name:i;(!b||0<=i)&&(m=_);var y=new Ur({position:c(t.center.slice()),scale:[1/M.scale[0],1/M.scale[1]],z2:10,silent:!0});el(y.style,y.hoverStyle={},l,u,{labelFetcher:m,labelDataIndex:v,defaultText:t.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),e.add(y)}if(b)b.setItemGraphicEl(i,e);else{var x=_.getRegionModel(t.name);a.eventData={componentType:"geo",componentIndex:_.componentIndex,geoIndex:_.componentIndex,name:t.name,region:x&&x.option||{}}}(e.__regions||(e.__regions=[])).push(t),e.highDownSilentOnTouch=!!_.get("selectedMode"),$s(e,s),S.add(e)}),this._updateController(_,t,e),function(n,o,a,r,s){a.off("click"),a.off("mousedown"),o.get("selectedMode")&&(a.on("mousedown",function(){n._mouseDownFlag=!0}),a.on("click",function(t){if(n._mouseDownFlag){n._mouseDownFlag=!1;for(var e=t.target;!e.__regions;)e=e.parent;if(e){var i={type:("geo"===o.mainType?"geo":"map")+"ToggleSelect",batch:N(e.__regions,function(t){return{name:t.name,from:s.uid}})};i[o.mainType+"Id"]=o.id,r.dispatchAction(i),$y(o,a)}}}))}(this,_,S,e,i),$y(_,S)},remove:function(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName&&ky.removeGraphic(this._mapName,this.uid),this._mapName=null,this._controllerHost={}},_updateBackground:function(t){var e=t.map;this._mapName!==e&&E(ky.makeGraphic(e,this.uid),function(t){this._backgroundGroup.add(t)},this),this._mapName=e},_updateController:function(n,t,o){var a=n.coordinateSystem,e=this._controller,i=this._controllerHost;i.zoomLimit=n.get("scaleLimit"),i.zoom=a.getZoom(),e.enable(n.get("roam")||!1);var r=n.mainType;function s(){var t={type:"geoRoam",componentType:r};return t[r+"Id"]=n.id,t}e.off("pan").on("pan",function(t){this._mouseDownFlag=!1,Xy(i,t.dx,t.dy),o.dispatchAction(k(s(),{dx:t.dx,dy:t.dy}))},this),e.off("zoom").on("zoom",function(t){if(this._mouseDownFlag=!1,Yy(i,t.scale,t.originX,t.originY),o.dispatchAction(k(s(),{zoom:t.scale,originX:t.originX,originY:t.originY})),this._updateGroup){var e=this.group.scale;this._regionsGroup.traverse(function(t){"text"===t.type&&t.attr("scale",[1/e[0],1/e[1]])})}},this),e.setPointerChecker(function(t,e,i){return a.getViewRectAfterRoam().contain(e,i)&&!qy(t,o,n)})}};var Qy="__seriesMapHighDown",tx="__seriesMapCallKey";function ex(t){var e=this[Qy];e&&e.recordVersion===this[tx]&&ix(e,t)}function ix(t,e){var i=t.circle,n=t.labelModel,o=t.hoverLabelModel,a=t.emphasisText,r=t.normalText;e?(i.style.extendFrom(nl({},o,{text:o.get("show")?a:null},{isRectText:!0,useInsideStyle:!1},!0)),i.__mapOriginalZ2=i.z2,i.z2+=bs):(nl(i.style,n,{text:n.get("show")?r:null,textPosition:n.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),i.dirty(!1),null!=i.__mapOriginalZ2&&(i.z2=i.__mapOriginalZ2,i.__mapOriginalZ2=null))}function nx(t,e,i){var n=t.getZoom(),o=t.getCenter(),a=e.zoom,r=t.dataToPoint(o);if(null!=e.dx&&null!=e.dy){r[0]-=e.dx,r[1]-=e.dy;o=t.pointToData(r);t.setCenter(o)}if(null!=a){if(i){var s=i.min||0,l=i.max||1/0;a=Math.max(Math.min(n*a,l),s)/n}t.scale[0]*=a,t.scale[1]*=a;var u=t.position,h=(e.originX-u[0])*(a-1),c=(e.originY-u[1])*(a-1);u[0]-=h,u[1]-=c,t.updateTransform();o=t.pointToData(r);t.setCenter(o),t.setZoom(a*n)}return{center:t.getCenter(),zoom:t.getZoom()}}Df({type:"map",render:function(t,e,i,n){if(!n||"mapToggleSelect"!==n.type||n.from!==this.uid){var o=this.group;if(o.removeAll(),!t.getHostGeoModel()){if(n&&"geoRoam"===n.type&&"series"===n.componentType&&n.seriesId===t.id)(a=this._mapDraw)&&o.add(a.group);else if(t.needsDrawMap){var a=this._mapDraw||new Jy(i,!0);o.add(a.group),a.draw(t,e,i,this,n),this._mapDraw=a}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(t,e,i)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(x,t,e){var _=x.originalData,w=this.group;_.each(_.mapDimension("value"),function(t,e){if(!isNaN(t)){var i=_.getItemLayout(e);if(i&&i.point){var n=i.point,o=i.offset,a=new Yr({style:{fill:x.getData().getVisual("color")},shape:{cx:n[0]+9*o,cy:n[1],r:3},silent:!0,z2:8+(o?0:bs+1)});if(!o){var r=x.mainSeries.getData(),s=_.getName(e),l=r.indexOfName(s),u=_.getItemModel(e),h=u.getModel("label"),c=u.getModel("emphasis.label"),d=r.getItemGraphicEl(l),f=H(x.getFormattedLabel(l,"normal"),s),p=H(x.getFormattedLabel(l,"emphasis"),f),g=d[Qy],m=Math.random();if(!g){g=d[Qy]={};var v=T(ex,!0),y=T(ex,!1);d.on("mouseover",v).on("mouseout",y).on("emphasis",v).on("normal",y)}k(g,{recordVersion:d[tx]=m,circle:a,labelModel:h,hoverLabelModel:c,emphasisText:p,normalText:f}),ix(g,!1)}w.add(a)}}})}}),xf({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(n,t){var o=n.componentType||"series";t.eachComponent({mainType:o,query:n},function(t){var e=t.coordinateSystem;if("geo"===e.type){var i=nx(e,n,t.get("scaleLimit"));t.setCenter&&t.setCenter(i.center),t.setZoom&&t.setZoom(i.zoom),"series"===o&&E(t.seriesGroup,function(t){t.setCenter(i.center),t.setZoom(i.zoom)})}})});var ox=bt;function ax(){ve.call(this)}function rx(t){this.name=t,this.zoomLimit,ve.call(this),this._roamTransformable=new ax,this._rawTransformable=new ax,this._center,this._zoom}function sx(t,e,i,n){var o=i.seriesModel,a=o?o.coordinateSystem:null;return a===this?a[t](n):null}function lx(t,e,i,n){rx.call(this,t),this.map=e;var o=ky.load(e,i);this._nameCoordMap=o.nameCoordMap,this._regionsMap=o.regionsMap,this._invertLongitute=null==n||n,this.regions=o.regions,this._rect=o.boundingRect}function ux(t,e,i,n){var o=i.geoModel,a=i.seriesModel,r=o?o.coordinateSystem:a?a.coordinateSystem||(a.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return r===this?r[t](n):null}function hx(t,e){var i=t.get("boundingCoords");if(null!=i){var n=i[0],o=i[1];isNaN(n[0])||isNaN(n[1])||isNaN(o[0])||isNaN(o[1])||this.setBoundingRect(n[0],n[1],o[0]-n[0],o[1]-n[1])}var a,r=this.getBoundingRect(),s=t.get("layoutCenter"),l=t.get("layoutSize"),u=e.getWidth(),h=e.getHeight(),c=r.width/r.height*this.aspectScale,d=!1;if(s&&l&&(s=[Rl(s[0],u),Rl(s[1],h)],l=Rl(l,Math.min(u,h)),isNaN(s[0])||isNaN(s[1])||isNaN(l)||(d=!0)),d){var f={};1<c?(f.width=l,f.height=l/c):(f.height=l,f.width=l*c),f.y=s[1]-f.height/2,f.x=s[0]-f.width/2}else(a=t.getBoxLayoutParams()).aspect=c,f=wu(a,{width:u,height:h});this.setViewRect(f.x,f.y,f.width,f.height),this.setCenter(t.get("center")),this.setZoom(t.get("zoom"))}function cx(i,t){E(t.get("geoCoord"),function(t,e){i.addGeoCoord(e,t)})}b(ax,ve),rx.prototype={constructor:rx,type:"view",dimensions:["x","y"],setBoundingRect:function(t,e,i,n){return this._rect=new Di(t,e,i,n),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(t,e,i,n){this.transformTo(t,e,i,n),this._viewRect=new Di(t,e,i,n)},transformTo:function(t,e,i,n){var o=this.getBoundingRect(),a=this._rawTransformable;a.transform=o.calculateTransform(new Di(t,e,i,n)),a.decomposeTransform(),this._updateTransform()},setCenter:function(t){t&&(this._center=t,this._updateCenterAndZoom())},setZoom:function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},getDefaultCenter:function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var t=this._rawTransformable.getLocalTransform(),e=this._roamTransformable,i=this.getDefaultCenter(),n=this.getCenter(),o=this.getZoom();n=bt([],n,t),i=bt([],i,t),e.origin=n,e.position=[i[0]-n[0],i[1]-n[1]],e.scale=[o,o],this._updateTransform()},_updateTransform:function(){var t=this._roamTransformable,e=this._rawTransformable;(e.parent=t).updateTransform(),e.updateTransform(),se(this.transform||(this.transform=[]),e.transform||ae()),this._rawTransform=e.getLocalTransform(),this.invTransform=this.invTransform||[],de(this.invTransform,this.transform),this.decomposeTransform()},getTransformInfo:function(){var t=this._roamTransformable.transform,e=this._rawTransformable;return{roamTransform:t?U(t):ae(),rawScale:U(e.scale),rawPosition:U(e.position)}},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},dataToPoint:function(t,e,i){var n=e?this._rawTransform:this.transform;return i=i||[],n?ox(i,t,n):at(i,t)},pointToData:function(t){var e=this.invTransform;return e?ox([],t,e):[t[0],t[1]]},convertToPixel:T(sx,"dataToPoint"),convertFromPixel:T(sx,"pointToData"),containPoint:function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])}},b(rx,ve),lx.prototype={constructor:lx,type:"geo",dimensions:["lng","lat"],containCoord:function(t){for(var e=this.regions,i=0;i<e.length;i++)if(e[i].contain(t))return!0;return!1},transformTo:function(t,e,i,n){var o=this.getBoundingRect(),a=this._invertLongitute;o=o.clone(),a&&(o.y=-o.y-o.height);var r=this._rawTransformable;if(r.transform=o.calculateTransform(new Di(t,e,i,n)),r.decomposeTransform(),a){var s=r.scale;s[1]=-s[1]}r.updateTransform(),this._updateTransform()},getRegion:function(t){return this._regionsMap.get(t)},getRegionByCoord:function(t){for(var e=this.regions,i=0;i<e.length;i++)if(e[i].contain(t))return e[i]},addGeoCoord:function(t,e){this._nameCoordMap.set(t,e)},getGeoCoord:function(t){return this._nameCoordMap.get(t)},getBoundingRect:function(){return this._rect},dataToPoint:function(t,e,i){if("string"==typeof t&&(t=this.getGeoCoord(t)),t)return rx.prototype.dataToPoint.call(this,t,e,i)},convertToPixel:T(ux,"dataToPoint"),convertFromPixel:T(ux,"pointToData")},b(lx,rx);var dx={dimensions:lx.prototype.dimensions,create:function(t,s){var l=[];t.eachComponent("geo",function(t,e){var i=t.get("map"),n=t.get("aspectScale"),o=!0,a=bd.retrieveMap(i);a&&a[0]&&"svg"===a[0].type?(null==n&&(n=1),o=!1):null==n&&(n=.75);var r=new lx(i+e,i,t.get("nameMap"),o);r.aspectScale=n,r.zoomLimit=t.get("scaleLimit"),l.push(r),cx(r,t),(t.coordinateSystem=r).model=t,r.resize=hx,r.resize(t,s)}),t.eachSeries(function(t){if("geo"===t.get("coordinateSystem")){var e=t.get("geoIndex")||0;t.coordinateSystem=l[e]}});var i={};return t.eachSeriesByType("map",function(t){if(!t.getHostGeoModel()){var e=t.getMapType();i[e]=i[e]||[],i[e].push(t)}}),E(i,function(t,e){var i=new lx(e,e,p(N(t,function(t){return t.get("nameMap")})));i.zoomLimit=W.apply(null,N(t,function(t){return t.get("scaleLimit")})),l.push(i),i.resize=hx,i.aspectScale=t[0].get("aspectScale"),i.resize(t[0],s),E(t,function(t){cx(t.coordinateSystem=i,t)})}),l},getFilledRegions:function(t,e,i){for(var n=(t||[]).slice(),o=Q(),a=0;a<n.length;a++)o.set(n[a].name,n[a]);return E(ky.load(e,i).regions,function(t){var e=t.name;o.get(e)||n.push({name:e})}),n}};_f("geo",dx);wf(function(i){var o={};i.eachSeriesByType("map",function(t){var e=t.getMapType();if(!t.getHostGeoModel()&&!o[e]){var l={};E(t.seriesGroup,function(t){var r=t.coordinateSystem,s=t.originalData;t.get("showLegendSymbol")&&i.getComponent("legend")&&s.each(s.mapDimension("value"),function(t,e){var i=s.getName(e),n=r.getRegion(i);if(n&&!isNaN(t)){var o=l[i]||0,a=r.dataToPoint(n.center);l[i]=o+1,s.setItemLayout(e,{point:a,offset:o})}})});var n=t.getData();n.each(function(t){var e=n.getName(t),i=n.getItemLayout(t)||{};i.showLabel=!l[e],n.setItemLayout(t,i)}),o[e]=!0}})}),bf(function(t){t.eachSeriesByType("map",function(t){var e=t.get("color"),i=t.getModel("itemStyle"),n=i.get("areaColor"),o=i.get("color")||e[t.seriesIndex%e.length];t.getData().setVisual({areaColor:n,color:o})})}),yf(Cd.PROCESSOR.STATISTIC,function(t){var n={};t.eachSeriesByType("map",function(t){var e=t.getHostGeoModel(),i=e?"o"+e.id:"i"+t.getMapType();(n[i]=n[i]||[]).push(t)}),E(n,function(t,e){for(var i=function(u,h){var c={};return E(u,function(n){n.each(n.mapDimension("value"),function(t,e){var i="ec-"+n.getName(e);c[i]=c[i]||[],isNaN(t)||c[i].push(t)})}),u[0].map(u[0].mapDimension("value"),function(t,e){for(var i,n="ec-"+u[0].getName(e),o=0,a=1/0,r=-1/0,s=c[n].length,l=0;l<s;l++)a=Math.min(a,c[n][l]),r=Math.max(r,c[n][l]),o+=c[n][l];return i="min"===h?a:"max"===h?r:"average"===h?o/s:o,0===s?NaN:i})}(N(t,function(t){return t.getData()}),t[0].get("mapValueCalculation")),n=0;n<t.length;n++)t[n].originalData=t[n].getData();for(n=0;n<t.length;n++)(t[n].seriesGroup=t)[n].needsDrawMap=0===n&&!t[n].getHostGeoModel(),t[n].setData(i.cloneShallow()),t[n].mainSeries=t[0]})}),vf(function(t){var e=[];E(t.series,function(t){t&&"map"===t.type&&(e.push(t),t.map=t.map||t.mapType,D(t,t.mapLocation))})}),Qv("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]);var fx=E,px="\0__link_datas",gx="\0__link_mainData";function mx(i){var n=i.mainData,t=i.datas;t||(t={main:n},i.datasAttr={main:"data"}),i.datas=i.mainData=null,bx(n,t,i),fx(t,function(e){fx(n.TRANSFERABLE_METHODS,function(t){e.wrapMethod(t,T(vx,i))})}),n.wrapMethod("cloneShallow",T(xx,i)),fx(n.CHANGABLE_METHODS,function(t){n.wrapMethod(t,T(yx,i))}),Y(t[n.dataType]===n)}function vx(t,e){if(function(t){return t[gx]===t}(this)){var i=k({},this[px]);bx(i[this.dataType]=e,i,t)}else Sx(e,this.dataType,this[gx],t);return e}function yx(t,e){return t.struct&&t.struct.update(this),e}function xx(i,n){return fx(n[px],function(t,e){t!==n&&Sx(t.cloneShallow(),e,n,i)}),n}function _x(t){var e=this[gx];return null==t||null==e?e:e[px][t]}function bx(i,t,n){i[px]={},fx(t,function(t,e){Sx(t,e,i,n)})}function Sx(t,e,i,n){(i[px][e]=t)[gx]=i,t.dataType=e,n.struct&&(t[n.structAttr]=n.struct,n.struct[n.datasAttr[e]]=t),t.getLinkedData=_x}function Mx(t,e){this.name=t||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=e}function Ix(e,t,i){this.root,this.data,this._nodes=[],this.hostModel=e,this.levelModels=N(t||[],function(t){return new Cl(t,e,e.ecModel)}),this.leavesModel=new Cl(i||{},e,e.ecModel)}function Tx(t,e){var i=e.children;t.parentNode!==e&&(i.push(t),t.parentNode=e)}function Ax(t,e){var i=t.isExpand?t.children:[],n=t.parentNode.children,o=t.hierNode.i?n[t.hierNode.i-1]:null;if(i.length){!function(t){var e=t.children,i=e.length,n=0,o=0;for(;0<=--i;){var a=e[i];a.hierNode.prelim+=n,a.hierNode.modifier+=n,o+=a.hierNode.change,n+=a.hierNode.shift+o}}(t);var a=(i[0].hierNode.prelim+i[i.length-1].hierNode.prelim)/2;o?(t.hierNode.prelim=o.hierNode.prelim+e(t,o),t.hierNode.modifier=t.hierNode.prelim-a):t.hierNode.prelim=a}else o&&(t.hierNode.prelim=o.hierNode.prelim+e(t,o));t.parentNode.hierNode.defaultAncestor=function(t,e,i,n){if(e){for(var o=t,a=t,r=a.parentNode.children[0],s=e,l=o.hierNode.modifier,u=a.hierNode.modifier,h=r.hierNode.modifier,c=s.hierNode.modifier;s=kx(s),a=Px(a),s&&a;){o=kx(o),r=Px(r),o.hierNode.ancestor=t;var d=s.hierNode.prelim+c-a.hierNode.prelim-u+n(s,a);0<d&&(Nx((p=t,g=i,(f=s).hierNode.ancestor.parentNode===p.parentNode?f.hierNode.ancestor:g),t,d),u+=d,l+=d),c+=s.hierNode.modifier,u+=a.hierNode.modifier,l+=o.hierNode.modifier,h+=r.hierNode.modifier}s&&!kx(o)&&(o.hierNode.thread=s,o.hierNode.modifier+=c-l),a&&!Px(r)&&(r.hierNode.thread=a,r.hierNode.modifier+=u-h,i=t)}var f,p,g;return i}(t,o,t.parentNode.hierNode.defaultAncestor||n[0],e)}function Dx(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier}function Cx(t){return arguments.length?t:Ox}function Lx(t,e){var i={};return t-=Math.PI/2,i.x=e*Math.cos(t),i.y=e*Math.sin(t),i}function kx(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function Px(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function Nx(t,e,i){var n=i/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=n,e.hierNode.shift+=i,e.hierNode.modifier+=i,e.hierNode.prelim+=i,t.hierNode.change+=n}function Ox(t,e){return t.parentNode===e.parentNode?1:2}Mx.prototype={constructor:Mx,isRemoved:function(){return this.dataIndex<0},eachNode:function(t,e,i){"function"==typeof t&&(i=e,e=t,t=null),R(t=t||{})&&(t={order:t});var n,o=t.order||"preorder",a=this[t.attr||"children"];"preorder"===o&&(n=e.call(i,this));for(var r=0;!n&&r<a.length;r++)a[r].eachNode(t,e,i);"postorder"===o&&e.call(i,this)},updateDepthAndHeight:function(t){var e=0;this.depth=t;for(var i=0;i<this.children.length;i++){var n=this.children[i];n.updateDepthAndHeight(t+1),n.height>e&&(e=n.height)}this.height=e+1},getNodeById:function(t){if(this.getId()===t)return this;for(var e=0,i=this.children,n=i.length;e<n;e++){var o=i[e].getNodeById(t);if(o)return o}},contains:function(t){if(t===this)return!0;for(var e=0,i=this.children,n=i.length;e<n;e++){var o=i[e].contains(t);if(o)return o}},getAncestors:function(t){for(var e=[],i=t?this:this.parentNode;i;)e.push(i),i=i.parentNode;return e.reverse(),e},getValue:function(t){var e=this.hostTree.data;return e.get(e.getDimension(t||"value"),this.dataIndex)},setLayout:function(t,e){0<=this.dataIndex&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(t){if(!(this.dataIndex<0)){var e,i=this.hostTree,n=i.data.getItemModel(this.dataIndex),o=this.getLevelModel();return o||0!==this.children.length&&(0===this.children.length||!1!==this.isExpand)||(e=this.getLeavesModel()),n.getModel(t,(o||e||i.hostModel).getModel(t))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(t,e){0<=this.dataIndex&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},getVisual:function(t,e){return this.hostTree.data.getItemVisual(this.dataIndex,t,e)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},isDescendantOf:function(t){return t!==this&&t.isAncestorOf(this)}},Ix.prototype={constructor:Ix,type:"tree",eachNode:function(t,e,i){this.root.eachNode(t,e,i)},getNodeByDataIndex:function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},getNodeByName:function(t){return this.root.getNodeByName(t)},update:function(){for(var t=this.data,e=this._nodes,i=0,n=e.length;i<n;i++)e[i].dataIndex=-1;for(i=0,n=t.count();i<n;i++)e[t.getRawIndex(i)].dataIndex=i},clearLayouts:function(){this.data.clearItemLayouts()}},Ix.createTree=function(t,e,i,n){var s=new Ix(e,i.levels,i.leaves),l=[],u=1;!function t(e,i){var n=e.value;u=Math.max(u,O(n)?n.length:1);l.push(e);var o=new Mx(e.name,s);i?Tx(o,i):s.root=o;s._nodes.push(o);var a=e.children;if(a)for(var r=0;r<a.length;r++)t(a[r],o)}(t),s.root.updateDepthAndHeight(0);var o=sp(l,{coordDimensions:["value"],dimensionsCount:u}),a=new Xf(o,e);return a.initData(l),mx({mainData:a,struct:s,structAttr:"tree"}),s.update(),n&&n(a),s},rc.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(t){var e={name:t.name,children:t.data},i=t.leaves||{},n={};n.leaves=i;var o=Ix.createTree(e,this,n,function(t){t.wrapMethod("getItemModel",function(t,e){var i=o.getNodeByDataIndex(e),n=i.getLeavesModel();return i.children.length&&i.isExpand||(t.parentModel=n),t})});var a=0;o.eachNode("preorder",function(t){t.depth>a&&(a=t.depth)});var r=t.expandAndCollapse&&0<=t.initialTreeDepth?t.initialTreeDepth:a;return o.root.eachNode("preorder",function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e&&null!=e.collapsed?!e.collapsed:t.depth<=r}),o.data},getOrient:function(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},formatTooltip:function(t){for(var e=this.getData().tree,i=e.root.children[0],n=e.getNodeByDataIndex(t),o=n.getValue(),a=n.name;n&&n!==i;)a=n.parentNode.name+"."+a,n=n.parentNode;return au(a+(isNaN(o)||null==o?"":" : "+o))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}});var Ex=Cs({shape:{parentPoint:[],childPoints:[],orient:"",forkPosition:""},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.childPoints,n=i.length,o=e.parentPoint,a=i[0],r=i[n-1];if(1===n)return t.moveTo(o[0],o[1]),void t.lineTo(a[0],a[1]);var s=e.orient,l="TB"===s||"BT"===s?0:1,u=1-l,h=Rl(e.forkPosition,1),c=[];c[l]=o[l],c[u]=o[u]+(r[u]-o[u])*h,t.moveTo(o[0],o[1]),t.lineTo(c[0],c[1]),t.moveTo(a[0],a[1]),c[l]=a[l],t.lineTo(c[0],c[1]),c[l]=r[l],t.lineTo(c[0],c[1]),t.lineTo(r[0],r[1]);for(var d=1;d<n-1;d++){var f=i[d];t.moveTo(f[0],f[1]),c[l]=f[l],t.lineTo(c[0],c[1])}}});function Rx(t,e){var i=t.getItemLayout(e);return i&&!isNaN(i.x)&&!isNaN(i.y)&&"none"!==t.getItemVisual(e,"symbol")}function zx(t,e,i){return i.itemModel=e,i.itemStyle=e.getModel("itemStyle").getItemStyle(),i.hoverItemStyle=e.getModel("emphasis.itemStyle").getItemStyle(),i.lineStyle=e.getModel("lineStyle").getLineStyle(),i.labelModel=e.getModel("label"),i.hoverLabelModel=e.getModel("emphasis.label"),!1===t.isExpand&&0!==t.children.length?i.symbolInnerColor=i.itemStyle.fill:i.symbolInnerColor="#fff",i}function Bx(t,e,i,n,o,a){var r=!i,s=t.tree.getNodeByDataIndex(e),l=s.getModel(),u=(a=zx(s,l,a),t.tree.root),h=s.parentNode===u?s:s.parentNode||s,c=t.getItemGraphicEl(h.dataIndex),d=h.getLayout(),f=c?{x:c.position[0],y:c.position[1],rawX:c.__radialOldRawX,rawY:c.__radialOldRawY}:d,p=s.getLayout();r?(i=new Ug(t,e,a)).attr("position",[f.x,f.y]):i.updateData(t,e,a),i.__radialOldRawX=i.__radialRawX,i.__radialOldRawY=i.__radialRawY,i.__radialRawX=p.rawX,i.__radialRawY=p.rawY,n.add(i),t.setItemGraphicEl(e,i),cl(i,{position:[p.x,p.y]},o);var g=i.getSymbolPath();if("radial"===a.layout){var m,v,y=u.children[0],x=y.getLayout(),_=y.children.length;if(p.x===x.x&&!0===s.isExpand){var w={};w.x=(y.children[0].getLayout().x+y.children[_-1].getLayout().x)/2,w.y=(y.children[0].getLayout().y+y.children[_-1].getLayout().y)/2,(m=Math.atan2(w.y-x.y,w.x-x.x))<0&&(m=2*Math.PI+m),(v=w.x<x.x)&&(m-=Math.PI)}else(m=Math.atan2(p.y-x.y,p.x-x.x))<0&&(m=2*Math.PI+m),0===s.children.length||0!==s.children.length&&!1===s.isExpand?(v=p.x<x.x)&&(m-=Math.PI):(v=p.x>x.x)||(m-=Math.PI);var b=v?"left":"right",S=a.labelModel.get("rotate"),M=S*(Math.PI/180);g.setStyle({textPosition:a.labelModel.get("position")||b,textRotation:null==S?-m:M,textOrigin:"center",verticalAlign:"middle"})}!function(t,e,i,n,o,a,r,s,l){var u=l.edgeShape,h=n.__edge;if("curve"===u)e.parentNode&&e.parentNode!==i&&cl(h=h||(n.__edge=new ds({shape:Gx(l,o,o),style:D({opacity:0,strokeNoScale:!0},l.lineStyle)})),{shape:Gx(l,a,r),style:{opacity:1}},t);else if("polyline"===u&&"orthogonal"===l.layout&&e!==i&&e.children&&0!==e.children.length&&!0===e.isExpand){for(var c=e.children,d=[],f=0;f<c.length;f++){var p=c[f].getLayout();d.push([p.x,p.y])}cl(h=h||(n.__edge=new Ex({shape:{parentPoint:[r.x,r.y],childPoints:[[r.x,r.y]],orient:l.orient,forkPosition:l.edgeForkPosition},style:D({opacity:0,strokeNoScale:!0},l.lineStyle)})),{shape:{parentPoint:[r.x,r.y],childPoints:d},style:{opacity:1}},t)}s.add(h)}(o,s,u,i,f,d,p,n,a)}function Vx(t,e,i,n,o,a){for(var r,s=t.tree.getNodeByDataIndex(e),l=t.tree.root,u=s.getModel(),h=(a=zx(s,u,a),s.parentNode===l?s:s.parentNode||s),c=a.edgeShape;null==(r=h.getLayout());)h=h.parentNode===l?h:h.parentNode||h;cl(i,{position:[r.x+1,r.y+1]},o,function(){n.remove(i),t.setItemGraphicEl(e,null)}),i.fadeOut(null,{keepLabel:!0});var d=t.getItemGraphicEl(h.dataIndex).__edge,f=i.__edge||(!1===h.isExpand||1===h.children.length?d:void 0);c=a.edgeShape;f&&("curve"===c?cl(f,{shape:Gx(a,r,r),style:{opacity:0}},o,function(){n.remove(f)}):"polyline"===c&&"orthogonal"===a.layout&&cl(f,{shape:{parentPoint:[r.x,r.y],childPoints:[[r.x,r.y]]},style:{opacity:0}},o,function(){n.remove(f)}))}function Gx(t,e,i){var n,o,a,r,s,l,u,h,c=t.orient;if("radial"!==t.layout)return s=e.x,u=e.y,l=i.x,h=i.y,"LR"!==c&&"RL"!==c||(n=s+(l-s)*t.curvature,o=u,a=l+(s-l)*t.curvature,r=h),"TB"!==c&&"BT"!==c||(n=s,o=u+(h-u)*t.curvature,a=l,r=h+(u-h)*t.curvature),{x1:s,y1:u,x2:l,y2:h,cpx1:n,cpy1:o,cpx2:a,cpy2:r};s=e.rawX,u=e.rawY,l=i.rawX,h=i.rawY;var d=Lx(s,u),f=Lx(s,u+(h-u)*t.curvature),p=Lx(l,h+(u-h)*t.curvature),g=Lx(l,h);return{x1:d.x,y1:d.y,x2:g.x,y2:g.y,cpx1:f.x,cpy1:f.y,cpx2:p.x,cpy2:p.y}}function Fx(t,e){for(var i,n=[t];i=n.pop();)if(e(i),i.isExpand){var o=i.children;if(o.length)for(var a=o.length-1;0<=a;a--)n.push(o[a])}}Df({type:"tree",init:function(t,e){this._oldTree,this._mainGroup=new Ci,this._controller=new zy(e.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},render:function(n,t,i,e){var o=n.getData(),a=n.layoutInfo,r=this._mainGroup,s=n.get("layout");"radial"===s?r.attr("position",[a.x+a.width/2,a.y+a.height/2]):r.attr("position",[a.x,a.y]),this._updateViewCoordSys(n,a,s),this._updateController(n,t,i);var l=this._data,u={expandAndCollapse:n.get("expandAndCollapse"),layout:s,edgeShape:n.get("edgeShape"),edgeForkPosition:n.get("edgeForkPosition"),orient:n.getOrient(),curvature:n.get("lineStyle.curveness"),symbolRotate:n.get("symbolRotate"),symbolOffset:n.get("symbolOffset"),hoverAnimation:n.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};o.diff(l).add(function(t){Rx(o,t)&&Bx(o,t,null,r,n,u)}).update(function(t,e){var i=l.getItemGraphicEl(e);Rx(o,t)?Bx(o,t,i,r,n,u):i&&Vx(l,e,i,r,n,u)}).remove(function(t){var e=l.getItemGraphicEl(t);e&&Vx(l,t,e,r,n,u)}).execute(),this._nodeScaleRatio=n.get("nodeScaleRatio"),this._updateNodeAndLinkScale(n),!0===u.expandAndCollapse&&o.eachItemGraphicEl(function(t,e){t.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:n.id,dataIndex:e})})}),this._data=o},_updateViewCoordSys:function(t){var i=t.getData(),n=[];i.each(function(t){var e=i.getItemLayout(t);!e||isNaN(e.x)||isNaN(e.y)||n.push([+e.x,+e.y])});var e=[],o=[];Wa(n,e,o);var a=this._min,r=this._max;o[0]-e[0]==0&&(e[0]=a?a[0]:e[0]-1,o[0]=r?r[0]:o[0]+1),o[1]-e[1]==0&&(e[1]=a?a[1]:e[1]-1,o[1]=r?r[1]:o[1]+1);var s=t.coordinateSystem=new rx;s.zoomLimit=t.get("scaleLimit"),s.setBoundingRect(e[0],e[1],o[0]-e[0],o[1]-e[1]),s.setCenter(t.get("center")),s.setZoom(t.get("zoom")),this.group.attr({position:s.position,scale:s.scale}),this._viewCoordSys=s,this._min=e,this._max=o},_updateController:function(o,t,a){var e=this._controller,i=this._controllerHost,r=this.group;e.setPointerChecker(function(t,e,i){var n=r.getBoundingRect();return n.applyTransform(r.transform),n.contain(e,i)&&!qy(t,a,o)}),e.enable(o.get("roam")),i.zoomLimit=o.get("scaleLimit"),i.zoom=o.coordinateSystem.getZoom(),e.off("pan").off("zoom").on("pan",function(t){Xy(i,t.dx,t.dy),a.dispatchAction({seriesId:o.id,type:"treeRoam",dx:t.dx,dy:t.dy})},this).on("zoom",function(t){Yy(i,t.scale,t.originX,t.originY),a.dispatchAction({seriesId:o.id,type:"treeRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),this._updateNodeAndLinkScale(o)},this)},_updateNodeAndLinkScale:function(t){var e=t.getData(),i=this._getNodeGlobalScale(t),n=[i,i];e.eachItemGraphicEl(function(t,e){t.attr("scale",n)})},_getNodeGlobalScale:function(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var i=this._nodeScaleRatio,n=e.scale,o=n&&n[0]||1;return((e.getZoom()-1)*i+1)/o},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},remove:function(){this._mainGroup.removeAll(),this._data=null}}),xf({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(n,t){t.eachComponent({mainType:"series",subType:"tree",query:n},function(t){var e=n.dataIndex,i=t.getData().tree.getNodeByDataIndex(e);i.isExpand=!i.isExpand})}),xf({type:"treeRoam",event:"treeRoam",update:"none"},function(i,t){t.eachComponent({mainType:"series",subType:"tree",query:i},function(t){var e=nx(t.coordinateSystem,i);t.setCenter&&t.setCenter(e.center),t.setZoom&&t.setZoom(e.zoom)})});function Wx(t,e,i){if(t&&0<=_(e,t.type)){var n=i.getData().tree.root,o=t.targetNode;if("string"==typeof o&&(o=n.getNodeById(o)),o&&n.contains(o))return{node:o};var a=t.targetNodeId;if(null!=a&&(o=n.getNodeById(a)))return{node:o}}}function Hx(t){for(var e=[];t;)(t=t.parentNode)&&e.push(t);return e.reverse()}function Zx(t,e){return 0<=_(Hx(t),e)}function Ux(t,e){for(var i=[];t;){var n=t.dataIndex;i.push({name:t.name,dataIndex:n,value:e.getRawValue(n)}),t=t.parentNode}return i.reverse(),i}bf(Dm("tree","circle")),wf(function(t,e){t.eachSeriesByType("tree",function(t){!function(t,e){var i=function(t,e){return wu(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e);t.layoutInfo=i;var n=t.get("layout"),o=0,a=0,r=null;r="radial"===n?(o=2*Math.PI,a=Math.min(i.height,i.width)/2,Cx(function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth})):(o=i.width,a=i.height,Cx());var s=t.getData().tree.root,l=s.children[0];if(l){!function(t){t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var e,i,n=[t];e=n.pop();)if(i=e.children,e.isExpand&&i.length)for(var o=i.length-1;0<=o;o--){var a=i[o];a.hierNode={defaultAncestor:null,ancestor:a,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},n.push(a)}}(s),function(t,e,i){for(var n,o=[t],a=[];n=o.pop();)if(a.push(n),n.isExpand){var r=n.children;if(r.length)for(var s=0;s<r.length;s++)o.push(r[s])}for(;n=a.pop();)e(n,i)}(l,Ax,r),s.hierNode.modifier=-l.hierNode.prelim,Fx(l,Dx);var u=l,h=l,c=l;Fx(l,function(t){var e=t.getLayout().x;e<u.getLayout().x&&(u=t),e>h.getLayout().x&&(h=t),t.depth>c.depth&&(c=t)});var d=u===h?1:r(u,h)/2,f=d-u.getLayout().x,p=0,g=0,m=0,v=0;if("radial"===n)p=o/(h.getLayout().x+d+f),g=a/(c.depth-1||1),Fx(l,function(t){m=(t.getLayout().x+f)*p,v=(t.depth-1)*g;var e=Lx(m,v);t.setLayout({x:e.x,y:e.y,rawX:m,rawY:v},!0)});else{var y=t.getOrient();"RL"===y||"LR"===y?(g=a/(h.getLayout().x+d+f),p=o/(c.depth-1||1),Fx(l,function(t){v=(t.getLayout().x+f)*g,m="LR"===y?(t.depth-1)*p:o-(t.depth-1)*p,t.setLayout({x:m,y:v},!0)})):"TB"!==y&&"BT"!==y||(p=o/(h.getLayout().x+d+f),g=a/(c.depth-1||1),Fx(l,function(t){m=(t.getLayout().x+f)*p,v="TB"===y?(t.depth-1)*g:a-(t.depth-1)*g,t.setLayout({x:m,y:v},!0)}))}}}(t,e)})}),rc.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],preventUsingHoverLayer:!0,_viewRoot:null,defaultOption:{progressive:0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(t,e){var i={name:t.name,children:t.data};!function i(t){var n=0;E(t.children,function(t){i(t);var e=t.value;O(e)&&(e=e[0]),n+=e});var e=t.value;O(e)&&(e=e[0]);null!=e&&!isNaN(e)||(e=n);e<0&&(e=0);O(t.value)?t.value[0]=e:t.value=e}(i);var n=t.levels||[];n=t.levels=function(t,e){var n,i=e.get("color");if(!i)return;if(E(t=t||[],function(t){var e=new Cl(t),i=e.get("color");(e.get("itemStyle.color")||i&&"none"!==i)&&(n=!0)}),!n){(t[0]||(t[0]={})).color=i.slice()}return t}(n,e);var o={};return o.levels=n,Ix.createTree(i,this,o).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(t){var e=this.getData(),i=this.getRawValue(t),n=O(i)?tu(i[0]):tu(i);return au(e.getName(t)+": "+n)},getDataParams:function(t){var e=rc.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=Ux(i,this),e},setLayoutInfo:function(t){this.layoutInfo=this.layoutInfo||{},k(this.layoutInfo,t)},mapIdToIndex:function(t){var e=this._idIndexMap;e||(e=this._idIndexMap=Q(),this._idIndexMapCount=0);var i=e.get(t);return null==i&&e.set(t,i=this._idIndexMapCount++),i},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)}});var Xx=5;function Yx(t){this.group=new Ci,t.add(this.group)}function jx(t,e,i,n,o,a){var r=[[o?t:t-Xx,e],[t+i,e],[t+i,e+n],[o?t:t-Xx,e+n]];return a||r.splice(2,0,[t+i+Xx,e+n/2]),o||r.push([t,e+n/2]),r}Yx.prototype={constructor:Yx,render:function(t,e,i,n){var o=t.getModel("breadcrumb"),a=this.group;if(a.removeAll(),o.get("show")&&i){var r=o.getModel("itemStyle"),s=r.getModel("textStyle"),l={pos:{left:o.get("left"),right:o.get("right"),top:o.get("top"),bottom:o.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:o.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,l,s),this._renderContent(t,l,r,s,n),bu(a,l.pos,l.box)}},_prepare:function(t,e,i){for(var n=t;n;n=n.parentNode){var o=n.getModel().get("name"),a=i.getTextRect(o),r=Math.max(a.width+16,e.emptyItemWidth);e.totalWidth+=r+8,e.renderList.push({node:n,text:o,width:r})}},_renderContent:function(t,e,i,n,o){for(var a,r,s=0,l=e.emptyItemWidth,u=t.get("breadcrumb.height"),h=function(t,e,i){var n=e.width,o=e.height,a=Rl(t.x,n),r=Rl(t.y,o),s=Rl(t.x2,n),l=Rl(t.y2,o);return(isNaN(a)||isNaN(parseFloat(t.x)))&&(a=0),(isNaN(s)||isNaN(parseFloat(t.x2)))&&(s=n),(isNaN(r)||isNaN(parseFloat(t.y)))&&(r=0),(isNaN(l)||isNaN(parseFloat(t.y2)))&&(l=o),i=iu(i||0),{width:Math.max(s-a-i[1]-i[3],0),height:Math.max(l-r-i[0]-i[2],0)}}(e.pos,e.box),c=e.totalWidth,d=e.renderList,f=d.length-1;0<=f;f--){var p=d[f],g=p.node,m=p.width,v=p.text;c>h.width&&(c-=m-l,m=l,v=null);var y=new Qr({shape:{points:jx(s,0,m,u,f===d.length-1,0===f)},style:D(i.getItemStyle(),{lineJoin:"bevel",text:v,textFill:n.getTextColor(),textFont:n.getFont()}),z:10,onclick:T(o,g)});this.group.add(y),a=t,r=g,y.eventData={componentType:"series",componentSubType:"treemap",componentIndex:a.componentIndex,seriesIndex:a.componentIndex,seriesName:a.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:r&&r.dataIndex,name:r&&r.name},treePathInfo:r&&Ux(r,a)},s+=m+8}},remove:function(){this.group.removeAll()}};function qx(t){var e=a_(t);return e.stroke=e.fill=e.lineWidth=null,e}var Kx=A,$x=Ci,Jx=rs,Qx=E,t_=["label"],e_=["emphasis","label"],i_=["upperLabel"],n_=["emphasis","upperLabel"],o_=10,a_=ha([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);function r_(c,r,s,l,u,e,d,t,i,n){if(d){var f=d.getLayout(),o=c.getData();if(o.setItemGraphicEl(d.dataIndex,null),f&&f.isInView){var h=f.width,p=f.height,g=f.borderWidth,m=f.invisible,v=d.getRawIndex(),y=t&&t.getRawIndex(),a=d.viewChildren,x=f.upperHeight,_=a&&a.length,w=d.getModel("itemStyle"),b=d.getModel("emphasis.itemStyle"),S=C("nodeGroup",$x);if(S){if(i.add(S),S.attr("position",[f.x||0,f.y||0]),S.__tmNodeWidth=h,S.__tmNodeHeight=p,f.isAboveViewRoot)return S;var M=d.getModel(),I=C("background",Jx,n,1);if(I&&function(t,e,i){if(e.dataIndex=d.dataIndex,e.seriesIndex=c.seriesIndex,e.setShape({x:0,y:0,width:h,height:p}),m)A(e);else{e.invisible=!1;var n=d.getVisual("borderColor",!0),o=b.get("borderColor"),a=qx(w);a.fill=n;var r=a_(b);if(r.fill=o,i){var s=h-2*g;D(a,r,n,s,x,{x:g,y:0,width:s,height:x})}else a.text=r.text=null;e.setStyle(a),Us(e,r)}t.add(e)}(S,I,_&&f.upperHeight),_)Qs(S)&&Js(S,!1),I&&(Js(I,!0),o.setItemGraphicEl(d.dataIndex,I));else{var T=C("content",Jx,n,2);T&&function(t,e){e.dataIndex=d.dataIndex,e.seriesIndex=c.seriesIndex;var i=Math.max(h-2*g,0),n=Math.max(p-2*g,0);if(e.culling=!0,e.setShape({x:g,y:g,width:i,height:n}),m)A(e);else{e.invisible=!1;var o=d.getVisual("color",!0),a=qx(w);a.fill=o;var r=a_(b);D(a,r,o,i,n),e.setStyle(a),Us(e,r)}t.add(e)}(S,T),I&&Qs(I)&&Js(I,!1),Js(S,!0),o.setItemGraphicEl(d.dataIndex,S)}return S}}}function A(t){t.invisible||e.push(t)}function D(t,e,i,n,o,a){var r=W(c.getFormattedLabel(d.dataIndex,"normal",null,null,a?"upperLabel":"label"),M.get("name"));if(!a&&f.isLeafRoot){var s=c.get("drillDownIcon",!0);r=s?s+" "+r:r}var l=M.getModel(a?i_:t_),u=M.getModel(a?n_:e_),h=l.getShallow("show");el(t,e,l,u,{defaultText:h?r:null,autoColor:i,isRectText:!0}),a&&(t.textRect=L(a)),t.truncate=h&&l.get("ellipsis")?{outerWidth:n,outerHeight:o,minChar:2}:null}function C(t,e,i,n){var o=null!=y&&s[t][y],a=u[t];return o?(s[t][y]=null,function(t,e,i){(t[v]={}).old="nodeGroup"===i?e.position.slice():k({},e.shape)}(a,o,t)):m||((o=new e({z:function(t,e){var i=t*o_+e;return(i-1)/i}(i,n)})).__tmDepth=i,function(t,e,i){var n=t[v]={},o=d.parentNode;if(o&&(!l||"drillDown"===l.direction)){var a=0,r=0,s=u.background[o.getRawIndex()];!l&&s&&s.old&&(a=s.old.width,r=s.old.height),n.old="nodeGroup"===i?[0,r]:{x:a,y:r,width:0,height:0}}n.fadein="nodeGroup"!==i}(a,0,o.__tmStorageName=t)),r[t][v]=o}}Df({type:"treemap",init:function(t,e){this._containerGroup,this._storage={nodeGroup:[],background:[],content:[]},this._oldTree,this._breadcrumb,this._controller,this._state="ready"},render:function(t,e,i,n){if(!(_(e.findComponents({mainType:"series",subType:"treemap",query:n}),t)<0)){this.seriesModel=t,this.api=i,this.ecModel=e;var o=Wx(n,["treemapZoomToNode","treemapRootToNode"],t),a=n&&n.type,r=t.layoutInfo,s=!this._oldTree,l=this._storage,u="treemapRootToNode"===a&&o&&l?{rootNodeGroup:l.nodeGroup[o.node.getRawIndex()],direction:n.direction}:null,h=this._giveContainerGroup(r),c=this._doRender(h,t,u);s||a&&"treemapZoomToNode"!==a&&"treemapRootToNode"!==a?c.renderFinally():this._doAnimation(h,c,t,u),this._resetController(i),this._renderBreadcrumb(t,i,o)}},_giveContainerGroup:function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new $x,this._initEvents(e),this.group.add(e)),e.attr("position",[t.x,t.y]),e},_doRender:function(t,e,i){var n=e.getData().tree,o=this._oldTree,a={nodeGroup:[],background:[],content:[]},r={nodeGroup:[],background:[],content:[]},s=this._storage,l=[],c=T(r_,e,r,s,i,a,l);!function a(r,s,l,u,h){u?Qx(s=r,function(t,e){t.isRemoved()||i(e,e)}):new Lf(s,r,t,t).add(i).update(i).remove(T(i,null)).execute();function t(t){return t.getId()}function i(t,e){var i=null!=t?r[t]:null,n=null!=e?s[e]:null,o=c(i,n,l,h);o&&a(i&&i.viewChildren||[],n&&n.viewChildren||[],o,u,h+1)}}(n.root?[n.root]:[],o&&o.root?[o.root]:[],t,n===o||!o,0);var u,h,d=(h={nodeGroup:[],background:[],content:[]},(u=s)&&Qx(u,function(t,e){var i=h[e];Qx(t,function(t){t&&(i.push(t),t.__tmWillDelete=1)})}),h);return this._oldTree=n,this._storage=r,{lastsForAnimation:a,willDeleteEls:d,renderFinally:function(){Qx(d,function(t){Qx(t,function(t){t.parent&&t.parent.remove(t)})}),Qx(l,function(t){t.invisible=!0,t.dirty()})}}},_doAnimation:function(t,a,e,s){if(e.get("animation")){var l=e.get("animationDurationUpdate"),u=e.get("animationEasing"),h=function(){var a,r=[],s={};return{add:function(t,e,i,n,o){return R(n)&&(o=n,n=0),!s[t.id]&&(s[t.id]=1,r.push({el:t,target:e,time:i,delay:n,easing:o}),!0)},done:function(t){return a=t,this},start:function(){for(var t=r.length,e=0,i=r.length;e<i;e++){var n=r[e];n.el.animateTo(n.target,n.time,n.delay,n.easing,o)}return this;function o(){--t||(r.length=0,s={},a&&a())}}}}();Qx(a.willDeleteEls,function(t,r){Qx(t,function(t,e){if(!t.invisible){var i,n=t.parent;if(s&&"drillDown"===s.direction)i=n===s.rootNodeGroup?{shape:{x:0,y:0,width:n.__tmNodeWidth,height:n.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var o=0,a=0;n.__tmWillDelete||(o=n.__tmNodeWidth/2,a=n.__tmNodeHeight/2),i="nodeGroup"===r?{position:[o,a],style:{opacity:0}}:{shape:{x:o,y:a,width:0,height:0},style:{opacity:0}}}i&&h.add(t,i,l,u)}})}),Qx(this._storage,function(t,o){Qx(t,function(t,e){var i=a.lastsForAnimation[o][e],n={};i&&("nodeGroup"===o?i.old&&(n.position=t.position.slice(),t.attr("position",i.old)):(i.old&&(n.shape=k({},t.shape),t.setShape(i.old)),i.fadein?(t.setStyle("opacity",0),n.style={opacity:1}):1!==t.style.opacity&&(n.style={opacity:1})),h.add(t,n,l,u))})},this),this._state="animating",h.done(Kx(function(){this._state="ready",a.renderFinally()},this)).start()}},_resetController:function(t){var e=this._controller;e||((e=this._controller=new zy(t.getZr())).enable(this.seriesModel.get("roam")),e.on("pan",Kx(this._onPan,this)),e.on("zoom",Kx(this._onZoom,this)));var n=new Di(0,0,t.getWidth(),t.getHeight());e.setPointerChecker(function(t,e,i){return n.contain(e,i)})},_clearController:function(){var t=this._controller;t&&(t.dispose(),t=null)},_onPan:function(t){if("animating"!==this._state&&(3<Math.abs(t.dx)||3<Math.abs(t.dy))){var e=this.seriesModel.getData().tree.root;if(!e)return;var i=e.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+t.dx,y:i.y+t.dy,width:i.width,height:i.height}})}},_onZoom:function(t){var e=t.originX,i=t.originY;if("animating"!==this._state){var n=this.seriesModel.getData().tree.root;if(!n)return;var o=n.getLayout();if(!o)return;var a=new Di(o.x,o.y,o.width,o.height),r=this.seriesModel.layoutInfo;e-=r.x,i-=r.y;var s=ae();ue(s,s,[-e,-i]),ce(s,s,[t.scale,t.scale]),ue(s,s,[e,i]),a.applyTransform(s),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x,y:a.y,width:a.width,height:a.height}})}},_initEvents:function(t){t.on("click",function(t){if("ready"===this._state){var e=this.seriesModel.get("nodeClick",!0);if(e){var i=this.findTarget(t.offsetX,t.offsetY);if(i){var n=i.node;if(n.getLayout().isLeafRoot)this._rootToNode(i);else if("zoomToNode"===e)this._zoomToNode(i);else if("link"===e){var o=n.hostTree.data.getItemModel(n.dataIndex),a=o.get("link",!0),r=o.get("target",!0)||"blank";a&&window.open(a,r)}}}}},this)},_renderBreadcrumb:function(e,t,i){i=i||((i=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2))||{node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new Yx(this.group))).render(e,t,i.node,Kx(function(t){"animating"!==this._state&&(Zx(e.getViewRoot(),t)?this._rootToNode({node:t}):this._zoomToNode({node:t}))},this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},_rootToNode:function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},findTarget:function(o,a){var r;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(t){var e=this._storage.background[t.getRawIndex()];if(e){var i=e.transformCoordToLocal(o,a),n=e.shape;if(!(n.x<=i[0]&&i[0]<=n.x+n.width&&n.y<=i[1]&&i[1]<=n.y+n.height))return!1;r={node:t,offsetX:i[0],offsetY:i[1]}}},this),r}});for(var s_=function(){},l_=["treemapZoomToNode","treemapRender","treemapMove"],u_=0;u_<l_.length;u_++)xf({type:l_[u_],update:"updateView"},s_);xf({type:"treemapRootToNode",update:"updateView"},function(o,t){t.eachComponent({mainType:"series",subType:"treemap",query:o},function(t,e){var i=Wx(o,["treemapZoomToNode","treemapRootToNode"],t);if(i){var n=t.getViewRoot();n&&(o.direction=Zx(n,i.node)?"rollUp":"drillDown"),t.resetViewRoot(i.node)}})});var h_=E,c_=z,d_=-1,f_=function(t){var e=t.mappingMethod,i=t.type,n=this.option=L(t);this.type=i,this.mappingMethod=e,this._normalizeData=M_[e];var o=p_[i];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._doMap=o._doMap[e],"piecewise"===e?(g_(n),function(i){var t=i.pieceList;i.hasSpecialVisual=!1,E(t,function(t,e){t.originIndex=e,null!=t.visual&&(i.hasSpecialVisual=!0)})}(n)):"category"===e?n.categories?function(t){var e=t.categories,i=t.visual,n=t.categoryMap={};if(h_(e,function(t,e){n[t]=e}),!O(i)){var o=[];z(i)?h_(i,function(t,e){var i=n[e];o[null!=i?i:d_]=t}):o[d_]=i,i=S_(t,o)}for(var a=e.length-1;0<=a;a--)null==i[a]&&(delete n[e[a]],e.pop())}(n):g_(n,!0):(Y("linear"!==e||n.dataExtent),g_(n))};f_.prototype={constructor:f_,mapValueToVisual:function(t){var e=this._normalizeData(t);return this._doMap(e,t)},getNormalizer:function(){return A(this._normalizeData,this)}};var p_=f_.visualHandlers={color:{applyVisual:y_("color"),getColorMapper:function(){var o=this.option;return A("category"===o.mappingMethod?function(t,e){return e||(t=this._normalizeData(t)),x_.call(this,t)}:function(t,e,i){var n=!!i;return e||(t=this._normalizeData(t)),i=Ue(t,o.parsedVisual,i),n?i:$e(i,"rgba")},this)},_doMap:{linear:function(t){return $e(Ue(t,this.option.parsedVisual),"rgba")},category:x_,piecewise:function(t,e){var i=b_.call(this,e);return null==i&&(i=$e(Ue(t,this.option.parsedVisual),"rgba")),i},fixed:__}},colorHue:m_(function(t,e){return qe(t,e)}),colorSaturation:m_(function(t,e){return qe(t,null,e)}),colorLightness:m_(function(t,e){return qe(t,null,null,e)}),colorAlpha:m_(function(t,e){return Ke(t,e)}),opacity:{applyVisual:y_("opacity"),_doMap:w_([0,1])},liftZ:{applyVisual:y_("liftZ"),_doMap:{linear:__,category:__,piecewise:__,fixed:__}},symbol:{applyVisual:function(t,e,i){var n=this.mapValueToVisual(t);if(R(n))i("symbol",n);else if(c_(n))for(var o in n)n.hasOwnProperty(o)&&i(o,n[o])},_doMap:{linear:v_,category:x_,piecewise:function(t,e){var i=b_.call(this,e);return null==i&&(i=v_.call(this,t)),i},fixed:__}},symbolSize:{applyVisual:y_("symbolSize"),_doMap:w_([0,1])}};function g_(t,e){var i=t.visual,n=[];z(i)?h_(i,function(t){n.push(t)}):null!=i&&n.push(i);e||1!==n.length||{color:1,symbol:1}.hasOwnProperty(t.type)||(n[1]=n[0]),S_(t,n)}function m_(n){return{applyVisual:function(t,e,i){t=this.mapValueToVisual(t),i("color",n(e("color"),t))},_doMap:w_([0,1])}}function v_(t){var e=this.option.visual;return e[Math.round(El(t,[0,1],[0,e.length-1],!0))]||{}}function y_(n){return function(t,e,i){i(n,this.mapValueToVisual(t))}}function x_(t){var e=this.option.visual;return e[this.option.loop&&t!==d_?t%e.length:t]}function __(){return this.option.visual[0]}function w_(n){return{linear:function(t){return El(t,n,this.option.visual,!0)},category:x_,piecewise:function(t,e){var i=b_.call(this,e);return null==i&&(i=El(t,n,this.option.visual,!0)),i},fixed:__}}function b_(t){var e=this.option,i=e.pieceList;if(e.hasSpecialVisual){var n=i[f_.findPieceIndex(t,i)];if(n&&n.visual)return n.visual[this.type]}}function S_(t,e){return t.visual=e,"color"===t.type&&(t.parsedVisual=N(e,function(t){return Fe(t)})),e}var M_={linear:function(t){return El(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,i=f_.findPieceIndex(t,e,!0);if(null!=i)return El(i,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?d_:e},fixed:et};function I_(t,e,i){return t?e<=i:e<i}f_.listVisualTypes=function(){var i=[];return E(p_,function(t,e){i.push(e)}),i},f_.addVisualHandler=function(t,e){p_[t]=e},f_.isValidType=function(t){return p_.hasOwnProperty(t)},f_.eachVisual=function(t,e,i){z(t)?E(t,e,i):e.call(i,t)},f_.mapVisual=function(t,n,o){var a,r=O(t)?[]:z(t)?{}:(a=!0,null);return f_.eachVisual(t,function(t,e){var i=n.call(o,t,e);a?r=i:r[e]=i}),r},f_.retrieveVisuals=function(i){var n,o={};return i&&h_(p_,function(t,e){i.hasOwnProperty(e)&&(o[e]=i[e],n=!0)}),n?o:null},f_.prepareVisualTypes=function(t){if(c_(t)){var i=[];h_(t,function(t,e){i.push(e)}),t=i}else{if(!O(t))return[];t=t.slice()}return t.sort(function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1}),t},f_.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},f_.findPieceIndex=function(n,t,e){for(var o,a=1/0,i=0,r=t.length;i<r;i++){var s=t[i].value;if(null!=s){if(s===n||"string"==typeof s&&s===n+"")return i;e&&c(s,i)}}for(i=0,r=t.length;i<r;i++){var l=t[i],u=l.interval,h=l.close;if(u){if(u[0]===-1/0){if(I_(h[1],n,u[1]))return i}else if(u[1]===1/0){if(I_(h[0],u[0],n))return i}else if(I_(h[0],u[0],n)&&I_(h[1],n,u[1]))return i;e&&c(u[0],i),e&&c(u[1],i)}}if(e)return n===1/0?t.length-1:n===-1/0?0:o;function c(t,e){var i=Math.abs(t-n);i<a&&(a=i,o=e)}};var T_=O,A_="itemStyle",D_={seriesType:"treemap",reset:function(t,e,i,n){var o=t.getData().tree,a=o.root,r=t.getModel(A_);a.isRemoved()||!function n(t,e,o,a,r,s){var l=t.getModel();var i=t.getLayout();if(!i||i.invisible||!i.isInView)return;var u=t.getModel(A_);var h=o[t.depth];var c=C_(u,e,h,a);var d=u.get("borderColor");var f=u.get("borderColorSaturation");var p;null!=f&&(p=L_(c),g=f,d=null!=(m=p)?qe(m,null,null,g):null);var g,m;t.setVisual("borderColor",d);var v=t.viewChildren;if(v&&v.length){var y=P_(t,l,i,u,c,v);E(v,function(t,e){if(t.depth>=r.length||t===r[t.depth]){var i=O_(l,c,t,e,y,s);n(t,i,o,a,r,s)}})}else p=L_(c),t.setVisual("color",p)}(a,{},N(o.levelModels,function(t){return t?t.get(A_):null}),r,t.getViewRoot().getAncestors(),t)}};function C_(i,n,o,a){var r=k({},n);return E(["color","colorAlpha","colorSaturation"],function(t){var e=i.get(t,!0);null==e&&o&&(e=o[t]),null==e&&(e=n[t]),null==e&&(e=a.get(t)),null!=e&&(r[t]=e)}),r}function L_(t){var e=k_(t,"color");if(e){var i=k_(t,"colorAlpha"),n=k_(t,"colorSaturation");return n&&(e=qe(e,null,null,n)),i&&(e=Ke(e,i)),e}}function k_(t,e){var i=t[e];if(null!=i&&"none"!==i)return i}function P_(t,e,i,n,o,a){if(a&&a.length){var r=N_(e,"color")||null!=o.color&&"none"!==o.color&&(N_(e,"colorAlpha")||N_(e,"colorSaturation"));if(r){var s=e.get("visualMin"),l=e.get("visualMax"),u=i.dataExtent.slice();null!=s&&s<u[0]&&(u[0]=s),null!=l&&l>u[1]&&(u[1]=l);var h=e.get("colorMappingBy"),c={type:r.name,dataExtent:u,visual:r.range};"color"!==c.type||"index"!==h&&"id"!==h?c.mappingMethod="linear":(c.mappingMethod="category",c.loop=!0);var d=new f_(c);return d.__drColorMappingBy=h,d}}}function N_(t,e){var i=t.get(e);return T_(i)&&i.length?{name:e,range:i}:null}function O_(t,e,i,n,o,a){var r=k({},e);if(o){var s=o.type,l="color"===s&&o.__drColorMappingBy,u="index"===l?n:"id"===l?a.mapIdToIndex(i.getId()):i.getValue(t.get("visualDimension"));r[s]=o.mapValueToVisual(u)}return r}var E_=Math.max,R_=Math.min,z_=W,B_=E,V_=["itemStyle","borderWidth"],G_=["itemStyle","gapWidth"],F_=["upperLabel","show"],W_=["upperLabel","height"],H_={seriesType:"treemap",reset:function(t,e,i,n){var o=i.getWidth(),a=i.getHeight(),r=t.option,s=wu(t.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()}),l=r.size||[],u=Rl(z_(s.width,l[0]),o),h=Rl(z_(s.height,l[1]),a),c=n&&n.type,d=Wx(n,["treemapZoomToNode","treemapRootToNode"],t),f="treemapRender"===c||"treemapMove"===c?n.rootRect:null,p=t.getViewRoot(),g=Hx(p);if("treemapMove"!==c){var m="treemapZoomToNode"===c?function(t,e,i,n,o){var a,r=(e||{}).node,s=[n,o];if(!r||r===i)return s;var l=n*o,u=l*t.option.zoomToNodeRatio;for(;a=r.parentNode;){for(var h=0,c=a.children,d=0,f=c.length;d<f;d++)h+=c[d].getValue();var p=r.getValue();if(0===p)return s;u*=h/p;var g=a.getModel(),m=g.get(V_),v=Math.max(m,Y_(g));u+=4*m*m+(3*m+v)*Math.pow(u,.5),Hl<u&&(u=Hl),r=a}u<l&&(u=l);var y=Math.pow(u/l,.5);return[n*y,o*y]}(t,d,p,u,h):f?[f.width,f.height]:[u,h],v=r.sort;v&&"asc"!==v&&"desc"!==v&&(v="desc");var y={squareRatio:r.squareRatio,sort:v,leafDepth:r.leafDepth};p.hostTree.clearLayouts();var x={x:0,y:0,width:m[0],height:m[1],area:m[0]*m[1]};p.setLayout(x),function t(e,i,n,o){var a;var r;if(e.isRemoved())return;var s=e.getLayout();a=s.width;r=s.height;var l=e.getModel();var u=l.get(V_);var h=l.get(G_)/2;var c=Y_(l);var d=Math.max(u,c);var f=u-h;var p=d-h;var l=e.getModel();e.setLayout({borderWidth:u,upperHeight:d,upperLabelHeight:c},!0);a=E_(a-2*f,0);r=E_(r-f-p,0);var g=a*r;var m=Z_(e,l,g,i,n,o);if(!m.length)return;var v={x:f,y:p,width:a,height:r};var y=R_(a,r);var x=1/0;var _=[];_.area=0;for(var w=0,b=m.length;w<b;){var S=m[w];_.push(S),_.area+=S.getLayout().area;var M=U_(_,y,i.squareRatio);x=M<=x?(w++,M):(_.area-=_.pop().getLayout().area,X_(_,y,v,h,!1),y=R_(v.width,v.height),_.length=_.area=0,1/0)}_.length&&X_(_,y,v,h,!0);if(!n){var I=l.get("childrenVisibleMin");null!=I&&g<I&&(n=!0)}for(var w=0,b=m.length;w<b;w++)t(m[w],i,n,o+1)}(p,y,!1,0);x=p.getLayout();B_(g,function(t,e){var i=(g[e+1]||p).getValue();t.setLayout(k({dataExtent:[i,i],borderWidth:0,upperHeight:0},x))})}var _=t.getData().tree.root;_.setLayout(function(t,e,i){if(e)return{x:e.x,y:e.y};var n={x:0,y:0};if(!i)return n;var o=i.node,a=o.getLayout();if(!a)return n;var r=[a.width/2,a.height/2],s=o;for(;s;){var l=s.getLayout();r[0]+=l.x,r[1]+=l.y,s=s.parentNode}return{x:t.width/2-r[0],y:t.height/2-r[1]}}(s,f,d),!0),t.setLayoutInfo(s),function e(t,i,n,o,a){var r=t.getLayout();var s=n[a];var l=s&&s===t;if(s&&!l||a===n.length&&t!==o)return;t.setLayout({isInView:!0,invisible:!l&&!i.intersect(r),isAboveViewRoot:l},!0);var u=new Di(i.x-r.x,i.y-r.y,i.width,i.height);B_(t.viewChildren||[],function(t){e(t,u,n,o,a+1)})}(_,new Di(-s.x,-s.y,o,a),g,p,0)}};function Z_(t,e,i,n,o,a){var r=t.children||[],s=n.sort;"asc"!==s&&"desc"!==s&&(s=null);var l=null!=n.leafDepth&&n.leafDepth<=a;if(o&&!l)return t.viewChildren=[];!function(t,n){n&&t.sort(function(t,e){var i="asc"===n?t.getValue()-e.getValue():e.getValue()-t.getValue();return 0==i?"asc"===n?t.dataIndex-e.dataIndex:e.dataIndex-t.dataIndex:i})}(r=M(r,function(t){return!t.isRemoved()}),s);var u=function(t,e,i){for(var n=0,o=0,a=e.length;o<a;o++)n+=e[o].getValue();var r=t.get("visualDimension");if(e&&e.length)if("value"===r&&i)s=[e[e.length-1].getValue(),e[0].getValue()],"asc"===i&&s.reverse();else{var s=[1/0,-1/0];B_(e,function(t){var e=t.getValue(r);e<s[0]&&(s[0]=e),e>s[1]&&(s[1]=e)})}else s=[NaN,NaN];return{sum:n,dataExtent:s}}(e,r,s);if(0===u.sum)return t.viewChildren=[];if(u.sum=function(t,e,i,n,o){if(!n)return i;for(var a=t.get("visibleMin"),r=o.length,s=r,l=r-1;0<=l;l--){var u=o["asc"===n?r-l-1:l].getValue();u/i*e<a&&(s=l,i-=u)}return"asc"===n?o.splice(0,r-s):o.splice(s,r-s),i}(e,i,u.sum,s,r),0===u.sum)return t.viewChildren=[];for(var h=0,c=r.length;h<c;h++){var d=r[h].getValue()/u.sum*i;r[h].setLayout({area:d})}return l&&(r.length&&t.setLayout({isLeafRoot:!0},!0),r.length=0),t.viewChildren=r,t.setLayout({dataExtent:u.dataExtent},!0),r}function U_(t,e,i){for(var n,o=0,a=1/0,r=0,s=t.length;r<s;r++)(n=t[r].getLayout().area)&&(n<a&&(a=n),o<n&&(o=n));var l=t.area*t.area,u=e*e*i;return l?E_(u*o/l,l/(u*a)):1/0}function X_(t,e,i,n,o){var a=e===i.width?0:1,r=1-a,s=["x","y"],l=["width","height"],u=i[s[a]],h=e?t.area/e:0;(o||h>i[l[r]])&&(h=i[l[r]]);for(var c=0,d=t.length;c<d;c++){var f=t[c],p={},g=h?f.getLayout().area/h:0,m=p[l[r]]=E_(h-2*n,0),v=i[s[a]]+i[l[a]]-u,y=c===d-1||v<g?v:g,x=p[l[a]]=E_(y-2*n,0);p[s[r]]=i[s[r]]+R_(n,m/2),p[s[a]]=u+R_(n,x/2),u+=y,f.setLayout(p,!0)}i[s[r]]+=h,i[l[r]]-=h}function Y_(t){return t.get(F_)?t.get(W_):0}function j_(t){return"_EC_"+t}bf(D_),wf(H_);function q_(t){this._directed=t||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData}var K_=q_.prototype;function $_(t,e){this.id=null==t?"":t,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==e?-1:e}function J_(t,e,i){this.node1=t,this.node2=e,this.dataIndex=null==i?-1:i}K_.type="graph",K_.isDirected=function(){return this._directed},K_.addNode=function(t,e){t=null==t?""+e:""+t;var i=this._nodesMap;if(!i[j_(t)]){var n=new $_(t,e);return(n.hostGraph=this).nodes.push(n),i[j_(t)]=n}},K_.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},K_.getNodeById=function(t){return this._nodesMap[j_(t)]},K_.addEdge=function(t,e,i){var n=this._nodesMap,o=this._edgesMap;if("number"==typeof t&&(t=this.nodes[t]),"number"==typeof e&&(e=this.nodes[e]),$_.isInstance(t)||(t=n[j_(t)]),$_.isInstance(e)||(e=n[j_(e)]),t&&e){var a=t.id+"-"+e.id;if(!o[a]){var r=new J_(t,e,i);return(r.hostGraph=this)._directed&&(t.outEdges.push(r),e.inEdges.push(r)),t.edges.push(r),t!==e&&e.edges.push(r),this.edges.push(r),o[a]=r}}},K_.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},K_.getEdge=function(t,e){$_.isInstance(t)&&(t=t.id),$_.isInstance(e)&&(e=e.id);var i=this._edgesMap;return this._directed?i[t+"-"+e]:i[t+"-"+e]||i[e+"-"+t]},K_.eachNode=function(t,e){for(var i=this.nodes,n=i.length,o=0;o<n;o++)0<=i[o].dataIndex&&t.call(e,i[o],o)},K_.eachEdge=function(t,e){for(var i=this.edges,n=i.length,o=0;o<n;o++)0<=i[o].dataIndex&&0<=i[o].node1.dataIndex&&0<=i[o].node2.dataIndex&&t.call(e,i[o],o)},K_.breadthFirstTraverse=function(t,e,i,n){if($_.isInstance(e)||(e=this._nodesMap[j_(e)]),e){for(var o="out"===i?"outEdges":"in"===i?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!t.call(n,e,null))for(var r=[e];r.length;){var s=r.shift(),l=s[o];for(a=0;a<l.length;a++){var u=l[a],h=u.node1===s?u.node2:u.node1;if(!h.__visited){if(t.call(n,h,s))return;r.push(h),h.__visited=!0}}}}},K_.update=function(){for(var t=this.data,i=this.edgeData,e=this.nodes,n=this.edges,o=0,a=e.length;o<a;o++)e[o].dataIndex=-1;for(o=0,a=t.count();o<a;o++)e[t.getRawIndex(o)].dataIndex=o;i.filterSelf(function(t){var e=n[i.getRawIndex(t)];return 0<=e.node1.dataIndex&&0<=e.node2.dataIndex});for(o=0,a=n.length;o<a;o++)n[o].dataIndex=-1;for(o=0,a=i.count();o<a;o++)n[i.getRawIndex(o)].dataIndex=o},K_.clone=function(){for(var t=new q_(this._directed),e=this.nodes,i=this.edges,n=0;n<e.length;n++)t.addNode(e[n].id,e[n].dataIndex);for(n=0;n<i.length;n++){var o=i[n];t.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return t},$_.prototype={constructor:$_,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)}},J_.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)};function Q_(i,n){return{getValue:function(t){var e=this[i][n];return e.get(e.getDimension(t||"value"),this.dataIndex)},setVisual:function(t,e){0<=this.dataIndex&&this[i][n].setItemVisual(this.dataIndex,t,e)},getVisual:function(t,e){return this[i][n].getItemVisual(this.dataIndex,t,e)},setLayout:function(t,e){0<=this.dataIndex&&this[i][n].setItemLayout(this.dataIndex,t,e)},getLayout:function(){return this[i][n].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[i][n].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[i][n].getRawIndex(this.dataIndex)}}}b($_,Q_("hostGraph","data")),b(J_,Q_("hostGraph","edgeData")),q_.Node=$_,q_.Edge=J_,ra($_),ra(J_);function tw(t,e,i,n,o){for(var a=new q_(n),r=0;r<t.length;r++)a.addNode(W(t[r].id,t[r].name,r),r);var s=[],l=[],u=0;for(r=0;r<e.length;r++){var h=e[r],c=h.source,d=h.target;a.addEdge(c,d,u)&&(l.push(h),s.push(W(h.id,c+" > "+d)),u++)}var f,p=i.get("coordinateSystem");if("cartesian2d"===p||"polar"===p)f=pp(t,i);else{var g=sh.get(p),m=g&&"view"!==g.type&&g.dimensions||[];_(m,"value")<0&&m.concat(["value"]);var v=sp(t,{coordDimensions:m});(f=new Xf(v,i)).initData(t)}var y=new Xf(["value"],i);return y.initData(l,s),o&&o(f,y),mx({mainData:f,struct:a,structAttr:"graph",datas:{node:f,edge:y},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var ew=Af({type:"series.graph",init:function(t){ew.superApply(this,"init",arguments);var e=this;function i(){return e._categoriesData}this.legendVisualProvider=new Yv(i,i),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeOption:function(t){ew.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(t){ew.superApply(this,"mergeDefaultAndTheme",arguments),Go(t,["edgeLabel"],["show"])},getInitialData:function(t,s){var e=t.edges||t.links||[],i=t.data||t.nodes||[],l=this;if(i&&e)return tw(i,e,this,!0,function(t,e){t.wrapMethod("getItemModel",function(t){var e=l._categoriesModels[t.getShallow("category")];return e&&(e.parentModel=t.parentModel,t.parentModel=e),t});var i=l.getModel("edgeLabel"),n=new Cl({label:i.option},i.parentModel,s),o=l.getModel("emphasis.edgeLabel"),a=new Cl({emphasis:{label:o.option}},o.parentModel,s);function r(t){return(t=this.parsePath(t))&&"label"===t[0]?n:t&&"emphasis"===t[0]&&"label"===t[1]?a:this.parentModel}e.wrapMethod("getItemModel",function(t){return t.customizeGetParent(r),t})}).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(t,e,i){if("edge"!==i)return ew.superApply(this,"formatTooltip",arguments);var n=this.getData(),o=this.getDataParams(t,i),a=n.graph.getEdgeByIndex(t),r=n.getName(a.node1.dataIndex),s=n.getName(a.node2.dataIndex),l=[];return null!=r&&l.push(r),null!=s&&l.push(s),l=au(l.join(" > ")),o.value&&(l+=" : "+au(o.value)),l},_updateCategoriesData:function(){var t=N(this.option.categories||[],function(t){return null!=t.value?t:k({value:0},t)}),e=new Xf(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray(function(t){return e.getItemModel(t,!0)})},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},isAnimationEnabled:function(){return ew.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{label:{show:!0}}}}),iw=ls.prototype,nw=ds.prototype;function ow(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var aw=Cs({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(t,e){this[ow(e)?"_buildPathLine":"_buildPathCurve"](t,e)},_buildPathLine:iw.buildPath,_buildPathCurve:nw.buildPath,pointAt:function(t){return this[ow(this.shape)?"_pointAtLine":"_pointAtCurve"](t)},_pointAtLine:iw.pointAt,_pointAtCurve:nw.pointAt,tangentAt:function(t){var e=this.shape,i=ow(e)?[e.x2-e.x1,e.y2-e.y1]:this._tangentAtCurve(t);return mt(i,i)},_tangentAtCurve:nw.tangentAt}),rw=["fromSymbol","toSymbol"];function sw(t){return"_"+t+"Type"}function lw(t,e,i){var n=e.getItemVisual(i,"color"),o=e.getItemVisual(i,t),a=e.getItemVisual(i,t+"Size");if(o&&"none"!==o){O(a)||(a=[a,a]);var r=_g(o,-a[0]/2,-a[1]/2,a[0],a[1],n);return r.name=t,r}}function uw(t,e){t.x1=e[0][0],t.y1=e[0][1],t.x2=e[1][0],t.y2=e[1][1],t.percent=1;var i=e[2];i?(t.cpx1=i[0],t.cpy1=i[1]):(t.cpx1=NaN,t.cpy1=NaN)}function hw(t,e,i){Ci.call(this),this._createLine(t,e,i)}var cw=hw.prototype;function dw(t){this._ctor=t||hw,this.group=new Ci}cw.beforeUpdate=function(){var t=this.childOfName("fromSymbol"),e=this.childOfName("toSymbol"),i=this.childOfName("label");if(t||e||!i.ignore){for(var n=1,o=this.parent;o;)o.scale&&(n/=o.scale[0]),o=o.parent;var a=this.childOfName("line");if(this.__dirty||a.__dirty){var r=a.shape.percent,s=a.pointAt(0),l=a.pointAt(r),u=ht([],l,s);if(mt(u,u),t){t.attr("position",s);var h=a.tangentAt(0);t.attr("rotation",Math.PI/2-Math.atan2(h[1],h[0])),t.attr("scale",[n*r,n*r])}if(e){e.attr("position",l);h=a.tangentAt(1);e.attr("rotation",-Math.PI/2-Math.atan2(h[1],h[0])),e.attr("scale",[n*r,n*r])}if(!i.ignore){var c,d,f,p;i.attr("position",l);var g=i.__labelDistance,m=g[0]*n,v=g[1]*n,y=r/2,x=[(h=a.tangentAt(y))[1],-h[0]],_=a.pointAt(y);0<x[1]&&(x[0]=-x[0],x[1]=-x[1]);var w,b=h[0]<0?-1:1;if("start"!==i.__position&&"end"!==i.__position){var S=-Math.atan2(h[1],h[0]);l[0]<s[0]&&(S=Math.PI+S),i.attr("rotation",S)}switch(i.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":w=-v,f="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":w=v,f="top";break;default:w=0,f="middle"}switch(i.__position){case"end":c=[u[0]*m+l[0],u[1]*v+l[1]],d=.8<u[0]?"left":u[0]<-.8?"right":"center",f=.8<u[1]?"top":u[1]<-.8?"bottom":"middle";break;case"start":c=[-u[0]*m+s[0],-u[1]*v+s[1]],d=.8<u[0]?"right":u[0]<-.8?"left":"center",f=.8<u[1]?"bottom":u[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":c=[m*b+s[0],s[1]+w],d=h[0]<0?"right":"left",p=[-m*b,-w];break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":c=[_[0],_[1]+w],d="center",p=[0,-w];break;case"insideEndTop":case"insideEnd":case"insideEndBottom":c=[-m*b+l[0],l[1]+w],d=0<=h[0]?"right":"left",p=[m*b,-w]}i.attr({style:{textVerticalAlign:i.__verticalAlign||f,textAlign:i.__textAlign||d},position:c,scale:[n,n],origin:p})}}}},cw._createLine=function(i,n,t){var e=i.hostModel,o=function(t){var e=new aw({name:"line",subPixelOptimize:!0});return uw(e.shape,t),e}(i.getItemLayout(n));o.shape.percent=0,dl(o,{shape:{percent:1}},e,n),this.add(o);var a=new Ur({name:"label",lineLabelOriginalOpacity:1});this.add(a),E(rw,function(t){var e=lw(t,i,n);this.add(e),this[sw(t)]=i.getItemVisual(n,t)},this),this._updateCommonStl(i,n,t)},cw.updateData=function(o,a,t){var e=o.hostModel,i=this.childOfName("line"),n=o.getItemLayout(a),r={shape:{}};uw(r.shape,n),cl(i,r,e,a),E(rw,function(t){var e=o.getItemVisual(a,t),i=sw(t);if(this[i]!==e){this.remove(this.childOfName(t));var n=lw(t,o,a);this.add(n)}this[i]=e},this),this._updateCommonStl(o,a,t)},cw._updateCommonStl=function(t,e,i){var n=t.hostModel,o=this.childOfName("line"),a=i&&i.lineStyle,r=i&&i.hoverLineStyle,s=i&&i.labelModel,l=i&&i.hoverLabelModel;if(!i||t.hasItemOption){var u=t.getItemModel(e);a=u.getModel("lineStyle").getLineStyle(),r=u.getModel("emphasis.lineStyle").getLineStyle(),s=u.getModel("label"),l=u.getModel("emphasis.label")}var h=t.getItemVisual(e,"color"),c=Z(t.getItemVisual(e,"opacity"),a.opacity,1);o.useStyle(D({strokeNoScale:!0,fill:"none",stroke:h,opacity:c},a)),o.hoverStyle=r,E(rw,function(t){var e=this.childOfName(t);e&&(e.setColor(h),e.setStyle({opacity:c}))},this);var d,f,p=s.getShallow("show"),g=l.getShallow("show"),m=this.childOfName("label");if((p||g)&&(d=h||"#000",null==(f=n.getFormattedLabel(e,"normal",t.dataType)))){var v=n.getRawValue(e);f=null==v?t.getName(e):isFinite(v)?zl(v):v}var y=p?f:null,x=g?H(n.getFormattedLabel(e,"emphasis",t.dataType),f):null,_=m.style;if(null!=y||null!=x){nl(m.style,s,{text:y},{autoColor:d}),m.__textAlign=_.textAlign,m.__verticalAlign=_.textVerticalAlign,m.__position=s.get("position")||"middle";var w=s.get("distance");O(w)||(w=[w,w]),m.__labelDistance=w}m.hoverStyle=null!=x?{text:x,textFill:l.getTextColor(!0),fontStyle:l.getShallow("fontStyle"),fontWeight:l.getShallow("fontWeight"),fontSize:l.getShallow("fontSize"),fontFamily:l.getShallow("fontFamily")}:{text:null},m.ignore=!p&&!g,$s(this)},cw.highlight=function(){this.trigger("emphasis")},cw.downplay=function(){this.trigger("normal")},cw.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},cw.setLinePoints=function(t){var e=this.childOfName("line");uw(e.shape,t),e.dirty()},w(hw,Ci);var fw=dw.prototype;function pw(t){var e=t.hostModel;return{lineStyle:e.getModel("lineStyle").getLineStyle(),hoverLineStyle:e.getModel("emphasis.lineStyle").getLineStyle(),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label")}}function gw(t){return isNaN(t[0])||isNaN(t[1])}function mw(t){return!gw(t[0])&&!gw(t[1])}function vw(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var i=t.option.nodeScaleRatio,n=e.scale,o=n&&n[0]||1;return((e.getZoom()-1)*i+1)/o}function yw(t){var e=t.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}fw.isPersistent=function(){return!0},fw.updateData=function(i){var n=this,e=n.group,o=n._lineData;n._lineData=i,o||e.removeAll();var a=pw(i);i.diff(o).add(function(t){!function(t,e,i,n){if(!mw(e.getItemLayout(i)))return;var o=new t._ctor(e,i,n);e.setItemGraphicEl(i,o),t.group.add(o)}(n,i,t,a)}).update(function(t,e){!function(t,e,i,n,o,a){var r=e.getItemGraphicEl(n);if(!mw(i.getItemLayout(o)))return t.group.remove(r);r?r.updateData(i,o,a):r=new t._ctor(i,o,a);i.setItemGraphicEl(o,r),t.group.add(r)}(n,o,i,e,t,a)}).remove(function(t){e.remove(o.getItemGraphicEl(t))}).execute()},fw.updateLayout=function(){var i=this._lineData;i&&i.eachItemGraphicEl(function(t,e){t.updateLayout(i,e)},this)},fw.incrementalPrepareUpdate=function(t){this._seriesScope=pw(t),this._lineData=null,this.group.removeAll()},fw.incrementalUpdate=function(t,e){function i(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}for(var n=t.start;n<t.end;n++){if(mw(e.getItemLayout(n))){var o=new this._ctor(e,n,this._seriesScope);o.traverse(i),this.group.add(o),e.setItemGraphicEl(n,o)}}},fw.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},fw._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var xw=[],_w=[],ww=[],bw=La,Sw=_t,Mw=Math.abs;function Iw(t,e,i){for(var n,o=t[0],a=t[1],r=t[2],s=1/0,l=i*i,u=.1,h=.1;h<=.9;h+=.1){xw[0]=bw(o[0],a[0],r[0],h),xw[1]=bw(o[1],a[1],r[1],h),(f=Mw(Sw(xw,e)-l))<s&&(s=f,n=h)}for(var c=0;c<32;c++){var d=n+u;_w[0]=bw(o[0],a[0],r[0],n),_w[1]=bw(o[1],a[1],r[1],n),ww[0]=bw(o[0],a[0],r[0],d),ww[1]=bw(o[1],a[1],r[1],d);var f=Sw(_w,e)-l;if(Mw(f)<.01)break;var p=Sw(ww,e)-l;u/=2,f<0?0<=p?n+=u:n-=u:0<=p?n-=u:n+=u}return n}function Tw(t,l){var u=[],h=Na,c=[[],[],[]],d=[[],[]],f=[];l/=2,t.eachEdge(function(t,e){var i=t.getLayout(),n=t.getVisual("fromSymbol"),o=t.getVisual("toSymbol");i.__original||(i.__original=[rt(i[0]),rt(i[1])],i[2]&&i.__original.push(rt(i[2])));var a=i.__original;if(null!=i[2]){if(at(c[0],a[0]),at(c[1],a[2]),at(c[2],a[1]),n&&"none"!==n){var r=yw(t.node1),s=Iw(c,a[0],r*l);h(c[0][0],c[1][0],c[2][0],s,u),c[0][0]=u[3],c[1][0]=u[4],h(c[0][1],c[1][1],c[2][1],s,u),c[0][1]=u[3],c[1][1]=u[4]}if(o&&"none"!==o){r=yw(t.node2),s=Iw(c,a[1],r*l);h(c[0][0],c[1][0],c[2][0],s,u),c[1][0]=u[1],c[2][0]=u[2],h(c[0][1],c[1][1],c[2][1],s,u),c[1][1]=u[1],c[2][1]=u[2]}at(i[0],c[0]),at(i[1],c[2]),at(i[2],c[1])}else{if(at(d[0],a[0]),at(d[1],a[1]),ht(f,d[1],d[0]),mt(f,f),n&&"none"!==n){r=yw(t.node1);ut(d[0],d[0],f,r*l)}if(o&&"none"!==o){r=yw(t.node2);ut(d[1],d[1],f,-r*l)}at(i[0],d[0]),at(i[1],d[1])}})}var Aw="__focusNodeAdjacency",Dw="__unfocusNodeAdjacency",Cw=["itemStyle","opacity"],Lw=["lineStyle","opacity"];function kw(t,e){var i=t.getVisual("opacity");return null!=i?i:t.getModel().get(e)}function Pw(t,e,i){var n=t.getGraphicEl(),o=kw(t,e);null!=i&&(null==o&&(o=1),o*=i),n.downplay&&n.downplay(),n.traverse(function(t){if(!t.isGroup){var e=t.lineLabelOriginalOpacity;null!=e&&null==i||(e=o),t.setStyle("opacity",e)}})}function Nw(t,e){var i=kw(t,e),n=t.getGraphicEl();n.traverse(function(t){t.isGroup||t.setStyle("opacity",i)}),n.highlight&&n.highlight()}Df({type:"graph",init:function(t,e){var i=new em,n=new dw,o=this.group;this._controller=new zy(e.getZr()),this._controllerHost={target:o},o.add(i.group),o.add(n.group),this._symbolDraw=i,this._lineDraw=n,this._firstRender=!0},render:function(o,t,a){var r=this,e=o.coordinateSystem;this._model=o;var i=this._symbolDraw,n=this._lineDraw,s=this.group;if("view"===e.type){var l={position:e.position,scale:e.scale};this._firstRender?s.attr(l):cl(s,l,o)}Tw(o.getGraph(),vw(o));var u=o.getData();i.updateData(u);var h=o.getEdgeData();n.updateData(h),this._updateNodeAndLinkScale(),this._updateController(o,t,a),clearTimeout(this._layoutTimeout);var c=o.forceLayout,d=o.get("force.layoutAnimation");c&&this._startForceLayoutIteration(c,d),u.eachItemGraphicEl(function(t,e){var i=u.getItemModel(e);t.off("drag").off("dragend");var n=i.get("draggable");n&&t.on("drag",function(){c&&(c.warmUp(),this._layouting||this._startForceLayoutIteration(c,d),c.setFixed(e),u.setItemLayout(e,t.position))},this).on("dragend",function(){c&&c.setUnfixed(e)},this),t.setDraggable(n&&c),t[Aw]&&t.off("mouseover",t[Aw]),t[Dw]&&t.off("mouseout",t[Dw]),i.get("focusNodeAdjacency")&&(t.on("mouseover",t[Aw]=function(){r._clearTimer(),a.dispatchAction({type:"focusNodeAdjacency",seriesId:o.id,dataIndex:t.dataIndex})}),t.on("mouseout",t[Dw]=function(){r._dispatchUnfocus(a)}))},this),u.graph.eachEdge(function(t){var e=t.getGraphicEl();e[Aw]&&e.off("mouseover",e[Aw]),e[Dw]&&e.off("mouseout",e[Dw]),t.getModel().get("focusNodeAdjacency")&&(e.on("mouseover",e[Aw]=function(){r._clearTimer(),a.dispatchAction({type:"focusNodeAdjacency",seriesId:o.id,edgeDataIndex:t.dataIndex})}),e.on("mouseout",e[Dw]=function(){r._dispatchUnfocus(a)}))});var f="circular"===o.get("layout")&&o.get("circular.rotateLabel"),p=u.getLayout("cx"),g=u.getLayout("cy");u.eachItemGraphicEl(function(t,e){var i=u.getItemModel(e).get("label.rotate")||0,n=t.getSymbolPath();if(f){var o=u.getItemLayout(e),a=Math.atan2(o[1]-g,o[0]-p);a<0&&(a=2*Math.PI+a);var r=o[0]<p;r&&(a-=Math.PI);var s=r?"left":"right";il(n,{textRotation:-a,textPosition:s,textOrigin:"center"},{textPosition:s})}else il(n,{textRotation:i*=Math.PI/180})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={},this._clearTimer()},_dispatchUnfocus:function(t,e){var i=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout(function(){i._unfocusDelayTimer=null,t.dispatchAction({type:"unfocusNodeAdjacency",seriesId:i._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(t,e,i,n){var o=t.getData().graph,a=n.dataIndex,r=n.edgeDataIndex,s=o.getNodeByIndex(a),l=o.getEdgeByIndex(r);(s||l)&&(o.eachNode(function(t){Pw(t,Cw,.1)}),o.eachEdge(function(t){Pw(t,Lw,.1)}),s&&(Nw(s,Cw),E(s.edges,function(t){t.dataIndex<0||(Nw(t,Lw),Nw(t.node1,Cw),Nw(t.node2,Cw))})),l&&(Nw(l,Lw),Nw(l.node1,Cw),Nw(l.node2,Cw)))},unfocusNodeAdjacency:function(t,e,i,n){var o=t.getData().graph;o.eachNode(function(t){Pw(t,Cw)}),o.eachEdge(function(t){Pw(t,Lw)})},_startForceLayoutIteration:function(t,i){var n=this;!function e(){t.step(function(t){n.updateLayout(n._model),(n._layouting=!t)&&(i?n._layoutTimeout=setTimeout(e,16):e())})}()},_updateController:function(o,t,a){var e=this._controller,i=this._controllerHost,r=this.group;e.setPointerChecker(function(t,e,i){var n=r.getBoundingRect();return n.applyTransform(r.transform),n.contain(e,i)&&!qy(t,a,o)}),"view"===o.coordinateSystem.type?(e.enable(o.get("roam")),i.zoomLimit=o.get("scaleLimit"),i.zoom=o.coordinateSystem.getZoom(),e.off("pan").off("zoom").on("pan",function(t){Xy(i,t.dx,t.dy),a.dispatchAction({seriesId:o.id,type:"graphRoam",dx:t.dx,dy:t.dy})}).on("zoom",function(t){Yy(i,t.scale,t.originX,t.originY),a.dispatchAction({seriesId:o.id,type:"graphRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),this._updateNodeAndLinkScale(),Tw(o.getGraph(),vw(o)),this._lineDraw.updateLayout()},this)):e.disable()},_updateNodeAndLinkScale:function(){var t=this._model,e=t.getData(),i=vw(t),n=[i,i];e.eachItemGraphicEl(function(t,e){t.attr("scale",n)})},updateLayout:function(t){Tw(t.getGraph(),vw(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}}),xf({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){}),xf({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){});xf({type:"graphRoam",event:"graphRoam",update:"none"},function(i,t){t.eachComponent({mainType:"series",query:i},function(t){var e=nx(t.coordinateSystem,i);t.setCenter&&t.setCenter(e.center),t.setZoom&&t.setZoom(e.zoom)})});function Ow(t){return t instanceof Array||(t=[t,t]),t}function Ew(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var i=t.getGraph();i.eachNode(function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])}),Rw(i)}}function Rw(t){t.eachEdge(function(t){var e=t.getModel().get("lineStyle.curveness")||0,i=rt(t.node1.getLayout()),n=rt(t.node2.getLayout()),o=[i,n];+e&&o.push([(i[0]+n[0])/2-(i[1]-n[1])*e,(i[1]+n[1])/2-(n[0]-i[0])*e]),t.setLayout(o)})}var zw=Math.PI,Bw=[];function Vw(t,e){var i=t.coordinateSystem;if(!i||"view"===i.type){var n=i.getBoundingRect(),o=t.getData(),a=o.graph,s=n.width/2+n.x,l=n.height/2+n.y,r=Math.min(n.width,n.height)/2,u=o.count();o.setLayout({cx:s,cy:l}),u&&(Gw[e](t,i,a,o,r,s,l,u),a.eachEdge(function(t){var e,i=t.getModel().get("lineStyle.curveness")||0,n=rt(t.node1.getLayout()),o=rt(t.node2.getLayout()),a=(n[0]+o[0])/2,r=(n[1]+o[1])/2;+i&&(e=[s*(i*=3)+a*(1-i),l*i+r*(1-i)]),t.setLayout([n,o,e])}))}}var Gw={value:function(t,e,i,n,o,a,r,s){var l=0,u=n.getSum("value"),h=2*Math.PI/(u||s);i.eachNode(function(t){var e=t.getValue("value"),i=h*(u?e:1)/2;l+=i,t.setLayout([o*Math.cos(l)+a,o*Math.sin(l)+r]),l+=i})},symbolSize:function(t,e,i,n,o,a,r,s){var l=0;Bw.length=s;var u=vw(t);i.eachNode(function(t){var e=yw(t);isNaN(e)&&(e=2),e<0&&(e=0),e*=u;var i=Math.asin(e/2/o);isNaN(i)&&(i=zw/2),Bw[t.dataIndex]=i,l+=2*i});var h=(2*zw-l)/s/2,c=0;i.eachNode(function(t){var e=h+Bw[t.dataIndex];c+=e,t.setLayout([o*Math.cos(c)+a,o*Math.sin(c)+r]),c+=e})}},Fw=ut;yf(function(t){var a=t.findComponents({mainType:"legend"});a&&a.length&&t.eachSeriesByType("graph",function(t){var e=t.getCategoriesData(),n=t.getGraph().data,o=e.mapArray(e.getName);n.filterSelf(function(t){var e=n.getItemModel(t).getShallow("category");if(null!=e){"number"==typeof e&&(e=o[e]);for(var i=0;i<a.length;i++)if(!a[i].isSelected(e))return!1}return!0})},this)}),bf(Dm("graph","circle",null)),bf(function(t){var h={};t.eachSeriesByType("graph",function(s){var l=s.getCategoriesData(),o=s.getData(),u={};l.each(function(t){var e=l.getName(t);u["ec-"+e]=t;var i=l.getItemModel(t),n=i.get("itemStyle.color")||s.getColorFromPalette(e,h);l.setItemVisual(t,"color",n);for(var o=["opacity","symbol","symbolSize","symbolKeepAspect"],a=0;a<o.length;a++){var r=i.getShallow(o[a],!0);null!=r&&l.setItemVisual(t,o[a],r)}}),l.count()&&o.each(function(t){var e=o.getItemModel(t).getShallow("category");if(null!=e){"string"==typeof e&&(e=u["ec-"+e]);for(var i=["color","opacity","symbol","symbolSize","symbolKeepAspect"],n=0;n<i.length;n++)null==o.getItemVisual(t,i[n],!0)&&o.setItemVisual(t,i[n],l.getItemVisual(e,i[n]))}})})}),bf(function(t){t.eachSeriesByType("graph",function(t){var s=t.getGraph(),l=t.getEdgeData(),e=Ow(t.get("edgeSymbol")),i=Ow(t.get("edgeSymbolSize")),u="lineStyle.color".split("."),h="lineStyle.opacity".split(".");l.setVisual("fromSymbol",e&&e[0]),l.setVisual("toSymbol",e&&e[1]),l.setVisual("fromSymbolSize",i&&i[0]),l.setVisual("toSymbolSize",i&&i[1]),l.setVisual("color",t.get(u)),l.setVisual("opacity",t.get(h)),l.each(function(t){var e=l.getItemModel(t),i=s.getEdgeByIndex(t),n=Ow(e.getShallow("symbol",!0)),o=Ow(e.getShallow("symbolSize",!0)),a=e.get(u),r=e.get(h);switch(a){case"source":a=i.node1.getVisual("color");break;case"target":a=i.node2.getVisual("color")}n[0]&&i.setVisual("fromSymbol",n[0]),n[1]&&i.setVisual("toSymbol",n[1]),o[0]&&i.setVisual("fromSymbolSize",o[0]),o[1]&&i.setVisual("toSymbolSize",o[1]),i.setVisual("color",a),i.setVisual("opacity",r)})})}),wf(function(t,e){t.eachSeriesByType("graph",function(t){var e=t.get("layout"),i=t.coordinateSystem;if(i&&"view"!==i.type){var n=t.getData(),o=[];E(i.dimensions,function(t){o=o.concat(n.mapDimension(t,!0))});for(var a=0;a<n.count();a++){for(var r=[],s=!1,l=0;l<o.length;l++){var u=n.get(o[l],a);isNaN(u)||(s=!0),r.push(u)}s?n.setItemLayout(a,i.dataToPoint(r)):n.setItemLayout(a,[NaN,NaN])}Rw(n.graph)}else e&&"none"!==e||Ew(t)})}),wf(Cd.VISUAL.POST_CHART_LAYOUT,function(t){t.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&Vw(t,"symbolSize")})}),wf(function(t){t.eachSeriesByType("graph",function(t){if(!(l=t.coordinateSystem)||"view"===l.type)if("force"===t.get("layout")){var c=t.preservedPoints||{},d=t.getGraph(),f=d.data,e=d.edgeData,i=t.getModel("force"),n=i.get("initLayout");t.preservedPoints?f.each(function(t){var e=f.getId(t);f.setItemLayout(t,c[e]||[NaN,NaN])}):n&&"none"!==n?"circular"===n&&Vw(t,"value"):Ew(t);var o=f.getDataExtent("value"),a=e.getDataExtent("value"),r=i.get("repulsion"),s=i.get("edgeLength");O(r)||(r=[r,r]),O(s)||(s=[s,s]),s=[s[1],s[0]];var l,u=f.mapArray("value",function(t,e){var i=f.getItemLayout(e),n=El(t,o,r);return isNaN(n)&&(n=(r[0]+r[1])/2),{w:n,rep:n,fixed:f.getItemModel(e).get("fixed"),p:!i||isNaN(i[0])||isNaN(i[1])?null:i}}),h=e.mapArray("value",function(t,e){var i=d.getEdgeByIndex(e),n=El(t,a,s);isNaN(n)&&(n=(s[0]+s[1])/2);var o=i.getModel();return{n1:u[i.node1.dataIndex],n2:u[i.node2.dataIndex],d:n,curveness:o.get("lineStyle.curveness")||0,ignoreForceLayout:o.get("ignoreForceLayout")}}),p=(l=t.coordinateSystem).getBoundingRect(),g=function(f,p,t){for(var e=t.rect,i=e.width,n=e.height,g=[e.x+i/2,e.y+n/2],m=null==t.gravity?.1:t.gravity,o=0;o<f.length;o++){var a=f[o];a.p||(a.p=ot(i*(Math.random()-.5)+g[0],n*(Math.random()-.5)+g[1])),a.pp=rt(a.p),a.edges=null}var r=null==t.friction?.6:t.friction,v=r;return{warmUp:function(){v=.8*r},setFixed:function(t){f[t].fixed=!0},setUnfixed:function(t){f[t].fixed=!1},step:function(t){for(var e=[],i=f.length,n=0;n<p.length;n++){var o=p[n];if(!o.ignoreForceLayout){var a=o.n1;ht(e,(u=o.n2).p,a.p);var r=ct(e)-o.d,s=u.w/(a.w+u.w);isNaN(s)&&(s=0),mt(e,e),a.fixed||Fw(a.p,a.p,e,s*r*v),u.fixed||Fw(u.p,u.p,e,-(1-s)*r*v)}}for(n=0;n<i;n++){(d=f[n]).fixed||(ht(e,g,d.p),Fw(d.p,d.p,e,m*v))}for(n=0;n<i;n++){a=f[n];for(var l=n+1;l<i;l++){var u;ht(e,(u=f[l]).p,a.p),0===(r=ct(e))&&(st(e,Math.random()-.5,Math.random()-.5),r=1);var h=(a.rep+u.rep)/r/r;a.fixed||Fw(a.pp,a.pp,e,h),u.fixed||Fw(u.pp,u.pp,e,-h)}}var c=[];for(n=0;n<i;n++){var d;(d=f[n]).fixed||(ht(c,d.p,d.pp),Fw(d.p,d.p,c,v),at(d.pp,d.p))}v*=.992,t&&t(f,p,v<.01)}}}(u,h,{rect:p,gravity:i.get("gravity"),friction:i.get("friction")}),m=g.step;g.step=function(h){for(var t=0,e=u.length;t<e;t++)u[t].fixed&&at(u[t].p,d.getNodeByIndex(t).getLayout());m(function(t,e,i){for(var n=0,o=t.length;n<o;n++)t[n].fixed||d.getNodeByIndex(n).setLayout(t[n].p),c[f.getId(n)]=t[n].p;for(n=0,o=e.length;n<o;n++){var a=e[n],r=d.getEdgeByIndex(n),s=a.n1.p,l=a.n2.p,u=r.getLayout();(u=u?u.slice():[])[0]=u[0]||[],u[1]=u[1]||[],at(u[0],s),at(u[1],l),+a.curveness&&(u[2]=[(s[0]+l[0])/2-(s[1]-l[1])*a.curveness,(s[1]+l[1])/2-(l[0]-s[0])*a.curveness]),r.setLayout(u)}h&&h(i)})},t.forceLayout=g,t.preservedPoints=c,g.step()}else t.forceLayout=null})}),_f("graphView",{create:function(t,d){var f=[];return t.eachSeriesByType("graph",function(t){var e=t.get("coordinateSystem");if(!e||"view"===e){var i=t.getData(),n=[],o=[];Wa(i.mapArray(function(t){var e=i.getItemModel(t);return[+e.get("x"),+e.get("y")]}),n,o),o[0]-n[0]==0&&(o[0]+=1,n[0]-=1),o[1]-n[1]==0&&(o[1]+=1,n[1]-=1);var a=(o[0]-n[0])/(o[1]-n[1]),r=function(t,e,i){var n=t.getBoxLayoutParams();return n.aspect=i,wu(n,{width:e.getWidth(),height:e.getHeight()})}(t,d,a);isNaN(a)&&(n=[r.x,r.y],o=[r.x+r.width,r.y+r.height]);var s=o[0]-n[0],l=o[1]-n[1],u=r.width,h=r.height,c=t.coordinateSystem=new rx;c.zoomLimit=t.get("scaleLimit"),c.setBoundingRect(n[0],n[1],s,l),c.setViewRect(r.x,r.y,u,h),c.setCenter(t.get("center")),c.setZoom(t.get("zoom")),f.push(c)}}),f}});rc.extend({type:"series.gauge",getInitialData:function(t,e){return Uv(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});var Ww=Ar.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(t,e){var i=Math.cos,n=Math.sin,o=e.r,a=e.width,r=e.angle,s=e.x-i(r)*a*(o/3<=a?1:2),l=e.y-n(r)*a*(o/3<=a?1:2);r=e.angle-Math.PI/2,t.moveTo(s,l),t.lineTo(e.x+i(r)*a,e.y+n(r)*a),t.lineTo(e.x+i(e.angle)*o,e.y+n(e.angle)*o),t.lineTo(e.x-i(r)*a,e.y-n(r)*a),t.lineTo(s,l)}});function Hw(t,e){return e&&("string"==typeof e?t=e.replace("{value}",null!=t?t:""):"function"==typeof e&&(t=e(t))),t}var Zw=2*Math.PI,Uw=(xc.extend({type:"gauge",render:function(t,e,i){this.group.removeAll();var n=t.get("axisLine.lineStyle.color"),o=function(t,e){var i=t.get("center"),n=e.getWidth(),o=e.getHeight(),a=Math.min(n,o);return{cx:Rl(i[0],e.getWidth()),cy:Rl(i[1],e.getHeight()),r:Rl(t.get("radius"),a/2)}}(t,i);this._renderMain(t,e,i,n,o)},dispose:function(){},_renderMain:function(t,e,i,n,o){for(var a=this.group,r=t.getModel("axisLine"),s=r.getModel("lineStyle"),l=t.get("clockwise"),u=-t.get("startAngle")/180*Math.PI,h=((g=-t.get("endAngle")/180*Math.PI)-u)%Zw,c=u,d=s.get("width"),f=r.get("show"),p=0;f&&p<n.length;p++){var g,m=Math.min(Math.max(n[p][0],0),1),v=new qr({shape:{startAngle:c,endAngle:g=u+h*m,cx:o.cx,cy:o.cy,clockwise:l,r0:o.r-d,r:o.r},silent:!0});v.setStyle({fill:n[p][1]}),v.setStyle(s.getLineStyle(["color","borderWidth","borderColor"])),a.add(v),c=g}function y(t){if(t<=0)return n[0][1];for(var e=0;e<n.length;e++)if(n[e][0]>=t&&(0===e?0:n[e-1][0])<t)return n[e][1];return n[e-1][1]}if(!l){var x=u;u=g,g=x}this._renderTicks(t,e,i,y,o,u,g,l),this._renderPointer(t,e,i,y,o,u,g,l),this._renderTitle(t,e,i,y,o),this._renderDetail(t,e,i,y,o)},_renderTicks:function(t,e,i,n,o,a,r,s){for(var l=this.group,u=o.cx,h=o.cy,c=o.r,d=+t.get("min"),f=+t.get("max"),p=t.getModel("splitLine"),g=t.getModel("axisTick"),m=t.getModel("axisLabel"),v=t.get("splitNumber"),y=g.get("splitNumber"),x=Rl(p.get("length"),c),_=Rl(g.get("length"),c),w=a,b=(r-a)/v,S=b/y,M=p.getModel("lineStyle").getLineStyle(),I=g.getModel("lineStyle").getLineStyle(),T=0;T<=v;T++){var A=Math.cos(w),D=Math.sin(w);if(p.get("show")){var C=new ls({shape:{x1:A*c+u,y1:D*c+h,x2:A*(c-x)+u,y2:D*(c-x)+h},style:M,silent:!0});"auto"===M.stroke&&C.setStyle({stroke:n(T/v)}),l.add(C)}if(m.get("show")){var L=Hw(zl(T/v*(f-d)+d),m.get("formatter")),k=m.get("distance"),P=n(T/v);l.add(new Ur({style:nl({},m,{text:L,x:A*(c-x-k)+u,y:D*(c-x-k)+h,textVerticalAlign:D<-.4?"top":.4<D?"bottom":"middle",textAlign:A<-.4?"left":.4<A?"right":"center"},{autoColor:P}),silent:!0}))}if(g.get("show")&&T!==v){for(var N=0;N<=y;N++){A=Math.cos(w),D=Math.sin(w);var O=new ls({shape:{x1:A*c+u,y1:D*c+h,x2:A*(c-_)+u,y2:D*(c-_)+h},silent:!0,style:I});"auto"===I.stroke&&O.setStyle({stroke:n((T+N/y)/v)}),l.add(O),w+=S}w-=S}else w+=b}},_renderPointer:function(n,t,e,o,a,i,r,s){var l=this.group,u=this._data;if(n.get("pointer.show")){var h=[+n.get("min"),+n.get("max")],c=[i,r],d=n.getData(),f=d.mapDimension("value");d.diff(u).add(function(t){var e=new Ww({shape:{angle:i}});dl(e,{shape:{angle:El(d.get(f,t),h,c,!0)}},n),l.add(e),d.setItemGraphicEl(t,e)}).update(function(t,e){var i=u.getItemGraphicEl(e);cl(i,{shape:{angle:El(d.get(f,t),h,c,!0)}},n),l.add(i),d.setItemGraphicEl(t,i)}).remove(function(t){var e=u.getItemGraphicEl(t);l.remove(e)}).execute(),d.eachItemGraphicEl(function(t,e){var i=d.getItemModel(e),n=i.getModel("pointer");t.setShape({x:a.cx,y:a.cy,width:Rl(n.get("width"),a.r),r:Rl(n.get("length"),a.r)}),t.useStyle(i.getModel("itemStyle").getItemStyle()),"auto"===t.style.fill&&t.setStyle("fill",o(El(d.get(f,e),h,[0,1],!0))),$s(t,i.getModel("emphasis.itemStyle").getItemStyle())}),this._data=d}else u&&u.eachItemGraphicEl(function(t){l.remove(t)})},_renderTitle:function(t,e,i,n,o){var a=t.getData(),r=a.mapDimension("value"),s=t.getModel("title");if(s.get("show")){var l=s.get("offsetCenter"),u=o.cx+Rl(l[0],o.r),h=o.cy+Rl(l[1],o.r),c=+t.get("min"),d=+t.get("max"),f=n(El(t.getData().get(r,0),[c,d],[0,1],!0));this.group.add(new Ur({silent:!0,style:nl({},s,{x:u,y:h,text:a.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:f,forceRich:!0})}))}},_renderDetail:function(t,e,i,n,o){var a=t.getModel("detail"),r=+t.get("min"),s=+t.get("max");if(a.get("show")){var l=a.get("offsetCenter"),u=o.cx+Rl(l[0],o.r),h=o.cy+Rl(l[1],o.r),c=Rl(a.get("width"),o.r),d=Rl(a.get("height"),o.r),f=t.getData(),p=f.get(f.mapDimension("value"),0),g=n(El(p,[r,s],[0,1],!0));this.group.add(new Ur({silent:!0,style:nl({},a,{x:u,y:h,text:Hw(p,a.get("formatter")),textWidth:isNaN(c)?null:c,textHeight:isNaN(d)?null:d,textAlign:"center",textVerticalAlign:"middle"},{autoColor:g,forceRich:!0})}))}}}),Af({type:"series.funnel",init:function(t){Uw.superApply(this,"init",arguments),this.legendVisualProvider=new Yv(A(this.getData,this),A(this.getRawData,this)),this._defaultLabelLine(t)},getInitialData:function(t,e){return Uv(this,{coordDimensions:["value"],encodeDefaulter:T($u,this)})},_defaultLabelLine:function(t){Go(t,"labelLine",["show"]);var e=t.labelLine,i=t.emphasis.labelLine;e.show=e.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},getDataParams:function(t){var e=this.getData(),i=Uw.superCall(this,"getDataParams",t),n=e.mapDimension("value"),o=e.getSum(n);return i.percent=o?+(e.get(n,t)/o*100).toFixed(2):0,i.$vars.push("percent"),i},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}}));function Xw(t,e){Ci.call(this);var i=new Qr,n=new ts,o=new Ur;this.add(i),this.add(n),this.add(o),this.highDownOnUpdate=function(t,e){"emphasis"===e?(n.ignore=n.hoverIgnore,o.ignore=o.hoverIgnore):(n.ignore=n.normalIgnore,o.ignore=o.normalIgnore)},this.updateData(t,e,!0)}var Yw=Xw.prototype,jw=["itemStyle","opacity"];Yw.updateData=function(t,e,i){var n=this.childAt(0),o=t.hostModel,a=t.getItemModel(e),r=t.getItemLayout(e),s=t.getItemModel(e).get(jw);s=null==s?1:s,n.useStyle({}),i?(n.setShape({points:r.points}),n.setStyle({opacity:0}),dl(n,{style:{opacity:s}},o,e)):cl(n,{style:{opacity:s},shape:{points:r.points}},o,e);var l=a.getModel("itemStyle"),u=t.getItemVisual(e,"color");n.setStyle(D({lineJoin:"round",fill:u},l.getItemStyle(["opacity"]))),n.hoverStyle=l.getModel("emphasis").getItemStyle(),this._updateLabel(t,e),$s(this)},Yw._updateLabel=function(t,e){var i=this.childAt(1),n=this.childAt(2),o=t.hostModel,a=t.getItemModel(e),r=t.getItemLayout(e).label,s=t.getItemVisual(e,"color");cl(i,{shape:{points:r.linePoints||r.linePoints}},o,e),cl(n,{style:{x:r.x,y:r.y}},o,e),n.attr({rotation:r.rotation,origin:[r.x,r.y],z2:10});var l=a.getModel("label"),u=a.getModel("emphasis.label"),h=a.getModel("labelLine"),c=a.getModel("emphasis.labelLine");s=t.getItemVisual(e,"color");el(n.style,n.hoverStyle={},l,u,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:t.getName(e),autoColor:s,useInsideStyle:!!r.inside},{textAlign:r.textAlign,textVerticalAlign:r.verticalAlign}),n.ignore=n.normalIgnore=!l.get("show"),n.hoverIgnore=!u.get("show"),i.ignore=i.normalIgnore=!h.get("show"),i.hoverIgnore=!c.get("show"),i.setStyle({stroke:s}),i.setStyle(h.getModel("lineStyle").getLineStyle()),i.hoverStyle=c.getModel("lineStyle").getLineStyle()},w(Xw,Ci);xc.extend({type:"funnel",render:function(t,e,i){var n=t.getData(),o=this._data,a=this.group;n.diff(o).add(function(t){var e=new Xw(n,t);n.setItemGraphicEl(t,e),a.add(e)}).update(function(t,e){var i=o.getItemGraphicEl(e);i.updateData(n,t),a.add(i),n.setItemGraphicEl(t,i)}).remove(function(t){var e=o.getItemGraphicEl(t);a.remove(e)}).execute(),this._data=n},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});bf(ty("funnel")),wf(function(t,w,e){t.eachSeriesByType("funnel",function(t){var o=t.getData(),a=o.mapDimension("value"),e=t.get("sort"),r=function(t,e){return wu(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,w),i=function(t,e){for(var i=t.mapDimension("value"),n=t.mapArray(i,function(t){return t}),o=[],a="ascending"===e,r=0,s=t.count();r<s;r++)o[r]=r;return"function"==typeof e?o.sort(e):"none"!==e&&o.sort(function(t,e){return a?n[t]-n[e]:n[e]-n[t]}),o}(o,e),s=[Rl(t.get("minSize"),r.width),Rl(t.get("maxSize"),r.width)],n=o.getDataExtent(a),l=t.get("min"),u=t.get("max");null==l&&(l=Math.min(n[0],0)),null==u&&(u=n[1]);function h(t,e){var i,n=El(o.get(a,t)||0,[l,u],s,!0);switch(c){case"left":i=r.x;break;case"center":i=r.x+(r.width-n)/2;break;case"right":i=r.x+r.width-n}return[[i,e],[i+n,e]]}var c=t.get("funnelAlign"),d=t.get("gap"),f=(r.height-d*(o.count()-1))/o.count(),p=r.y;"ascending"===e&&(f=-f,d=-d,p+=r.height,i=i.reverse());for(var g=0;g<i.length;g++){var m=i[g],v=i[g+1],y=o.getItemModel(m).get("itemStyle.height");null==y?y=f:(y=Rl(y,r.height),"ascending"===e&&(y=-y));var x=h(m,p),_=h(v,p+y);p+=y+d,o.setItemLayout(m,{points:x.concat(_.slice().reverse())})}!function(g){g.each(function(t){var e,i,n,o,a=g.getItemModel(t),r=a.getModel("label").get("position"),s=a.getModel("labelLine"),l=g.getItemLayout(t),u=l.points,h="inner"===r||"inside"===r||"center"===r||"insideLeft"===r||"insideRight"===r;if(h)e="insideLeft"===r?(i=(u[0][0]+u[3][0])/2+5,n=(u[0][1]+u[3][1])/2,"left"):"insideRight"===r?(i=(u[1][0]+u[2][0])/2-5,n=(u[1][1]+u[2][1])/2,"right"):(i=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,n=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,"center"),o=[[i,n],[i,n]];else{var c,d,f,p=s.get("length");e="left"===r?(c=(u[3][0]+u[0][0])/2,d=(u[3][1]+u[0][1])/2,i=(f=c-p)-5,"right"):"right"===r?(c=(u[1][0]+u[2][0])/2,d=(u[1][1]+u[2][1])/2,i=(f=c+p)+5,"left"):"rightTop"===r?(c=u[1][0],d=u[1][1],i=(f=c+p)+5,"top"):"rightBottom"===r?(c=u[2][0],d=u[2][1],i=(f=c+p)+5,"bottom"):"leftTop"===r?(c=u[0][0],d=u[1][1],i=(f=c-p)-5,"right"):"leftBottom"===r?(c=u[3][0],d=u[2][1],i=(f=c-p)-5,"right"):(c=(u[1][0]+u[2][0])/2,d=(u[1][1]+u[2][1])/2,i=(f=c+p)+5,"left");o=[[c,d],[f,d]],n=d}l.label={linePoints:o,x:i,y:n,verticalAlign:"middle",textAlign:e,inside:h}})}(o)})}),yf(sy("funnel"));function qw(t,e,i,n,o){Vg.call(this,t,e,i),this.type=n||"value",this.axisIndex=o}qw.prototype={constructor:qw,model:null,isHorizontal:function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")}},w(qw,Vg);function Kw(t,e,i,n,o,a){t=t||0;var r=i[1]-i[0];if(null!=o&&(o=Jw(o,[0,r])),null!=a&&(a=Math.max(a,null!=o?o:0)),"all"===n){var s=Math.abs(e[1]-e[0]);o=a=Jw(s=Jw(s,[0,r]),[o,a]),n=0}e[0]=Jw(e[0],i),e[1]=Jw(e[1],i);var l=$w(e,n);e[n]+=t;var u=o||0,h=i.slice();l.sign<0?h[0]+=u:h[1]-=u,e[n]=Jw(e[n],h);var c=$w(e,n);return null!=o&&(c.sign!==l.sign||c.span<o)&&(e[1-n]=e[n]+l.sign*o),c=$w(e,n),null!=a&&c.span>a&&(e[1-n]=e[n]+c.sign*a),e}function $w(t,e){var i=t[e]-t[1-e];return{span:Math.abs(i),sign:0<i?-1:i<0?1:e?-1:1}}function Jw(t,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,t))}var Qw=E,tb=Math.min,eb=Math.max,ib=Math.floor,nb=Math.ceil,ob=zl,ab=Math.PI;function rb(t,e,i){this._axesMap=Q(),this._axesLayout={},this.dimensions=t.dimensions,this._rect,this._model=t,this._init(t,e,i)}function sb(t,e){return tb(eb(t,e[0]),e[1])}rb.prototype={type:"parallel",constructor:rb,_init:function(t,r,e){var i=t.dimensions,s=t.parallelAxisIndex;Qw(i,function(t,e){var i=s[e],n=r.getComponent("parallelAxis",i),o=this._axesMap.set(t,new qw(t,rg(n),[0,0],n.get("type"),i)),a="category"===o.type;o.onBand=a&&n.get("boundaryGap"),o.inverse=n.get("inverse"),(n.axis=o).model=n,o.coordinateSystem=n.coordinateSystem=this},this)},update:function(t,e){this._updateAxesFromSeries(this._model,t)},containPoint:function(t){var e=this._makeLayoutInfo(),i=e.axisBase,n=e.layoutBase,o=e.pixelDimIndex,a=t[1-o],r=t[o];return i<=a&&a<=i+e.axisLength&&n<=r&&r<=n+e.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(e,n){n.eachSeries(function(t){if(e.contains(t,n)){var i=t.getData();Qw(this.dimensions,function(t){var e=this._axesMap.get(t);e.scale.unionExtentFromData(i,i.mapDimension(t)),ag(e.scale,e.model)},this)}},this)},resize:function(t,e){this._rect=wu(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var t,e=this._model,i=this._rect,n=["x","y"],o=["width","height"],a=e.get("layout"),r="horizontal"===a?0:1,s=i[o[r]],l=[0,s],u=this.dimensions.length,h=sb(e.get("axisExpandWidth"),l),c=sb(e.get("axisExpandCount")||0,[0,u]),d=e.get("axisExpandable")&&3<u&&c<u&&1<c&&0<h&&0<s,f=e.get("axisExpandWindow");f?(t=sb(f[1]-f[0],l),f[1]=f[0]+t):(t=sb(h*(c-1),l),(f=[h*(e.get("axisExpandCenter")||ib(u/2))-t/2])[1]=f[0]+t);var p=(s-t)/(u-c);p<3&&(p=0);var g=[ib(ob(f[0]/h,1))+1,nb(ob(f[1]/h,1))-1],m=p/h*f[0];return{layout:a,pixelDimIndex:r,layoutBase:i[n[r]],layoutLength:s,axisBase:i[n[1-r]],axisLength:i[o[1-r]],axisExpandable:d,axisExpandWidth:h,axisCollapseWidth:p,axisExpandWindow:f,axisCount:u,winInnerIndices:g,axisExpandWindow0Pos:m}},_layoutAxes:function(){var l=this._rect,t=this._axesMap,e=this.dimensions,u=this._makeLayoutInfo(),h=u.layout;t.each(function(t){var e=[0,u.axisLength],i=t.inverse?1:0;t.setExtent(e[i],e[1-i])}),Qw(e,function(t,e){var i=(u.axisExpandable?function(t,e){var i,n,o=e.layoutLength,a=e.axisExpandWidth,r=e.axisCount,s=e.axisCollapseWidth,l=e.winInnerIndices,u=s,h=!1;t<l[0]?(i=t*s,n=s):t<=l[1]?(i=e.axisExpandWindow0Pos+t*a-e.axisExpandWindow[0],u=a,h=!0):(i=o-(r-1-t)*s,n=s);return{position:i,axisNameAvailableWidth:u,axisLabelShow:h,nameTruncateMaxWidth:n}}:function(t,e){var i=e.layoutLength/(e.axisCount-1);return{position:i*t,axisNameAvailableWidth:i,axisLabelShow:!0}})(e,u),n={horizontal:{x:i.position,y:u.axisLength},vertical:{x:0,y:i.position}},o={horizontal:ab/2,vertical:0},a=[n[h].x+l.x,n[h].y+l.y],r=o[h],s=ae();he(s,s,r),ue(s,s,a),this._axesLayout[t]={position:a,rotation:r,transform:s,axisNameAvailableWidth:i.axisNameAvailableWidth,axisLabelShow:i.axisLabelShow,nameTruncateMaxWidth:i.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},getAxis:function(t){return this._axesMap.get(t)},dataToPoint:function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},eachActiveState:function(e,t,i,n){null==i&&(i=0),null==n&&(n=e.count());var o=this._axesMap,a=this.dimensions,r=[],s=[];E(a,function(t){r.push(e.mapDimension(t)),s.push(o.get(t).model)});for(var l=this.hasAxisBrushed(),u=i;u<n;u++){var h;if(l){h="active";for(var c=e.getValues(r,u),d=0,f=a.length;d<f;d++){if("inactive"===s[d].getActiveState(c[d])){h="inactive";break}}}else h="normal";t(h,u)}},hasAxisBrushed:function(){for(var t=this.dimensions,e=this._axesMap,i=!1,n=0,o=t.length;n<o;n++)"normal"!==e.get(t[n]).model.getActiveState()&&(i=!0);return i},axisCoordToPoint:function(t,e){return pl([t,0],this._axesLayout[e].transform)},getAxisLayout:function(t){return L(this._axesLayout[t])},getSlidedAxisExpandWindow:function(t){var e=this._makeLayoutInfo(),i=e.pixelDimIndex,n=e.axisExpandWindow.slice(),o=n[1]-n[0],a=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:n};var r,s=t[i]-e.layoutBase-e.axisExpandWindow0Pos,l="slide",u=e.axisCollapseWidth,h=this._model.get("axisExpandSlideTriggerArea"),c=null!=h[0];if(u)c&&u&&s<o*h[0]?(l="jump",r=s-o*h[2]):c&&u&&s>o*(1-h[0])?(l="jump",r=s-o*(1-h[2])):0<=(r=s-o*h[1])&&(r=s-o*(1-h[1]))<=0&&(r=0),(r*=e.axisExpandWidth/u)?Kw(r,n,a,"all"):l="none";else{o=n[1]-n[0];(n=[eb(0,a[1]*s/o-o/2)])[1]=tb(a[1],n[0]+o),n[0]=n[1]-o}return{axisExpandWindow:n,behavior:l}}},sh.register("parallel",{create:function(n,o){var a=[];return n.eachComponent("parallel",function(t,e){var i=new rb(t,n,o);i.name="parallel_"+e,i.resize(t,o),(t.coordinateSystem=i).model=t,a.push(i)}),n.eachSeries(function(t){if("parallel"===t.get("coordinateSystem")){var e=n.queryComponents({mainType:"parallel",index:t.get("parallelIndex"),id:t.get("parallelId")})[0];t.coordinateSystem=e.coordinateSystem}}),a}});var lb=Lu.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return ha([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(t){var e=this.activeIntervals=L(t);if(e)for(var i=e.length-1;0<=i;i--)Bl(e[i])},getActiveState:function(t){var e=this.activeIntervals;if(!e.length)return"normal";if(null==t||isNaN(t))return"inactive";if(1===e.length){var i=e[0];if(i[0]<=t&&t<=i[1])return"active"}else for(var n=0,o=e.length;n<o;n++)if(e[n][0]<=t&&t<=e[n][1])return"active";return"inactive"}});m(lb.prototype,cg),Bm("parallel",lb,function(t,e){return e.type||(e.data?"category":"value")},{type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10}),Lu.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){Lu.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(t){var e=this.option;t&&m(e,t,!0),this._initDimensions()},contains:function(t,e){var i=t.get("parallelIndex");return null!=i&&e.getComponent("parallel",i)===this},setAxisExpand:function(e){E(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(t){e.hasOwnProperty(t)&&(this.option[t]=e[t])},this)},_initDimensions:function(){var e=this.dimensions=[],i=this.parallelAxisIndex=[];E(M(this.dependentModels.parallelAxis,function(t){return(t.get("parallelIndex")||0)===this.componentIndex},this),function(t){e.push("dim"+t.get("dim")),i.push(t.componentIndex)})}});xf({type:"axisAreaSelect",event:"axisAreaSelected"},function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(t){t.axis.model.setActiveIntervals(e.intervals)})}),xf("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(t){t.setAxisExpand(e)})});var ub=T,hb=E,cb=N,db=Math.min,fb=Math.max,pb=Math.pow,gb=1e4,mb=6,vb=6,yb="globalPan",xb={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},_b={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},wb={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},bb=0;function Sb(t){Ct.call(this),this._zr=t,this.group=new Ci,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+bb++,this._handlers={},hb(qb,function(t,e){this._handlers[e]=A(t,this)},this)}function Mb(t,e){var i=$b[e.brushType].createCover(t,e);return i.__brushOption=e,Ab(i,e),t.group.add(i),i}function Ib(t,e){var i=Cb(e);return i.endCreating&&(i.endCreating(t,e),Ab(e,e.__brushOption)),e}function Tb(t,e){var i=e.__brushOption;Cb(e).updateCoverShape(t,e,i.range,i)}function Ab(t,e){var i=e.z;null==i&&(i=gb),t.traverse(function(t){t.z=i,t.z2=i})}function Db(t,e){Cb(e).updateCommon(t,e),Tb(t,e)}function Cb(t){return $b[t.__brushOption.brushType]}function Lb(t,e,i){var n,o=t._panels;if(!o)return!0;var a=t._transform;return hb(o,function(t){t.isTargetByCursor(e,i,a)&&(n=t)}),n}function kb(t,e){var i=t._panels;if(!i)return!0;var n=e.__brushOption.panelId;return null==n||i[n]}function Pb(e){var t=e._covers,i=t.length;return hb(t,function(t){e.group.remove(t)},e),t.length=0,!!i}function Nb(t,e){var i=cb(t._covers,function(t){var e=t.__brushOption,i=L(e.range);return{brushType:e.brushType,panelId:e.panelId,range:i}});t.trigger("brush",i,{isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function Ob(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function Eb(e,i,t,n){var o=new Ci;return o.add(new rs({name:"main",style:Vb(t),silent:!0,draggable:!0,cursor:"move",drift:ub(e,i,o,"nswe"),ondragend:ub(Nb,i,{isEnd:!0})})),hb(n,function(t){o.add(new rs({name:t,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:ub(e,i,o,t),ondragend:ub(Nb,i,{isEnd:!0})}))}),o}function Rb(t,e,i,n){var o=n.brushStyle.lineWidth||0,a=fb(o,vb),r=i[0][0],s=i[1][0],l=r-o/2,u=s-o/2,h=i[0][1],c=i[1][1],d=h-a+o/2,f=c-a+o/2,p=h-r,g=c-s,m=p+o,v=g+o;Bb(t,e,"main",r,s,p,g),n.transformable&&(Bb(t,e,"w",l,u,a,v),Bb(t,e,"e",d,u,a,v),Bb(t,e,"n",l,u,m,a),Bb(t,e,"s",l,f,m,a),Bb(t,e,"nw",l,u,a,a),Bb(t,e,"ne",d,u,a,a),Bb(t,e,"sw",l,f,a,a),Bb(t,e,"se",d,f,a,a))}function zb(n,o){var t=o.__brushOption,a=t.transformable,e=o.childAt(0);e.useStyle(Vb(t)),e.attr({silent:!a,cursor:a?"move":"default"}),hb(["w","e","n","s","se","sw","ne","nw"],function(t){var e=o.childOfName(t),i=function t(e,i){{if(1<i.length){i=i.split("");var n=[t(e,i[0]),t(e,i[1])];return"e"!==n[0]&&"w"!==n[0]||n.reverse(),n.join("")}var o={w:"left",e:"right",n:"top",s:"bottom"},a={left:"w",right:"e",top:"n",bottom:"s"},n=gl(o[i],fl(e.group));return a[n]}}(n,t);e&&e.attr({silent:!a,invisible:!a,cursor:a?_b[i]+"-resize":null})})}function Bb(t,e,i,n,o,a,r){var s=e.childOfName(i);s&&s.setShape(function(t){var e=db(t[0][0],t[1][0]),i=db(t[0][1],t[1][1]),n=fb(t[0][0],t[1][0]),o=fb(t[0][1],t[1][1]);return{x:e,y:i,width:n-e,height:o-i}}(Zb(t,e,[[n,o],[n+a,o+r]])))}function Vb(t){return D({strokeNoScale:!0},t.brushStyle)}function Gb(t,e,i,n){var o=[db(t,i),db(e,n)],a=[fb(t,i),fb(e,n)];return[[o[0],a[0]],[o[1],a[1]]]}function Fb(t,e,i,n,o,a,r,s){var l=n.__brushOption,u=t(l.range),h=Hb(i,a,r);hb(o.split(""),function(t){var e=xb[t];u[e[0]][e[1]]+=h[e[0]]}),l.range=e(Gb(u[0][0],u[1][0],u[0][1],u[1][1])),Db(i,n),Nb(i,{isEnd:!1})}function Wb(t,e,i,n,o){var a=e.__brushOption.range,r=Hb(t,i,n);hb(a,function(t){t[0]+=r[0],t[1]+=r[1]}),Db(t,e),Nb(t,{isEnd:!1})}function Hb(t,e,i){var n=t.group,o=n.transformCoordToLocal(e,i),a=n.transformCoordToLocal(0,0);return[o[0]-a[0],o[1]-a[1]]}function Zb(t,e,i){var n=kb(t,e);return n&&!0!==n?n.clipPath(i,t._transform):L(i)}function Ub(t){var e=t.event;e.preventDefault&&e.preventDefault()}function Xb(t,e,i){return t.childOfName("main").contain(e,i)}function Yb(t,e,i,n){var o,a=t._creatingCover,r=t._creatingPanel,s=t._brushOption;if(t._track.push(i.slice()),function(t){var e=t._track;if(!e.length)return!1;var i=e[e.length-1],n=e[0],o=i[0]-n[0],a=i[1]-n[1],r=pb(o*o+a*a,.5);return mb<r}(t)||a){if(r&&!a){"single"===s.brushMode&&Pb(t);var l=L(s);l.brushType=jb(l.brushType,r),l.panelId=!0===r?null:r.panelId,a=t._creatingCover=Mb(t,l),t._covers.push(a)}if(a){var u=$b[jb(t._brushType,r)];a.__brushOption.range=u.getCreatingRange(Zb(t,a,t._track)),n&&(Ib(t,a),u.updateCommon(t,a)),Tb(t,a),o={isEnd:n}}}else n&&"single"===s.brushMode&&s.removeOnClick&&Lb(t,e,i)&&Pb(t)&&(o={isEnd:n,removeOnClick:!0});return o}function jb(t,e){return"auto"===t?e.defaultBrushType:t}Sb.prototype={constructor:Sb,enableBrush:function(t){return this._brushType&&function(t){var e=t._zr;(function(t,e,i){var n=Ry(t);n[e]===i&&(n[e]=null)})(e,yb,t._uid),function(i,t){hb(t,function(t,e){i.off(e,t)})}(e,t._handlers),t._brushType=t._brushOption=null}(this),t.brushType&&function(t,e){var i=t._zr;t._enableGlobalPan||function(t,e,i){Ry(t)[e]=i}(i,yb,t._uid);(function(i,t){hb(t,function(t,e){i.on(e,t)})})(i,t._handlers),t._brushType=e.brushType,t._brushOption=m(L(wb),e,!0)}(this,t),this},setPanels:function(t){if(t&&t.length){var e=this._panels={};E(t,function(t){e[t.panelId]=L(t)})}else this._panels=null;return this},mount:function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({position:t.position||[0,0],rotation:t.rotation||0,scale:t.scale||[1,1]}),this._transform=e.getLocalTransform(),this},eachCover:function(t,e){hb(this._covers,t,e)},updateCovers:function(o){o=N(o,function(t){return m(L(wb),t,!0)});var i="\0-brush-index-",a=this._covers,r=this._covers=[],s=this,l=this._creatingCover;return new Lf(a,o,function(t,e){return n(t.__brushOption,e)},n).add(t).update(t).remove(function(t){a[t]!==l&&s.group.remove(a[t])}).execute(),this;function n(t,e){return(null!=t.id?t.id:i+e)+"-"+t.brushType}function t(t,e){var i=o[t];if(null!=e&&a[e]===l)r[t]=a[e];else{var n=r[t]=null!=e?(a[e].__brushOption=i,a[e]):Ib(s,Mb(s,i));Db(s,n)}}},unmount:function(){return this.enableBrush(!1),Pb(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},b(Sb,Ct);var qb={mousedown:function(t){if(this._dragging)Kb(this,t);else if(!t.target||!t.target.draggable){Ub(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null,(this._creatingPanel=Lb(this,t,e))&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=t.offsetX,i=t.offsetY,n=this.group.transformCoordToLocal(e,i);if(function(t,e,i){if(t._brushType&&!function(t,e,i){var n=t._zr;return e<0||e>n.getWidth()||i<0||i>n.getHeight()}(t,e)){var n=t._zr,o=t._covers,a=Lb(t,e,i);if(!t._dragging)for(var r=0;r<o.length;r++){var s=o[r].__brushOption;if(a&&(!0===a||s.panelId===a.panelId)&&$b[s.brushType].contain(o[r],i[0],i[1]))return}a&&n.setCursorStyle("crosshair")}}(this,t,n),this._dragging){Ub(t);var o=Yb(this,t,n,!1);o&&Nb(this,o)}},mouseup:function(t){Kb(this,t)}};function Kb(t,e){if(t._dragging){Ub(e);var i=e.offsetX,n=e.offsetY,o=t.group.transformCoordToLocal(i,n),a=Yb(t,e,o,!0);t._dragging=!1,t._track=[],t._creatingCover=null,a&&Nb(t,a)}}var $b={lineX:Jb(0),lineY:Jb(1),rect:{createCover:function(t,e){return Eb(ub(Fb,function(t){return t},function(t){return t}),t,e,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(t){var e=Ob(t);return Gb(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,i,n){Rb(t,e,i,n)},updateCommon:zb,contain:Xb},polygon:{createCover:function(t,e){var i=new Ci;return i.add(new ts({name:"main",style:Vb(e),silent:!0})),i},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new Qr({name:"main",draggable:!0,drift:ub(Wb,t,e),ondragend:ub(Nb,t,{isEnd:!0})}))},updateCoverShape:function(t,e,i,n){e.childAt(0).setShape({points:Zb(t,e,i)})},updateCommon:zb,contain:Xb}};function Jb(l){return{createCover:function(t,e){return Eb(ub(Fb,function(t){var e=[t,[0,100]];return l&&e.reverse(),e},function(t){return t[l]}),t,e,[["w","e"],["n","s"]][l])},getCreatingRange:function(t){var e=Ob(t);return[db(e[0][l],e[1][l]),fb(e[0][l],e[1][l])]},updateCoverShape:function(t,e,i,n){var o,a=kb(t,e);if(!0!==a&&a.getLinearBrushOtherExtent)o=a.getLinearBrushOtherExtent(l,t._transform);else{var r=t._zr;o=[0,[r.getWidth(),r.getHeight()][1-l]]}var s=[i,o];l&&s.reverse(),Rb(t,e,s,n)},updateCommon:zb,contain:Xb}}function Qb(i){return i=iS(i),function(t,e){return vl(t,i)}}function tS(o,a){return o=iS(o),function(t){var e=null!=a?a:t,i=e?o.width:o.height,n=e?o.x:o.y;return[n,n+(i||0)]}}function eS(n,o,a){return n=iS(n),function(t,e,i){return n.contain(e[0],e[1])&&!qy(t,o,a)}}function iS(t){return Di.create(t)}var nS=["axisLine","axisTickLabel","axisName"],oS=Tf({type:"parallelAxis",init:function(t,e){oS.superApply(this,"init",arguments),(this._brushController=new Sb(e.getZr())).on("brush",A(this._onBrush,this))},render:function(t,e,i,n){if(!function(t,e,i){return i&&"axisAreaSelect"===i.type&&e.findComponents({mainType:"parallelAxis",query:i})[0]===t}(t,e,n)){this.axisModel=t,this.api=i,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Ci,this.group.add(this._axisGroup),t.get("show")){var a=function(t,e){return e.getComponent("parallel",t.get("parallelIndex"))}(t,e),r=a.coordinateSystem,s=t.getAreaSelectStyle(),l=s.width,u=t.axis.dim,h=k({strokeContainThreshold:l},r.getAxisLayout(u)),c=new $m(t,h);E(nS,c.add,c),this._axisGroup.add(c.getGroup()),this._refreshBrushController(h,s,t,a,l,i);var d=n&&!1===n.animation?null:t;ml(o,this._axisGroup,d)}}},_refreshBrushController:function(t,e,i,n,o,a){var r=i.axis.getExtent(),s=r[1]-r[0],l=Math.min(30,.1*Math.abs(s)),u=Di.create({x:r[0],y:-o/2,width:s,height:o});u.x-=l,u.width+=2*l,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,position:t.position}).setPanels([{panelId:"pl",clipPath:Qb(u),isTargetByCursor:eS(u,a,n),getLinearBrushOtherExtent:tS(u,0)}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:!0}).updateCovers(function(t){var e=t.axis;return N(t.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}})}(i))},_onBrush:function(t,e){var i=this.axisModel,n=i.axis,o=N(t,function(t){return[n.coordToData(t.range[0],!0),n.coordToData(t.range[1],!0)]});!i.option.realtime!==e.isEnd&&!e.removeOnClick||this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:o})},dispose:function(){this._brushController.dispose()}});Tf({type:"parallel",render:function(t,e,i){this._model=t,this._api=i,this._handlers||(this._handlers={},E(aS,function(t,e){i.getZr().on(e,this._handlers[e]=A(t,this))},this)),Lc(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},dispose:function(t,i){E(this._handlers,function(t,e){i.getZr().off(e,t)}),this._handlers=null},_throttledDispatchExpand:function(t){this._dispatchExpand(t)},_dispatchExpand:function(t){t&&this._api.dispatchAction(k({type:"parallelAxisExpand"},t))}});var aS={mousedown:function(t){rS(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var e=this._mouseDownPoint;if(rS(this,"click")&&e){var i=[t.offsetX,t.offsetY];if(5<Math.pow(e[0]-i[0],2)+Math.pow(e[1]-i[1],2))return;var n=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);"none"!==n.behavior&&this._dispatchExpand({axisExpandWindow:n.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!this._mouseDownPoint&&rS(this,"mousemove")){var e=this._model,i=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),n=i.behavior;"jump"===n&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===n?null:{axisExpandWindow:i.axisExpandWindow,animation:"jump"===n&&null})}}};function rS(t,e){var i=t._model;return i.get("axisExpandable")&&i.get("axisExpandTriggerOn")===e}vf(function(t){!function(t){if(t.parallel)return;var e=!1;E(t.series,function(t){t&&"parallel"===t.type&&(e=!0)}),e&&(t.parallel=[{}])}(t),function(n){E(Vo(n.parallelAxis),function(t){if(z(t)){var e=t.parallelIndex||0,i=Vo(n.parallel)[e];i&&i.parallelAxisDefault&&m(t,i.parallelAxisDefault,!1)}})}(t)}),rc.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(t,e){var i=this.getSource();return function(t,e){if(t.encodeDefine)return;var i=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(!i)return;var n=t.encodeDefine=Q();E(i.dimensions,function(t){var e=function(t){return+t.replace("dim","")}(t);n.set(t,e)})}(i,this),pp(i,this)},getRawIndicesByActiveState:function(i){var t=this.coordinateSystem,n=this.getData(),o=[];return t.eachActiveState(n,function(t,e){i===t&&o.push(n.getRawIndex(e))}),o},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"}});xc.extend({type:"parallel",init:function(){this._dataGroup=new Ci,this.group.add(this._dataGroup),this._data,this._initialized},render:function(a,t,e,r){var i=this._dataGroup,s=a.getData(),l=this._data,u=a.coordinateSystem,h=u.dimensions,c=uS(a);if(s.diff(l).add(function(t){hS(lS(s,i,t,h,u),s,t,c)}).update(function(t,e){var i=l.getItemGraphicEl(e),n=sS(s,t,h,u);s.setItemGraphicEl(t,i);var o=r&&!1===r.animation?null:a;cl(i,{shape:{points:n}},o,t),hS(i,s,t,c)}).remove(function(t){var e=l.getItemGraphicEl(t);i.remove(e)}).execute(),!this._initialized){this._initialized=!0;var n=function(t,e,i){var n=t.model,o=t.getRect(),a=new rs({shape:{x:o.x,y:o.y,width:o.width,height:o.height}}),r="horizontal"===n.get("layout")?"width":"height";return a.setShape(r,0),dl(a,{shape:{width:o.width,height:o.height}},e,i),a}(u,a,function(){setTimeout(function(){i.removeClipPath()})});i.setClipPath(n)}this._data=s},incrementalPrepareRender:function(t,e,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},incrementalRender:function(t,e,i){for(var n=e.getData(),o=e.coordinateSystem,a=o.dimensions,r=uS(e),s=t.start;s<t.end;s++){var l=lS(n,this._dataGroup,s,a,o);l.incremental=!0,hS(l,n,s,r)}},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});function sS(t,e,i,n){for(var o,a=[],r=0;r<i.length;r++){var s=i[r],l=t.get(t.mapDimension(s),e);o=l,("category"===n.getAxis(s).type?null==o:null==o||isNaN(o))||a.push(n.dataToPoint(l,s))}return a}function lS(t,e,i,n,o){var a=sS(t,i,n,o),r=new ts({shape:{points:a},silent:!0,z2:10});return e.add(r),t.setItemGraphicEl(i,r),r}function uS(t){var e=t.get("smooth",!0);return!0===e&&(e=.3),{lineStyle:t.getModel("lineStyle").getLineStyle(),smooth:null!=e?e:.3}}function hS(t,e,i,n){var o=n.lineStyle;e.hasItemOption&&(o=e.getItemModel(i).getModel("lineStyle").getLineStyle());t.useStyle(o);var a=t.style;a.fill=null,a.stroke=e.getItemVisual(i,"color"),a.opacity=e.getItemVisual(i,"opacity"),n.smooth&&(t.shape.smooth=n.smooth)}var cS=["lineStyle","normal","opacity"];bf({seriesType:"parallel",reset:function(t,e,i){var n=t.getModel("itemStyle"),o=t.getModel("lineStyle"),a=e.get("color"),r=o.get("color")||n.get("color")||a[t.seriesIndex%a.length],s=t.get("inactiveOpacity"),l=t.get("activeOpacity"),u=t.getModel("lineStyle").getLineStyle(),h=t.coordinateSystem,c=t.getData(),d={normal:u.opacity,active:l,inactive:s};return c.setVisual("color",r),{progress:function(t,o){h.eachActiveState(o,function(t,e){var i=d[t];if("normal"===t&&o.hasItemOption){var n=o.getItemModel(e).get(cS,!0);null!=n&&(i=n)}o.setItemVisual(e,"opacity",i)},t.start,t.end)}}}});var dS=rc.extend({type:"series.sankey",layoutInfo:null,levelModels:null,getInitialData:function(t,e){for(var i=t.edges||t.links,n=t.data||t.nodes,o=t.levels,a=this.levelModels={},r=0;r<o.length;r++)null!=o[r].depth&&0<=o[r].depth&&(a[o[r].depth]=new Cl(o[r],this,e));if(n&&i)return tw(n,i,this,!0,function(t,e){t.wrapMethod("getItemModel",function(t,n){return t.customizeGetParent(function(t){var e=this.parentModel,i=e.getData().getItemLayout(n).depth;return e.levelModels[i]||this.parentModel}),t}),e.wrapMethod("getItemModel",function(t,n){return t.customizeGetParent(function(t){var e=this.parentModel,i=e.getGraph().getEdgeByIndex(n).node1.getLayout().depth;return e.levelModels[i]||this.parentModel}),t})}).data},setNodePosition:function(t,e){var i=this.option.data[t];i.localX=e[0],i.localY=e[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(t,e,i){if("edge"===i){var n=this.getDataParams(t,i),o=n.data,a=o.source+" -- "+o.target;return n.value&&(a+=" : "+n.value),au(a)}if("node"!==i)return dS.superCall(this,"formatTooltip",t,e);var r=this.getGraph().getNodeByIndex(t).getLayout().value,s=this.getDataParams(t,i).data.name;if(r)a=s+" : "+r;return au(a)},optionUpdated:function(){var t=this.option;!0===t.focusNodeAdjacency&&(t.focusNodeAdjacency="allEdges")},getDataParams:function(t,e){var i=dS.superCall(this,"getDataParams",t,e);if(null==i.value&&"node"===e){var n=this.getGraph().getNodeByIndex(t).getLayout().value;i.value=n}return i},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},levels:[],nodeAlign:"justify",itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},animationEasing:"linear",animationDuration:1e3}}),fS=["itemStyle","opacity"],pS=["emphasis","itemStyle","opacity"],gS=["lineStyle","opacity"],mS=["emphasis","lineStyle","opacity"];function vS(t,e){return t.getVisual("opacity")||t.getModel().get(e)}function yS(t,e,i){var n=t.getGraphicEl(),o=vS(t,e);null!=i&&(null==o&&(o=1),o*=i),n.downplay&&n.downplay(),n.traverse(function(t){"group"!==t.type&&t.setStyle("opacity",o)})}function xS(t,e){var i=vS(t,e),n=t.getGraphicEl();n.traverse(function(t){"group"!==t.type&&t.setStyle("opacity",i)}),n.highlight&&n.highlight()}var _S=Cs({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0,orient:""},buildPath:function(t,e){var i=e.extent;t.moveTo(e.x1,e.y1),t.bezierCurveTo(e.cpx1,e.cpy1,e.cpx2,e.cpy2,e.x2,e.y2),"vertical"===e.orient?(t.lineTo(e.x2+i,e.y2),t.bezierCurveTo(e.cpx2+i,e.cpy2,e.cpx1+i,e.cpy1,e.x1+i,e.y1)):(t.lineTo(e.x2,e.y2+i),t.bezierCurveTo(e.cpx2,e.cpy2+i,e.cpx1,e.cpy1+i,e.x1,e.y1+i)),t.closePath()},highlight:function(){this.trigger("emphasis")},downplay:function(){this.trigger("normal")}});Df({type:"sankey",_model:null,_focusAdjacencyDisabled:!1,render:function(w,t,n){var o=this,e=w.getGraph(),b=this.group,i=w.layoutInfo,S=i.width,M=i.height,u=w.getData(),I=w.getData("edge"),T=w.get("orient");this._model=w,b.removeAll(),b.attr("position",[i.x,i.y]),e.eachEdge(function(t){var e=new _S;e.dataIndex=t.dataIndex,e.seriesIndex=w.seriesIndex,e.dataType="edge";var i,n,o,a,r,s,l,u,h=t.getModel("lineStyle"),c=h.get("curveness"),d=t.node1.getLayout(),f=t.node1.getModel(),p=f.get("localX"),g=f.get("localY"),m=t.node2.getLayout(),v=t.node2.getModel(),y=v.get("localX"),x=v.get("localY"),_=t.getLayout();switch(e.shape.extent=Math.max(1,_.dy),u="vertical"===(e.shape.orient=T)?(i=(null!=p?p*S:d.x)+_.sy,n=(null!=g?g*M:d.y)+d.dy,o=(null!=y?y*S:m.x)+_.ty,r=i,s=n*(1-c)+(a=null!=x?x*M:m.y)*c,l=o,n*c+a*(1-c)):(i=(null!=p?p*S:d.x)+d.dx,n=(null!=g?g*M:d.y)+_.sy,r=i*(1-c)+(o=null!=y?y*S:m.x)*c,s=n,l=i*c+o*(1-c),a=(null!=x?x*M:m.y)+_.ty),e.setShape({x1:i,y1:n,x2:o,y2:a,cpx1:r,cpy1:s,cpx2:l,cpy2:u}),e.setStyle(h.getItemStyle()),e.style.fill){case"source":e.style.fill=t.node1.getVisual("color");break;case"target":e.style.fill=t.node2.getVisual("color")}$s(e,t.getModel("emphasis.lineStyle").getItemStyle()),b.add(e),I.setItemGraphicEl(t.dataIndex,e)}),e.eachNode(function(t){var e=t.getLayout(),i=t.getModel(),n=i.get("localX"),o=i.get("localY"),a=i.getModel("label"),r=i.getModel("emphasis.label"),s=new rs({shape:{x:null!=n?n*S:e.x,y:null!=o?o*M:e.y,width:e.dx,height:e.dy},style:i.getModel("itemStyle").getItemStyle()}),l=t.getModel("emphasis.itemStyle").getItemStyle();el(s.style,l,a,r,{labelFetcher:w,labelDataIndex:t.dataIndex,defaultText:t.id,isRectText:!0}),s.setStyle("fill",t.getVisual("color")),$s(s,l),b.add(s),u.setItemGraphicEl(t.dataIndex,s),s.dataType="node"}),u.eachItemGraphicEl(function(t,i){var e=u.getItemModel(i);e.get("draggable")&&(t.drift=function(t,e){o._focusAdjacencyDisabled=!0,this.shape.x+=t,this.shape.y+=e,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:w.id,dataIndex:u.getRawIndex(i),localX:this.shape.x/S,localY:this.shape.y/M})},t.ondragend=function(){o._focusAdjacencyDisabled=!1},t.draggable=!0,t.cursor="move"),t.highlight=function(){this.trigger("emphasis")},t.downplay=function(){this.trigger("normal")},t.focusNodeAdjHandler&&t.off("mouseover",t.focusNodeAdjHandler),t.unfocusNodeAdjHandler&&t.off("mouseout",t.unfocusNodeAdjHandler),e.get("focusNodeAdjacency")&&(t.on("mouseover",t.focusNodeAdjHandler=function(){o._focusAdjacencyDisabled||(o._clearTimer(),n.dispatchAction({type:"focusNodeAdjacency",seriesId:w.id,dataIndex:t.dataIndex}))}),t.on("mouseout",t.unfocusNodeAdjHandler=function(){o._focusAdjacencyDisabled||o._dispatchUnfocus(n)}))}),I.eachItemGraphicEl(function(t,e){var i=I.getItemModel(e);t.focusNodeAdjHandler&&t.off("mouseover",t.focusNodeAdjHandler),t.unfocusNodeAdjHandler&&t.off("mouseout",t.unfocusNodeAdjHandler),i.get("focusNodeAdjacency")&&(t.on("mouseover",t.focusNodeAdjHandler=function(){o._focusAdjacencyDisabled||(o._clearTimer(),n.dispatchAction({type:"focusNodeAdjacency",seriesId:w.id,edgeDataIndex:t.dataIndex}))}),t.on("mouseout",t.unfocusNodeAdjHandler=function(){o._focusAdjacencyDisabled||o._dispatchUnfocus(n)}))}),!this._data&&w.get("animation")&&b.setClipPath(function(t,e,i){var n=new rs({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return dl(n,{shape:{width:t.width+20}},e,i),n}(b.getBoundingRect(),w,function(){b.removeClipPath()})),this._data=w.getData()},dispose:function(){this._clearTimer()},_dispatchUnfocus:function(t){var e=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout(function(){e._unfocusDelayTimer=null,t.dispatchAction({type:"unfocusNodeAdjacency",seriesId:e._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(t,e,i,n){var o=t.getData(),a=o.graph,r=n.dataIndex,s=o.getItemModel(r),l=n.edgeDataIndex;if(null!=r||null!=l){var u=a.getNodeByIndex(r),h=a.getEdgeByIndex(l);if(a.eachNode(function(t){yS(t,fS,.1)}),a.eachEdge(function(t){yS(t,gS,.1)}),u){xS(u,pS);var c=s.get("focusNodeAdjacency");"outEdges"===c?E(u.outEdges,function(t){t.dataIndex<0||(xS(t,mS),xS(t.node2,pS))}):"inEdges"===c?E(u.inEdges,function(t){t.dataIndex<0||(xS(t,mS),xS(t.node1,pS))}):"allEdges"===c&&E(u.edges,function(t){t.dataIndex<0||(xS(t,mS),t.node1!==u&&xS(t.node1,pS),t.node2!==u&&xS(t.node2,pS))})}h&&(xS(h,mS),xS(h.node1,pS),xS(h.node2,pS))}},unfocusNodeAdjacency:function(t,e,i,n){var o=t.getGraph();o.eachNode(function(t){yS(t,fS)}),o.eachEdge(function(t){yS(t,gS)})}}),xf({type:"dragNode",event:"dragnode",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(t){t.setNodePosition(e.dataIndex,[e.localX,e.localY])})});function wS(t){var e=t.hostGraph.data.getRawDataItem(t.dataIndex);return null!=e.depth&&0<=e.depth}function bS(t,l,u,h,c){var d="vertical"===c?"x":"y";E(t,function(t){var e,i,n;t.sort(function(t,e){return t.getLayout()[d]-e.getLayout()[d]});for(var o=0,a=t.length,r="vertical"===c?"dx":"dy",s=0;s<a;s++)0<(n=o-(i=t[s]).getLayout()[d])&&(e=i.getLayout()[d]+n,"vertical"===c?i.setLayout({x:e},!0):i.setLayout({y:e},!0)),o=i.getLayout()[d]+i.getLayout()[r]+l;if(0<(n=o-l-("vertical"===c?h:u)))for(e=i.getLayout()[d]-n,"vertical"===c?i.setLayout({x:e},!0):i.setLayout({y:e},!0),o=e,s=a-2;0<=s;--s)0<(n=(i=t[s]).getLayout()[d]+i.getLayout()[r]+l-o)&&(e=i.getLayout()[d]-n,"vertical"===c?i.setLayout({x:e},!0):i.setLayout({y:e},!0)),o=i.getLayout()[d]})}function SS(t,o,a){E(t.slice().reverse(),function(t){E(t,function(t){if(t.outEdges.length){var e=DS(t.outEdges,MS,a)/DS(t.outEdges,AS,a);if("vertical"===a){var i=t.getLayout().x+(e-TS(t,a))*o;t.setLayout({x:i},!0)}else{var n=t.getLayout().y+(e-TS(t,a))*o;t.setLayout({y:n},!0)}}})})}function MS(t,e){return TS(t.node2,e)*t.getValue()}function IS(t,e){return TS(t.node1,e)*t.getValue()}function TS(t,e){return"vertical"===e?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function AS(t){return t.getValue()}function DS(t,e,i){for(var n=0,o=t.length,a=-1;++a<o;){var r=+e.call(t,t[a],i);isNaN(r)||(n+=r)}return n}function CS(t,o,a){E(t,function(t){E(t,function(t){if(t.inEdges.length){var e=DS(t.inEdges,IS,a)/DS(t.inEdges,AS,a);if("vertical"===a){var i=t.getLayout().x+(e-TS(t,a))*o;t.setLayout({x:i},!0)}else{var n=t.getLayout().y+(e-TS(t,a))*o;t.setLayout({y:n},!0)}}})})}wf(function(t,u,e){t.eachSeriesByType("sankey",function(t){var e=t.get("nodeWidth"),i=t.get("nodeGap"),n=function(t,e){return wu(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,u),o=(t.layoutInfo=n).width,a=n.height,r=t.getGraph(),s=r.nodes,l=r.edges;!function(t){E(t,function(t){var e=DS(t.outEdges,AS),i=DS(t.inEdges,AS),n=t.getValue()||0,o=Math.max(e,i,n);t.setLayout({value:o},!0)})}(s),function(t,e,i,n,o,a,r,s,l){(function(t,e,i,n,o,a,r){for(var s=[],l=[],u=[],h=[],c=0,d=0;d<e.length;d++)s[d]=1;for(d=0;d<t.length;d++)l[d]=t[d].inEdges.length,0===l[d]&&u.push(t[d]);var f=-1;for(;u.length;){for(var p=0;p<u.length;p++){var g=u[p],m=g.hostGraph.data.getRawDataItem(g.dataIndex),v=null!=m.depth&&0<=m.depth;v&&m.depth>f&&(f=m.depth),g.setLayout({depth:v?m.depth:c},!0),"vertical"===a?g.setLayout({dy:i},!0):g.setLayout({dx:i},!0);for(var y=0;y<g.outEdges.length;y++){var x=g.outEdges[y],_=e.indexOf(x);s[_]=0;var w=x.node2,b=t.indexOf(w);0==--l[b]&&h.indexOf(w)<0&&h.push(w)}}++c,u=h,h=[]}for(d=0;d<s.length;d++)if(1===s[d])throw new Error("Sankey is a DAG, the original data has cycle!");var S=c-1<f?f:c-1;r&&"left"!==r&&function(t,e,i,n){if("right"===e){for(var o=[],a=t,r=0;a.length;){for(var s=0;s<a.length;s++){var l=a[s];l.setLayout({skNodeHeight:r},!0);for(var u=0;u<l.inEdges.length;u++){var h=l.inEdges[u];o.indexOf(h.node1)<0&&o.push(h.node1)}}a=o,o=[],++r}E(t,function(t){wS(t)||t.setLayout({depth:Math.max(0,n-t.getLayout().skNodeHeight)},!0)})}else"justify"===e&&function(t,e){E(t,function(t){wS(t)||t.outEdges.length||t.setLayout({depth:e},!0)})}(t,n)}(t,r,0,S);!function(t,i,n){E(t,function(t){var e=t.getLayout().depth*i;"vertical"===n?t.setLayout({y:e},!0):t.setLayout({x:e},!0)})}(t,"vertical"===a?(o-i)/S:(n-i)/S,a)})(t,e,i,o,a,s,l),function(t,e,i,n,o,a,r){var s=function(t,e){var i=[],n="vertical"===e?"y":"x",o=ta(t,function(t){return t.getLayout()[n]});return o.keys.sort(function(t,e){return t-e}),E(o.keys,function(t){i.push(o.buckets.get(t))}),i}(t,r);(function(t,e,o,a,r,s){var l=1/0;E(t,function(t){var e=t.length,i=0;E(t,function(t){i+=t.getLayout().value});var n="vertical"===s?(a-(e-1)*r)/i:(o-(e-1)*r)/i;n<l&&(l=n)}),E(t,function(t){E(t,function(t,e){var i=t.getLayout().value*l;"vertical"===s?(t.setLayout({x:e},!0),t.setLayout({dx:i},!0)):(t.setLayout({y:e},!0),t.setLayout({dy:i},!0))})}),E(e,function(t){var e=+t.getValue()*l;t.setLayout({dy:e},!0)})})(s,e,i,n,o,r),bS(s,o,i,n,r);for(var l=1;0<a;a--)SS(s,l*=.99,r),bS(s,o,i,n,r),CS(s,l,r),bS(s,o,i,n,r)}(t,e,a,o,n,r,s),function(t,e){var i="vertical"===e?"x":"y";E(t,function(t){t.outEdges.sort(function(t,e){return t.node2.getLayout()[i]-e.node2.getLayout()[i]}),t.inEdges.sort(function(t,e){return t.node1.getLayout()[i]-e.node1.getLayout()[i]})}),E(t,function(t){var e=0,i=0;E(t.outEdges,function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy}),E(t.inEdges,function(t){t.setLayout({ty:i},!0),i+=t.getLayout().dy})})}(t,s)}(s,l,e,i,o,a,0!==M(s,function(t){return 0===t.getLayout().value}).length?0:t.get("layoutIterations"),t.get("orient"),t.get("nodeAlign"))})}),bf(function(t,e){t.eachSeriesByType("sankey",function(n){var t=n.getGraph().nodes;if(t.length){var o=1/0,a=-1/0;E(t,function(t){var e=t.getLayout().value;e<o&&(o=e),a<e&&(a=e)}),E(t,function(t){var e=new f_({type:"color",mappingMethod:"linear",dataExtent:[o,a],visual:n.get("color")}).mapValueToVisual(t.getLayout().value),i=t.getModel().get("itemStyle.color");null!=i?t.setVisual("color",i):t.setVisual("color",e)})}})});var LS={_baseAxisDim:null,getInitialData:function(t,e){var i,n,o=e.getComponent("xAxis",this.get("xAxisIndex")),a=e.getComponent("yAxis",this.get("yAxisIndex")),r=o.get("type"),s=a.get("type");"category"===r?(t.layout="horizontal",i=o.getOrdinalMeta(),n=!0):"category"===s?(t.layout="vertical",i=a.getOrdinalMeta(),n=!0):t.layout=t.layout||"horizontal";var l=["x","y"],u="horizontal"===t.layout?0:1,h=this._baseAxisDim=l[u],c=l[1-u],d=[o,a],f=d[u].get("type"),p=d[1-u].get("type"),g=t.data;if(g&&n){var m=[];E(g,function(t,e){var i;t.value&&O(t.value)?(i=t.value.slice(),t.value.unshift(e)):O(t)?(i=t.slice(),t.unshift(e)):i=t,m.push(i)}),t.data=m}var v=this.defaultValueDimensions,y=[{name:h,type:Of(f),ordinalMeta:i,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:c,type:Of(p),dimsDef:v.slice()}];return Uv(this,{coordDimensions:y,dimensionsCount:v.length+1,encodeDefaulter:T(Ku,y,this)})},getBaseAxis:function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis}};b(rc.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}}),LS,!0);var kS=["itemStyle"],PS=["emphasis","itemStyle"],NS=(xc.extend({type:"boxplot",render:function(t,e,i){var o=t.getData(),a=this.group,r=this._data;this._data||a.removeAll();var s="horizontal"===t.get("layout")?1:0;o.diff(r).add(function(t){if(o.hasValue(t)){var e=OS(o.getItemLayout(t),o,t,s,!0);o.setItemGraphicEl(t,e),a.add(e)}}).update(function(t,e){var i=r.getItemGraphicEl(e);if(o.hasValue(t)){var n=o.getItemLayout(t);i?ES(n,i,o,t):i=OS(n,o,t,s),a.add(i),o.setItemGraphicEl(t,i)}else a.remove(i)}).remove(function(t){var e=r.getItemGraphicEl(t);e&&a.remove(e)}).execute(),this._data=o},remove:function(t){var e=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl(function(t){t&&e.remove(t)})},dispose:et}),Ar.extend({type:"boxplotBoxPath",shape:{},buildPath:function(t,e){var i=e.points,n=0;for(t.moveTo(i[n][0],i[n][1]),n++;n<4;n++)t.lineTo(i[n][0],i[n][1]);for(t.closePath();n<i.length;n++)t.moveTo(i[n][0],i[n][1]),n++,t.lineTo(i[n][0],i[n][1])}}));function OS(t,e,i,n,o){var a=t.ends,r=new NS({shape:{points:o?function(t,e,i){return N(t,function(t){return(t=t.slice())[e]=i.initBaseline,t})}(a,n,t):a}});return ES(t,r,e,i,o),r}function ES(t,e,i,n,o){var a=i.hostModel;(0,bl[o?"initProps":"updateProps"])(e,{shape:{points:t.ends}},a,n);var r=i.getItemModel(n),s=r.getModel(kS),l=i.getItemVisual(n,"color"),u=s.getItemStyle(["borderColor"]);u.stroke=l,u.strokeNoScale=!0,e.useStyle(u),e.z2=100,$s(e,r.getModel(PS).getItemStyle())}var RS=["itemStyle","borderColor"],zS=E;bf(function(n,t){var o=n.get("color");n.eachRawSeriesByType("boxplot",function(t){var e=o[t.seriesIndex%o.length],i=t.getData();i.setVisual({legendSymbol:"roundRect",color:t.get(RS)||e}),n.isSeriesFiltered(t)||i.each(function(t){var e=i.getItemModel(t);i.setItemVisual(t,{color:e.get(RS,!0)})})})}),wf(function(t){var e=function(t){var n=[],o=[];return t.eachSeriesByType("boxplot",function(t){var e=t.getBaseAxis(),i=_(o,e);i<0&&(i=o.length,o[i]=e,n[i]={axis:e,seriesModels:[]}),n[i].seriesModels.push(t)}),n}(t);zS(e,function(i){var t=i.seriesModels;t.length&&(function(t){var e,i,n=t.axis,o=t.seriesModels,a=o.length,r=t.boxWidthList=[],s=t.boxOffsetList=[],l=[];if("category"===n.type)i=n.getBandWidth();else{var u=0;zS(o,function(t){u=Math.max(u,t.getData().count())}),e=n.getExtent(),Math.abs(e[1]-e[0])}zS(o,function(t){var e=t.get("boxWidth");O(e)||(e=[e,e]),l.push([Rl(e[0],i)||0,Rl(e[1],i)||0])});var h=.8*i-2,c=h/a*.3,d=(h-c*(a-1))/a,f=d/2-h/2;zS(o,function(t,e){s.push(f),f+=c+d,r.push(Math.min(Math.max(d,l[e][0]),l[e][1]))})}(i),zS(t,function(t,e){!function(t,r,e){var s=t.coordinateSystem,l=t.getData(),a=e/2,u="horizontal"===t.get("layout")?0:1,h=1-u,i=["x","y"],n=l.mapDimension(i[u]),o=l.mapDimension(i[h],!0);if(null==n||o.length<5)return;for(var c=0;c<l.count();c++){var d=l.get(n,c),f=x(d,o[2],c),p=x(d,o[0],c),g=x(d,o[1],c),m=x(d,o[3],c),v=x(d,o[4],c),y=[];_(y,g,0),_(y,m,1),y.push(p,g,v,m),w(y,p),w(y,v),w(y,f),l.setItemLayout(c,{initBaseline:f[h],ends:y})}function x(t,e,i){var n,o=l.get(e,i),a=[];return a[u]=t,a[h]=o,isNaN(t)||isNaN(o)?n=[NaN,NaN]:(n=s.dataToPoint(a))[u]+=r,n}function _(t,e,i){var n=e.slice(),o=e.slice();n[u]+=a,o[u]-=a,i?t.push(n,o):t.push(o,n)}function w(t,e){var i=e.slice(),n=e.slice();i[u]-=a,n[u]+=a,t.push(i,n)}}(t,i.boxOffsetList[e],i.boxWidthList[e])}))})}),b(rc.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,clip:!0,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(t,e,i){var n=e.getItemLayout(t);return n&&i.rect(n.brushRect)}}),LS,!0);var BS=["itemStyle"],VS=["emphasis","itemStyle"],GS=["color","color0","borderColor","borderColor0"],FS=(xc.extend({type:"candlestick",render:function(t,e,i){this.group.removeClipPath(),this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},incrementalPrepareRender:function(t,e,i){this._clear(),this._updateDrawMode(t)},incrementalRender:function(t,e,i,n){this._isLargeDraw?this._incrementalRenderLarge(t,e):this._incrementalRenderNormal(t,e)},_updateDrawMode:function(t){var e=t.pipelineContext.large;(null==this._isLargeDraw||e^this._isLargeDraw)&&(this._isLargeDraw=e,this._clear())},_renderNormal:function(o){var a=o.getData(),r=this._data,s=this.group,l=a.getLayout("isSimpleBox"),u=o.get("clip",!0),t=o.coordinateSystem,h=t.getArea&&t.getArea();this._data||s.removeAll(),a.diff(r).add(function(t){if(a.hasValue(t)){var e,i=a.getItemLayout(t);if(u&&HS(h,i))return;dl(e=WS(i,t,!0),{shape:{points:i.ends}},o,t),ZS(e,a,t,l),s.add(e),a.setItemGraphicEl(t,e)}}).update(function(t,e){var i=r.getItemGraphicEl(e);if(a.hasValue(t)){var n=a.getItemLayout(t);u&&HS(h,n)?s.remove(i):(i?cl(i,{shape:{points:n.ends}},o,t):i=WS(n,t),ZS(i,a,t,l),s.add(i),a.setItemGraphicEl(t,i))}else s.remove(i)}).remove(function(t){var e=r.getItemGraphicEl(t);e&&s.remove(e)}).execute(),this._data=a},_renderLarge:function(t){this._clear(),XS(t,this.group);var e=t.get("clip",!0)?bm(t.coordinateSystem,!1,t):null;e?this.group.setClipPath(e):this.group.removeClipPath()},_incrementalRenderNormal:function(t,e){for(var i,n=e.getData(),o=n.getLayout("isSimpleBox");null!=(i=t.next());){var a;ZS(a=WS(n.getItemLayout(i),i),n,i,o),a.incremental=!0,this.group.add(a)}},_incrementalRenderLarge:function(t,e){XS(e,this.group,!0)},remove:function(t){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:et}),Ar.extend({type:"normalCandlestickBox",shape:{},buildPath:function(t,e){var i=e.points;this.__simpleBox?(t.moveTo(i[4][0],i[4][1]),t.lineTo(i[6][0],i[6][1])):(t.moveTo(i[0][0],i[0][1]),t.lineTo(i[1][0],i[1][1]),t.lineTo(i[2][0],i[2][1]),t.lineTo(i[3][0],i[3][1]),t.closePath(),t.moveTo(i[4][0],i[4][1]),t.lineTo(i[5][0],i[5][1]),t.moveTo(i[6][0],i[6][1]),t.lineTo(i[7][0],i[7][1]))}}));function WS(t,e,i){var n=t.ends;return new FS({shape:{points:i?function(t,e){return N(t,function(t){return(t=t.slice())[1]=e.initBaseline,t})}(n,t):n},z2:100})}function HS(t,e){for(var i=!0,n=0;n<e.ends.length;n++)if(t.contain(e.ends[n][0],e.ends[n][1])){i=!1;break}return i}function ZS(t,e,i,n){var o=e.getItemModel(i),a=o.getModel(BS),r=e.getItemVisual(i,"color"),s=e.getItemVisual(i,"borderColor")||r,l=a.getItemStyle(GS);t.useStyle(l),t.style.strokeNoScale=!0,t.style.fill=r,t.style.stroke=s,t.__simpleBox=n,$s(t,o.getModel(VS).getItemStyle())}var US=Ar.extend({type:"largeCandlestickBox",shape:{},buildPath:function(t,e){for(var i=e.points,n=0;n<i.length;)if(this.__sign===i[n++]){var o=i[n++];t.moveTo(o,i[n++]),t.lineTo(o,i[n++])}else n+=3}});function XS(t,e,i){var n=t.getData(),o=n.getLayout("largePoints"),a=new US({shape:{points:o},__sign:1});e.add(a);var r=new US({shape:{points:o},__sign:-1});e.add(r),YS(1,a,t,n),YS(-1,r,t,n),i&&(a.incremental=!0,r.incremental=!0)}function YS(t,e,i,n){var o=0<t?"P":"N",a=n.getVisual("borderColor"+o)||n.getVisual("color"+o),r=i.getModel(BS).getItemStyle(GS);e.useStyle(r),e.style.fill=null,e.style.stroke=a}var jS=["itemStyle","borderColor"],qS=["itemStyle","borderColor0"],KS=["itemStyle","color"],$S=["itemStyle","color0"],JS={seriesType:"candlestick",plan:mc(),performRawSeries:!0,reset:function(t,e){if(t.getData().setVisual({legendSymbol:"roundRect",colorP:a(1,t),colorN:a(-1,t),borderColorP:r(1,t),borderColorN:r(-1,t)}),!e.isSeriesFiltered(t))return!t.pipelineContext.large&&{progress:function(t,e){var i;for(;null!=(i=t.next());){var n=e.getItemModel(i),o=e.getItemLayout(i).sign;e.setItemVisual(i,{color:a(o,n),borderColor:r(o,n)})}}};function a(t,e){return e.get(0<t?KS:$S)}function r(t,e){return e.get(0<t?jS:qS)}}},QS="undefined"!=typeof Float32Array?Float32Array:Array,tM={seriesType:"candlestick",plan:mc(),reset:function(t){var x=t.coordinateSystem,e=t.getData(),_=function(t,e){var i,n=t.getBaseAxis(),o="category"===n.type?n.getBandWidth():(i=n.getExtent(),Math.abs(i[1]-i[0])/e.count()),a=Rl(H(t.get("barMaxWidth"),o),o),r=Rl(H(t.get("barMinWidth"),1),o),s=t.get("barWidth");return null!=s?Rl(s,o):Math.max(Math.min(o/2,a),r)}(t,e),i=["x","y"],w=e.mapDimension(i[0]),n=e.mapDimension(i[1],!0),b=n[0],S=n[1],M=n[2],I=n[3];if(e.setLayout({candleWidth:_,isSimpleBox:_<=1.3}),!(null==w||n.length<4))return{progress:t.pipelineContext.large?function(t,e){var i,n,o=new QS(4*t.count),a=0,r=[],s=[];for(;null!=(n=t.next());){var l=e.get(w,n),u=e.get(b,n),h=e.get(S,n),c=e.get(M,n),d=e.get(I,n);isNaN(l)||isNaN(c)||isNaN(d)?(o[a++]=NaN,a+=3):(o[a++]=eM(e,n,u,h,S),r[0]=l,r[1]=c,i=x.dataToPoint(r,null,s),o[a++]=i?i[0]:NaN,o[a++]=i?i[1]:NaN,r[1]=d,i=x.dataToPoint(r,null,s),o[a++]=i?i[1]:NaN)}e.setLayout("largePoints",o)}:function(t,e){var i;for(;null!=(i=t.next());){var n=e.get(w,i),o=e.get(b,i),a=e.get(S,i),r=e.get(M,i),s=e.get(I,i),l=Math.min(o,a),u=Math.max(o,a),h=g(l,n),c=g(u,n),d=g(r,n),f=g(s,n),p=[];m(p,c,0),m(p,h,1),p.push(y(f),y(c),y(d),y(h)),e.setItemLayout(i,{sign:eM(e,i,o,a,S),initBaseline:a<o?c[1]:h[1],ends:p,brushRect:v(r,s,n)})}function g(t,e){var i=[];return i[0]=e,i[1]=t,isNaN(e)||isNaN(t)?[NaN,NaN]:x.dataToPoint(i)}function m(t,e,i){var n=e.slice(),o=e.slice();n[0]=zs(n[0]+_/2,1,!1),o[0]=zs(o[0]-_/2,1,!0),i?t.push(n,o):t.push(o,n)}function v(t,e,i){var n=g(t,i),o=g(e,i);return n[0]-=_/2,o[0]-=_/2,{x:n[0],y:n[1],width:_,height:o[1]-n[1]}}function y(t){return t[0]=zs(t[0],1),t}}}}};function eM(t,e,i,n,o){return n<i?-1:i<n?1:0<e?t.get(o,e-1)<=n?1:-1:1}vf(function(t){t&&O(t.series)&&E(t.series,function(t){z(t)&&"k"===t.type&&(t.type="candlestick")})}),bf(JS),wf(tM),rc.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(t,e){return pp(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});function iM(t,e){var i=e.rippleEffectColor||e.color;t.eachChild(function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:"stroke"===e.brushType?i:null,fill:"fill"===e.brushType?i:null}})})}function nM(t,e){Ci.call(this);var i=new Ug(t,e),n=new Ci;this.add(i),this.add(n),n.beforeUpdate=function(){this.attr(i.getScale())},this.updateData(t,e)}var oM=nM.prototype;oM.stopEffectAnimation=function(){this.childAt(1).removeAll()},oM.startEffectAnimation=function(t){for(var e=t.symbolType,i=t.color,n=this.childAt(1),o=0;o<3;o++){var a=_g(e,-1,-1,2,2,i);a.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var r=-o/3*t.period+t.effectOffset;a.animate("",!0).when(t.period,{scale:[t.rippleScale/2,t.rippleScale/2]}).delay(r).start(),a.animateStyle(!0).when(t.period,{opacity:0}).delay(r).start(),n.add(a)}iM(n,t)},oM.updateEffectAnimation=function(t){for(var e=this._effectCfg,i=this.childAt(1),n=["symbolType","period","rippleScale"],o=0;o<n.length;o++){var a=n[o];if(e[a]!==t[a])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}iM(i,t)},oM.highlight=function(){this.trigger("emphasis")},oM.downplay=function(){this.trigger("normal")},oM.updateData=function(t,e){var i=t.hostModel;this.childAt(0).updateData(t,e);var n=this.childAt(1),o=t.getItemModel(e),a=t.getItemVisual(e,"symbol"),r=function(t){return O(t)||(t=[+t,+t]),t}(t.getItemVisual(e,"symbolSize")),s=t.getItemVisual(e,"color");n.attr("scale",r),n.traverse(function(t){t.attr({fill:s})});var l=o.getShallow("symbolOffset");if(l){var u=n.position;u[0]=Rl(l[0],r[0]),u[1]=Rl(l[1],r[1])}n.rotation=(o.getShallow("symbolRotate")||0)*Math.PI/180||0;var h={};if(h.showEffectOn=i.get("showEffectOn"),h.rippleScale=o.get("rippleEffect.scale"),h.brushType=o.get("rippleEffect.brushType"),h.period=1e3*o.get("rippleEffect.period"),h.effectOffset=e/t.count(),h.z=o.getShallow("z")||0,h.zlevel=o.getShallow("zlevel")||0,h.symbolType=a,h.color=s,h.rippleEffectColor=o.get("rippleEffect.color"),this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===h.showEffectOn)this._effectCfg?this.updateEffectAnimation(h):this.startEffectAnimation(h),this._effectCfg=h;else{this._effectCfg=null,this.stopEffectAnimation();var c=this.childAt(0),d=function(){c.highlight(),"render"!==h.showEffectOn&&this.startEffectAnimation(h)},f=function(){c.downplay(),"render"!==h.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",d,this).on("mouseout",f,this).on("emphasis",d,this).on("normal",f,this)}this._effectCfg=h},oM.fadeOut=function(t){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),t&&t()},w(nM,Ci),Df({type:"effectScatter",init:function(){this._symbolDraw=new em(nM)},render:function(t,e,i){var n=t.getData(),o=this._symbolDraw;o.updateData(n),this.group.add(o.group)},updateTransform:function(t,e,i){var n=t.getData();this.group.dirty();var o=Cm().reset(t);o.progress&&o.progress({start:0,end:n.count()},n),this._symbolDraw.updateLayout(n)},_updateGroupTransform:function(t){var e=t.coordinateSystem;e&&e.getRoamTransform&&(this.group.transform=fe(e.getRoamTransform()),this.group.decomposeTransform())},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(e)},dispose:function(){}}),bf(Dm("effectScatter","circle")),wf(Cm("effectScatter"));var aM="undefined"==typeof Uint32Array?Array:Uint32Array,rM="undefined"==typeof Float64Array?Array:Float64Array;function sM(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=N(e,function(t){var e={coords:[t[0].coord,t[1].coord]};return t[0].name&&(e.fromName=t[0].name),t[1].name&&(e.toName=t[1].name),p([e,t[0],t[1]])}))}var lM=rc.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(t){t.data=t.data||[],sM(t);var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count)),lM.superApply(this,"init",arguments)},mergeOption:function(t){if(t.data=t.data||[],sM(t),t.data){var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count))}lM.superApply(this,"mergeOption",arguments)},appendData:function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=tt(this._flatCoords,e.flatCoords),this._flatCoordsOffset=tt(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},_getCoordsFromItemModel:function(t){var e=this.getData().getItemModel(t);return e.option instanceof Array?e.option:e.getShallow("coords")},getLineCoordsCount:function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},getLineCoords:function(t,e){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[2*t],n=this._flatCoordsOffset[2*t+1],o=0;o<n;o++)e[o]=e[o]||[],e[o][0]=this._flatCoords[i+2*o],e[o][1]=this._flatCoords[i+2*o+1];return n}var a=this._getCoordsFromItemModel(t);for(o=0;o<a.length;o++)e[o]=e[o]||[],e[o][0]=a[o][0],e[o][1]=a[o][1];return a.length},_processFlatCoordsArray:function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),"number"!=typeof t[0])return{flatCoordsOffset:null,flatCoords:null,count:t.length};for(var i=t.length,n=new aM(i),o=new rM(i),a=0,r=0,s=0,l=0;l<i;){s++;var u=t[l++];n[r++]=a+e,n[r++]=u;for(var h=0;h<u;h++){var c=t[l++],d=t[l++];o[a++]=c,o[a++]=d}}return{flatCoordsOffset:new Uint32Array(n.buffer,0,r),flatCoords:o,count:s}},getInitialData:function(t,e){var a=new Xf(["value"],this);return a.hasItemOption=!1,a.initData(t.data,[],function(t,e,i,n){if(t instanceof Array)return NaN;a.hasItemOption=!0;var o=t.value;return null!=o?o instanceof Array?o[n]:o:void 0}),a},formatTooltip:function(t){var e=this.getData().getItemModel(t),i=e.get("name");if(i)return i;var n=e.get("fromName"),o=e.get("toName"),a=[];return null!=n&&a.push(n),null!=o&&a.push(o),au(a.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get("progressive"):t},getProgressiveThreshold:function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get("progressiveThreshold"):t},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}});function uM(t,e,i){Ci.call(this),this.add(this.createLine(t,e,i)),this._updateEffectSymbol(t,e)}var hM=uM.prototype;function cM(t,e,i){Ci.call(this),this._createPolyline(t,e,i)}hM.createLine=function(t,e,i){return new hw(t,e,i)},hM._updateEffectSymbol=function(t,e){var i=t.getItemModel(e).getModel("effect"),n=i.get("symbolSize"),o=i.get("symbol");O(n)||(n=[n,n]);var a=i.get("color")||t.getItemVisual(e,"color"),r=this.childAt(1);this._symbolType!==o&&(this.remove(r),(r=_g(o,-.5,-.5,1,1,a)).z2=100,r.culling=!0,this.add(r)),r&&(r.setStyle("shadowColor",a),r.setStyle(i.getItemStyle(["color"])),r.attr("scale",n),r.setColor(a),r.attr("scale",n),this._symbolType=o,this._symbolScale=n,this._updateEffectAnimation(t,i,e))},hM._updateEffectAnimation=function(e,t,i){var n=this.childAt(1);if(n){var o=this,a=e.getItemLayout(i),r=1e3*t.get("period"),s=t.get("loop"),l=t.get("constantSpeed"),u=W(t.get("delay"),function(t){return t/e.count()*r/3}),h="function"==typeof u;if(n.ignore=!0,this.updateAnimationPoints(n,a),0<l&&(r=this.getLineLength(n)/l*1e3),r!==this._period||s!==this._loop){n.stopAnimation();var c=u;h&&(c=u(i)),0<n.__t&&(c=-r*n.__t),n.__t=0;var d=n.animate("",s).when(r,{__t:1}).delay(c).during(function(){o.updateSymbolPosition(n)});s||d.done(function(){o.remove(n)}),d.start()}this._period=r,this._loop=s}},hM.getLineLength=function(t){return yt(t.__p1,t.__cp1)+yt(t.__cp1,t.__p2)},hM.updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},hM.updateData=function(t,e,i){this.childAt(0).updateData(t,e,i),this._updateEffectSymbol(t,e)},hM.updateSymbolPosition=function(t){var e=t.__p1,i=t.__p2,n=t.__cp1,o=t.__t,a=t.position,r=[a[0],a[1]],s=La,l=ka;a[0]=s(e[0],n[0],i[0],o),a[1]=s(e[1],n[1],i[1],o);var u=l(e[0],n[0],i[0],o),h=l(e[1],n[1],i[1],o);if(t.rotation=-Math.atan2(h,u)-Math.PI/2,"line"===this._symbolType||"rect"===this._symbolType||"roundRect"===this._symbolType)if(void 0!==t.__lastT&&t.__lastT<t.__t){var c=1.05*yt(r,a);t.attr("scale",[t.scale[0],c]),1===o&&(a[0]=r[0]+(a[0]-r[0])/2,a[1]=r[1]+(a[1]-r[1])/2)}else if(1===t.__lastT){c=2*yt(e,a);t.attr("scale",[t.scale[0],c])}else t.attr("scale",this._symbolScale);t.__lastT=t.__t,t.ignore=!1},hM.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var i=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,i,e)},w(uM,Ci);var dM=cM.prototype;function fM(t,e,i){uM.call(this,t,e,i),this._lastFrame=0,this._lastFramePercent=0}dM._createPolyline=function(t,e,i){var n=t.getItemLayout(e),o=new ts({shape:{points:n}});this.add(o),this._updateCommonStl(t,e,i)},dM.updateData=function(t,e,i){var n=t.hostModel;cl(this.childAt(0),{shape:{points:t.getItemLayout(e)}},n,e),this._updateCommonStl(t,e,i)},dM._updateCommonStl=function(t,e,i){var n=this.childAt(0),o=t.getItemModel(e),a=t.getItemVisual(e,"color"),r=i&&i.lineStyle,s=i&&i.hoverLineStyle;i&&!t.hasItemOption||(r=o.getModel("lineStyle").getLineStyle(),s=o.getModel("emphasis.lineStyle").getLineStyle()),n.useStyle(D({strokeNoScale:!0,fill:"none",stroke:a},r)),n.hoverStyle=s,$s(this)},dM.updateLayout=function(t,e){this.childAt(0).setShape("points",t.getItemLayout(e))},w(cM,Ci);var pM=fM.prototype;pM.createLine=function(t,e,i){return new cM(t,e,i)},pM.updateAnimationPoints=function(t,e){this._points=e;for(var i=[0],n=0,o=1;o<e.length;o++){var a=e[o-1],r=e[o];n+=yt(a,r),i.push(n)}if(0!==n){for(o=0;o<i.length;o++)i[o]/=n;this._offsets=i,this._length=n}},pM.getLineLength=function(t){return this._length},pM.updateSymbolPosition=function(t){var e=t.__t,i=this._points,n=this._offsets,o=i.length;if(n){var a=this._lastFrame;if(e<this._lastFramePercent){for(r=Math.min(a+1,o-1);0<=r&&!(n[r]<=e);r--);r=Math.min(r,o-2)}else{for(var r=a;r<o&&!(n[r]>e);r++);r=Math.min(r-1,o-2)}wt(t.position,i[r],i[r+1],(e-n[r])/(n[r+1]-n[r]));var s=i[r+1][0]-i[r][0],l=i[r+1][1]-i[r][1];t.rotation=-Math.atan2(l,s)-Math.PI/2,this._lastFrame=r,this._lastFramePercent=e,t.ignore=!1}},w(fM,uM);var gM=Cs({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(t,e){var i=e.segs,n=e.curveness;if(e.polyline)for(var o=0;o<i.length;){var a=i[o++];if(0<a){t.moveTo(i[o++],i[o++]);for(var r=1;r<a;r++)t.lineTo(i[o++],i[o++])}}else for(o=0;o<i.length;){var s=i[o++],l=i[o++],u=i[o++],h=i[o++];if(t.moveTo(s,l),0<n){var c=(s+u)/2-(l-h)*n,d=(l+h)/2-(u-s)*n;t.quadraticCurveTo(c,d,u,h)}else t.lineTo(u,h)}},findDataIndex:function(t,e){var i=this.shape,n=i.segs,o=i.curveness;if(i.polyline)for(var a=0,r=0;r<n.length;){var s=n[r++];if(0<s)for(var l=n[r++],u=n[r++],h=1;h<s;h++){if(sr(l,u,c=n[r++],d=n[r++]))return a}a++}else for(a=0,r=0;r<n.length;){l=n[r++],u=n[r++];var c=n[r++],d=n[r++];if(0<o){if(ur(l,u,(l+c)/2-(u-d)*o,(u+d)/2-(c-l)*o,c,d))return a}else if(sr(l,u,c,d))return a;a++}return-1}});function mM(){this.group=new Ci}var vM=mM.prototype;vM.isPersistent=function(){return!this._incremental},vM.updateData=function(t){this.group.removeAll();var e=new gM({rectHover:!0,cursor:"default"});e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},vM.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),5e5<t.count()?(this._incremental||(this._incremental=new vs({silent:!0})),this.group.add(this._incremental)):this._incremental=null},vM.incrementalUpdate=function(t,e){var i=new gM;i.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(i,e,!!this._incremental),this._incremental?this._incremental.addDisplayable(i,!0):(i.rectHover=!0,i.cursor="default",i.__startIndex=t.start,this.group.add(i))},vM.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},vM._setCommon=function(i,t,e){var n=t.hostModel;i.setShape({polyline:n.get("polyline"),curveness:n.get("lineStyle.curveness")}),i.useStyle(n.getModel("lineStyle").getLineStyle()),i.style.strokeNoScale=!0;var o=t.getVisual("color");o&&i.setStyle("stroke",o),i.setStyle("fill"),e||(i.seriesIndex=n.seriesIndex,i.on("mousemove",function(t){i.dataIndex=null;var e=i.findDataIndex(t.offsetX,t.offsetY);0<e&&(i.dataIndex=e+i.__startIndex)}))},vM._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var yM={seriesType:"lines",plan:mc(),reset:function(g){var m=g.coordinateSystem,v=g.get("polyline"),y=g.pipelineContext.large;return{progress:function(t,e){var i=[];if(y){var n,o=t.end-t.start;if(v){for(var a=0,r=t.start;r<t.end;r++)a+=g.getLineCoordsCount(r);n=new Float32Array(o+2*a)}else n=new Float32Array(4*o);var s=0,l=[];for(r=t.start;r<t.end;r++){var u=g.getLineCoords(r,i);v&&(n[s++]=u);for(var h=0;h<u;h++)l=m.dataToPoint(i[h],!1,l),n[s++]=l[0],n[s++]=l[1]}e.setLayout("linesPoints",n)}else for(r=t.start;r<t.end;r++){var c=e.getItemModel(r),d=(u=g.getLineCoords(r,i),[]);if(v)for(var f=0;f<u;f++)d.push(m.dataToPoint(i[f]));else{d[0]=m.dataToPoint(i[0]),d[1]=m.dataToPoint(i[1]);var p=c.get("lineStyle.curveness");+p&&(d[2]=[(d[0][0]+d[1][0])/2-(d[0][1]-d[1][1])*p,(d[0][1]+d[1][1])/2-(d[1][0]-d[0][0])*p])}e.setItemLayout(r,d)}}}}};function xM(t){return t instanceof Array||(t=[t,t]),t}Df({type:"lines",init:function(){},render:function(t,e,i){var n=t.getData(),o=this._updateLineDraw(n,t),a=t.get("zlevel"),r=t.get("effect.trailLength"),s=i.getZr(),l="svg"===s.painter.getType();l||s.painter.getLayer(a).clear(!0),null==this._lastZlevel||l||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&r&&(l||s.configLayer(a,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(r/10+.9,1),0)})),o.updateData(n);var u=t.get("clip",!0)&&bm(t.coordinateSystem,!1,t);u?this.group.setClipPath(u):this.group.removeClipPath(),this._lastZlevel=a,this._finished=!0},incrementalPrepareRender:function(t,e,i){var n=t.getData();this._updateLineDraw(n,t).incrementalPrepareUpdate(n),this._clearLayer(i),this._finished=!1},incrementalRender:function(t,e,i){this._lineDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},updateTransform:function(t,e,i){var n=t.getData(),o=t.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var a=yM.reset(t);a.progress&&a.progress({start:0,end:n.count()},n),this._lineDraw.updateLayout(),this._clearLayer(i)},_updateLineDraw:function(t,e){var i=this._lineDraw,n=this._showEffect(e),o=!!e.get("polyline"),a=e.pipelineContext.large;return i&&n===this._hasEffet&&o===this._isPolyline&&a===this._isLargeDraw||(i&&i.remove(),i=this._lineDraw=a?new mM:new dw(o?n?fM:cM:n?uM:hw),this._hasEffet=n,this._isPolyline=o,this._isLargeDraw=a,this.group.removeAll()),this.group.add(i.group),i},_showEffect:function(t){return!!t.get("effect.show")},_clearLayer:function(t){var e=t.getZr();"svg"===e.painter.getType()||null==this._lastZlevel||e.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(t,e){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(e)},dispose:function(){}});var _M="lineStyle.opacity".split("."),wM={seriesType:"lines",reset:function(t,e,i){var n=xM(t.get("symbol")),o=xM(t.get("symbolSize")),a=t.getData();return a.setVisual("fromSymbol",n&&n[0]),a.setVisual("toSymbol",n&&n[1]),a.setVisual("fromSymbolSize",o&&o[0]),a.setVisual("toSymbolSize",o&&o[1]),a.setVisual("opacity",t.get(_M)),{dataEach:a.hasItemOption?function(t,e){var i=t.getItemModel(e),n=xM(i.getShallow("symbol",!0)),o=xM(i.getShallow("symbolSize",!0)),a=i.get(_M);n[0]&&t.setItemVisual(e,"fromSymbol",n[0]),n[1]&&t.setItemVisual(e,"toSymbol",n[1]),o[0]&&t.setItemVisual(e,"fromSymbolSize",o[0]),o[1]&&t.setItemVisual(e,"toSymbolSize",o[1]),t.setItemVisual(e,"opacity",a)}:null}}};wf(yM),bf(wM),rc.extend({type:"series.heatmap",getInitialData:function(t,e){return pp(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var t=sh.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});function bM(){var t=g();this.canvas=t,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}bM.prototype={update:function(t,e,i,n,o,a){var r=this._getBrush(),s=this._getGradient(t,o,"inRange"),l=this._getGradient(t,o,"outOfRange"),u=this.pointSize+this.blurSize,h=this.canvas,c=h.getContext("2d"),d=t.length;h.width=e,h.height=i;for(var f=0;f<d;++f){var p=t[f],g=p[0],m=p[1],v=n(p[2]);c.globalAlpha=v,c.drawImage(r,g-u,m-u)}if(!h.width||!h.height)return h;for(var y=c.getImageData(0,0,h.width,h.height),x=y.data,_=0,w=x.length,b=this.minOpacity,S=this.maxOpacity-b;_<w;){v=x[_+3]/256;var M=4*Math.floor(255*v);if(0<v){var I=a(v)?s:l;0<v&&(v=v*S+b),x[_++]=I[M],x[_++]=I[1+M],x[_++]=I[2+M],x[_++]=I[3+M]*v*256}else _+=4}return c.putImageData(y,0,0),h},_getBrush:function(){var t=this._brushCanvas||(this._brushCanvas=g()),e=this.pointSize+this.blurSize,i=2*e;t.width=i,t.height=i;var n=t.getContext("2d");return n.clearRect(0,0,i,i),n.shadowOffsetX=i,n.shadowBlur=this.blurSize,n.shadowColor="#000",n.beginPath(),n.arc(-e,e,this.pointSize,0,2*Math.PI,!0),n.closePath(),n.fill(),t},_getGradient:function(t,e,i){for(var n=this._gradientPixels,o=n[i]||(n[i]=new Uint8ClampedArray(1024)),a=[0,0,0,0],r=0,s=0;s<256;s++)e[i](s/255,!0,a),o[r++]=a[0],o[r++]=a[1],o[r++]=a[2],o[r++]=a[3];return o}},Df({type:"heatmap",render:function(i,t,e){var n;t.eachComponent("visualMap",function(e){e.eachTargetSeries(function(t){t===i&&(n=e)})}),this.group.removeAll(),this._incrementalDisplayable=null;var o=i.coordinateSystem;"cartesian2d"===o.type||"calendar"===o.type?this._renderOnCartesianAndCalendar(i,e,0,i.getData().count()):function(t){var e=t.dimensions;return"lng"===e[0]&&"lat"===e[1]}(o)&&this._renderOnGeo(o,i,n,e)},incrementalPrepareRender:function(t,e,i){this.group.removeAll()},incrementalRender:function(t,e,i,n){e.coordinateSystem&&this._renderOnCartesianAndCalendar(e,n,t.start,t.end,!0)},_renderOnCartesianAndCalendar:function(t,e,i,n,o){var a,r,s=t.coordinateSystem;if("cartesian2d"===s.type){var l=s.getAxis("x"),u=s.getAxis("y");a=l.getBandWidth(),r=u.getBandWidth()}for(var h=this.group,c=t.getData(),d="emphasis.itemStyle",f="emphasis.label",p=t.getModel("itemStyle").getItemStyle(["color"]),g=t.getModel(d).getItemStyle(),m=t.getModel("label"),v=t.getModel(f),y=s.type,x="cartesian2d"===y?[c.mapDimension("x"),c.mapDimension("y"),c.mapDimension("value")]:[c.mapDimension("time"),c.mapDimension("value")],_=i;_<n;_++){var w;if("cartesian2d"===y){if(isNaN(c.get(x[2],_)))continue;var b=s.dataToPoint([c.get(x[0],_),c.get(x[1],_)]);w=new rs({shape:{x:Math.floor(b[0]-a/2),y:Math.floor(b[1]-r/2),width:Math.ceil(a),height:Math.ceil(r)},style:{fill:c.getItemVisual(_,"color"),opacity:c.getItemVisual(_,"opacity")}})}else{if(isNaN(c.get(x[1],_)))continue;w=new rs({z2:1,shape:s.dataToRect([c.get(x[0],_)]).contentShape,style:{fill:c.getItemVisual(_,"color"),opacity:c.getItemVisual(_,"opacity")}})}var S=c.getItemModel(_);c.hasItemOption&&(p=S.getModel("itemStyle").getItemStyle(["color"]),g=S.getModel(d).getItemStyle(),m=S.getModel("label"),v=S.getModel(f));var M=t.getRawValue(_),I="-";M&&null!=M[2]&&(I=M[2]),el(p,g,m,v,{labelFetcher:t,labelDataIndex:_,defaultText:I,isRectText:!0}),w.setStyle(p),$s(w,c.hasItemOption?g:k({},g)),(w.incremental=o)&&(w.useHoverLayer=!0),h.add(w),c.setItemGraphicEl(_,w)}},_renderOnGeo:function(o,t,e,i){var n=e.targetVisuals.inRange,a=e.targetVisuals.outOfRange,r=t.getData(),s=this._hmLayer||this._hmLayer||new bM;s.blurSize=t.get("blurSize"),s.pointSize=t.get("pointSize"),s.minOpacity=t.get("minOpacity"),s.maxOpacity=t.get("maxOpacity");var l=o.getViewRect().clone(),u=o.getRoamTransform();l.applyTransform(u);var h=Math.max(l.x,0),c=Math.max(l.y,0),d=Math.min(l.width+l.x,i.getWidth()),f=Math.min(l.height+l.y,i.getHeight()),p=d-h,g=f-c,m=[r.mapDimension("lng"),r.mapDimension("lat"),r.mapDimension("value")],v=r.mapArray(m,function(t,e,i){var n=o.dataToPoint([t,e]);return n[0]-=h,n[1]-=c,n.push(i),n}),y=e.getExtent(),x="visualMap.continuous"===e.type?function(t,e){var i=t[1]-t[0];return e=[(e[0]-t[0])/i,(e[1]-t[0])/i],function(t){return t>=e[0]&&t<=e[1]}}(y,e.option.range):function(e,n,o){var i=e[1]-e[0],a=(n=N(n,function(t){return{interval:[(t.interval[0]-e[0])/i,(t.interval[1]-e[0])/i]}})).length,r=0;return function(t){for(var e=r;e<a;e++){if((i=n[e].interval)[0]<=t&&t<=i[1]){r=e;break}}if(e===a)for(e=r-1;0<=e;e--){var i;if((i=n[e].interval)[0]<=t&&t<=i[1]){r=e;break}}return 0<=e&&e<a&&o[e]}}(y,e.getPieceList(),e.option.selected);s.update(v,p,g,n.color.getNormalizer(),{inRange:n.color.getColorMapper(),outOfRange:a.color.getColorMapper()},x);var _=new Qn({style:{width:p,height:g,x:h,y:c,image:s.canvas},silent:!0});this.group.add(_)},dispose:function(){}});var SM=Mv.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(t){return t.stack=null,SM.superApply(this,"getInitialData",arguments)}}),MM=["itemStyle","borderWidth"],IM=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],TM=new Yr;Df({type:"pictorialBar",render:function(t,e,i){var r=this.group,s=t.getData(),l=this._data,n=t.coordinateSystem,o=!!n.getBaseAxis().isHorizontal(),a=n.grid.getRect(),u={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:t,coordSys:n,coordSysExtent:[[a.x,a.x+a.width],[a.y,a.y+a.height]],isHorizontal:o,valueDim:IM[+o],categoryDim:IM[1-o]};return s.diff(l).add(function(t){if(s.hasValue(t)){var e=OM(s,t),i=AM(s,t,e,u),n=BM(s,u,i);s.setItemGraphicEl(t,n),r.add(n),HM(n,u,i)}}).update(function(t,e){var i=l.getItemGraphicEl(e);if(s.hasValue(t)){var n=OM(s,t),o=AM(s,t,n,u),a=GM(s,o);i&&a!==i.__pictorialShapeStr&&(r.remove(i),s.setItemGraphicEl(t,null),i=null),i?function(t,e,i){var n=i.animationModel,o=i.dataIndex;cl(t.__pictorialBundle,{position:i.bundlePosition.slice()},n,o),i.symbolRepeat?LM(t,e,i,!0):kM(t,e,i,!0);PM(t,i,!0),NM(t,e,i,!0)}(i,u,o):i=BM(s,u,o,!0),s.setItemGraphicEl(t,i),i.__pictorialSymbolMeta=o,r.add(i),HM(i,u,o)}else r.remove(i)}).remove(function(t){var e=l.getItemGraphicEl(t);e&&VM(l,t,e.__pictorialSymbolMeta.animationModel,e)}).execute(),this._data=s,this.group},dispose:et,remove:function(e,t){var i=this.group,n=this._data;e.get("animation")?n&&n.eachItemGraphicEl(function(t){VM(n,t.dataIndex,e,t)}):i.removeAll()}});function AM(t,e,i,n){var o=t.getItemLayout(e),a=i.get("symbolRepeat"),r=i.get("symbolClip"),s=i.get("symbolPosition")||"start",l=(i.get("symbolRotate")||0)*Math.PI/180||0,u=i.get("symbolPatternSize")||2,h=i.isAnimationEnabled(),c={dataIndex:e,layout:o,itemModel:i,symbolType:t.getItemVisual(e,"symbol")||"circle",color:t.getItemVisual(e,"color"),symbolClip:r,symbolRepeat:a,symbolRepeatDirection:i.get("symbolRepeatDirection"),symbolPatternSize:u,rotation:l,animationModel:h?i:null,hoverAnimation:h&&i.get("hoverAnimation"),z2:i.getShallow("z",!0)||0};!function(t,e,i,n,o){var a,r=n.valueDim,s=t.get("symbolBoundingData"),l=n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),u=l.toGlobalCoord(l.dataToCoord(0)),h=1-+(i[r.wh]<=0);if(O(s)){var c=[DM(l,s[0])-u,DM(l,s[1])-u];c[1]<c[0]&&c.reverse(),a=c[h]}else a=null!=s?DM(l,s)-u:e?n.coordSysExtent[r.index][h]-u:i[r.wh];o.boundingLength=a,e&&(o.repeatCutLength=i[r.wh]);o.pxSign=0<a?1:a<0?-1:0}(i,a,o,n,c),function(t,e,i,n,o,a,r,s,l,u){var h=l.valueDim,c=l.categoryDim,d=Math.abs(i[c.wh]),f=t.getItemVisual(e,"symbolSize");f=O(f)?f.slice():(null==f&&(f="100%"),[f,f]);f[c.index]=Rl(f[c.index],d),f[h.index]=Rl(f[h.index],n?d:Math.abs(a)),u.symbolSize=f,(u.symbolScale=[f[0]/s,f[1]/s])[h.index]*=(l.isHorizontal?-1:1)*r}(t,e,o,a,0,c.boundingLength,c.pxSign,u,n,c),function(t,e,i,n,o){var a=t.get(MM)||0;a&&(TM.attr({scale:e.slice(),rotation:i}),TM.updateTransform(),a/=TM.getLineScale(),a*=e[n.valueDim.index]);o.valueLineWidth=a}(i,c.symbolScale,l,n,c);var d=c.symbolSize,f=i.get("symbolOffset");return O(f)&&(f=[Rl(f[0],d[0]),Rl(f[1],d[1])]),function(t,e,i,n,o,a,r,s,l,u,h,c){var d=h.categoryDim,f=h.valueDim,p=c.pxSign,g=Math.max(e[f.index]+s,0),m=g;if(n){var v=Math.abs(l),y=W(t.get("symbolMargin"),"15%")+"",x=!1;y.lastIndexOf("!")===y.length-1&&(x=!0,y=y.slice(0,y.length-1)),y=Rl(y,e[f.index]);var _=Math.max(g+2*y,0),w=x?0:2*y,b=Jl(n),S=b?n:ZM((v+w)/_);_=g+2*(y=(v-S*g)/2/(x?S:S-1)),w=x?0:2*y,b||"fixed"===n||(S=u?ZM((Math.abs(u)+w)/_):0),m=S*_-w,c.repeatTimes=S,c.symbolMargin=y}var M=p*(m/2),I=c.pathPosition=[];I[d.index]=i[d.wh]/2,I[f.index]="start"===r?M:"end"===r?l-M:l/2,a&&(I[0]+=a[0],I[1]+=a[1]);var T=c.bundlePosition=[];T[d.index]=i[d.xy],T[f.index]=i[f.xy];var A=c.barRectShape=k({},i);A[f.wh]=p*Math.max(Math.abs(i[f.wh]),Math.abs(I[f.index]+M)),A[d.wh]=i[d.wh];var D=c.clipShape={};D[d.xy]=-i[d.xy],D[d.wh]=h.ecSize[d.wh],D[f.xy]=0,D[f.wh]=i[f.wh]}(i,d,o,a,0,f,s,c.valueLineWidth,c.boundingLength,c.repeatCutLength,n,c),c}function DM(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function CM(t){var e=t.symbolPatternSize,i=_g(t.symbolType,-e/2,-e/2,e,e,t.color);return i.attr({culling:!0}),"image"!==i.type&&i.setStyle({strokeNoScale:!0}),i}function LM(t,e,o,i){var n=t.__pictorialBundle,a=o.symbolSize,r=o.valueLineWidth,s=o.pathPosition,l=e.valueDim,u=o.repeatTimes||0,h=0,c=a[e.valueDim.index]+r+2*o.symbolMargin;for(FM(t,function(t){t.__pictorialAnimationIndex=h,t.__pictorialRepeatTimes=u,h<u?WM(t,null,p(h),o,i):WM(t,null,{scale:[0,0]},o,i,function(){n.remove(t)}),zM(t,o),h++});h<u;h++){var d=CM(o);d.__pictorialAnimationIndex=h,d.__pictorialRepeatTimes=u,n.add(d);var f=p(h);WM(d,{position:f.position,scale:[0,0]},{scale:f.scale,rotation:f.rotation},o,i),d.on("mouseover",g).on("mouseout",m),zM(d,o)}function p(t){var e=s.slice(),i=o.pxSign,n=t;return("start"===o.symbolRepeatDirection?0<i:i<0)&&(n=u-1-t),e[l.index]=c*(n-u/2+.5)+s[l.index],{position:e,scale:o.symbolScale.slice(),rotation:o.rotation}}function g(){FM(t,function(t){t.trigger("emphasis")})}function m(){FM(t,function(t){t.trigger("normal")})}}function kM(t,e,i,n){var o=t.__pictorialBundle,a=t.__pictorialMainPath;a?WM(a,null,{position:i.pathPosition.slice(),scale:i.symbolScale.slice(),rotation:i.rotation},i,n):(a=t.__pictorialMainPath=CM(i),o.add(a),WM(a,{position:i.pathPosition.slice(),scale:[0,0],rotation:i.rotation},{scale:i.symbolScale.slice()},i,n),a.on("mouseover",function(){this.trigger("emphasis")}).on("mouseout",function(){this.trigger("normal")})),zM(a,i)}function PM(t,e,i){var n=k({},e.barRectShape),o=t.__pictorialBarRect;o?WM(o,null,{shape:n},e,i):(o=t.__pictorialBarRect=new rs({z2:2,shape:n,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),t.add(o))}function NM(t,e,i,n){if(i.symbolClip){var o=t.__pictorialClipPath,a=k({},i.clipShape),r=e.valueDim,s=i.animationModel,l=i.dataIndex;if(o)cl(o,{shape:a},s,l);else{a[r.wh]=0,o=new rs({shape:a}),t.__pictorialBundle.setClipPath(o),t.__pictorialClipPath=o;var u={};u[r.wh]=i.clipShape[r.wh],bl[n?"updateProps":"initProps"](o,{shape:u},s,l)}}}function OM(t,e){var i=t.getItemModel(e);return i.getAnimationDelayParams=EM,i.isAnimationEnabled=RM,i}function EM(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function RM(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function zM(t,e){t.off("emphasis").off("normal");var i=e.symbolScale.slice();e.hoverAnimation&&t.on("emphasis",function(){this.animateTo({scale:[1.1*i[0],1.1*i[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:i.slice()},400,"elasticOut")})}function BM(t,e,i,n){var o=new Ci,a=new Ci;return o.add(a),(o.__pictorialBundle=a).attr("position",i.bundlePosition.slice()),i.symbolRepeat?LM(o,e,i):kM(o,0,i),PM(o,i,n),NM(o,e,i,n),o.__pictorialShapeStr=GM(t,i),o.__pictorialSymbolMeta=i,o}function VM(t,e,i,n){var o=n.__pictorialBarRect;o&&(o.style.text=null);var a=[];FM(n,function(t){a.push(t)}),n.__pictorialMainPath&&a.push(n.__pictorialMainPath),n.__pictorialClipPath&&(i=null),E(a,function(t){cl(t,{scale:[0,0]},i,e,function(){n.parent&&n.parent.remove(n)})}),t.setItemGraphicEl(e,null)}function GM(t,e){return[t.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function FM(e,i,n){E(e.__pictorialBundle.children(),function(t){t!==e.__pictorialBarRect&&i.call(n,t)})}function WM(t,e,i,n,o,a){e&&t.attr(e),n.symbolClip&&!o?i&&t.attr(i):i&&bl[o?"updateProps":"initProps"](t,i,n.animationModel,n.dataIndex,a)}function HM(t,e,i){var n=i.color,o=i.dataIndex,a=i.itemModel,r=a.getModel("itemStyle").getItemStyle(["color"]),s=a.getModel("emphasis.itemStyle").getItemStyle(),l=a.getShallow("cursor");FM(t,function(t){t.setColor(n),t.setStyle(D({fill:n,opacity:i.opacity},r)),$s(t,s),l&&(t.cursor=l),t.z2=i.z2});var u={},h=(e.valueDim.posDesc[+(0<i.boundingLength)],t.__pictorialBarRect);Iv(h.style,u,a,n,e.seriesModel,o),$s(h,u)}function ZM(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}wf(T(Rp,"pictorialBar")),bf(Dm("pictorialBar","roundRect"));function UM(t,e,i,n,o){Vg.call(this,t,e,i),this.type=n||"value",this.position=o||"bottom",this.orient=null}function XM(t,e,i){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(t,e,i),this.model=t}function YM(t,e){e=e||{};var i=t.coordinateSystem,n=t.axis,o={},a=n.position,r=n.orient,s=i.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};o.position=["vertical"===r?u.vertical[a]:l[0],"horizontal"===r?u.horizontal[a]:l[3]];o.rotation=Math.PI/2*{horizontal:0,vertical:1}[r];o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,right:1,left:-1}[a],t.get("axisTick.inside")&&(o.tickDirection=-o.tickDirection),W(e.labelInside,t.get("axisLabel.inside"))&&(o.labelDirection=-o.labelDirection);var h=e.rotate;return null==h&&(h=t.get("axisLabel.rotate")),o.labelRotation="top"===a?-h:h,o.z2=1,o}UM.prototype={constructor:UM,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},pointToData:function(t,e){return this.coordinateSystem.pointToData(t,e)[0]},toGlobalCoord:null,toLocalCoord:null},w(UM,Vg),sh.register("single",{create:function(n,o){var a=[];return n.eachComponent("singleAxis",function(t,e){var i=new XM(t,n,o);i.name="single_"+e,i.resize(t,o),t.coordinateSystem=i,a.push(i)}),n.eachSeries(function(t){if("singleAxis"===t.get("coordinateSystem")){var e=n.queryComponents({mainType:"singleAxis",index:t.get("singleAxisIndex"),id:t.get("singleAxisId")})[0];t.coordinateSystem=e&&e.coordinateSystem}}),a},dimensions:(XM.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:XM,_init:function(t,e,i){var n=this.dimension,o=new UM(n,rg(t),[0,0],t.get("type"),t.get("position")),a="category"===o.type;o.onBand=a&&t.get("boundaryGap"),o.inverse=t.get("inverse"),o.orient=t.get("orient"),(t.axis=o).model=t,(o.coordinateSystem=this)._axis=o},update:function(t,e){t.eachSeries(function(t){if(t.coordinateSystem===this){var e=t.getData();E(e.mapDimension(this.dimension,!0),function(t){this._axis.scale.unionExtentFromData(e,t)},this),ag(this._axis.scale,this._axis.model)}},this)},resize:function(t,e){this._rect=wu({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var t=this._rect,e=this._axis,i=e.isHorizontal(),n=i?[0,t.width]:[0,t.height],o=e.reverse?1:0;e.setExtent(n[o],n[1-o]),this._updateAxisTransform(e,i?t.x:t.y)},_updateAxisTransform:function(t,e){var i=t.getExtent(),n=i[0]+i[1],o=t.isHorizontal();t.toGlobalCoord=o?function(t){return t+e}:function(t){return n-t+e},t.toLocalCoord=o?function(t){return t-e}:function(t){return n-t+e}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(t){var e=this.getRect(),i=this.getAxis();return"horizontal"===i.orient?i.contain(i.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:i.contain(i.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},pointToData:function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},dataToPoint:function(t){var e=this.getAxis(),i=this.getRect(),n=[],o="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),n[o]=e.toGlobalCoord(e.dataToCoord(+t)),n[1-o]=0==o?i.y+i.height/2:i.x+i.width/2,n}}).dimensions});var jM=["axisLine","axisTickLabel","axisName"],qM=["splitArea","splitLine"],KM=pv.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(e,t,i,n){var o=this.group;o.removeAll();var a=this._axisGroup;this._axisGroup=new Ci;var r=YM(e),s=new $m(e,r);E(jM,s.add,s),o.add(this._axisGroup),o.add(s.getGroup()),E(qM,function(t){e.get(t+".show")&&this["_"+t](e)},this),ml(a,this._axisGroup,e),KM.superCall(this,"render",e,t,i,n)},remove:function(){_v(this)},_splitLine:function(t){var e=t.axis;if(!e.scale.isBlank()){var i=t.getModel("splitLine"),n=i.getModel("lineStyle"),o=n.get("width"),a=n.get("color");a=a instanceof Array?a:[a];for(var r=t.coordinateSystem.getRect(),s=e.isHorizontal(),l=[],u=0,h=e.getTicksCoords({tickModel:i}),c=[],d=[],f=0;f<h.length;++f){var p=e.toGlobalCoord(h[f].coord);s?(c[0]=p,c[1]=r.y,d[0]=p,d[1]=r.y+r.height):(c[0]=r.x,c[1]=p,d[0]=r.x+r.width,d[1]=p);var g=u++%a.length;l[g]=l[g]||[],l[g].push(new ls({subPixelOptimize:!0,shape:{x1:c[0],y1:c[1],x2:d[0],y2:d[1]},style:{lineWidth:o},silent:!0}))}for(f=0;f<l.length;++f)this.group.add(Es(l[f],{style:{stroke:a[f%a.length],lineDash:n.getLineDash(o),lineWidth:o},silent:!0}))}},_splitArea:function(t){xv(this,this._axisGroup,t,t)}}),$M=Lu.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});m($M.prototype,cg),Bm("single",$M,function(t,e){return e.type||(e.data?"category":"value")},{left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}});function JM(t,e){var i,n=[],o=t.seriesIndex;if(null==o||!(i=e.getSeriesByIndex(o)))return{point:[]};var a=i.getData(),r=Yo(a,t);if(null==r||r<0||O(r))return{point:[]};var s=a.getItemGraphicEl(r),l=i.coordinateSystem;if(i.getTooltipPosition)n=i.getTooltipPosition(r)||[];else if(l&&l.dataToPoint)n=l.dataToPoint(a.getValues(N(l.dimensions,function(t){return a.mapDimension(t)}),r,!0))||[];else if(s){var u=s.getBoundingRect().clone();u.applyTransform(s.transform),n=[u.x+u.width/2,u.y+u.height/2]}return{point:n,el:s}}var QM=E,tI=T,eI=jo();function iI(t,e,i,n,o){var a=t.axis;if(!a.scale.isBlank()&&a.containData(e))if(t.involveSeries){var r=function(l,t){var u=t.axis,h=u.dim,c=l,d=[],f=Number.MAX_VALUE,p=-1;return QM(t.seriesModels,function(e,t){var i,n,o=e.getData().mapDimension(h,!0);if(e.getAxisTooltipData){var a=e.getAxisTooltipData(o,l,u);n=a.dataIndices,i=a.nestestValue}else{if(!(n=e.getData().indicesOfNearest(o[0],l,"category"===u.type?.5:null)).length)return;i=e.getData().get(o[0],n[0])}if(null!=i&&isFinite(i)){var r=l-i,s=Math.abs(r);s<=f&&((s<f||0<=r&&p<0)&&(f=s,p=r,c=i,d.length=0),QM(n,function(t){d.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})}))}}),{payloadBatch:d,snapToValue:c}}(e,t),s=r.payloadBatch,l=r.snapToValue;s[0]&&null==o.seriesIndex&&k(o,s[0]),!n&&t.snap&&a.containData(l)&&null!=l&&(e=l),i.showPointer(t,e,s,o),i.showTooltip(t,r,l)}else i.showPointer(t,e)}function nI(t,e,i,n){t[e.key]={value:i,payloadBatch:n}}function oI(t,e,i,n){var o=i.payloadBatch,a=e.axis,r=a.model,s=e.axisPointerModel;if(e.triggerTooltip&&o.length){var l=e.coordSys.model,u=fv(l),h=t.map[u];h||(h=t.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(h)),h.dataByAxis.push({axisDim:a.dim,axisIndex:r.componentIndex,axisType:r.type,axisId:r.id,value:n,valueLabelOpt:{precision:s.get("label.precision"),formatter:s.get("label.formatter")},seriesDataIndices:o.slice()})}}function aI(t){var e=t.axis.model,i={},n=i.axisDim=t.axis.dim;return i.axisIndex=i[n+"AxisIndex"]=e.componentIndex,i.axisName=i[n+"AxisName"]=e.name,i.axisId=i[n+"AxisId"]=e.id,i}function rI(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}If({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});var sI=jo(),lI=E;function uI(t,e,i){if(!v.node){var n=e.getZr();sI(n).records||(sI(n).records={}),function(o,a){if(sI(o).initialized)return;function t(t,n){o.on(t,function(e){var i=function(i){var n={showTip:[],hideTip:[]},o=function(t){var e=n[t.type];e?e.push(t):(t.dispatchAction=o,i.dispatchAction(t))};return{dispatchAction:o,pendings:n}}(a);lI(sI(o).records,function(t){t&&n(t,e,i.dispatchAction)}),function(t,e){var i,n=t.showTip.length,o=t.hideTip.length;n?i=t.showTip[n-1]:o&&(i=t.hideTip[o-1]);i&&(i.dispatchAction=null,e.dispatchAction(i))}(i.pendings,a)})}sI(o).initialized=!0,t("click",T(cI,"click")),t("mousemove",T(cI,"mousemove")),t("globalout",hI)}(n,e),(sI(n).records[t]||(sI(n).records[t]={})).handler=i}}function hI(t,e,i){t.handler("leave",null,i)}function cI(t,e,i,n){e.handler(t,i,n)}function dI(t,e){if(!v.node){var i=e.getZr();(sI(i).records||{})[t]&&(sI(i).records[t]=null)}}var fI=Tf({type:"axisPointer",render:function(t,e,i){var n=e.getComponent("tooltip"),o=t.get("triggerOn")||n&&n.get("triggerOn")||"mousemove|click";uI("axisPointer",i,function(t,e,i){"none"!==o&&("leave"===t||0<=o.indexOf(t))&&i({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})})},remove:function(t,e){dI(e.getZr(),"axisPointer"),fI.superApply(this._model,"remove",arguments)},dispose:function(t,e){dI("axisPointer",e),fI.superApply(this._model,"dispose",arguments)}}),pI=jo(),gI=L,mI=A;function vI(){}function yI(t,e,i,n){!function i(n,t){{if(z(n)&&z(t)){var o=!0;return E(t,function(t,e){o=o&&i(n[e],t)}),!!o}return n===t}}(pI(i).lastProp,n)&&(pI(i).lastProp=n,e?cl(i,n,t):(i.stopAnimation(),i.attr(n)))}function xI(t,e){t[e.get("label.show")?"show":"hide"]()}function _I(t){return{position:t.position.slice(),rotation:t.rotation||0}}function wI(t,e,i){var n=e.get("z"),o=e.get("zlevel");t&&t.traverse(function(t){"group"!==t.type&&(null!=n&&(t.z=n),null!=o&&(t.zlevel=o),t.silent=i)})}function bI(t){var e,i=t.get("type"),n=t.getModel(i+"Style");return"line"===i?(e=n.getLineStyle()).fill=null:"shadow"===i&&((e=n.getAreaStyle()).stroke=null),e}function SI(t,e,i,n,o){var a=MI(i.get("value"),e.axis,e.ecModel,i.get("seriesDataIndices"),{precision:i.get("label.precision"),formatter:i.get("label.formatter")}),r=i.getModel("label"),s=iu(r.get("padding")||0),l=r.getFont(),u=gn(a,l),h=o.position,c=u.width+s[1]+s[3],d=u.height+s[0]+s[2],f=o.align;"right"===f&&(h[0]-=c),"center"===f&&(h[0]-=c/2);var p=o.verticalAlign;"bottom"===p&&(h[1]-=d),"middle"===p&&(h[1]-=d/2),function(t,e,i,n){var o=n.getWidth(),a=n.getHeight();t[0]=Math.min(t[0]+e,o)-e,t[1]=Math.min(t[1]+i,a)-i,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}(h,c,d,n);var g=r.get("backgroundColor");g&&"auto"!==g||(g=e.get("axisLine.lineStyle.color")),t.label={shape:{x:0,y:0,width:c,height:d,r:r.get("borderRadius")},position:h.slice(),style:{text:a,textFont:l,textFill:r.getTextColor(),textPosition:"inside",textPadding:s,fill:g,stroke:r.get("borderColor")||"transparent",lineWidth:r.get("borderWidth")||0,shadowBlur:r.get("shadowBlur"),shadowColor:r.get("shadowColor"),shadowOffsetX:r.get("shadowOffsetX"),shadowOffsetY:r.get("shadowOffsetY")},z2:10}}function MI(t,e,o,i,n){t=e.scale.parse(t);var a=e.scale.getLabel(t,{precision:n.precision}),r=n.formatter;if(r){var s={value:lg(e,t),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};E(i,function(t){var e=o.getSeriesByIndex(t.seriesIndex),i=t.dataIndexInside,n=e&&e.getDataParams(i);n&&s.seriesData.push(n)}),R(r)?a=r.replace("{value}",a):C(r)&&(a=r(s))}return a}function II(t,e,i){var n=ae();return he(n,n,i.rotation),ue(n,n,i.position),pl([t.dataToCoord(e),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],n)}function TI(t,e,i,n,o,a){var r=$m.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=o.get("label.margin"),SI(e,n,o,a,{position:II(n.axis,t,i),align:r.textAlign,verticalAlign:r.textVerticalAlign})}function AI(t,e,i){return{x1:t[i=i||0],y1:t[1-i],x2:e[i],y2:e[1-i]}}function DI(t,e,i){return{x:t[i=i||0],y:t[1-i],width:e[i],height:e[1-i]}}function CI(t,e,i,n,o,a){return{cx:t,cy:e,r0:i,r:n,startAngle:o,endAngle:a,clockwise:!0}}oa((vI.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(t,e,i,n){var o=e.get("value"),a=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=i,n||this._lastValue!==o||this._lastStatus!==a){this._lastValue=o,this._lastStatus=a;var r=this._group,s=this._handle;if(!a||"hide"===a)return r&&r.hide(),void(s&&s.hide());r&&r.show(),s&&s.show();var l={};this.makeElOption(l,o,t,e,i);var u=l.graphicKey;u!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=u;var h=this._moveAnimation=this.determineAnimation(t,e);if(r){var c=T(yI,e,h);this.updatePointerEl(r,l,c,e),this.updateLabelEl(r,l,c,e)}else r=this._group=new Ci,this.createPointerEl(r,l,t,e),this.createLabelEl(r,l,t,e),i.getZr().add(r);wI(r,e,!0),this._renderHandle(o)}},remove:function(t){this.clear(t)},dispose:function(t){this.clear(t)},determineAnimation:function(t,e){var i=e.get("animation"),n=t.axis,o="category"===n.type,a=e.get("snap");if(!a&&!o)return!1;if("auto"!==i&&null!=i)return!0===i;var r=this.animationThreshold;if(o&&n.getBandWidth()>r)return!0;if(a){var s=cv(t).seriesDataCount,l=n.getExtent();return Math.abs(l[0]-l[1])/s>r}return!1},makeElOption:function(t,e,i,n,o){},createPointerEl:function(t,e,i,n){var o=e.pointer;if(o){var a=pI(t).pointerEl=new bl[o.type](gI(e.pointer));t.add(a)}},createLabelEl:function(t,e,i,n){if(e.label){var o=pI(t).labelEl=new rs(gI(e.label));t.add(o),xI(o,n)}},updatePointerEl:function(t,e,i){var n=pI(t).pointerEl;n&&e.pointer&&(n.setStyle(e.pointer.style),i(n,{shape:e.pointer.shape}))},updateLabelEl:function(t,e,i,n){var o=pI(t).labelEl;o&&(o.setStyle(e.label.style),i(o,{shape:e.label.shape,position:e.label.position}),xI(o,n))},_renderHandle:function(t){if(!this._dragging&&this.updateHandleTransform){var e,i=this._axisPointerModel,n=this._api.getZr(),o=this._handle,a=i.getModel("handle"),r=i.get("status");if(!a.get("show")||!r||"hide"===r)return o&&n.remove(o),void(this._handle=null);this._handle||(e=!0,o=this._handle=yl(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){Xt(t.event)},onmousedown:mI(this._onHandleDragMove,this,0,0),drift:mI(this._onHandleDragMove,this),ondragend:mI(this._onHandleDragEnd,this)}),n.add(o)),wI(o,i,!1);o.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var s=a.get("size");O(s)||(s=[s,s]),o.attr("scale",[s[0]/2,s[1]/2]),Lc(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},_moveHandleToValue:function(t,e){yI(this._axisPointerModel,!e&&this._moveAnimation,this._handle,_I(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(t,e){var i=this._handle;if(i){this._dragging=!0;var n=this.updateHandleTransform(_I(i),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=n,i.stopAnimation(),i.attr(_I(n)),pI(i).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},_onHandleDragEnd:function(t){if(this._dragging=!1,this._handle){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),i=this._group,n=this._handle;e&&i&&(this._lastGraphicKey=null,i&&e.remove(i),n&&e.remove(n),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(t,e,i){return{x:t[i=i||0],y:t[1-i],width:e[i],height:e[1-i]}}}).constructor=vI);var LI=vI.extend({makeElOption:function(t,e,i,n,o){var a=i.axis,r=a.grid,s=n.get("type"),l=kI(r,a).getOtherAxis(a).getGlobalExtent(),u=a.toGlobalCoord(a.dataToCoord(e,!0));if(s&&"none"!==s){var h=bI(n),c=PI[s](a,u,l);c.style=h,t.graphicKey=c.type,t.pointer=c}TI(e,t,yv(r.model,i),i,n,o)},getHandleTransform:function(t,e,i){var n=yv(e.axis.grid.model,e,{labelInside:!1});return n.labelMargin=i.get("handle.margin"),{position:II(e.axis,t,n),rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,i,n){var o=i.axis,a=o.grid,r=o.getGlobalExtent(!0),s=kI(a,o).getOtherAxis(o).getGlobalExtent(),l="x"===o.dim?0:1,u=t.position;u[l]+=e[l],u[l]=Math.min(r[1],u[l]),u[l]=Math.max(r[0],u[l]);var h=(s[1]+s[0])/2,c=[h,h];c[l]=u[l];return{position:u,rotation:t.rotation,cursorPoint:c,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][l]}}});function kI(t,e){var i={};return i[e.dim+"AxisIndex"]=e.index,t.getCartesian(i)}var PI={line:function(t,e,i){return{type:"Line",subPixelOptimize:!0,shape:AI([e,i[0]],[e,i[1]],NI(t))}},shadow:function(t,e,i){var n=Math.max(1,t.getBandWidth()),o=i[1]-i[0];return{type:"Rect",shape:DI([e-n/2,i[0]],[n,o],NI(t))}}};function NI(t){return"x"===t.dim?0:1}pv.registerAxisPointerClass("CartesianAxisPointer",LI),vf(function(t){if(t){t.axisPointer&&0!==t.axisPointer.length||(t.axisPointer={});var e=t.axisPointer.link;e&&!O(e)&&(t.axisPointer.link=[e])}}),yf(Cd.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=uv(t,e)}),xf({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},function(t,e,i){var n=t.currTrigger,r=[t.x,t.y],o=t,a=t.dispatchAction||A(i.dispatchAction,i),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){rI(r)&&(r=JM({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},e).point);var l=rI(r),u=o.axesInfo,h=s.axesInfo,c="leave"===n||rI(r),d={},f={},p={list:[],map:{}},g={showPointer:tI(nI,f),showTooltip:tI(oI,p)};QM(s.coordSysMap,function(t,e){var a=l||t.containPoint(r);QM(s.coordSysAxesInfo[e],function(t,e){var i=t.axis,n=function(t,e){for(var i=0;i<(t||[]).length;i++){var n=t[i];if(e.axis.dim===n.axisDim&&e.axis.model.componentIndex===n.axisIndex)return n}}(u,t);if(!c&&a&&(!u||n)){var o=n&&n.value;null!=o||l||(o=i.pointToData(r)),null!=o&&iI(t,o,g,!1,d)}})});var m={};return QM(h,function(o,t){var a=o.linkGroup;a&&!f[t]&&QM(a.axesInfo,function(t,e){var i=f[e];if(t!==o&&i){var n=i.value;a.mapper&&(n=o.axis.scale.parse(a.mapper(n,aI(t),aI(o)))),m[o.key]=n}})}),QM(m,function(t,e){iI(h[e],t,g,!0,d)}),function(o,t,e){var a=e.axesInfo=[];QM(t,function(t,e){var i=t.axisPointerModel.option,n=o[e];n?(t.useHandle||(i.status="show"),i.value=n.value,i.seriesDataIndices=(n.payloadBatch||[]).slice()):t.useHandle||(i.status="hide"),"show"===i.status&&a.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:i.value})})}(f,h,d),function(t,e,i,n){if(rI(e)||!t.list.length)return n({type:"hideTip"});var o=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:o.dataIndexInside,dataIndex:o.dataIndex,seriesIndex:o.seriesIndex,dataByCoordSys:t.list})}(p,r,t,a),function(t,e,i){var n=i.getZr(),o="axisPointerLastHighlights",a=eI(n)[o]||{},r=eI(n)[o]={};QM(t,function(t,e){var i=t.axisPointerModel.option;"show"===i.status&&QM(i.seriesDataIndices,function(t){var e=t.seriesIndex+" | "+t.dataIndex;r[e]=t})});var s=[],l=[];E(a,function(t,e){r[e]||l.push(t)}),E(r,function(t,e){a[e]||s.push(t)}),l.length&&i.dispatchAction({type:"downplay",escapeConnect:!0,batch:l}),s.length&&i.dispatchAction({type:"highlight",escapeConnect:!0,batch:s})}(h,0,i),d}});var OI=["x","y"],EI=["width","height"],RI=vI.extend({makeElOption:function(t,e,i,n,o){var a=i.axis,r=a.coordinateSystem,s=VI(r,1-BI(a)),l=r.dataToPoint(e)[0],u=n.get("type");if(u&&"none"!==u){var h=bI(n),c=zI[u](a,l,s);c.style=h,t.graphicKey=c.type,t.pointer=c}TI(e,t,YM(i),i,n,o)},getHandleTransform:function(t,e,i){var n=YM(e,{labelInside:!1});return n.labelMargin=i.get("handle.margin"),{position:II(e.axis,t,n),rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,i,n){var o=i.axis,a=o.coordinateSystem,r=BI(o),s=VI(a,r),l=t.position;l[r]+=e[r],l[r]=Math.min(s[1],l[r]),l[r]=Math.max(s[0],l[r]);var u=VI(a,1-r),h=(u[1]+u[0])/2,c=[h,h];return c[r]=l[r],{position:l,rotation:t.rotation,cursorPoint:c,tooltipOption:{verticalAlign:"middle"}}}}),zI={line:function(t,e,i){return{type:"Line",subPixelOptimize:!0,shape:AI([e,i[0]],[e,i[1]],BI(t))}},shadow:function(t,e,i){var n=t.getBandWidth(),o=i[1]-i[0];return{type:"Rect",shape:DI([e-n/2,i[0]],[n,o],BI(t))}}};function BI(t){return t.isHorizontal()?0:1}function VI(t,e){var i=t.getRect();return[i[OI[e]],i[OI[e]]+i[EI[e]]]}pv.registerAxisPointerClass("SingleAxisPointer",RI),Tf({type:"single"});var GI=rc.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(t){GI.superApply(this,"init",arguments),this.legendVisualProvider=new Yv(A(this.getData,this),A(this.getRawData,this))},fixData:function(t){var e=t.length,i=ta(t,function(t){return t[2]}),n=[];i.buckets.each(function(t,e){n.push({name:e,dataList:t})});for(var o=n.length,a=-1,r=-1,s=0;s<o;++s){var l=n[s].dataList.length;a<l&&(a=l,r=s)}for(var u=0;u<o;++u)if(u!==r)for(var h=n[u].name,c=0;c<a;++c){for(var d=n[r].dataList[c][0],f=n[u].dataList.length,p=-1,g=0;g<f;++g){if(n[u].dataList[g][0]===d){p=g;break}}-1===p&&(t[e]=[],t[e][0]=d,t[e][1]=0,t[e][2]=h,e++)}return t},getInitialData:function(t,e){for(var i=e.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0].get("type"),n=M(t.data,function(t){return void 0!==t[2]}),o=this.fixData(n||[]),a=[],r=this.nameMap=Q(),s=0,l=0;l<o.length;++l)a.push(o[l][2]),r.get(o[l][2])||(r.set(o[l][2],s),s++);var u=sp(o,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:Of(i)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),h=new Xf(u,this);return h.initData(o),h},getLayerSeries:function(){for(var i=this.getData(),t=i.count(),e=[],n=0;n<t;++n)e[n]=n;var o=i.mapDimension("single"),a=ta(e,function(t){return i.get("name",t)}),r=[];return a.buckets.each(function(t,e){t.sort(function(t,e){return i.get(o,t)-i.get(o,e)}),r.push({name:e,indices:t})}),r},getAxisTooltipData:function(t,e,i){O(t)||(t=t?[t]:[]);for(var n,o=this.getData(),a=this.getLayerSeries(),r=[],s=a.length,l=0;l<s;++l){for(var u=Number.MAX_VALUE,h=-1,c=a[l].indices.length,d=0;d<c;++d){var f=o.get(t[0],a[l].indices[d]),p=Math.abs(f-e);p<=u&&(n=f,u=p,h=a[l].indices[d])}r.push(h)}return{dataIndices:r,nestestValue:n}},formatTooltip:function(t){var e=this.getData(),i=e.getName(t),n=e.get(e.mapDimension("value"),t);return!isNaN(n)&&null!=n||(n="-"),au(i+" : "+n)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}});Df({type:"themeRiver",init:function(){this._layers=[]},render:function(b,t,e){var S=b.getData(),M=this.group,I=b.getLayerSeries(),i=S.getLayout("layoutInfo"),n=i.rect,o=i.boundaryGap;function a(t){return t.name}M.attr("position",[0,n.y+o[0]]);var r=new Lf(this._layersSeries||[],I,a,a),T={};function s(t,e,i){var n=this._layers;if("remove"!==t){for(var o,a,r,s=[],l=[],u=I[e].indices,h=0;h<u.length;h++){var c=S.getItemLayout(u[h]),d=c.x,f=c.y0,p=c.y;s.push([d,f]),l.push([d,f+p]),o=S.getItemVisual(u[h],"color")}var g=S.getItemLayout(u[0]),m=S.getItemModel(u[h-1]),v=m.getModel("label"),y=v.get("margin");if("add"===t){var x=T[e]=new Ci;a=new xm({shape:{points:s,stackedOnPoints:l,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),r=new Ur({style:{x:g.x-y,y:g.y0+g.y/2}}),x.add(a),x.add(r),M.add(x),a.setClipPath(function(t,e,i){var n=new rs({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return dl(n,{shape:{width:t.width+20,height:t.height+20}},e,i),n}(a.getBoundingRect(),b,function(){a.removeClipPath()}))}else{x=n[i];a=x.childAt(0),r=x.childAt(1),M.add(x),T[e]=x,cl(a,{shape:{points:s,stackedOnPoints:l}},b),cl(r,{style:{x:g.x-y,y:g.y0+g.y/2}},b)}var _=m.getModel("emphasis.itemStyle"),w=m.getModel("itemStyle");nl(r.style,v,{text:v.get("show")?b.getFormattedLabel(u[h-1],"normal")||S.getName(u[h-1]):null,textVerticalAlign:"middle"}),a.setStyle(k({fill:o},w.getItemStyle(["color"]))),$s(a,_.getItemStyle())}else M.remove(n[e])}r.add(A(s,this,"add")).update(A(s,this,"update")).remove(A(s,this,"remove")).execute(),this._layersSeries=I,this._layers=T},dispose:function(){}});function FI(i,t,e){if(i.count())for(var n,o=t.coordinateSystem,a=t.getLayerSeries(),r=i.mapDimension("single"),s=i.mapDimension("value"),l=N(a,function(t){return N(t.indices,function(t){var e=o.dataToPoint(i.get(r,t));return e[1]=i.get(s,t),e})}),u=function(t){for(var e=t.length,i=t[0].length,n=[],o=[],a=0,r={},s=0;s<i;++s){for(var l=0,u=0;l<e;++l)u+=t[l][s][1];a<u&&(a=u),n.push(u)}for(var h=0;h<i;++h)o[h]=(a-n[h])/2;for(var c=a=0;c<i;++c){var d=n[c]+o[c];a<d&&(a=d)}return r.y0=o,r.max=a,r}(l),h=u.y0,c=e/u.max,d=a.length,f=a[0].indices.length,p=0;p<f;++p){n=h[p]*c,i.setItemLayout(a[0].indices[p],{layerIndex:0,x:l[0][p][0],y0:n,y:l[0][p][1]*c});for(var g=1;g<d;++g)n+=l[g-1][p][1]*c,i.setItemLayout(a[g].indices[p],{layerIndex:g,x:l[g][p][0],y0:n,y:l[g][p][1]*c})}}wf(function(t,e){t.eachSeriesByType("themeRiver",function(t){var e=t.getData(),i=t.coordinateSystem,n={},o=i.getRect();n.rect=o;var a=t.get("boundaryGap"),r=i.getAxis();(n.boundaryGap=a,"horizontal"===r.orient)?(a[0]=Rl(a[0],o.height),a[1]=Rl(a[1],o.height),FI(e,t,o.height-a[0]-a[1])):(a[0]=Rl(a[0],o.width),a[1]=Rl(a[1],o.width),FI(e,t,o.width-a[0]-a[1]));e.setLayout("layoutInfo",n)})}),bf(function(t){t.eachSeriesByType("themeRiver",function(o){var a=o.getData(),r=o.getRawData(),s=o.get("color"),l=Q();a.each(function(t){l.set(a.getRawIndex(t),t)}),r.each(function(t){var e=r.getName(t),i=s[(o.nameMap.get(e)-1)%s.length];r.setItemVisual(t,"color",i);var n=l.get(t);null!=n&&a.setItemVisual(n,"color",i)})})}),yf(sy("themeRiver")),rc.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(t,e){var i={name:t.name,children:t.data};!function i(t){var n=0;E(t.children,function(t){i(t);var e=t.value;O(e)&&(e=e[0]),n+=e});var e=t.value;O(e)&&(e=e[0]);null!=e&&!isNaN(e)||(e=n);e<0&&(e=0);O(t.value)?t.value[0]=e:t.value=e}(i);var n=t.levels||[],o={};return o.levels=n,Ix.createTree(i,this,o).data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(t){var e=rc.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=Ux(i,this),e},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0,emphasis:{}},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1,emphasis:{},highlight:{opacity:1},downplay:{opacity:.9}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)}});var WI="none",HI="ancestor",ZI="self",UI=2,XI=4;function YI(t,e,i){Ci.call(this);var n=new qr({z2:UI});n.seriesIndex=e.seriesIndex;var o=new Ur({z2:XI,silent:t.getModel("label").get("silent")});function a(){o.ignore=o.hoverIgnore}function r(){o.ignore=o.normalIgnore}this.add(n),this.add(o),this.updateData(!0,t,"normal",e,i),this.on("emphasis",a).on("normal",r).on("mouseover",a).on("mouseout",r)}var jI=YI.prototype;jI.updateData=function(t,e,i,n,o){(this.node=e).piece=this,n=n||this._seriesModel,o=o||this._ecModel;var a=this.childAt(0);a.dataIndex=e.dataIndex;var r=e.getModel(),s=e.getLayout(),l=k({},s);l.label=null;var u=function(t,e,i){var n=t.getVisual("color"),o=t.getVisual("visualMeta");o&&0!==o.length||(n=null);var a=t.getModel("itemStyle").get("color");{if(a)return a;if(n)return n;if(0===t.depth)return i.option.color[0];var r=i.option.color.length;a=i.option.color[function(t){var e=t;for(;1<e.depth;)e=e.parentNode;return _(t.getAncestors()[0].children,e)}(t)%r]}return a}(e,0,o);!function(t,e,i){e.getData().setItemVisual(t.dataIndex,"color",i)}(e,n,u);var h,c=r.getModel("itemStyle").getItemStyle();"normal"===i?h=c:h=m(r.getModel(i+".itemStyle").getItemStyle(),c);h=D({lineJoin:"bevel",fill:h.fill||u},h),t?(a.setShape(l),a.shape.r=s.r0,cl(a,{shape:{r:s.r}},n,e.dataIndex),a.useStyle(h)):"object"==typeof h.fill&&h.fill.type||"object"==typeof a.style.fill&&a.style.fill.type?(cl(a,{shape:l},n),a.useStyle(h)):cl(a,{shape:l,style:h},n),this._updateLabel(n,u,i);var d=r.getShallow("cursor");if(d&&a.attr("cursor",d),t){var f=n.getShallow("highlightPolicy");this._initEvents(a,e,n,f)}this._seriesModel=n||this._seriesModel,this._ecModel=o||this._ecModel},jI.onEmphasis=function(e){var i=this;this.node.hostTree.root.eachNode(function(t){t.piece&&(i.node===t?t.piece.updateData(!1,t,"emphasis"):!function(t,e,i){return i!==WI&&(i===ZI?t===e:i===HI?t===e||t.isAncestorOf(e):t===e||t.isDescendantOf(e))}(t,i.node,e)?e!==WI&&t.piece.childAt(0).trigger("downplay"):t.piece.childAt(0).trigger("highlight"))})},jI.onNormal=function(){this.node.hostTree.root.eachNode(function(t){t.piece&&t.piece.updateData(!1,t,"normal")})},jI.onHighlight=function(){this.updateData(!1,this.node,"highlight")},jI.onDownplay=function(){this.updateData(!1,this.node,"downplay")},jI._updateLabel=function(t,e,i){var n=this.node.getModel(),o=n.getModel("label"),a="normal"===i||"emphasis"===i?o:n.getModel(i+".label"),r=n.getModel("emphasis.label"),s=W(t.getFormattedLabel(this.node.dataIndex,i,null,null,"label"),this.node.name);!1===S("show")&&(s="");var l=this.node.getLayout(),u=a.get("minAngle");null==u&&(u=o.get("minAngle")),u=u/180*Math.PI;var h=l.endAngle-l.startAngle;null!=u&&Math.abs(h)<u&&(s="");var c=this.childAt(1);el(c.style,c.hoverStyle||{},o,r,{defaultText:a.getShallow("show")?s:null,autoColor:e,useInsideStyle:!0});var d,f=(l.startAngle+l.endAngle)/2,p=Math.cos(f),g=Math.sin(f),m=S("position"),v=S("distance")||0,y=S("align");"outside"===m?(d=l.r+v,y=f>Math.PI/2?"right":"left"):y&&"center"!==y?"left"===y?(d=l.r0+v,f>Math.PI/2&&(y="right")):"right"===y&&(d=l.r-v,f>Math.PI/2&&(y="left")):(d=(l.r+l.r0)/2,y="center"),c.attr("style",{text:s,textAlign:y,textVerticalAlign:S("verticalAlign")||"middle",opacity:S("opacity")});var x=d*p+l.cx,_=d*g+l.cy;c.attr("position",[x,_]);var w=S("rotate"),b=0;function S(t){var e=a.get(t);return null==e?o.get(t):e}"radial"===w?(b=-f)<-Math.PI/2&&(b+=Math.PI):"tangential"===w?(b=Math.PI/2-f)>Math.PI/2?b-=Math.PI:b<-Math.PI/2&&(b+=Math.PI):"number"==typeof w&&(b=w*Math.PI/180),c.attr("rotation",b)},jI._initEvents=function(t,e,i,n){t.off("mouseover").off("mouseout").off("emphasis").off("normal");function o(){r.onEmphasis(n)}function a(){r.onNormal()}var r=this;i.isAnimationEnabled()&&t.on("mouseover",o).on("mouseout",a).on("emphasis",o).on("normal",a).on("downplay",function(){r.onDownplay()}).on("highlight",function(){r.onHighlight()})},w(YI,Ci);xc.extend({type:"sunburst",init:function(){},render:function(o,a,t,e){var n=this;this.seriesModel=o,this.api=t,this.ecModel=a;var r=o.getData(),s=r.tree.root,i=o.getViewRoot(),l=this.group,u=o.get("renderLabelForZeroData"),h=[];i.eachNode(function(t){h.push(t)});var c=this._oldChildren||[];if(function(i,n){if(0===i.length&&0===n.length)return;function t(t){return t.getId()}function e(t,e){!function(t,e){u||!t||t.getValue()||(t=null);if(t!==s&&e!==s)if(e&&e.piece)t?(e.piece.updateData(!1,t,"normal",o,a),r.setItemGraphicEl(t.dataIndex,e.piece)):function(t){if(!t)return;t.piece&&(l.remove(t.piece),t.piece=null)}(e);else if(t){var i=new YI(t,o,a);l.add(i),r.setItemGraphicEl(t.dataIndex,i)}}(null==t?null:i[t],null==e?null:n[e])}new Lf(n,i,t,t).add(e).update(e).remove(T(e,null)).execute()}(h,c),function(t,e){if(0<e.depth){n.virtualPiece?n.virtualPiece.updateData(!1,t,"normal",o,a):(n.virtualPiece=new YI(t,o,a),l.add(n.virtualPiece)),e.piece._onclickEvent&&e.piece.off("click",e.piece._onclickEvent);var i=function(t){n._rootToNode(e.parentNode)};e.piece._onclickEvent=i,n.virtualPiece.on("click",i)}else n.virtualPiece&&(l.remove(n.virtualPiece),n.virtualPiece=null)}(s,i),e&&e.highlight&&e.highlight.piece){var d=o.getShallow("highlightPolicy");e.highlight.piece.onEmphasis(d)}else if(e&&e.unhighlight){var f=this.virtualPiece;!f&&s.children.length&&(f=s.children[0].piece),f&&f.onNormal()}this._initEvents(),this._oldChildren=h},dispose:function(){},_initEvents:function(){function t(a){var r=!1;s.seriesModel.getViewRoot().eachNode(function(t){if(!r&&t.piece&&t.piece.childAt(0)===a.target){var e=t.getModel().get("nodeClick");if("rootToNode"===e)s._rootToNode(t);else if("link"===e){var i=t.getModel(),n=i.get("link");if(n){var o=i.get("target",!0)||"_blank";window.open(n,o)}}r=!0}})}var s=this;this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",t),this.group._onclickEvent=t},_rootToNode:function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:"sunburstRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},containPoint:function(t,e){var i=e.getData().getItemLayout(0);if(i){var n=t[0]-i.cx,o=t[1]-i.cy,a=Math.sqrt(n*n+o*o);return a<=i.r&&a>=i.r0}}});var qI="sunburstRootToNode";xf({type:qI,update:"updateView"},function(o,t){t.eachComponent({mainType:"series",subType:"sunburst",query:o},function(t,e){var i=Wx(o,[qI],t);if(i){var n=t.getViewRoot();n&&(o.direction=Zx(n,i.node)?"rollUp":"drillDown"),t.resetViewRoot(i.node)}})});var KI="sunburstHighlight";xf({type:KI,update:"updateView"},function(n,t){t.eachComponent({mainType:"series",subType:"sunburst",query:n},function(t,e){var i=Wx(n,[KI],t);i&&(n.highlight=i.node)})});xf({type:"sunburstUnhighlight",update:"updateView"},function(i,t){t.eachComponent({mainType:"series",subType:"sunburst",query:i},function(t,e){i.unhighlight=!0})});var $I=Math.PI/180;function JI(t,e){if("function"==typeof e)return t.sort(e);var n="asc"===e;return t.sort(function(t,e){var i=(t.getValue()-e.getValue())*(n?1:-1);return 0==i?(t.dataIndex-e.dataIndex)*(n?-1:1):i})}function QI(a,r){return r=r||[0,0],N(["x","y"],function(t,e){var i=this.getAxis(t),n=r[e],o=a[e]/2;return"category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(n-o)-i.dataToCoord(n+o))},this)}bf(T(ty,"sunburst")),wf(T(function(t,e,C,i){e.eachSeriesByType(t,function(t){var e=t.get("center"),i=t.get("radius");O(i)||(i=[0,i]),O(e)||(e=[e,e]);var n=C.getWidth(),o=C.getHeight(),h=Math.min(n,o),c=Rl(e[0],n),d=Rl(e[1],o),f=Rl(i[0],h/2),a=Rl(i[1],h/2),r=-t.get("startAngle")*$I,p=t.get("minAngle")*$I,g=t.getData().tree.root,s=t.getViewRoot(),m=s.depth,l=t.get("sort");null!=l&&!function e(t,i){var n=t.children||[];t.children=JI(n,i);n.length&&E(t.children,function(t){e(t,i)})}(s,l);var u=0;E(s.children,function(t){isNaN(t.getValue())||u++});var v=s.getValue(),y=Math.PI/(v||u)*2,x=0<s.depth,_=s.height-(x?-1:1),w=(a-f)/(_||1),b=t.get("clockwise"),S=t.get("stillShowZeroSum"),M=b?1:-1,I=function(t,e){if(t){var i=e;if(t!==g){var n=t.getValue(),o=0===v&&S?y:n*y;o<p&&(o=p),i=e+M*o;var a=t.depth-m-(x?-1:1),r=f+w*a,s=f+w*(1+a),l=t.getModel();null!=l.get("r0")&&(r=Rl(l.get("r0"),h/2)),null!=l.get("r")&&(s=Rl(l.get("r"),h/2)),t.setLayout({angle:o,startAngle:e,endAngle:i,clockwise:b,cx:c,cy:d,r0:r,r:s})}if(t.children&&t.children.length){var u=0;E(t.children,function(t){u+=I(t,e+u)})}return i-e}};if(x){var T=f,A=f+w,D=2*Math.PI;g.setLayout({angle:D,startAngle:r,endAngle:r+D,clockwise:b,cx:c,cy:d,r0:T,r:A})}I(s,r)})},"sunburst")),yf(T(sy,"sunburst"));function tT(a,r){return r=r||[0,0],N([0,1],function(t){var e=r[t],i=a[t]/2,n=[],o=[];return n[t]=e-i,o[t]=e+i,n[1-t]=o[1-t]=r[1-t],Math.abs(this.dataToPoint(n)[t]-this.dataToPoint(o)[t])},this)}function eT(t,e){var i=this.getAxis(),n=e instanceof Array?e[0]:e,o=(t instanceof Array?t[0]:t)/2;return"category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(n-o)-i.dataToCoord(n+o))}function iT(s,l){return N(["Radius","Angle"],function(t,e){var i=this["get"+t+"Axis"](),n=l[e],o=s[e]/2,a="dataTo"+t,r="category"===i.type?i.getBandWidth():Math.abs(i[a](n-o)-i[a](n+o));return"Angle"===t&&(r=r*Math.PI/180),r},this)}var nT=Ss,oT=["itemStyle"],aT=["emphasis","itemStyle"],rT=["label"],sT=["emphasis","label"],lT="e\0\0",uT={cartesian2d:function(e){var t=e.grid.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:A(QI,e)}}},geo:function(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:e.getZoom()},api:{coord:function(t){return e.dataToPoint(t)},size:A(tT,e)}}},singleAxis:function(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:A(eT,e)}}},polar:function(o){var a=o.getRadiusAxis(),r=o.getAngleAxis(),t=a.getExtent();return t[0]>t[1]&&t.reverse(),{coordSys:{type:"polar",cx:o.cx,cy:o.cy,r:t[1],r0:t[0]},api:{coord:A(function(t){var e=a.dataToRadius(t[0]),i=r.dataToAngle(t[1]),n=o.coordToPoint([e,i]);return n.push(e,i*Math.PI/180),n}),size:A(iT,o)}}},calendar:function(i){var t=i.getRect(),e=i.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:i.getCellWidth(),cellHeight:i.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:function(t,e){return i.dataToPoint(t,e)}}}}};function hT(t,e,i,n,o){null==i[t]||o||(e[t]=i[t],i[t]=n[t])}function cT(a,r,e,t){var i=a.get("renderItem"),n=a.coordinateSystem,o={};n&&(o=n.prepareCustoms?n.prepareCustoms():uT[n.type](n));var s,l,u,h,c,d=D({getWidth:t.getWidth,getHeight:t.getHeight,getZr:t.getZr,getDevicePixelRatio:t.getDevicePixelRatio,value:function(t,e){return null==e&&(e=s),r.get(r.getDimension(t||0),e)},style:function(t,e){null==e&&(e=s),g(e);var i=l.getModel(oT).getItemStyle();null!=c&&(i.fill=c);var n=r.getItemVisual(e,"opacity");null!=n&&(i.opacity=n);var o=t?mT(t,u):u;return nl(i,o,null,{autoColor:c,isRectText:!0}),i.text=o.getShallow("show")?H(a.getFormattedLabel(e,"normal"),Zg(r,e)):null,t&&vT(i,t),i},styleEmphasis:function(t,e){null==e&&(e=s),g(e);var i=l.getModel(aT).getItemStyle(),n=t?mT(t,h):h;return nl(i,n,null,{isRectText:!0},!0),i.text=n.getShallow("show")?Z(a.getFormattedLabel(e,"emphasis"),a.getFormattedLabel(e,"normal"),Zg(r,e)):null,t&&vT(i,t),i},visual:function(t,e){return null==e&&(e=s),r.getItemVisual(e,t)},barLayout:function(t){if(n.getBaseAxis){return function(t){var e=[],i=t.axis;if("category"===i.type){for(var n=i.getBandWidth(),o=0;o<t.count;o++)e.push(D({bandWidth:n,axisKey:"axis0",stackId:Dp+o},t));var a=Op(e),r=[];for(o=0;o<t.count;o++){var s=a.axis0[Dp+o];s.offsetCenter=s.offset+s.width/2,r.push(s)}return r}}(D({axis:n.getBaseAxis()},t))}},currentSeriesIndices:function(){return e.getCurrentSeriesIndices()},font:function(t){return ul(t,e)}},o.api||{}),f={context:{},seriesId:a.id,seriesName:a.name,seriesIndex:a.seriesIndex,coordSys:o.coordSys,dataInsideLength:r.count(),encode:function(o){var a={};return E(o.dimensions,function(t,e){var i=o.getDimensionInfo(t);if(!i.isExtraCoord){var n=i.coordDim;(a[n]=a[n]||[])[i.coordDimIndex]=e}}),a}(a.getData())},p=!0;return function(t,e){return s=t,p=!0,i&&i(D({dataIndexInside:t,dataIndex:r.getRawIndex(t),actionType:e?e.type:null},f),d)};function g(t){null==t&&(t=s),p&&(l=r.getItemModel(t),u=l.getModel(rT),h=l.getModel(sT),c=r.getItemVisual(t,"color"),p=!1)}}function dT(t,e,i,n,o,a){return(t=fT(t,e,i,n,o,a,!0))&&a.setItemGraphicEl(e,t),t}function fT(t,e,i,n,o,a,r){var s=!i,l=(i=i||{}).type,u=i.shape,h=i.style;if(t&&(s||null!=l&&l!==t.__customGraphicType||"path"===l&&function(t){return t&&(t.hasOwnProperty("pathData")||t.hasOwnProperty("d"))}(u)&&xT(u)!==t.__customPathData||"image"===l&&_T(h,"image")&&h.image!==t.__customImagePath||"text"===l&&_T(u,"text")&&h.text!==t.__customText)&&(o.remove(t),t=null),!s){var c=!t;return function(e,t,i,n,o,a,r){var s={},l=i.style||{};if(i.shape&&(s.shape=L(i.shape)),i.position&&(s.position=i.position.slice()),i.scale&&(s.scale=i.scale.slice()),i.origin&&(s.origin=i.origin.slice()),i.rotation&&(s.rotation=i.rotation),"image"===e.type&&i.style){var u=s.style={};E(["x","y","width","height"],function(t){hT(t,u,l,e.style,a)})}if("text"===e.type&&i.style){u=s.style={};E(["x","y"],function(t){hT(t,u,l,e.style,a)}),!l.hasOwnProperty("textFill")&&l.fill&&(l.textFill=l.fill),!l.hasOwnProperty("textStroke")&&l.stroke&&(l.textStroke=l.stroke)}if("group"!==e.type&&(e.useStyle(l),a)){e.style.opacity=0;var h=l.opacity;null==h&&(h=1),dl(e,{style:{opacity:h}},n,t)}a?e.attr(s):cl(e,s,n,t),i.hasOwnProperty("z2")&&e.attr("z2",i.z2||0),i.hasOwnProperty("silent")&&e.attr("silent",i.silent),i.hasOwnProperty("invisible")&&e.attr("invisible",i.invisible),i.hasOwnProperty("ignore")&&e.attr("ignore",i.ignore),i.hasOwnProperty("info")&&e.attr("info",i.info);var c=i.styleEmphasis;Us(e,c),r&&Js(e,!1!==c)}(t=t||function(t){var e,i=t.type;if("path"===i){var n=t.shape,o=null!=n.width&&null!=n.height?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null,a=xT(n);(e=Ps(a,null,o,n.layout||"center")).__customPathData=a}else if("image"===i)(e=new Qn({})).__customImagePath=t.style.image;else if("text"===i)(e=new Ur({})).__customText=t.style.text;else if("group"===i)e=new Ci;else{if("compoundPath"===i)throw new Error('"compoundPath" is not supported yet.');e=new(ks(i))}return e.__customGraphicType=i,e.name=t.name,e}(i),e,i,n,0,c,r),"group"===l&&function(t,e,i,n,o){var a=i.children,r=a?a.length:0,s=i.$mergeChildren,l="byName"===s||i.diffChildrenByName,u=!1===s;if(!r&&!l&&!u)return;if(l)return function(t){new Lf(t.oldChildren,t.newChildren,pT,pT,t).add(gT).update(gT).remove(yT).execute()}({oldChildren:t.children()||[],newChildren:a||[],dataIndex:e,animatableModel:n,group:t,data:o});u&&t.removeAll();for(var h=0;h<r;h++)a[h]&&fT(t.childAt(h),e,a[h],n,t,o)}(t,e,i,n,a),o.add(t),t}}function pT(t,e){var i=t&&t.name;return null!=i?i:lT+e}function gT(t,e){var i=this.context,n=null!=t?i.newChildren[t]:null;fT(null!=e?i.oldChildren[e]:null,i.dataIndex,n,i.animatableModel,i.group,i.data)}function mT(i,t){var n=new Cl({},t);return E(nT,function(t,e){i.hasOwnProperty(t)&&(n.option[e]=i[t])}),n}function vT(t,e){for(var i in e)!e.hasOwnProperty(i)&&nT.hasOwnProperty(i)||(t[i]=e[i])}function yT(t){var e=this.context,i=e.oldChildren[t];i&&e.group.remove(i)}function xT(t){return t&&(t.pathData||t.d)}function _T(t,e){return t&&t.hasOwnProperty(e)}function wT(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function bT(t,e){return e.dim+t.model.componentIndex}function ST(t,e){Vg.call(this,"radius",t,e),this.type="category"}rc.extend({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,useTransform:!0,clip:!1},getInitialData:function(t,e){return pp(this.getSource(),this)},getDataParams:function(t,e,i){var n=rc.prototype.getDataParams.apply(this,arguments);return i&&(n.info=i.info),n}}),xc.extend({type:"custom",_data:null,render:function(i,t,e,n){var o=this._data,a=i.getData(),r=this.group,s=cT(i,a,t,e);a.diff(o).add(function(t){dT(null,t,s(t,n),i,r,a)}).update(function(t,e){dT(o.getItemGraphicEl(e),t,s(t,n),i,r,a)}).remove(function(t){var e=o.getItemGraphicEl(t);e&&r.remove(e)}).execute();var l=i.get("clip",!0)?bm(i.coordinateSystem,!1,i):null;l?r.setClipPath(l):r.removeClipPath(),this._data=a},incrementalPrepareRender:function(t,e,i){this.group.removeAll(),this._data=null},incrementalRender:function(t,e,i,n,o){var a=e.getData(),r=cT(e,a,i,n);function s(t){t.isGroup||(t.incremental=!0,t.useHoverLayer=!0)}for(var l=t.start;l<t.end;l++){dT(null,l,r(l,o),e,this.group,a).traverse(s)}},dispose:et,filterForExposedEvent:function(t,e,i,n){var o=e.element;if(null==o||i.name===o)return!0;for(;(i=i.parent)&&i!==this.group;)if(i.name===o)return!0;return!1}}),ST.prototype={constructor:ST,pointToData:function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},dataToRadius:Vg.prototype.dataToCoord,radiusToData:Vg.prototype.coordToData},w(ST,Vg);var MT=jo();function IT(t,e){e=e||[0,360],Vg.call(this,"angle",t,e),this.type="category"}IT.prototype={constructor:IT,pointToData:function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},dataToAngle:Vg.prototype.dataToCoord,angleToData:Vg.prototype.coordToData,calculateCategoryInterval:function(){var t=this.getLabelModel(),e=this.scale,i=e.getExtent(),n=e.count();if(i[1]-i[0]<1)return 0;var o=i[0],a=this.dataToCoord(o+1)-this.dataToCoord(o),r=Math.abs(a),s=gn(o,t.getFont(),"center","top"),l=Math.max(s.height,7)/r;isNaN(l)&&(l=1/0);var u=Math.max(0,Math.floor(l)),h=MT(this.model),c=h.lastAutoInterval,d=h.lastTickCount;return null!=c&&null!=d&&Math.abs(c-u)<=1&&Math.abs(d-n)<=1&&u<c?u=c:(h.lastTickCount=n,h.lastAutoInterval=u),u}},w(IT,Vg);function TT(t){this.name=t||"",this.cx=0,this.cy=0,this._radiusAxis=new ST,this._angleAxis=new IT,this._radiusAxis.polar=this._angleAxis.polar=this}TT.prototype={type:"polar",axisPointerEnabled:!0,constructor:TT,dimensions:["radius","angle"],model:null,containPoint:function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},containData:function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},getAxis:function(t){return this["_"+t+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(t){var e=[],i=this._angleAxis,n=this._radiusAxis;return i.scale.type===t&&e.push(i),n.scale.type===t&&e.push(n),e},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},dataToPoint:function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},pointToData:function(t,e){var i=this.pointToCoord(t);return[this._radiusAxis.radiusToData(i[0],e),this._angleAxis.angleToData(i[1],e)]},pointToCoord:function(t){var e=t[0]-this.cx,i=t[1]-this.cy,n=this.getAngleAxis(),o=n.getExtent(),a=Math.min(o[0],o[1]),r=Math.max(o[0],o[1]);n.inverse?a=r-360:r=a+360;var s=Math.sqrt(e*e+i*i);e/=s,i/=s;for(var l=Math.atan2(-i,e)/Math.PI*180,u=l<a?1:-1;l<a||r<l;)l+=360*u;return[s,l]},coordToPoint:function(t){var e=t[0],i=t[1]/180*Math.PI;return[Math.cos(i)*e+this.cx,-Math.sin(i)*e+this.cy]},getArea:function(){var t=this.getAngleAxis(),e=this.getRadiusAxis().getExtent().slice();e[0]>e[1]&&e.reverse();var i=t.getExtent(),n=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:e[0],r:e[1],startAngle:-i[0]*n,endAngle:-i[1]*n,clockwise:t.inverse,contain:function(t,e){var i=t-this.cx,n=e-this.cy,o=i*i+n*n,a=this.r,r=this.r0;return o<=a*a&&r*r<=o}}}};var AT=Lu.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});m(AT.prototype,cg);var DT={splitNumber:5};function CT(t,e){return e.type||(e.data?"category":"value")}function LT(t,e){var i=this,n=i.getAngleAxis(),o=i.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),o.scale.setExtent(1/0,-1/0),t.eachSeries(function(t){if(t.coordinateSystem===i){var e=t.getData();E(e.mapDimension("radius",!0),function(t){o.scale.unionExtentFromData(e,fp(e,t))}),E(e.mapDimension("angle",!0),function(t){n.scale.unionExtentFromData(e,fp(e,t))})}}),ag(n.scale,n.model),ag(o.scale,o.model),"category"===n.type&&!n.onBand){var a=n.getExtent(),r=360/n.scale.count();n.inverse?a[1]+=r:a[1]-=r,n.setExtent(a[0],a[1])}}function kT(t,e){if(t.type=e.get("type"),t.scale=rg(e),t.onBand=e.get("boundaryGap")&&"category"===t.type,t.inverse=e.get("inverse"),"angleAxis"===e.mainType){t.inverse^=e.get("clockwise");var i=e.get("startAngle");t.setExtent(i,i+(t.inverse?-360:360))}(e.axis=t).model=e}Bm("angle",AT,CT,{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}}),Bm("radius",AT,CT,DT),If({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(t){var e;return this.ecModel.eachComponent(t,function(t){t.getCoordSysModel()===this&&(e=t)},this),e},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}}),sh.register("polar",{dimensions:TT.prototype.dimensions,create:function(i,s){var l=[];return i.eachComponent("polar",function(t,e){var i=new TT(e);i.update=LT;var n=i.getRadiusAxis(),o=i.getAngleAxis(),a=t.findAxisModel("radiusAxis"),r=t.findAxisModel("angleAxis");kT(n,a),kT(o,r),function(t,e,i){var n=e.get("center"),o=i.getWidth(),a=i.getHeight();t.cx=Rl(n[0],o),t.cy=Rl(n[1],a);var r=t.getRadiusAxis(),s=Math.min(o,a)/2,l=e.get("radius");null==l?l=[0,"100%"]:O(l)||(l=[0,l]),l=[Rl(l[0],s),Rl(l[1],s)],r.inverse?r.setExtent(l[1],l[0]):r.setExtent(l[0],l[1])}(i,t,s),l.push(i),(t.coordinateSystem=i).model=t}),i.eachSeries(function(t){if("polar"===t.get("coordinateSystem")){var e=i.queryComponents({mainType:"polar",index:t.get("polarIndex"),id:t.get("polarId")})[0];t.coordinateSystem=e.coordinateSystem}}),l}});var PT=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function NT(t,e,i){e[1]>e[0]&&(e=e.slice().reverse());var n=t.coordToPoint([e[0],i]),o=t.coordToPoint([e[1],i]);return{x1:n[0],y1:n[1],x2:o[0],y2:o[1]}}function OT(t){return t.getRadiusAxis().inverse?0:1}function ET(t){var e=t[0],i=t[t.length-1];e&&i&&Math.abs(Math.abs(e.coord-i.coord)-360)<1e-4&&t.pop()}pv.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(e,t){if(this.group.removeAll(),e.get("show")){var i=e.axis,n=i.polar,o=n.getRadiusAxis().getExtent(),a=i.getTicksCoords(),r=i.getMinorTicksCoords(),s=N(i.getViewLabels(),function(t){return(t=L(t)).coord=i.dataToCoord(t.tickValue),t});ET(s),ET(a),E(PT,function(t){!e.get(t+".show")||i.scale.isBlank()&&"axisLine"!==t||this["_"+t](e,n,a,r,o,s)},this)}},_axisLine:function(t,e,i,n,o){var a,r=t.getModel("axisLine.lineStyle"),s=OT(e),l=s?0:1;(a=0===o[l]?new Yr({shape:{cx:e.cx,cy:e.cy,r:o[s]},style:r.getLineStyle(),z2:1,silent:!0}):new Kr({shape:{cx:e.cx,cy:e.cy,r:o[s],r0:o[l]},style:r.getLineStyle(),z2:1,silent:!0})).style.fill=null,this.group.add(a)},_axisTick:function(t,e,i,n,o){var a=t.getModel("axisTick"),r=(a.get("inside")?-1:1)*a.get("length"),s=o[OT(e)],l=N(i,function(t){return new ls({shape:NT(e,[s,s+r],t.coord)})});this.group.add(Es(l,{style:D(a.getModel("lineStyle").getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")})}))},_minorTick:function(t,e,i,n,o){if(n.length){for(var a=t.getModel("axisTick"),r=t.getModel("minorTick"),s=(a.get("inside")?-1:1)*r.get("length"),l=o[OT(e)],u=[],h=0;h<n.length;h++)for(var c=0;c<n[h].length;c++)u.push(new ls({shape:NT(e,[l,l+s],n[h][c].coord)}));this.group.add(Es(u,{style:D(r.getModel("lineStyle").getLineStyle(),D(a.getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")}))}))}},_axisLabel:function(c,d,t,e,f,i){var p=c.getCategories(!0),g=c.getModel("axisLabel"),m=g.get("margin"),v=c.get("triggerEvent");E(i,function(t,e){var i=g,n=t.tickValue,o=f[OT(d)],a=d.coordToPoint([o+m,t.coord]),r=d.cx,s=d.cy,l=Math.abs(a[0]-r)/o<.3?"center":a[0]>r?"left":"right",u=Math.abs(a[1]-s)/o<.3?"middle":a[1]>s?"top":"bottom";p&&p[n]&&p[n].textStyle&&(i=new Cl(p[n].textStyle,g,g.ecModel));var h=new Ur({silent:$m.isLabelSilent(c)});this.group.add(h),nl(h.style,i,{x:a[0],y:a[1],textFill:i.getTextColor()||c.get("axisLine.lineStyle.color"),text:t.formattedLabel,textAlign:l,textVerticalAlign:u}),v&&(h.eventData=$m.makeAxisEventDataBase(c),h.eventData.targetType="axisLabel",h.eventData.value=t.rawLabel)},this)},_splitLine:function(t,e,i,n,o){var a=t.getModel("splitLine").getModel("lineStyle"),r=a.get("color"),s=0;r=r instanceof Array?r:[r];for(var l=[],u=0;u<i.length;u++){var h=s++%r.length;l[h]=l[h]||[],l[h].push(new ls({shape:NT(e,o,i[u].coord)}))}for(u=0;u<l.length;u++)this.group.add(Es(l[u],{style:D({stroke:r[u%r.length]},a.getLineStyle()),silent:!0,z:t.get("z")}))},_minorSplitLine:function(t,e,i,n,o){if(n.length){for(var a=t.getModel("minorSplitLine").getModel("lineStyle"),r=[],s=0;s<n.length;s++)for(var l=0;l<n[s].length;l++)r.push(new ls({shape:NT(e,o,n[s][l].coord)}));this.group.add(Es(r,{style:a.getLineStyle(),silent:!0,z:t.get("z")}))}},_splitArea:function(t,e,i,n,o){if(i.length){var a=t.getModel("splitArea").getModel("areaStyle"),r=a.get("color"),s=0;r=r instanceof Array?r:[r];for(var l=[],u=Math.PI/180,h=-i[0].coord*u,c=Math.min(o[0],o[1]),d=Math.max(o[0],o[1]),f=t.get("clockwise"),p=1;p<i.length;p++){var g=s++%r.length;l[g]=l[g]||[],l[g].push(new qr({shape:{cx:e.cx,cy:e.cy,r0:c,r:d,startAngle:h,endAngle:-i[p].coord*u,clockwise:f},silent:!0})),h=-i[p].coord*u}for(p=0;p<l.length;p++)this.group.add(Es(l[p],{style:D({fill:r[p%r.length]},a.getAreaStyle()),silent:!0}))}}});var RT=["axisLine","axisTickLabel","axisName"],zT=["splitLine","splitArea","minorSplitLine"];pv.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(e,t){if(this.group.removeAll(),e.get("show")){var i=e.axis,n=i.polar,o=n.getAngleAxis(),a=i.getTicksCoords(),r=i.getMinorTicksCoords(),s=o.getExtent()[0],l=i.getExtent(),u=function(t,e,i){return{position:[t.cx,t.cy],rotation:i/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}(n,e,s),h=new $m(e,u);E(RT,h.add,h),this.group.add(h.getGroup()),E(zT,function(t){e.get(t+".show")&&!i.scale.isBlank()&&this["_"+t](e,n,s,l,a,r)},this)}},_splitLine:function(t,e,i,n,o){var a=t.getModel("splitLine").getModel("lineStyle"),r=a.get("color"),s=0;r=r instanceof Array?r:[r];for(var l=[],u=0;u<o.length;u++){var h=s++%r.length;l[h]=l[h]||[],l[h].push(new Yr({shape:{cx:e.cx,cy:e.cy,r:o[u].coord}}))}for(u=0;u<l.length;u++)this.group.add(Es(l[u],{style:D({stroke:r[u%r.length],fill:null},a.getLineStyle()),silent:!0}))},_minorSplitLine:function(t,e,i,n,o,a){if(a.length){for(var r=t.getModel("minorSplitLine").getModel("lineStyle"),s=[],l=0;l<a.length;l++)for(var u=0;u<a[l].length;u++)s.push(new Yr({shape:{cx:e.cx,cy:e.cy,r:a[l][u].coord}}));this.group.add(Es(s,{style:D({fill:null},r.getLineStyle()),silent:!0}))}},_splitArea:function(t,e,i,n,o){if(o.length){var a=t.getModel("splitArea").getModel("areaStyle"),r=a.get("color"),s=0;r=r instanceof Array?r:[r];for(var l=[],u=o[0].coord,h=1;h<o.length;h++){var c=s++%r.length;l[c]=l[c]||[],l[c].push(new qr({shape:{cx:e.cx,cy:e.cy,r0:u,r:o[h].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),u=o[h].coord}for(h=0;h<l.length;h++)this.group.add(Es(l[h],{style:D({fill:r[h%r.length]},a.getAreaStyle()),silent:!0}))}}});var BT=vI.extend({makeElOption:function(t,e,i,n,o){var a=i.axis;"angle"===a.dim&&(this.animationThreshold=Math.PI/18);var r,s=a.polar,l=s.getOtherAxis(a).getExtent();r=a["dataTo"+fu(a.dim)](e);var u=n.get("type");if(u&&"none"!==u){var h=bI(n),c=VT[u](a,s,r,l,h);c.style=h,t.graphicKey=c.type,t.pointer=c}var d=n.get("label.margin");SI(t,i,n,o,function(t,e,i,n,o){var a=e.axis,r=a.dataToCoord(t),s=n.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l,u,h,c=n.getRadiusAxis().getExtent();if("radius"===a.dim){var d=ae();he(d,d,s),ue(d,d,[n.cx,n.cy]),l=pl([r,-o],d);var f=e.getModel("axisLabel").get("rotate")||0,p=$m.innerTextLayout(s,f*Math.PI/180,-1);u=p.textAlign,h=p.textVerticalAlign}else{var g=c[1];l=n.coordToPoint([g+o,r]);var m=n.cx,v=n.cy;u=Math.abs(l[0]-m)/g<.3?"center":l[0]>m?"left":"right",h=Math.abs(l[1]-v)/g<.3?"middle":l[1]>v?"top":"bottom"}return{position:l,align:u,verticalAlign:h}}(e,i,0,s,d))}});var VT={line:function(t,e,i,n,o){return"angle"===t.dim?{type:"Line",shape:AI(e.coordToPoint([n[0],i]),e.coordToPoint([n[1],i]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:i}}},shadow:function(t,e,i,n,o){var a=Math.max(1,t.getBandWidth()),r=Math.PI/180;return"angle"===t.dim?{type:"Sector",shape:CI(e.cx,e.cy,n[0],n[1],(-i-a/2)*r,(a/2-i)*r)}:{type:"Sector",shape:CI(e.cx,e.cy,i-a/2,i+a/2,0,2*Math.PI)}}};function GT(n,t){t.update="updateView",xf(t,function(t,e){var i={};return e.eachComponent({mainType:"geo",query:t},function(e){e[n](t.name),E(e.coordinateSystem.regions,function(t){i[t.name]=e.isSelected(t.name)||!1})}),{selected:i,name:t.name}})}pv.registerAxisPointerClass("PolarAxisPointer",BT),wf(T(function(t,e,i){var N={},O=function(t){var g={};E(t,function(t,e){var i=t.getData(),n=t.coordinateSystem,o=n.getBaseAxis(),a=bT(n,o),r=o.getExtent(),s="category"===o.type?o.getBandWidth():Math.abs(r[1]-r[0])/i.count(),l=g[a]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},u=l.stacks;g[a]=l;var h=wT(t);u[h]||l.autoWidthCount++,u[h]=u[h]||{width:0,maxWidth:0};var c=Rl(t.get("barWidth"),s),d=Rl(t.get("barMaxWidth"),s),f=t.get("barGap"),p=t.get("barCategoryGap");c&&!u[h].width&&(c=Math.min(l.remainedWidth,c),u[h].width=c,l.remainedWidth-=c),d&&(u[h].maxWidth=d),null!=f&&(l.gap=f),null!=p&&(l.categoryGap=p)});var d={};return E(g,function(t,i){d[i]={};var e=t.stacks,n=t.bandWidth,o=Rl(t.categoryGap,n),a=Rl(t.gap,1),r=t.remainedWidth,s=t.autoWidthCount,l=(r-o)/(s+(s-1)*a);l=Math.max(l,0),E(e,function(t,e){var i=t.maxWidth;i&&i<l&&(i=Math.min(i,r),t.width&&(i=Math.min(i,t.width)),r-=i,t.width=i,s--)}),l=(r-o)/(s+(s-1)*a),l=Math.max(l,0);var u,h=0;E(e,function(t,e){t.width||(t.width=l),h+=(u=t).width*(1+a)}),u&&(h-=u.width*a);var c=-h/2;E(e,function(t,e){d[i][e]=d[i][e]||{offset:c,width:t.width},c+=t.width*(1+a)})}),d}(M(e.getSeriesByType(t),function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"polar"===t.coordinateSystem.type}));e.eachSeriesByType(t,function(t){if("polar"===t.coordinateSystem.type){var e=t.getData(),i=t.coordinateSystem,n=i.getBaseAxis(),o=bT(i,n),a=wT(t),r=O[o][a],s=r.offset,l=r.width,u=i.getOtherAxis(n),h=t.coordinateSystem.cx,c=t.coordinateSystem.cy,d=t.get("barMinHeight")||0,f=t.get("barMinAngle")||0;N[a]=N[a]||[];for(var p=e.mapDimension(u.dim),g=e.mapDimension(n.dim),m=dp(e,p),v="radius"!==n.dim||!t.get("roundCap",!0),y=u.getExtent()[0],x=0,_=e.count();x<_;x++){var w,b,S,M,I=e.get(p,x),T=e.get(g,x),A=0<=I?"p":"n",D=y;if(m&&(N[a][T]||(N[a][T]={p:y,n:y}),D=N[a][T][A]),"radius"===u.dim){var C=u.dataToRadius(I)-y,L=n.dataToAngle(T);Math.abs(C)<d&&(C=(C<0?-1:1)*d),b=(w=D)+C,M=(S=L-s)-l,m&&(N[a][T][A]=b)}else{var k=u.dataToAngle(I,v)-y,P=n.dataToRadius(T);Math.abs(k)<f&&(k=(k<0?-1:1)*f),b=(w=P+s)+l,M=(S=D)+k,m&&(N[a][T][A]=M)}e.setItemLayout(x,{cx:h,cy:c,r0:w,r:b,startAngle:-S*Math.PI/180,endAngle:-M*Math.PI/180})}}},this)},"bar")),Tf({type:"polar"}),b(Lu.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(t){Lu.prototype.init.apply(this,arguments),Go(t,"label",["show"])},optionUpdated:function(){var t=this.option,i=this;t.regions=dx.getFilledRegions(t.regions,t.map,t.nameMap),this._optionModelMap=S(t.regions||[],function(t,e){return e.name&&t.set(e.name,new Cl(e,i)),t},Q()),this.updateSelectedMap(t.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(t){return this._optionModelMap.get(t)||new Cl(null,this,this.ecModel)},getFormattedLabel:function(t,e){var i=this.getRegionModel(t).get("label"+("normal"===e?".":e+".")+"formatter"),n={name:t};return"function"==typeof i?(n.status=e,i(n)):"string"==typeof i?i.replace("{a}",null!=t?t:""):void 0},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t}}),Xv),Tf({type:"geo",init:function(t,e){var i=new Jy(e,!0);this._mapDraw=i,this.group.add(i.group)},render:function(t,e,i,n){if(!n||"geoToggleSelect"!==n.type||n.from!==this.uid){var o=this._mapDraw;t.get("show")?o.draw(t,e,i,this,n):this._mapDraw.group.removeAll(),this.group.silent=t.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}}),GT("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),GT("select",{type:"geoSelect",event:"geoselected"}),GT("unSelect",{type:"geoUnSelect",event:"geounselected"});function FT(t,e,i){this._model=t}function WT(t,e,i,n){var o=i.calendarModel,a=i.seriesModel,r=o?o.coordinateSystem:a?a.coordinateSystem:null;return r===this?r[t](n):null}FT.prototype={constructor:FT,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(t){var e=(t=Yl(t)).getFullYear(),i=t.getMonth()+1;i=i<10?"0"+i:i;var n=t.getDate();n=n<10?"0"+n:n;var o=t.getDay();return{y:e,m:i,d:n,day:o=Math.abs((o+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+"-"+i+"-"+n,date:t}},getNextNDay:function(t,e){return 0===(e=e||0)||(t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t)},update:function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var i=this._rangeInfo.weeks||1,n=["width","height"],o=this._model.get("cellSize").slice(),a=this._model.getBoxLayoutParams(),r="horizontal"===this._orient?[i,7]:[7,i];E([0,1],function(t){u(o,t)&&(a[n[t]]=o[t]*r[t])});var s={width:e.getWidth(),height:e.getHeight()},l=this._rect=wu(a,s);function u(t,e){return null!=t[e]&&"auto"!==t[e]}E([0,1],function(t){u(o,t)||(o[t]=l[n[t]]/r[t])}),this._sw=o[0],this._sh=o[1]},dataToPoint:function(t,e){O(t)&&(t=t[0]),null==e&&(e=!0);var i=this.getDateInfo(t),n=this._rangeInfo,o=i.formatedDate;if(e&&!(i.time>=n.start.time&&i.time<n.end.time+864e5))return[NaN,NaN];var a=i.day,r=this._getRangeInfo([n.start.time,o]).nthWeek;return"vertical"===this._orient?[this._rect.x+a*this._sw+this._sw/2,this._rect.y+r*this._sh+this._sh/2]:[this._rect.x+r*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]},pointToData:function(t){var e=this.pointToDate(t);return e&&e.time},dataToRect:function(t,e){var i=this.dataToPoint(t,e);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},pointToDate:function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,i=Math.floor((t[1]-this._rect.y)/this._sh)+1,n=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(i,e-1,n):this._getDateByWeeksAndDay(e,i-1,n)},convertToPixel:T(WT,"dataToPoint"),convertFromPixel:T(WT,"pointToData"),_initRangeOption:function(){var t=this._model.get("range"),e=t;if(O(e)&&1===e.length&&(e=e[0]),/^\d{4}$/.test(e)&&(t=[e+"-01-01",e+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(e)){var i=this.getDateInfo(e),n=i.date;n.setMonth(n.getMonth()+1);var o=this.getNextNDay(n,-1);t=[i.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(e)&&(t=[e,e]);var a=this._getRangeInfo(t);return a.start.time>a.end.time&&t.reverse(),t},_getRangeInfo:function(t){var e;(t=[this.getDateInfo(t[0]),this.getDateInfo(t[1])])[0].time>t[1].time&&(e=!0,t.reverse());var i=Math.floor(t[1].time/864e5)-Math.floor(t[0].time/864e5)+1,n=new Date(t[0].time),o=n.getDate(),a=t[1].date.getDate();if(n.setDate(o+i-1),n.getDate()!==a)for(var r=0<n.getTime()-t[1].time?1:-1;n.getDate()!==a&&0<(n.getTime()-t[1].time)*r;)i-=r,n.setDate(o+i-1);var s=Math.floor((i+t[0].day+6)/7),l=e?1-s:s-1;return e&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:i,weeks:s,nthWeek:l,fweek:t[0].day,lweek:t[1].day}},_getDateByWeeksAndDay:function(t,e,i){var n=this._getRangeInfo(i);if(t>n.weeks||0===t&&e<n.fweek||t===n.weeks&&e>n.lweek)return!1;var o=7*(t-1)-n.fweek+e,a=new Date(n.start.time);return a.setDate(n.start.d+o),this.getDateInfo(a)}},FT.dimensions=FT.prototype.dimensions,FT.getDimensionsInfo=FT.prototype.getDimensionsInfo,FT.create=function(i,n){var o=[];return i.eachComponent("calendar",function(t){var e=new FT(t,i,n);o.push(e),t.coordinateSystem=e}),i.eachSeries(function(t){"calendar"===t.get("coordinateSystem")&&(t.coordinateSystem=o[t.get("calendarIndex")||0])}),o},sh.register("calendar",FT);var HT=Lu.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(t,e,i,n){var o=Mu(t);HT.superApply(this,"init",arguments),ZT(t,o)},mergeOption:function(t,e){HT.superApply(this,"mergeOption",arguments),ZT(this.option,t)}});function ZT(t,e){var i=t.cellSize;O(i)?1===i.length&&(i[1]=i[0]):i=t.cellSize=[i,i];var n=N([0,1],function(t){return function(t,e){return null!=t[yu[e][0]]||null!=t[yu[e][1]]&&null!=t[yu[e][2]]}(e,t)&&(i[t]="auto"),null!=i[t]&&"auto"!==i[t]});Su(t,e,{type:"box",ignoreSize:n})}var UT={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["","","","","","","","","","","",""]},XT={EN:["S","M","T","W","T","F","S"],CN:["","","","","","",""]};Tf({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(t,e,i){var n=this.group;n.removeAll();var o=t.coordinateSystem,a=o.getRangeInfo(),r=o.getOrient();this._renderDayRect(t,a,n),this._renderLines(t,a,r,n),this._renderYearText(t,a,r,n),this._renderMonthText(t,r,n),this._renderWeekText(t,a,r,n)},_renderDayRect:function(t,e,i){for(var n=t.coordinateSystem,o=t.getModel("itemStyle").getItemStyle(),a=n.getCellWidth(),r=n.getCellHeight(),s=e.start.time;s<=e.end.time;s=n.getNextNDay(s,1).time){var l=n.dataToRect([s],!1).tl,u=new rs({shape:{x:l[0],y:l[1],width:a,height:r},cursor:"default",style:o});i.add(u)}},_renderLines:function(i,t,n,o){var a=this,r=i.coordinateSystem,s=i.getModel("splitLine.lineStyle").getLineStyle(),l=i.get("splitLine.show"),e=s.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var u=t.start,h=0;u.time<=t.end.time;h++){d(u.formatedDate),0===h&&(u=r.getDateInfo(t.start.y+"-"+t.start.m));var c=u.date;c.setMonth(c.getMonth()+1),u=r.getDateInfo(c)}function d(t){a._firstDayOfMonth.push(r.getDateInfo(t)),a._firstDayPoints.push(r.dataToRect([t],!1).tl);var e=a._getLinePointsOfOneWeek(i,t,n);a._tlpoints.push(e[0]),a._blpoints.push(e[e.length-1]),l&&a._drawSplitline(e,s,o)}d(r.getNextNDay(t.end.time,1).formatedDate),l&&this._drawSplitline(a._getEdgesPoints(a._tlpoints,e,n),s,o),l&&this._drawSplitline(a._getEdgesPoints(a._blpoints,e,n),s,o)},_getEdgesPoints:function(t,e,i){var n=[t[0].slice(),t[t.length-1].slice()],o="horizontal"===i?0:1;return n[0][o]=n[0][o]-e/2,n[1][o]=n[1][o]+e/2,n},_drawSplitline:function(t,e,i){var n=new ts({z2:20,shape:{points:t},style:e});i.add(n)},_getLinePointsOfOneWeek:function(t,e,i){var n=t.coordinateSystem;e=n.getDateInfo(e);for(var o=[],a=0;a<7;a++){var r=n.getNextNDay(e.time,a),s=n.dataToRect([r.time],!1);o[2*r.day]=s.tl,o[2*r.day+1]=s["horizontal"===i?"bl":"tr"]}return o},_formatterLabel:function(t,e){return"string"==typeof t&&t?uu(t,e):"function"==typeof t?t(e):e.nameMap},_yearTextPositionControl:function(t,e,i,n,o){e=e.slice();var a=["center","bottom"];"bottom"===n?(e[1]+=o,a=["center","top"]):"left"===n?e[0]-=o:"right"===n?(e[0]+=o,a=["center","top"]):e[1]-=o;var r=0;return"left"!==n&&"right"!==n||(r=Math.PI/2),{rotation:r,position:e,style:{textAlign:a[0],textVerticalAlign:a[1]}}},_renderYearText:function(t,e,i,n){var o=t.getModel("yearLabel");if(o.get("show")){var a=o.get("margin"),r=o.get("position");r=r||("horizontal"!==i?"top":"left");var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],l=(s[0][0]+s[1][0])/2,u=(s[0][1]+s[1][1])/2,h="horizontal"===i?0:1,c={top:[l,s[h][1]],bottom:[l,s[1-h][1]],left:[s[1-h][0],u],right:[s[h][0],u]},d=e.start.y;+e.end.y>+e.start.y&&(d=d+"-"+e.end.y);var f=o.get("formatter"),p={start:e.start.y,end:e.end.y,nameMap:d},g=this._formatterLabel(f,p),m=new Ur({z2:30});nl(m.style,o,{text:g}),m.attr(this._yearTextPositionControl(m,c[r],i,r,a)),n.add(m)}},_monthTextPositionControl:function(t,e,i,n,o){var a="left",r="top",s=t[0],l=t[1];return"horizontal"===i?(l+=o,e&&(a="center"),"start"===n&&(r="bottom")):(s+=o,e&&(r="middle"),"start"===n&&(a="right")),{x:s,y:l,textAlign:a,textVerticalAlign:r}},_renderMonthText:function(t,e,i){var n=t.getModel("monthLabel");if(n.get("show")){var o=n.get("nameMap"),a=n.get("margin"),r=n.get("position"),s=n.get("align"),l=[this._tlpoints,this._blpoints];R(o)&&(o=UT[o.toUpperCase()]||[]);var u="start"===r?0:1,h="horizontal"===e?0:1;a="start"===r?-a:a;for(var c="center"===s,d=0;d<l[u].length-1;d++){var f=l[u][d].slice(),p=this._firstDayOfMonth[d];if(c){var g=this._firstDayPoints[d];f[h]=(g[h]+l[0][d+1][h])/2}var m=n.get("formatter"),v=o[+p.m-1],y={yyyy:p.y,yy:(p.y+"").slice(2),MM:p.m,M:+p.m,nameMap:v},x=this._formatterLabel(m,y),_=new Ur({z2:30});k(nl(_.style,n,{text:x}),this._monthTextPositionControl(f,c,e,r,a)),i.add(_)}}},_weekTextPositionControl:function(t,e,i,n,o){var a="center",r="middle",s=t[0],l=t[1],u="start"===i;return"horizontal"===e?(s=s+n+(u?1:-1)*o[0]/2,a=u?"right":"left"):(l=l+n+(u?1:-1)*o[1]/2,r=u?"bottom":"top"),{x:s,y:l,textAlign:a,textVerticalAlign:r}},_renderWeekText:function(t,e,i,n){var o=t.getModel("dayLabel");if(o.get("show")){var a=t.coordinateSystem,r=o.get("position"),s=o.get("nameMap"),l=o.get("margin"),u=a.getFirstDayOfWeek();R(s)&&(s=XT[s.toUpperCase()]||[]);var h=a.getNextNDay(e.end.time,7-e.lweek).time,c=[a.getCellWidth(),a.getCellHeight()];l=Rl(l,c["horizontal"===i?0:1]),"start"===r&&(h=a.getNextNDay(e.start.time,-(7+e.fweek)).time,l=-l);for(var d=0;d<7;d++){var f,p=a.getNextNDay(h,d),g=a.dataToRect([p.time],!1).center;f=Math.abs((d+u)%7);var m=new Ur({z2:30});k(nl(m.style,o,{text:s[f]}),this._weekTextPositionControl(g,i,r,l,c)),n.add(m)}}}});var YT={path:null,compoundPath:null,group:Ci,image:Qn,text:Ur};vf(function(t){var e=t.graphic;O(e)?e[0]&&e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])});var jT=If({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(t){var e=this.option.elements;this.option.elements=null,jT.superApply(this,"mergeOption",arguments),this.option.elements=e},optionUpdated:function(t,e){var i=this.option,n=(e?i:t).elements,o=i.elements=e?[]:i.elements,a=[];this._flatten(n,a);var r=Ho(o,a);Zo(r);var s=this._elOptionsToUpdate=[];E(r,function(t,e){var i=t.option;i&&(s.push(i),function(t,e){var i=t.exist;if(e.id=t.keyInfo.id,!e.type&&i&&(e.type=i.type),null==e.parentId){var n=e.parentOption;n?e.parentId=n.id:i&&(e.parentId=i.parentId)}e.parentOption=null}(t,i),function(t,e,i){var n=k({},i),o=t[e],a=i.$action||"merge";"merge"===a?o?(m(o,n,!0),Su(o,n,{ignoreSize:!0}),Iu(i,o)):t[e]=n:"replace"===a?t[e]=n:"remove"===a&&o&&(t[e]=null)}(o,e,i),function(t,e){if(!t)return;t.hv=e.hv=[$T(e,["left","right"]),$T(e,["top","bottom"])],"group"===t.type&&(null==t.width&&(t.width=e.width=0),null==t.height&&(t.height=e.height=0))}(o[e],i))},this);for(var l=o.length-1;0<=l;l--)null==o[l]?o.splice(l,1):delete o[l].$action},_flatten:function(t,i,n){E(t,function(t){if(t){n&&(t.parentOption=n),i.push(t);var e=t.children;"group"===t.type&&e&&this._flatten(e,i,t),delete t.children}},this)},useElOptionsToUpdate:function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t}});function qT(t,e,i,n){var o=i.type,a=new(YT.hasOwnProperty(o)?YT[o]:ks(o))(i);e.add(a),n.set(t,a),a.__ecGraphicId=t}function KT(t,e){var i=t&&t.parent;i&&("group"===t.type&&t.traverse(function(t){KT(t,e)}),e.removeKey(t.__ecGraphicId),i.remove(t))}function $T(e,t){var i;return E(t,function(t){null!=e[t]&&"auto"!==e[t]&&(i=!0)}),i}Tf({type:"graphic",init:function(t,e){this._elMap=Q(),this._lastGraphicModel},render:function(t,e,i){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,i)},_updateElements:function(u){var t=u.useElOptionsToUpdate();if(t){var h=this._elMap,c=this.group;E(t,function(t){var e=t.$action,i=t.id,n=h.get(i),o=t.parentId,a=null!=o?h.get(o):c,r=t.style;"text"===t.type&&r&&(t.hv&&t.hv[1]&&(r.textVerticalAlign=r.textBaseline=null),!r.hasOwnProperty("textFill")&&r.fill&&(r.textFill=r.fill),!r.hasOwnProperty("textStroke")&&r.stroke&&(r.textStroke=r.stroke));var s=function(e){return e=k({},e),E(["id","parentId","$action","hv","bounding"].concat(vu),function(t){delete e[t]}),e}(t);e&&"merge"!==e?"replace"===e?(KT(n,h),qT(i,a,s,h)):"remove"===e&&KT(n,h):n?n.attr(s):qT(i,a,s,h);var l=h.get(i);l&&(l.__ecGraphicWidthOption=t.width,l.__ecGraphicHeightOption=t.height,function(t,e){var i=t.eventData;t.silent||t.ignore||i||(i=t.eventData={componentType:"graphic",componentIndex:e.componentIndex,name:t.name});i&&(i.info=t.info)}(l,u))})}},_relocate:function(t,e){for(var i=t.option.elements,n=this.group,o=this._elMap,a=e.getWidth(),r=e.getHeight(),s=0;s<i.length;s++){var l=i[s];if((h=o.get(l.id))&&h.isGroup){var u=(c=h.parent)===n;h.__ecGraphicWidth=Rl(h.__ecGraphicWidthOption,u?a:c.__ecGraphicWidth)||0,h.__ecGraphicHeight=Rl(h.__ecGraphicHeightOption,u?r:c.__ecGraphicHeight)||0}}for(s=i.length-1;0<=s;s--){var h,c;l=i[s];if(h=o.get(l.id))bu(h,l,(c=h.parent)===n?{width:a,height:r}:{width:c.__ecGraphicWidth,height:c.__ecGraphicHeight},null,{hv:l.hv,boundingMode:l.bounding})}},_clear:function(){var e=this._elMap;e.each(function(t){KT(t,e)}),this._elMap=Q()},dispose:function(){this._clear()}});var JT={};function QT(t,e){JT[t]=e}function tA(t){return JT[t]}var eA=If({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){eA.superApply(this,"optionUpdated",arguments),E(this.option.feature,function(t,e){var i=tA(e);i&&m(t,i.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1}}});function iA(t,e){var i=iu(e.get("padding")),n=e.getItemStyle(["color","opacity"]);return n.fill=e.get("backgroundColor"),t=new rs({shape:{x:t.x-i[3],y:t.y-i[0],width:t.width+i[1]+i[3],height:t.height+i[0]+i[2],r:e.get("borderRadius")},style:n,silent:!0,z2:-1})}Tf({type:"toolbox",render:function(h,c,d,l){var f=this.group;if(f.removeAll(),h.get("show")){var p=+h.get("itemSize"),u=h.get("feature")||{},g=this._features||(this._features={}),m=[];E(u,function(t,e){m.push(e)}),new Lf(this._featureNames||[],m).add(t).update(t).remove(T(t,null)).execute(),this._featureNames=m,function(t,e,i){var n=e.getBoxLayoutParams(),o=e.get("padding"),a={width:i.getWidth(),height:i.getHeight()},r=wu(n,a,o);_u(e.get("orient"),t,e.get("itemGap"),r.width,r.height),bu(t,n,a,o)}(f,h,d),f.add(iA(f.getBoundingRect(),h)),f.eachChild(function(t){var e=t.__title,i=t.hoverStyle;if(i&&e){var n=gn(e,An(i)),o=t.position[0]+f.position[0],a=!1;t.position[1]+f.position[1]+p+n.height>d.getHeight()&&(i.textPosition="top",a=!0);var r=a?-5-n.height:p+8;o+n.width/2>d.getWidth()?(i.textPosition=["100%",r],i.textAlign="right"):o-n.width/2<0&&(i.textPosition=[0,r],i.textAlign="left")}})}function t(t,e){var i,n=m[t],o=m[e],a=u[n],r=new Cl(a,h,h.ecModel);if(l&&null!=l.newTitle&&(a.title=l.newTitle),n&&!o){if(function(t){return 0===t.indexOf("my")}(n))i={model:r,onclick:r.option.onclick,featureName:n};else{var s=tA(n);if(!s)return;i=new s(r,c,d)}g[n]=i}else{if(!(i=g[o]))return;i.model=r,i.ecModel=c,i.api=d}n||!o?r.get("show")&&!i.unusable?(function(o,a,t){var r=o.getModel("iconStyle"),s=o.getModel("emphasis.iconStyle"),e=a.getIcons?a.getIcons():o.get("icon"),l=o.get("title")||{};if("string"==typeof e){var i=e,n=l;l={},(e={})[t]=i,l[t]=n}var u=o.iconPaths={};E(e,function(t,e){var i=yl(t,{},{x:-p/2,y:-p/2,width:p,height:p});i.setStyle(r.getItemStyle()),i.hoverStyle=s.getItemStyle(),i.setStyle({text:l[e],textAlign:s.get("textAlign"),textBorderRadius:s.get("textBorderRadius"),textPadding:s.get("textPadding"),textFill:null});var n=h.getModel("tooltip");n&&n.get("show")&&i.attr("tooltip",k({content:l[e],formatter:n.get("formatter",!0)||function(){return l[e]},formatterParams:{componentType:"toolbox",name:e,title:l[e],$vars:["name","title"]},position:n.get("position",!0)||"bottom"},n.option)),$s(i),h.get("showTitle")&&(i.__title=l[e],i.on("mouseover",function(){var t=s.getItemStyle(),e="vertical"===h.get("orient")?null==h.get("right")?"right":"left":null==h.get("bottom")?"bottom":"top";i.setStyle({textFill:s.get("textFill")||t.fill||t.stroke||"#000",textBackgroundColor:s.get("textBackgroundColor"),textPosition:s.get("textPosition")||e})}).on("mouseout",function(){i.setStyle({textFill:null,textBackgroundColor:null})})),i.trigger(o.get("iconStatus."+e)||"normal"),f.add(i),i.on("click",A(a.onclick,a,c,d,e)),u[e]=i})}(r,i,n),r.setIconStatus=function(t,e){var i=this.option,n=this.iconPaths;i.iconStatus=i.iconStatus||{},i.iconStatus[t]=e,n[t]&&n[t].trigger(e)},i.render&&i.render(r,c,d,l)):i.remove&&i.remove(c,d):i.dispose&&i.dispose(c,d)}},updateView:function(t,e,i,n){E(this._features,function(t){t.updateView&&t.updateView(t.model,e,i,n)})},remove:function(e,i){E(this._features,function(t){t.remove&&t.remove(e,i)}),this.group.removeAll()},dispose:function(e,i){E(this._features,function(t){t.dispose&&t.dispose(e,i)})}});var nA=Nc.toolbox.saveAsImage;function oA(t){this.model=t}oA.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:nA.title,type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:nA.lang.slice()},oA.prototype.unusable=!v.canvasSupported,oA.prototype.onclick=function(t,e){var i=this.model,n=i.get("name")||t.get("title.0.text")||"echarts",o=i.get("type",!0)||"png",a=e.getConnectedDataURL({type:o,backgroundColor:i.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")});if("function"!=typeof MouseEvent||v.browser.ie||v.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var r=atob(a.split(",")[1]),s=r.length,l=new Uint8Array(s);s--;)l[s]=r.charCodeAt(s);var u=new Blob([l]);window.navigator.msSaveOrOpenBlob(u,n+"."+o)}else{var h=i.get("lang"),c='<body style="margin:0;"><img src="'+a+'" style="max-width:100%;" title="'+(h&&h[0]||"")+'" /></body>';window.open().document.write(c)}else{var d=document.createElement("a");d.download=n+"."+o,d.target="_blank",d.href=a;var f=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});d.dispatchEvent(f)}},QT("saveAsImage",oA);var aA=Nc.toolbox.magicType,rA="__ec_magicType_stack__";function sA(t){this.model=t}sA.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:L(aA.title),option:{},seriesIndex:{}};var lA=sA.prototype;lA.getIcons=function(){var t=this.model,e=t.get("icon"),i={};return E(t.get("type"),function(t){e[t]&&(i[t]=e[t])}),i};var uA={line:function(t,e,i,n){if("bar"===t)return m({id:e,type:"line",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},n.get("option.line")||{},!0)},bar:function(t,e,i,n){if("line"===t)return m({id:e,type:"bar",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},n.get("option.bar")||{},!0)},stack:function(t,e,i,n){var o=i.get("stack")===rA;if("line"===t||"bar"===t)return n.setIconStatus("stack",o?"normal":"emphasis"),m({id:e,stack:o?"":rA},n.get("option.stack")||{},!0)}},hA=[["line","bar"],["stack"]];lA.onclick=function(u,t,h){var c=this.model,e=c.get("seriesIndex."+h);if(uA[h]){var i,d={series:[]};if(E(hA,function(t){0<=_(t,h)&&E(t,function(t){c.setIconStatus(t,"normal")})}),c.setIconStatus(h,"emphasis"),u.eachComponent({mainType:"series",query:null==e?null:{seriesIndex:e}},function(t){var e=t.subType,i=t.id,n=uA[h](e,i,t,c);n&&(D(n,t.option),d.series.push(n));var o=t.coordinateSystem;if(o&&"cartesian2d"===o.type&&("line"===h||"bar"===h)){var a=o.getAxesByScale("ordinal")[0];if(a){var r=a.dim+"Axis",s=u.queryComponents({mainType:r,index:t.get(name+"Index"),id:t.get(name+"Id")})[0].componentIndex;d[r]=d[r]||[];for(var l=0;l<=s;l++)d[r][s]=d[r][s]||{};d[r][s].boundaryGap="bar"===h}}}),"stack"===h)i=d.series&&d.series[0]&&d.series[0].stack===rA?m({stack:aA.title.tiled},aA.title):L(aA.title);t.dispatchAction({type:"changeMagicType",currentType:h,newOption:d,newTitle:i})}},xf({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(t,e){e.mergeOption(t.newOption)}),QT("magicType",sA);var cA=Nc.toolbox.dataView,dA=new Array(60).join("-"),fA="\t";function pA(t){var e=function(t){var o={},a=[],r=[];return t.eachRawSeries(function(t){var e=t.coordinateSystem;if(!e||"cartesian2d"!==e.type&&"polar"!==e.type)a.push(t);else{var i=e.getBaseAxis();if("category"===i.type){var n=i.dim+"_"+i.index;o[n]||(o[n]={categoryAxis:i,valueAxis:e.getOtherAxis(i),series:[]},r.push({axisDim:i.dim,axisIndex:i.index})),o[n].series.push(t)}else a.push(t)}}),{seriesGroupByCategoryAxis:o,other:a,meta:r}}(t);return{value:M([function(t){var h=[];return E(t,function(t,e){var i=t.categoryAxis,n=t.valueAxis.dim,o=[" "].concat(N(t.series,function(t){return t.name})),a=[i.model.getCategories()];E(t.series,function(t){a.push(t.getRawData().mapArray(n,function(t){return t}))});for(var r=[o.join(fA)],s=0;s<a[0].length;s++){for(var l=[],u=0;u<a.length;u++)l.push(a[u][s]);r.push(l.join(fA))}h.push(r.join("\n"))}),h.join("\n\n"+dA+"\n\n")}(e.seriesGroupByCategoryAxis),function(t){return N(t,function(t){var o=t.getRawData(),a=[t.name],r=[];return o.each(o.dimensions,function(){for(var t=arguments.length,e=arguments[t-1],i=o.getName(e),n=0;n<t-1;n++)r[n]=arguments[n];a.push((i?i+fA:"")+r.join(fA))}),a.join("\n")}).join("\n\n"+dA+"\n\n")}(e.other)],function(t){return t.replace(/[\n\t\s]/g,"")}).join("\n\n"+dA+"\n\n"),meta:e.meta}}function gA(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var mA=new RegExp("["+fA+"]+","g");function vA(t,a){var e=t.split(new RegExp("\n*"+dA+"\n*","g")),r={series:[]};return E(e,function(t,e){if(function(t){if(0<=t.slice(0,t.indexOf("\n")).indexOf(fA))return!0}(t)){var i=function(t){for(var e=t.split(/\n+/g),i=[],n=N(gA(e.shift()).split(mA),function(t){return{name:t,data:[]}}),o=0;o<e.length;o++){var a=gA(e[o]).split(mA);i.push(a.shift());for(var r=0;r<a.length;r++)n[r]&&(n[r].data[o]=a[r])}return{series:n,categories:i}}(t),n=a[e],o=n.axisDim+"Axis";n&&(r[o]=r[o]||[],r[o][n.axisIndex]={data:i.categories},r.series=r.series.concat(i.series))}else{i=function(t){for(var e=t.split(/\n+/g),i=gA(e.shift()),n=[],o=0;o<e.length;o++){var a,r=gA(e[o]).split(mA),s="",l=!1;a=isNaN(r[0])?(l=!0,s=r[0],r=r.slice(1),n[o]={name:s,value:[]},n[o].value):n[o]=[];for(var u=0;u<r.length;u++)a.push(+r[u]);1===a.length&&(l?n[o].value=a[0]:n[o]=a[0])}return{name:i,data:n}}(t);r.series.push(i)}}),r}function yA(t){this._dom=null,this.model=t}yA.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:L(cA.title),lang:L(cA.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},yA.prototype.onclick=function(t,e){var i=e.getDom(),n=this.model;this._dom&&i.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",o.style.backgroundColor=n.get("backgroundColor")||"#fff";var a=document.createElement("h4"),r=n.get("lang")||[];a.innerHTML=r[0]||n.get("title"),a.style.cssText="margin: 10px 20px;",a.style.color=n.get("textColor");var s=document.createElement("div"),l=document.createElement("textarea");s.style.cssText="display:block;width:100%;overflow:auto;";var u=n.get("optionToContent"),h=n.get("contentToOption"),c=pA(t);if("function"==typeof u){var d=u(e.getOption());"string"==typeof d?s.innerHTML=d:G(d)&&s.appendChild(d)}else s.appendChild(l),l.readOnly=n.get("readOnly"),l.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",l.style.color=n.get("textColor"),l.style.borderColor=n.get("textareaBorderColor"),l.style.backgroundColor=n.get("textareaColor"),l.value=c.value;var f=c.meta,p=document.createElement("div");p.style.cssText="position:absolute;bottom:0;left:0;right:0;";var g="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",m=document.createElement("div"),v=document.createElement("div");g+=";background-color:"+n.get("buttonColor"),g+=";color:"+n.get("buttonTextColor");var y=this;function x(){i.removeChild(o),y._dom=null}Ut(m,"click",x),Ut(v,"click",function(){var t;try{t="function"==typeof h?h(s,e.getOption()):vA(l.value,f)}catch(t){throw x(),new Error("Data view format error "+t)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),x()}),m.innerHTML=r[1],v.innerHTML=r[2],v.style.cssText=g,m.style.cssText=g,n.get("readOnly")||p.appendChild(v),p.appendChild(m),o.appendChild(a),o.appendChild(s),o.appendChild(p),s.style.height=i.clientHeight-80+"px",i.appendChild(o),this._dom=o},yA.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},yA.prototype.dispose=function(t,e){this.remove(t,e)},QT("dataView",yA),xf({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(t,n){var o=[];E(t.newOption.series,function(t){var e=n.getSeriesByName(t.name)[0];if(e){var i=e.get("data");o.push({name:t.name,data:function(t,n){return N(t,function(t,e){var i=n&&n[e];return z(i)&&!O(i)?(z(t)&&!O(t)&&(t=t.value),D({value:t},i)):t})}(t.data,i)})}else o.push(k({type:"scatter"},t))}),n.mergeOption(D({series:o},t.newOption))});var xA=E,_A=_,wA=T,bA=["dataToPoint","pointToData"],SA=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];function MA(t,e,i){var n=this._targetInfoList=[],o={},a=AA(e,t);xA(DA,function(t,e){i&&i.include&&!(0<=_A(i.include,e))||t(a,n,o)})}var IA=MA.prototype;function TA(t){return t[0]>t[1]&&t.reverse(),t}function AA(t,e){return Ko(t,e,{includeMainTypes:SA})}IA.setOutputRanges=function(t,e){this.matchOutputRanges(t,e,function(t,e,i){if((t.coordRanges||(t.coordRanges=[])).push(e),!t.coordRange){t.coordRange=e;var n=kA[t.brushType](0,i,e);t.__rangeOffset={offset:NA[t.brushType](n.values,t.range,[1,1]),xyMinMax:n.xyMinMax}}})},IA.matchOutputRanges=function(t,n,o){xA(t,function(i){var t=this.findTargetInfo(i,n);t&&!0!==t&&E(t.coordSyses,function(t){var e=kA[i.brushType](1,t,i.range);o(i,e.values,t,n)})},this)},IA.setInputRanges=function(t,o){xA(t,function(t){var e=this.findTargetInfo(t,o);if(t.range=t.range||[],e&&!0!==e){t.panelId=e.panelId;var i=kA[t.brushType](0,e.coordSys,t.coordRange),n=t.__rangeOffset;t.range=n?NA[t.brushType](i.values,n.offset,function(t,e){var i=EA(t),n=EA(e),o=[i[0]/n[0],i[1]/n[1]];return isNaN(o[0])&&(o[0]=1),isNaN(o[1])&&(o[1]=1),o}(i.xyMinMax,n.xyMinMax)):i.values}},this)},IA.makePanelOpts=function(i,n){return N(this._targetInfoList,function(t){var e=t.getPanelRect();return{panelId:t.panelId,defaultBrushType:n&&n(t),clipPath:Qb(e),isTargetByCursor:eS(e,i,t.coordSysModel),getLinearBrushOtherExtent:tS(e)}})},IA.controlSeries=function(t,e,i){var n=this.findTargetInfo(t,i);return!0===n||n&&0<=_A(n.coordSyses,e.coordinateSystem)},IA.findTargetInfo=function(t,e){for(var i=this._targetInfoList,n=AA(e,t),o=0;o<i.length;o++){var a=i[o],r=t.panelId;if(r){if(a.panelId===r)return a}else for(o=0;o<CA.length;o++)if(CA[o](n,a))return a}return!0};var DA={grid:function(t,n){var o=t.xAxisModels,a=t.yAxisModels,e=t.gridModels,i=Q(),r={},s={};(o||a||e)&&(xA(o,function(t){var e=t.axis.grid.model;i.set(e.id,e),r[e.id]=!0}),xA(a,function(t){var e=t.axis.grid.model;i.set(e.id,e),s[e.id]=!0}),xA(e,function(t){i.set(t.id,t),r[t.id]=!0,s[t.id]=!0}),i.each(function(t){var e=t.coordinateSystem,i=[];xA(e.getCartesians(),function(t,e){(0<=_A(o,t.getAxis("x").model)||0<=_A(a,t.getAxis("y").model))&&i.push(t)}),n.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:i[0],coordSyses:i,getPanelRect:LA.grid,xAxisDeclared:r[t.id],yAxisDeclared:s[t.id]})}))},geo:function(t,i){xA(t.geoModels,function(t){var e=t.coordinateSystem;i.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:e,coordSyses:[e],getPanelRect:LA.geo})})}},CA=[function(t,e){var i=t.xAxisModel,n=t.yAxisModel,o=t.gridModel;return!o&&i&&(o=i.axis.grid.model),!o&&n&&(o=n.axis.grid.model),o&&o===e.gridModel},function(t,e){var i=t.geoModel;return i&&i===e.geoModel}],LA={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(fl(t)),e}},kA={lineX:wA(PA,0),lineY:wA(PA,1),rect:function(t,e,i){var n=e[bA[t]]([i[0][0],i[1][0]]),o=e[bA[t]]([i[0][1],i[1][1]]),a=[TA([n[0],o[0]]),TA([n[1],o[1]])];return{values:a,xyMinMax:a}},polygon:function(i,n,t){var o=[[1/0,-1/0],[1/0,-1/0]];return{values:N(t,function(t){var e=n[bA[i]](t);return o[0][0]=Math.min(o[0][0],e[0]),o[1][0]=Math.min(o[1][0],e[1]),o[0][1]=Math.max(o[0][1],e[0]),o[1][1]=Math.max(o[1][1],e[1]),e}),xyMinMax:o}}};function PA(t,e,i,n){var o=i.getAxis(["x","y"][t]),a=TA(N([0,1],function(t){return e?o.coordToData(o.toLocalCoord(n[t])):o.toGlobalCoord(o.dataToCoord(n[t]))})),r=[];return r[t]=a,r[1-t]=[NaN,NaN],{values:a,xyMinMax:r}}var NA={lineX:wA(OA,0),lineY:wA(OA,1),rect:function(t,e,i){return[[t[0][0]-i[0]*e[0][0],t[0][1]-i[0]*e[0][1]],[t[1][0]-i[1]*e[1][0],t[1][1]-i[1]*e[1][1]]]},polygon:function(t,i,n){return N(t,function(t,e){return[t[0]-n[0]*i[e][0],t[1]-n[1]*i[e][1]]})}};function OA(t,e,i,n){return[e[0]-n[t]*i[0],e[1]-n[t]*i[1]]}function EA(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var RA=E,zA="\0_ec_hist_store";function BA(t){var e=t[zA];return e=e||(t[zA]=[{}])}Lu.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var VA=["cartesian2d","polar","singleAxis"];var GA,FA,WA,HA,ZA=(FA=["axisIndex","axis","index","id"],WA=N(GA=(GA=["x","y","z","radius","angle","single"]).slice(),fu),HA=N(FA=(FA||[]).slice(),fu),function(o,a){E(GA,function(t,e){for(var i={name:t,capital:WA[e]},n=0;n<FA.length;n++)i[FA[n]]=t+HA[n];o.call(a,i)})});function UA(o,a,r){return function(t){var e,i={nodes:[],records:{}};if(a(function(t){i.records[t.name]={}}),!t)return i;for(s(t,i);e=!1,o(n),e;);function n(t){!function(t,e){return 0<=_(e.nodes,t)}(t,i)&&function(t,i){var n=!1;return a(function(e){E(r(t,e)||[],function(t){i.records[e.name][t]&&(n=!0)})}),n}(t,i)&&(s(t,i),e=!0)}return i};function s(t,i){i.nodes.push(t),a(function(e){E(r(t,e)||[],function(t){i.records[e.name][t]=!0})})}}function XA(t,e,i,n){this._dimName=t,this._axisIndex=e,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=n,this._dataZoomModel=i}var YA=E,jA=Bl;function qA(t,e){var i=t.getAxisModel(),n=t._percentWindow,o=t._valueWindow;if(n){var a=Fl(o,[0,500]);a=Math.min(a,20);var r=e||0===n[0]&&100===n[1];i.setRange(r?null:+o[0].toFixed(a),r?null:+o[1].toFixed(a))}}XA.prototype={constructor:XA,hostedBy:function(t){return this._dataZoomModel===t},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var n=[],o=this.ecModel;return o.eachSeries(function(t){if(function(t){return 0<=_(VA,t)}(t.get("coordinateSystem"))){var e=this._dimName,i=o.queryComponents({mainType:e+"Axis",index:t.get(e+"AxisIndex"),id:t.get(e+"AxisId")})[0];this._axisIndex===(i&&i.componentIndex)&&n.push(t)}},this),n},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var t,e,i,n=this._dimName,o=this.ecModel,a=this.getAxisModel();return t="x"===n||"y"===n?(e="gridIndex","x"===n?"y":"x"):(e="polarIndex","angle"===n?"radius":"angle"),o.eachComponent(t+"Axis",function(t){(t.get(e)||0)===(a.get(e)||0)&&(i=t)}),i},getMinMaxSpan:function(){return L(this._minMaxSpan)},calculateDataWindow:function(o){var a,r=this._dataExtent,s=this.getAxisModel().axis.scale,l=this._dataZoomModel.getRangePropMode(),u=[0,100],h=[],c=[];YA(["start","end"],function(t,e){var i=o[t],n=o[t+"Value"];"percent"===l[e]?(null==i&&(i=u[e]),n=s.parse(El(i,u,r))):(a=!0,i=El(n=null==n?r[e]:s.parse(n),r,u)),c[e]=n,h[e]=i}),jA(c),jA(h);var d=this._minMaxSpan;function t(t,e,i,n,o){var a=o?"Span":"ValueSpan";Kw(0,t,i,"all",d["min"+a],d["max"+a]);for(var r=0;r<2;r++)e[r]=El(t[r],i,n,!0),o&&(e[r]=s.parse(e[r]))}return a?t(c,h,r,u,!1):t(h,c,u,r,!0),{valueWindow:c,percentWindow:h}},reset:function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=function(t,e,i){var n=[1/0,-1/0];YA(i,function(t){var i=t.getData();i&&YA(i.mapDimension(e,!0),function(t){var e=i.getApproximateExtent(t);e[0]<n[0]&&(n[0]=e[0]),e[1]>n[1]&&(n[1]=e[1])})}),n[1]<n[0]&&(n=[NaN,NaN]);return function(t,e){var i=t.getAxisModel(),n=i.getMin(!0),o="category"===i.get("type"),a=o&&i.getCategories().length;null!=n&&"dataMin"!==n&&"function"!=typeof n?e[0]=n:o&&(e[0]=0<a?0:NaN);var r=i.getMax(!0);null!=r&&"dataMax"!==r&&"function"!=typeof r?e[1]=r:o&&(e[1]=0<a?a-1:NaN);i.get("scale",!0)||(0<e[0]&&(e[0]=0),e[1]<0&&(e[1]=0))}(t,n),n}(this,this._dimName,e),function(n){var o=n._minMaxSpan={},a=n._dataZoomModel,r=n._dataExtent;YA(["min","max"],function(t){var e=a.get(t+"Span"),i=a.get(t+"ValueSpan");null!=i&&(i=n.getAxisModel().axis.scale.parse(i)),null!=i?e=El(r[0]+i,r,[0,100],!0):null!=e&&(i=El(e,[0,100],r,!0)-r[0]),o[t+"Span"]=e,o[t+"ValueSpan"]=i})}(this);var i=this.calculateDataWindow(t.settledOption);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,qA(this)}},restore:function(t){t===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,qA(this,!0))},filterData:function(t,e){if(t===this._dataZoomModel){var n=this._dimName,i=this.getTargetSeriesModels(),o=t.get("filterMode"),c=this._valueWindow;"none"!==o&&YA(i,function(i){var u=i.getData(),h=u.mapDimension(n,!0);h.length&&("weakFilter"===o?u.filterSelf(function(t){for(var e,i,n,o=0;o<h.length;o++){var a=u.get(h[o],t),r=!isNaN(a),s=a<c[0],l=a>c[1];if(r&&!s&&!l)return!0;r&&(n=!0),s&&(e=!0),l&&(i=!0)}return n&&e&&i}):YA(h,function(t){if("empty"===o)i.setData(u=u.map(t,function(t){return function(t){return t>=c[0]&&t<=c[1]}(t)?t:NaN}));else{var e={};e[t]=c,u.selectRange(e)}}),YA(h,function(t){u.setApproximateExtent(c,t)}))})}}};var KA=E,$A=ZA,JA=If({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(t,e,i){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var n=QA(t);this.settledOption=n,this.mergeDefaultAndTheme(t,i),this.doInit(n)},mergeOption:function(t){var e=QA(t);m(this.option,t,!0),m(this.settledOption,e,!0),this.doInit(e)},doInit:function(t){var i=this.option;v.canvasSupported||(i.realtime=!1),this._setDefaultThrottle(t),tD(this,t);var n=this.settledOption;KA([["start","startValue"],["end","endValue"]],function(t,e){"value"===this._rangePropMode[e]&&(i[t[0]]=n[t[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var r=this._axisProxies;this.eachTargetAxis(function(t,e,i,n){var o=this.dependentModels[t.axis][e],a=o.__dzAxisProxy||(o.__dzAxisProxy=new XA(t.name,e,this,n));r[t.name+"_"+e]=a},this)},_resetTarget:function(){var i=this.option,t=this._judgeAutoMode();$A(function(t){var e=t.axisIndex;i[e]=Vo(i[e])},this),"axisIndex"===t?this._autoSetAxisIndex():"orient"===t&&this._autoSetOrient()},_judgeAutoMode:function(){var e=this.option,i=!1;$A(function(t){null!=e[t.axisIndex]&&(i=!0)},this);var t=e.orient;return null==t&&i?"orient":i?void 0:(null==t&&(e.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var a=!0,e=this.get("orient",!0),r=this.option,t=this.dependentModels;if(a){var i="vertical"===e?"y":"x";t[i+"Axis"].length?(r[i+"AxisIndex"]=[0],a=!1):KA(t.singleAxis,function(t){a&&t.get("orient",!0)===e&&(r.singleAxisIndex=[t.componentIndex],a=!1)})}a&&$A(function(t){if(a){var e=[],i=this.dependentModels[t.axis];if(i.length&&!e.length)for(var n=0,o=i.length;n<o;n++)"category"===i[n].get("type")&&e.push(n);(r[t.axisIndex]=e).length&&(a=!1)}},this),a&&this.ecModel.eachSeries(function(o){this._isSeriesHasAllAxesTypeOf(o,"value")&&$A(function(t){var e=r[t.axisIndex],i=o.get(t.axisIndex),n=o.get(t.axisId);_(e,i=o.ecModel.queryComponents({mainType:t.axis,index:i,id:n})[0].componentIndex)<0&&e.push(i)})},this)},_autoSetOrient:function(){var e;this.eachTargetAxis(function(t){e=e||t.name},this),this.option.orient="y"===e?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(n,o){var a=!0;return $A(function(t){var e=n.get(t.axisIndex),i=this.dependentModels[t.axis][e];i&&i.get("type")===o||(a=!1)},this),a},_setDefaultThrottle:function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&0<e.animationDurationUpdate?100:20}},getFirstTargetAxisModel:function(){var i;return $A(function(t){if(null==i){var e=this.get(t.axisIndex);e.length&&(i=this.dependentModels[t.axis][e[0]])}},this),i},eachTargetAxis:function(i,n){var o=this.ecModel;$A(function(e){KA(this.get(e.axisIndex),function(t){i.call(n,e,t,this,o)},this)},this)},getAxisProxy:function(t,e){return this._axisProxies[t+"_"+e]},getAxisModel:function(t,e){var i=this.getAxisProxy(t,e);return i&&i.getAxisModel()},setRawRange:function(e){var i=this.option,n=this.settledOption;KA([["start","startValue"],["end","endValue"]],function(t){null==e[t[0]]&&null==e[t[1]]||(i[t[0]]=n[t[0]]=e[t[0]],i[t[1]]=n[t[1]]=e[t[1]])},this),tD(this,e)},setCalculatedRange:function(e){var i=this.option;KA(["start","startValue","end","endValue"],function(t){i[t]=e[t]})},getPercentRange:function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},getValueRange:function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var i=this.findRepresentativeAxisProxy();return i?i.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(t){if(t)return t.__dzAxisProxy;var e=this._axisProxies;for(var i in e)if(e.hasOwnProperty(i)&&e[i].hostedBy(this))return e[i];for(var i in e)if(e.hasOwnProperty(i)&&!e[i].hostedBy(this))return e[i]},getRangePropMode:function(){return this._rangePropMode.slice()}});function QA(e){var i={};return KA(["start","end","startValue","endValue","throttle"],function(t){e.hasOwnProperty(t)&&(i[t]=e[t])}),i}function tD(t,o){var a=t._rangePropMode,r=t.get("rangeMode");KA([["start","startValue"],["end","endValue"]],function(t,e){var i=null!=o[t[0]],n=null!=o[t[1]];i&&!n?a[e]="percent":!i&&n?a[e]="value":r?a[e]=r[e]:i&&(a[e]="percent")})}var eD=pc.extend({type:"dataZoom",render:function(t,e,i,n){this.dataZoomModel=t,this.ecModel=e,this.api=i},getTargetCoordInfo:function(){var t=this.dataZoomModel,o=this.ecModel,a={};return t.eachTargetAxis(function(t,e){var i=o.getComponent(t.axis,e);if(i){var n=i.getCoordSysModel();n&&function(t,e,i,n){for(var o,a=0;a<i.length;a++)if(i[a].model===t){o=i[a];break}o||i.push(o={model:t,axisModels:[],coordIndex:n});o.axisModels.push(e)}(n,i,a[n.mainType]||(a[n.mainType]=[]),n.componentIndex)}},this),a}});JA.extend({type:"dataZoom.select"}),eD.extend({type:"dataZoom.select"}),yf({getTargetSeries:function(t){var n=Q();return t.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(t,e,i){E(i.getAxisProxy(t.name,e).getTargetSeriesModels(),function(t){n.set(t.uid,t)})})}),n},modifyOutputEnd:!0,overallReset:function(t,n){t.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(t,e,i){i.getAxisProxy(t.name,e).reset(i,n)}),t.eachTargetAxis(function(t,e,i){i.getAxisProxy(t.name,e).filterData(i,n)})}),t.eachComponent("dataZoom",function(t){var e=t.findRepresentativeAxisProxy(),i=e.getDataPercentWindow(),n=e.getDataValueWindow();t.setCalculatedRange({start:i[0],end:i[1],startValue:n[0],endValue:n[1]})})}}),xf("dataZoom",function(i,t){var n=UA(A(t.eachComponent,t,"dataZoom"),ZA,function(t,e){return t.get(e.axisIndex)}),o=[];t.eachComponent({mainType:"dataZoom",query:i},function(t,e){o.push.apply(o,n(t).nodes)}),E(o,function(t,e){t.setRawRange({start:i.start,end:i.end,startValue:i.startValue,endValue:i.endValue})})});var iD=Nc.toolbox.dataZoom,nD=E;function oD(t,e,i){(this._brushController=new Sb(i.getZr())).on("brush",A(this._onBrush,this)).mount(),this._isZoomActive}oD.defaultOption={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:L(iD.title)};var aD=oD.prototype;aD.render=function(t,e,i,n){this.model=t,this.ecModel=e,this.api=i,function(t,e,i,n,o){var a=i._isZoomActive;n&&"takeGlobalCursor"===n.type&&(a="dataZoomSelect"===n.key&&n.dataZoomSelectActive);i._isZoomActive=a,t.setIconStatus("zoom",a?"emphasis":"normal");var r=new MA(sD(t.option),e,{include:["grid"]});i._brushController.setPanels(r.makePanelOpts(o,function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"})).enableBrush(!!a&&{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}})}(t,e,this,n,i),function(t,e){t.setIconStatus("back",1<function(t){return BA(t).length}(e)?"emphasis":"normal")}(t,e)},aD.onclick=function(t,e,i){rD[i].call(this)},aD.remove=function(t,e){this._brushController.unmount()},aD.dispose=function(t,e){this._brushController.dispose()};var rD={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(function(t){var n=BA(t),e=n[n.length-1];1<n.length&&n.pop();var o={};return RA(e,function(t,e){for(var i=n.length-1;0<=i;i--){if(t=n[i][e]){o[e]=t;break}}}),o}(this.ecModel))}};function sD(e){var i={};return E(["xAxisIndex","yAxisIndex"],function(t){i[t]=e[t],null==i[t]&&(i[t]="all"),!1!==i[t]&&"none"!==i[t]||(i[t]=[])}),i}aD._onBrush=function(t,e){if(e.isEnd&&t.length){var s={},l=this.ecModel;this._brushController.updateCovers([]),new MA(sD(this.model.option),l,{include:["grid"]}).matchOutputRanges(t,l,function(t,e,i){if("cartesian2d"===i.type){var n=t.brushType;"rect"===n?(o("x",i,e[0]),o("y",i,e[1])):o({lineX:"x",lineY:"y"}[n],i,e)}}),function(a,t){var r=BA(a);RA(t,function(t,e){for(var i=r.length-1;0<=i;i--){if(r[i][e])break}if(i<0){var n=a.queryComponents({mainType:"dataZoom",subType:"select",id:e})[0];if(n){var o=n.getPercentRange();r[0][e]={dataZoomId:e,start:o[0],end:o[1]}}}}),r.push(t)}(l,s),this._dispatchZoomAction(s)}function o(t,e,i){var n=e.getAxis(t),o=n.model,a=function(e,i,t){var n;return t.eachComponent({mainType:"dataZoom",subType:"select"},function(t){t.getAxisModel(e,i.componentIndex)&&(n=t)}),n}(t,o,l),r=a.findRepresentativeAxisProxy(o).getMinMaxSpan();null==r.minValueSpan&&null==r.maxValueSpan||(i=Kw(0,i.slice(),n.scale.getExtent(),0,r.minValueSpan,r.maxValueSpan)),a&&(s[a.id]={dataZoomId:a.id,startValue:i[0],endValue:i[1]})}},aD._dispatchZoomAction=function(t){var i=[];nD(t,function(t,e){i.push(L(t))}),i.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:i})},QT("dataZoom",oD),vf(function(s){if(s){var l=s.dataZoom||(s.dataZoom=[]);O(l)||(s.dataZoom=l=[l]);var t=s.toolbox;if(t&&(O(t)&&(t=t[0]),t&&t.feature)){var e=t.feature.dataZoom;i("xAxis",e),i("yAxis",e)}}function i(n,o){if(o){var a=n+"Index",r=o[a];null==r||"all"===r||O(r)||(r=!1===r||"none"===r?[]:[r]),function(t,e){var i=s[t];O(i)||(i=i?[i]:[]);nD(i,e)}(n,function(t,e){if(null==r||"all"===r||-1!==_(r,e)){var i={type:"select",$fromToolbox:!0,filterMode:o.filterMode||"filter",id:"\0_ec_\0toolbox-dataZoom_"+n+e};i[a]=e,l.push(i)}})}}});var lD=Nc.toolbox.restore;function uD(t){this.model=t}uD.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:lD.title},uD.prototype.onclick=function(t,e,i){!function(t){t[zA]=null}(t),e.dispatchAction({type:"restore",from:this.uid})},QT("restore",uD),xf({type:"restore",event:"restore",update:"prepareAndUpdate"},function(t,e){e.resetOption("recreate")}),If({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var hD=E,cD=eu,dD=["","-webkit-","-moz-","-o-"];function fD(o){var a=[],t=o.get("transitionDuration"),e=o.get("backgroundColor"),i=o.getModel("textStyle"),n=o.get("padding");return t&&a.push(function(t){var e="cubic-bezier(0.23, 1, 0.32, 1)",i="left "+t+"s "+e+",top "+t+"s "+e;return N(dD,function(t){return t+"transition:"+i}).join(";")}(t)),e&&(v.canvasSupported?a.push("background-Color:"+e):(a.push("background-Color:#"+Ze(e)),a.push("filter:alpha(opacity=70)"))),hD(["width","color","radius"],function(t){var e="border-"+t,i=cD(e),n=o.get(i);null!=n&&a.push(e+":"+n+("color"===t?"":"px"))}),a.push(function(i){var n=[],t=i.get("fontSize"),e=i.getTextColor();return e&&n.push("color:"+e),n.push("font:"+i.getFont()),t&&n.push("line-height:"+Math.round(3*t/2)+"px"),hD(["decoration","align"],function(t){var e=i.get(t);e&&n.push("text-"+t+":"+e)}),n.join(";")}(i)),null!=n&&a.push("padding:"+iu(n).join("px ")+"px"),a.join(";")+";"}function pD(t,e,i,n,o){var a=e&&e.painter;if(i){var r=a&&a.getViewportRoot();r&&function(t,e,i,n,o){Rt(Et,e,n,o,!0)&&Rt(t,i,Et[0],Et[1])}(t,r,document.body,n,o)}else{t[0]=n,t[1]=o;var s=a&&a.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}}function gD(t,e,i){if(v.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var o=this._zr=e.getZr(),a=this._appendToBody=i&&i.appendToBody;this._styleCoord=[0,0],pD(this._styleCoord,o,a,e.getWidth()/2,e.getHeight()/2),a?document.body.appendChild(n):t.appendChild(n),this._container=t,this._show=!1,this._hideTimeout;var r=this;n.onmouseenter=function(){r._enterable&&(clearTimeout(r._hideTimeout),r._show=!0),r._inContent=!0},n.onmousemove=function(t){if(t=t||window.event,!r._enterable){var e=o.handler;Zt(o.painter.getViewportRoot(),t,!0),e.dispatch("mousemove",t)}},n.onmouseleave=function(){r._enterable&&r._show&&r.hideLater(r._hideDelay),r._inContent=!1}}function mD(t){this._zr=t.getZr(),this._show=!1,this._hideTimeout}gD.prototype={constructor:gD,_enterable:!0,update:function(){var t=this._container,e=t.currentStyle||document.defaultView.getComputedStyle(t),i=t.style;"absolute"!==i.position&&"absolute"!==e.position&&(i.position="relative")},show:function(t){clearTimeout(this._hideTimeout);var e=this.el,i=this._styleCoord;e.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+fD(t)+";left:"+i[0]+"px;top:"+i[1]+"px;"+(t.get("extraCssText")||""),e.style.display=e.innerHTML?"block":"none",e.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(t){this.el.innerHTML=null==t?"":t},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el;return[t.clientWidth,t.clientHeight]},moveTo:function(t,e){var i=this._styleCoord;pD(i,this._zr,this._appendToBody,t,e);var n=this.el.style;n.left=i[0]+"px",n.top=i[1]+"px"},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(A(this.hide,this),t)):this.hide())},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var t=this.el.clientWidth,e=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var i=document.defaultView.getComputedStyle(this.el);i&&(t+=parseInt(i.borderLeftWidth,10)+parseInt(i.borderRightWidth,10),e+=parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10))}return{width:t,height:e}}},mD.prototype={constructor:mD,_enterable:!0,update:function(){},show:function(t){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(t,e,i){this.el&&this._zr.remove(this.el);for(var n={},o=t,a="{marker",r=o.indexOf(a);0<=r;){var s=o.indexOf("|}"),l=o.substr(r+a.length,s-r-a.length);-1<l.indexOf("sub")?n["marker"+l]={textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:e[l],textOffset:[3,0]}:n["marker"+l]={textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:e[l]},r=(o=o.substr(s+1)).indexOf("{marker")}this.el=new Ur({style:{rich:n,text:t,textLineHeight:20,textBackgroundColor:i.get("backgroundColor"),textBorderRadius:i.get("borderRadius"),textFill:i.get("textStyle.color"),textPadding:i.get("padding")},z:i.get("z")}),this._zr.add(this.el);var u=this;this.el.on("mouseover",function(){u._enterable&&(clearTimeout(u._hideTimeout),u._show=!0),u._inContent=!0}),this.el.on("mouseout",function(){u._enterable&&u._show&&u.hideLater(u._hideDelay),u._inContent=!1})},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el.getBoundingRect();return[t.width,t.height]},moveTo:function(t,e){this.el&&this.el.attr("position",[t,e])},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(A(this.hide,this),t)):this.hide())},isShow:function(){return this._show},getOuterSize:function(){var t=this.getSize();return{width:t[0],height:t[1]}}};var vD=A,yD=E,xD=Rl,_D=new rs({shape:{x:-1,y:-1,width:2,height:2}});function wD(t){for(var e=t.pop();t.length;){var i=t.pop();i&&(Cl.isInstance(i)&&(i=i.get("tooltip",!0)),"string"==typeof i&&(i={formatter:i}),e=new Cl(i,e,e.ecModel))}return e}function bD(t,e){return t.dispatchAction||A(e.dispatchAction,e)}function SD(t){return"center"===t||"middle"===t}Tf({type:"tooltip",init:function(t,e){if(!v.node){var i,n=t.getComponent("tooltip"),o=n.get("renderMode");this._renderMode=Qo(o),"html"===this._renderMode?(i=new gD(e.getDom(),e,{appendToBody:n.get("appendToBody",!0)}),this._newLine="<br/>"):(i=new mD(e),this._newLine="\n"),this._tooltipContent=i}},render:function(t,e,i){if(!v.node){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=i,this._lastDataByCoordSys=null,this._alwaysShowContent=t.get("alwaysShowContent");var n=this._tooltipContent;n.update(),n.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var n=this._tooltipModel.get("triggerOn");uI("itemTooltip",this._api,vD(function(t,e,i){"none"!==n&&(0<=n.indexOf(t)?this._tryShow(e,i):"leave"===t&&this._hide(i))},this))},_keepShow:function(){var t=this._tooltipModel,e=this._ecModel,i=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var n=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){i.isDisposed()||n.manuallyShowTip(t,e,i,{x:n._lastX,y:n._lastY})})}},manuallyShowTip:function(t,e,i,n){if(n.from!==this.uid&&!v.node){var o=bD(n,i);this._ticket="";var a=n.dataByCoordSys;if(n.tooltip&&null!=n.x&&null!=n.y){var r=_D;r.position=[n.x,n.y],r.update(),r.tooltip=n.tooltip,this._tryShow({offsetX:n.x,offsetY:n.y,target:r},o)}else if(a)this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,dataByCoordSys:n.dataByCoordSys,tooltipOption:n.tooltipOption},o);else if(null!=n.seriesIndex){if(this._manuallyAxisShowTip(t,e,i,n))return;var s=JM(n,e),l=s.point[0],u=s.point[1];null!=l&&null!=u&&this._tryShow({offsetX:l,offsetY:u,position:n.position,target:s.el},o)}else null!=n.x&&null!=n.y&&(i.dispatchAction({type:"updateAxisPointer",x:n.x,y:n.y}),this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,target:i.getZr().findHover(n.x,n.y).target},o))}},manuallyHideTip:function(t,e,i,n){var o=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,n.from!==this.uid&&this._hide(bD(n,i))},_manuallyAxisShowTip:function(t,e,i,n){var o=n.seriesIndex,a=n.dataIndex,r=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=o&&null!=a&&null!=r){var s=e.getSeriesByIndex(o);if(s)if("axis"===(t=wD([s.getData().getItemModel(a),s,(s.coordinateSystem||{}).model,t])).get("trigger"))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:a,position:n.position}),!0}},_tryShow:function(t,e){var i=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var n=t.dataByCoordSys;n&&n.length?this._showAxisTooltip(n,t):i&&null!=i.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,i,e)):i&&i.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,i,e)):(this._lastDataByCoordSys=null,this._hide(e))}},_showOrMove:function(t,e){var i=t.get("showDelay");e=A(e,this),clearTimeout(this._showTimout),0<i?this._showTimout=setTimeout(e,i):e()},_showAxisTooltip:function(t,e){var d=this._ecModel,i=this._tooltipModel,n=[e.offsetX,e.offsetY],o=[],f=[],a=wD([e.tooltipOption,i]),p=this._renderMode,r=this._newLine,g={};yD(t,function(t){yD(t.dataByAxis,function(s){var l=d.getComponent(s.axisDim+"Axis",s.axisIndex),u=s.value,h=[];if(l&&null!=u){var c=MI(u,l.axis,d,s.seriesDataIndices,s.valueLabelOpt);E(s.seriesDataIndices,function(t){var e=d.getSeriesByIndex(t.seriesIndex),i=t.dataIndexInside,n=e&&e.getDataParams(i);if(n.axisDim=s.axisDim,n.axisIndex=s.axisIndex,n.axisType=s.axisType,n.axisId=s.axisId,n.axisValue=lg(l.axis,u),n.axisValueLabel=c,n){f.push(n);var o,a=e.formatTooltip(i,!0,null,p);if(z(a)){o=a.html;var r=a.markers;m(g,r)}else o=a;h.push(o)}});var t=c;"html"!==p?o.push(h.join(r)):o.push((t?au(t)+r:"")+h.join(r))}})},this),o.reverse(),o=o.join(this._newLine+this._newLine);var s=e.position;this._showOrMove(a,function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(a,s,n[0],n[1],this._tooltipContent,f):this._showTooltipContent(a,o,f,Math.random(),n[0],n[1],s,void 0,g)})},_showSeriesItemTooltip:function(t,e,i){var n=this._ecModel,o=e.seriesIndex,a=n.getSeriesByIndex(o),r=e.dataModel||a,s=e.dataIndex,l=e.dataType,u=r.getData(),h=wD([u.getItemModel(s),r,a&&(a.coordinateSystem||{}).model,this._tooltipModel]),c=h.get("trigger");if(null==c||"item"===c){var d,f,p=r.getDataParams(s,l),g=r.formatTooltip(s,!1,l,this._renderMode);f=z(g)?(d=g.html,g.markers):(d=g,null);var m="item_"+r.name+"_"+s;this._showOrMove(h,function(){this._showTooltipContent(h,d,p,m,t.offsetX,t.offsetY,t.position,t.target,f)}),i({type:"showTip",dataIndexInside:s,dataIndex:u.getRawIndex(s),seriesIndex:o,from:this.uid})}},_showComponentItemTooltip:function(t,e,i){var n=e.tooltip;if("string"==typeof n){n={content:n,formatter:n}}var o=new Cl(n,this._tooltipModel,this._ecModel),a=o.get("content"),r=Math.random();this._showOrMove(o,function(){this._showTooltipContent(o,a,o.get("formatterParams")||{},r,t.offsetX,t.offsetY,t.position,e)}),i({type:"showTip",from:this.uid})},_showTooltipContent:function(i,t,n,e,o,a,r,s,l){if(this._ticket="",i.get("showContent")&&i.get("show")){var u=this._tooltipContent,h=i.get("formatter");r=r||i.get("position");var c=t;if(h&&"string"==typeof h)c=lu(h,n,!0);else if("function"==typeof h){var d=vD(function(t,e){t===this._ticket&&(u.setContent(e,l,i),this._updatePosition(i,r,o,a,u,n,s))},this);this._ticket=e,c=h(n,e,d)}u.setContent(c,l,i),u.show(i),this._updatePosition(i,r,o,a,u,n,s)}},_updatePosition:function(t,e,i,n,o,a,r){var s=this._api.getWidth(),l=this._api.getHeight();e=e||t.get("position");var u=o.getSize(),h=t.get("align"),c=t.get("verticalAlign"),d=r&&r.getBoundingRect().clone();if(r&&d.applyTransform(r.transform),"function"==typeof e&&(e=e([i,n],a,o.el,d,{viewSize:[s,l],contentSize:u.slice()})),O(e))i=xD(e[0],s),n=xD(e[1],l);else if(z(e)){e.width=u[0],e.height=u[1];var f=wu(e,{width:s,height:l});i=f.x,n=f.y,c=h=null}else if("string"==typeof e&&r){i=(p=function(t,e,i){var n=i[0],o=i[1],a=0,r=0,s=e.width,l=e.height;switch(t){case"inside":a=e.x+s/2-n/2,r=e.y+l/2-o/2;break;case"top":a=e.x+s/2-n/2,r=e.y-o-5;break;case"bottom":a=e.x+s/2-n/2,r=e.y+l+5;break;case"left":a=e.x-n-5,r=e.y+l/2-o/2;break;case"right":a=e.x+s+5,r=e.y+l/2-o/2}return[a,r]}(e,d,u))[0],n=p[1]}else{var p;i=(p=function(t,e,i,n,o,a,r){var s=i.getOuterSize(),l=s.width,u=s.height;null!=a&&(n<t+l+a?t-=l+a:t+=a);null!=r&&(o<e+u+r?e-=u+r:e+=r);return[t,e]}(i,n,o,s,l,h?null:20,c?null:20))[0],n=p[1]}h&&(i-=SD(h)?u[0]/2:"right"===h?u[0]:0),c&&(n-=SD(c)?u[1]/2:"bottom"===c?u[1]:0),t.get("confine")&&(i=(p=function(t,e,i,n,o){var a=i.getOuterSize(),r=a.width,s=a.height;return t=Math.min(t+r,n)-r,e=Math.min(e+s,o)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}(i,n,o,s,l))[0],n=p[1]);o.moveTo(i,n)},_updateContentNotChangedOnAxis:function(n){var t=this._lastDataByCoordSys,r=!!t&&t.length===n.length;return r&&yD(t,function(t,e){var i=t.dataByAxis||{},a=(n[e]||{}).dataByAxis||[];(r&=i.length===a.length)&&yD(i,function(t,e){var i=a[e]||{},n=t.seriesDataIndices||[],o=i.seriesDataIndices||[];(r&=t.value===i.value&&t.axisType===i.axisType&&t.axisId===i.axisId&&n.length===o.length)&&yD(n,function(t,e){var i=o[e];r&=t.seriesIndex===i.seriesIndex&&t.dataIndex===i.dataIndex})})}),this._lastDataByCoordSys=n,!!r},_hide:function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},dispose:function(t,e){v.node||(this._tooltipContent.dispose(),dI("itemTooltip",e))}}),xf({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),xf({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){});var MD=["rect","polygon","keep","clear"];var ID=E;function TD(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!0}function AD(t,e,a){var i={};return ID(e,function(n){var o=i[n]=function(){function t(){}return t.prototype.__hidden=t.prototype,new t}();ID(t[n],function(t,e){if(f_.isValidType(e)){var i={type:e,visual:t};a&&a(i,n),o[e]=new f_(i),"opacity"===e&&((i=L(i)).type="colorAlpha",o.__hidden.__alphaForOpacity=new f_(i))}})}),i}function DD(e,i,t){var n;E(t,function(t){i.hasOwnProperty(t)&&TD(i[t])&&(n=!0)}),n&&E(t,function(t){i.hasOwnProperty(t)&&TD(i[t])?e[t]=L(i[t]):delete e[t]})}var CD={lineX:LD(0),lineY:LD(1),rect:{point:function(t,e,i){return t&&i.boundingRect.contain(t[0],t[1])},rect:function(t,e,i){return t&&i.boundingRect.intersect(t)}},polygon:{point:function(t,e,i){return t&&i.boundingRect.contain(t[0],t[1])&&Ig(i.range,t[0],t[1])},rect:function(t,e,i){var n=i.range;if(!t||n.length<=1)return!1;var o=t.x,a=t.y,r=t.width,s=t.height,l=n[0];return!!(Ig(n,o,a)||Ig(n,o+r,a)||Ig(n,o,a+s)||Ig(n,o+r,a+s)||Di.create(t).contain(l[0],l[1])||xl(o,a,o+r,a,n)||xl(o,a,o,a+s,n)||xl(o+r,a,o+r,a+s,n)||xl(o,a+s,o+r,a+s,n))||void 0}}};function LD(a){var r=["x","y"],s=["width","height"];return{point:function(t,e,i){if(t){var n=i.range;return kD(t[a],n)}},rect:function(t,e,i){if(t){var n=i.range,o=[t[r[a]],t[r[a]]+t[s[a]]];return o[1]<o[0]&&o.reverse(),kD(o[0],n)||kD(o[1],n)||kD(n[0],o)||kD(n[1],o)}}}}function kD(t,e){return e[0]<=t&&t<=e[1]}var PD=["inBrush","outOfBrush"],ND="__ecBrushSelect",OD="__ecInBrushSelectEvent",ED=Cd.VISUAL.BRUSH;function RD(e){e.eachComponent({mainType:"brush"},function(t){(t.brushTargetManager=new MA(t.option,e)).setInputRanges(t.areas,e)})}function zD(t,e){if(!t.isDisposed()){var i=t.getZr();i[OD]=!0,t.dispatchAction({type:"brushSelect",batch:e}),i[OD]=!1}}function BD(t,e,i,n){for(var o=0,a=e.length;o<a;o++){var r=e[o];if(t[r.brushType](n,i,r.selectors,r))return!0}}function VD(t){var r=t.brushSelector;if(R(r)){var e=[];return E(CD,function(a,t){e[t]=function(t,e,i,n){var o=e.getItemLayout(t);return a[r](o,i,n)}}),e}if(C(r)){var i={};return E(CD,function(t,e){i[e]=r}),i}return r}wf(ED,function(t,e,i){t.eachComponent({mainType:"brush"},function(t){i&&"takeGlobalCursor"===i.type&&t.setBrushOption("brush"===i.key?i.brushOption:{brushType:!1})}),RD(t)}),bf(ED,function(p,t,e){var o,g,m=[];p.eachComponent({mainType:"brush"},function(a,t){var s={brushId:a.id,brushIndex:t,brushName:a.name,areas:L(a.areas),selected:[]};m.push(s);var e=a.option,i=e.brushLink,n=[],l=[],u=[],h=0;t||(o=e.throttleType,g=e.throttleDelay);var r=N(a.areas,function(t){return function(i){var n=i.selectors={};return E(CD[i.brushType],function(e,t){n[t]=function(t){return e(t,n,i)}}),i}(D({boundingRect:GD[t.brushType](t)},t))}),c=AD(a.option,PD,function(t){t.mappingMethod="fixed"});function d(t){return"all"===i||n[t]}function f(t){return!!t.length}O(i)&&E(i,function(t){n[t]=1}),p.eachSeries(function(t,e){var i=u[e]=[];"parallel"===t.subType?function(t,e){var i=t.coordinateSystem;h|=i.hasAxisBrushed(),d(e)&&i.eachActiveState(t.getData(),function(t,e){"active"===t&&(l[e]=1)})}(t,e):function(e,t,i){var n=VD(e);if(!n||function(t,e){var i=t.option.seriesIndex;return null!=i&&"all"!==i&&(O(i)?_(i,e)<0:e!==i)}(a,t))return;if(E(r,function(t){n[t.brushType]&&a.brushTargetManager.controlSeries(t,e,p)&&i.push(t),h|=f(i)}),d(t)&&f(i)){var o=e.getData();o.each(function(t){BD(n,i,o,t)&&(l[t]=1)})}}(t,e,i)}),p.eachSeries(function(t,e){var i={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};s.selected.push(i);var n=VD(t),o=u[e],a=t.getData(),r=d(e)?function(t){return l[t]?(i.dataIndex.push(a.getRawIndex(t)),"inBrush"):"outOfBrush"}:function(t){return BD(n,o,a,t)?(i.dataIndex.push(a.getRawIndex(t)),"inBrush"):"outOfBrush"};(d(e)?h:f(o))&&function(t,u,h,c,d,f){var p,g={};function m(t){return h.getItemVisual(p,t)}function v(t,e){h.setItemVisual(p,t,e)}function e(t,e){p=null==f?t:e;var i=h.getRawDataItem(p);if(!i||!1!==i.visualMap)for(var n=c.call(d,t),o=u[n],a=g[n],r=0,s=a.length;r<s;r++){var l=a[r];o[l]&&o[l].applyVisual(t,m,v)}}E(t,function(t){var e=f_.prepareVisualTypes(u[t]);g[t]=e}),null==f?h.each(e):h.each([f],e)}(PD,c,a,r)})}),function(t,e,i,n,o){if(!o)return;var a=t.getZr();if(a[OD])return;a[ND]||(a[ND]=zD);Lc(a,ND,i,e)(t,n)}(t,o,g,m,e)});var GD={lineX:et,lineY:et,rect:function(t){return FD(t.range)},polygon:function(t){for(var e,i=t.range,n=0,o=i.length;n<o;n++){e=e||[[1/0,-1/0],[1/0,-1/0]];var a=i[n];a[0]<e[0][0]&&(e[0][0]=a[0]),a[0]>e[0][1]&&(e[0][1]=a[0]),a[1]<e[1][0]&&(e[1][0]=a[1]),a[1]>e[1][1]&&(e[1][1]=a[1])}return e&&FD(e)}};function FD(t){return new Di(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}var WD=["#ddd"];If({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(t,e){var i=this.option;e||DD(i,t,["inBrush","outOfBrush"]);var n=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:WD},n.hasOwnProperty("liftZ")||(n.liftZ=5)},setAreas:function(t){t&&(this.areas=N(t,function(t){return HD(this.option,t)},this))},setBrushOption:function(t){this.brushOption=HD(this.option,t),this.brushType=this.brushOption.brushType}});function HD(t,e){return m({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new Cl(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,!0)}function ZD(t,e,i,n){n&&n.$from===t.id||this._brushController.setPanels(t.brushTargetManager.makePanelOpts(i)).enableBrush(t.brushOption).updateCovers(t.areas.slice())}Tf({type:"brush",init:function(t,e){this.ecModel=t,this.api=e,this.model,(this._brushController=new Sb(e.getZr())).on("brush",A(this._onBrush,this)).mount()},render:function(t){return this.model=t,ZD.apply(this,arguments)},updateTransform:function(t,e){return RD(e),ZD.apply(this,arguments)},updateView:ZD,dispose:function(){this._brushController.dispose()},_onBrush:function(t,e){var i=this.model.id;this.model.brushTargetManager.setOutputRanges(t,this.ecModel),e.isEnd&&!e.removeOnClick||this.api.dispatchAction({type:"brush",brushId:i,areas:L(t),$from:i}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:i,areas:L(t),$from:i})}}),xf({type:"brush",event:"brush"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(t){t.setAreas(e.areas)})}),xf({type:"brushSelect",event:"brushSelected",update:"none"},function(){}),xf({type:"brushEnd",event:"brushEnd",update:"none"},function(){});var UD=Nc.toolbox.brush;function XD(t,e,i){this.model=t,this.ecModel=e,this.api=i,this._brushType,this._brushMode}XD.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:L(UD.title)};var YD=XD.prototype;YD.render=YD.updateView=function(e,t,i){var n,o,a;t.eachComponent({mainType:"brush"},function(t){n=t.brushType,o=t.brushOption.brushMode||"single",a|=t.areas.length}),this._brushType=n,this._brushMode=o,E(e.get("type",!0),function(t){e.setIconStatus(t,("keep"===t?"multiple"===o:"clear"===t?a:t===n)?"emphasis":"normal")})},YD.getIcons=function(){var t=this.model,e=t.get("icon",!0),i={};return E(t.get("type",!0),function(t){e[t]&&(i[t]=e[t])}),i},YD.onclick=function(t,e,i){var n=this._brushType,o=this._brushMode;"clear"===i?(e.dispatchAction({type:"axisAreaSelect",intervals:[]}),e.dispatchAction({type:"brush",command:"clear",areas:[]})):e.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===i?n:n!==i&&i,brushMode:"keep"===i?"multiple"===o?"single":"multiple":o}})},QT("brush",XD),vf(function(t,e){var i=t&&t.brush;if(O(i)||(i=i?[i]:[]),i.length){var n=[];E(i,function(t){var e=t.hasOwnProperty("toolbox")?t.toolbox:[];e instanceof Array&&(n=n.concat(e))});var o=t&&t.toolbox;O(o)&&(o=o[0]),o||(o={feature:{}},t.toolbox=[o]);var a=o.feature||(o.feature={}),r=a.brush||(a.brush={}),s=r.type||(r.type=[]);s.push.apply(s,n),function(i){var e={};E(i,function(t){e[t]=1}),i.length=0,E(e,function(t,e){i.push(e)})}(s),e&&!s.length&&s.push.apply(s,MD)}}),If({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),Tf({type:"title",render:function(t,e,i){if(this.group.removeAll(),t.get("show")){var n=this.group,o=t.getModel("textStyle"),a=t.getModel("subtextStyle"),r=t.get("textAlign"),s=H(t.get("textBaseline"),t.get("textVerticalAlign")),l=new Ur({style:nl({},o,{text:t.get("text"),textFill:o.getTextColor()},{disableBox:!0}),z2:10}),u=l.getBoundingRect(),h=t.get("subtext"),c=new Ur({style:nl({},a,{text:h,textFill:a.getTextColor(),y:u.height+t.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),d=t.get("link"),f=t.get("sublink"),p=t.get("triggerEvent",!0);l.silent=!d&&!p,c.silent=!f&&!p,d&&l.on("click",function(){window.open(d,"_"+t.get("target"))}),f&&c.on("click",function(){window.open(f,"_"+t.get("subtarget"))}),l.eventData=c.eventData=p?{componentType:"title",componentIndex:t.componentIndex}:null,n.add(l),h&&n.add(c);var g=n.getBoundingRect(),m=t.getBoxLayoutParams();m.width=g.width,m.height=g.height;var v=wu(m,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));r||("middle"===(r=t.get("left")||t.get("right"))&&(r="center"),"right"===r?v.x+=v.width:"center"===r&&(v.x+=v.width/2)),s||("center"===(s=t.get("top")||t.get("bottom"))&&(s="middle"),"bottom"===s?v.y+=v.height:"middle"===s&&(v.y+=v.height/2),s=s||"top"),n.attr("position",[v.x,v.y]);var y={textAlign:r,textVerticalAlign:s};l.setStyle(y),c.setStyle(y),g=n.getBoundingRect();var x=v.margin,_=t.getItemStyle(["color","opacity"]);_.fill=t.get("backgroundColor");var w=new rs({shape:{x:g.x-x[3],y:g.y-x[0],width:g.width+x[1]+x[3],height:g.height+x[0]+x[2],r:t.get("borderRadius")},style:_,subPixelOptimize:!0,silent:!0});n.add(w)}}});function jD(t){var e=t.itemStyle||(t.itemStyle={}),i=e.emphasis||(e.emphasis={}),n=t.label||t.label||{},o=n.normal||(n.normal={}),a={normal:1,emphasis:1};E(n,function(t,e){a[e]||qD(o,e)||(o[e]=t)}),i.label&&!qD(n,"emphasis")&&(n.emphasis=i.label,delete i.label)}function qD(t,e){return t.hasOwnProperty(e)}Lu.registerSubTypeDefaulter("timeline",function(){return"slider"}),xf({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,e){var i=e.getComponent("timeline");return i&&null!=t.currentIndex&&(i.setCurrentIndex(t.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.setPlayState(!1)),e.resetOption("timeline"),D({currentIndex:i.option.currentIndex},t)}),xf({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,e){var i=e.getComponent("timeline");i&&null!=t.playState&&i.setPlayState(t.playState)});var KD=Lu.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(t,e,i){this._data,this._names,this.mergeDefaultAndTheme(t,i),this._initData()},mergeOption:function(t){KD.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(e<=t&&(t=e-1),t<0&&(t=0)),this.option.currentIndex=t},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(t){this.option.autoPlay=!!t},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var t=this.option,e=t.data||[],i=t.axisType,o=this._names=[];if("category"===i){var a=[];E(e,function(t,e){var i,n=Wo(t);z(t)?(i=L(t)).value=e:i=e,a.push(i),R(n)||null!=n&&!isNaN(n)||(n=""),o.push(n+"")}),e=a}var n={category:"ordinal",time:"time"}[i]||"number";(this._data=new Xf([{name:"value",type:n}],this)).initData(e,o)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}});b(KD.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}}),Uh);function $D(t,e,i,n){Vg.call(this,t,e,i),this.type=n||"value",this.model=null}var JD=pc.extend({type:"timeline"});$D.prototype={constructor:$D,getLabelModel:function(){return this.model.getModel("label")},isHorizontal:function(){return"horizontal"===this.model.get("orient")}},w($D,Vg);var QD=A,tC=E,eC=Math.PI;function iC(t,e,i,n,o,a){var r=e.get("color");o?(o.setColor(r),i.add(o),a&&a.onUpdate(o)):((o=_g(t.get("symbol"),-1,-1,2,2,r)).setStyle("strokeNoScale",!0),i.add(o),a&&a.onCreate(o));var s=e.getItemStyle(["color","symbol","symbolSize"]);o.setStyle(s),n=m({rectHover:!0,z2:100},n,!0);var l=t.get("symbolSize");(l=l instanceof Array?l.slice():[+l,+l])[0]/=2,l[1]/=2,n.scale=l;var u=t.get("symbolOffset");if(u){var h=n.position=n.position||[0,0];h[0]+=Rl(u[0],l[0]),h[1]+=Rl(u[1],l[1])}var c=t.get("symbolRotate");return n.rotation=(c||0)*Math.PI/180||0,o.attr(n),o.updateTransform(),o}function nC(t,e,i,n,o){if(!t.dragging){var a=n.getModel("checkpointStyle"),r=i.dataToCoord(n.getData().get(["value"],e));o||!a.get("animation",!0)?t.attr({position:[r,0]}):(t.stopAnimation(!0),t.animateTo({position:[r,0]},a.get("animationDuration",!0),a.get("animationEasing",!0)))}}JD.extend({type:"timeline.slider",init:function(t,e){this.api=e,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(e,t,i,n){if(this.model=e,this.api=i,this.ecModel=t,this.group.removeAll(),e.get("show",!0)){var o=this._layout(e,i),a=this._createGroup("mainGroup"),r=this._createGroup("labelGroup"),s=this._axis=this._createAxis(o,e);e.formatTooltip=function(t){return au(s.scale.getLabel(t))},tC(["AxisLine","AxisTick","Control","CurrentPointer"],function(t){this["_render"+t](o,a,s,e)},this),this._renderAxisLabel(o,r,s,e),this._position(o,e)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(t,e){var i=t.get("label.position"),n=t.get("orient"),o=function(t,e){return wu(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}(t,e);null==i||"auto"===i?i="horizontal"===n?o.y+o.height/2<e.getHeight()/2?"-":"+":o.x+o.width/2<e.getWidth()/2?"+":"-":isNaN(i)&&(i={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[n][i]);var a,r,s,l,u={horizontal:"center",vertical:0<=i||"+"===i?"left":"right"},h={horizontal:0<=i||"+"===i?"top":"bottom",vertical:"middle"},c={horizontal:0,vertical:eC/2},d="vertical"===n?o.height:o.width,f=t.getModel("controlStyle"),p=f.get("show",!0),g=p?f.get("itemSize"):0,m=p?f.get("itemGap"):0,v=g+m,y=t.get("label.rotate")||0;y=y*eC/180;var x=f.get("position",!0),_=p&&f.get("showPlayBtn",!0),w=p&&f.get("showPrevBtn",!0),b=p&&f.get("showNextBtn",!0),S=0,M=d;return"left"===x||"bottom"===x?(_&&(a=[0,0],S+=v),w&&(r=[S,0],S+=v)):(_&&(a=[M-g,0],M-=v),w&&(r=[0,0],S+=v)),b&&(s=[M-g,0],M-=v),l=[S,M],t.get("inverse")&&l.reverse(),{viewRect:o,mainLength:d,orient:n,rotation:c[n],labelRotation:y,labelPosOpt:i,labelAlign:t.get("label.align")||u[n],labelBaseline:t.get("label.verticalAlign")||t.get("label.baseline")||h[n],playPosition:a,prevBtnPosition:r,nextBtnPosition:s,axisExtent:l,controlSize:g,controlGap:m}},_position:function(t,e){var i=this._mainGroup,n=this._labelGroup,o=t.viewRect;if("vertical"===t.orient){var a=ae(),r=o.x,s=o.y+o.height;ue(a,a,[-r,-s]),he(a,a,-eC/2),ue(a,a,[r,s]),(o=o.clone()).applyTransform(a)}var l=m(o),u=m(i.getBoundingRect()),h=m(n.getBoundingRect()),c=i.position,d=n.position;d[0]=c[0]=l[0][0];var f,p=t.labelPosOpt;isNaN(p)?(v(c,u,l,1,f="+"===p?0:1),v(d,h,l,1,1-f)):(v(c,u,l,1,f=0<=p?0:1),d[1]=c[1]+p);function g(t){var e=t.position;t.origin=[l[0][0]-e[0],l[1][0]-e[1]]}function m(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function v(t,e,i,n,o){t[n]+=i[n][o]-e[n][o]}i.attr("position",c),n.attr("position",d),i.rotation=n.rotation=t.rotation,g(i),g(n)},_createAxis:function(t,e){var i=e.getData(),n=e.get("axisType"),o=rg(e,n);o.getTicks=function(){return i.mapArray(["value"],function(t){return t})};var a=i.getDataExtent("value");o.setExtent(a[0],a[1]),o.niceTicks();var r=new $D("value",o,t.axisExtent,n);return r.model=e,r},_createGroup:function(t){var e=this["_"+t]=new Ci;return this.group.add(e),e},_renderAxisLine:function(t,e,i,n){var o=i.getExtent();n.get("lineStyle.show")&&e.add(new ls({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:k({lineCap:"round"},n.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(t,s,l,u){var h=u.getData(),e=l.scale.getTicks();tC(e,function(t){var e=l.dataToCoord(t),i=h.getItemModel(t),n=i.getModel("itemStyle"),o=i.getModel("emphasis.itemStyle"),a={position:[e,0],onclick:QD(this._changeTimeline,this,t)},r=iC(i,n,s,a);$s(r,o.getItemStyle()),i.get("tooltip")?(r.dataIndex=t,r.dataModel=u):r.dataIndex=r.dataModel=null},this)},_renderAxisLabel:function(s,l,u,t){if(u.getLabelModel().get("show")){var h=t.getData(),e=u.getViewLabels();tC(e,function(t){var e=t.tickValue,i=h.getItemModel(e),n=i.getModel("label"),o=i.getModel("emphasis.label"),a=u.dataToCoord(t.tickValue),r=new Ur({position:[a,0],rotation:s.labelRotation-s.rotation,onclick:QD(this._changeTimeline,this,e),silent:!1});nl(r.style,n,{text:t.formattedLabel,textAlign:s.labelAlign,textVerticalAlign:s.labelBaseline}),l.add(r),$s(r,nl({},o))},this)}},_renderControl:function(t,a,e,r){var s=t.controlSize,l=t.rotation,u=r.getModel("controlStyle").getItemStyle(),h=r.getModel("emphasis.controlStyle").getItemStyle(),c=[0,-s/2,s,s],i=r.getPlayState(),n=r.get("inverse",!0);function o(t,e,i,n){if(t){var o=function(t,e,i,n){return Ps(t.get(e).replace(/^path:\/\//,""),L(n||{}),new Di(i[0],i[1],i[2],i[3]),"center")}(r,e,c,{position:t,origin:[s/2,0],rotation:n?-l:0,rectHover:!0,style:u,onclick:i});a.add(o),$s(o,h)}}o(t.nextBtnPosition,"controlStyle.nextIcon",QD(this._changeTimeline,this,n?"-":"+")),o(t.prevBtnPosition,"controlStyle.prevIcon",QD(this._changeTimeline,this,n?"+":"-")),o(t.playPosition,"controlStyle."+(i?"stopIcon":"playIcon"),QD(this._handlePlayClick,this,!i),!0)},_renderCurrentPointer:function(t,e,i,n){var o=n.getData(),a=n.getCurrentIndex(),r=o.getItemModel(a).getModel("checkpointStyle"),s=this,l={onCreate:function(t){t.draggable=!0,t.drift=QD(s._handlePointerDrag,s),t.ondragend=QD(s._handlePointerDragend,s),nC(t,a,i,n,!0)},onUpdate:function(t){nC(t,a,i,n)}};this._currentPointer=iC(r,r,this._mainGroup,{},this._currentPointer,l)},_handlePlayClick:function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},_handlePointerDrag:function(t,e,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},_handlePointerDragend:function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},_pointerChangeTimeline:function(t,e){var i=this._toAxisCoord(t)[0],n=Bl(this._axis.getExtent().slice());i>n[1]&&(i=n[1]),i<n[0]&&(i=n[0]),this._currentPointer.position[0]=i,this._currentPointer.dirty();var o=this._findNearestTick(i),a=this.model;(e||o!==a.getCurrentIndex()&&a.get("realtime"))&&this._changeTimeline(o)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(QD(function(){var t=this.model;this._changeTimeline(t.getCurrentIndex()+(t.get("rewind",!0)?-1:1))},this),this.model.get("playInterval")))},_toAxisCoord:function(t){return pl(t,this._mainGroup.getLocalTransform(),!0)},_findNearestTick:function(o){var a,t=this.model.getData(),r=1/0,s=this._axis;return t.each(["value"],function(t,e){var i=s.dataToCoord(t),n=Math.abs(i-o);n<r&&(r=n,a=e)}),a},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(t){var e=this.model.getCurrentIndex();"+"===t?t=e+1:"-"===t&&(t=e-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})}}),vf(function(t){var e=t&&t.timeline;O(e)||(e=e?[e]:[]),E(e,function(t){t&&function(t){var e=t.type,i={number:"value",time:"time"};i[e]&&(t.axisType=i[e],delete t.type);if(jD(t),qD(t,"controlPosition")){var n=t.controlStyle||(t.controlStyle={});qD(n,"position")||(n.position=t.controlPosition),"none"!==n.position||qD(n,"show")||(n.show=!1,delete n.position),delete t.controlPosition}E(t.data||[],function(t){z(t)&&!O(t)&&(!qD(t,"value")&&qD(t,"name")&&(t.value=t.name),jD(t))})}(t)})});var oC=tu,aC=au;function rC(t){Go(t,"label",["show"])}var sC=If({type:"marker",dependencies:["series","grid","polar","geo"],init:function(t,e,i){this.mergeDefaultAndTheme(t,i),this._mergeOption(t,i,!1,!0)},isAnimationEnabled:function(){if(v.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},mergeOption:function(t,e){this._mergeOption(t,e,!1,!1)},_mergeOption:function(t,n,e,o){var a=this.constructor,r=this.mainType+"Model";e||n.eachSeries(function(t){var e=t.get(this.mainType,!0),i=t[r];e&&e.data?(i?i._mergeOption(e,n,!0):(o&&rC(e),E(e.data,function(t){t instanceof Array?(rC(t[0]),rC(t[1])):rC(t)}),k(i=new a(e,this,n),{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),i.__hostSeries=t),t[r]=i):t[r]=null},this)},formatTooltip:function(t){var e=this.getData(),i=this.getRawValue(t),n=O(i)?N(i,oC).join(", "):oC(i),o=e.getName(t),a=aC(this.name);return null==i&&!o||(a+="<br />"),o&&(a+=aC(o),null!=i&&(a+=" : ")),null!=i&&(a+=aC(n)),a},getData:function(){return this._data},setData:function(t){this._data=t}});b(sC,Uh),sC.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});var lC=_;function uC(t,e,i,n,o,a){var r=[],s=dp(e,n)?e.getCalculationInfo("stackResultDimension"):n,l=mC(e,s,t),u=e.indicesOfNearest(s,l)[0];r[o]=e.get(i,u),r[a]=e.get(s,u);var h=e.get(n,u),c=Vl(e.get(n,u));return 0<=(c=Math.min(c,20))&&(r[a]=+r[a].toFixed(c)),[r,h]}var hC=T,cC={min:hC(uC,"min"),max:hC(uC,"max"),average:hC(uC,"average")};function dC(t,e){var i=t.getData(),n=t.coordinateSystem;if(e&&!function(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}(e)&&!O(e.coord)&&n){var o=n.dimensions,a=fC(e,i,n,t);if((e=L(e)).type&&cC[e.type]&&a.baseAxis&&a.valueAxis){var r=lC(o,a.baseAxis.dim),s=lC(o,a.valueAxis.dim),l=cC[e.type](i,a.baseDataDim,a.valueDataDim,r,s);e.coord=l[0],e.value=l[1]}else{for(var u=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],h=0;h<2;h++)cC[u[h]]&&(u[h]=mC(i,i.mapDimension(o[h]),u[h]));e.coord=u}}return e}function fC(t,e,i,n){var o={};return null!=t.valueIndex||null!=t.valueDim?(o.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,o.valueAxis=i.getAxis(function(t,e){var i=t.getData(),n=i.dimensions;e=i.getDimension(e);for(var o=0;o<n.length;o++){var a=i.getDimensionInfo(n[o]);if(a.name===e)return a.coordDim}}(n,o.valueDataDim)),o.baseAxis=i.getOtherAxis(o.valueAxis),o.baseDataDim=e.mapDimension(o.baseAxis.dim)):(o.baseAxis=n.getBaseAxis(),o.valueAxis=i.getOtherAxis(o.baseAxis),o.baseDataDim=e.mapDimension(o.baseAxis.dim),o.valueDataDim=e.mapDimension(o.valueAxis.dim)),o}function pC(t,e){return!(t&&t.containData&&e.coord&&!function(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}(e))||t.containData(e.coord)}function gC(t,e,i,n){return n<2?t.coord&&t.coord[n]:t.value}function mC(t,e,i){if("average"!==i)return"median"===i?t.getMedian(e):t.getDataExtent(e,!0)["max"===i?1:0];var n=0,o=0;return t.each(e,function(t,e){isNaN(t)||(n+=t,o++)}),n/o}var vC=Tf({type:"marker",init:function(){this.markerGroupMap=Q()},render:function(t,i,n){var e=this.markerGroupMap;e.each(function(t){t.__keep=!1});var o=this.type+"Model";i.eachSeries(function(t){var e=t[o];e&&this.renderSeries(t,e,i,n)},this),e.each(function(t){t.__keep||this.group.remove(t.group)},this)},renderSeries:function(){}});function yC(s,l,u){var h=l.coordinateSystem;s.each(function(t){var e,i=s.getItemModel(t),n=Rl(i.get("x"),u.getWidth()),o=Rl(i.get("y"),u.getHeight());if(isNaN(n)||isNaN(o)){if(l.getMarkerPosition)e=l.getMarkerPosition(s.getValues(s.dimensions,t));else if(h){var a=s.get(h.dimensions[0],t),r=s.get(h.dimensions[1],t);e=h.dataToPoint([a,r])}}else e=[n,o];isNaN(n)||(e[0]=n),isNaN(o)||(e[1]=o),s.setItemLayout(t,e)})}vC.extend({type:"markPoint",updateTransform:function(t,e,i){e.eachSeries(function(t){var e=t.markPointModel;e&&(yC(e.getData(),t,i),this.markerGroupMap.get(t.id).updateLayout(e))},this)},renderSeries:function(t,l,e,i){var n=t.coordinateSystem,o=t.id,u=t.getData(),a=this.markerGroupMap,r=a.get(o)||a.set(o,new em),h=function(t,e,i){var n;n=t?N(t&&t.dimensions,function(t){return D({name:t},e.getData().getDimensionInfo(e.getData().mapDimension(t))||{})}):[{name:"value",type:"float"}];var o=new Xf(n,i),a=N(i.get("data"),T(dC,e));t&&(a=M(a,T(pC,t)));return o.initData(a,null,t?gC:function(t){return t.value}),o}(n,t,l);l.setData(h),yC(l.getData(),t,i),h.each(function(t){var e=h.getItemModel(t),i=e.getShallow("symbol"),n=e.getShallow("symbolSize"),o=C(i),a=C(n);if(o||a){var r=l.getRawValue(t),s=l.getDataParams(t);o&&(i=i(r,s)),a&&(n=n(r,s))}h.setItemVisual(t,{symbol:i,symbolSize:n,color:e.get("itemStyle.color")||u.getVisual("color")})}),r.updateData(h),this.group.add(r.group),h.eachItemGraphicEl(function(t){t.traverse(function(t){t.dataModel=l})}),r.__keep=!0,r.group.silent=l.get("silent")||t.get("silent")}}),vf(function(t){t.markPoint=t.markPoint||{}}),sC.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});function xC(t,e,i,n){var o=t.getData(),a=n.type;if(!O(n)&&("min"===a||"max"===a||"average"===a||"median"===a||null!=n.xAxis||null!=n.yAxis)){var r,s;if(null!=n.yAxis||null!=n.xAxis)r=e.getAxis(null!=n.yAxis?"y":"x"),s=W(n.yAxis,n.xAxis);else{var l=fC(n,o,e,t);r=l.valueAxis,s=mC(o,fp(o,l.valueDataDim),a)}var u="x"===r.dim?0:1,h=1-u,c=L(n),d={};c.type=null,c.coord=[],d.coord=[],c.coord[h]=-1/0,d.coord[h]=1/0;var f=i.get("precision");0<=f&&"number"==typeof s&&(s=+s.toFixed(Math.min(f,20))),c.coord[u]=d.coord[u]=s,n=[c,d,{type:a,valueIndex:n.valueIndex,value:s}]}return(n=[dC(t,n[0]),dC(t,n[1]),k({},n[2])])[2].type=n[2].type||"",m(n[2],n[0]),m(n[2],n[1]),n}function _C(t){return!isNaN(t)&&!isFinite(t)}function wC(t,e,i,n){var o=1-t,a=n.dimensions[t];return _C(e[o])&&_C(i[o])&&e[t]===i[t]&&n.getAxis(a).containData(e[t])}function bC(t,e){if("cartesian2d"===t.type){var i=e[0].coord,n=e[1].coord;if(i&&n&&(wC(1,i,n,t)||wC(0,i,n,t)))return!0}return pC(t,e[0])&&pC(t,e[1])}function SC(t,e,i,n,o){var a,r=n.coordinateSystem,s=t.getItemModel(e),l=Rl(s.get("x"),o.getWidth()),u=Rl(s.get("y"),o.getHeight());if(isNaN(l)||isNaN(u)){if(n.getMarkerPosition)a=n.getMarkerPosition(t.getValues(t.dimensions,e));else{var h=r.dimensions,c=t.get(h[0],e),d=t.get(h[1],e);a=r.dataToPoint([c,d])}if("cartesian2d"===r.type){var f=r.getAxis("x"),p=r.getAxis("y");h=r.dimensions;_C(t.get(h[0],e))?a[0]=f.toGlobalCoord(f.getExtent()[i?0:1]):_C(t.get(h[1],e))&&(a[1]=p.toGlobalCoord(p.getExtent()[i?0:1]))}isNaN(l)||(a[0]=l),isNaN(u)||(a[1]=u)}else a=[l,u];t.setItemLayout(e,a)}vC.extend({type:"markLine",updateTransform:function(t,e,a){e.eachSeries(function(e){var t=e.markLineModel;if(t){var i=t.getData(),n=t.__from,o=t.__to;n.each(function(t){SC(n,t,!0,e,a),SC(o,t,!1,e,a)}),i.each(function(t){i.setItemLayout(t,[n.getItemLayout(t),o.getItemLayout(t)])}),this.markerGroupMap.get(e.id).updateLayout()}},this)},renderSeries:function(o,i,t,a){var e=o.coordinateSystem,n=o.id,r=o.getData(),s=this.markerGroupMap,l=s.get(n)||s.set(n,new dw);this.group.add(l.group);var u=function(t,e,i){var n;n=t?N(t&&t.dimensions,function(t){return D({name:t},e.getData().getDimensionInfo(e.getData().mapDimension(t))||{})}):[{name:"value",type:"float"}];var o=new Xf(n,i),a=new Xf(n,i),r=new Xf([],i),s=N(i.get("data"),T(xC,e,t,i));t&&(s=M(s,T(bC,t)));var l=t?gC:function(t){return t.value};return o.initData(N(s,function(t){return t[0]}),null,l),a.initData(N(s,function(t){return t[1]}),null,l),r.initData(N(s,function(t){return t[2]})),r.hasItemOption=!0,{from:o,to:a,line:r}}(e,o,i),h=u.from,c=u.to,d=u.line;i.__from=h,i.__to=c,i.setData(d);var f=i.get("symbol"),p=i.get("symbolSize");function g(t,e,i){var n=t.getItemModel(e);SC(t,e,i,o,a),t.setItemVisual(e,{symbolSize:n.get("symbolSize")||p[i?0:1],symbol:n.get("symbol",!0)||f[i?0:1],color:n.get("itemStyle.color")||r.getVisual("color")})}O(f)||(f=[f,f]),"number"==typeof p&&(p=[p,p]),u.from.each(function(t){g(h,t,!0),g(c,t,!1)}),d.each(function(t){var e=d.getItemModel(t).get("lineStyle.color");d.setItemVisual(t,{color:e||h.getItemVisual(t,"color")}),d.setItemLayout(t,[h.getItemLayout(t),c.getItemLayout(t)]),d.setItemVisual(t,{fromSymbolSize:h.getItemVisual(t,"symbolSize"),fromSymbol:h.getItemVisual(t,"symbol"),toSymbolSize:c.getItemVisual(t,"symbolSize"),toSymbol:c.getItemVisual(t,"symbol")})}),l.updateData(d),u.line.eachItemGraphicEl(function(t,e){t.traverse(function(t){t.dataModel=i})}),l.__keep=!0,l.group.silent=i.get("silent")||o.get("silent")}}),vf(function(t){t.markLine=t.markLine||{}}),sC.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});function MC(t,e,i,n){var o=dC(t,n[0]),a=dC(t,n[1]),r=W,s=o.coord,l=a.coord;s[0]=r(s[0],-1/0),s[1]=r(s[1],-1/0),l[0]=r(l[0],1/0),l[1]=r(l[1],1/0);var u=p([{},o,a]);return u.coord=[o.coord,a.coord],u.x0=o.x,u.y0=o.y,u.x1=a.x,u.y1=a.y,u}function IC(t){return!isNaN(t)&&!isFinite(t)}function TC(t,e,i){var n=1-t;return IC(e[n])&&IC(i[n])}function AC(t,e){var i=e.coord[0],n=e.coord[1];return!("cartesian2d"!==t.type||!i||!n||!TC(1,i,n)&&!TC(0,i,n))||(pC(t,{coord:i,x:e.x0,y:e.y0})||pC(t,{coord:n,x:e.x1,y:e.y1}))}function DC(t,e,i,n,o){var a,r=n.coordinateSystem,s=t.getItemModel(e),l=Rl(s.get(i[0]),o.getWidth()),u=Rl(s.get(i[1]),o.getHeight());if(isNaN(l)||isNaN(u)){if(n.getMarkerPosition)a=n.getMarkerPosition(t.getValues(i,e));else{var h=[f=t.get(i[0],e),p=t.get(i[1],e)];r.clampData&&r.clampData(h,h),a=r.dataToPoint(h,!0)}if("cartesian2d"===r.type){var c=r.getAxis("x"),d=r.getAxis("y"),f=t.get(i[0],e),p=t.get(i[1],e);IC(f)?a[0]=c.toGlobalCoord(c.getExtent()["x0"===i[0]?0:1]):IC(p)&&(a[1]=d.toGlobalCoord(d.getExtent()["y0"===i[1]?0:1]))}isNaN(l)||(a[0]=l),isNaN(u)||(a[1]=u)}else a=[l,u];return a}var CC=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];vC.extend({type:"markArea",updateTransform:function(t,e,o){e.eachSeries(function(i){var t=i.markAreaModel;if(t){var n=t.getData();n.each(function(e){var t=N(CC,function(t){return DC(n,e,t,i,o)});n.setItemLayout(e,t),n.getItemGraphicEl(e).setShape("points",t)})}},this)},renderSeries:function(i,r,t,n){var e=i.coordinateSystem,o=i.id,a=i.getData(),s=this.markerGroupMap,l=s.get(o)||s.set(o,{group:new Ci});this.group.add(l.group),l.__keep=!0;var u=function(t,i,e){var n,o;o=t?(n=N(t&&t.dimensions,function(t){var e=i.getData();return D({name:t},e.getDimensionInfo(e.mapDimension(t))||{})}),new Xf(N(["x0","y0","x1","y1"],function(t,e){return{name:t,type:n[e%2].type}}),e)):new Xf(n=[{name:"value",type:"float"}],e);var a=N(e.get("data"),T(MC,i,t,e));t&&(a=M(a,T(AC,t)));var r=t?function(t,e,i,n){return t.coord[Math.floor(n/2)][n%2]}:function(t){return t.value};return o.initData(a,null,r),o.hasItemOption=!0,o}(e,i,r);r.setData(u),u.each(function(e){u.setItemLayout(e,N(CC,function(t){return DC(u,e,t,i,n)})),u.setItemVisual(e,{color:a.getVisual("color")})}),u.diff(l.__data).add(function(t){var e=new Qr({shape:{points:u.getItemLayout(t)}});u.setItemGraphicEl(t,e),l.group.add(e)}).update(function(t,e){var i=l.__data.getItemGraphicEl(e);cl(i,{shape:{points:u.getItemLayout(t)}},r,t),l.group.add(i),u.setItemGraphicEl(t,i)}).remove(function(t){var e=l.__data.getItemGraphicEl(t);l.group.remove(e)}).execute(),u.eachItemGraphicEl(function(t,e){var i=u.getItemModel(e),n=i.getModel("label"),o=i.getModel("emphasis.label"),a=u.getItemVisual(e,"color");t.useStyle(D(i.getModel("itemStyle").getItemStyle(),{fill:Ke(a,.4),stroke:a})),t.hoverStyle=i.getModel("emphasis.itemStyle").getItemStyle(),el(t.style,t.hoverStyle,n,o,{labelFetcher:r,labelDataIndex:e,defaultText:u.getName(e)||"",isRectText:!0,autoColor:a}),$s(t,{}),t.dataModel=r}),l.__data=u,l.group.silent=r.get("silent")||i.get("silent")}}),vf(function(t){t.markArea=t.markArea||{}});var LC=Nc.legend.selector,kC={all:{type:"all",title:L(LC.all)},inverse:{type:"inverse",title:L(LC.inverse)}},PC=If({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(t,e,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateSelector(t)},mergeOption:function(t){PC.superCall(this,"mergeOption",t),this._updateSelector(t)},_updateSelector:function(t){var i=t.selector;!0===i&&(i=t.selector=["all","inverse"]),O(i)&&E(i,function(t,e){R(t)&&(t={type:t}),i[e]=m(t,kC[t.type])})},optionUpdated:function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,i=0;i<t.length;i++){var n=t[i].get("name");if(this.isSelected(n)){this.select(n),e=!0;break}}e||this.select(t[0].get("name"))}},_updateData:function(o){var a=[],r=[];o.eachRawSeries(function(t){var e,i=t.name;if(r.push(i),t.legendVisualProvider){var n=t.legendVisualProvider.getAllNames();o.isSeriesFiltered(t)||(r=r.concat(n)),n.length?a=a.concat(n):e=!0}else e=!0;e&&Uo(t)&&a.push(t.name)}),this._availableNames=r;var t=N(this.get("data")||a,function(t){return"string"!=typeof t&&"number"!=typeof t||(t={name:t}),new Cl(t,this,this.ecModel)},this);this._data=t},getData:function(){return this._data},select:function(t){var e=this.option.selected;"single"===this.get("selectedMode")&&E(this._data,function(t){e[t.get("name")]=!1});e[t]=!0},unSelect:function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},toggleSelected:function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},allSelect:function(){var t=this._data,e=this.option.selected;E(t,function(t){e[t.get("name",!0)]=!0})},inverseSelect:function(){var t=this._data,i=this.option.selected;E(t,function(t){var e=t.get("name",!0);i.hasOwnProperty(e)||(i[e]=!0),i[e]=!i[e]})},isSelected:function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&0<=_(this._availableNames,t)},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}});function NC(t,e,i){var o,a={},r="toggleSelected"===t;return i.eachComponent("legend",function(n){r&&null!=o?n[o?"select":"unSelect"](e.name):"allSelect"===t||"inverseSelect"===t?n[t]():(n[t](e.name),o=n.isSelected(e.name)),E(n.getData(),function(t){var e=t.get("name");if("\n"!==e&&""!==e){var i=n.isSelected(e);a.hasOwnProperty(e)?a[e]=a[e]&&i:a[e]=i}})}),"allSelect"===t||"inverseSelect"===t?{selected:a}:{name:e.name,selected:a}}xf("legendToggleSelect","legendselectchanged",T(NC,"toggleSelected")),xf("legendAllSelect","legendselectall",T(NC,"allSelect")),xf("legendInverseSelect","legendinverseselect",T(NC,"inverseSelect")),xf("legendSelect","legendselected",T(NC,"select")),xf("legendUnSelect","legendunselected",T(NC,"unSelect"));var OC=T,EC=E,RC=Ci,zC=Tf({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new RC),this._backgroundEl,this.group.add(this._selectorGroup=new RC),this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(t,e,i){var n=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var o=t.get("align"),a=t.get("orient");o&&"auto"!==o||(o="right"===t.get("left")&&"vertical"===a?"right":"left");var r=t.get("selector",!0),s=t.get("selectorPosition",!0);!r||s&&"auto"!==s||(s="horizontal"===a?"end":"start"),this.renderInner(o,t,e,i,r,a,s);var l=t.getBoxLayoutParams(),u={width:i.getWidth(),height:i.getHeight()},h=t.get("padding"),c=wu(l,u,h),d=this.layoutInner(t,o,c,n,r,s),f=wu(D({width:d.width,height:d.height},l),u,h);this.group.attr("position",[f.x-d.x,f.y-d.y]),this.group.add(this._backgroundEl=iA(d,t))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},renderInner:function(u,h,c,d,t,e,i){var f=this.getContentGroup(),p=Q(),g=h.get("selectedMode"),m=[];c.eachRawSeries(function(t){t.get("legendHoverLink")||m.push(t.id)}),EC(h.getData(),function(a,r){var s=a.get("name");if(this.newlineDisabled||""!==s&&"\n"!==s){var t=c.getSeriesByName(s)[0];if(!p.get(s))if(t){var e=t.getData(),i=e.getVisual("color"),n=e.getVisual("borderColor");"function"==typeof i&&(i=i(t.getDataParams(0))),"function"==typeof n&&(n=n(t.getDataParams(0)));var o=e.getVisual("legendSymbol")||"roundRect",l=e.getVisual("symbol");this._createItem(s,r,a,h,o,l,u,i,n,g).on("click",OC(VC,s,null,d,m)).on("mouseover",OC(GC,t.name,null,d,m)).on("mouseout",OC(FC,t.name,null,d,m)),p.set(s,!0)}else c.eachRawSeries(function(t){if(!p.get(s)&&t.legendVisualProvider){var e=t.legendVisualProvider;if(!e.containName(s))return;var i=e.indexOfName(s),n=e.getItemVisual(i,"color"),o=e.getItemVisual(i,"borderColor");this._createItem(s,r,a,h,"roundRect",null,u,n,o,g).on("click",OC(VC,null,s,d,m)).on("mouseover",OC(GC,null,s,d,m)).on("mouseout",OC(FC,null,s,d,m)),p.set(s,!0)}},this)}else f.add(new RC({newline:!0}))},this),t&&this._createSelector(t,h,d,e,i)},_createSelector:function(t,a,r,e,i){var s=this.getSelectorGroup();EC(t,function(t){!function(t){var e=t.type,i=new Ur({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){r.dispatchAction({type:"all"===e?"legendAllSelect":"legendInverseSelect"})}});s.add(i);var n=a.getModel("selectorLabel"),o=a.getModel("emphasis.selectorLabel");el(i.style,i.hoverStyle={},n,o,{defaultText:t.title,isRectText:!1}),$s(i)}(t)})},_createItem:function(t,e,i,n,o,a,r,s,l,u){var h=n.get("itemWidth"),c=n.get("itemHeight"),d=n.get("inactiveColor"),f=n.get("inactiveBorderColor"),p=n.get("symbolKeepAspect"),g=n.getModel("itemStyle"),m=n.isSelected(t),v=new RC,y=i.getModel("textStyle"),x=i.get("icon"),_=i.getModel("tooltip"),w=_.parentModel,b=_g(o=x||o,0,0,h,c,m?s:d,null==p||p);if(v.add(BC(b,o,g,l,f,m)),!x&&a&&(a!==o||"none"===a)){var S=.8*c;"none"===a&&(a="circle");var M=_g(a,(h-S)/2,(c-S)/2,S,S,m?s:d,null==p||p);v.add(BC(M,a,g,l,f,m))}var I="left"===r?h+5:-5,T=r,A=n.get("formatter"),D=t;"string"==typeof A&&A?D=A.replace("{name}",null!=t?t:""):"function"==typeof A&&(D=A(t)),v.add(new Ur({style:nl({},y,{text:D,x:I,y:c/2,textFill:m?y.getTextColor():d,textAlign:T,textVerticalAlign:"middle"})}));var C=new rs({shape:v.getBoundingRect(),invisible:!0,tooltip:_.get("show")?k({content:t,formatter:w.get("formatter",!0)||function(){return t},formatterParams:{componentType:"legend",legendIndex:n.componentIndex,name:t,$vars:["name"]}},_.option):null});return v.add(C),v.eachChild(function(t){t.silent=!0}),C.silent=!u,this.getContentGroup().add(v),$s(v),v.__legendDataIndex=e,v},layoutInner:function(t,e,i,n,o,a){var r=this.getContentGroup(),s=this.getSelectorGroup();_u(t.get("orient"),r,t.get("itemGap"),i.width,i.height);var l=r.getBoundingRect(),u=[-l.x,-l.y];if(o){_u("horizontal",s,t.get("selectorItemGap",!0));var h=s.getBoundingRect(),c=[-h.x,-h.y],d=t.get("selectorButtonGap",!0),f=t.getOrient().index,p=0===f?"width":"height",g=0===f?"height":"width",m=0===f?"y":"x";"end"===a?c[f]+=l[p]+d:u[f]+=h[p]+d,c[1-f]+=l[g]/2-h[g]/2,s.attr("position",c),r.attr("position",u);var v={x:0,y:0};return v[p]=l[p]+d+h[p],v[g]=Math.max(l[g],h[g]),v[m]=Math.min(0,h[m]+c[1-f]),v}return r.attr("position",u),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}});function BC(t,e,i,n,o,a){var r;return"line"!==e&&e.indexOf("empty")<0?(r=i.getItemStyle(),t.style.stroke=n,a||(r.stroke=o)):r=i.getItemStyle(["borderWidth","borderColor"]),t.setStyle(r)}function VC(t,e,i,n){FC(t,e,i,n),i.dispatchAction({type:"legendToggleSelect",name:null!=t?t:e}),GC(t,e,i,n)}function GC(t,e,i,n){var o=i.getZr().storage.getDisplayList()[0];o&&o.useHoverLayer||i.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:n})}function FC(t,e,i,n){var o=i.getZr().storage.getDisplayList()[0];o&&o.useHoverLayer||i.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:n})}yf(Cd.PROCESSOR.SERIES_FILTER,function(t){var i=t.findComponents({mainType:"legend"});i&&i.length&&t.filterSeries(function(t){for(var e=0;e<i.length;e++)if(!i[e].isSelected(t.name))return!1;return!0})}),Lu.registerSubTypeDefaulter("legend",function(){return"plain"});var WC=PC.extend({type:"legend.scroll",setScrollDataIndex:function(t){this.option.scrollDataIndex=t},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(t,e,i,n){var o=Mu(t);WC.superCall(this,"init",t,e,i,n),HC(this,t,o)},mergeOption:function(t,e){WC.superCall(this,"mergeOption",t,e),HC(this,this.option,t)}});function HC(t,e,i){var n=[1,1];n[t.getOrient().index]=0,Su(e,i,{type:"box",ignoreSize:n})}var ZC=Ci,UC=["width","height"],XC=["x","y"],YC=zC.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){YC.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new ZC),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new ZC),this._showController},resetInner:function(){YC.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(t,o,e,a,i,n,r){var s=this;YC.superCall(this,"renderInner",t,o,e,a,i,n,r);var l=this._controllerGroup,u=o.get("pageIconSize",!0);O(u)||(u=[u,u]),c("pagePrev",0);var h=o.getModel("pageTextStyle");function c(t,e){var i=t+"DataIndex",n=yl(o.get("pageIcons",!0)[o.getOrient().name][e],{onclick:A(s._pageGo,s,i,o,a)},{x:-u[0]/2,y:-u[1]/2,width:u[0],height:u[1]});n.name=t,l.add(n)}l.add(new Ur({name:"pageText",style:{textFill:h.getTextColor(),font:h.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),c("pageNext",1)},layoutInner:function(t,e,i,n,o,a){var r=this.getSelectorGroup(),s=t.getOrient().index,l=UC[s],u=XC[s],h=UC[1-s],c=XC[1-s];o&&_u("horizontal",r,t.get("selectorItemGap",!0));var d=t.get("selectorButtonGap",!0),f=r.getBoundingRect(),p=[-f.x,-f.y],g=L(i);o&&(g[l]=i[l]-f[l]-d);var m=this._layoutContentAndController(t,n,g,s,l,h,c);if(o){if("end"===a)p[s]+=m[l]+d;else{var v=f[l]+d;p[s]-=v,m[u]-=v}m[l]+=f[l]+d,p[1-s]+=m[c]+m[h]/2-f[h]/2,m[h]=Math.max(m[h],f[h]),m[c]=Math.min(m[c],f[c]+p[1-s]),r.attr("position",p)}return m},_layoutContentAndController:function(t,e,i,n,o,a,r){var s=this.getContentGroup(),l=this._containerGroup,u=this._controllerGroup;_u(t.get("orient"),s,t.get("itemGap"),n?i.width:null,n?null:i.height),_u("horizontal",u,t.get("pageButtonItemGap",!0));var h=s.getBoundingRect(),c=u.getBoundingRect(),d=this._showController=h[o]>i[o],f=[-h.x,-h.y];e||(f[n]=s.position[n]);var p=[0,0],g=[-c.x,-c.y],m=H(t.get("pageButtonGap",!0),t.get("itemGap",!0));d&&("end"===t.get("pageButtonPosition",!0)?g[n]+=i[o]-c[o]:p[n]+=c[o]+m);g[1-n]+=h[a]/2-c[a]/2,s.attr("position",f),l.attr("position",p),u.attr("position",g);var v={x:0,y:0};if(v[o]=d?i[o]:h[o],v[a]=Math.max(h[a],c[a]),v[r]=Math.min(0,c[r]+g[1-n]),l.__rectSize=i[o],d){var y={x:0,y:0};y[o]=Math.max(i[o]-c[o]-m,0),y[a]=v[a],l.setClipPath(new rs({shape:y})),l.__rectSize=y[o]}else u.eachChild(function(t){t.attr({invisible:!0,silent:!0})});var x=this._getPageInfo(t);return null!=x.pageIndex&&cl(s,{position:x.contentPosition},d&&t),this._updatePageInfoView(t,x),v},_pageGo:function(t,e,i){var n=this._getPageInfo(e)[t];null!=n&&i.dispatchAction({type:"legendScroll",scrollDataIndex:n,legendId:e.id})},_updatePageInfoView:function(n,o){var a=this._controllerGroup;E(["pagePrev","pageNext"],function(t){var e=null!=o[t+"DataIndex"],i=a.childOfName(t);i&&(i.setStyle("fill",e?n.get("pageIconColor",!0):n.get("pageIconInactiveColor",!0)),i.cursor=e?"pointer":"default")});var t=a.childOfName("pageText"),e=n.get("pageFormatter"),i=o.pageIndex,r=null!=i?i+1:0,s=o.pageCount;t&&e&&t.setStyle("text",R(e)?e.replace("{current}",r).replace("{total}",s):e({current:r,total:s}))},_getPageInfo:function(t){var e=t.get("scrollDataIndex",!0),i=this.getContentGroup(),n=this._containerGroup.__rectSize,o=t.getOrient().index,a=UC[o],r=XC[o],s=this._findTargetItemIndex(e),l=i.children(),u=l[s],h=l.length,c=h?1:0,d={contentPosition:i.position.slice(),pageCount:c,pageIndex:c-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!u)return d;var f=y(u);d.contentPosition[o]=-f.s;for(var p=s+1,g=f,m=f,v=null;p<=h;++p)(!(v=y(l[p]))&&m.e>g.s+n||v&&!x(v,g.s))&&(g=m.i>g.i?m:v)&&(null==d.pageNextDataIndex&&(d.pageNextDataIndex=g.i),++d.pageCount),m=v;for(p=s-1,g=f,m=f,v=null;-1<=p;--p)(v=y(l[p]))&&x(m,v.s)||!(g.i<m.i)||(m=g,null==d.pagePrevDataIndex&&(d.pagePrevDataIndex=g.i),++d.pageCount,++d.pageIndex),g=v;return d;function y(t){if(t){var e=t.getBoundingRect(),i=e[r]+t.position[o];return{s:i,e:i+e[a],i:t.__legendDataIndex}}}function x(t,e){return t.e>=e&&t.s<=e+n}},_findTargetItemIndex:function(n){return this._showController?(this.getContentGroup().eachChild(function(t,e){var i=t.__legendDataIndex;null==a&&null!=i&&(a=e),i===n&&(o=e)}),null!=o?o:a):0;var o,a}});xf("legendScroll","legendscroll",function(t,e){var i=t.scrollDataIndex;null!=i&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(t){t.setScrollDataIndex(i)})});JA.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}});var jC=rs,qC=El,KC=Bl,$C=A,JC=E,QC="horizontal",tL="vertical",eL=["line","bar","candlestick","scatter"],iL=eD.extend({type:"dataZoom.slider",init:function(t,e){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=e},render:function(t,e,i,n){iL.superApply(this,"render",arguments),Lc(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=t.get("orient"),!1!==this.dataZoomModel.get("show")?(n&&"dataZoom"===n.type&&n.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){iL.superApply(this,"remove",arguments),kc(this,"_dispatchZoomAction")},dispose:function(){iL.superApply(this,"dispose",arguments),kc(this,"_dispatchZoomAction")},_buildView:function(){var t=this.group;t.removeAll(),this._resetLocation(),this._resetInterval();var e=this._displayables.barGroup=new Ci;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},_resetLocation:function(){var t=this.dataZoomModel,e=this.api,i=this._findCoordRect(),n={width:e.getWidth(),height:e.getHeight()},o=this._orient===QC?{right:n.width-i.x-i.width,top:n.height-30-7,width:i.width,height:30}:{right:7,top:i.y,width:30,height:i.height},a=Mu(t.option);E(["right","top","width","height"],function(t){"ph"===a[t]&&(a[t]=o[t])});var r=wu(a,n,t.padding);this._location={x:r.x,y:r.y},this._size=[r.width,r.height],this._orient===tL&&this._size.reverse()},_positionGroup:function(){var t=this.group,e=this._location,i=this._orient,n=this.dataZoomModel.getFirstTargetAxisModel(),o=n&&n.get("inverse"),a=this._displayables.barGroup,r=(this._dataShadowInfo||{}).otherAxisInverse;a.attr(i!==QC||o?i===QC&&o?{scale:r?[-1,1]:[-1,-1]}:i!==tL||o?{scale:r?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:r?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:r?[1,1]:[1,-1]});var s=t.getBoundingRect([a]);t.attr("position",[e.x-s.x,e.y-s.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var t=this.dataZoomModel,e=this._size,i=this._displayables.barGroup;i.add(new jC({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40})),i.add(new jC({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:A(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(t){var e=this._size,i=t.series,n=i.getRawData(),o=i.getShadowDim?i.getShadowDim():t.otherDim;if(null!=o){var a=n.getDataExtent(o),r=.3*(a[1]-a[0]);a=[a[0]-r,a[1]+r];var s,l=[0,e[1]],u=[0,e[0]],h=[[e[0],0],[0,0]],c=[],d=u[1]/(n.count()-1),f=0,p=Math.round(n.count()/e[0]);n.each([o],function(t,e){if(0<p&&e%p)f+=d;else{var i=null==t||isNaN(t)||""===t,n=i?0:qC(t,a,l,!0);i&&!s&&e?(h.push([h[h.length-1][0],0]),c.push([c[c.length-1][0],0])):!i&&s&&(h.push([f,0]),c.push([f,0])),h.push([f,n]),c.push([f,n]),f+=d,s=i}});var g=this.dataZoomModel;this._displayables.barGroup.add(new Qr({shape:{points:h},style:D({fill:g.get("dataBackgroundColor")},g.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new ts({shape:{points:c},style:g.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var t=this.dataZoomModel,s=t.get("showDataShadow");if(!1!==s){var l,u=this.ecModel;return t.eachTargetAxis(function(a,r){E(t.getAxisProxy(a.name,r).getTargetSeriesModels(),function(t){if(!(l||!0!==s&&_(eL,t.get("type"))<0)){var e,i=u.getComponent(a.axis,r).axis,n=function(t){return{x:"y",y:"x",radius:"angle",angle:"radius"}[t]}(a.name),o=t.coordinateSystem;null!=n&&o.getOtherAxis&&(e=o.getOtherAxis(i).inverse),n=t.getData().mapDimension(n),l={thisAxis:i,series:t,thisDim:a.name,otherDim:n,otherAxisInverse:e}}},this)},this),l}},_renderHandle:function(){var t=this._displayables,a=t.handles=[],r=t.handleLabels=[],s=this._displayables.barGroup,e=this._size,l=this.dataZoomModel;s.add(t.filler=new jC({draggable:!0,cursor:nL(this._orient),drift:$C(this._onDragMove,this,"all"),ondragstart:$C(this._showDataInfo,this,!0),ondragend:$C(this._onDragEnd,this),onmouseover:$C(this._showDataInfo,this,!0),onmouseout:$C(this._showDataInfo,this,!1),style:{fill:l.get("fillerColor"),textPosition:"inside"}})),s.add(new jC({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),JC([0,1],function(t){var e=yl(l.get("handleIcon"),{cursor:nL(this._orient),draggable:!0,drift:$C(this._onDragMove,this,t),ondragend:$C(this._onDragEnd,this),onmouseover:$C(this._showDataInfo,this,!0),onmouseout:$C(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),i=e.getBoundingRect();this._handleHeight=Rl(l.get("handleSize"),this._size[1]),this._handleWidth=i.width/i.height*this._handleHeight,e.setStyle(l.getModel("handleStyle").getItemStyle());var n=l.get("handleColor");null!=n&&(e.style.fill=n),s.add(a[t]=e);var o=l.textStyleModel;this.group.add(r[t]=new Ur({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:o.getTextColor(),textFont:o.getFont()},z2:10}))},this)},_resetInterval:function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[qC(t[0],[0,100],e,!0),qC(t[1],[0,100],e,!0)]},_updateInterval:function(t,e){var i=this.dataZoomModel,n=this._handleEnds,o=this._getViewExtent(),a=i.findRepresentativeAxisProxy().getMinMaxSpan(),r=[0,100];Kw(e,n,o,i.get("zoomLock")?"all":t,null!=a.minSpan?qC(a.minSpan,r,o,!0):null,null!=a.maxSpan?qC(a.maxSpan,r,o,!0):null);var s=this._range,l=this._range=KC([qC(n[0],o,r,!0),qC(n[1],o,r,!0)]);return!s||s[0]!==l[0]||s[1]!==l[1]},_updateView:function(t){var n=this._displayables,o=this._handleEnds,e=KC(o.slice()),a=this._size;JC([0,1],function(t){var e=n.handles[t],i=this._handleHeight;e.attr({scale:[i/2,i/2],position:[o[t],a[1]/2-i/2]})},this),n.filler.setShape({x:e[0],y:0,width:e[1]-e[0],height:a[1]}),this._updateDataInfo(t)},_updateDataInfo:function(t){var e=this.dataZoomModel,a=this._displayables,r=a.handleLabels,s=this._orient,l=["",""];if(e.get("showDetail")){var i=e.findRepresentativeAxisProxy();if(i){var n=i.getAxisModel().axis,o=this._range,u=t?i.calculateDataWindow({start:o[0],end:o[1]}).valueWindow:i.getDataValueWindow();l=[this._formatLabel(u[0],n),this._formatLabel(u[1],n)]}}var h=KC(this._handleEnds.slice());function c(t){var e=fl(a.handles[t].parent,this.group),i=gl(0===t?"right":"left",e),n=this._handleWidth/2+5,o=pl([h[t]+(0===t?-n:n),this._size[1]/2],e);r[t].setStyle({x:o[0],y:o[1],textVerticalAlign:s===QC?"middle":i,textAlign:s===QC?i:"center",text:l[t]})}c.call(this,0),c.call(this,1)},_formatLabel:function(t,e){var i=this.dataZoomModel,n=i.get("labelFormatter"),o=i.get("labelPrecision");null!=o&&"auto"!==o||(o=e.getPixelPrecision());var a=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel(Math.round(t)):t.toFixed(Math.min(o,20));return C(n)?n(t,a):R(n)?n.replace("{value}",a):a},_showDataInfo:function(t){t=this._dragging||t;var e=this._displayables.handleLabels;e[0].attr("invisible",!t),e[1].attr("invisible",!t)},_onDragMove:function(t,e,i,n){this._dragging=!0,Xt(n.event);var o=pl([e,i],this._displayables.barGroup.getLocalTransform(),!0),a=this._updateInterval(t,o[0]),r=this.dataZoomModel.get("realtime");this._updateView(!r),a&&r&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),this.dataZoomModel.get("realtime")||this._dispatchZoomAction()},_onClickPanelClick:function(t){var e=this._size,i=this._displayables.barGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(i[0]<0||i[0]>e[0]||i[1]<0||i[1]>e[1])){var n=this._handleEnds,o=(n[0]+n[1])/2,a=this._updateInterval("all",i[0]-o);this._updateView(),a&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:t[0],end:t[1]})},_findCoordRect:function(){var i;if(JC(this.getTargetCoordInfo(),function(t){if(!i&&t.length){var e=t[0].model.coordinateSystem;i=e.getRect&&e.getRect()}}),!i){var t=this.api.getWidth(),e=this.api.getHeight();i={x:.2*t,y:.2*e,width:.6*t,height:.6*e}}return i}});function nL(t){return"vertical"===t?"ns-resize":"ew-resize"}JA.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});var oL="\0_ec_dataZoom_roams";function aL(t,n){var e=sL(t),o=n.dataZoomId,a=n.coordId;E(e,function(t,e){var i=t.dataZoomInfos;i[o]&&_(n.allCoordIds,a)<0&&(delete i[o],t.count--)}),lL(e);var i=e[a];i||((i=e[a]={coordId:a,dataZoomInfos:{},count:0}).controller=function(t,r){var e=new zy(t.getZr());return E(["pan","zoom","scrollMove"],function(a){e.on(a,function(n){var o=[];E(r.dataZoomInfos,function(t){if(n.isAvailableBehavior(t.dataZoomModel.option)){var e=(t.getRange||{})[a],i=e&&e(r.controller,n);!t.dataZoomModel.get("disabled",!0)&&i&&o.push({dataZoomId:t.dataZoomId,start:i[0],end:i[1]})}}),o.length&&r.dispatchAction(o)})}),e}(t,i),i.dispatchAction=T(uL,t)),i.dataZoomInfos[o]||i.count++,i.dataZoomInfos[o]=n;var r=function(t){var n,o={type_true:2,type_move:1,type_false:0,type_undefined:-1},a=!0;return E(t,function(t){var e=t.dataZoomModel,i=!e.get("disabled",!0)&&(!e.get("zoomLock",!0)||"move");o["type_"+n]<o["type_"+i]&&(n=i),a&=e.get("preventDefaultMouseMove",!0)}),{controlType:n,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!a}}}(i.dataZoomInfos);i.controller.enable(r.controlType,r.opt),i.controller.setPointerChecker(n.containsPoint),Lc(i,"dispatchAction",n.dataZoomModel.get("throttle",!0),"fixRate")}function rL(t){return t.type+"\0_"+t.id}function sL(t){var e=t.getZr();return e[oL]||(e[oL]={})}function lL(i){E(i,function(t,e){t.count||(t.controller.dispose(),delete i[e])})}function uL(t,e){t.dispatchAction({type:"dataZoom",batch:e})}var hL=A,cL=eD.extend({type:"dataZoom.inside",init:function(t,e){this._range},render:function(r,t,s,e){cL.superApply(this,"render",arguments),this._range=r.getPercentRange(),E(this.getTargetCoordInfo(),function(t,o){var a=N(t,function(t){return rL(t.model)});E(t,function(e){var n=e.model,i={};E(["pan","zoom","scrollMove"],function(t){i[t]=hL(dL[t],this,e,o)},this),aL(s,{coordId:rL(n),allCoordIds:a,containsPoint:function(t,e,i){return n.coordinateSystem.containPoint([e,i])},dataZoomId:r.id,dataZoomModel:r,getRange:i})},this)},this)},dispose:function(){!function(t,i){var e=sL(t);E(e,function(t){t.controller.dispose();var e=t.dataZoomInfos;e[i]&&(delete e[i],t.count--)}),lL(e)}(this.api,this.dataZoomModel.id),cL.superApply(this,"dispose",arguments),this._range=null}}),dL={zoom:function(t,e,i,n){var o=this._range,a=o.slice(),r=t.axisModels[0];if(r){var s=gL[e](null,[n.originX,n.originY],r,i,t),l=(0<s.signal?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(a[1]-a[0])+a[0],u=Math.max(1/n.scale,0);a[0]=(a[0]-l)*u+l,a[1]=(a[1]-l)*u+l;var h=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return Kw(0,a,[0,100],0,h.minSpan,h.maxSpan),this._range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}},pan:fL(function(t,e,i,n,o,a){var r=gL[n]([a.oldX,a.oldY],[a.newX,a.newY],e,o,i);return r.signal*(t[1]-t[0])*r.pixel/r.pixelLength}),scrollMove:fL(function(t,e,i,n,o,a){return gL[n]([0,0],[a.scrollDelta,a.scrollDelta],e,o,i).signal*(t[1]-t[0])*a.scrollDelta})};function fL(l){return function(t,e,i,n){var o=this._range,a=o.slice(),r=t.axisModels[0];if(r){var s=l(a,r,t,e,i,n);return Kw(s,a,[0,100],"all"),this._range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}}}function pL(t){var e=t&&t.visualMap;O(e)||(e=e?[e]:[]),mL(e,function(t){if(t){vL(t,"splitList")&&!vL(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&O(e)&&mL(e,function(t){z(t)&&(vL(t,"start")&&!vL(t,"min")&&(t.min=t.start),vL(t,"end")&&!vL(t,"max")&&(t.max=t.end))})}})}var gL={grid:function(t,e,i,n,o){var a=i.axis,r={},s=o.model.coordinateSystem.getRect();return t=t||[0,0],"x"===a.dim?(r.pixel=e[0]-t[0],r.pixelLength=s.width,r.pixelStart=s.x,r.signal=a.inverse?1:-1):(r.pixel=e[1]-t[1],r.pixelLength=s.height,r.pixelStart=s.y,r.signal=a.inverse?-1:1),r},polar:function(t,e,i,n,o){var a=i.axis,r={},s=o.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),"radiusAxis"===i.mainType?(r.pixel=e[0]-t[0],r.pixelLength=l[1]-l[0],r.pixelStart=l[0],r.signal=a.inverse?1:-1):(r.pixel=e[1]-t[1],r.pixelLength=u[1]-u[0],r.pixelStart=u[0],r.signal=a.inverse?-1:1),r},singleAxis:function(t,e,i,n,o){var a=i.axis,r=o.model.coordinateSystem.getRect(),s={};return t=t||[0,0],"horizontal"===a.orient?(s.pixel=e[0]-t[0],s.pixelLength=r.width,s.pixelStart=r.x,s.signal=a.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=r.height,s.pixelStart=r.y,s.signal=a.inverse?-1:1),s}},mL=E;function vL(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}Lu.registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?0<t.pieces.length:0<t.splitNumber)&&!t.calculable?"piecewise":"continuous"});var yL=Cd.VISUAL.COMPONENT;function xL(t,e,i,n){for(var o=e.targetVisuals[n],a=f_.prepareVisualTypes(o),r={color:t.getData().getVisual("color")},s=0,l=a.length;s<l;s++){var u=a[s],h=o["opacity"===u?"__alphaForOpacity":u];h&&h.applyVisual(i,c,d)}return r.color;function c(t){return r[t]}function d(t,e){r[t]=e}}bf(yL,{createOnAllSeries:!0,reset:function(i,t){var n=[];return t.eachComponent("visualMap",function(t){var e=i.pipelineContext;!t.isTargetSeries(i)||e&&e.large||n.push(function(t,f,p,g){var m={};return E(t,function(t){var e=f_.prepareVisualTypes(f[t]);m[t]=e}),{progress:function(t,i){function e(t){return i.getItemVisual(o,t)}function n(t,e){i.setItemVisual(o,t,e)}var o;for(null!=g&&(g=i.getDimension(g));null!=(o=t.next());){var a=i.getRawDataItem(o);if(!a||!1!==a.visualMap)for(var r=null!=g?i.get(g,o,!0):o,s=p(r),l=f[s],u=m[s],h=0,c=u.length;h<c;h++){var d=u[h];l[d]&&l[d].applyVisual(r,e,n)}}}}}(t.stateList,t.targetVisuals,A(t.getValueState,t),t.getDataDimension(i.getData())))}),n}}),bf(yL,{createOnAllSeries:!0,reset:function(o,t){var a=o.getData(),r=[];t.eachComponent("visualMap",function(t){if(t.isTargetSeries(o)){var e=t.getVisualMeta(A(xL,null,o,t))||{stops:[],outerColors:[]},i=t.getDataDimension(a),n=a.getDimensionInfo(i);null!=n&&(e.dimension=n.index,r.push(e))}}),o.getData().setVisual("visualMeta",r)}});var _L=function(t,e,i){var n=L((wL[t]||{})[e]);return i&&O(n)?n[n.length-1]:n},wL={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},bL=f_.mapVisual,SL=f_.eachVisual,ML=O,IL=E,TL=Bl,AL=El,DL=If({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(t,e,i){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(t,i)},optionUpdated:function(t,e){var i=this.option;v.canvasSupported||(i.realtime=!1),e||DD(i,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(t){var e=this.stateList;t=A(t,this),this.controllerVisuals=AD(this.option.controller,e,t),this.targetVisuals=AD(this.option.target,e,t)},getTargetSeriesIndices:function(){var t=this.option.seriesIndex,i=[];return null==t||"all"===t?this.ecModel.eachSeries(function(t,e){i.push(e)}):i=Vo(t),i},eachTargetSeries:function(e,i){E(this.getTargetSeriesIndices(),function(t){e.call(i,this.ecModel.getSeriesByIndex(t))},this)},isTargetSeries:function(e){var i=!1;return this.eachTargetSeries(function(t){t===e&&(i=!0)}),i},formatValueText:function(t,e,i){var n,o,a=this.option,r=a.precision,s=this.dataBound,l=a.formatter;return i=i||["<",">"],O(t)&&(t=t.slice(),n=!0),o=e?t:n?[u(t[0]),u(t[1])]:u(t),R(l)?l.replace("{value}",n?o[0]:o).replace("{value2}",n?o[1]:o):C(l)?n?l(t[0],t[1]):l(t):n?t[0]===s[0]?i[0]+" "+o[1]:t[1]===s[1]?i[1]+" "+o[0]:o[0]+" - "+o[1]:o;function u(t){return t===s[0]?"min":t===s[1]?"max":(+t).toFixed(Math.min(r,20))}},resetExtent:function(){var t=this.option,e=TL([t.min,t.max]);this._dataExtent=e},getDataDimension:function(t){var e=this.option.dimension,i=t.dimensions;if(null!=e||i.length){if(null!=e)return t.getDimension(e);for(var n=t.dimensions,o=n.length-1;0<=o;o--){var a=n[o];if(!t.getDimensionInfo(a).isCalculationCoord)return a}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var t=this.ecModel,e=this.option,i={inRange:e.inRange,outOfRange:e.outOfRange},n=e.target||(e.target={}),o=e.controller||(e.controller={});m(n,i),m(o,i);var u=this.isCategory();function a(n){ML(e.color)&&!n.inRange&&(n.inRange={color:e.color.slice().reverse()}),n.inRange=n.inRange||{color:t.get("gradientColor")},IL(this.stateList,function(t){var e=n[t];if(R(e)){var i=_L(e,"active",u);i?(n[t]={},n[t][e]=i):delete n[t]}},this)}a.call(this,n),a.call(this,o),function(t,e,i){var n=t[e],o=t[i];n&&!o&&(o=t[i]={},IL(n,function(t,e){if(f_.isValidType(e)){var i=_L(e,"inactive",u);null!=i&&(o[e]=i,"color"!==e||o.hasOwnProperty("opacity")||o.hasOwnProperty("colorAlpha")||(o.opacity=[0,0]))}}))}.call(this,n,"inRange","outOfRange"),function(a){var r=(a.inRange||{}).symbol||(a.outOfRange||{}).symbol,s=(a.inRange||{}).symbolSize||(a.outOfRange||{}).symbolSize,l=this.get("inactiveColor");IL(this.stateList,function(t){var e=this.itemSize,i=a[t];null==(i=i||(a[t]={color:u?l:[l]})).symbol&&(i.symbol=r&&L(r)||(u?"roundRect":["roundRect"])),null==i.symbolSize&&(i.symbolSize=s&&L(s)||(u?e[0]:[e[0],e[0]])),i.symbol=bL(i.symbol,function(t){return"none"===t||"square"===t?"roundRect":t});var n=i.symbolSize;if(null!=n){var o=-1/0;SL(n,function(t){o<t&&(o=t)}),i.symbolSize=bL(n,function(t){return AL(t,[0,o],[0,e[0]],!0)})}},this)}.call(this,o)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:et,getValueState:et,getVisualMeta:et}),CL=[20,140],LL=DL.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(t,e){LL.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){LL.superApply(this,"resetItemSize",arguments);var t=this.itemSize;"horizontal"===this._orient&&t.reverse(),null!=t[0]&&!isNaN(t[0])||(t[0]=CL[0]),null!=t[1]&&!isNaN(t[1])||(t[1]=CL[1])},_resetRange:function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):O(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},completeVisualOption:function(){DL.prototype.completeVisualOption.apply(this,arguments),E(this.stateList,function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=0)},this)},setSelected:function(t){this.option.range=t.slice(),this._resetRange()},getSelected:function(){var t=this.getExtent(),e=Bl((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},getValueState:function(t){var e=this.option.range,i=this.getExtent();return(e[0]<=i[0]||e[0]<=t)&&(e[1]>=i[1]||t<=e[1])?"inRange":"outOfRange"},findTargetDataIndices:function(n){var o=[];return this.eachTargetSeries(function(t){var i=[],e=t.getData();e.each(this.getDataDimension(e),function(t,e){n[0]<=t&&t<=n[1]&&i.push(e)},this),o.push({seriesId:t.id,dataIndex:i})},this),o},getVisualMeta:function(i){var t=kL(this,"outOfRange",this.getExtent()),e=kL(this,"inRange",this.option.range.slice()),n=[];function o(t,e){n.push({value:t,color:i(t,e)})}for(var a=0,r=0,s=e.length,l=t.length;r<l&&(!e.length||t[r]<=e[0]);r++)t[r]<e[a]&&o(t[r],"outOfRange");for(var u=1;a<s;a++,u=0)u&&n.length&&o(e[a],"outOfRange"),o(e[a],"inRange");for(u=1;r<l;r++)(!e.length||e[e.length-1]<t[r])&&(u&&(n.length&&o(n[n.length-1].value,"outOfRange"),u=0),o(t[r],"outOfRange"));var h=n.length;return{stops:n,outerColors:[h?n[0].color:"transparent",h?n[h-1].color:"transparent"]}}});function kL(t,e,i){if(i[0]===i[1])return i.slice();for(var n=(i[1]-i[0])/200,o=i[0],a=[],r=0;r<=200&&o<i[1];r++)a.push(o),o+=n;return a.push(i[1]),a}var PL=Tf({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(t,e){this.ecModel=t,this.api=e,this.visualMapModel},render:function(t,e,i,n){!1!==(this.visualMapModel=t).get("show")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(t){var e=this.visualMapModel,i=iu(e.get("padding")||0),n=t.getBoundingRect();t.add(new rs({z2:-1,silent:!0,shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[3]+i[1],height:n.height+i[0]+i[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},getControllerVisual:function(i,n,o){var t=(o=o||{}).forceState,e=this.visualMapModel,a={};if("symbol"===n&&(a.symbol=e.get("itemSymbol")),"color"===n){var r=e.get("contentColor");a.color=r}function s(t){return a[t]}function l(t,e){a[t]=e}var u=e.controllerVisuals[t||e.getValueState(i)];return E(f_.prepareVisualTypes(u),function(t){var e=u[t];o.convertOpacityToAlpha&&"opacity"===t&&(t="colorAlpha",e=u.__alphaForOpacity),f_.dependsOn(t,n)&&e&&e.applyVisual(i,s,l)}),a[n]},positionGroup:function(t){var e=this.visualMapModel,i=this.api;bu(t,e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},doRender:et});function NL(t,e,i){var n=t.option,o=n.align;if(null!=o&&"auto"!==o)return o;for(var a={width:e.getWidth(),height:e.getHeight()},r="horizontal"===n.orient?1:0,s=[["left","right","width"],["top","bottom","height"]],l=s[r],u=[0,null,10],h={},c=0;c<3;c++)h[s[1-r][c]]=u[c],h[l[c]]=2===c?i[0]:n[l[c]];var d=[["x","width",3],["y","height",0]][r],f=wu(h,a,n.padding);return l[(f.margin[d[2]]||0)+f[d[0]]+.5*f[d[1]]<.5*a[d[1]]?0:1]}function OL(t,e){return E(t||[],function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),t}var EL=El,RL=E,zL=Math.min,BL=Math.max,VL=PL.extend({type:"visualMap.continuous",init:function(){VL.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(t,e,i,n){n&&"selectDataRange"===n.type&&n.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var i=t.get("text");this._renderEndsText(e,i,0),this._renderEndsText(e,i,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},_renderEndsText:function(t,e,i){if(e){var n=e[1-i];n=null!=n?n+"":"";var o=this.visualMapModel,a=o.get("textGap"),r=o.itemSize,s=this._shapes.barGroup,l=this._applyTransform([r[0]/2,0===i?-a:r[1]+a],s),u=this._applyTransform(0===i?"bottom":"top",s),h=this._orient,c=this.visualMapModel.textStyleModel;this.group.add(new Ur({style:{x:l[0],y:l[1],textVerticalAlign:"horizontal"===h?"middle":u,textAlign:"horizontal"===h?u:"center",text:n,textFont:c.getFont(),textFill:c.getTextColor()}}))}},_renderBar:function(t){var e=this.visualMapModel,i=this._shapes,n=e.itemSize,o=this._orient,a=this._useHandle,r=NL(e,this.api,n),s=i.barGroup=this._createBarGroup(r);s.add(i.outOfRange=GL()),s.add(i.inRange=GL(null,a?WL(this._orient):null,A(this._dragHandle,this,"all",!1),A(this._dragHandle,this,"all",!0)));var l=e.textStyleModel.getTextRect(""),u=BL(l.width,l.height);a&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(s,0,n,u,o,r),this._createHandle(s,1,n,u,o,r)),this._createIndicator(s,n,u,o),t.add(s)},_createHandle:function(t,e,i,n,o){var a=A(this._dragHandle,this,e,!1),r=A(this._dragHandle,this,e,!0),s=GL(function(t,e){return 0===t?[[0,0],[e,0],[e,-e]]:[[0,0],[e,0],[e,e]]}(e,n),WL(this._orient),a,r);s.position[0]=i[0],t.add(s);var l=this.visualMapModel.textStyleModel,u=new Ur({draggable:!0,drift:a,onmousemove:function(t){Xt(t.event)},ondragend:r,style:{x:0,y:0,text:"",textFont:l.getFont(),textFill:l.getTextColor()}});this.group.add(u);var h=["horizontal"===o?n/2:1.5*n,"horizontal"===o?0===e?-1.5*n:1.5*n:0===e?-n/2:n/2],c=this._shapes;c.handleThumbs[e]=s,c.handleLabelPoints[e]=h,c.handleLabels[e]=u},_createIndicator:function(t,e,i,n){var o=GL([[0,0]],"move");o.position[0]=e[0],o.attr({invisible:!0,silent:!0}),t.add(o);var a=this.visualMapModel.textStyleModel,r=new Ur({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:a.getFont(),textFill:a.getTextColor()}});this.group.add(r);var s=["horizontal"===n?i/2:9,0],l=this._shapes;l.indicator=o,l.indicatorLabel=r,l.indicatorLabelPoint=s},_dragHandle:function(t,e,i,n){if(this._useHandle){if(this._dragging=!e,!e){var o=this._applyTransform([i,n],this._shapes.barGroup,!0);this._updateInterval(t,o[1]),this._updateView()}e===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?this._hovering||this._clearHoverLinkToSeries():FL(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},_resetInterval:function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),i=t.getExtent(),n=[0,t.itemSize[1]];this._handleEnds=[EL(e[0],i,n,!0),EL(e[1],i,n,!0)]},_updateInterval:function(t,e){e=e||0;var i=this.visualMapModel,n=this._handleEnds,o=[0,i.itemSize[1]];Kw(e,n,o,t,0);var a=i.getExtent();this._dataInterval=[EL(n[0],o,a,!0),EL(n[1],o,a,!0)]},_updateView:function(t){var e=this.visualMapModel,i=e.getExtent(),n=this._shapes,o=[0,e.itemSize[1]],a=t?o:this._handleEnds,r=this._createBarVisual(this._dataInterval,i,a,"inRange"),s=this._createBarVisual(i,i,o,"outOfRange");n.inRange.setStyle({fill:r.barColor,opacity:r.opacity}).setShape("points",r.barPoints),n.outOfRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape("points",s.barPoints),this._updateHandle(a,r)},_createBarVisual:function(t,e,i,n){var o={forceState:n,convertOpacityToAlpha:!0},a=this._makeColorGradient(t,o),r=[this.getControllerVisual(t[0],"symbolSize",o),this.getControllerVisual(t[1],"symbolSize",o)],s=this._createBarPoints(i,r);return{barColor:new gs(0,0,0,1,a),barPoints:s,handlesColor:[a[0].color,a[a.length-1].color]}},_makeColorGradient:function(t,e){var i=[],n=(t[1]-t[0])/100;i.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var o=1;o<100;o++){var a=t[0]+n*o;if(a>t[1])break;i.push({color:this.getControllerVisual(a,"color",e),offset:o/100})}return i.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),i},_createBarPoints:function(t,e){var i=this.visualMapModel.itemSize;return[[i[0]-e[0],t[0]],[i[0],t[0]],[i[0],t[1]],[i[0]-e[1],t[1]]]},_createBarGroup:function(t){var e=this._orient,i=this.visualMapModel.get("inverse");return new Ci("horizontal"!==e||i?"horizontal"===e&&i?{scale:"bottom"===t?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==e||i?{scale:"left"===t?[1,1]:[-1,1]}:{scale:"left"===t?[1,-1]:[-1,-1]}:{scale:"bottom"===t?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(n,o){if(this._useHandle){var a=this._shapes,r=this.visualMapModel,s=a.handleThumbs,l=a.handleLabels;RL([0,1],function(t){var e=s[t];e.setStyle("fill",o.handlesColor[t]),e.position[1]=n[t];var i=pl(a.handleLabelPoints[t],fl(e,this.group));l[t].setStyle({x:i[0],y:i[1],text:r.formatValueText(this._dataInterval[t]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===t?"bottom":"top":"left",a.barGroup)})},this)}},_showIndicator:function(t,e,i,n){var o=this.visualMapModel,a=o.getExtent(),r=o.itemSize,s=[0,r[1]],l=EL(t,a,s,!0),u=this._shapes,h=u.indicator;if(h){h.position[1]=l,h.attr("invisible",!1),h.setShape("points",function(t,e,i,n){return t?[[0,-zL(e,BL(i,0))],[6,0],[0,zL(e,BL(n-i,0))]]:[[0,0],[5,-5],[5,5]]}(!!i,n,l,r[1]));var c=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0});h.setStyle("fill",c);var d=pl(u.indicatorLabelPoint,fl(h,this.group)),f=u.indicatorLabel;f.attr("invisible",!1);var p=this._applyTransform("left",u.barGroup),g=this._orient;f.setStyle({text:(i||"")+o.formatValueText(e),textVerticalAlign:"horizontal"===g?p:"middle",textAlign:"horizontal"===g?"center":p,x:d[0],y:d[1]})}},_enableHoverLinkToSeries:function(){var n=this;this._shapes.barGroup.on("mousemove",function(t){if(n._hovering=!0,!n._dragging){var e=n.visualMapModel.itemSize,i=n._applyTransform([t.offsetX,t.offsetY],n._shapes.barGroup,!0,!0);i[1]=zL(BL(0,i[1]),e[1]),n._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=e[0])}}).on("mouseout",function(){n._hovering=!1,n._dragging||n._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(t,e){var i=this.visualMapModel,n=i.itemSize;if(i.option.hoverLink){var o=[0,n[1]],a=i.getExtent();t=zL(BL(o[0],t),o[1]);var r=function(t,e,i){var n=6,o=t.get("hoverLinkDataSize");o&&(n=EL(o,e,i,!0)/2);return n}(i,a,o),s=[t-r,t+r],l=EL(t,o,a,!0),u=[EL(s[0],o,a,!0),EL(s[1],o,a,!0)];s[0]<o[0]&&(u[0]=-1/0),o[1]<s[1]&&(u[1]=1/0),e&&(u[0]===-1/0?this._showIndicator(l,u[1],"< ",r):u[1]===1/0?this._showIndicator(l,u[0],"> ",r):this._showIndicator(l,l," ",r));var h=this._hoverLinkDataIndices,c=[];(e||FL(i))&&(c=this._hoverLinkDataIndices=i.findTargetDataIndices(u));var d=function(t,e){var i={},n={};return o(t||[],i),o(e||[],n,i),[a(i),a(n)];function o(t,e,i){for(var n=0,o=t.length;n<o;n++)for(var a=t[n].seriesId,r=Vo(t[n].dataIndex),s=i&&i[a],l=0,u=r.length;l<u;l++){var h=r[l];s&&s[h]?s[h]=null:(e[a]||(e[a]={}))[h]=1}}function a(t,e){var i=[];for(var n in t)if(t.hasOwnProperty(n)&&null!=t[n])if(e)i.push(+n);else{var o=a(t[n],!0);o.length&&i.push({seriesId:n,dataIndex:o})}return i}}(h,c);this._dispatchHighDown("downplay",OL(d[0],i)),this._dispatchHighDown("highlight",OL(d[1],i))}},_hoverLinkFromSeriesMouseOver:function(t){var e=t.target,i=this.visualMapModel;if(e&&null!=e.dataIndex){var n=this.ecModel.getSeriesByIndex(e.seriesIndex);if(i.isTargetSeries(n)){var o=n.getData(e.dataType),a=o.get(i.getDataDimension(o),e.dataIndex,!0);isNaN(a)||this._showIndicator(a,a)}}},_hideIndicator:function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",OL(t,this.visualMapModel)),t.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},_applyTransform:function(t,e,i,n){var o=fl(e,n?null:this.group);return bl[O(t)?"applyTransform":"transformDirection"](t,o,i)},_dispatchHighDown:function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});function GL(t,e,i,n){return new Qr({shape:{points:t},draggable:!!i,cursor:e,drift:i,onmousemove:function(t){Xt(t.event)},ondragend:n})}function FL(t){var e=t.get("hoverLinkOnHandle");return!!(null==e?t.get("realtime"):e)}function WL(t){return"vertical"===t?"ns-resize":"ew-resize"}xf({type:"selectDataRange",event:"dataRangeSelected",update:"update"},function(e,t){t.eachComponent({mainType:"visualMap",query:e},function(t){t.setSelected(e.selected)})}),vf(pL);var HL=DL.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(t,e){HL.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var i=this._mode=this._determineMode();ZL[this._mode].call(this),this._resetSelected(t,e);var n=this.option.categories;this.resetVisual(function(t,e){"categories"===i?(t.mappingMethod="category",t.categories=L(n)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=N(this._pieceList,function(t){t=L(t);return"inRange"!==e&&(t.visual=null),t}))})},completeVisualOption:function(){var n=this.option,i={},t=f_.listVisualTypes(),o=this.isCategory();function a(t,e,i){return t&&t[e]&&(z(t[e])?t[e].hasOwnProperty(i):t[e]===i)}E(n.pieces,function(e){E(t,function(t){e.hasOwnProperty(t)&&(i[t]=1)})}),E(i,function(t,e){var i=0;E(this.stateList,function(t){i|=a(n,t,e)||a(n.target,t,e)},this),i||E(this.stateList,function(t){(n[t]||(n[t]={}))[e]=_L(e,"inRange"===t?"active":"inactive",o)})},this),DL.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(t,e){var i=this.option,n=this._pieceList,o=(e?i:t).selected||{};if(i.selected=o,E(n,function(t,e){var i=this.getSelectedMapKey(t);o.hasOwnProperty(i)||(o[i]=!0)},this),"single"===i.selectedMode){var a=!1;E(n,function(t,e){var i=this.getSelectedMapKey(t);o[i]&&(a?o[i]=!1:a=!0)},this)}},getSelectedMapKey:function(t){return"categories"===this._mode?t.value+"":t.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var t=this.option;return t.pieces&&0<t.pieces.length?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(t){this.option.selected=L(t)},getValueState:function(t){var e=f_.findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"},findTargetDataIndices:function(n){var o=[];return this.eachTargetSeries(function(t){var i=[],e=t.getData();e.each(this.getDataDimension(e),function(t,e){f_.findPieceIndex(t,this._pieceList)===n&&i.push(e)},this),o.push({seriesId:t.id,dataIndex:i})},this),o},getRepresentValue:function(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var i=t.interval||[];e=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return e},getVisualMeta:function(o){if(!this.isCategory()){var a=[],r=[],s=this,t=this._pieceList.slice();if(t.length){var e=t[0].interval[0];e!==-1/0&&t.unshift({interval:[-1/0,e]}),(e=t[t.length-1].interval[1])!==1/0&&t.push({interval:[e,1/0]})}else t.push({interval:[-1/0,1/0]});var i=-1/0;return E(t,function(t){var e=t.interval;e&&(e[0]>i&&n([i,e[0]],"outOfRange"),n(e.slice()),i=e[1])},this),{stops:a,outerColors:r}}function n(t,e){var i=s.getRepresentValue({interval:t});e=e||s.getValueState(i);var n=o(i,e);t[0]===-1/0?r[0]=n:t[1]===1/0?r[1]=n:a.push({value:t[0],color:n},{value:t[1],color:n})}}}),ZL={splitNumber:function(){var t=this.option,e=this._pieceList,i=Math.min(t.precision,20),n=this.getExtent(),o=t.splitNumber;o=Math.max(parseInt(o,10),1),t.splitNumber=o;for(var a=(n[1]-n[0])/o;+a.toFixed(i)!==a&&i<5;)i++;t.precision=i,a=+a.toFixed(i);var r=0;t.minOpen&&e.push({index:r++,interval:[-1/0,n[0]],close:[0,0]});for(var s=n[0],l=r+o;r<l;s+=a){var u=r===o-1?n[1]:s+a;e.push({index:r++,interval:[s,u],close:[1,1]})}t.maxOpen&&e.push({index:r++,interval:[n[1],1/0],close:[0,0]}),$l(e),E(e,function(t){t.text=this.formatValueText(t.interval)},this)},categories:function(){var t=this.option;E(t.categories,function(t){this._pieceList.push({text:this.formatValueText(t,!0),value:t})},this),UL(t,this._pieceList)},pieces:function(){var t=this.option,d=this._pieceList;E(t.pieces,function(t,e){z(t)||(t={value:t});var i={text:"",index:e};if(null!=t.label&&(i.text=t.label),t.hasOwnProperty("value")){var n=i.value=t.value;i.interval=[n,n],i.close=[1,1]}else{for(var o=i.interval=[],a=i.close=[0,0],r=[1,0,1],s=[-1/0,1/0],l=[],u=0;u<2;u++){for(var h=[["gte","gt","min"],["lte","lt","max"]][u],c=0;c<3&&null==o[u];c++)o[u]=t[h[c]],a[u]=r[c],l[u]=2===c;null==o[u]&&(o[u]=s[u])}l[0]&&o[1]===1/0&&(a[0]=0),l[1]&&o[0]===-1/0&&(a[1]=0),o[0]===o[1]&&a[0]&&a[1]&&(i.value=o[0])}i.visual=f_.retrieveVisuals(t),d.push(i)},this),UL(t,d),$l(d),E(d,function(t){var e=t.close,i=[["<",""][e[1]],[">",""][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,i)},this)}};function UL(t,e){var i=t.inverse;("vertical"===t.orient?!i:i)&&e.reverse()}PL.extend({type:"visualMap.piecewise",doRender:function(){var a=this.group;a.removeAll();var r=this.visualMapModel,s=r.get("textGap"),t=r.textStyleModel,l=t.getFont(),u=t.getTextColor(),h=this._getItemAlign(),c=r.itemSize,e=this._getViewData(),i=e.endsText,d=W(r.get("showLabel",!0),!i);i&&this._renderEndsText(a,i[0],c,d,h),E(e.viewPieceList,function(t){var e=t.piece,i=new Ci;i.onclick=A(this._onItemClick,this,e),this._enableHoverLink(i,t.indexInModelPieceList);var n=r.getRepresentValue(e);if(this._createItemSymbol(i,n,[0,0,c[0],c[1]]),d){var o=this.visualMapModel.getValueState(n);i.add(new Ur({style:{x:"right"===h?-s:c[0]+s,y:c[1]/2,text:e.text,textVerticalAlign:"middle",textAlign:h,textFont:l,textFill:u,opacity:"outOfRange"===o?.5:1}}))}a.add(i)},this),i&&this._renderEndsText(a,i[1],c,d,h),_u(r.get("orient"),a,r.get("itemGap")),this.renderBackground(a),this.positionGroup(a)},_enableHoverLink:function(t,i){function e(t){var e=this.visualMapModel;e.option.hoverLink&&this.api.dispatchAction({type:t,batch:OL(e.findTargetDataIndices(i),e)})}t.on("mouseover",A(e,this,"highlight")).on("mouseout",A(e,this,"downplay"))},_getItemAlign:function(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return NL(t,this.api,t.itemSize);var i=e.align;return i&&"auto"!==i||(i="left"),i},_renderEndsText:function(t,e,i,n,o){if(e){var a=new Ci,r=this.visualMapModel.textStyleModel;a.add(new Ur({style:{x:n?"right"===o?i[0]:0:i[0]/2,y:i[1]/2,textVerticalAlign:"middle",textAlign:n?o:"center",text:e,textFont:r.getFont(),textFill:r.getTextColor()}})),t.add(a)}},_getViewData:function(){var t=this.visualMapModel,e=N(t.getPieceList(),function(t,e){return{piece:t,indexInModelPieceList:e}}),i=t.get("text"),n=t.get("orient"),o=t.get("inverse");return("horizontal"===n?o:!o)?e.reverse():i=i&&i.slice().reverse(),{viewPieceList:e,endsText:i}},_createItemSymbol:function(t,e,i){t.add(_g(this.getControllerVisual(e,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(e,"color")))},_onItemClick:function(t){var e=this.visualMapModel,i=e.option,n=L(i.selected),o=e.getSelectedMapKey(t);"single"===i.selectedMode?(n[o]=!0,E(n,function(t,e){n[e]=e===o})):n[o]=!n[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:n})}});vf(pL);var XL,YL="urn:schemas-microsoft-com:vml",jL="undefined"==typeof window?null:window,qL=!1,KL=jL&&jL.document;function $L(t){return XL(t)}if(KL&&!v.canvasSupported)try{KL.namespaces.zrvml||KL.namespaces.add("zrvml",YL),XL=function(t){return KL.createElement("<zrvml:"+t+' class="zrvml">')}}catch(t){XL=function(t){return KL.createElement("<"+t+' xmlns="'+YL+'" class="zrvml">')}}var JL,QL=rr.CMD,tk=Math.round,ek=Math.sqrt,ik=Math.abs,nk=Math.cos,ok=Math.sin,ak=Math.max;if(!v.canvasSupported){var rk=",",sk="progid:DXImageTransform.Microsoft",lk=21600,uk=lk/2,hk=function(t){t.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",t.coordsize=lk+","+lk,t.coordorigin="0,0"},ck=function(t,e,i){return"rgb("+[t,e,i].join(",")+")"},dk=function(t,e){e&&t&&e.parentNode!==t&&t.appendChild(e)},fk=function(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)},pk=function(t,e,i){return 1e5*(parseFloat(t)||0)+1e3*(parseFloat(e)||0)+i},gk=Yn,mk=function(t,e,i){var n=Fe(e);i=+i,isNaN(i)&&(i=1),n&&(t.color=ck(n[0],n[1],n[2]),t.opacity=i*n[3])},vk=function(t,e,i,n){var o="fill"===e,a=t.getElementsByTagName(e)[0];null!=i[e]&&"none"!==i[e]&&(o||!o&&i.lineWidth)?(t[o?"filled":"stroked"]="true",i[e]instanceof cs&&fk(t,a),a=a||$L(e),o?function(t,e,i){var n,o,a=e.fill;if(null!=a)if(a instanceof cs){var r,s=0,l=[0,0],u=0,h=1,c=i.getBoundingRect(),d=c.width,f=c.height;if("linear"===a.type){r="gradient";var p=i.transform,g=[a.x*d,a.y*f],m=[a.x2*d,a.y2*f];p&&(bt(g,g,p),bt(m,m,p));var v=m[0]-g[0],y=m[1]-g[1];(s=180*Math.atan2(v,y)/Math.PI)<0&&(s+=360),s<1e-6&&(s=0)}else{r="gradientradial";g=[a.x*d,a.y*f],p=i.transform;var x=i.scale,_=d,w=f;l=[(g[0]-c.x)/_,(g[1]-c.y)/w],p&&bt(g,g,p),_/=x[0]*lk,w/=x[1]*lk;var b=ak(_,w);u=0/b,h=2*a.r/b-u}var S=a.colorStops.slice();S.sort(function(t,e){return t.offset-e.offset});for(var M=S.length,I=[],T=[],A=0;A<M;A++){var D=S[A],C=(n=D.color,void 0,o=Fe(n),[ck(o[0],o[1],o[2]),o[3]]);T.push(D.offset*h+u+" "+C[0]),0!==A&&A!==M-1||I.push(C)}if(2<=M){var L=I[0][0],k=I[1][0],P=I[0][1]*e.opacity,N=I[1][1]*e.opacity;t.type=r,t.method="none",t.focus="100%",t.angle=s,t.color=L,t.color2=k,t.colors=T.join(","),t.opacity=N,t.opacity2=P}"radial"===r&&(t.focusposition=l.join(","))}else mk(t,a,e.opacity)}(a,i,n):function(t,e){e.lineDash&&(t.dashstyle=e.lineDash.join(" ")),null==e.stroke||e.stroke instanceof cs||mk(t,e.stroke,e.opacity)}(a,i),dk(t,a)):(t[o?"filled":"stroked"]="false",fk(t,a))},yk=[[],[],[]];Ar.prototype.brushVML=function(t){var e=this.style,i=this._vmlEl;i||(i=$L("shape"),hk(i),this._vmlEl=i),vk(i,"fill",e,this),vk(i,"stroke",e,this);var n=this.transform,o=null!=n,a=i.getElementsByTagName("stroke")[0];if(a){var r=e.lineWidth;if(o&&!e.strokeNoScale){var s=n[0]*n[3]-n[1]*n[2];r*=ek(ik(s))}a.weight=r+"px"}var l=this.path||(this.path=new rr);this.__dirtyPath&&(l.beginPath(),l.subPixelOptimize=!1,this.buildPath(l,this.shape),l.toStatic(),this.__dirtyPath=!1),i.path=function(t,e){var i,n,o,a,r,s,l=QL.M,u=QL.C,h=QL.L,c=QL.A,d=QL.Q,f=[],p=t.data,g=t.len();for(a=0;a<g;){switch(n="",i=0,o=p[a++]){case l:n=" m ",i=1,r=p[a++],s=p[a++],yk[0][0]=r,yk[0][1]=s;break;case h:n=" l ",i=1,r=p[a++],s=p[a++],yk[0][0]=r,yk[0][1]=s;break;case d:case u:n=" c ",i=3;var m,v,y=p[a++],x=p[a++],_=p[a++],w=p[a++];o===d?(_=((m=_)+2*y)/3,w=((v=w)+2*x)/3,y=(r+2*y)/3,x=(s+2*x)/3):(m=p[a++],v=p[a++]),yk[0][0]=y,yk[0][1]=x,yk[1][0]=_,yk[1][1]=w,r=yk[2][0]=m,s=yk[2][1]=v;break;case c:var b=0,S=0,M=1,I=1,T=0;e&&(b=e[4],S=e[5],M=ek(e[0]*e[0]+e[1]*e[1]),I=ek(e[2]*e[2]+e[3]*e[3]),T=Math.atan2(-e[1]/I,e[0]/M));var A=p[a++],D=p[a++],C=p[a++],L=p[a++],k=p[a++]+T,P=p[a++]+k+T;a++;var N=p[a++],O=A+nk(k)*C,E=D+ok(k)*L,R=(y=A+nk(P)*C,x=D+ok(P)*L,N?" wa ":" at ");Math.abs(O-y)<1e-4&&(.01<Math.abs(P-k)?N&&(O+=.0125):Math.abs(E-D)<1e-4?N&&O<A||!N&&A<O?x-=.0125:x+=.0125:N&&E<D||!N&&D<E?y+=.0125:y-=.0125),f.push(R,tk(((A-C)*M+b)*lk-uk),rk,tk(((D-L)*I+S)*lk-uk),rk,tk(((A+C)*M+b)*lk-uk),rk,tk(((D+L)*I+S)*lk-uk),rk,tk((O*M+b)*lk-uk),rk,tk((E*I+S)*lk-uk),rk,tk((y*M+b)*lk-uk),rk,tk((x*I+S)*lk-uk)),r=y,s=x;break;case QL.R:var z=yk[0],B=yk[1];z[0]=p[a++],z[1]=p[a++],B[0]=z[0]+p[a++],B[1]=z[1]+p[a++],e&&(bt(z,z,e),bt(B,B,e)),z[0]=tk(z[0]*lk-uk),B[0]=tk(B[0]*lk-uk),z[1]=tk(z[1]*lk-uk),B[1]=tk(B[1]*lk-uk),f.push(" m ",z[0],rk,z[1]," l ",B[0],rk,z[1]," l ",B[0],rk,B[1]," l ",z[0],rk,B[1]);break;case QL.Z:f.push(" x ")}if(0<i){f.push(n);for(var V=0;V<i;V++){var G=yk[V];e&&bt(G,G,e),f.push(tk(G[0]*lk-uk),rk,tk(G[1]*lk-uk),V<i-1?rk:"")}}}return f.join("")}(l,this.transform),i.style.zIndex=pk(this.zlevel,this.z,this.z2),dk(t,i),null!=e.text?this.drawRectText(t,this.getBoundingRect()):this.removeRectText(t)},Ar.prototype.onRemove=function(t){fk(t,this._vmlEl),this.removeRectText(t)},Ar.prototype.onAdd=function(t){dk(t,this._vmlEl),this.appendRectText(t)};Qn.prototype.brushVML=function(t){var e,i,n=this.style,o=n.image;if(function(t){return"object"==typeof t&&t.tagName&&"IMG"===t.tagName.toUpperCase()}(o)){var a=o.src;if(a===this._imageSrc)e=this._imageWidth,i=this._imageHeight;else{var r=o.runtimeStyle,s=r.width,l=r.height;r.width="auto",r.height="auto",e=o.width,i=o.height,r.width=s,r.height=l,this._imageSrc=a,this._imageWidth=e,this._imageHeight=i}o=a}else o===this._imageSrc&&(e=this._imageWidth,i=this._imageHeight);if(o){var u=n.x||0,h=n.y||0,c=n.width,d=n.height,f=n.sWidth,p=n.sHeight,g=n.sx||0,m=n.sy||0,v=f&&p,y=this._vmlEl;y||(y=KL.createElement("div"),hk(y),this._vmlEl=y);var x,_=y.style,w=!1,b=1,S=1;if(this.transform&&(x=this.transform,b=ek(x[0]*x[0]+x[1]*x[1]),S=ek(x[2]*x[2]+x[3]*x[3]),w=x[1]||x[2]),w){var M=[u,h],I=[u+c,h],T=[u,h+d],A=[u+c,h+d];bt(M,M,x),bt(I,I,x),bt(T,T,x),bt(A,A,x);var D=ak(M[0],I[0],T[0],A[0]),C=ak(M[1],I[1],T[1],A[1]),L=[];L.push("M11=",x[0]/b,rk,"M12=",x[2]/S,rk,"M21=",x[1]/b,rk,"M22=",x[3]/S,rk,"Dx=",tk(u*b+x[4]),rk,"Dy=",tk(h*S+x[5])),_.padding="0 "+tk(D)+"px "+tk(C)+"px 0",_.filter=sk+".Matrix("+L.join("")+", SizingMethod=clip)"}else x&&(u=u*b+x[4],h=h*S+x[5]),_.filter="",_.left=tk(u)+"px",_.top=tk(h)+"px";var k=this._imageEl,P=this._cropEl;k||(k=KL.createElement("div"),this._imageEl=k);var N=k.style;if(v){if(e&&i)N.width=tk(b*e*c/f)+"px",N.height=tk(S*i*d/p)+"px";else{var O=new Image,E=this;O.onload=function(){O.onload=null,e=O.width,i=O.height,N.width=tk(b*e*c/f)+"px",N.height=tk(S*i*d/p)+"px",E._imageWidth=e,E._imageHeight=i,E._imageSrc=o},O.src=o}P||((P=KL.createElement("div")).style.overflow="hidden",this._cropEl=P);var R=P.style;R.width=tk((c+g*c/f)*b),R.height=tk((d+m*d/p)*S),R.filter=sk+".Matrix(Dx="+-g*c/f*b+",Dy="+-m*d/p*S+")",P.parentNode||y.appendChild(P),k.parentNode!==P&&P.appendChild(k)}else N.width=tk(b*c)+"px",N.height=tk(S*d)+"px",y.appendChild(k),P&&P.parentNode&&(y.removeChild(P),this._cropEl=null);var z="",B=n.opacity;B<1&&(z+=".Alpha(opacity="+tk(100*B)+") "),z+=sk+".AlphaImageLoader(src="+o+", SizingMethod=scale)",N.filter=z,y.style.zIndex=pk(this.zlevel,this.z,this.z2),dk(t,y),null!=n.text&&this.drawRectText(t,this.getBoundingRect())}},Qn.prototype.onRemove=function(t){fk(t,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(t)},Qn.prototype.onAdd=function(t){dk(t,this._vmlEl),this.appendRectText(t)};var xk,_k="normal",wk={},bk=0,Sk=document.createElement("div");JL=function(t,e){var i=KL;xk||((xk=i.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",KL.body.appendChild(xk));try{xk.style.font=e}catch(t){}return xk.innerHTML="",xk.appendChild(i.createTextNode(t)),{width:xk.offsetWidth}},fn["measureText"]=JL;for(var Mk=new Di,Ik=function(t,e,i,n){var o=this.style;this.__dirty&&En(o);var a=o.text;if(null!=a&&(a+=""),a){if(o.rich){var r=In(a,o);a=[];for(var s=0;s<r.lines.length;s++){for(var l=r.lines[s].tokens,u=[],h=0;h<l.length;h++)u.push(l[h].text);a.push(u.join(""))}a=a.join("\n")}var c,d,f=o.textAlign,p=o.textVerticalAlign,g=function(t){var e=wk[t];if(!e){100<bk&&(bk=0,wk={});var i,n=Sk.style;try{n.font=t,i=n.fontFamily.split(",")[0]}catch(t){}e={style:n.fontStyle||_k,variant:n.fontVariant||_k,weight:n.fontWeight||_k,size:0|parseFloat(n.fontSize||12),family:i||"Microsoft YaHei"},wk[t]=e,bk++}return e}(o.font),m=g.style+" "+g.variant+" "+g.weight+" "+g.size+'px "'+g.family+'"';i=i||gn(a,m,f,p,o.textPadding,o.textLineHeight);var v=this.transform;if(v&&!n&&(Mk.copy(e),Mk.applyTransform(v),e=Mk),n)c=e.x,d=e.y;else{var y=o.textPosition;if(y instanceof Array)c=e.x+gk(y[0],e.width),d=e.y+gk(y[1],e.height),f=f||"left";else{var x=this.calculateTextPosition?this.calculateTextPosition({},o,e):yn({},o,e);c=x.x,d=x.y,f=f||x.textAlign,p=p||x.textVerticalAlign}}c=mn(c,i.width,f),d=vn(d,i.height,p),d+=i.height/2;var _,w,b,S=$L,M=this._textVmlEl;M?w=(_=(b=M.firstChild).nextSibling).nextSibling:(M=S("line"),_=S("path"),w=S("textpath"),b=S("skew"),w.style["v-text-align"]="left",hk(M),_.textpathok=!0,w.on=!0,M.from="0 0",M.to="1000 0.05",dk(M,b),dk(M,_),dk(M,w),this._textVmlEl=M);var I=[c,d],T=M.style;v&&n?(bt(I,I,v),b.on=!0,b.matrix=v[0].toFixed(3)+rk+v[2].toFixed(3)+rk+v[1].toFixed(3)+rk+v[3].toFixed(3)+",0,0",b.offset=(tk(I[0])||0)+","+(tk(I[1])||0),b.origin="0 0",T.left="0px",T.top="0px"):(b.on=!1,T.left=tk(c)+"px",T.top=tk(d)+"px"),w.string=function(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}(a);try{w.style.font=m}catch(t){}vk(M,"fill",{fill:o.textFill,opacity:o.opacity},this),vk(M,"stroke",{stroke:o.textStroke,opacity:o.opacity,lineDash:o.lineDash||null},this),M.style.zIndex=pk(this.zlevel,this.z,this.z2),dk(t,M)}},Tk=function(t){fk(t,this._textVmlEl),this._textVmlEl=null},Ak=function(t){dk(t,this._textVmlEl)},Dk=[Kn,Jn,Qn,Ar,Ur],Ck=0;Ck<Dk.length;Ck++){var Lk=Dk[Ck].prototype;Lk.drawRectText=Ik,Lk.removeRectText=Tk,Lk.appendRectText=Ak}Ur.prototype.brushVML=function(t){var e=this.style;null!=e.text?this.drawRectText(t,{x:e.x||0,y:e.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(t)},Ur.prototype.onRemove=function(t){this.removeRectText(t)},Ur.prototype.onAdd=function(t){this.appendRectText(t)}}function kk(t){return parseInt(t,10)}function Pk(t,e){!function(){if(!qL&&KL){qL=!0;var t=KL.styleSheets;t.length<31?KL.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):t[0].addRule(".zrvml","behavior:url(#default#VML)")}}(),this.root=t,this.storage=e;var i=document.createElement("div"),n=document.createElement("div");i.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",n.style.cssText="position:absolute;left:0;top:0;",t.appendChild(i),this._vmlRoot=n,this._vmlViewport=i,this.resize();var o=e.delFromStorage,a=e.addToStorage;e.delFromStorage=function(t){o.call(e,t),t&&t.onRemove&&t.onRemove(n)},e.addToStorage=function(t){t.onAdd&&t.onAdd(n),a.call(e,t)},this._firstPaint=!0}Pk.prototype={constructor:Pk,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0,!0);this._paintList(t)},_paintList:function(t){for(var e=this._vmlRoot,i=0;i<t.length;i++){var n=t[i];n.invisible||n.ignore?(n.__alreadyNotVisible||n.onRemove(e),n.__alreadyNotVisible=!0):(n.__alreadyNotVisible&&n.onAdd(e),n.__alreadyNotVisible=!1,n.__dirty&&(n.beforeBrush&&n.beforeBrush(),(n.brushVML||n.brush).call(n,e),n.afterBrush&&n.afterBrush())),n.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(e),this._firstPaint=!1)},resize:function(t,e){t=null==t?this._getWidth():t,e=null==e?this._getHeight():e;if(this._width!==t||this._height!==e){this._width=t,this._height=e;var i=this._vmlViewport.style;i.width=t+"px",i.height=e+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var t=this.root,e=t.currentStyle;return(t.clientWidth||kk(e.width))-kk(e.paddingLeft)-kk(e.paddingRight)|0},_getHeight:function(){var t=this.root,e=t.currentStyle;return(t.clientHeight||kk(e.height))-kk(e.paddingTop)-kk(e.paddingBottom)|0}},E(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){Pk.prototype[t]=function(t){return function(){vi('In IE8.0 VML mode painter not support method "'+t+'"')}}(t)}),Po("vml",Pk);function Nk(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}var Ok=rr.CMD,Ek=Array.prototype.join,Rk="none",zk=Math.round,Bk=Math.sin,Vk=Math.cos,Gk=Math.PI,Fk=2*Math.PI,Wk=180/Gk,Hk=1e-4;function Zk(t){return zk(1e4*t)/1e4}function Uk(t){return t<Hk&&-Hk<t}function Xk(t,e){e&&Yk(t,"transform","matrix("+Ek.call(e,",")+")")}function Yk(t,e,i){i&&("linear"===i.type||"radial"===i.type)||t.setAttribute(e,i)}function jk(t,e,i,n){if(function(t,e){var i=e?t.textFill:t.fill;return null!=i&&i!==Rk}(e,i)){var o=i?e.textFill:e.fill;Yk(t,"fill",o="transparent"===o?Rk:o),Yk(t,"fill-opacity",null!=e.fillOpacity?e.fillOpacity*e.opacity:e.opacity)}else Yk(t,"fill",Rk);if(function(t,e){var i=e?t.textStroke:t.stroke;return null!=i&&i!==Rk}(e,i)){var a=i?e.textStroke:e.stroke;Yk(t,"stroke",a="transparent"===a?Rk:a),Yk(t,"stroke-width",(i?e.textStrokeWidth:e.lineWidth)/(!i&&e.strokeNoScale?n.getLineScale():1)),Yk(t,"paint-order",i?"stroke":"fill"),Yk(t,"stroke-opacity",null!=e.strokeOpacity?e.strokeOpacity:e.opacity),e.lineDash?(Yk(t,"stroke-dasharray",e.lineDash.join(",")),Yk(t,"stroke-dashoffset",zk(e.lineDashOffset||0))):Yk(t,"stroke-dasharray",""),e.lineCap&&Yk(t,"stroke-linecap",e.lineCap),e.lineJoin&&Yk(t,"stroke-linejoin",e.lineJoin),e.miterLimit&&Yk(t,"stroke-miterlimit",e.miterLimit)}else Yk(t,"stroke",Rk)}var qk={};qk.brush=function(t){var e=t.style,i=t.__svgEl;i||(i=Nk("path"),t.__svgEl=i),t.path||t.createPathProxy();var n=t.path;if(t.__dirtyPath){n.beginPath(),n.subPixelOptimize=!1,t.buildPath(n,t.shape),t.__dirtyPath=!1;var o=function(t){for(var e=[],i=t.data,n=t.len(),o=0;o<n;){var a="",r=0;switch(i[o++]){case Ok.M:a="M",r=2;break;case Ok.L:a="L",r=2;break;case Ok.Q:a="Q",r=4;break;case Ok.C:a="C",r=6;break;case Ok.A:var s=i[o++],l=i[o++],u=i[o++],h=i[o++],c=i[o++],d=i[o++],f=i[o++],p=i[o++],g=Math.abs(d),m=Uk(g-Fk)||(p?Fk<=d:Fk<=-d),v=0<d?d%Fk:d%Fk+Fk,y=!1;y=!!m||!Uk(g)&&Gk<=v==!!p;var x=Zk(s+u*Vk(c)),_=Zk(l+h*Bk(c));m&&(d=p?Fk-1e-4:1e-4-Fk,y=!0,9===o&&e.push("M",x,_));var w=Zk(s+u*Vk(c+d)),b=Zk(l+h*Bk(c+d));e.push("A",Zk(u),Zk(h),zk(f*Wk),+y,+p,w,b);break;case Ok.Z:a="Z";break;case Ok.R:w=Zk(i[o++]),b=Zk(i[o++]);var S=Zk(i[o++]),M=Zk(i[o++]);e.push("M",w,b,"L",w+S,b,"L",w+S,b+M,"L",w,b+M,"L",w,b)}a&&e.push(a);for(var I=0;I<r;I++)e.push(Zk(i[o++]))}return e.join(" ")}(n);o.indexOf("NaN")<0&&Yk(i,"d",o)}jk(i,e,!1,t),Xk(i,t.transform),null!=e.text?iP(t,t.getBoundingRect()):oP(t)};var Kk={brush:function(t){var e=t.style,i=e.image;i instanceof HTMLImageElement&&(i=i.src);if(i){var n=e.x||0,o=e.y||0,a=e.width,r=e.height,s=t.__svgEl;s||(s=Nk("image"),t.__svgEl=s),i!==t.__imageSrc&&(function(t,e,i){t.setAttributeNS("http://www.w3.org/1999/xlink",e,i)}(s,"href",i),t.__imageSrc=i),Yk(s,"width",a),Yk(s,"height",r),Yk(s,"x",n),Yk(s,"y",o),Xk(s,t.transform),null!=e.text?iP(t,t.getBoundingRect()):oP(t)}}},$k={},Jk=new Di,Qk={},tP=[],eP={left:"start",right:"end",center:"middle",middle:"middle"},iP=function(t,e){var i=t.style,n=t.transform,o=t instanceof Ur||i.transformText;t.__dirty&&En(i);var a=i.text;if(null!=a&&(a+=""),qn(a,i)){null==a&&(a=""),!o&&n&&(Jk.copy(e),Jk.applyTransform(n),e=Jk);var r=t.__textSvgEl;r||(r=Nk("text"),t.__textSvgEl=r);var s=r.style,l=i.font||dn,u=r.__computedFont;l!==r.__styleFont&&(s.font=r.__styleFont=l,u=r.__computedFont=s.font);var h=i.textPadding,c=i.textLineHeight,d=t.__textCotentBlock;d&&!t.__dirtyText||(d=t.__textCotentBlock=Mn(a,u,h,c,i.truncate));var f=d.outerHeight,p=d.lineHeight;Hn(Qk,t,i,e);var g=Qk.baseX,m=Qk.baseY,v=Qk.textAlign||"left",y=Qk.textVerticalAlign;!function(t,e,i,n,o,a,r){re(tP),e&&i&&se(tP,i);var s=n.textRotation;if(o&&s){var l=n.textOrigin;"center"===l?(a=o.width/2+o.x,r=o.height/2+o.y):l&&(a=l[0]+o.x,r=l[1]+o.y),tP[4]-=a,tP[5]-=r,he(tP,tP,s),tP[4]+=a,tP[5]+=r}Xk(t,tP)}(r,o,n,i,e,g,m);var x=g,_=vn(m,f,y);h&&(x=function(t,e,i){return"right"===e?t-i[1]:"center"===e?t+i[3]/2-i[1]/2:t+i[3]}(g,v,h),_+=h[0]),_+=p/2,jk(r,i,!0,t);var w=d.canCacheByTextString,b=t.__tspanList||(t.__tspanList=[]),S=b.length;if(w&&t.__canCacheByTextString&&t.__text===a){if(t.__dirtyText&&S)for(var M=0;M<S;++M)nP(b[M],v,x,_+M*p)}else{t.__text=a,t.__canCacheByTextString=w;var I=d.lines,T=I.length;for(M=0;M<T;M++){var A=b[M],D=I[M];A?A.__zrText!==D&&(A.innerHTML="",A.appendChild(document.createTextNode(D))):(A=b[M]=Nk("tspan"),r.appendChild(A),A.appendChild(document.createTextNode(D))),nP(A,v,x,_+M*p)}if(T<S){for(;M<S;M++)r.removeChild(b[M]);b.length=T}}}};function nP(t,e,i,n){Yk(t,"dominant-baseline","middle"),Yk(t,"text-anchor",eP[e]),Yk(t,"x",i),Yk(t,"y",n)}function oP(t){t&&t.__textSvgEl&&(t.__textSvgEl.parentNode&&t.__textSvgEl.parentNode.removeChild(t.__textSvgEl),t.__textSvgEl=null,t.__tspanList=[],t.__text=null)}function aP(){}function rP(t,e){for(var i=0,n=e.length,o=0,a=0;i<n;i++){var r=e[i];if(r.removed){for(s=[],l=a;l<a+r.count;l++)s.push(l);r.indices=s,a+=r.count}else{for(var s=[],l=o;l<o+r.count;l++)s.push(l);r.indices=s,o+=r.count,r.added||(a+=r.count)}}return e}$k.drawRectText=iP,$k.brush=function(t){null!=t.style.text?iP(t,!1):oP(t)},aP.prototype={diff:function(l,u,t){t=t||function(t,e){return t===e},this.equals=t;var h=this;l=l.slice();var c=(u=u.slice()).length,d=l.length,f=1,e=c+d,p=[{newPos:-1,components:[]}],i=this.extractCommon(p[0],u,l,0);if(p[0].newPos+1>=c&&d<=i+1){for(var n=[],o=0;o<u.length;o++)n.push(o);return[{indices:n,count:u.length}]}function a(){for(var t=-1*f;t<=f;t+=2){var e,i=p[t-1],n=p[t+1],o=(n?n.newPos:0)-t;i&&(p[t-1]=void 0);var a=i&&i.newPos+1<c,r=n&&0<=o&&o<d;if(a||r){if(!a||r&&i.newPos<n.newPos?(e={newPos:(s=n).newPos,components:s.components.slice(0)},h.pushComponent(e.components,void 0,!0)):((e=i).newPos++,h.pushComponent(e.components,!0,void 0)),o=h.extractCommon(e,u,l,t),e.newPos+1>=c&&d<=o+1)return rP(h,e.components,u,l);p[t]=e}else p[t]=void 0}var s;f++}for(;f<=e;){var r=a();if(r)return r}},pushComponent:function(t,e,i){var n=t[t.length-1];n&&n.added===e&&n.removed===i?t[t.length-1]={count:n.count+1,added:e,removed:i}:t.push({count:1,added:e,removed:i})},extractCommon:function(t,e,i,n){for(var o=e.length,a=i.length,r=t.newPos,s=r-n,l=0;r+1<o&&s+1<a&&this.equals(e[r+1],i[s+1]);)r++,s++,l++;return l&&t.components.push({count:l}),t.newPos=r,s},tokenize:function(t){return t.slice()},join:function(t){return t.slice()}};var sP=new aP;function lP(t,e,i,n,o){this._zrId=t,this._svgRoot=e,this._tagNames="string"==typeof i?[i]:i,this._markLabel=n,this._domName=o||"_dom",this.nextId=0}function uP(t,e){lP.call(this,t,e,["linearGradient","radialGradient"],"__gradient_in_use__")}function hP(t,e){lP.call(this,t,e,"clipPath","__clippath_in_use__")}function cP(t,e){lP.call(this,t,e,["filter"],"__filter_in_use__","_shadowDom")}function dP(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY||t.textShadowBlur||t.textShadowOffsetX||t.textShadowOffsetY)}function fP(t){return parseInt(t,10)}function pP(t,e){return e&&t&&e.parentNode!==t}function gP(t,e,i){if(pP(t,e)&&i){var n=i.nextSibling;n?t.insertBefore(e,n):t.appendChild(e)}}function mP(t,e){if(pP(t,e)){var i=t.firstChild;i?t.insertBefore(e,i):t.appendChild(e)}}function vP(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)}function yP(t){return t.__textSvgEl}function xP(t){return t.__svgEl}lP.prototype.createElement=Nk,lP.prototype.getDefs=function(t){var e=this._svgRoot,n=this._svgRoot.getElementsByTagName("defs");return 0===n.length?t?((n=e.insertBefore(this.createElement("defs"),e.firstChild)).contains||(n.contains=function(t){var e=n.children;if(!e)return!1;for(var i=e.length-1;0<=i;--i)if(e[i]===t)return!0;return!1}),n):null:n[0]},lP.prototype.update=function(t,e){if(t){var i=this.getDefs(!1);if(t[this._domName]&&i.contains(t[this._domName]))"function"==typeof e&&e(t);else{var n=this.add(t);n&&(t[this._domName]=n)}}},lP.prototype.addDom=function(t){this.getDefs(!0).appendChild(t)},lP.prototype.removeDom=function(t){var e=this.getDefs(!1);e&&t[this._domName]&&(e.removeChild(t[this._domName]),t[this._domName]=null)},lP.prototype.getDoms=function(){var i=this.getDefs(!1);if(!i)return[];var n=[];return E(this._tagNames,function(t){var e=i.getElementsByTagName(t);n=n.concat([].slice.call(e))}),n},lP.prototype.markAllUnused=function(){var t=this.getDoms(),e=this;E(t,function(t){t[e._markLabel]="0"})},lP.prototype.markUsed=function(t){t&&(t[this._markLabel]="1")},lP.prototype.removeUnused=function(){var e=this.getDefs(!1);if(e){var t=this.getDoms(),i=this;E(t,function(t){"1"!==t[i._markLabel]&&e.removeChild(t)})}},lP.prototype.getSvgProxy=function(t){return t instanceof Ar?qk:t instanceof Qn?Kk:t instanceof Ur?$k:qk},lP.prototype.getTextSvgElement=function(t){return t.__textSvgEl},lP.prototype.getSvgElement=function(t){return t.__svgEl},w(uP,lP),uP.prototype.addWithoutUpdate=function(a,r){if(r&&r.style){var s=this;E(["fill","stroke"],function(t){if(r.style[t]&&("linear"===r.style[t].type||"radial"===r.style[t].type)){var e,i=r.style[t],n=s.getDefs(!0);i._dom?(e=i._dom,n.contains(i._dom)||s.addDom(e)):e=s.add(i),s.markUsed(r);var o=e.getAttribute("id");a.setAttribute(t,"url(#"+o+")")}})}},uP.prototype.add=function(t){var e;if("linear"===t.type)e=this.createElement("linearGradient");else{if("radial"!==t.type)return vi("Illegal gradient type."),null;e=this.createElement("radialGradient")}return t.id=t.id||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-gradient-"+t.id),this.updateDom(t,e),this.addDom(e),e},uP.prototype.update=function(i){var n=this;lP.prototype.update.call(this,i,function(){var t=i.type,e=i._dom.tagName;"linear"===t&&"linearGradient"===e||"radial"===t&&"radialGradient"===e?n.updateDom(i,i._dom):(n.removeDom(i),n.add(i))})},uP.prototype.updateDom=function(t,e){if("linear"===t.type)e.setAttribute("x1",t.x),e.setAttribute("y1",t.y),e.setAttribute("x2",t.x2),e.setAttribute("y2",t.y2);else{if("radial"!==t.type)return void vi("Illegal gradient type.");e.setAttribute("cx",t.x),e.setAttribute("cy",t.y),e.setAttribute("r",t.r)}t.global?e.setAttribute("gradientUnits","userSpaceOnUse"):e.setAttribute("gradientUnits","objectBoundingBox"),e.innerHTML="";for(var i=t.colorStops,n=0,o=i.length;n<o;++n){var a=this.createElement("stop");a.setAttribute("offset",100*i[n].offset+"%");var r=i[n].color;if(r.indexOf(!1)){var s=Fe(r)[3],l=Ze(r);a.setAttribute("stop-color","#"+l),a.setAttribute("stop-opacity",s)}else a.setAttribute("stop-color",i[n].color);e.appendChild(a)}t._dom=e},uP.prototype.markUsed=function(t){if(t.style){var e=t.style.fill;e&&e._dom&&lP.prototype.markUsed.call(this,e._dom),(e=t.style.stroke)&&e._dom&&lP.prototype.markUsed.call(this,e._dom)}},w(hP,lP),hP.prototype.update=function(t){var e=this.getSvgElement(t);e&&this.updateDom(e,t.__clipPaths,!1);var i=this.getTextSvgElement(t);i&&this.updateDom(i,t.__clipPaths,!0),this.markUsed(t)},hP.prototype.updateDom=function(t,e,i){if(e&&0<e.length){var n,o,a=this.getDefs(!0),r=e[0],s=i?"_textDom":"_dom";r[s]?(o=r[s].getAttribute("id"),n=r[s],a.contains(n)||a.appendChild(n)):(o="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(n=this.createElement("clipPath")).setAttribute("id",o),a.appendChild(n),r[s]=n);var l=this.getSvgProxy(r);if(r.transform&&r.parent.invTransform&&!i){var u=Array.prototype.slice.call(r.transform);le(r.transform,r.parent.invTransform,r.transform),l.brush(r),r.transform=u}else l.brush(r);var h=this.getSvgElement(r);n.innerHTML="",n.appendChild(h.cloneNode()),t.setAttribute("clip-path","url(#"+o+")"),1<e.length&&this.updateDom(n,e.slice(1),i)}else t&&t.setAttribute("clip-path","none")},hP.prototype.markUsed=function(t){var e=this;t.__clipPaths&&E(t.__clipPaths,function(t){t._dom&&lP.prototype.markUsed.call(e,t._dom),t._textDom&&lP.prototype.markUsed.call(e,t._textDom)})},w(cP,lP),cP.prototype.addWithoutUpdate=function(t,e){if(e&&dP(e.style)){var i;if(e._shadowDom)i=e._shadowDom,this.getDefs(!0).contains(e._shadowDom)||this.addDom(i);else i=this.add(e);this.markUsed(e);var n=i.getAttribute("id");t.style.filter="url(#"+n+")"}},cP.prototype.add=function(t){var e=this.createElement("filter");return t._shadowDomId=t._shadowDomId||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-shadow-"+t._shadowDomId),this.updateDom(t,e),this.addDom(e),e},cP.prototype.update=function(t,e){if(dP(e.style)){var i=this;lP.prototype.update.call(this,e,function(){i.updateDom(e,e._shadowDom)})}else this.remove(t,e)},cP.prototype.remove=function(t,e){null!=e._shadowDomId&&(this.removeDom(t),t.style.filter="")},cP.prototype.updateDom=function(t,e){var i=e.getElementsByTagName("feDropShadow");i=0===i.length?this.createElement("feDropShadow"):i[0];var n,o,a,r,s=t.style,l=t.scale&&t.scale[0]||1,u=t.scale&&t.scale[1]||1;if(s.shadowBlur||s.shadowOffsetX||s.shadowOffsetY)n=s.shadowOffsetX||0,o=s.shadowOffsetY||0,a=s.shadowBlur,r=s.shadowColor;else{if(!s.textShadowBlur)return void this.removeDom(e,s);n=s.textShadowOffsetX||0,o=s.textShadowOffsetY||0,a=s.textShadowBlur,r=s.textShadowColor}i.setAttribute("dx",n/l),i.setAttribute("dy",o/u),i.setAttribute("flood-color",r);var h=a/2/l+" "+a/2/u;i.setAttribute("stdDeviation",h),e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width",Math.ceil(a/2*200)+"%"),e.setAttribute("height",Math.ceil(a/2*200)+"%"),e.appendChild(i),t._shadowDom=e},cP.prototype.markUsed=function(t){t._shadowDom&&lP.prototype.markUsed.call(this,t._shadowDom)};function _P(t,e,i,n){this.root=t,this.storage=e,this._opts=i=k({},i||{});var o=Nk("svg");o.setAttribute("xmlns","http://www.w3.org/2000/svg"),o.setAttribute("version","1.1"),o.setAttribute("baseProfile","full"),o.style.cssText="user-select:none;position:absolute;left:0;top:0;",this.gradientManager=new uP(n,o),this.clipPathManager=new hP(n,o),this.shadowManager=new cP(n,o);var a=document.createElement("div");a.style.cssText="overflow:hidden;position:relative",this._svgRoot=o,this._viewport=a,t.appendChild(a),a.appendChild(o),this.resize(i.width,i.height),this._visibleList=[]}_P.prototype={constructor:_P,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0);this._paintList(t)},setBackgroundColor:function(t){this._viewport.style.background=t},_paintList:function(t){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var e,i,n=this._svgRoot,o=this._visibleList,a=t.length,r=[];for(e=0;e<a;e++){var s=t[e],l=(i=s)instanceof Ar?qk:i instanceof Qn?Kk:i instanceof Ur?$k:qk,u=xP(s)||yP(s);s.invisible||(s.__dirty&&(l&&l.brush(s),this.clipPathManager.update(s),s.style&&(this.gradientManager.update(s.style.fill),this.gradientManager.update(s.style.stroke),this.shadowManager.update(u,s)),s.__dirty=!1),r.push(s))}var h,c=function(t,e,i){return sP.diff(t,e,i)}(o,r);for(e=0;e<c.length;e++){if((p=c[e]).removed)for(var d=0;d<p.count;d++){u=xP(s=o[p.indices[d]]);var f=yP(s);vP(n,u),vP(n,f)}}for(e=0;e<c.length;e++){var p;if((p=c[e]).added)for(d=0;d<p.count;d++){u=xP(s=r[p.indices[d]]),f=yP(s);h?gP(n,u,h):mP(n,u),u?gP(n,f,u):h?gP(n,f,h):mP(n,f),gP(n,f,u),h=f||u||h,this.gradientManager.addWithoutUpdate(u||f,s),this.shadowManager.addWithoutUpdate(u||f,s),this.clipPathManager.markUsed(s)}else if(!p.removed)for(d=0;d<p.count;d++){u=xP(s=r[p.indices[d]]),f=yP(s),u=xP(s),f=yP(s);this.gradientManager.markUsed(s),this.gradientManager.addWithoutUpdate(u||f,s),this.shadowManager.markUsed(s),this.shadowManager.addWithoutUpdate(u||f,s),this.clipPathManager.markUsed(s),f&&gP(n,f,u),h=u||f||h}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=r},_getDefs:function(t){var n,e=this._svgRoot;return 0!==(n=this._svgRoot.getElementsByTagName("defs")).length?n[0]:t?((n=e.insertBefore(Nk("defs"),e.firstChild)).contains||(n.contains=function(t){var e=n.children;if(!e)return!1;for(var i=e.length-1;0<=i;--i)if(e[i]===t)return!0;return!1}),n):null},resize:function(t,e){var i=this._viewport;i.style.display="none";var n=this._opts;if(null!=t&&(n.width=t),null!=e&&(n.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display="",this._width!==t||this._height!==e){this._width=t,this._height=e;var o=i.style;o.width=t+"px",o.height=e+"px";var a=this._svgRoot;a.setAttribute("width",t),a.setAttribute("height",e)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,i=["width","height"][t],n=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],a=["paddingRight","paddingBottom"][t];if(null!=e[i]&&"auto"!==e[i])return parseFloat(e[i]);var r=this.root,s=document.defaultView.getComputedStyle(r);return(r[n]||fP(s[i])||fP(r.style[i]))-(fP(s[o])||0)-(fP(s[a])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToDataUrl:function(){return this.refresh(),"data:image/svg+xml;charset=UTF-8,"+this._svgRoot.outerHTML}},E(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){_P.prototype[t]=function(t){return function(){vi('In SVG mode painter not support method "'+t+'"')}}(t)}),Po("svg",_P),t.version="4.7.0",t.dependencies={zrender:"4.3.0"},t.PRIORITY=Cd,t.init=function(t,e,i){var n=gf(t);if(n)return n;var o=new Ed(t,e,i);return o.id="ec_"+hf++,lf[o.id]=o,Jo(t,df,o.id),function(n){var o="__connectUpdateStatus";function a(t,e){for(var i=0;i<t.length;i++){t[i][o]=e}}Id(tf,function(t,e){n._messageCenter.on(e,function(t){if(uf[n.group]&&0!==n[o]){if(t&&t.escapeConnect)return;var e=n.makeActionFromEvent(t),i=[];Id(lf,function(t){t!==n&&t.group===n.group&&i.push(t)}),a(i,0),Id(i,function(t){1!==t[o]&&t.dispatchAction(e)}),a(i,2)}})})}(o),o},t.connect=function(e){if(O(e)){var t=e;e=null,Id(t,function(t){null!=t.group&&(e=t.group)}),e=e||"g_"+cf++,Id(t,function(t){t.group=e})}return uf[e]=!0,e},t.disConnect=ff,t.disconnect=pf,t.dispose=function(t){"string"==typeof t?t=lf[t]:t instanceof Ed||(t=gf(t)),t instanceof Ed&&!t.isDisposed()&&t.dispose()},t.getInstanceByDom=gf,t.getInstanceById=function(t){return lf[t]},t.registerTheme=mf,t.registerPreprocessor=vf,t.registerProcessor=yf,t.registerPostUpdate=function(t){of.push(t)},t.registerAction=xf,t.registerCoordinateSystem=_f,t.getCoordinateSystemDimensions=function(t){var e=sh.get(t);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()},t.registerLayout=wf,t.registerVisual=bf,t.registerLoading=Mf,t.extendComponentModel=If,t.extendComponentView=Tf,t.extendSeriesModel=Af,t.extendChartView=Df,t.setCanvasCreator=function(t){f("createCanvas",t)},t.registerMap=function(t,e,i){bd.registerMap(t,e,i)},t.getMap=function(t){var e=bd.retrieveMap(t);return e&&e[0]&&{geoJson:e[0].geoJSON,specialAreas:e[0].specialAreas}},t.dataTool={},t.zrender=Oo,t.number=Ql,t.format=gu,t.throttle=Cc,t.helper=bg,t.matrix=pe,t.vector=It,t.color=Je,t.parseGeoJSON=Dg,t.parseGeoJson=Fg,t.util=Wg,t.graphic=Hg,t.List=Xf,t.Model=Cl,t.Axis=Vg,t.env=v});

;
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/


!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("echarts")):"function"==typeof define&&define.amd?define(["exports","echarts"],e):e(t.bmap={},t.echarts)}(this,function(t,o){"use strict";function l(t,e){this._bmap=t,this.dimensions=["lng","lat"],this._mapOffset=[0,0],this._api=e,this._projection=new BMap.MercatorProjection}function n(a,r){return r=r||[0,0],o.util.map([0,1],function(t){var e=r[t],o=a[t]/2,n=[],i=[];return n[t]=e-o,i[t]=e+o,n[1-t]=i[1-t]=r[1-t],Math.abs(this.dataToPoint(n)[t]-this.dataToPoint(i)[t])},this)}var f;l.prototype.dimensions=["lng","lat"],l.prototype.setZoom=function(t){this._zoom=t},l.prototype.setCenter=function(t){this._center=this._projection.lngLatToPoint(new BMap.Point(t[0],t[1]))},l.prototype.setMapOffset=function(t){this._mapOffset=t},l.prototype.getBMap=function(){return this._bmap},l.prototype.dataToPoint=function(t){var e=new BMap.Point(t[0],t[1]),o=this._bmap.pointToOverlayPixel(e),n=this._mapOffset;return[o.x-n[0],o.y-n[1]]},l.prototype.pointToData=function(t){var e=this._mapOffset;return[(t=this._bmap.overlayPixelToPoint({x:t[0]+e[0],y:t[1]+e[1]})).lng,t.lat]},l.prototype.getViewRect=function(){var t=this._api;return new o.graphic.BoundingRect(0,0,t.getWidth(),t.getHeight())},l.prototype.getRoamTransform=function(){return o.matrix.create()},l.prototype.prepareCustoms=function(t){var e=this.getViewRect();return{coordSys:{type:"bmap",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:o.util.bind(this.dataToPoint,this),size:o.util.bind(n,this)}}},l.dimensions=l.prototype.dimensions,l.create=function(t,m){var c,d=m.getDom();t.eachComponent("bmap",function(t){var e=m.getZr().painter,o=e.getViewportRoot();if("undefined"==typeof BMap)throw new Error("BMap api is not loaded");if(f=f||function(){function t(t){this._root=t}return(t.prototype=new BMap.Overlay).initialize=function(t){return t.getPanes().labelPane.appendChild(this._root),this._root},t.prototype.draw=function(){},t}(),c)throw new Error("Only one bmap component can exist");if(!t.__bmap){var n=d.querySelector(".ec-extension-bmap");n&&(o.style.left="0px",o.style.top="0px",d.removeChild(n)),(n=document.createElement("div")).style.cssText="width:100%;height:100%",n.classList.add("ec-extension-bmap"),d.appendChild(n);var i=t.__bmap=new BMap.Map(n),a=new f(o);i.addOverlay(a),e.getViewportRootOffset=function(){return{offsetLeft:0,offsetTop:0}}}i=t.__bmap;var r=t.get("center"),p=t.get("zoom");if(r&&p){var s=new BMap.Point(r[0],r[1]);i.centerAndZoom(s,p)}(c=new l(i,m)).setMapOffset(t.__mapOffset||[0,0]),c.setZoom(p),c.setCenter(r),t.coordinateSystem=c}),t.eachSeries(function(t){"bmap"===t.get("coordinateSystem")&&(t.coordinateSystem=c)})},o.extendComponentModel({type:"bmap",getBMap:function(){return this.__bmap},setCenterAndZoom:function(t,e){this.option.center=t,this.option.zoom=e},centerOrZoomChanged:function(t,e){var o=this.option;return!(function(t,e){return t&&e&&t[0]===e[0]&&t[1]===e[1]}(t,o.center)&&e===o.zoom)},defaultOption:{center:[104.114129,37.550339],zoom:5,mapStyle:{},mapStyleV2:{},roam:!1}}),o.extendComponentView({type:"bmap",render:function(i,t,a){function e(t,e){if(!r){var o=p.parentNode.parentNode.parentNode,n=[-parseInt(o.style.left,10)||0,-parseInt(o.style.top,10)||0];p.style.left=n[0]+"px",p.style.top=n[1]+"px",s.setMapOffset(n),i.__mapOffset=n,a.dispatchAction({type:"bmapRoam"})}}var r=!0,o=i.getBMap(),p=a.getZr().painter.getViewportRoot(),s=i.coordinateSystem;function n(){r||a.dispatchAction({type:"bmapRoam"})}o.removeEventListener("moving",this._oldMoveHandler),o.removeEventListener("zoomend",this._oldZoomEndHandler),o.addEventListener("moving",e),o.addEventListener("zoomend",n),this._oldMoveHandler=e,this._oldZoomEndHandler=n;var m=i.get("roam");m&&"scale"!==m?o.enableDragging():o.disableDragging(),m&&"move"!==m?(o.enableScrollWheelZoom(),o.enableDoubleClickZoom(),o.enablePinchToZoom()):(o.disableScrollWheelZoom(),o.disableDoubleClickZoom(),o.disablePinchToZoom());var c=i.__mapStyle,d=i.get("mapStyle")||{},l=JSON.stringify(d);JSON.stringify(c)!==l&&(Object.keys(d).length&&o.setMapStyle(d),i.__mapStyle=JSON.parse(l));var f=i.__mapStyle2,h=i.get("mapStyleV2")||{},u=JSON.stringify(h);JSON.stringify(f)!==u&&(Object.keys(h).length&&o.setMapStyleV2(h),i.__mapStyle2=JSON.parse(u)),r=!1}}),o.registerCoordinateSystem("bmap",l),o.registerAction({type:"bmapRoam",event:"bmapRoam",update:"updateLayout"},function(t,e){e.eachComponent("bmap",function(t){var e=t.getBMap(),o=e.getCenter();t.setCenterAndZoom([o.lng,o.lat],e.getZoom())})});t.version="1.0.0"});

;/*!
 * Chart.js
 * http://chartjs.org/
 * Version: 2.7.1
 *
 * Copyright 2017 Nick Downie
 * Released under the MIT license
 * https://github.com/chartjs/Chart.js/blob/master/LICENSE.md
 */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Chart=t()}}(function(){return function t(e,n,i){function a(r,l){if(!n[r]){if(!e[r]){var s="function"==typeof require&&require;if(!l&&s)return s(r,!0);if(o)return o(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[r]={exports:{}};e[r][0].call(d.exports,function(t){var n=e[r][1][t];return a(n||t)},d,d.exports,t,e,n,i)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<i.length;r++)a(i[r]);return a}({1:[function(t,e,n){},{}],2:[function(t,e,n){function i(t){if(t){var e=[0,0,0],n=1,i=t.match(/^#([a-fA-F0-9]{3})$/i);if(i){i=i[1];for(a=0;a<e.length;a++)e[a]=parseInt(i[a]+i[a],16)}else if(i=t.match(/^#([a-fA-F0-9]{6})$/i)){i=i[1];for(a=0;a<e.length;a++)e[a]=parseInt(i.slice(2*a,2*a+2),16)}else if(i=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(a=0;a<e.length;a++)e[a]=parseInt(i[a+1]);n=parseFloat(i[4])}else if(i=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(a=0;a<e.length;a++)e[a]=Math.round(2.55*parseFloat(i[a+1]));n=parseFloat(i[4])}else if(i=t.match(/(\w+)/)){if("transparent"==i[1])return[0,0,0,0];if(!(e=c[i[1]]))return}for(var a=0;a<e.length;a++)e[a]=u(e[a],0,255);return n=n||0==n?u(n,0,1):1,e[3]=n,e}}function a(t){if(t){var e=t.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var n=parseFloat(e[4]);return[u(parseInt(e[1]),0,360),u(parseFloat(e[2]),0,100),u(parseFloat(e[3]),0,100),u(isNaN(n)?1:n,0,1)]}}}function o(t){if(t){var e=t.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var n=parseFloat(e[4]);return[u(parseInt(e[1]),0,360),u(parseFloat(e[2]),0,100),u(parseFloat(e[3]),0,100),u(isNaN(n)?1:n,0,1)]}}}function r(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function l(t,e){return"rgba("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%, "+(e||t[3]||1)+")"}function s(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function u(t,e,n){return Math.min(Math.max(e,t),n)}function d(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var c=t(6);e.exports={getRgba:i,getHsla:a,getRgb:function(t){var e=i(t);return e&&e.slice(0,3)},getHsl:function(t){var e=a(t);return e&&e.slice(0,3)},getHwb:o,getAlpha:function(t){var e=i(t);return e?e[3]:(e=a(t))?e[3]:(e=o(t))?e[3]:void 0},hexString:function(t){return"#"+d(t[0])+d(t[1])+d(t[2])},rgbString:function(t,e){return e<1||t[3]&&t[3]<1?r(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"},rgbaString:r,percentString:function(t,e){return e<1||t[3]&&t[3]<1?l(t,e):"rgb("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%)"},percentaString:l,hslString:function(t,e){return e<1||t[3]&&t[3]<1?s(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"},hslaString:s,hwbString:function(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"},keyword:function(t){return h[t.slice(0,3)]}};var h={};for(var f in c)h[c[f]]=f},{6:6}],3:[function(t,e,n){var i=t(5),a=t(2),o=function(t){if(t instanceof o)return t;if(!(this instanceof o))return new o(t);this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var e;"string"==typeof t?(e=a.getRgba(t))?this.setValues("rgb",e):(e=a.getHsla(t))?this.setValues("hsl",e):(e=a.getHwb(t))&&this.setValues("hwb",e):"object"==typeof t&&(void 0!==(e=t).r||void 0!==e.red?this.setValues("rgb",e):void 0!==e.l||void 0!==e.lightness?this.setValues("hsl",e):void 0!==e.v||void 0!==e.value?this.setValues("hsv",e):void 0!==e.w||void 0!==e.whiteness?this.setValues("hwb",e):void 0===e.c&&void 0===e.cyan||this.setValues("cmyk",e))};o.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t=(t%=360)<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return a.hexString(this.values.rgb)},rgbString:function(){return a.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return a.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return a.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return a.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return a.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return a.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return a.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],n=0;n<t.length;n++){var i=t[n]/255;e[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,n=(e[0]+t)%360;return e[0]=n<0?360+n:n,this.setValues("hsl",e),this},mix:function(t,e){var n=this,i=t,a=void 0===e?.5:e,o=2*a-1,r=n.alpha()-i.alpha(),l=((o*r==-1?o:(o+r)/(1+o*r))+1)/2,s=1-l;return this.rgb(l*n.red()+s*i.red(),l*n.green()+s*i.green(),l*n.blue()+s*i.blue()).alpha(n.alpha()*a+i.alpha()*(1-a))},toJSON:function(){return this.rgb()},clone:function(){var t,e,n=new o,i=this.values,a=n.values;for(var r in i)i.hasOwnProperty(r)&&(t=i[r],"[object Array]"===(e={}.toString.call(t))?a[r]=t.slice(0):"[object Number]"===e?a[r]=t:console.error("unexpected color value:",t));return n}},o.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},o.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},o.prototype.getValues=function(t){for(var e=this.values,n={},i=0;i<t.length;i++)n[t.charAt(i)]=e[t][i];return 1!==e.alpha&&(n.a=e.alpha),n},o.prototype.setValues=function(t,e){var n,a=this.values,o=this.spaces,r=this.maxes,l=1;if(this.valid=!0,"alpha"===t)l=e;else if(e.length)a[t]=e.slice(0,t.length),l=e[t.length];else if(void 0!==e[t.charAt(0)]){for(n=0;n<t.length;n++)a[t][n]=e[t.charAt(n)];l=e.a}else if(void 0!==e[o[t][0]]){var s=o[t];for(n=0;n<t.length;n++)a[t][n]=e[s[n]];l=e.alpha}if(a.alpha=Math.max(0,Math.min(1,void 0===l?a.alpha:l)),"alpha"===t)return!1;var u;for(n=0;n<t.length;n++)u=Math.max(0,Math.min(r[t][n],a[t][n])),a[t][n]=Math.round(u);for(var d in o)d!==t&&(a[d]=i[t][d](a[t]));return!0},o.prototype.setSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n),this)},o.prototype.setChannel=function(t,e,n){var i=this.values[t];return void 0===n?i[e]:n===i[e]?this:(i[e]=n,this.setValues(t,i),this)},"undefined"!=typeof window&&(window.Color=o),e.exports=o},{2:2,5:5}],4:[function(t,e,n){function i(t){var e,n,i,a=t[0]/255,o=t[1]/255,r=t[2]/255,l=Math.min(a,o,r),s=Math.max(a,o,r),u=s-l;return s==l?e=0:a==s?e=(o-r)/u:o==s?e=2+(r-a)/u:r==s&&(e=4+(a-o)/u),(e=Math.min(60*e,360))<0&&(e+=360),i=(l+s)/2,n=s==l?0:i<=.5?u/(s+l):u/(2-s-l),[e,100*n,100*i]}function a(t){var e,n,i,a=t[0],o=t[1],r=t[2],l=Math.min(a,o,r),s=Math.max(a,o,r),u=s-l;return n=0==s?0:u/s*1e3/10,s==l?e=0:a==s?e=(o-r)/u:o==s?e=2+(r-a)/u:r==s&&(e=4+(a-o)/u),(e=Math.min(60*e,360))<0&&(e+=360),i=s/255*1e3/10,[e,n,i]}function o(t){var e=t[0],n=t[1],a=t[2];return[i(t)[0],100*(1/255*Math.min(e,Math.min(n,a))),100*(a=1-1/255*Math.max(e,Math.max(n,a)))]}function l(t){var e,n,i,a,o=t[0]/255,r=t[1]/255,l=t[2]/255;return a=Math.min(1-o,1-r,1-l),e=(1-o-a)/(1-a)||0,n=(1-r-a)/(1-a)||0,i=(1-l-a)/(1-a)||0,[100*e,100*n,100*i,100*a]}function s(t){return C[JSON.stringify(t)]}function u(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*e+.7152*n+.0722*i),100*(.0193*e+.1192*n+.9505*i)]}function d(t){var e,n,i,a=u(t),o=a[0],r=a[1],l=a[2];return o/=95.047,r/=100,l/=108.883,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,l=l>.008856?Math.pow(l,1/3):7.787*l+16/116,e=116*r-16,n=500*(o-r),i=200*(r-l),[e,n,i]}function c(t){var e,n,i,a,o,r=t[0]/360,l=t[1]/100,s=t[2]/100;if(0==l)return o=255*s,[o,o,o];e=2*s-(n=s<.5?s*(1+l):s+l-s*l),a=[0,0,0];for(var u=0;u<3;u++)(i=r+1/3*-(u-1))<0&&i++,i>1&&i--,o=6*i<1?e+6*(n-e)*i:2*i<1?n:3*i<2?e+(n-e)*(2/3-i)*6:e,a[u]=255*o;return a}function h(t){var e=t[0]/60,n=t[1]/100,i=t[2]/100,a=Math.floor(e)%6,o=e-Math.floor(e),r=255*i*(1-n),l=255*i*(1-n*o),s=255*i*(1-n*(1-o)),i=255*i;switch(a){case 0:return[i,s,r];case 1:return[l,i,r];case 2:return[r,i,s];case 3:return[r,l,i];case 4:return[s,r,i];case 5:return[i,r,l]}}function f(t){var e,n,i,a,o=t[0]/360,l=t[1]/100,s=t[2]/100,u=l+s;switch(u>1&&(l/=u,s/=u),e=Math.floor(6*o),n=1-s,i=6*o-e,0!=(1&e)&&(i=1-i),a=l+i*(n-l),e){default:case 6:case 0:r=n,g=a,b=l;break;case 1:r=a,g=n,b=l;break;case 2:r=l,g=n,b=a;break;case 3:r=l,g=a,b=n;break;case 4:r=a,g=l,b=n;break;case 5:r=n,g=l,b=a}return[255*r,255*g,255*b]}function p(t){var e,n,i,a=t[0]/100,o=t[1]/100,r=t[2]/100,l=t[3]/100;return e=1-Math.min(1,a*(1-l)+l),n=1-Math.min(1,o*(1-l)+l),i=1-Math.min(1,r*(1-l)+l),[255*e,255*n,255*i]}function v(t){var e,n,i,a=t[0]/100,o=t[1]/100,r=t[2]/100;return e=3.2406*a+-1.5372*o+-.4986*r,n=-.9689*a+1.8758*o+.0415*r,i=.0557*a+-.204*o+1.057*r,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:e*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,e=Math.min(Math.max(0,e),1),n=Math.min(Math.max(0,n),1),i=Math.min(Math.max(0,i),1),[255*e,255*n,255*i]}function m(t){var e,n,i,a=t[0],o=t[1],r=t[2];return a/=95.047,o/=100,r/=108.883,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,e=116*o-16,n=500*(a-o),i=200*(o-r),[e,n,i]}function x(t){var e,n,i,a,o=t[0],r=t[1],l=t[2];return o<=8?a=(n=100*o/903.3)/100*7.787+16/116:(n=100*Math.pow((o+16)/116,3),a=Math.pow(n/100,1/3)),e=e/95.047<=.008856?e=95.047*(r/500+a-16/116)/7.787:95.047*Math.pow(r/500+a,3),i=i/108.883<=.008859?i=108.883*(a-l/200-16/116)/7.787:108.883*Math.pow(a-l/200,3),[e,n,i]}function y(t){var e,n,i,a=t[0],o=t[1],r=t[2];return e=Math.atan2(r,o),(n=360*e/2/Math.PI)<0&&(n+=360),i=Math.sqrt(o*o+r*r),[a,i,n]}function k(t){return v(x(t))}function w(t){var e,n,i,a=t[0],o=t[1];return i=t[2]/360*2*Math.PI,e=o*Math.cos(i),n=o*Math.sin(i),[a,e,n]}function M(t){return S[t]}e.exports={rgb2hsl:i,rgb2hsv:a,rgb2hwb:o,rgb2cmyk:l,rgb2keyword:s,rgb2xyz:u,rgb2lab:d,rgb2lch:function(t){return y(d(t))},hsl2rgb:c,hsl2hsv:function(t){var e,n,i=t[0],a=t[1]/100,o=t[2]/100;return 0===o?[0,0,0]:(o*=2,a*=o<=1?o:2-o,n=(o+a)/2,e=2*a/(o+a),[i,100*e,100*n])},hsl2hwb:function(t){return o(c(t))},hsl2cmyk:function(t){return l(c(t))},hsl2keyword:function(t){return s(c(t))},hsv2rgb:h,hsv2hsl:function(t){var e,n,i=t[0],a=t[1]/100,o=t[2]/100;return n=(2-a)*o,e=a*o,e/=n<=1?n:2-n,e=e||0,n/=2,[i,100*e,100*n]},hsv2hwb:function(t){return o(h(t))},hsv2cmyk:function(t){return l(h(t))},hsv2keyword:function(t){return s(h(t))},hwb2rgb:f,hwb2hsl:function(t){return i(f(t))},hwb2hsv:function(t){return a(f(t))},hwb2cmyk:function(t){return l(f(t))},hwb2keyword:function(t){return s(f(t))},cmyk2rgb:p,cmyk2hsl:function(t){return i(p(t))},cmyk2hsv:function(t){return a(p(t))},cmyk2hwb:function(t){return o(p(t))},cmyk2keyword:function(t){return s(p(t))},keyword2rgb:M,keyword2hsl:function(t){return i(M(t))},keyword2hsv:function(t){return a(M(t))},keyword2hwb:function(t){return o(M(t))},keyword2cmyk:function(t){return l(M(t))},keyword2lab:function(t){return d(M(t))},keyword2xyz:function(t){return u(M(t))},xyz2rgb:v,xyz2lab:m,xyz2lch:function(t){return y(m(t))},lab2xyz:x,lab2rgb:k,lab2lch:y,lch2lab:w,lch2xyz:function(t){return x(w(t))},lch2rgb:function(t){return k(w(t))}};var S={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},C={};for(var _ in S)C[JSON.stringify(S[_])]=_},{}],5:[function(t,e,n){var i=t(4),a=function(){return new u};for(var o in i){a[o+"Raw"]=function(t){return function(e){return"number"==typeof e&&(e=Array.prototype.slice.call(arguments)),i[t](e)}}(o);var r=/(\w+)2(\w+)/.exec(o),l=r[1],s=r[2];(a[l]=a[l]||{})[s]=a[o]=function(t){return function(e){"number"==typeof e&&(e=Array.prototype.slice.call(arguments));var n=i[t](e);if("string"==typeof n||void 0===n)return n;for(var a=0;a<n.length;a++)n[a]=Math.round(n[a]);return n}}(o)}var u=function(){this.convs={}};u.prototype.routeSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n))},u.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},u.prototype.getValues=function(t){var e=this.convs[t];if(!e){var n=this.space,i=this.convs[n];e=a[n][t](i),this.convs[t]=e}return e},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(t){u.prototype[t]=function(e){return this.routeSpace(t,arguments)}}),e.exports=a},{4:4}],6:[function(t,e,n){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],7:[function(t,e,n){var i=t(29)();i.helpers=t(45),t(27)(i),i.defaults=t(25),i.Element=t(26),i.elements=t(40),i.Interaction=t(28),i.platform=t(48),t(31)(i),t(22)(i),t(23)(i),t(24)(i),t(30)(i),t(33)(i),t(32)(i),t(35)(i),t(54)(i),t(52)(i),t(53)(i),t(55)(i),t(56)(i),t(57)(i),t(15)(i),t(16)(i),t(17)(i),t(18)(i),t(19)(i),t(20)(i),t(21)(i),t(8)(i),t(9)(i),t(10)(i),t(11)(i),t(12)(i),t(13)(i),t(14)(i);var a=[];a.push(t(49)(i),t(50)(i),t(51)(i)),i.plugins.register(a),i.platform.initialize(),e.exports=i,"undefined"!=typeof window&&(window.Chart=i),i.canvasHelpers=i.helpers.canvas},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,35:35,40:40,45:45,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,8:8,9:9}],8:[function(t,e,n){"use strict";e.exports=function(t){t.Bar=function(e,n){return n.type="bar",new t(e,n)}}},{}],9:[function(t,e,n){"use strict";e.exports=function(t){t.Bubble=function(e,n){return n.type="bubble",new t(e,n)}}},{}],10:[function(t,e,n){"use strict";e.exports=function(t){t.Doughnut=function(e,n){return n.type="doughnut",new t(e,n)}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t){t.Line=function(e,n){return n.type="line",new t(e,n)}}},{}],12:[function(t,e,n){"use strict";e.exports=function(t){t.PolarArea=function(e,n){return n.type="polarArea",new t(e,n)}}},{}],13:[function(t,e,n){"use strict";e.exports=function(t){t.Radar=function(e,n){return n.type="radar",new t(e,n)}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t){t.Scatter=function(e,n){return n.type="scatter",new t(e,n)}}},{}],15:[function(t,e,n){"use strict";var i=t(25),a=t(40),o=t(45);i._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),i._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(t,e){var n="";return t.length>0&&(t[0].yLabel?n=t[0].yLabel:e.labels.length>0&&t[0].index<e.labels.length&&(n=e.labels[t[0].index])),n},label:function(t,e){return(e.datasets[t.datasetIndex].label||"")+": "+t.xLabel}},mode:"index",axis:"y"}}),e.exports=function(t){t.controllers.bar=t.DatasetController.extend({dataElementType:a.Rectangle,initialize:function(){var e,n=this;t.DatasetController.prototype.initialize.apply(n,arguments),(e=n.getMeta()).stack=n.getDataset().stack,e.bar=!0},update:function(t){var e,n,i=this,a=i.getMeta().data;for(i._ruler=i.getRuler(),e=0,n=a.length;e<n;++e)i.updateElement(a[e],e,t)},updateElement:function(t,e,n){var i=this,a=i.chart,r=i.getMeta(),l=i.getDataset(),s=t.custom||{},u=a.options.elements.rectangle;t._xScale=i.getScaleForId(r.xAxisID),t._yScale=i.getScaleForId(r.yAxisID),t._datasetIndex=i.index,t._index=e,t._model={datasetLabel:l.label,label:a.data.labels[e],borderSkipped:s.borderSkipped?s.borderSkipped:u.borderSkipped,backgroundColor:s.backgroundColor?s.backgroundColor:o.valueAtIndexOrDefault(l.backgroundColor,e,u.backgroundColor),borderColor:s.borderColor?s.borderColor:o.valueAtIndexOrDefault(l.borderColor,e,u.borderColor),borderWidth:s.borderWidth?s.borderWidth:o.valueAtIndexOrDefault(l.borderWidth,e,u.borderWidth)},i.updateElementGeometry(t,e,n),t.pivot()},updateElementGeometry:function(t,e,n){var i=this,a=t._model,o=i.getValueScale(),r=o.getBasePixel(),l=o.isHorizontal(),s=i._ruler||i.getRuler(),u=i.calculateBarValuePixels(i.index,e),d=i.calculateBarIndexPixels(i.index,e,s);a.horizontal=l,a.base=n?r:u.base,a.x=l?n?r:u.head:d.center,a.y=l?d.center:n?r:u.head,a.height=l?d.size:void 0,a.width=l?void 0:d.size},getValueScaleId:function(){return this.getMeta().yAxisID},getIndexScaleId:function(){return this.getMeta().xAxisID},getValueScale:function(){return this.getScaleForId(this.getValueScaleId())},getIndexScale:function(){return this.getScaleForId(this.getIndexScaleId())},getStackCount:function(t){var e,n,i=this,a=i.chart,o=i.getIndexScale().options.stacked,r=void 0===t?a.data.datasets.length:t+1,l=[];for(e=0;e<r;++e)(n=a.getDatasetMeta(e)).bar&&a.isDatasetVisible(e)&&(!1===o||!0===o&&-1===l.indexOf(n.stack)||void 0===o&&(void 0===n.stack||-1===l.indexOf(n.stack)))&&l.push(n.stack);return l.length},getStackIndex:function(t){return this.getStackCount(t)-1},getRuler:function(){var t,e,n=this,i=n.getIndexScale(),a=n.getStackCount(),o=n.index,r=[],l=i.isHorizontal(),s=l?i.left:i.top,u=s+(l?i.width:i.height);for(t=0,e=n.getMeta().data.length;t<e;++t)r.push(i.getPixelForValue(null,t,o));return{pixels:r,start:s,end:u,stackCount:a,scale:i}},calculateBarValuePixels:function(t,e){var n,i,a,o,r,l,s=this,u=s.chart,d=s.getMeta(),c=s.getValueScale(),h=u.data.datasets,f=c.getRightValue(h[t].data[e]),g=c.options.stacked,p=d.stack,v=0;if(g||void 0===g&&void 0!==p)for(n=0;n<t;++n)(i=u.getDatasetMeta(n)).bar&&i.stack===p&&i.controller.getValueScaleId()===c.id&&u.isDatasetVisible(n)&&(a=c.getRightValue(h[n].data[e]),(f<0&&a<0||f>=0&&a>0)&&(v+=a));return o=c.getPixelForValue(v),r=c.getPixelForValue(v+f),l=(r-o)/2,{size:l,base:o,head:r,center:r+l/2}},calculateBarIndexPixels:function(t,e,n){var i,a,r,l,s,u,d=this,c=n.scale.options,h=d.getStackIndex(t),f=n.pixels,g=f[e],p=f.length,v=n.start,m=n.end;return 1===p?(i=g>v?g-v:m-g,a=g<m?m-g:g-v):(e>0&&(i=(g-f[e-1])/2,e===p-1&&(a=i)),e<p-1&&(a=(f[e+1]-g)/2,0===e&&(i=a))),r=i*c.categoryPercentage,l=a*c.categoryPercentage,s=(r+l)/n.stackCount,u=s*c.barPercentage,u=Math.min(o.valueOrDefault(c.barThickness,u),o.valueOrDefault(c.maxBarThickness,1/0)),g-=r,g+=s*h,g+=(s-u)/2,{size:u,base:g,head:g+u,center:g+u/2}},draw:function(){var t=this,e=t.chart,n=t.getValueScale(),i=t.getMeta().data,a=t.getDataset(),r=i.length,l=0;for(o.canvas.clipArea(e.ctx,e.chartArea);l<r;++l)isNaN(n.getRightValue(a.data[l]))||i[l].draw();o.canvas.unclipArea(e.ctx)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,i=t.custom||{},a=t._model;a.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:o.valueAtIndexOrDefault(e.hoverBackgroundColor,n,o.getHoverColor(a.backgroundColor)),a.borderColor=i.hoverBorderColor?i.hoverBorderColor:o.valueAtIndexOrDefault(e.hoverBorderColor,n,o.getHoverColor(a.borderColor)),a.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:o.valueAtIndexOrDefault(e.hoverBorderWidth,n,a.borderWidth)},removeHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,i=t.custom||{},a=t._model,r=this.chart.options.elements.rectangle;a.backgroundColor=i.backgroundColor?i.backgroundColor:o.valueAtIndexOrDefault(e.backgroundColor,n,r.backgroundColor),a.borderColor=i.borderColor?i.borderColor:o.valueAtIndexOrDefault(e.borderColor,n,r.borderColor),a.borderWidth=i.borderWidth?i.borderWidth:o.valueAtIndexOrDefault(e.borderWidth,n,r.borderWidth)}}),t.controllers.horizontalBar=t.controllers.bar.extend({getValueScaleId:function(){return this.getMeta().xAxisID},getIndexScaleId:function(){return this.getMeta().yAxisID}})}},{25:25,40:40,45:45}],16:[function(t,e,n){"use strict";var i=t(25),a=t(40),o=t(45);i._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){var n=e.datasets[t.datasetIndex].label||"",i=e.datasets[t.datasetIndex].data[t.index];return n+": ("+t.xLabel+", "+t.yLabel+", "+i.r+")"}}}}),e.exports=function(t){t.controllers.bubble=t.DatasetController.extend({dataElementType:a.Point,update:function(t){var e=this,n=e.getMeta().data;o.each(n,function(n,i){e.updateElement(n,i,t)})},updateElement:function(t,e,n){var i=this,a=i.getMeta(),o=t.custom||{},r=i.getScaleForId(a.xAxisID),l=i.getScaleForId(a.yAxisID),s=i._resolveElementOptions(t,e),u=i.getDataset().data[e],d=i.index,c=n?r.getPixelForDecimal(.5):r.getPixelForValue("object"==typeof u?u:NaN,e,d),h=n?l.getBasePixel():l.getPixelForValue(u,e,d);t._xScale=r,t._yScale=l,t._options=s,t._datasetIndex=d,t._index=e,t._model={backgroundColor:s.backgroundColor,borderColor:s.borderColor,borderWidth:s.borderWidth,hitRadius:s.hitRadius,pointStyle:s.pointStyle,radius:n?0:s.radius,skip:o.skip||isNaN(c)||isNaN(h),x:c,y:h},t.pivot()},setHoverStyle:function(t){var e=t._model,n=t._options;e.backgroundColor=o.valueOrDefault(n.hoverBackgroundColor,o.getHoverColor(n.backgroundColor)),e.borderColor=o.valueOrDefault(n.hoverBorderColor,o.getHoverColor(n.borderColor)),e.borderWidth=o.valueOrDefault(n.hoverBorderWidth,n.borderWidth),e.radius=n.radius+n.hoverRadius},removeHoverStyle:function(t){var e=t._model,n=t._options;e.backgroundColor=n.backgroundColor,e.borderColor=n.borderColor,e.borderWidth=n.borderWidth,e.radius=n.radius},_resolveElementOptions:function(t,e){var n,i,a,r=this,l=r.chart,s=l.data.datasets[r.index],u=t.custom||{},d=l.options.elements.point,c=o.options.resolve,h=s.data[e],f={},g={chart:l,dataIndex:e,dataset:s,datasetIndex:r.index},p=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle"];for(n=0,i=p.length;n<i;++n)f[a=p[n]]=c([u[a],s[a],d[a]],g,e);return f.radius=c([u.radius,h?h.r:void 0,s.radius,d.radius],g,e),f}})}},{25:25,40:40,45:45}],17:[function(t,e,n){"use strict";var i=t(25),a=t(40),o=t(45);i._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var n=t.data,i=n.datasets,a=n.labels;if(i.length)for(var o=0;o<i[0].data.length;++o)e.push('<li><span style="background-color:'+i[0].backgroundColor[o]+'"></span>'),a[o]&&e.push(a[o]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(n,i){var a=t.getDatasetMeta(0),r=e.datasets[0],l=a.data[i],s=l&&l.custom||{},u=o.valueAtIndexOrDefault,d=t.options.elements.arc;return{text:n,fillStyle:s.backgroundColor?s.backgroundColor:u(r.backgroundColor,i,d.backgroundColor),strokeStyle:s.borderColor?s.borderColor:u(r.borderColor,i,d.borderColor),lineWidth:s.borderWidth?s.borderWidth:u(r.borderWidth,i,d.borderWidth),hidden:isNaN(r.data[i])||a.data[i].hidden,index:i}}):[]}},onClick:function(t,e){var n,i,a,o=e.index,r=this.chart;for(n=0,i=(r.data.datasets||[]).length;n<i;++n)(a=r.getDatasetMeta(n)).data[o]&&(a.data[o].hidden=!a.data[o].hidden);r.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(t,e){var n=e.labels[t.index],i=": "+e.datasets[t.datasetIndex].data[t.index];return o.isArray(n)?(n=n.slice())[0]+=i:n+=i,n}}}}),i._set("pie",o.clone(i.doughnut)),i._set("pie",{cutoutPercentage:0}),e.exports=function(t){t.controllers.doughnut=t.controllers.pie=t.DatasetController.extend({dataElementType:a.Arc,linkScales:o.noop,getRingIndex:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&++e;return e},update:function(t){var e=this,n=e.chart,i=n.chartArea,a=n.options,r=a.elements.arc,l=i.right-i.left-r.borderWidth,s=i.bottom-i.top-r.borderWidth,u=Math.min(l,s),d={x:0,y:0},c=e.getMeta(),h=a.cutoutPercentage,f=a.circumference;if(f<2*Math.PI){var g=a.rotation%(2*Math.PI),p=(g+=2*Math.PI*(g>=Math.PI?-1:g<-Math.PI?1:0))+f,v={x:Math.cos(g),y:Math.sin(g)},m={x:Math.cos(p),y:Math.sin(p)},b=g<=0&&p>=0||g<=2*Math.PI&&2*Math.PI<=p,x=g<=.5*Math.PI&&.5*Math.PI<=p||g<=2.5*Math.PI&&2.5*Math.PI<=p,y=g<=-Math.PI&&-Math.PI<=p||g<=Math.PI&&Math.PI<=p,k=g<=.5*-Math.PI&&.5*-Math.PI<=p||g<=1.5*Math.PI&&1.5*Math.PI<=p,w=h/100,M={x:y?-1:Math.min(v.x*(v.x<0?1:w),m.x*(m.x<0?1:w)),y:k?-1:Math.min(v.y*(v.y<0?1:w),m.y*(m.y<0?1:w))},S={x:b?1:Math.max(v.x*(v.x>0?1:w),m.x*(m.x>0?1:w)),y:x?1:Math.max(v.y*(v.y>0?1:w),m.y*(m.y>0?1:w))},C={width:.5*(S.x-M.x),height:.5*(S.y-M.y)};u=Math.min(l/C.width,s/C.height),d={x:-.5*(S.x+M.x),y:-.5*(S.y+M.y)}}n.borderWidth=e.getMaxBorderWidth(c.data),n.outerRadius=Math.max((u-n.borderWidth)/2,0),n.innerRadius=Math.max(h?n.outerRadius/100*h:0,0),n.radiusLength=(n.outerRadius-n.innerRadius)/n.getVisibleDatasetCount(),n.offsetX=d.x*n.outerRadius,n.offsetY=d.y*n.outerRadius,c.total=e.calculateTotal(),e.outerRadius=n.outerRadius-n.radiusLength*e.getRingIndex(e.index),e.innerRadius=Math.max(e.outerRadius-n.radiusLength,0),o.each(c.data,function(n,i){e.updateElement(n,i,t)})},updateElement:function(t,e,n){var i=this,a=i.chart,r=a.chartArea,l=a.options,s=l.animation,u=(r.left+r.right)/2,d=(r.top+r.bottom)/2,c=l.rotation,h=l.rotation,f=i.getDataset(),g=n&&s.animateRotate?0:t.hidden?0:i.calculateCircumference(f.data[e])*(l.circumference/(2*Math.PI)),p=n&&s.animateScale?0:i.innerRadius,v=n&&s.animateScale?0:i.outerRadius,m=o.valueAtIndexOrDefault;o.extend(t,{_datasetIndex:i.index,_index:e,_model:{x:u+a.offsetX,y:d+a.offsetY,startAngle:c,endAngle:h,circumference:g,outerRadius:v,innerRadius:p,label:m(f.label,e,a.data.labels[e])}});var b=t._model;this.removeHoverStyle(t),n&&s.animateRotate||(b.startAngle=0===e?l.rotation:i.getMeta().data[e-1]._model.endAngle,b.endAngle=b.startAngle+b.circumference),t.pivot()},removeHoverStyle:function(e){t.DatasetController.prototype.removeHoverStyle.call(this,e,this.chart.options.elements.arc)},calculateTotal:function(){var t,e=this.getDataset(),n=this.getMeta(),i=0;return o.each(n.data,function(n,a){t=e.data[a],isNaN(t)||n.hidden||(i+=Math.abs(t))}),i},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?2*Math.PI*(t/e):0},getMaxBorderWidth:function(t){for(var e,n,i=0,a=this.index,o=t.length,r=0;r<o;r++)e=t[r]._model?t[r]._model.borderWidth:0,i=(n=t[r]._chart?t[r]._chart.config.data.datasets[a].hoverBorderWidth:0)>(i=e>i?e:i)?n:i;return i}})}},{25:25,40:40,45:45}],18:[function(t,e,n){"use strict";var i=t(25),a=t(40),o=t(45);i._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}}),e.exports=function(t){function e(t,e){return o.valueOrDefault(t.showLine,e.showLines)}t.controllers.line=t.DatasetController.extend({datasetElementType:a.Line,dataElementType:a.Point,update:function(t){var n,i,a,r=this,l=r.getMeta(),s=l.dataset,u=l.data||[],d=r.chart.options,c=d.elements.line,h=r.getScaleForId(l.yAxisID),f=r.getDataset(),g=e(f,d);for(g&&(a=s.custom||{},void 0!==f.tension&&void 0===f.lineTension&&(f.lineTension=f.tension),s._scale=h,s._datasetIndex=r.index,s._children=u,s._model={spanGaps:f.spanGaps?f.spanGaps:d.spanGaps,tension:a.tension?a.tension:o.valueOrDefault(f.lineTension,c.tension),backgroundColor:a.backgroundColor?a.backgroundColor:f.backgroundColor||c.backgroundColor,borderWidth:a.borderWidth?a.borderWidth:f.borderWidth||c.borderWidth,borderColor:a.borderColor?a.borderColor:f.borderColor||c.borderColor,borderCapStyle:a.borderCapStyle?a.borderCapStyle:f.borderCapStyle||c.borderCapStyle,borderDash:a.borderDash?a.borderDash:f.borderDash||c.borderDash,borderDashOffset:a.borderDashOffset?a.borderDashOffset:f.borderDashOffset||c.borderDashOffset,borderJoinStyle:a.borderJoinStyle?a.borderJoinStyle:f.borderJoinStyle||c.borderJoinStyle,fill:a.fill?a.fill:void 0!==f.fill?f.fill:c.fill,steppedLine:a.steppedLine?a.steppedLine:o.valueOrDefault(f.steppedLine,c.stepped),cubicInterpolationMode:a.cubicInterpolationMode?a.cubicInterpolationMode:o.valueOrDefault(f.cubicInterpolationMode,c.cubicInterpolationMode)},s.pivot()),n=0,i=u.length;n<i;++n)r.updateElement(u[n],n,t);for(g&&0!==s._model.tension&&r.updateBezierControlPoints(),n=0,i=u.length;n<i;++n)u[n].pivot()},getPointBackgroundColor:function(t,e){var n=this.chart.options.elements.point.backgroundColor,i=this.getDataset(),a=t.custom||{};return a.backgroundColor?n=a.backgroundColor:i.pointBackgroundColor?n=o.valueAtIndexOrDefault(i.pointBackgroundColor,e,n):i.backgroundColor&&(n=i.backgroundColor),n},getPointBorderColor:function(t,e){var n=this.chart.options.elements.point.borderColor,i=this.getDataset(),a=t.custom||{};return a.borderColor?n=a.borderColor:i.pointBorderColor?n=o.valueAtIndexOrDefault(i.pointBorderColor,e,n):i.borderColor&&(n=i.borderColor),n},getPointBorderWidth:function(t,e){var n=this.chart.options.elements.point.borderWidth,i=this.getDataset(),a=t.custom||{};return isNaN(a.borderWidth)?!isNaN(i.pointBorderWidth)||o.isArray(i.pointBorderWidth)?n=o.valueAtIndexOrDefault(i.pointBorderWidth,e,n):isNaN(i.borderWidth)||(n=i.borderWidth):n=a.borderWidth,n},updateElement:function(t,e,n){var i,a,r=this,l=r.getMeta(),s=t.custom||{},u=r.getDataset(),d=r.index,c=u.data[e],h=r.getScaleForId(l.yAxisID),f=r.getScaleForId(l.xAxisID),g=r.chart.options.elements.point;void 0!==u.radius&&void 0===u.pointRadius&&(u.pointRadius=u.radius),void 0!==u.hitRadius&&void 0===u.pointHitRadius&&(u.pointHitRadius=u.hitRadius),i=f.getPixelForValue("object"==typeof c?c:NaN,e,d),a=n?h.getBasePixel():r.calculatePointY(c,e,d),t._xScale=f,t._yScale=h,t._datasetIndex=d,t._index=e,t._model={x:i,y:a,skip:s.skip||isNaN(i)||isNaN(a),radius:s.radius||o.valueAtIndexOrDefault(u.pointRadius,e,g.radius),pointStyle:s.pointStyle||o.valueAtIndexOrDefault(u.pointStyle,e,g.pointStyle),backgroundColor:r.getPointBackgroundColor(t,e),borderColor:r.getPointBorderColor(t,e),borderWidth:r.getPointBorderWidth(t,e),tension:l.dataset._model?l.dataset._model.tension:0,steppedLine:!!l.dataset._model&&l.dataset._model.steppedLine,hitRadius:s.hitRadius||o.valueAtIndexOrDefault(u.pointHitRadius,e,g.hitRadius)}},calculatePointY:function(t,e,n){var i,a,o,r=this,l=r.chart,s=r.getMeta(),u=r.getScaleForId(s.yAxisID),d=0,c=0;if(u.options.stacked){for(i=0;i<n;i++)if(a=l.data.datasets[i],"line"===(o=l.getDatasetMeta(i)).type&&o.yAxisID===u.id&&l.isDatasetVisible(i)){var h=Number(u.getRightValue(a.data[e]));h<0?c+=h||0:d+=h||0}var f=Number(u.getRightValue(t));return f<0?u.getPixelForValue(c+f):u.getPixelForValue(d+f)}return u.getPixelForValue(t)},updateBezierControlPoints:function(){function t(t,e,n){return Math.max(Math.min(t,n),e)}var e,n,i,a,r=this,l=r.getMeta(),s=r.chart.chartArea,u=l.data||[];if(l.dataset._model.spanGaps&&(u=u.filter(function(t){return!t._model.skip})),"monotone"===l.dataset._model.cubicInterpolationMode)o.splineCurveMonotone(u);else for(e=0,n=u.length;e<n;++e)i=u[e]._model,a=o.splineCurve(o.previousItem(u,e)._model,i,o.nextItem(u,e)._model,l.dataset._model.tension),i.controlPointPreviousX=a.previous.x,i.controlPointPreviousY=a.previous.y,i.controlPointNextX=a.next.x,i.controlPointNextY=a.next.y;if(r.chart.options.elements.line.capBezierPoints)for(e=0,n=u.length;e<n;++e)(i=u[e]._model).controlPointPreviousX=t(i.controlPointPreviousX,s.left,s.right),i.controlPointPreviousY=t(i.controlPointPreviousY,s.top,s.bottom),i.controlPointNextX=t(i.controlPointNextX,s.left,s.right),i.controlPointNextY=t(i.controlPointNextY,s.top,s.bottom)},draw:function(){var t=this,n=t.chart,i=t.getMeta(),a=i.data||[],r=n.chartArea,l=a.length,s=0;for(o.canvas.clipArea(n.ctx,r),e(t.getDataset(),n.options)&&i.dataset.draw(),o.canvas.unclipArea(n.ctx);s<l;++s)a[s].draw(r)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,i=t.custom||{},a=t._model;a.radius=i.hoverRadius||o.valueAtIndexOrDefault(e.pointHoverRadius,n,this.chart.options.elements.point.hoverRadius),a.backgroundColor=i.hoverBackgroundColor||o.valueAtIndexOrDefault(e.pointHoverBackgroundColor,n,o.getHoverColor(a.backgroundColor)),a.borderColor=i.hoverBorderColor||o.valueAtIndexOrDefault(e.pointHoverBorderColor,n,o.getHoverColor(a.borderColor)),a.borderWidth=i.hoverBorderWidth||o.valueAtIndexOrDefault(e.pointHoverBorderWidth,n,a.borderWidth)},removeHoverStyle:function(t){var e=this,n=e.chart.data.datasets[t._datasetIndex],i=t._index,a=t.custom||{},r=t._model;void 0!==n.radius&&void 0===n.pointRadius&&(n.pointRadius=n.radius),r.radius=a.radius||o.valueAtIndexOrDefault(n.pointRadius,i,e.chart.options.elements.point.radius),r.backgroundColor=e.getPointBackgroundColor(t,i),r.borderColor=e.getPointBorderColor(t,i),r.borderWidth=e.getPointBorderWidth(t,i)}})}},{25:25,40:40,45:45}],19:[function(t,e,n){"use strict";var i=t(25),a=t(40),o=t(45);i._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var n=t.data,i=n.datasets,a=n.labels;if(i.length)for(var o=0;o<i[0].data.length;++o)e.push('<li><span style="background-color:'+i[0].backgroundColor[o]+'"></span>'),a[o]&&e.push(a[o]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(n,i){var a=t.getDatasetMeta(0),r=e.datasets[0],l=a.data[i].custom||{},s=o.valueAtIndexOrDefault,u=t.options.elements.arc;return{text:n,fillStyle:l.backgroundColor?l.backgroundColor:s(r.backgroundColor,i,u.backgroundColor),strokeStyle:l.borderColor?l.borderColor:s(r.borderColor,i,u.borderColor),lineWidth:l.borderWidth?l.borderWidth:s(r.borderWidth,i,u.borderWidth),hidden:isNaN(r.data[i])||a.data[i].hidden,index:i}}):[]}},onClick:function(t,e){var n,i,a,o=e.index,r=this.chart;for(n=0,i=(r.data.datasets||[]).length;n<i;++n)(a=r.getDatasetMeta(n)).data[o].hidden=!a.data[o].hidden;r.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}}),e.exports=function(t){t.controllers.polarArea=t.DatasetController.extend({dataElementType:a.Arc,linkScales:o.noop,update:function(t){var e=this,n=e.chart,i=n.chartArea,a=e.getMeta(),r=n.options,l=r.elements.arc,s=Math.min(i.right-i.left,i.bottom-i.top);n.outerRadius=Math.max((s-l.borderWidth/2)/2,0),n.innerRadius=Math.max(r.cutoutPercentage?n.outerRadius/100*r.cutoutPercentage:1,0),n.radiusLength=(n.outerRadius-n.innerRadius)/n.getVisibleDatasetCount(),e.outerRadius=n.outerRadius-n.radiusLength*e.index,e.innerRadius=e.outerRadius-n.radiusLength,a.count=e.countVisibleElements(),o.each(a.data,function(n,i){e.updateElement(n,i,t)})},updateElement:function(t,e,n){for(var i=this,a=i.chart,r=i.getDataset(),l=a.options,s=l.animation,u=a.scale,d=a.data.labels,c=i.calculateCircumference(r.data[e]),h=u.xCenter,f=u.yCenter,g=0,p=i.getMeta(),v=0;v<e;++v)isNaN(r.data[v])||p.data[v].hidden||++g;var m=l.startAngle,b=t.hidden?0:u.getDistanceFromCenterForValue(r.data[e]),x=m+c*g,y=x+(t.hidden?0:c),k=s.animateScale?0:u.getDistanceFromCenterForValue(r.data[e]);o.extend(t,{_datasetIndex:i.index,_index:e,_scale:u,_model:{x:h,y:f,innerRadius:0,outerRadius:n?k:b,startAngle:n&&s.animateRotate?m:x,endAngle:n&&s.animateRotate?m:y,label:o.valueAtIndexOrDefault(d,e,d[e])}}),i.removeHoverStyle(t),t.pivot()},removeHoverStyle:function(e){t.DatasetController.prototype.removeHoverStyle.call(this,e,this.chart.options.elements.arc)},countVisibleElements:function(){var t=this.getDataset(),e=this.getMeta(),n=0;return o.each(e.data,function(e,i){isNaN(t.data[i])||e.hidden||n++}),n},calculateCircumference:function(t){var e=this.getMeta().count;return e>0&&!isNaN(t)?2*Math.PI/e:0}})}},{25:25,40:40,45:45}],20:[function(t,e,n){"use strict";var i=t(25),a=t(40),o=t(45);i._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}}),e.exports=function(t){t.controllers.radar=t.DatasetController.extend({datasetElementType:a.Line,dataElementType:a.Point,linkScales:o.noop,update:function(t){var e=this,n=e.getMeta(),i=n.dataset,a=n.data,r=i.custom||{},l=e.getDataset(),s=e.chart.options.elements.line,u=e.chart.scale;void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),o.extend(n.dataset,{_datasetIndex:e.index,_scale:u,_children:a,_loop:!0,_model:{tension:r.tension?r.tension:o.valueOrDefault(l.lineTension,s.tension),backgroundColor:r.backgroundColor?r.backgroundColor:l.backgroundColor||s.backgroundColor,borderWidth:r.borderWidth?r.borderWidth:l.borderWidth||s.borderWidth,borderColor:r.borderColor?r.borderColor:l.borderColor||s.borderColor,fill:r.fill?r.fill:void 0!==l.fill?l.fill:s.fill,borderCapStyle:r.borderCapStyle?r.borderCapStyle:l.borderCapStyle||s.borderCapStyle,borderDash:r.borderDash?r.borderDash:l.borderDash||s.borderDash,borderDashOffset:r.borderDashOffset?r.borderDashOffset:l.borderDashOffset||s.borderDashOffset,borderJoinStyle:r.borderJoinStyle?r.borderJoinStyle:l.borderJoinStyle||s.borderJoinStyle}}),n.dataset.pivot(),o.each(a,function(n,i){e.updateElement(n,i,t)},e),e.updateBezierControlPoints()},updateElement:function(t,e,n){var i=this,a=t.custom||{},r=i.getDataset(),l=i.chart.scale,s=i.chart.options.elements.point,u=l.getPointPositionForValue(e,r.data[e]);void 0!==r.radius&&void 0===r.pointRadius&&(r.pointRadius=r.radius),void 0!==r.hitRadius&&void 0===r.pointHitRadius&&(r.pointHitRadius=r.hitRadius),o.extend(t,{_datasetIndex:i.index,_index:e,_scale:l,_model:{x:n?l.xCenter:u.x,y:n?l.yCenter:u.y,tension:a.tension?a.tension:o.valueOrDefault(r.lineTension,i.chart.options.elements.line.tension),radius:a.radius?a.radius:o.valueAtIndexOrDefault(r.pointRadius,e,s.radius),backgroundColor:a.backgroundColor?a.backgroundColor:o.valueAtIndexOrDefault(r.pointBackgroundColor,e,s.backgroundColor),borderColor:a.borderColor?a.borderColor:o.valueAtIndexOrDefault(r.pointBorderColor,e,s.borderColor),borderWidth:a.borderWidth?a.borderWidth:o.valueAtIndexOrDefault(r.pointBorderWidth,e,s.borderWidth),pointStyle:a.pointStyle?a.pointStyle:o.valueAtIndexOrDefault(r.pointStyle,e,s.pointStyle),hitRadius:a.hitRadius?a.hitRadius:o.valueAtIndexOrDefault(r.pointHitRadius,e,s.hitRadius)}}),t._model.skip=a.skip?a.skip:isNaN(t._model.x)||isNaN(t._model.y)},updateBezierControlPoints:function(){var t=this.chart.chartArea,e=this.getMeta();o.each(e.data,function(n,i){var a=n._model,r=o.splineCurve(o.previousItem(e.data,i,!0)._model,a,o.nextItem(e.data,i,!0)._model,a.tension);a.controlPointPreviousX=Math.max(Math.min(r.previous.x,t.right),t.left),a.controlPointPreviousY=Math.max(Math.min(r.previous.y,t.bottom),t.top),a.controlPointNextX=Math.max(Math.min(r.next.x,t.right),t.left),a.controlPointNextY=Math.max(Math.min(r.next.y,t.bottom),t.top),n.pivot()})},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t.custom||{},i=t._index,a=t._model;a.radius=n.hoverRadius?n.hoverRadius:o.valueAtIndexOrDefault(e.pointHoverRadius,i,this.chart.options.elements.point.hoverRadius),a.backgroundColor=n.hoverBackgroundColor?n.hoverBackgroundColor:o.valueAtIndexOrDefault(e.pointHoverBackgroundColor,i,o.getHoverColor(a.backgroundColor)),a.borderColor=n.hoverBorderColor?n.hoverBorderColor:o.valueAtIndexOrDefault(e.pointHoverBorderColor,i,o.getHoverColor(a.borderColor)),a.borderWidth=n.hoverBorderWidth?n.hoverBorderWidth:o.valueAtIndexOrDefault(e.pointHoverBorderWidth,i,a.borderWidth)},removeHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t.custom||{},i=t._index,a=t._model,r=this.chart.options.elements.point;a.radius=n.radius?n.radius:o.valueAtIndexOrDefault(e.pointRadius,i,r.radius),a.backgroundColor=n.backgroundColor?n.backgroundColor:o.valueAtIndexOrDefault(e.pointBackgroundColor,i,r.backgroundColor),a.borderColor=n.borderColor?n.borderColor:o.valueAtIndexOrDefault(e.pointBorderColor,i,r.borderColor),a.borderWidth=n.borderWidth?n.borderWidth:o.valueAtIndexOrDefault(e.pointBorderWidth,i,r.borderWidth)}})}},{25:25,40:40,45:45}],21:[function(t,e,n){"use strict";t(25)._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}}),e.exports=function(t){t.controllers.scatter=t.controllers.line}},{25:25}],22:[function(t,e,n){"use strict";var i=t(25),a=t(26),o=t(45);i._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:o.noop,onComplete:o.noop}}),e.exports=function(t){t.Animation=a.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),t.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(t,e,n,i){var a,o,r=this.animations;for(e.chart=t,i||(t.animating=!0),a=0,o=r.length;a<o;++a)if(r[a].chart===t)return void(r[a]=e);r.push(e),1===r.length&&this.requestAnimationFrame()},cancelAnimation:function(t){var e=o.findIndex(this.animations,function(e){return e.chart===t});-1!==e&&(this.animations.splice(e,1),t.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=o.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){var t=this,e=Date.now(),n=0;t.dropFrames>1&&(n=Math.floor(t.dropFrames),t.dropFrames=t.dropFrames%1),t.advance(1+n);var i=Date.now();t.dropFrames+=(i-e)/t.frameDuration,t.animations.length>0&&t.requestAnimationFrame()},advance:function(t){for(var e,n,i=this.animations,a=0;a<i.length;)n=(e=i[a]).chart,e.currentStep=(e.currentStep||0)+t,e.currentStep=Math.min(e.currentStep,e.numSteps),o.callback(e.render,[n,e],n),o.callback(e.onAnimationProgress,[e],n),e.currentStep>=e.numSteps?(o.callback(e.onAnimationComplete,[e],n),n.animating=!1,i.splice(a,1)):++a}},Object.defineProperty(t.Animation.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(t.Animation.prototype,"chartInstance",{get:function(){return this.chart},set:function(t){this.chart=t}})}},{25:25,26:26,45:45}],23:[function(t,e,n){"use strict";var i=t(25),a=t(45),o=t(28),r=t(48);e.exports=function(t){function e(t){var e=(t=t||{}).data=t.data||{};return e.datasets=e.datasets||[],e.labels=e.labels||[],t.options=a.configMerge(i.global,i[t.type],t.options||{}),t}function n(t){var e=t.options;e.scale?t.scale.options=e.scale:e.scales&&e.scales.xAxes.concat(e.scales.yAxes).forEach(function(e){t.scales[e.id].options=e}),t.tooltip._options=e.tooltips}function l(t){return"top"===t||"bottom"===t}var s=t.plugins;t.types={},t.instances={},t.controllers={},a.extend(t.prototype,{construct:function(n,i){var o=this;i=e(i);var l=r.acquireContext(n,i),s=l&&l.canvas,u=s&&s.height,d=s&&s.width;o.id=a.uid(),o.ctx=l,o.canvas=s,o.config=i,o.width=d,o.height=u,o.aspectRatio=u?d/u:null,o.options=i.options,o._bufferedRender=!1,o.chart=o,o.controller=o,t.instances[o.id]=o,Object.defineProperty(o,"data",{get:function(){return o.config.data},set:function(t){o.config.data=t}}),l&&s?(o.initialize(),o.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var t=this;return s.notify(t,"beforeInit"),a.retinaScale(t,t.options.devicePixelRatio),t.bindEvents(),t.options.responsive&&t.resize(!0),t.ensureScalesHaveIDs(),t.buildScales(),t.initToolTip(),s.notify(t,"afterInit"),t},clear:function(){return a.canvas.clear(this),this},stop:function(){return t.animationService.cancelAnimation(this),this},resize:function(t){var e=this,n=e.options,i=e.canvas,o=n.maintainAspectRatio&&e.aspectRatio||null,r=Math.max(0,Math.floor(a.getMaximumWidth(i))),l=Math.max(0,Math.floor(o?r/o:a.getMaximumHeight(i)));if((e.width!==r||e.height!==l)&&(i.width=e.width=r,i.height=e.height=l,i.style.width=r+"px",i.style.height=l+"px",a.retinaScale(e,n.devicePixelRatio),!t)){var u={width:r,height:l};s.notify(e,"resize",[u]),e.options.onResize&&e.options.onResize(e,u),e.stop(),e.update(e.options.responsiveAnimationDuration)}},ensureScalesHaveIDs:function(){var t=this.options,e=t.scales||{},n=t.scale;a.each(e.xAxes,function(t,e){t.id=t.id||"x-axis-"+e}),a.each(e.yAxes,function(t,e){t.id=t.id||"y-axis-"+e}),n&&(n.id=n.id||"scale")},buildScales:function(){var e=this,n=e.options,i=e.scales={},o=[];n.scales&&(o=o.concat((n.scales.xAxes||[]).map(function(t){return{options:t,dtype:"category",dposition:"bottom"}}),(n.scales.yAxes||[]).map(function(t){return{options:t,dtype:"linear",dposition:"left"}}))),n.scale&&o.push({options:n.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),a.each(o,function(n){var o=n.options,r=a.valueOrDefault(o.type,n.dtype),s=t.scaleService.getScaleConstructor(r);if(s){l(o.position)!==l(n.dposition)&&(o.position=n.dposition);var u=new s({id:o.id,options:o,ctx:e.ctx,chart:e});i[u.id]=u,u.mergeTicksOptions(),n.isDefault&&(e.scale=u)}}),t.scaleService.addScalesToLayout(this)},buildOrUpdateControllers:function(){var e=this,n=[],i=[];return a.each(e.data.datasets,function(a,o){var r=e.getDatasetMeta(o),l=a.type||e.config.type;if(r.type&&r.type!==l&&(e.destroyDatasetMeta(o),r=e.getDatasetMeta(o)),r.type=l,n.push(r.type),r.controller)r.controller.updateIndex(o);else{var s=t.controllers[r.type];if(void 0===s)throw new Error('"'+r.type+'" is not a chart type.');r.controller=new s(e,o),i.push(r.controller)}},e),i},resetElements:function(){var t=this;a.each(t.data.datasets,function(e,n){t.getDatasetMeta(n).controller.reset()},t)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t){var e=this;if(t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]}),n(e),!1!==s.notify(e,"beforeUpdate")){e.tooltip._data=e.data;var i=e.buildOrUpdateControllers();a.each(e.data.datasets,function(t,n){e.getDatasetMeta(n).controller.buildOrUpdateElements()},e),e.updateLayout(),a.each(i,function(t){t.reset()}),e.updateDatasets(),e.tooltip.initialize(),e.lastActive=[],s.notify(e,"afterUpdate"),e._bufferedRender?e._bufferedRequest={duration:t.duration,easing:t.easing,lazy:t.lazy}:e.render(t)}},updateLayout:function(){var e=this;!1!==s.notify(e,"beforeLayout")&&(t.layoutService.update(this,this.width,this.height),s.notify(e,"afterScaleUpdate"),s.notify(e,"afterLayout"))},updateDatasets:function(){var t=this;if(!1!==s.notify(t,"beforeDatasetsUpdate")){for(var e=0,n=t.data.datasets.length;e<n;++e)t.updateDataset(e);s.notify(t,"afterDatasetsUpdate")}},updateDataset:function(t){var e=this,n=e.getDatasetMeta(t),i={meta:n,index:t};!1!==s.notify(e,"beforeDatasetUpdate",[i])&&(n.controller.update(),s.notify(e,"afterDatasetUpdate",[i]))},render:function(e){var n=this;e&&"object"==typeof e||(e={duration:e,lazy:arguments[1]});var i=e.duration,o=e.lazy;if(!1!==s.notify(n,"beforeRender")){var r=n.options.animation,l=function(t){s.notify(n,"afterRender"),a.callback(r&&r.onComplete,[t],n)};if(r&&(void 0!==i&&0!==i||void 0===i&&0!==r.duration)){var u=new t.Animation({numSteps:(i||r.duration)/16.66,easing:e.easing||r.easing,render:function(t,e){var n=a.easing.effects[e.easing],i=e.currentStep,o=i/e.numSteps;t.draw(n(o),o,i)},onAnimationProgress:r.onProgress,onAnimationComplete:l});t.animationService.addAnimation(n,u,i,o)}else n.draw(),l(new t.Animation({numSteps:0,chart:n}));return n}},draw:function(t){var e=this;e.clear(),a.isNullOrUndef(t)&&(t=1),e.transition(t),!1!==s.notify(e,"beforeDraw",[t])&&(a.each(e.boxes,function(t){t.draw(e.chartArea)},e),e.scale&&e.scale.draw(),e.drawDatasets(t),e._drawTooltip(t),s.notify(e,"afterDraw",[t]))},transition:function(t){for(var e=this,n=0,i=(e.data.datasets||[]).length;n<i;++n)e.isDatasetVisible(n)&&e.getDatasetMeta(n).controller.transition(t);e.tooltip.transition(t)},drawDatasets:function(t){var e=this;if(!1!==s.notify(e,"beforeDatasetsDraw",[t])){for(var n=(e.data.datasets||[]).length-1;n>=0;--n)e.isDatasetVisible(n)&&e.drawDataset(n,t);s.notify(e,"afterDatasetsDraw",[t])}},drawDataset:function(t,e){var n=this,i=n.getDatasetMeta(t),a={meta:i,index:t,easingValue:e};!1!==s.notify(n,"beforeDatasetDraw",[a])&&(i.controller.draw(e),s.notify(n,"afterDatasetDraw",[a]))},_drawTooltip:function(t){var e=this,n=e.tooltip,i={tooltip:n,easingValue:t};!1!==s.notify(e,"beforeTooltipDraw",[i])&&(n.draw(),s.notify(e,"afterTooltipDraw",[i]))},getElementAtEvent:function(t){return o.modes.single(this,t)},getElementsAtEvent:function(t){return o.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return o.modes["x-axis"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,e,n){var i=o.modes[e];return"function"==typeof i?i(this,t,n):[]},getDatasetAtEvent:function(t){return o.modes.dataset(this,t,{intersect:!0})},getDatasetMeta:function(t){var e=this,n=e.data.datasets[t];n._meta||(n._meta={});var i=n._meta[e.id];return i||(i=n._meta[e.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),i},getVisibleDatasetCount:function(){for(var t=0,e=0,n=this.data.datasets.length;e<n;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(t){var e=this.id,n=this.data.datasets[t],i=n._meta&&n._meta[e];i&&(i.controller.destroy(),delete n._meta[e])},destroy:function(){var e,n,i=this,o=i.canvas;for(i.stop(),e=0,n=i.data.datasets.length;e<n;++e)i.destroyDatasetMeta(e);o&&(i.unbindEvents(),a.canvas.clear(i),r.releaseContext(i.ctx),i.canvas=null,i.ctx=null),s.notify(i,"destroy"),delete t.instances[i.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var e=this;e.tooltip=new t.Tooltip({_chart:e,_chartInstance:e,_data:e.data,_options:e.options.tooltips},e)},bindEvents:function(){var t=this,e=t._listeners={},n=function(){t.eventHandler.apply(t,arguments)};a.each(t.options.events,function(i){r.addEventListener(t,i,n),e[i]=n}),t.options.responsive&&(n=function(){t.resize()},r.addEventListener(t,"resize",n),e.resize=n)},unbindEvents:function(){var t=this,e=t._listeners;e&&(delete t._listeners,a.each(e,function(e,n){r.removeEventListener(t,n,e)}))},updateHoverStyle:function(t,e,n){var i,a,o,r=n?"setHoverStyle":"removeHoverStyle";for(a=0,o=t.length;a<o;++a)(i=t[a])&&this.getDatasetMeta(i._datasetIndex).controller[r](i)},eventHandler:function(t){var e=this,n=e.tooltip;if(!1!==s.notify(e,"beforeEvent",[t])){e._bufferedRender=!0,e._bufferedRequest=null;var i=e.handleEvent(t);i|=n&&n.handleEvent(t),s.notify(e,"afterEvent",[t]);var a=e._bufferedRequest;return a?e.render(a):i&&!e.animating&&(e.stop(),e.render(e.options.hover.animationDuration,!0)),e._bufferedRender=!1,e._bufferedRequest=null,e}},handleEvent:function(t){var e=this,n=e.options||{},i=n.hover,o=!1;return e.lastActive=e.lastActive||[],"mouseout"===t.type?e.active=[]:e.active=e.getElementsAtEventForMode(t,i.mode,i),a.callback(n.onHover||n.hover.onHover,[t.native,e.active],e),"mouseup"!==t.type&&"click"!==t.type||n.onClick&&n.onClick.call(e,t.native,e.active),e.lastActive.length&&e.updateHoverStyle(e.lastActive,i.mode,!1),e.active.length&&i.mode&&e.updateHoverStyle(e.active,i.mode,!0),o=!a.arrayEquals(e.active,e.lastActive),e.lastActive=e.active,o}}),t.Controller=t}},{25:25,28:28,45:45,48:48}],24:[function(t,e,n){"use strict";var i=t(45);e.exports=function(t){function e(t,e){t._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),a.forEach(function(e){var n="onData"+e.charAt(0).toUpperCase()+e.slice(1),a=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:function(){var e=Array.prototype.slice.call(arguments),o=a.apply(this,e);return i.each(t._chartjs.listeners,function(t){"function"==typeof t[n]&&t[n].apply(t,e)}),o}})}))}function n(t,e){var n=t._chartjs;if(n){var i=n.listeners,o=i.indexOf(e);-1!==o&&i.splice(o,1),i.length>0||(a.forEach(function(e){delete t[e]}),delete t._chartjs)}}var a=["push","pop","shift","splice","unshift"];t.DatasetController=function(t,e){this.initialize(t,e)},i.extend(t.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(t,e){var n=this;n.chart=t,n.index=e,n.linkScales(),n.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){var t=this,e=t.getMeta(),n=t.getDataset();null===e.xAxisID&&(e.xAxisID=n.xAxisID||t.chart.options.scales.xAxes[0].id),null===e.yAxisID&&(e.yAxisID=n.yAxisID||t.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},reset:function(){this.update(!0)},destroy:function(){this._data&&n(this._data,this)},createMetaDataset:function(){var t=this,e=t.datasetElementType;return e&&new e({_chart:t.chart,_datasetIndex:t.index})},createMetaData:function(t){var e=this,n=e.dataElementType;return n&&new n({_chart:e.chart,_datasetIndex:e.index,_index:t})},addElements:function(){var t,e,n=this,i=n.getMeta(),a=n.getDataset().data||[],o=i.data;for(t=0,e=a.length;t<e;++t)o[t]=o[t]||n.createMetaData(t);i.dataset=i.dataset||n.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e),this.updateElement(e,t,!0)},buildOrUpdateElements:function(){var t=this,i=t.getDataset(),a=i.data||(i.data=[]);t._data!==a&&(t._data&&n(t._data,t),e(a,t),t._data=a),t.resyncElements()},update:i.noop,transition:function(t){for(var e=this.getMeta(),n=e.data||[],i=n.length,a=0;a<i;++a)n[a].transition(t);e.dataset&&e.dataset.transition(t)},draw:function(){var t=this.getMeta(),e=t.data||[],n=e.length,i=0;for(t.dataset&&t.dataset.draw();i<n;++i)e[i].draw()},removeHoverStyle:function(t,e){var n=this.chart.data.datasets[t._datasetIndex],a=t._index,o=t.custom||{},r=i.valueAtIndexOrDefault,l=t._model;l.backgroundColor=o.backgroundColor?o.backgroundColor:r(n.backgroundColor,a,e.backgroundColor),l.borderColor=o.borderColor?o.borderColor:r(n.borderColor,a,e.borderColor),l.borderWidth=o.borderWidth?o.borderWidth:r(n.borderWidth,a,e.borderWidth)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,a=t.custom||{},o=i.valueAtIndexOrDefault,r=i.getHoverColor,l=t._model;l.backgroundColor=a.hoverBackgroundColor?a.hoverBackgroundColor:o(e.hoverBackgroundColor,n,r(l.backgroundColor)),l.borderColor=a.hoverBorderColor?a.hoverBorderColor:o(e.hoverBorderColor,n,r(l.borderColor)),l.borderWidth=a.hoverBorderWidth?a.hoverBorderWidth:o(e.hoverBorderWidth,n,l.borderWidth)},resyncElements:function(){var t=this,e=t.getMeta(),n=t.getDataset().data,i=e.data.length,a=n.length;a<i?e.data.splice(a,i-a):a>i&&t.insertElements(i,a-i)},insertElements:function(t,e){for(var n=0;n<e;++n)this.addElementAndReset(t+n)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e),this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),t.DatasetController.extend=i.inherits}},{45:45}],25:[function(t,e,n){"use strict";var i=t(45);e.exports={_set:function(t,e){return i.merge(this[t]||(this[t]={}),e)}}},{45:45}],26:[function(t,e,n){"use strict";function i(t,e,n,i){var o,r,l,s,u,d,c,h,f,g=Object.keys(n);for(o=0,r=g.length;o<r;++o)if(l=g[o],d=n[l],e.hasOwnProperty(l)||(e[l]=d),(s=e[l])!==d&&"_"!==l[0]){if(t.hasOwnProperty(l)||(t[l]=s),u=t[l],(c=typeof d)===typeof u)if("string"===c){if((h=a(u)).valid&&(f=a(d)).valid){e[l]=f.mix(h,i).rgbString();continue}}else if("number"===c&&isFinite(u)&&isFinite(d)){e[l]=u+(d-u)*i;continue}e[l]=d}}var a=t(3),o=t(45),r=function(t){o.extend(this,t),this.initialize.apply(this,arguments)};o.extend(r.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var t=this;return t._view||(t._view=o.clone(t._model)),t._start={},t},transition:function(t){var e=this,n=e._model,a=e._start,o=e._view;return n&&1!==t?(o||(o=e._view={}),a||(a=e._start={}),i(a,o,n,t),e):(e._view=n,e._start=null,e)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return o.isNumber(this._model.x)&&o.isNumber(this._model.y)}}),r.extend=o.inherits,e.exports=r},{3:3,45:45}],27:[function(t,e,n){"use strict";var i=t(3),a=t(25),o=t(45);e.exports=function(t){function e(t,e,n){var i;return"string"==typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*e.parentNode[n])):i=t,i}function n(t){return void 0!==t&&null!==t&&"none"!==t}function r(t,i,a){var o=document.defaultView,r=t.parentNode,l=o.getComputedStyle(t)[i],s=o.getComputedStyle(r)[i],u=n(l),d=n(s),c=Number.POSITIVE_INFINITY;return u||d?Math.min(u?e(l,t,a):c,d?e(s,r,a):c):"none"}o.configMerge=function(){return o.merge(o.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(e,n,i,a){var r=n[e]||{},l=i[e];"scales"===e?n[e]=o.scaleMerge(r,l):"scale"===e?n[e]=o.merge(r,[t.scaleService.getScaleDefaults(l.type),l]):o._merger(e,n,i,a)}})},o.scaleMerge=function(){return o.merge(o.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(e,n,i,a){if("xAxes"===e||"yAxes"===e){var r,l,s,u=i[e].length;for(n[e]||(n[e]=[]),r=0;r<u;++r)s=i[e][r],l=o.valueOrDefault(s.type,"xAxes"===e?"category":"linear"),r>=n[e].length&&n[e].push({}),!n[e][r].type||s.type&&s.type!==n[e][r].type?o.merge(n[e][r],[t.scaleService.getScaleDefaults(l),s]):o.merge(n[e][r],s)}else o._merger(e,n,i,a)}})},o.where=function(t,e){if(o.isArray(t)&&Array.prototype.filter)return t.filter(e);var n=[];return o.each(t,function(t){e(t)&&n.push(t)}),n},o.findIndex=Array.prototype.findIndex?function(t,e,n){return t.findIndex(e,n)}:function(t,e,n){n=void 0===n?t:n;for(var i=0,a=t.length;i<a;++i)if(e.call(n,t[i],i,t))return i;return-1},o.findNextWhere=function(t,e,n){o.isNullOrUndef(n)&&(n=-1);for(var i=n+1;i<t.length;i++){var a=t[i];if(e(a))return a}},o.findPreviousWhere=function(t,e,n){o.isNullOrUndef(n)&&(n=t.length);for(var i=n-1;i>=0;i--){var a=t[i];if(e(a))return a}},o.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},o.almostEquals=function(t,e,n){return Math.abs(t-e)<n},o.almostWhole=function(t,e){var n=Math.round(t);return n-e<t&&n+e>t},o.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},o.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},o.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return 0==(t=+t)||isNaN(t)?t:t>0?1:-1},o.log10=Math.log10?function(t){return Math.log10(t)}:function(t){return Math.log(t)/Math.LN10},o.toRadians=function(t){return t*(Math.PI/180)},o.toDegrees=function(t){return t*(180/Math.PI)},o.getAngleFromPoint=function(t,e){var n=e.x-t.x,i=e.y-t.y,a=Math.sqrt(n*n+i*i),o=Math.atan2(i,n);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:a}},o.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},o.aliasPixel=function(t){return t%2==0?0:.5},o.splineCurve=function(t,e,n,i){var a=t.skip?e:t,o=e,r=n.skip?e:n,l=Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2)),s=Math.sqrt(Math.pow(r.x-o.x,2)+Math.pow(r.y-o.y,2)),u=l/(l+s),d=s/(l+s),c=i*(u=isNaN(u)?0:u),h=i*(d=isNaN(d)?0:d);return{previous:{x:o.x-c*(r.x-a.x),y:o.y-c*(r.y-a.y)},next:{x:o.x+h*(r.x-a.x),y:o.y+h*(r.y-a.y)}}},o.EPSILON=Number.EPSILON||1e-14,o.splineCurveMonotone=function(t){var e,n,i,a,r=(t||[]).map(function(t){return{model:t._model,deltaK:0,mK:0}}),l=r.length;for(e=0;e<l;++e)if(!(i=r[e]).model.skip){if(n=e>0?r[e-1]:null,(a=e<l-1?r[e+1]:null)&&!a.model.skip){var s=a.model.x-i.model.x;i.deltaK=0!==s?(a.model.y-i.model.y)/s:0}!n||n.model.skip?i.mK=i.deltaK:!a||a.model.skip?i.mK=n.deltaK:this.sign(n.deltaK)!==this.sign(i.deltaK)?i.mK=0:i.mK=(n.deltaK+i.deltaK)/2}var u,d,c,h;for(e=0;e<l-1;++e)i=r[e],a=r[e+1],i.model.skip||a.model.skip||(o.almostEquals(i.deltaK,0,this.EPSILON)?i.mK=a.mK=0:(u=i.mK/i.deltaK,d=a.mK/i.deltaK,(h=Math.pow(u,2)+Math.pow(d,2))<=9||(c=3/Math.sqrt(h),i.mK=u*c*i.deltaK,a.mK=d*c*i.deltaK)));var f;for(e=0;e<l;++e)(i=r[e]).model.skip||(n=e>0?r[e-1]:null,a=e<l-1?r[e+1]:null,n&&!n.model.skip&&(f=(i.model.x-n.model.x)/3,i.model.controlPointPreviousX=i.model.x-f,i.model.controlPointPreviousY=i.model.y-f*i.mK),a&&!a.model.skip&&(f=(a.model.x-i.model.x)/3,i.model.controlPointNextX=i.model.x+f,i.model.controlPointNextY=i.model.y+f*i.mK))},o.nextItem=function(t,e,n){return n?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},o.previousItem=function(t,e,n){return n?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},o.niceNum=function(t,e){var n=Math.floor(o.log10(t)),i=t/Math.pow(10,n);return(e?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10)*Math.pow(10,n)},o.requestAnimFrame="undefined"==typeof window?function(t){t()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},o.getRelativePosition=function(t,e){var n,i,a=t.originalEvent||t,r=t.currentTarget||t.srcElement,l=r.getBoundingClientRect(),s=a.touches;s&&s.length>0?(n=s[0].clientX,i=s[0].clientY):(n=a.clientX,i=a.clientY);var u=parseFloat(o.getStyle(r,"padding-left")),d=parseFloat(o.getStyle(r,"padding-top")),c=parseFloat(o.getStyle(r,"padding-right")),h=parseFloat(o.getStyle(r,"padding-bottom")),f=l.right-l.left-u-c,g=l.bottom-l.top-d-h;return n=Math.round((n-l.left-u)/f*r.width/e.currentDevicePixelRatio),i=Math.round((i-l.top-d)/g*r.height/e.currentDevicePixelRatio),{x:n,y:i}},o.getConstraintWidth=function(t){return r(t,"max-width","clientWidth")},o.getConstraintHeight=function(t){return r(t,"max-height","clientHeight")},o.getMaximumWidth=function(t){var e=t.parentNode;if(!e)return t.clientWidth;var n=parseInt(o.getStyle(e,"padding-left"),10),i=parseInt(o.getStyle(e,"padding-right"),10),a=e.clientWidth-n-i,r=o.getConstraintWidth(t);return isNaN(r)?a:Math.min(a,r)},o.getMaximumHeight=function(t){var e=t.parentNode;if(!e)return t.clientHeight;var n=parseInt(o.getStyle(e,"padding-top"),10),i=parseInt(o.getStyle(e,"padding-bottom"),10),a=e.clientHeight-n-i,r=o.getConstraintHeight(t);return isNaN(r)?a:Math.min(a,r)},o.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},o.retinaScale=function(t,e){var n=t.currentDevicePixelRatio=e||window.devicePixelRatio||1;if(1!==n){var i=t.canvas,a=t.height,o=t.width;i.height=a*n,i.width=o*n,t.ctx.scale(n,n),i.style.height=a+"px",i.style.width=o+"px"}},o.fontString=function(t,e,n){return e+" "+t+"px "+n},o.longestText=function(t,e,n,i){var a=(i=i||{}).data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(a=i.data={},r=i.garbageCollect=[],i.font=e),t.font=e;var l=0;o.each(n,function(e){void 0!==e&&null!==e&&!0!==o.isArray(e)?l=o.measureText(t,a,r,l,e):o.isArray(e)&&o.each(e,function(e){void 0===e||null===e||o.isArray(e)||(l=o.measureText(t,a,r,l,e))})});var s=r.length/2;if(s>n.length){for(var u=0;u<s;u++)delete a[r[u]];r.splice(0,s)}return l},o.measureText=function(t,e,n,i,a){var o=e[a];return o||(o=e[a]=t.measureText(a).width,n.push(a)),o>i&&(i=o),i},o.numberOfLabelLines=function(t){var e=1;return o.each(t,function(t){o.isArray(t)&&t.length>e&&(e=t.length)}),e},o.color=i?function(t){return t instanceof CanvasGradient&&(t=a.global.defaultColor),i(t)}:function(t){return console.error("Color.js not found!"),t},o.getHoverColor=function(t){return t instanceof CanvasPattern?t:o.color(t).saturate(.5).darken(.1).rgbString()}}},{25:25,3:3,45:45}],28:[function(t,e,n){"use strict";function i(t,e){return t.native?{x:t.x,y:t.y}:u.getRelativePosition(t,e)}function a(t,e){var n,i,a,o,r;for(i=0,o=t.data.datasets.length;i<o;++i)if(t.isDatasetVisible(i))for(a=0,r=(n=t.getDatasetMeta(i)).data.length;a<r;++a){var l=n.data[a];l._view.skip||e(l)}}function o(t,e){var n=[];return a(t,function(t){t.inRange(e.x,e.y)&&n.push(t)}),n}function r(t,e,n,i){var o=Number.POSITIVE_INFINITY,r=[];return a(t,function(t){if(!n||t.inRange(e.x,e.y)){var a=t.getCenterPoint(),l=i(e,a);l<o?(r=[t],o=l):l===o&&r.push(t)}}),r}function l(t){var e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,i){var a=e?Math.abs(t.x-i.x):0,o=n?Math.abs(t.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}}function s(t,e,n){var a=i(e,t);n.axis=n.axis||"x";var s=l(n.axis),u=n.intersect?o(t,a):r(t,a,!1,s),d=[];return u.length?(t.data.datasets.forEach(function(e,n){if(t.isDatasetVisible(n)){var i=t.getDatasetMeta(n).data[u[0]._index];i&&!i._view.skip&&d.push(i)}}),d):[]}var u=t(45);e.exports={modes:{single:function(t,e){var n=i(e,t),o=[];return a(t,function(t){if(t.inRange(n.x,n.y))return o.push(t),o}),o.slice(0,1)},label:s,index:s,dataset:function(t,e,n){var a=i(e,t);n.axis=n.axis||"xy";var s=l(n.axis),u=n.intersect?o(t,a):r(t,a,!1,s);return u.length>0&&(u=t.getDatasetMeta(u[0]._datasetIndex).data),u},"x-axis":function(t,e){return s(t,e,{intersect:!1})},point:function(t,e){return o(t,i(e,t))},nearest:function(t,e,n){var a=i(e,t);n.axis=n.axis||"xy";var o=l(n.axis),s=r(t,a,n.intersect,o);return s.length>1&&s.sort(function(t,e){var n=t.getArea()-e.getArea();return 0===n&&(n=t._datasetIndex-e._datasetIndex),n}),s.slice(0,1)},x:function(t,e,n){var o=i(e,t),r=[],l=!1;return a(t,function(t){t.inXRange(o.x)&&r.push(t),t.inRange(o.x,o.y)&&(l=!0)}),n.intersect&&!l&&(r=[]),r},y:function(t,e,n){var o=i(e,t),r=[],l=!1;return a(t,function(t){t.inYRange(o.y)&&r.push(t),t.inRange(o.x,o.y)&&(l=!0)}),n.intersect&&!l&&(r=[]),r}}}},{45:45}],29:[function(t,e,n){"use strict";t(25)._set("global",{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},layout:{padding:{top:0,right:0,bottom:0,left:0}}}),e.exports=function(){var t=function(t,e){return this.construct(t,e),this};return t.Chart=t,t}},{25:25}],30:[function(t,e,n){"use strict";var i=t(45);e.exports=function(t){function e(t,e){return i.where(t,function(t){return t.position===e})}function n(t,e){t.forEach(function(t,e){return t._tmpIndex_=e,t}),t.sort(function(t,n){var i=e?n:t,a=e?t:n;return i.weight===a.weight?i._tmpIndex_-a._tmpIndex_:i.weight-a.weight}),t.forEach(function(t){delete t._tmpIndex_})}t.layoutService={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||"top",e.weight=e.weight||0,t.boxes.push(e)},removeBox:function(t,e){var n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure:function(t,e,n){for(var i,a=["fullWidth","position","weight"],o=a.length,r=0;r<o;++r)i=a[r],n.hasOwnProperty(i)&&(e[i]=n[i])},update:function(t,a,o){function r(t){var e=i.findNextWhere(_,function(e){return e.box===t});if(e)if(t.isHorizontal()){var n={left:Math.max(T,D),right:Math.max(F,I),top:0,bottom:0};t.update(t.fullWidth?x:S,y/2,n)}else t.update(e.minSize.width,C)}function l(t){t.isHorizontal()?(t.left=t.fullWidth?d:T,t.right=t.fullWidth?a-c:T+S,t.top=V,t.bottom=V+t.height,V=t.bottom):(t.left=N,t.right=N+t.width,t.top=O,t.bottom=O+C,N=t.right)}if(t){var s=t.options.layout||{},u=i.options.toPadding(s.padding),d=u.left,c=u.right,h=u.top,f=u.bottom,g=e(t.boxes,"left"),p=e(t.boxes,"right"),v=e(t.boxes,"top"),m=e(t.boxes,"bottom"),b=e(t.boxes,"chartArea");n(g,!0),n(p,!1),n(v,!0),n(m,!1);var x=a-d-c,y=o-h-f,k=y/2,w=(a-x/2)/(g.length+p.length),M=(o-k)/(v.length+m.length),S=x,C=y,_=[];i.each(g.concat(p,v,m),function(t){var e,n=t.isHorizontal();n?(e=t.update(t.fullWidth?x:S,M),C-=e.height):(e=t.update(w,k),S-=e.width),_.push({horizontal:n,minSize:e,box:t})});var D=0,I=0,P=0,A=0;i.each(v.concat(m),function(t){if(t.getPadding){var e=t.getPadding();D=Math.max(D,e.left),I=Math.max(I,e.right)}}),i.each(g.concat(p),function(t){if(t.getPadding){var e=t.getPadding();P=Math.max(P,e.top),A=Math.max(A,e.bottom)}});var T=d,F=c,O=h,R=f;i.each(g.concat(p),r),i.each(g,function(t){T+=t.width}),i.each(p,function(t){F+=t.width}),i.each(v.concat(m),r),i.each(v,function(t){O+=t.height}),i.each(m,function(t){R+=t.height}),i.each(g.concat(p),function(t){var e=i.findNextWhere(_,function(e){return e.box===t}),n={left:0,right:0,top:O,bottom:R};e&&t.update(e.minSize.width,C,n)}),T=d,F=c,O=h,R=f,i.each(g,function(t){T+=t.width}),i.each(p,function(t){F+=t.width}),i.each(v,function(t){O+=t.height}),i.each(m,function(t){R+=t.height});var L=Math.max(D-T,0);T+=L,F+=Math.max(I-F,0);var z=Math.max(P-O,0);O+=z,R+=Math.max(A-R,0);var B=o-O-R,W=a-T-F;W===S&&B===C||(i.each(g,function(t){t.height=B}),i.each(p,function(t){t.height=B}),i.each(v,function(t){t.fullWidth||(t.width=W)}),i.each(m,function(t){t.fullWidth||(t.width=W)}),C=B,S=W);var N=d+L,V=h+z;i.each(g.concat(v),l),N+=S,V+=C,i.each(p,l),i.each(m,l),t.chartArea={left:T,top:O,right:T+S,bottom:O+C},i.each(b,function(e){e.left=t.chartArea.left,e.top=t.chartArea.top,e.right=t.chartArea.right,e.bottom=t.chartArea.bottom,e.update(S,C)})}}}}},{45:45}],31:[function(t,e,n){"use strict";var i=t(25),a=t(26),o=t(45);i._set("global",{plugins:{}}),e.exports=function(t){t.plugins={_plugins:[],_cacheId:0,register:function(t){var e=this._plugins;[].concat(t).forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),this._cacheId++},unregister:function(t){var e=this._plugins;[].concat(t).forEach(function(t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e,n){var i,a,o,r,l,s=this.descriptors(t),u=s.length;for(i=0;i<u;++i)if(a=s[i],o=a.plugin,"function"==typeof(l=o[e])&&((r=[t].concat(n||[])).push(a.options),!1===l.apply(o,r)))return!1;return!0},descriptors:function(t){var e=t._plugins||(t._plugins={});if(e.id===this._cacheId)return e.descriptors;var n=[],a=[],r=t&&t.config||{},l=r.options&&r.options.plugins||{};return this._plugins.concat(r.plugins||[]).forEach(function(t){if(-1===n.indexOf(t)){var e=t.id,r=l[e];!1!==r&&(!0===r&&(r=o.clone(i.global.plugins[e])),n.push(t),a.push({plugin:t,options:r||{}}))}}),e.descriptors=a,e.id=this._cacheId,a}},t.pluginService=t.plugins,t.PluginBase=a.extend({})}},{25:25,26:26,45:45}],32:[function(t,e,n){"use strict";function i(t){var e,n,i=[];for(e=0,n=t.length;e<n;++e)i.push(t[e].label);return i}function a(t,e,n){var i=t.getPixelForTick(e);return n&&(i-=0===e?(t.getPixelForTick(1)-i)/2:(i-t.getPixelForTick(e-1))/2),i}var o=t(25),r=t(26),l=t(45),s=t(34);o._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",lineHeight:1.2,padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:s.formatters.values,minor:{},major:{}}}),e.exports=function(t){function e(t,e,n){return l.isArray(e)?l.longestText(t,n,e):t.measureText(e).width}function n(t){var e=l.valueOrDefault,n=o.global,i=e(t.fontSize,n.defaultFontSize),a=e(t.fontStyle,n.defaultFontStyle),r=e(t.fontFamily,n.defaultFontFamily);return{size:i,style:a,family:r,font:l.fontString(i,a,r)}}function s(t){return l.options.toLineHeight(l.valueOrDefault(t.lineHeight,1.2),l.valueOrDefault(t.fontSize,o.global.defaultFontSize))}t.Scale=r.extend({getPadding:function(){var t=this;return{left:t.paddingLeft||0,top:t.paddingTop||0,right:t.paddingRight||0,bottom:t.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var t=this.options.ticks;!1===t.minor&&(t.minor={display:!1}),!1===t.major&&(t.major={display:!1});for(var e in t)"major"!==e&&"minor"!==e&&(void 0===t.minor[e]&&(t.minor[e]=t[e]),void 0===t.major[e]&&(t.major[e]=t[e]))},beforeUpdate:function(){l.callback(this.options.beforeUpdate,[this])},update:function(t,e,n){var i,a,o,r,s,u,d=this;for(d.beforeUpdate(),d.maxWidth=t,d.maxHeight=e,d.margins=l.extend({left:0,right:0,top:0,bottom:0},n),d.longestTextCache=d.longestTextCache||{},d.beforeSetDimensions(),d.setDimensions(),d.afterSetDimensions(),d.beforeDataLimits(),d.determineDataLimits(),d.afterDataLimits(),d.beforeBuildTicks(),s=d.buildTicks()||[],d.afterBuildTicks(),d.beforeTickToLabelConversion(),o=d.convertTicksToLabels(s)||d.ticks,d.afterTickToLabelConversion(),d.ticks=o,i=0,a=o.length;i<a;++i)r=o[i],(u=s[i])?u.label=r:s.push(u={label:r,major:!1});return d._ticks=s,d.beforeCalculateTickRotation(),d.calculateTickRotation(),d.afterCalculateTickRotation(),d.beforeFit(),d.fit(),d.afterFit(),d.afterUpdate(),d.minSize},afterUpdate:function(){l.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){l.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){l.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){l.callback(this.options.beforeDataLimits,[this])},determineDataLimits:l.noop,afterDataLimits:function(){l.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){l.callback(this.options.beforeBuildTicks,[this])},buildTicks:l.noop,afterBuildTicks:function(){l.callback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){l.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this,e=t.options.ticks;t.ticks=t.ticks.map(e.userCallback||e.callback,this)},afterTickToLabelConversion:function(){l.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){l.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t=this,e=t.ctx,a=t.options.ticks,o=i(t._ticks),r=n(a);e.font=r.font;var s=a.minRotation||0;if(o.length&&t.options.display&&t.isHorizontal())for(var u,d=l.longestText(e,r.font,o,t.longestTextCache),c=d,h=t.getPixelForTick(1)-t.getPixelForTick(0)-6;c>h&&s<a.maxRotation;){var f=l.toRadians(s);if(u=Math.cos(f),Math.sin(f)*d>t.maxHeight){s--;break}s++,c=u*d}t.labelRotation=s},afterCalculateTickRotation:function(){l.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){l.callback(this.options.beforeFit,[this])},fit:function(){var t=this,a=t.minSize={width:0,height:0},o=i(t._ticks),r=t.options,u=r.ticks,d=r.scaleLabel,c=r.gridLines,h=r.display,f=t.isHorizontal(),g=n(u),p=r.gridLines.tickMarkLength;if(a.width=f?t.isFullWidth()?t.maxWidth-t.margins.left-t.margins.right:t.maxWidth:h&&c.drawTicks?p:0,a.height=f?h&&c.drawTicks?p:0:t.maxHeight,d.display&&h){var v=s(d)+l.options.toPadding(d.padding).height;f?a.height+=v:a.width+=v}if(u.display&&h){var m=l.longestText(t.ctx,g.font,o,t.longestTextCache),b=l.numberOfLabelLines(o),x=.5*g.size,y=t.options.ticks.padding;if(f){t.longestLabelWidth=m;var k=l.toRadians(t.labelRotation),w=Math.cos(k),M=Math.sin(k)*m+g.size*b+x*(b-1)+x;a.height=Math.min(t.maxHeight,a.height+M+y),t.ctx.font=g.font;var S=e(t.ctx,o[0],g.font),C=e(t.ctx,o[o.length-1],g.font);0!==t.labelRotation?(t.paddingLeft="bottom"===r.position?w*S+3:w*x+3,t.paddingRight="bottom"===r.position?w*x+3:w*C+3):(t.paddingLeft=S/2+3,t.paddingRight=C/2+3)}else u.mirror?m=0:m+=y+x,a.width=Math.min(t.maxWidth,a.width+m),t.paddingTop=g.size/2,t.paddingBottom=g.size/2}t.handleMargins(),t.width=a.width,t.height=a.height},handleMargins:function(){var t=this;t.margins&&(t.paddingLeft=Math.max(t.paddingLeft-t.margins.left,0),t.paddingTop=Math.max(t.paddingTop-t.margins.top,0),t.paddingRight=Math.max(t.paddingRight-t.margins.right,0),t.paddingBottom=Math.max(t.paddingBottom-t.margins.bottom,0))},afterFit:function(){l.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){if(l.isNullOrUndef(t))return NaN;if("number"==typeof t&&!isFinite(t))return NaN;if(t)if(this.isHorizontal()){if(void 0!==t.x)return this.getRightValue(t.x)}else if(void 0!==t.y)return this.getRightValue(t.y);return t},getLabelForIndex:l.noop,getPixelForValue:l.noop,getValueForPixel:l.noop,getPixelForTick:function(t){var e=this,n=e.options.offset;if(e.isHorizontal()){var i=(e.width-(e.paddingLeft+e.paddingRight))/Math.max(e._ticks.length-(n?0:1),1),a=i*t+e.paddingLeft;n&&(a+=i/2);var o=e.left+Math.round(a);return o+=e.isFullWidth()?e.margins.left:0}var r=e.height-(e.paddingTop+e.paddingBottom);return e.top+t*(r/(e._ticks.length-1))},getPixelForDecimal:function(t){var e=this;if(e.isHorizontal()){var n=(e.width-(e.paddingLeft+e.paddingRight))*t+e.paddingLeft,i=e.left+Math.round(n);return i+=e.isFullWidth()?e.margins.left:0}return e.top+t*e.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this,e=t.min,n=t.max;return t.beginAtZero?0:e<0&&n<0?n:e>0&&n>0?e:0},_autoSkip:function(t){var e,n,i,a,o=this,r=o.isHorizontal(),s=o.options.ticks.minor,u=t.length,d=l.toRadians(o.labelRotation),c=Math.cos(d),h=o.longestLabelWidth*c,f=[];for(s.maxTicksLimit&&(a=s.maxTicksLimit),r&&(e=!1,(h+s.autoSkipPadding)*u>o.width-(o.paddingLeft+o.paddingRight)&&(e=1+Math.floor((h+s.autoSkipPadding)*u/(o.width-(o.paddingLeft+o.paddingRight)))),a&&u>a&&(e=Math.max(e,Math.floor(u/a)))),n=0;n<u;n++)i=t[n],(e>1&&n%e>0||n%e==0&&n+e>=u)&&n!==u-1&&delete i.label,f.push(i);return f},draw:function(t){var e=this,i=e.options;if(i.display){var r=e.ctx,u=o.global,d=i.ticks.minor,c=i.ticks.major||d,h=i.gridLines,f=i.scaleLabel,g=0!==e.labelRotation,p=e.isHorizontal(),v=d.autoSkip?e._autoSkip(e.getTicks()):e.getTicks(),m=l.valueOrDefault(d.fontColor,u.defaultFontColor),b=n(d),x=l.valueOrDefault(c.fontColor,u.defaultFontColor),y=n(c),k=h.drawTicks?h.tickMarkLength:0,w=l.valueOrDefault(f.fontColor,u.defaultFontColor),M=n(f),S=l.options.toPadding(f.padding),C=l.toRadians(e.labelRotation),_=[],D="right"===i.position?e.left:e.right-k,I="right"===i.position?e.left+k:e.right,P="bottom"===i.position?e.top:e.bottom-k,A="bottom"===i.position?e.top+k:e.bottom;if(l.each(v,function(n,o){if(!l.isNullOrUndef(n.label)){var r,s,c,f,m=n.label;o===e.zeroLineIndex&&i.offset===h.offsetGridLines?(r=h.zeroLineWidth,s=h.zeroLineColor,c=h.zeroLineBorderDash,f=h.zeroLineBorderDashOffset):(r=l.valueAtIndexOrDefault(h.lineWidth,o),s=l.valueAtIndexOrDefault(h.color,o),c=l.valueOrDefault(h.borderDash,u.borderDash),f=l.valueOrDefault(h.borderDashOffset,u.borderDashOffset));var b,x,y,w,M,S,T,F,O,R,L="middle",z="middle",B=d.padding;if(p){var W=k+B;"bottom"===i.position?(z=g?"middle":"top",L=g?"right":"center",R=e.top+W):(z=g?"middle":"bottom",L=g?"left":"center",R=e.bottom-W);var N=a(e,o,h.offsetGridLines&&v.length>1);N<e.left&&(s="rgba(0,0,0,0)"),N+=l.aliasPixel(r),O=e.getPixelForTick(o)+d.labelOffset,b=y=M=T=N,x=P,w=A,S=t.top,F=t.bottom}else{var V,E="left"===i.position;d.mirror?(L=E?"left":"right",V=B):(L=E?"right":"left",V=k+B),O=E?e.right-V:e.left+V;var H=a(e,o,h.offsetGridLines&&v.length>1);H<e.top&&(s="rgba(0,0,0,0)"),H+=l.aliasPixel(r),R=e.getPixelForTick(o)+d.labelOffset,b=D,y=I,M=t.left,T=t.right,x=w=S=F=H}_.push({tx1:b,ty1:x,tx2:y,ty2:w,x1:M,y1:S,x2:T,y2:F,labelX:O,labelY:R,glWidth:r,glColor:s,glBorderDash:c,glBorderDashOffset:f,rotation:-1*C,label:m,major:n.major,textBaseline:z,textAlign:L})}}),l.each(_,function(t){if(h.display&&(r.save(),r.lineWidth=t.glWidth,r.strokeStyle=t.glColor,r.setLineDash&&(r.setLineDash(t.glBorderDash),r.lineDashOffset=t.glBorderDashOffset),r.beginPath(),h.drawTicks&&(r.moveTo(t.tx1,t.ty1),r.lineTo(t.tx2,t.ty2)),h.drawOnChartArea&&(r.moveTo(t.x1,t.y1),r.lineTo(t.x2,t.y2)),r.stroke(),r.restore()),d.display){r.save(),r.translate(t.labelX,t.labelY),r.rotate(t.rotation),r.font=t.major?y.font:b.font,r.fillStyle=t.major?x:m,r.textBaseline=t.textBaseline,r.textAlign=t.textAlign;var e=t.label;if(l.isArray(e))for(var n=0,i=0;n<e.length;++n)r.fillText(""+e[n],0,i),i+=1.5*b.size;else r.fillText(e,0,0);r.restore()}}),f.display){var T,F,O=0,R=s(f)/2;if(p)T=e.left+(e.right-e.left)/2,F="bottom"===i.position?e.bottom-R-S.bottom:e.top+R+S.top;else{var L="left"===i.position;T=L?e.left+R+S.top:e.right-R-S.top,F=e.top+(e.bottom-e.top)/2,O=L?-.5*Math.PI:.5*Math.PI}r.save(),r.translate(T,F),r.rotate(O),r.textAlign="center",r.textBaseline="middle",r.fillStyle=w,r.font=M.font,r.fillText(f.labelString,0,0),r.restore()}if(h.drawBorder){r.lineWidth=l.valueAtIndexOrDefault(h.lineWidth,0),r.strokeStyle=l.valueAtIndexOrDefault(h.color,0);var z=e.left,B=e.right,W=e.top,N=e.bottom,V=l.aliasPixel(r.lineWidth);p?(W=N="top"===i.position?e.bottom:e.top,W+=V,N+=V):(z=B="left"===i.position?e.right:e.left,z+=V,B+=V),r.beginPath(),r.moveTo(z,W),r.lineTo(B,N),r.stroke()}}}})}},{25:25,26:26,34:34,45:45}],33:[function(t,e,n){"use strict";var i=t(25),a=t(45);e.exports=function(t){t.scaleService={constructors:{},defaults:{},registerScaleType:function(t,e,n){this.constructors[t]=e,this.defaults[t]=a.clone(n)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(t){return this.defaults.hasOwnProperty(t)?a.merge({},[i.scale,this.defaults[t]]):{}},updateScaleDefaults:function(t,e){var n=this;n.defaults.hasOwnProperty(t)&&(n.defaults[t]=a.extend(n.defaults[t],e))},addScalesToLayout:function(e){a.each(e.scales,function(n){n.fullWidth=n.options.fullWidth,n.position=n.options.position,n.weight=n.options.weight,t.layoutService.addBox(e,n)})}}}},{25:25,45:45}],34:[function(t,e,n){"use strict";var i=t(45);e.exports={generators:{linear:function(t,e){var n,a=[];if(t.stepSize&&t.stepSize>0)n=t.stepSize;else{var o=i.niceNum(e.max-e.min,!1);n=i.niceNum(o/(t.maxTicks-1),!0)}var r=Math.floor(e.min/n)*n,l=Math.ceil(e.max/n)*n;t.min&&t.max&&t.stepSize&&i.almostWhole((t.max-t.min)/t.stepSize,n/1e3)&&(r=t.min,l=t.max);var s=(l-r)/n;s=i.almostEquals(s,Math.round(s),n/1e3)?Math.round(s):Math.ceil(s),a.push(void 0!==t.min?t.min:r);for(var u=1;u<s;++u)a.push(r+u*n);return a.push(void 0!==t.max?t.max:l),a},logarithmic:function(t,e){var n,a,o=[],r=i.valueOrDefault,l=r(t.min,Math.pow(10,Math.floor(i.log10(e.min)))),s=Math.floor(i.log10(e.max)),u=Math.ceil(e.max/Math.pow(10,s));0===l?(n=Math.floor(i.log10(e.minNotZero)),a=Math.floor(e.minNotZero/Math.pow(10,n)),o.push(l),l=a*Math.pow(10,n)):(n=Math.floor(i.log10(l)),a=Math.floor(l/Math.pow(10,n)));do{o.push(l),10===++a&&(a=1,++n),l=a*Math.pow(10,n)}while(n<s||n===s&&a<u);var d=r(t.max,l);return o.push(d),o}},formatters:{values:function(t){return i.isArray(t)?t:""+t},linear:function(t,e,n){var a=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(a)>1&&t!==Math.floor(t)&&(a=t-Math.floor(t));var o=i.log10(Math.abs(a)),r="";if(0!==t){var l=-1*Math.floor(o);l=Math.max(Math.min(l,20),0),r=t.toFixed(l)}else r="0";return r},logarithmic:function(t,e,n){var a=t/Math.pow(10,Math.floor(i.log10(t)));return 0===t?"0":1===a||2===a||5===a||0===e||e===n.length-1?t.toExponential():""}}}},{45:45}],35:[function(t,e,n){"use strict";var i=t(25),a=t(26),o=t(45);i._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:o.noop,title:function(t,e){var n="",i=e.labels,a=i?i.length:0;if(t.length>0){var o=t[0];o.xLabel?n=o.xLabel:a>0&&o.index<a&&(n=i[o.index])}return n},afterTitle:o.noop,beforeBody:o.noop,beforeLabel:o.noop,label:function(t,e){var n=e.datasets[t.datasetIndex].label||"";return n&&(n+=": "),n+=t.yLabel},labelColor:function(t,e){var n=e.getDatasetMeta(t.datasetIndex).data[t.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:o.noop,afterBody:o.noop,beforeFooter:o.noop,footer:o.noop,afterFooter:o.noop}}}),e.exports=function(t){function e(t,e){var n=o.color(t);return n.alpha(e*n.alpha()).rgbaString()}function n(t,e){return e&&(o.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function r(t){var e=t._xScale,n=t._yScale||t._scale,i=t._index,a=t._datasetIndex;return{xLabel:e?e.getLabelForIndex(i,a):"",yLabel:n?n.getLabelForIndex(i,a):"",index:i,datasetIndex:a,x:t._model.x,y:t._model.y}}function l(t){var e=i.global,n=o.valueOrDefault;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,bodyFontColor:t.bodyFontColor,_bodyFontFamily:n(t.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:n(t.bodyFontStyle,e.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:n(t.bodyFontSize,e.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:n(t.titleFontFamily,e.defaultFontFamily),_titleFontStyle:n(t.titleFontStyle,e.defaultFontStyle),titleFontSize:n(t.titleFontSize,e.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:n(t.footerFontFamily,e.defaultFontFamily),_footerFontStyle:n(t.footerFontStyle,e.defaultFontStyle),footerFontSize:n(t.footerFontSize,e.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth}}function s(t,e){var n=t._chart.ctx,i=2*e.yPadding,a=0,r=e.body,l=r.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0);l+=e.beforeBody.length+e.afterBody.length;var s=e.title.length,u=e.footer.length,d=e.titleFontSize,c=e.bodyFontSize,h=e.footerFontSize;i+=s*d,i+=s?(s-1)*e.titleSpacing:0,i+=s?e.titleMarginBottom:0,i+=l*c,i+=l?(l-1)*e.bodySpacing:0,i+=u?e.footerMarginTop:0,i+=u*h,i+=u?(u-1)*e.footerSpacing:0;var f=0,g=function(t){a=Math.max(a,n.measureText(t).width+f)};return n.font=o.fontString(d,e._titleFontStyle,e._titleFontFamily),o.each(e.title,g),n.font=o.fontString(c,e._bodyFontStyle,e._bodyFontFamily),o.each(e.beforeBody.concat(e.afterBody),g),f=e.displayColors?c+2:0,o.each(r,function(t){o.each(t.before,g),o.each(t.lines,g),o.each(t.after,g)}),f=0,n.font=o.fontString(h,e._footerFontStyle,e._footerFontFamily),o.each(e.footer,g),a+=2*e.xPadding,{width:a,height:i}}function u(t,e){var n=t._model,i=t._chart,a=t._chart.chartArea,o="center",r="center";n.y<e.height?r="top":n.y>i.height-e.height&&(r="bottom");var l,s,u,d,c,h=(a.left+a.right)/2,f=(a.top+a.bottom)/2;"center"===r?(l=function(t){return t<=h},s=function(t){return t>h}):(l=function(t){return t<=e.width/2},s=function(t){return t>=i.width-e.width/2}),u=function(t){return t+e.width>i.width},d=function(t){return t-e.width<0},c=function(t){return t<=f?"top":"bottom"},l(n.x)?(o="left",u(n.x)&&(o="center",r=c(n.y))):s(n.x)&&(o="right",d(n.x)&&(o="center",r=c(n.y)));var g=t._options;return{xAlign:g.xAlign?g.xAlign:o,yAlign:g.yAlign?g.yAlign:r}}function d(t,e,n){var i=t.x,a=t.y,o=t.caretSize,r=t.caretPadding,l=t.cornerRadius,s=n.xAlign,u=n.yAlign,d=o+r,c=l+r;return"right"===s?i-=e.width:"center"===s&&(i-=e.width/2),"top"===u?a+=d:a-="bottom"===u?e.height+d:e.height/2,"center"===u?"left"===s?i+=d:"right"===s&&(i-=d):"left"===s?i-=c:"right"===s&&(i+=c),{x:i,y:a}}t.Tooltip=a.extend({initialize:function(){this._model=l(this._options),this._lastActive=[]},getTitle:function(){var t=this,e=t._options.callbacks,i=e.beforeTitle.apply(t,arguments),a=e.title.apply(t,arguments),o=e.afterTitle.apply(t,arguments),r=[];return r=n(r,i),r=n(r,a),r=n(r,o)},getBeforeBody:function(){var t=this._options.callbacks.beforeBody.apply(this,arguments);return o.isArray(t)?t:void 0!==t?[t]:[]},getBody:function(t,e){var i=this,a=i._options.callbacks,r=[];return o.each(t,function(t){var o={before:[],lines:[],after:[]};n(o.before,a.beforeLabel.call(i,t,e)),n(o.lines,a.label.call(i,t,e)),n(o.after,a.afterLabel.call(i,t,e)),r.push(o)}),r},getAfterBody:function(){var t=this._options.callbacks.afterBody.apply(this,arguments);return o.isArray(t)?t:void 0!==t?[t]:[]},getFooter:function(){var t=this,e=t._options.callbacks,i=e.beforeFooter.apply(t,arguments),a=e.footer.apply(t,arguments),o=e.afterFooter.apply(t,arguments),r=[];return r=n(r,i),r=n(r,a),r=n(r,o)},update:function(e){var n,i,a=this,c=a._options,h=a._model,f=a._model=l(c),g=a._active,p=a._data,v={xAlign:h.xAlign,yAlign:h.yAlign},m={x:h.x,y:h.y},b={width:h.width,height:h.height},x={x:h.caretX,y:h.caretY};if(g.length){f.opacity=1;var y=[],k=[];x=t.Tooltip.positioners[c.position].call(a,g,a._eventPosition);var w=[];for(n=0,i=g.length;n<i;++n)w.push(r(g[n]));c.filter&&(w=w.filter(function(t){return c.filter(t,p)})),c.itemSort&&(w=w.sort(function(t,e){return c.itemSort(t,e,p)})),o.each(w,function(t){y.push(c.callbacks.labelColor.call(a,t,a._chart)),k.push(c.callbacks.labelTextColor.call(a,t,a._chart))}),f.title=a.getTitle(w,p),f.beforeBody=a.getBeforeBody(w,p),f.body=a.getBody(w,p),f.afterBody=a.getAfterBody(w,p),f.footer=a.getFooter(w,p),f.x=Math.round(x.x),f.y=Math.round(x.y),f.caretPadding=c.caretPadding,f.labelColors=y,f.labelTextColors=k,f.dataPoints=w,m=d(f,b=s(this,f),v=u(this,b))}else f.opacity=0;return f.xAlign=v.xAlign,f.yAlign=v.yAlign,f.x=m.x,f.y=m.y,f.width=b.width,f.height=b.height,f.caretX=x.x,f.caretY=x.y,a._model=f,e&&c.custom&&c.custom.call(a,f),a},drawCaret:function(t,e){var n=this._chart.ctx,i=this._view,a=this.getCaretPosition(t,e,i);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)},getCaretPosition:function(t,e,n){var i,a,o,r,l,s,u=n.caretSize,d=n.cornerRadius,c=n.xAlign,h=n.yAlign,f=t.x,g=t.y,p=e.width,v=e.height;if("center"===h)l=g+v/2,"left"===c?(a=(i=f)-u,o=i,r=l+u,s=l-u):(a=(i=f+p)+u,o=i,r=l-u,s=l+u);else if("left"===c?(i=(a=f+d+u)-u,o=a+u):"right"===c?(i=(a=f+p-d-u)-u,o=a+u):(i=(a=f+p/2)-u,o=a+u),"top"===h)l=(r=g)-u,s=r;else{l=(r=g+v)+u,s=r;var m=o;o=i,i=m}return{x1:i,x2:a,x3:o,y1:r,y2:l,y3:s}},drawTitle:function(t,n,i,a){var r=n.title;if(r.length){i.textAlign=n._titleAlign,i.textBaseline="top";var l=n.titleFontSize,s=n.titleSpacing;i.fillStyle=e(n.titleFontColor,a),i.font=o.fontString(l,n._titleFontStyle,n._titleFontFamily);var u,d;for(u=0,d=r.length;u<d;++u)i.fillText(r[u],t.x,t.y),t.y+=l+s,u+1===r.length&&(t.y+=n.titleMarginBottom-s)}},drawBody:function(t,n,i,a){var r=n.bodyFontSize,l=n.bodySpacing,s=n.body;i.textAlign=n._bodyAlign,i.textBaseline="top",i.font=o.fontString(r,n._bodyFontStyle,n._bodyFontFamily);var u=0,d=function(e){i.fillText(e,t.x+u,t.y),t.y+=r+l};i.fillStyle=e(n.bodyFontColor,a),o.each(n.beforeBody,d);var c=n.displayColors;u=c?r+2:0,o.each(s,function(l,s){var u=e(n.labelTextColors[s],a);i.fillStyle=u,o.each(l.before,d),o.each(l.lines,function(o){c&&(i.fillStyle=e(n.legendColorBackground,a),i.fillRect(t.x,t.y,r,r),i.lineWidth=1,i.strokeStyle=e(n.labelColors[s].borderColor,a),i.strokeRect(t.x,t.y,r,r),i.fillStyle=e(n.labelColors[s].backgroundColor,a),i.fillRect(t.x+1,t.y+1,r-2,r-2),i.fillStyle=u),d(o)}),o.each(l.after,d)}),u=0,o.each(n.afterBody,d),t.y-=l},drawFooter:function(t,n,i,a){var r=n.footer;r.length&&(t.y+=n.footerMarginTop,i.textAlign=n._footerAlign,i.textBaseline="top",i.fillStyle=e(n.footerFontColor,a),i.font=o.fontString(n.footerFontSize,n._footerFontStyle,n._footerFontFamily),o.each(r,function(e){i.fillText(e,t.x,t.y),t.y+=n.footerFontSize+n.footerSpacing}))},drawBackground:function(t,n,i,a,o){i.fillStyle=e(n.backgroundColor,o),i.strokeStyle=e(n.borderColor,o),i.lineWidth=n.borderWidth;var r=n.xAlign,l=n.yAlign,s=t.x,u=t.y,d=a.width,c=a.height,h=n.cornerRadius;i.beginPath(),i.moveTo(s+h,u),"top"===l&&this.drawCaret(t,a),i.lineTo(s+d-h,u),i.quadraticCurveTo(s+d,u,s+d,u+h),"center"===l&&"right"===r&&this.drawCaret(t,a),i.lineTo(s+d,u+c-h),i.quadraticCurveTo(s+d,u+c,s+d-h,u+c),"bottom"===l&&this.drawCaret(t,a),i.lineTo(s+h,u+c),i.quadraticCurveTo(s,u+c,s,u+c-h),"center"===l&&"left"===r&&this.drawCaret(t,a),i.lineTo(s,u+h),i.quadraticCurveTo(s,u,s+h,u),i.closePath(),i.fill(),n.borderWidth>0&&i.stroke()},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var n={width:e.width,height:e.height},i={x:e.x,y:e.y},a=Math.abs(e.opacity<.001)?0:e.opacity,o=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;this._options.enabled&&o&&(this.drawBackground(i,e,t,n,a),i.x+=e.xPadding,i.y+=e.yPadding,this.drawTitle(i,e,t,a),this.drawBody(i,e,t,a),this.drawFooter(i,e,t,a))}},handleEvent:function(t){var e=this,n=e._options,i=!1;if(e._lastActive=e._lastActive||[],"mouseout"===t.type?e._active=[]:e._active=e._chart.getElementsAtEventForMode(t,n.mode,n),!(i=!o.arrayEquals(e._active,e._lastActive)))return!1;if(e._lastActive=e._active,n.enabled||n.custom){e._eventPosition={x:t.x,y:t.y};var a=e._model;e.update(!0),e.pivot(),i|=a.x!==e._model.x||a.y!==e._model.y}return i}}),t.Tooltip.positioners={average:function(t){if(!t.length)return!1;var e,n,i=0,a=0,o=0;for(e=0,n=t.length;e<n;++e){var r=t[e];if(r&&r.hasValue()){var l=r.tooltipPosition();i+=l.x,a+=l.y,++o}}return{x:Math.round(i/o),y:Math.round(a/o)}},nearest:function(t,e){var n,i,a,r=e.x,l=e.y,s=Number.POSITIVE_INFINITY;for(n=0,i=t.length;n<i;++n){var u=t[n];if(u&&u.hasValue()){var d=u.getCenterPoint(),c=o.distanceBetweenPoints(e,d);c<s&&(s=c,a=u)}}if(a){var h=a.tooltipPosition();r=h.x,l=h.y}return{x:r,y:l}}}}},{25:25,26:26,45:45}],36:[function(t,e,n){"use strict";var i=t(25),a=t(26),o=t(45);i._set("global",{elements:{arc:{backgroundColor:i.global.defaultColor,borderColor:"#fff",borderWidth:2}}}),e.exports=a.extend({inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,e){var n=this._view;if(n){for(var i=o.getAngleFromPoint(n,{x:t,y:e}),a=i.angle,r=i.distance,l=n.startAngle,s=n.endAngle;s<l;)s+=2*Math.PI;for(;a>s;)a-=2*Math.PI;for(;a<l;)a+=2*Math.PI;var u=a>=l&&a<=s,d=r>=n.innerRadius&&r<=n.outerRadius;return u&&d}return!1},getCenterPoint:function(){var t=this._view,e=(t.startAngle+t.endAngle)/2,n=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},getArea:function(){var t=this._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2))},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,n=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},draw:function(){var t=this._chart.ctx,e=this._view,n=e.startAngle,i=e.endAngle;t.beginPath(),t.arc(e.x,e.y,e.outerRadius,n,i),t.arc(e.x,e.y,e.innerRadius,i,n,!0),t.closePath(),t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth,t.fillStyle=e.backgroundColor,t.fill(),t.lineJoin="bevel",e.borderWidth&&t.stroke()}})},{25:25,26:26,45:45}],37:[function(t,e,n){"use strict";var i=t(25),a=t(26),o=t(45),r=i.global;i._set("global",{elements:{line:{tension:.4,backgroundColor:r.defaultColor,borderWidth:3,borderColor:r.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}}),e.exports=a.extend({draw:function(){var t,e,n,i,a=this,l=a._view,s=a._chart.ctx,u=l.spanGaps,d=a._children.slice(),c=r.elements.line,h=-1;for(a._loop&&d.length&&d.push(d[0]),s.save(),s.lineCap=l.borderCapStyle||c.borderCapStyle,s.setLineDash&&s.setLineDash(l.borderDash||c.borderDash),s.lineDashOffset=l.borderDashOffset||c.borderDashOffset,s.lineJoin=l.borderJoinStyle||c.borderJoinStyle,s.lineWidth=l.borderWidth||c.borderWidth,s.strokeStyle=l.borderColor||r.defaultColor,s.beginPath(),h=-1,t=0;t<d.length;++t)e=d[t],n=o.previousItem(d,t),i=e._view,0===t?i.skip||(s.moveTo(i.x,i.y),h=t):(n=-1===h?n:d[h],i.skip||(h!==t-1&&!u||-1===h?s.moveTo(i.x,i.y):o.canvas.lineTo(s,n._view,e._view),h=t));s.stroke(),s.restore()}})},{25:25,26:26,45:45}],38:[function(t,e,n){"use strict";function i(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hitRadius,2)}var a=t(25),o=t(26),r=t(45),l=a.global.defaultColor;a._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:l,borderColor:l,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}}),e.exports=o.extend({inRange:function(t,e){var n=this._view;return!!n&&Math.pow(t-n.x,2)+Math.pow(e-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:i,inXRange:i,inYRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.y,2)<Math.pow(e.radius+e.hitRadius,2)},getCenterPoint:function(){var t=this._view;return{x:t.x,y:t.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(t){var e=this._view,n=this._model,i=this._chart.ctx,o=e.pointStyle,s=e.radius,u=e.x,d=e.y,c=r.color,h=0;e.skip||(i.strokeStyle=e.borderColor||l,i.lineWidth=r.valueOrDefault(e.borderWidth,a.global.elements.point.borderWidth),i.fillStyle=e.backgroundColor||l,void 0!==t&&(n.x<t.left||1.01*t.right<n.x||n.y<t.top||1.01*t.bottom<n.y)&&(n.x<t.left?h=(u-n.x)/(t.left-n.x):1.01*t.right<n.x?h=(n.x-u)/(n.x-t.right):n.y<t.top?h=(d-n.y)/(t.top-n.y):1.01*t.bottom<n.y&&(h=(n.y-d)/(n.y-t.bottom)),h=Math.round(100*h)/100,i.strokeStyle=c(i.strokeStyle).alpha(h).rgbString(),i.fillStyle=c(i.fillStyle).alpha(h).rgbString()),r.canvas.drawPoint(i,o,s,u,d))}})},{25:25,26:26,45:45}],39:[function(t,e,n){"use strict";function i(t){return void 0!==t._view.width}function a(t){var e,n,a,o,r=t._view;if(i(t)){var l=r.width/2;e=r.x-l,n=r.x+l,a=Math.min(r.y,r.base),o=Math.max(r.y,r.base)}else{var s=r.height/2;e=Math.min(r.x,r.base),n=Math.max(r.x,r.base),a=r.y-s,o=r.y+s}return{left:e,top:a,right:n,bottom:o}}var o=t(25),r=t(26);o._set("global",{elements:{rectangle:{backgroundColor:o.global.defaultColor,borderColor:o.global.defaultColor,borderSkipped:"bottom",borderWidth:0}}}),e.exports=r.extend({draw:function(){function t(t){return m[(b+t)%4]}var e,n,i,a,o,r,l,s=this._chart.ctx,u=this._view,d=u.borderWidth;if(u.horizontal?(e=u.base,n=u.x,i=u.y-u.height/2,a=u.y+u.height/2,o=n>e?1:-1,r=1,l=u.borderSkipped||"left"):(e=u.x-u.width/2,n=u.x+u.width/2,i=u.y,o=1,r=(a=u.base)>i?1:-1,l=u.borderSkipped||"bottom"),d){var c=Math.min(Math.abs(e-n),Math.abs(i-a)),h=(d=d>c?c:d)/2,f=e+("left"!==l?h*o:0),g=n+("right"!==l?-h*o:0),p=i+("top"!==l?h*r:0),v=a+("bottom"!==l?-h*r:0);f!==g&&(i=p,a=v),p!==v&&(e=f,n=g)}s.beginPath(),s.fillStyle=u.backgroundColor,s.strokeStyle=u.borderColor,s.lineWidth=d;var m=[[e,a],[e,i],[n,i],[n,a]],b=["bottom","left","top","right"].indexOf(l,0);-1===b&&(b=0);var x=t(0);s.moveTo(x[0],x[1]);for(var y=1;y<4;y++)x=t(y),s.lineTo(x[0],x[1]);s.fill(),d&&s.stroke()},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){var n=!1;if(this._view){var i=a(this);n=t>=i.left&&t<=i.right&&e>=i.top&&e<=i.bottom}return n},inLabelRange:function(t,e){var n=this;if(!n._view)return!1;var o=a(n);return i(n)?t>=o.left&&t<=o.right:e>=o.top&&e<=o.bottom},inXRange:function(t){var e=a(this);return t>=e.left&&t<=e.right},inYRange:function(t){var e=a(this);return t>=e.top&&t<=e.bottom},getCenterPoint:function(){var t,e,n=this._view;return i(this)?(t=n.x,e=(n.y+n.base)/2):(t=(n.x+n.base)/2,e=n.y),{x:t,y:e}},getArea:function(){var t=this._view;return t.width*Math.abs(t.y-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}})},{25:25,26:26}],40:[function(t,e,n){"use strict";e.exports={},e.exports.Arc=t(36),e.exports.Line=t(37),e.exports.Point=t(38),e.exports.Rectangle=t(39)},{36:36,37:37,38:38,39:39}],41:[function(t,e,n){"use strict";var i=t(42),n=e.exports={clear:function(t){t.ctx.clearRect(0,0,t.width,t.height)},roundedRect:function(t,e,n,i,a,o){if(o){var r=Math.min(o,i/2),l=Math.min(o,a/2);t.moveTo(e+r,n),t.lineTo(e+i-r,n),t.quadraticCurveTo(e+i,n,e+i,n+l),t.lineTo(e+i,n+a-l),t.quadraticCurveTo(e+i,n+a,e+i-r,n+a),t.lineTo(e+r,n+a),t.quadraticCurveTo(e,n+a,e,n+a-l),t.lineTo(e,n+l),t.quadraticCurveTo(e,n,e+r,n)}else t.rect(e,n,i,a)},drawPoint:function(t,e,n,i,a){var o,r,l,s,u,d;if(!e||"object"!=typeof e||"[object HTMLImageElement]"!==(o=e.toString())&&"[object HTMLCanvasElement]"!==o){if(!(isNaN(n)||n<=0)){switch(e){default:t.beginPath(),t.arc(i,a,n,0,2*Math.PI),t.closePath(),t.fill();break;case"triangle":t.beginPath(),u=(r=3*n/Math.sqrt(3))*Math.sqrt(3)/2,t.moveTo(i-r/2,a+u/3),t.lineTo(i+r/2,a+u/3),t.lineTo(i,a-2*u/3),t.closePath(),t.fill();break;case"rect":d=1/Math.SQRT2*n,t.beginPath(),t.fillRect(i-d,a-d,2*d,2*d),t.strokeRect(i-d,a-d,2*d,2*d);break;case"rectRounded":var c=n/Math.SQRT2,h=i-c,f=a-c,g=Math.SQRT2*n;t.beginPath(),this.roundedRect(t,h,f,g,g,n/2),t.closePath(),t.fill();break;case"rectRot":d=1/Math.SQRT2*n,t.beginPath(),t.moveTo(i-d,a),t.lineTo(i,a+d),t.lineTo(i+d,a),t.lineTo(i,a-d),t.closePath(),t.fill();break;case"cross":t.beginPath(),t.moveTo(i,a+n),t.lineTo(i,a-n),t.moveTo(i-n,a),t.lineTo(i+n,a),t.closePath();break;case"crossRot":t.beginPath(),l=Math.cos(Math.PI/4)*n,s=Math.sin(Math.PI/4)*n,t.moveTo(i-l,a-s),t.lineTo(i+l,a+s),t.moveTo(i-l,a+s),t.lineTo(i+l,a-s),t.closePath();break;case"star":t.beginPath(),t.moveTo(i,a+n),t.lineTo(i,a-n),t.moveTo(i-n,a),t.lineTo(i+n,a),l=Math.cos(Math.PI/4)*n,s=Math.sin(Math.PI/4)*n,t.moveTo(i-l,a-s),t.lineTo(i+l,a+s),t.moveTo(i-l,a+s),t.lineTo(i+l,a-s),t.closePath();break;case"line":t.beginPath(),t.moveTo(i-n,a),t.lineTo(i+n,a),t.closePath();break;case"dash":t.beginPath(),t.moveTo(i,a),t.lineTo(i+n,a),t.closePath()}t.stroke()}}else t.drawImage(e,i-e.width/2,a-e.height/2,e.width,e.height)},clipArea:function(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()},unclipArea:function(t){t.restore()},lineTo:function(t,e,n,i){if(n.steppedLine)return"after"===n.steppedLine&&!i||"after"!==n.steppedLine&&i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y),void t.lineTo(n.x,n.y);n.tension?t.bezierCurveTo(i?e.controlPointPreviousX:e.controlPointNextX,i?e.controlPointPreviousY:e.controlPointNextY,i?n.controlPointNextX:n.controlPointPreviousX,i?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):t.lineTo(n.x,n.y)}};i.clear=n.clear,i.drawRoundedRectangle=function(t){t.beginPath(),n.roundedRect.apply(n,arguments),t.closePath()}},{42:42}],42:[function(t,e,n){"use strict";var i={noop:function(){},uid:function(){var t=0;return function(){return t++}}(),isNullOrUndef:function(t){return null===t||void 0===t},isArray:Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},isObject:function(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)},valueOrDefault:function(t,e){return void 0===t?e:t},valueAtIndexOrDefault:function(t,e,n){return i.valueOrDefault(i.isArray(t)?t[e]:t,n)},callback:function(t,e,n){if(t&&"function"==typeof t.call)return t.apply(n,e)},each:function(t,e,n,a){var o,r,l;if(i.isArray(t))if(r=t.length,a)for(o=r-1;o>=0;o--)e.call(n,t[o],o);else for(o=0;o<r;o++)e.call(n,t[o],o);else if(i.isObject(t))for(r=(l=Object.keys(t)).length,o=0;o<r;o++)e.call(n,t[l[o]],l[o])},arrayEquals:function(t,e){var n,a,o,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,a=t.length;n<a;++n)if(o=t[n],r=e[n],o instanceof Array&&r instanceof Array){if(!i.arrayEquals(o,r))return!1}else if(o!==r)return!1;return!0},clone:function(t){if(i.isArray(t))return t.map(i.clone);if(i.isObject(t)){for(var e={},n=Object.keys(t),a=n.length,o=0;o<a;++o)e[n[o]]=i.clone(t[n[o]]);return e}return t},_merger:function(t,e,n,a){var o=e[t],r=n[t];i.isObject(o)&&i.isObject(r)?i.merge(o,r,a):e[t]=i.clone(r)},_mergerIf:function(t,e,n){var a=e[t],o=n[t];i.isObject(a)&&i.isObject(o)?i.mergeIf(a,o):e.hasOwnProperty(t)||(e[t]=i.clone(o))},merge:function(t,e,n){var a,o,r,l,s,u=i.isArray(e)?e:[e],d=u.length;if(!i.isObject(t))return t;for(a=(n=n||{}).merger||i._merger,o=0;o<d;++o)if(e=u[o],i.isObject(e))for(s=0,l=(r=Object.keys(e)).length;s<l;++s)a(r[s],t,e,n);return t},mergeIf:function(t,e){return i.merge(t,e,{merger:i._mergerIf})},extend:function(t){for(var e=1,n=arguments.length;e<n;++e)i.each(arguments[e],function(e,n){t[n]=e});return t},inherits:function(t){var e=this,n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},a=function(){this.constructor=n};return a.prototype=e.prototype,n.prototype=new a,n.extend=i.inherits,t&&i.extend(n.prototype,t),n.__super__=e.prototype,n}};e.exports=i,i.callCallback=i.callback,i.indexOf=function(t,e,n){return Array.prototype.indexOf.call(t,e,n)},i.getValueOrDefault=i.valueOrDefault,i.getValueAtIndexOrDefault=i.valueAtIndexOrDefault},{}],43:[function(t,e,n){"use strict";var i=t(42),a={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return t>=1?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1===t?1:(n||(n=.3),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n))},easeOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1===t?1:(n||(n=.3),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},easeInOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:2==(t/=.5)?1:(n||(n=.45),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-a.easeOutBounce(1-t)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*a.easeInBounce(2*t):.5*a.easeOutBounce(2*t-1)+.5}};e.exports={effects:a},i.easingEffects=a},{42:42}],44:[function(t,e,n){"use strict";var i=t(42);e.exports={toLineHeight:function(t,e){var n=(""+t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t},toPadding:function(t){var e,n,a,o;return i.isObject(t)?(e=+t.top||0,n=+t.right||0,a=+t.bottom||0,o=+t.left||0):e=n=a=o=+t||0,{top:e,right:n,bottom:a,left:o,height:e+a,width:o+n}},resolve:function(t,e,n){var a,o,r;for(a=0,o=t.length;a<o;++a)if(void 0!==(r=t[a])&&(void 0!==e&&"function"==typeof r&&(r=r(e)),void 0!==n&&i.isArray(r)&&(r=r[n]),void 0!==r))return r}}},{42:42}],45:[function(t,e,n){"use strict";e.exports=t(42),e.exports.easing=t(43),e.exports.canvas=t(41),e.exports.options=t(44)},{41:41,42:42,43:43,44:44}],46:[function(t,e,n){e.exports={acquireContext:function(t){return t&&t.canvas&&(t=t.canvas),t&&t.getContext("2d")||null}}},{}],47:[function(t,e,n){"use strict";function i(t,e){var n=v.getStyle(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?Number(i[1]):void 0}function a(t,e){var n=t.style,a=t.getAttribute("height"),o=t.getAttribute("width");if(t[m]={initial:{height:a,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===o||""===o){var r=i(t,"width");void 0!==r&&(t.width=r)}if(null===a||""===a)if(""===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{var l=i(t,"height");void 0!==r&&(t.height=l)}return t}function o(t,e,n){t.addEventListener(e,n,M)}function r(t,e,n){t.removeEventListener(e,n,M)}function l(t,e,n,i,a){return{type:t,chart:e,native:a||null,x:void 0!==n?n:null,y:void 0!==i?i:null}}function s(t,e){var n=w[t.type]||t.type,i=v.getRelativePosition(t,e);return l(n,e,i.x,i.y,t)}function u(t,e){var n=!1,i=[];return function(){i=Array.prototype.slice.call(arguments),e=e||this,n||(n=!0,v.requestAnimFrame.call(window,function(){n=!1,t.apply(e,i)}))}}function d(t){var e=document.createElement("div"),n=b+"size-monitor",i="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;";e.style.cssText=i,e.className=n,e.innerHTML='<div class="'+n+'-expand" style="'+i+'"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="'+n+'-shrink" style="'+i+'"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div>';var a=e.childNodes[0],r=e.childNodes[1];e._reset=function(){a.scrollLeft=1e6,a.scrollTop=1e6,r.scrollLeft=1e6,r.scrollTop=1e6};var l=function(){e._reset(),t()};return o(a,"scroll",l.bind(a,"expand")),o(r,"scroll",l.bind(r,"shrink")),e}function c(t,e){var n=t[m]||(t[m]={}),i=n.renderProxy=function(t){t.animationName===y&&e()};v.each(k,function(e){o(t,e,i)}),n.reflow=!!t.offsetParent,t.classList.add(x)}function h(t){var e=t[m]||{},n=e.renderProxy;n&&(v.each(k,function(e){r(t,e,n)}),delete e.renderProxy),t.classList.remove(x)}function f(t,e,n){var i=t[m]||(t[m]={}),a=i.resizer=d(u(function(){if(i.resizer)return e(l("resize",n))}));c(t,function(){if(i.resizer){var e=t.parentNode;e&&e!==a.parentNode&&e.insertBefore(a,e.firstChild),a._reset()}})}function g(t){var e=t[m]||{},n=e.resizer;delete e.resizer,h(t),n&&n.parentNode&&n.parentNode.removeChild(n)}function p(t,e){var n=t._style||document.createElement("style");t._style||(t._style=n,e="/* Chart.js */\n"+e,n.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(n)),n.appendChild(document.createTextNode(e))}var v=t(45),m="$chartjs",b="chartjs-",x=b+"render-monitor",y=b+"render-animation",k=["animationstart","webkitAnimationStart"],w={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},M=!!function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("e",null,e)}catch(t){}return t}()&&{passive:!0};e.exports={_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,initialize:function(){var t="from{opacity:0.99}to{opacity:1}";p(this,"@-webkit-keyframes "+y+"{"+t+"}@keyframes "+y+"{"+t+"}."+x+"{-webkit-animation:"+y+" 0.001s;animation:"+y+" 0.001s;}")},acquireContext:function(t,e){"string"==typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas);var n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(a(t,e),n):null},releaseContext:function(t){var e=t.canvas;if(e[m]){var n=e[m].initial;["height","width"].forEach(function(t){var i=n[t];v.isNullOrUndef(i)?e.removeAttribute(t):e.setAttribute(t,i)}),v.each(n.style||{},function(t,n){e.style[n]=t}),e.width=e.width,delete e[m]}},addEventListener:function(t,e,n){var i=t.canvas;if("resize"!==e){var a=n[m]||(n[m]={});o(i,e,(a.proxies||(a.proxies={}))[t.id+"_"+e]=function(e){n(s(e,t))})}else f(i,n,t)},removeEventListener:function(t,e,n){var i=t.canvas;if("resize"!==e){var a=((n[m]||{}).proxies||{})[t.id+"_"+e];a&&r(i,e,a)}else g(i)}},v.addEvent=o,v.removeEvent=r},{45:45}],48:[function(t,e,n){"use strict";var i=t(45),a=t(46),o=t(47),r=o._enabled?o:a;e.exports=i.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},r)},{45:45,46:46,47:47}],49:[function(t,e,n){"use strict";var i=t(25),a=t(40),o=t(45);i._set("global",{plugins:{filler:{propagate:!0}}}),e.exports=function(){function t(t,e,n){var i,a=t._model||{},o=a.fill;if(void 0===o&&(o=!!a.backgroundColor),!1===o||null===o)return!1;if(!0===o)return"origin";if(i=parseFloat(o,10),isFinite(i)&&Math.floor(i)===i)return"-"!==o[0]&&"+"!==o[0]||(i=e+i),!(i===e||i<0||i>=n)&&i;switch(o){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return o;default:return!1}}function e(t){var e,n=t.el._model||{},i=t.el._scale||{},a=t.fill,o=null;if(isFinite(a))return null;if("start"===a?o=void 0===n.scaleBottom?i.bottom:n.scaleBottom:"end"===a?o=void 0===n.scaleTop?i.top:n.scaleTop:void 0!==n.scaleZero?o=n.scaleZero:i.getBasePosition?o=i.getBasePosition():i.getBasePixel&&(o=i.getBasePixel()),void 0!==o&&null!==o){if(void 0!==o.x&&void 0!==o.y)return o;if("number"==typeof o&&isFinite(o))return e=i.isHorizontal(),{x:e?o:null,y:e?null:o}}return null}function n(t,e,n){var i,a=t[e].fill,o=[e];if(!n)return a;for(;!1!==a&&-1===o.indexOf(a);){if(!isFinite(a))return a;if(!(i=t[a]))return!1;if(i.visible)return a;o.push(a),a=i.fill}return!1}function r(t){var e=t.fill,n="dataset";return!1===e?null:(isFinite(e)||(n="boundary"),d[n](t))}function l(t){return t&&!t.skip}function s(t,e,n,i,a){var r;if(i&&a){for(t.moveTo(e[0].x,e[0].y),r=1;r<i;++r)o.canvas.lineTo(t,e[r-1],e[r]);for(t.lineTo(n[a-1].x,n[a-1].y),r=a-1;r>0;--r)o.canvas.lineTo(t,n[r],n[r-1],!0)}}function u(t,e,n,i,a,o){var r,u,d,c,h,f,g,p=e.length,v=i.spanGaps,m=[],b=[],x=0,y=0;for(t.beginPath(),r=0,u=p+!!o;r<u;++r)h=n(c=e[d=r%p]._view,d,i),f=l(c),g=l(h),f&&g?(x=m.push(c),y=b.push(h)):x&&y&&(v?(f&&m.push(c),g&&b.push(h)):(s(t,m,b,x,y),x=y=0,m=[],b=[]));s(t,m,b,x,y),t.closePath(),t.fillStyle=a,t.fill()}var d={dataset:function(t){var e=t.fill,n=t.chart,i=n.getDatasetMeta(e),a=i&&n.isDatasetVisible(e)&&i.dataset._children||[],o=a.length||0;return o?function(t,e){return e<o&&a[e]._view||null}:null},boundary:function(t){var e=t.boundary,n=e?e.x:null,i=e?e.y:null;return function(t){return{x:null===n?t.x:n,y:null===i?t.y:i}}}};return{id:"filler",afterDatasetsUpdate:function(i,o){var l,s,u,d,c=(i.data.datasets||[]).length,h=o.propagate,f=[];for(s=0;s<c;++s)d=null,(u=(l=i.getDatasetMeta(s)).dataset)&&u._model&&u instanceof a.Line&&(d={visible:i.isDatasetVisible(s),fill:t(u,s,c),chart:i,el:u}),l.$filler=d,f.push(d);for(s=0;s<c;++s)(d=f[s])&&(d.fill=n(f,s,h),d.boundary=e(d),d.mapper=r(d))},beforeDatasetDraw:function(t,e){var n=e.meta.$filler;if(n){var a=t.ctx,r=n.el,l=r._view,s=r._children||[],d=n.mapper,c=l.backgroundColor||i.global.defaultColor;d&&c&&s.length&&(o.canvas.clipArea(a,t.chartArea),u(a,s,d,l,c,r._loop),o.canvas.unclipArea(a))}}}}},{25:25,40:40,45:45}],50:[function(t,e,n){"use strict";var i=t(25),a=t(26),o=t(45);i._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(t,e){var n=e.datasetIndex,i=this.chart,a=i.getDatasetMeta(n);a.hidden=null===a.hidden?!i.data.datasets[n].hidden:null,i.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(t){var e=t.data;return o.isArray(e.datasets)?e.datasets.map(function(e,n){return{text:e.label,fillStyle:o.isArray(e.backgroundColor)?e.backgroundColor[0]:e.backgroundColor,hidden:!t.isDatasetVisible(n),lineCap:e.borderCapStyle,lineDash:e.borderDash,lineDashOffset:e.borderDashOffset,lineJoin:e.borderJoinStyle,lineWidth:e.borderWidth,strokeStyle:e.borderColor,pointStyle:e.pointStyle,datasetIndex:n}},this):[]}}},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');for(var n=0;n<t.data.datasets.length;n++)e.push('<li><span style="background-color:'+t.data.datasets[n].backgroundColor+'"></span>'),t.data.datasets[n].label&&e.push(t.data.datasets[n].label),e.push("</li>");return e.push("</ul>"),e.join("")}}),e.exports=function(t){function e(t,e){return t.usePointStyle?e*Math.SQRT2:t.boxWidth}function n(e,n){var i=new t.Legend({ctx:e.ctx,options:n,chart:e});r.configure(e,i,n),r.addBox(e,i),e.legend=i}var r=t.layoutService,l=o.noop;return t.Legend=a.extend({initialize:function(t){o.extend(this,t),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:l,update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:l,beforeSetDimensions:l,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:l,beforeBuildLabels:l,buildLabels:function(){var t=this,e=t.options.labels||{},n=o.callback(e.generateLabels,[t.chart],t)||[];e.filter&&(n=n.filter(function(n){return e.filter(n,t.chart.data)})),t.options.reverse&&n.reverse(),t.legendItems=n},afterBuildLabels:l,beforeFit:l,fit:function(){var t=this,n=t.options,a=n.labels,r=n.display,l=t.ctx,s=i.global,u=o.valueOrDefault,d=u(a.fontSize,s.defaultFontSize),c=u(a.fontStyle,s.defaultFontStyle),h=u(a.fontFamily,s.defaultFontFamily),f=o.fontString(d,c,h),g=t.legendHitBoxes=[],p=t.minSize,v=t.isHorizontal();if(v?(p.width=t.maxWidth,p.height=r?10:0):(p.width=r?10:0,p.height=t.maxHeight),r)if(l.font=f,v){var m=t.lineWidths=[0],b=t.legendItems.length?d+a.padding:0;l.textAlign="left",l.textBaseline="top",o.each(t.legendItems,function(n,i){var o=e(a,d)+d/2+l.measureText(n.text).width;m[m.length-1]+o+a.padding>=t.width&&(b+=d+a.padding,m[m.length]=t.left),g[i]={left:0,top:0,width:o,height:d},m[m.length-1]+=o+a.padding}),p.height+=b}else{var x=a.padding,y=t.columnWidths=[],k=a.padding,w=0,M=0,S=d+x;o.each(t.legendItems,function(t,n){var i=e(a,d)+d/2+l.measureText(t.text).width;M+S>p.height&&(k+=w+a.padding,y.push(w),w=0,M=0),w=Math.max(w,i),M+=S,g[n]={left:0,top:0,width:i,height:d}}),k+=w,y.push(w),p.width+=k}t.width=p.width,t.height=p.height},afterFit:l,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var t=this,n=t.options,a=n.labels,r=i.global,l=r.elements.line,s=t.width,u=t.lineWidths;if(n.display){var d,c=t.ctx,h=o.valueOrDefault,f=h(a.fontColor,r.defaultFontColor),g=h(a.fontSize,r.defaultFontSize),p=h(a.fontStyle,r.defaultFontStyle),v=h(a.fontFamily,r.defaultFontFamily),m=o.fontString(g,p,v);c.textAlign="left",c.textBaseline="middle",c.lineWidth=.5,c.strokeStyle=f,c.fillStyle=f,c.font=m;var b=e(a,g),x=t.legendHitBoxes,y=function(t,e,i){if(!(isNaN(b)||b<=0)){c.save(),c.fillStyle=h(i.fillStyle,r.defaultColor),c.lineCap=h(i.lineCap,l.borderCapStyle),c.lineDashOffset=h(i.lineDashOffset,l.borderDashOffset),c.lineJoin=h(i.lineJoin,l.borderJoinStyle),c.lineWidth=h(i.lineWidth,l.borderWidth),c.strokeStyle=h(i.strokeStyle,r.defaultColor);var a=0===h(i.lineWidth,l.borderWidth);if(c.setLineDash&&c.setLineDash(h(i.lineDash,l.borderDash)),n.labels&&n.labels.usePointStyle){var s=g*Math.SQRT2/2,u=s/Math.SQRT2,d=t+u,f=e+u;o.canvas.drawPoint(c,i.pointStyle,s,d,f)}else a||c.strokeRect(t,e,b,g),c.fillRect(t,e,b,g);c.restore()}},k=function(t,e,n,i){var a=g/2,o=b+a+t,r=e+a;c.fillText(n.text,o,r),n.hidden&&(c.beginPath(),c.lineWidth=2,c.moveTo(o,r),c.lineTo(o+i,r),c.stroke())},w=t.isHorizontal();d=w?{x:t.left+(s-u[0])/2,y:t.top+a.padding,line:0}:{x:t.left+a.padding,y:t.top+a.padding,line:0};var M=g+a.padding;o.each(t.legendItems,function(e,n){var i=c.measureText(e.text).width,o=b+g/2+i,r=d.x,l=d.y;w?r+o>=s&&(l=d.y+=M,d.line++,r=d.x=t.left+(s-u[d.line])/2):l+M>t.bottom&&(r=d.x=r+t.columnWidths[d.line]+a.padding,l=d.y=t.top+a.padding,d.line++),y(r,l,e),x[n].left=r,x[n].top=l,k(r,l,e,i),w?d.x+=o+a.padding:d.y+=M})}},handleEvent:function(t){var e=this,n=e.options,i="mouseup"===t.type?"click":t.type,a=!1;if("mousemove"===i){if(!n.onHover)return}else{if("click"!==i)return;if(!n.onClick)return}var o=t.x,r=t.y;if(o>=e.left&&o<=e.right&&r>=e.top&&r<=e.bottom)for(var l=e.legendHitBoxes,s=0;s<l.length;++s){var u=l[s];if(o>=u.left&&o<=u.left+u.width&&r>=u.top&&r<=u.top+u.height){if("click"===i){n.onClick.call(e,t.native,e.legendItems[s]),a=!0;break}if("mousemove"===i){n.onHover.call(e,t.native,e.legendItems[s]),a=!0;break}}}return a}}),{id:"legend",beforeInit:function(t){var e=t.options.legend;e&&n(t,e)},beforeUpdate:function(t){var e=t.options.legend,a=t.legend;e?(o.mergeIf(e,i.global.legend),a?(r.configure(t,a,e),a.options=e):n(t,e)):a&&(r.removeBox(t,a),delete t.legend)},afterEvent:function(t,e){var n=t.legend;n&&n.handleEvent(e)}}}},{25:25,26:26,45:45}],51:[function(t,e,n){"use strict";var i=t(25),a=t(26),o=t(45);i._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,lineHeight:1.2,padding:10,position:"top",text:"",weight:2e3}}),e.exports=function(t){function e(e,i){var a=new t.Title({ctx:e.ctx,options:i,chart:e});n.configure(e,a,i),n.addBox(e,a),e.titleBlock=a}var n=t.layoutService,r=o.noop;return t.Title=a.extend({initialize:function(t){var e=this;o.extend(e,t),e.legendHitBoxes=[]},beforeUpdate:r,update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:r,beforeSetDimensions:r,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:r,beforeBuildLabels:r,buildLabels:r,afterBuildLabels:r,beforeFit:r,fit:function(){var t=this,e=o.valueOrDefault,n=t.options,a=n.display,r=e(n.fontSize,i.global.defaultFontSize),l=t.minSize,s=o.isArray(n.text)?n.text.length:1,u=o.options.toLineHeight(n.lineHeight,r),d=a?s*u+2*n.padding:0;t.isHorizontal()?(l.width=t.maxWidth,l.height=d):(l.width=d,l.height=t.maxHeight),t.width=l.width,t.height=l.height},afterFit:r,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var t=this,e=t.ctx,n=o.valueOrDefault,a=t.options,r=i.global;if(a.display){var l,s,u,d=n(a.fontSize,r.defaultFontSize),c=n(a.fontStyle,r.defaultFontStyle),h=n(a.fontFamily,r.defaultFontFamily),f=o.fontString(d,c,h),g=o.options.toLineHeight(a.lineHeight,d),p=g/2+a.padding,v=0,m=t.top,b=t.left,x=t.bottom,y=t.right;e.fillStyle=n(a.fontColor,r.defaultFontColor),e.font=f,t.isHorizontal()?(s=b+(y-b)/2,u=m+p,l=y-b):(s="left"===a.position?b+p:y-p,u=m+(x-m)/2,l=x-m,v=Math.PI*("left"===a.position?-.5:.5)),e.save(),e.translate(s,u),e.rotate(v),e.textAlign="center",e.textBaseline="middle";var k=a.text;if(o.isArray(k))for(var w=0,M=0;M<k.length;++M)e.fillText(k[M],0,w,l),w+=g;else e.fillText(k,0,0,l);e.restore()}}}),{id:"title",beforeInit:function(t){var n=t.options.title;n&&e(t,n)},beforeUpdate:function(a){var r=a.options.title,l=a.titleBlock;r?(o.mergeIf(r,i.global.title),l?(n.configure(a,l,r),l.options=r):e(a,r)):l&&(t.layoutService.removeBox(a,l),delete a.titleBlock)}}}},{25:25,26:26,45:45}],52:[function(t,e,n){"use strict";e.exports=function(t){var e=t.Scale.extend({getLabels:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels},determineDataLimits:function(){var t=this,e=t.getLabels();t.minIndex=0,t.maxIndex=e.length-1;var n;void 0!==t.options.ticks.min&&(n=e.indexOf(t.options.ticks.min),t.minIndex=-1!==n?n:t.minIndex),void 0!==t.options.ticks.max&&(n=e.indexOf(t.options.ticks.max),t.maxIndex=-1!==n?n:t.maxIndex),t.min=e[t.minIndex],t.max=e[t.maxIndex]},buildTicks:function(){var t=this,e=t.getLabels();t.ticks=0===t.minIndex&&t.maxIndex===e.length-1?e:e.slice(t.minIndex,t.maxIndex+1)},getLabelForIndex:function(t,e){var n=this,i=n.chart.data,a=n.isHorizontal();return i.yLabels&&!a?n.getRightValue(i.datasets[e].data[t]):n.ticks[t-n.minIndex]},getPixelForValue:function(t,e){var n,i=this,a=i.options.offset,o=Math.max(i.maxIndex+1-i.minIndex-(a?0:1),1);if(void 0!==t&&null!==t&&(n=i.isHorizontal()?t.x:t.y),void 0!==n||void 0!==t&&isNaN(e)){var r=i.getLabels();t=n||t;var l=r.indexOf(t);e=-1!==l?l:e}if(i.isHorizontal()){var s=i.width/o,u=s*(e-i.minIndex);return a&&(u+=s/2),i.left+Math.round(u)}var d=i.height/o,c=d*(e-i.minIndex);return a&&(c+=d/2),i.top+Math.round(c)},getPixelForTick:function(t){return this.getPixelForValue(this.ticks[t],t+this.minIndex,null)},getValueForPixel:function(t){var e=this,n=e.options.offset,i=Math.max(e._ticks.length-(n?0:1),1),a=e.isHorizontal(),o=(a?e.width:e.height)/i;return t-=a?e.left:e.top,n&&(t-=o/2),(t<=0?0:Math.round(t/o))+e.minIndex},getBasePixel:function(){return this.bottom}});t.scaleService.registerScaleType("category",e,{position:"bottom"})}},{}],53:[function(t,e,n){"use strict";var i=t(25),a=t(45),o=t(34);e.exports=function(t){var e={position:"left",ticks:{callback:o.formatters.linear}},n=t.LinearScaleBase.extend({determineDataLimits:function(){function t(t){return r?t.xAxisID===e.id:t.yAxisID===e.id}var e=this,n=e.options,i=e.chart,o=i.data.datasets,r=e.isHorizontal();e.min=null,e.max=null;var l=n.stacked;if(void 0===l&&a.each(o,function(e,n){if(!l){var a=i.getDatasetMeta(n);i.isDatasetVisible(n)&&t(a)&&void 0!==a.stack&&(l=!0)}}),n.stacked||l){var s={};a.each(o,function(o,r){var l=i.getDatasetMeta(r),u=[l.type,void 0===n.stacked&&void 0===l.stack?r:"",l.stack].join(".");void 0===s[u]&&(s[u]={positiveValues:[],negativeValues:[]});var d=s[u].positiveValues,c=s[u].negativeValues;i.isDatasetVisible(r)&&t(l)&&a.each(o.data,function(t,i){var a=+e.getRightValue(t);isNaN(a)||l.data[i].hidden||(d[i]=d[i]||0,c[i]=c[i]||0,n.relativePoints?d[i]=100:a<0?c[i]+=a:d[i]+=a)})}),a.each(s,function(t){var n=t.positiveValues.concat(t.negativeValues),i=a.min(n),o=a.max(n);e.min=null===e.min?i:Math.min(e.min,i),e.max=null===e.max?o:Math.max(e.max,o)})}else a.each(o,function(n,o){var r=i.getDatasetMeta(o);i.isDatasetVisible(o)&&t(r)&&a.each(n.data,function(t,n){var i=+e.getRightValue(t);isNaN(i)||r.data[n].hidden||(null===e.min?e.min=i:i<e.min&&(e.min=i),null===e.max?e.max=i:i>e.max&&(e.max=i))})});e.min=isFinite(e.min)&&!isNaN(e.min)?e.min:0,e.max=isFinite(e.max)&&!isNaN(e.max)?e.max:1,this.handleTickRangeOptions()},getTickLimit:function(){var t,e=this,n=e.options.ticks;if(e.isHorizontal())t=Math.min(n.maxTicksLimit?n.maxTicksLimit:11,Math.ceil(e.width/50));else{var o=a.valueOrDefault(n.fontSize,i.global.defaultFontSize);t=Math.min(n.maxTicksLimit?n.maxTicksLimit:11,Math.ceil(e.height/(2*o)))}return t},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t){var e,n=this,i=n.start,a=+n.getRightValue(t),o=n.end-i;return n.isHorizontal()?(e=n.left+n.width/o*(a-i),Math.round(e)):(e=n.bottom-n.height/o*(a-i),Math.round(e))},getValueForPixel:function(t){var e=this,n=e.isHorizontal(),i=n?e.width:e.height,a=(n?t-e.left:e.bottom-t)/i;return e.start+(e.end-e.start)*a},getPixelForTick:function(t){return this.getPixelForValue(this.ticksAsNumbers[t])}});t.scaleService.registerScaleType("linear",n,e)}},{25:25,34:34,45:45}],54:[function(t,e,n){"use strict";var i=t(45),a=t(34);e.exports=function(t){var e=i.noop;t.LinearScaleBase=t.Scale.extend({getRightValue:function(e){return"string"==typeof e?+e:t.Scale.prototype.getRightValue.call(this,e)},handleTickRangeOptions:function(){var t=this,e=t.options.ticks;if(e.beginAtZero){var n=i.sign(t.min),a=i.sign(t.max);n<0&&a<0?t.max=0:n>0&&a>0&&(t.min=0)}var o=void 0!==e.min||void 0!==e.suggestedMin,r=void 0!==e.max||void 0!==e.suggestedMax;void 0!==e.min?t.min=e.min:void 0!==e.suggestedMin&&(null===t.min?t.min=e.suggestedMin:t.min=Math.min(t.min,e.suggestedMin)),void 0!==e.max?t.max=e.max:void 0!==e.suggestedMax&&(null===t.max?t.max=e.suggestedMax:t.max=Math.max(t.max,e.suggestedMax)),o!==r&&t.min>=t.max&&(o?t.max=t.min+1:t.min=t.max-1),t.min===t.max&&(t.max++,e.beginAtZero||t.min--)},getTickLimit:e,handleDirectionalChanges:e,buildTicks:function(){var t=this,e=t.options.ticks,n=t.getTickLimit(),o={maxTicks:n=Math.max(2,n),min:e.min,max:e.max,stepSize:i.valueOrDefault(e.fixedStepSize,e.stepSize)},r=t.ticks=a.generators.linear(o,t);t.handleDirectionalChanges(),t.max=i.max(r),t.min=i.min(r),e.reverse?(r.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){var e=this;e.ticksAsNumbers=e.ticks.slice(),e.zeroLineIndex=e.ticks.indexOf(0),t.Scale.prototype.convertTicksToLabels.call(e)}})}},{34:34,45:45}],55:[function(t,e,n){"use strict";var i=t(45),a=t(34);e.exports=function(t){var e={position:"left",ticks:{callback:a.formatters.logarithmic}},n=t.Scale.extend({determineDataLimits:function(){function t(t){return s?t.xAxisID===e.id:t.yAxisID===e.id}var e=this,n=e.options,a=n.ticks,o=e.chart,r=o.data.datasets,l=i.valueOrDefault,s=e.isHorizontal();e.min=null,e.max=null,e.minNotZero=null;var u=n.stacked;if(void 0===u&&i.each(r,function(e,n){if(!u){var i=o.getDatasetMeta(n);o.isDatasetVisible(n)&&t(i)&&void 0!==i.stack&&(u=!0)}}),n.stacked||u){var d={};i.each(r,function(a,r){var l=o.getDatasetMeta(r),s=[l.type,void 0===n.stacked&&void 0===l.stack?r:"",l.stack].join(".");o.isDatasetVisible(r)&&t(l)&&(void 0===d[s]&&(d[s]=[]),i.each(a.data,function(t,i){var a=d[s],o=+e.getRightValue(t);isNaN(o)||l.data[i].hidden||(a[i]=a[i]||0,n.relativePoints?a[i]=100:a[i]+=o)}))}),i.each(d,function(t){var n=i.min(t),a=i.max(t);e.min=null===e.min?n:Math.min(e.min,n),e.max=null===e.max?a:Math.max(e.max,a)})}else i.each(r,function(n,a){var r=o.getDatasetMeta(a);o.isDatasetVisible(a)&&t(r)&&i.each(n.data,function(t,n){var i=+e.getRightValue(t);isNaN(i)||r.data[n].hidden||(null===e.min?e.min=i:i<e.min&&(e.min=i),null===e.max?e.max=i:i>e.max&&(e.max=i),0!==i&&(null===e.minNotZero||i<e.minNotZero)&&(e.minNotZero=i))})});e.min=l(a.min,e.min),e.max=l(a.max,e.max),e.min===e.max&&(0!==e.min&&null!==e.min?(e.min=Math.pow(10,Math.floor(i.log10(e.min))-1),e.max=Math.pow(10,Math.floor(i.log10(e.max))+1)):(e.min=1,e.max=10))},buildTicks:function(){var t=this,e=t.options.ticks,n={min:e.min,max:e.max},o=t.ticks=a.generators.logarithmic(n,t);t.isHorizontal()||o.reverse(),t.max=i.max(o),t.min=i.min(o),e.reverse?(o.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),t.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t){return this.getPixelForValue(this.tickValues[t])},getPixelForValue:function(t){var e,n,a,o=this,r=o.start,l=+o.getRightValue(t),s=o.options.ticks;return o.isHorizontal()?(a=i.log10(o.end)-i.log10(r),0===l?n=o.left:(e=o.width,n=o.left+e/a*(i.log10(l)-i.log10(r)))):(e=o.height,0!==r||s.reverse?0===o.end&&s.reverse?(a=i.log10(o.start)-i.log10(o.minNotZero),n=l===o.end?o.top:l===o.minNotZero?o.top+.02*e:o.top+.02*e+.98*e/a*(i.log10(l)-i.log10(o.minNotZero))):0===l?n=s.reverse?o.top:o.bottom:(a=i.log10(o.end)-i.log10(r),e=o.height,n=o.bottom-e/a*(i.log10(l)-i.log10(r))):(a=i.log10(o.end)-i.log10(o.minNotZero),n=l===r?o.bottom:l===o.minNotZero?o.bottom-.02*e:o.bottom-.02*e-.98*e/a*(i.log10(l)-i.log10(o.minNotZero)))),n},getValueForPixel:function(t){var e,n,a=this,o=i.log10(a.end)-i.log10(a.start);return a.isHorizontal()?(n=a.width,e=a.start*Math.pow(10,(t-a.left)*o/n)):(n=a.height,e=Math.pow(10,(a.bottom-t)*o/n)/a.start),e}});t.scaleService.registerScaleType("logarithmic",n,e)}},{34:34,45:45}],56:[function(t,e,n){"use strict";var i=t(25),a=t(45),o=t(34);e.exports=function(t){function e(t){var e=t.options;return e.angleLines.display||e.pointLabels.display?t.chart.data.labels.length:0}function n(t){var e=t.options.pointLabels,n=a.valueOrDefault(e.fontSize,v.defaultFontSize),i=a.valueOrDefault(e.fontStyle,v.defaultFontStyle),o=a.valueOrDefault(e.fontFamily,v.defaultFontFamily);return{size:n,style:i,family:o,font:a.fontString(n,i,o)}}function r(t,e,n){return a.isArray(n)?{w:a.longestText(t,t.font,n),h:n.length*e+1.5*(n.length-1)*e}:{w:t.measureText(n).width,h:e}}function l(t,e,n,i,a){return t===i||t===a?{start:e-n/2,end:e+n/2}:t<i||t>a?{start:e-n-5,end:e}:{start:e,end:e+n+5}}function s(t){var i,o,s,u=n(t),d=Math.min(t.height/2,t.width/2),c={r:t.width,l:0,t:t.height,b:0},h={};t.ctx.font=u.font,t._pointLabelSizes=[];var f=e(t);for(i=0;i<f;i++){s=t.getPointPosition(i,d),o=r(t.ctx,u.size,t.pointLabels[i]||""),t._pointLabelSizes[i]=o;var g=t.getIndexAngle(i),p=a.toDegrees(g)%360,v=l(p,s.x,o.w,0,180),m=l(p,s.y,o.h,90,270);v.start<c.l&&(c.l=v.start,h.l=g),v.end>c.r&&(c.r=v.end,h.r=g),m.start<c.t&&(c.t=m.start,h.t=g),m.end>c.b&&(c.b=m.end,h.b=g)}t.setReductions(d,c,h)}function u(t){var e=Math.min(t.height/2,t.width/2);t.drawingArea=Math.round(e),t.setCenterPoint(0,0,0,0)}function d(t){return 0===t||180===t?"center":t<180?"left":"right"}function c(t,e,n,i){if(a.isArray(e))for(var o=n.y,r=1.5*i,l=0;l<e.length;++l)t.fillText(e[l],n.x,o),o+=r;else t.fillText(e,n.x,n.y)}function h(t,e,n){90===t||270===t?n.y-=e.h/2:(t>270||t<90)&&(n.y-=e.h)}function f(t){var i=t.ctx,o=a.valueOrDefault,r=t.options,l=r.angleLines,s=r.pointLabels;i.lineWidth=l.lineWidth,i.strokeStyle=l.color;var u=t.getDistanceFromCenterForValue(r.ticks.reverse?t.min:t.max),f=n(t);i.textBaseline="top";for(var g=e(t)-1;g>=0;g--){if(l.display){var p=t.getPointPosition(g,u);i.beginPath(),i.moveTo(t.xCenter,t.yCenter),i.lineTo(p.x,p.y),i.stroke(),i.closePath()}if(s.display){var m=t.getPointPosition(g,u+5),b=o(s.fontColor,v.defaultFontColor);i.font=f.font,i.fillStyle=b;var x=t.getIndexAngle(g),y=a.toDegrees(x);i.textAlign=d(y),h(y,t._pointLabelSizes[g],m),c(i,t.pointLabels[g]||"",m,f.size)}}}function g(t,n,i,o){var r=t.ctx;if(r.strokeStyle=a.valueAtIndexOrDefault(n.color,o-1),r.lineWidth=a.valueAtIndexOrDefault(n.lineWidth,o-1),t.options.gridLines.circular)r.beginPath(),r.arc(t.xCenter,t.yCenter,i,0,2*Math.PI),r.closePath(),r.stroke();else{var l=e(t);if(0===l)return;r.beginPath();var s=t.getPointPosition(0,i);r.moveTo(s.x,s.y);for(var u=1;u<l;u++)s=t.getPointPosition(u,i),r.lineTo(s.x,s.y);r.closePath(),r.stroke()}}function p(t){return a.isNumber(t)?t:0}var v=i.global,m={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:o.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(t){return t}}},b=t.LinearScaleBase.extend({setDimensions:function(){var t=this,e=t.options,n=e.ticks;t.width=t.maxWidth,t.height=t.maxHeight,t.xCenter=Math.round(t.width/2),t.yCenter=Math.round(t.height/2);var i=a.min([t.height,t.width]),o=a.valueOrDefault(n.fontSize,v.defaultFontSize);t.drawingArea=e.display?i/2-(o/2+n.backdropPaddingY):i/2},determineDataLimits:function(){var t=this,e=t.chart,n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;a.each(e.data.datasets,function(o,r){if(e.isDatasetVisible(r)){var l=e.getDatasetMeta(r);a.each(o.data,function(e,a){var o=+t.getRightValue(e);isNaN(o)||l.data[a].hidden||(n=Math.min(o,n),i=Math.max(o,i))})}}),t.min=n===Number.POSITIVE_INFINITY?0:n,t.max=i===Number.NEGATIVE_INFINITY?0:i,t.handleTickRangeOptions()},getTickLimit:function(){var t=this.options.ticks,e=a.valueOrDefault(t.fontSize,v.defaultFontSize);return Math.min(t.maxTicksLimit?t.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*e)))},convertTicksToLabels:function(){var e=this;t.LinearScaleBase.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map(e.options.pointLabels.callback,e)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){this.options.pointLabels.display?s(this):u(this)},setReductions:function(t,e,n){var i=this,a=e.l/Math.sin(n.l),o=Math.max(e.r-i.width,0)/Math.sin(n.r),r=-e.t/Math.cos(n.t),l=-Math.max(e.b-i.height,0)/Math.cos(n.b);a=p(a),o=p(o),r=p(r),l=p(l),i.drawingArea=Math.min(Math.round(t-(a+o)/2),Math.round(t-(r+l)/2)),i.setCenterPoint(a,o,r,l)},setCenterPoint:function(t,e,n,i){var a=this,o=a.width-e-a.drawingArea,r=t+a.drawingArea,l=n+a.drawingArea,s=a.height-i-a.drawingArea;a.xCenter=Math.round((r+o)/2+a.left),a.yCenter=Math.round((l+s)/2+a.top)},getIndexAngle:function(t){return t*(2*Math.PI/e(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(t){var e=this;if(null===t)return 0;var n=e.drawingArea/(e.max-e.min);return e.options.ticks.reverse?(e.max-t)*n:(t-e.min)*n},getPointPosition:function(t,e){var n=this,i=n.getIndexAngle(t)-Math.PI/2;return{x:Math.round(Math.cos(i)*e)+n.xCenter,y:Math.round(Math.sin(i)*e)+n.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(){var t=this,e=t.min,n=t.max;return t.getPointPositionForValue(0,t.beginAtZero?0:e<0&&n<0?n:e>0&&n>0?e:0)},draw:function(){var t=this,e=t.options,n=e.gridLines,i=e.ticks,o=a.valueOrDefault;if(e.display){var r=t.ctx,l=this.getIndexAngle(0),s=o(i.fontSize,v.defaultFontSize),u=o(i.fontStyle,v.defaultFontStyle),d=o(i.fontFamily,v.defaultFontFamily),c=a.fontString(s,u,d);a.each(t.ticks,function(e,a){if(a>0||i.reverse){var u=t.getDistanceFromCenterForValue(t.ticksAsNumbers[a]);if(n.display&&0!==a&&g(t,n,u,a),i.display){var d=o(i.fontColor,v.defaultFontColor);if(r.font=c,r.save(),r.translate(t.xCenter,t.yCenter),r.rotate(l),i.showLabelBackdrop){var h=r.measureText(e).width;r.fillStyle=i.backdropColor,r.fillRect(-h/2-i.backdropPaddingX,-u-s/2-i.backdropPaddingY,h+2*i.backdropPaddingX,s+2*i.backdropPaddingY)}r.textAlign="center",r.textBaseline="middle",r.fillStyle=d,r.fillText(e,0,-u),r.restore()}}}),(e.angleLines.display||e.pointLabels.display)&&f(t)}}});t.scaleService.registerScaleType("radialLinear",b,m)}},{25:25,34:34,45:45}],57:[function(t,e,n){"use strict";function i(t,e){return t-e}function a(t){var e,n,i,a={},o=[];for(e=0,n=t.length;e<n;++e)a[i=t[e]]||(a[i]=!0,o.push(i));return o}function o(t,e,n,i){if("linear"===i||!t.length)return[{time:e,pos:0},{time:n,pos:1}];var a,o,r,l,s,u=[],d=[e];for(a=0,o=t.length;a<o;++a)(l=t[a])>e&&l<n&&d.push(l);for(d.push(n),a=0,o=d.length;a<o;++a)s=d[a+1],r=d[a-1],l=d[a],void 0!==r&&void 0!==s&&Math.round((s+r)/2)===l||u.push({time:l,pos:a/(o-1)});return u}function r(t,e,n){for(var i,a,o,r=0,l=t.length-1;r>=0&&r<=l;){if(i=r+l>>1,a=t[i-1]||null,o=t[i],!a)return{lo:null,hi:o};if(o[e]<n)r=i+1;else{if(!(a[e]>n))return{lo:a,hi:o};l=i-1}}return{lo:o,hi:null}}function l(t,e,n,i){var a=r(t,e,n),o=a.lo?a.hi?a.lo:t[t.length-2]:t[0],l=a.lo?a.hi?a.hi:t[t.length-1]:t[1],s=l[e]-o[e],u=s?(n-o[e])/s:0,d=(l[i]-o[i])*u;return o[i]+d}function s(t,e){var n=e.parser,i=e.parser||e.format;return"function"==typeof n?n(t):"string"==typeof t&&"string"==typeof i?m(t,i):(t instanceof m||(t=m(t)),t.isValid()?t:"function"==typeof i?i(t):t)}function u(t,e){if(x.isNullOrUndef(t))return null;var n=e.options.time,i=s(e.getRightValue(t),n);return i.isValid()?(n.round&&i.startOf(n.round),i.valueOf()):null}function d(t,e,n,i){var a,o,r,l=e-t,s=w[n],u=s.size,d=s.steps;if(!d)return Math.ceil(l/((i||1)*u));for(a=0,o=d.length;a<o&&(r=d[a],!(Math.ceil(l/(u*r))<=i));++a);return r}function c(t,e,n,i){var a,o,r,l=M.length;for(a=M.indexOf(t);a<l-1;++a)if(o=w[M[a]],r=o.steps?o.steps[o.steps.length-1]:k,o.common&&Math.ceil((n-e)/(r*o.size))<=i)return M[a];return M[l-1]}function h(t,e,n,i){var a,o,r=m.duration(m(i).diff(m(n)));for(a=M.length-1;a>=M.indexOf(e);a--)if(o=M[a],w[o].common&&r.as(o)>=t.length)return o;return M[e?M.indexOf(e):0]}function f(t){for(var e=M.indexOf(t)+1,n=M.length;e<n;++e)if(w[M[e]].common)return M[e]}function g(t,e,n,i){var a,o=i.time,r=o.unit||c(o.minUnit,t,e,n),l=f(r),s=x.valueOrDefault(o.stepSize,o.unitStepSize),u="week"===r&&o.isoWeekday,h=i.ticks.major.enabled,g=w[r],p=m(t),v=m(e),b=[];for(s||(s=d(t,e,r,n)),u&&(p=p.isoWeekday(u),v=v.isoWeekday(u)),p=p.startOf(u?"day":r),(v=v.startOf(u?"day":r))<e&&v.add(1,r),a=m(p),h&&l&&!u&&!o.round&&(a.startOf(l),a.add(~~((p-a)/(g.size*s))*s,r));a<v;a.add(s,r))b.push(+a);return b.push(+a),b}function p(t,e,n,i,a){var o,r,s=0,u=0;return a.offset&&e.length&&(a.time.min||(o=e.length>1?e[1]:i,r=e[0],s=(l(t,"time",o,"pos")-l(t,"time",r,"pos"))/2),a.time.max||(o=e[e.length-1],r=e.length>1?e[e.length-2]:n,u=(l(t,"time",o,"pos")-l(t,"time",r,"pos"))/2)),{left:s,right:u}}function v(t,e){var n,i,a,o,r=[];for(n=0,i=t.length;n<i;++n)a=t[n],o=!!e&&a===+m(a).startOf(e),r.push({value:a,major:o});return r}var m=t(1);m="function"==typeof m?m:window.moment;var b=t(25),x=t(45),y=Number.MIN_SAFE_INTEGER||-9007199254740991,k=Number.MAX_SAFE_INTEGER||9007199254740991,w={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},M=Object.keys(w);e.exports=function(t){var e=t.Scale.extend({initialize:function(){if(!m)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");this.mergeTicksOptions(),t.Scale.prototype.initialize.call(this)},update:function(){var e=this,n=e.options;return n.time&&n.time.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),t.Scale.prototype.update.apply(e,arguments)},getRightValue:function(e){return e&&void 0!==e.t&&(e=e.t),t.Scale.prototype.getRightValue.call(this,e)},determineDataLimits:function(){var t,e,n,o,r,l,s=this,d=s.chart,c=s.options.time,h=k,f=y,g=[],p=[],v=[];for(t=0,n=d.data.labels.length;t<n;++t)v.push(u(d.data.labels[t],s));for(t=0,n=(d.data.datasets||[]).length;t<n;++t)if(d.isDatasetVisible(t))if(r=d.data.datasets[t].data,x.isObject(r[0]))for(p[t]=[],e=0,o=r.length;e<o;++e)l=u(r[e],s),g.push(l),p[t][e]=l;else g.push.apply(g,v),p[t]=v.slice(0);else p[t]=[];v.length&&(v=a(v).sort(i),h=Math.min(h,v[0]),f=Math.max(f,v[v.length-1])),g.length&&(g=a(g).sort(i),h=Math.min(h,g[0]),f=Math.max(f,g[g.length-1])),h=u(c.min,s)||h,f=u(c.max,s)||f,h=h===k?+m().startOf("day"):h,f=f===y?+m().endOf("day")+1:f,s.min=Math.min(h,f),s.max=Math.max(h+1,f),s._horizontal=s.isHorizontal(),s._table=[],s._timestamps={data:g,datasets:p,labels:v}},buildTicks:function(){var t,e,n,i=this,a=i.min,r=i.max,l=i.options,s=l.time,d=[],c=[];switch(l.ticks.source){case"data":d=i._timestamps.data;break;case"labels":d=i._timestamps.labels;break;case"auto":default:d=g(a,r,i.getLabelCapacity(a),l)}for("ticks"===l.bounds&&d.length&&(a=d[0],r=d[d.length-1]),a=u(s.min,i)||a,r=u(s.max,i)||r,t=0,e=d.length;t<e;++t)(n=d[t])>=a&&n<=r&&c.push(n);return i.min=a,i.max=r,i._unit=s.unit||h(c,s.minUnit,i.min,i.max),i._majorUnit=f(i._unit),i._table=o(i._timestamps.data,a,r,l.distribution),i._offsets=p(i._table,c,a,r,l),v(c,i._majorUnit)},getLabelForIndex:function(t,e){var n=this,i=n.chart.data,a=n.options.time,o=i.labels&&t<i.labels.length?i.labels[t]:"",r=i.datasets[e].data[t];return x.isObject(r)&&(o=n.getRightValue(r)),a.tooltipFormat&&(o=s(o,a).format(a.tooltipFormat)),o},tickFormatFunction:function(t,e,n,i){var a=this,o=a.options,r=t.valueOf(),l=o.time.displayFormats,s=l[a._unit],u=a._majorUnit,d=l[u],c=t.clone().startOf(u).valueOf(),h=o.ticks.major,f=h.enabled&&u&&d&&r===c,g=t.format(i||(f?d:s)),p=f?h:o.ticks.minor,v=x.valueOrDefault(p.callback,p.userCallback);return v?v(g,e,n):g},convertTicksToLabels:function(t){var e,n,i=[];for(e=0,n=t.length;e<n;++e)i.push(this.tickFormatFunction(m(t[e].value),e,t));return i},getPixelForOffset:function(t){var e=this,n=e._horizontal?e.width:e.height,i=e._horizontal?e.left:e.top,a=l(e._table,"time",t,"pos");return i+n*(e._offsets.left+a)/(e._offsets.left+1+e._offsets.right)},getPixelForValue:function(t,e,n){var i=this,a=null;if(void 0!==e&&void 0!==n&&(a=i._timestamps.datasets[n][e]),null===a&&(a=u(t,i)),null!==a)return i.getPixelForOffset(a)},getPixelForTick:function(t){var e=this.getTicks();return t>=0&&t<e.length?this.getPixelForOffset(e[t].value):null},getValueForPixel:function(t){var e=this,n=e._horizontal?e.width:e.height,i=e._horizontal?e.left:e.top,a=(n?(t-i)/n:0)*(e._offsets.left+1+e._offsets.left)-e._offsets.right,o=l(e._table,"pos",a,"time");return m(o)},getLabelWidth:function(t){var e=this,n=e.options.ticks,i=e.ctx.measureText(t).width,a=x.toRadians(n.maxRotation),o=Math.cos(a),r=Math.sin(a);return i*o+x.valueOrDefault(n.fontSize,b.global.defaultFontSize)*r},getLabelCapacity:function(t){var e=this,n=e.options.time.displayFormats.millisecond,i=e.tickFormatFunction(m(t),0,[],n),a=e.getLabelWidth(i),o=e.isHorizontal()?e.width:e.height;return Math.floor(o/a)}});t.scaleService.registerScaleType("time",e,{position:"bottom",distribution:"linear",bounds:"data",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}})}},{1:1,25:25,45:45}]},{},[7])(7)});
;(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.CanvasJS = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;

	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var ghostCtx = this._eventManager.ghostCtx;

	var axisXProps = plotUnit.axisX.lineCoordinates;
	var axisYProps = plotUnit.axisY.lineCoordinates;
	var markers = [];

	var plotArea = this.plotArea;
	ctx.save();

	if (_utils.isCanvasSupported) ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		ghostCtx.beginPath();
		ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		ghostCtx.clip();
	}

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];

		var dataPoints = dataSeries.dataPoints;

		var seriesId = dataSeries.id;
		this._eventManager.objectMap[seriesId] = {
			objectType: "dataSeries", dataSeriesIndex: dataSeriesIndex
		};

		var hexColor = (0, _utils.intToHexColorString)(seriesId);
		ghostCtx.fillStyle = hexColor;
		//ghostCtx.lineWidth = dataSeries.lineThickness;
		//ghostCtx.lineWidth = 20;

		markers = [];

		var isFirstDataPointInPlotArea = true;
		var i = 0,
		    x,
		    y;
		var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number back and forth.

		var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;
		var baseY;

		var startPoint = null;

		if (dataPoints.length > 0) {
			//ctx.strokeStyle = "#4572A7 ";
			var color = dataSeries._colorSet[i % dataSeries._colorSet.length];
			//ctx.strokeStyle = "red";
			ctx.fillStyle = color;
			ctx.strokeStyle = color;
			ctx.lineWidth = dataSeries.lineThickness;

			if (ctx.setLineDash) {
				ctx.setLineDash((0, _utils.getLineDashArray)(dataSeries.lineDashType, dataSeries.lineThickness));
			}

			var prevDataNull = true;
			for (; i < dataPoints.length; i++) {

				dataPointX = dataPoints[i].x.getTime ? dataPoints[i].x.getTime() : dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (typeof dataPoints[i].y !== "number") {
					closeArea();

					prevDataNull = true;
					continue;
				}

				x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;
				y = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;

				if (isFirstDataPointInPlotArea || prevDataNull) {
					ctx.beginPath();
					ctx.moveTo(x, y);
					startPoint = {
						x: x, y: y
					};

					if (_utils.isCanvasSupported) {
						ghostCtx.beginPath();
						ghostCtx.moveTo(x, y);
					}

					isFirstDataPointInPlotArea = false;
					prevDataNull = false;
				} else {

					ctx.lineTo(x, y);

					if (_utils.isCanvasSupported) ghostCtx.lineTo(x, y);

					if (i % 250 == 0) {
						closeArea();
					}
				}

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x, y1: y
				};

				//Render Marker
				if (dataPoints[i].markerSize !== 0) {
					if (dataPoints[i].markerSize > 0 || dataSeries.markerSize > 0) {
						var markerProps = dataSeries.getMarkerProperties(i, x, y, ctx);
						markers.push(markerProps);

						//if (!dataSeries.maxWidthInX || markerProps.size > dataSeries.maxWidthInX) {
						//	dataSeries.maxWidthInX = markerProps.size / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);
						//}

						var markerColor = (0, _utils.intToHexColorString)(id);

						if (_utils.isCanvasSupported) {
							markers.push({
								x: x, y: y, ctx: ghostCtx,
								type: markerProps.type,
								size: markerProps.size,
								color: markerColor,
								borderColor: markerColor,
								borderThickness: markerProps.borderThickness
							});
						}
					}
				}

				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: "area",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						point: {
							x: x, y: y
						},
						direction: dataPoints[i].y >= 0 ? 1 : -1,
						color: color
					});
				}
			}

			closeArea();

			//startPoint = { x: x, y: y };
			_render2.default.drawMarkers(markers);
		}
	}

	ctx.restore();
	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.restore();

	function closeArea() {

		if (!startPoint) return;

		if (dataSeries.lineThickness > 0) ctx.stroke();

		if (plotUnit.axisY.viewportMinimum <= 0 && plotUnit.axisY.viewportMaximum >= 0) {
			baseY = yZeroToPixel;
		} else if (plotUnit.axisY.viewportMaximum < 0) baseY = axisYProps.y1;else if (plotUnit.axisY.viewportMinimum > 0) baseY = axisXProps.y2;

		ctx.lineTo(x, baseY);
		ctx.lineTo(startPoint.x, baseY);
		ctx.closePath();

		ctx.globalAlpha = dataSeries.fillOpacity;
		ctx.fill();
		ctx.globalAlpha = 1;

		if (_utils.isCanvasSupported) {
			ghostCtx.lineTo(x, baseY);
			ghostCtx.lineTo(startPoint.x, baseY);
			ghostCtx.closePath();
			ghostCtx.fill();
		}

		ctx.beginPath();
		ctx.moveTo(x, y);
		ghostCtx.beginPath();
		ghostCtx.moveTo(x, y);

		startPoint = {
			x: x, y: y
		};
	}

	//source and dest would be same when animation is not enabled
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: _animator2.default.xClipAnimation, easingFunction: _animator2.default.easing.linear, animationBase: 0
	};
	return animationInfo;
};

var _render = require('../helpers/render');

var _render2 = _interopRequireDefault(_render);

var _animator = require('../helpers/animator');

var _animator2 = _interopRequireDefault(_animator);

var _utils = require('../helpers/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../helpers/animator":37,"../helpers/render":38,"../helpers/utils":39}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;
	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var color = null;

	var plotArea = this.plotArea;

	var i = 0,
	    x,
	    y;
	var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number from dataTime everytime it is used.

	//In case of Bar Chart, yZeroToPixel is x co-ordinate!
	var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) << 0;

	var maxBarWidth = this.dataPointMaxWidth ? this.dataPointMaxWidth : Math.min(this.height * .15, this.plotArea.height / plotUnit.plotType.totalDataSeries * .9) << 0;
	var xMinDiff = plotUnit.axisX.dataInfo.minDiff;
	//var barWidth = (((plotArea.height / Math.abs(plotUnit.axisX.viewportMaximum - plotUnit.axisX.viewportMinimum)) * Math.abs(xMinDiff)) / totalDataSeries * .9) << 0;

	var barWidth = plotArea.height / Math.abs(plotUnit.axisX.viewportMaximum - plotUnit.axisX.viewportMinimum) * Math.abs(xMinDiff) / plotUnit.plotType.totalDataSeries * .9 << 0;

	if (barWidth > maxBarWidth) barWidth = maxBarWidth;else if (xMinDiff === Infinity) {
		barWidth = maxBarWidth / plotUnit.plotType.totalDataSeries * .9;
	} else if (barWidth < 1) barWidth = 1;

	ctx.save();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		this._eventManager.ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		this._eventManager.ghostCtx.clip();
	}

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];
		var dataPoints = dataSeries.dataPoints;
		var isFirstDataPointInPlotArea = true;

		//dataSeries.maxWidthInX = barWidth / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);


		if (dataPoints.length > 0) {
			//var xy = this.getPixelCoordinatesOnPlotArea(dataPoints[0].x, dataPoints[0].y);

			var bevelEnabled = barWidth > 5 && dataSeries.bevelEnabled ? true : false;

			ctx.strokeStyle = "#4572A7 ";

			for (i = 0; i < dataPoints.length; i++) {

				dataPoints[i].getTime ? dataPointX = dataPoints[i].x.getTime() : dataPointX = dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (typeof dataPoints[i].y !== "number") continue;

				//x and y are pixel co-ordinates of point and should not be confused with X and Y values
				y = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;
				x = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;

				var y1 = y - plotUnit.plotType.totalDataSeries * barWidth / 2 + (plotUnit.previousDataSeriesCount + j) * barWidth << 0;
				var y2 = y1 + barWidth << 0;
				var x1;
				var x2;

				if (dataPoints[i].y >= 0) {
					x1 = yZeroToPixel;
					x2 = x;
				} else {
					x1 = x;
					x2 = yZeroToPixel;
				}

				//drawRect(ctx, x1, y1, plotArea.x2, y2, "#EEEEEE", 0, null, false, false, false, false);
				//drawRect(ctx, x1, y1, plotArea.x2, y2, "#BDCED3", 0, null, false, false, false, false);

				color = dataPoints[i].color ? dataPoints[i].color : dataSeries._colorSet[i % dataSeries._colorSet.length];
				//color = "#1B4962";
				(0, _utils.drawRect)(ctx, x1, y1, x2, y2, color, 0, null, bevelEnabled, false, false, false, dataSeries.fillOpacity);

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x1, y1: y1, x2: x2, y2: y2
				};
				color = (0, _utils.intToHexColorString)(id);

				if (_utils.isCanvasSupported) (0, _utils.drawRect)(this._eventManager.ghostCtx, x1, y1, x2, y2, color, 0, null, false, false, false, false);

				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) this._indexLabels.push({
					chartType: "bar",
					dataPoint: dataPoints[i],
					dataSeries: dataSeries,
					point: {
						x: dataPoints[i].y >= 0 ? x2 : x1, y: y1 + (y2 - y1) / 2
					},
					direction: dataPoints[i].y >= 0 ? 1 : -1,
					bounds: {
						x1: Math.min(x1, x2), y1: y1, x2: Math.max(x1, x2), y2: y2
					},
					color: color
				});
			}
		}
	}

	ctx.restore();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.restore();

	//source and dest would be same when animation is not enabled
	var animationBase = Math.max(yZeroToPixel, plotUnit.axisX.boundingRect.x2);
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: _animator2.default.xScaleAnimation, easingFunction: _animator2.default.easing.easeOutQuart, animationBase: animationBase
	};
	return animationInfo;
};

var _animator = require('../helpers/animator');

var _animator2 = _interopRequireDefault(_animator);

var _utils = require('../helpers/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../helpers/animator":37,"../helpers/utils":39}],3:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {

	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;

	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var color = null;

	var plotArea = this.plotArea;

	var i = 0,
	    x,
	    y;
	var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number from dataTime everytime it is used.

	var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) << 0;

	var maxBarWidth = this.dataPointMaxWidth ? this.dataPointMaxWidth : this.width * .15 << 0;
	var xMinDiff = plotUnit.axisX.dataInfo.minDiff;
	var barWidth = plotArea.width / Math.abs(plotUnit.axisX.viewportMaximum - plotUnit.axisX.viewportMinimum) * Math.abs(xMinDiff) / totalDataSeries * .9 << 0;

	ctx.save();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		this._eventManager.ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		this._eventManager.ghostCtx.clip();
	}

	var maxZ = -Infinity;
	var minZ = Infinity;

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];
		var dataSeries = this.data[dataSeriesIndex];
		var dataPoints = dataSeries.dataPoints;
		var z = 0;

		for (var i = 0; i < dataPoints.length; i++) {

			dataPointX = dataPoints[i].getTime ? dataPointX = dataPoints[i].x.getTime() : dataPointX = dataPoints[i].x;

			if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
				continue;
			}

			if (typeof dataPoints[i].z !== "undefined") {

				z = dataPoints[i].z;

				if (z > maxZ) maxZ = z;

				if (z < minZ) minZ = z;
			}
		}
	}

	var minArea = Math.PI * 5 * 5;
	var maxArea = Math.max(Math.pow(Math.min(plotArea.height, plotArea.width) * .25 / 2, 2) * Math.PI, minArea);

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];
		var dataPoints = dataSeries.dataPoints;
		var isFirstDataPointInPlotArea = true;

		if (dataPoints.length == 1) barWidth = maxBarWidth;

		if (barWidth < 1) barWidth = 1;else if (barWidth > maxBarWidth) barWidth = maxBarWidth;

		if (dataPoints.length > 0) {
			//var xy = this.getPixelCoordinatesOnPlotArea(dataPoints[0].x, dataPoints[0].y);
			//var bevelEnabled = (barWidth > 5) ? false : false;

			ctx.strokeStyle = "#4572A7 ";

			for (var i = 0; i < dataPoints.length; i++) {

				dataPointX = dataPoints[i].getTime ? dataPointX = dataPoints[i].x.getTime() : dataPointX = dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (typeof dataPoints[i].y !== "number") continue;

				x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;
				y = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;

				var z = dataPoints[i].z;

				var area = maxZ === minZ ? maxArea / 2 : minArea + (maxArea - minArea) / (maxZ - minZ) * (z - minZ);
				var radius = Math.max(Math.sqrt(area / Math.PI) << 0, 1);

				var markerSize = radius * 2;
				var markerProps = dataSeries.getMarkerProperties(i, ctx);
				markerProps.size = markerSize;

				ctx.globalAlpha = dataSeries.fillOpacity;
				_render2.default.drawMarker(x, y, ctx, markerProps.type, markerProps.size, markerProps.color, markerProps.borderColor, markerProps.borderThickness);
				ctx.globalAlpha = 1;

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x, y1: y, size: markerSize
				};
				var markerColor = (0, _utils.intToHexColorString)(id);
				//RenderHelper.drawMarker(x, y, this._eventManager.ghostCtx, markerType, markerSize, markerColor, markerColor, dataSeries.markerBorderThickness);
				if (_utils.isCanvasSupported) _render2.default.drawMarker(x, y, this._eventManager.ghostCtx, markerProps.type, markerProps.size, markerColor, markerColor, markerProps.borderThickness);

				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: "bubble",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						point: {
							x: x, y: y
						},
						direction: 1,
						bounds: {
							x1: x - markerProps.size / 2, y1: y - markerProps.size / 2, x2: x + markerProps.size / 2, y2: y + markerProps.size / 2
						},
						color: color
					});
				}
			}
		}
	}

	ctx.restore();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.restore();

	//source and dest would be same when animation is not enabled
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: _animator2.default.fadeInAnimation, easingFunction: _animator2.default.easing.easeInQuad, animationBase: 0
	};
	return animationInfo;
};

var _render = require('../helpers/render');

var _render2 = _interopRequireDefault(_render);

var _animator = require('../helpers/animator');

var _animator2 = _interopRequireDefault(_animator);

var _utils = require('../helpers/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../helpers/animator":37,"../helpers/render":38,"../helpers/utils":39}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;
	var ghostCtx = this._eventManager.ghostCtx;

	var totalDataSeries = plotUnit.dataSeriesIndexes.length;
	if (totalDataSeries <= 0) return;

	var color = null;

	var plotArea = this.plotArea;

	var i = 0,
	    x,
	    y1,
	    y2,
	    y3,
	    y4;
	var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number from dataTime everytime it is used.

	var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) << 0;

	var maxBarWidth = this.dataPointMaxWidth ? this.dataPointMaxWidth : this.width * .015;
	var xMinDiff = plotUnit.axisX.dataInfo.minDiff;
	var barWidth = plotArea.width / Math.abs(plotUnit.axisX.viewportMaximum - plotUnit.axisX.viewportMinimum) * Math.abs(xMinDiff) * .7 << 0;

	if (barWidth > maxBarWidth) barWidth = maxBarWidth;else if (xMinDiff === Infinity) {
		barWidth = maxBarWidth;
	} else if (barWidth < 1) barWidth = 1;

	ctx.save();
	if (_utils.isCanvasSupported) ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		ghostCtx.clip();
	}
	//ctx.beginPath();

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];
		var dataPoints = dataSeries.dataPoints;
		var isFirstDataPointInPlotArea = true;

		// Reducing pixelPerUnit by 1 just to overcome any problems due to rounding off of pixels.
		//dataSeries.maxWidthInX = barWidth / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);

		//var offsetX = barWidth * plotUnit.index << 0;


		if (dataPoints.length > 0) {
			//var xy = this.getPixelCoordinatesOnPlotArea(dataPoints[0].x, dataPoints[0].y);

			var bevelEnabled = barWidth > 5 && dataSeries.bevelEnabled ? true : false;

			for (i = 0; i < dataPoints.length; i++) {

				dataPoints[i].getTime ? dataPointX = dataPoints[i].x.getTime() : dataPointX = dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (dataPoints[i].y === null || !dataPoints[i].y.length || typeof dataPoints[i].y[0] !== "number" || typeof dataPoints[i].y[1] !== "number" || typeof dataPoints[i].y[2] !== "number" || typeof dataPoints[i].y[3] !== "number") continue;

				x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;
				y1 = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y[0] - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;
				y2 = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y[1] - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;

				y3 = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y[2] - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;
				y4 = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y[3] - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;

				var x1 = x - barWidth / 2 << 0;
				var x2 = x1 + barWidth << 0;

				color = dataPoints[i].color ? dataPoints[i].color : dataSeries._colorSet[0];

				//var borderThickness = Math.max(2, ((barWidth * .1) / 2 << 0) * 2); // Set only even numbers for border
				var borderThickness = Math.round(Math.max(1, barWidth * .15));
				//borderThickness = (borderThickness / 2 << 0) * 2;
				//borderThickness = 2;
				var offset = borderThickness % 2 === 0 ? 0 : .5;

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x1, y1: y1, x2: x2, y2: y2,
					x3: x, y3: y3, x4: x, y4: y4, borderThickness: borderThickness, color: color
				};

				ctx.strokeStyle = color;
				ctx.beginPath();
				ctx.lineWidth = borderThickness;
				ghostCtx.lineWidth = Math.max(borderThickness, 4);

				if (dataSeries.type === "candlestick") {

					ctx.moveTo(x - offset, y2);
					ctx.lineTo(x - offset, Math.min(y1, y4));
					ctx.stroke();
					ctx.moveTo(x - offset, Math.max(y1, y4));
					ctx.lineTo(x - offset, y3);
					ctx.stroke();

					drawRect(ctx, x1, Math.min(y1, y4), x2, Math.max(y1, y4), dataPoints[i].y[0] <= dataPoints[i].y[3] ? dataSeries.risingColor : color, borderThickness, color, bevelEnabled, bevelEnabled, false, false, dataSeries.fillOpacity);

					if (_utils.isCanvasSupported) {
						color = intToHexColorString(id);
						ghostCtx.strokeStyle = color;

						ghostCtx.moveTo(x - offset, y2);
						ghostCtx.lineTo(x - offset, Math.min(y1, y4));
						ghostCtx.stroke();
						ghostCtx.moveTo(x - offset, Math.max(y1, y4));
						ghostCtx.lineTo(x - offset, y3);
						ghostCtx.stroke();
						drawRect(ghostCtx, x1, Math.min(y1, y4), x2, Math.max(y1, y4), color, 0, null, false, false, false, false);
					}
				} else if (dataSeries.type === "ohlc") {

					ctx.moveTo(x - offset, y2);
					ctx.lineTo(x - offset, y3);
					ctx.stroke();

					ctx.beginPath();
					ctx.moveTo(x, y1);
					ctx.lineTo(x1, y1);
					ctx.stroke();

					ctx.beginPath();
					ctx.moveTo(x, y4);
					ctx.lineTo(x2, y4);
					ctx.stroke();

					if (_utils.isCanvasSupported) {

						color = intToHexColorString(id);
						ghostCtx.strokeStyle = color;

						ghostCtx.moveTo(x - offset, y2);
						ghostCtx.lineTo(x - offset, y3);
						ghostCtx.stroke();

						ghostCtx.beginPath();
						ghostCtx.moveTo(x, y1);
						ghostCtx.lineTo(x1, y1);
						ghostCtx.stroke();

						ghostCtx.beginPath();
						ghostCtx.moveTo(x, y4);
						ghostCtx.lineTo(x2, y4);
						ghostCtx.stroke();
					}
				}

				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: dataSeries.type,
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						point: {
							x: x1 + (x2 - x1) / 2, y: y2
						},
						direction: 1,
						bounds: {
							x1: x1, y1: Math.min(y2, y3), x2: x2, y2: Math.max(y2, y3)
						},
						color: color
					});
				}
			}
		}
	}

	ctx.restore();

	if (_utils.isCanvasSupported) ghostCtx.restore();

	//source and dest would be same when animation is not enabled
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: AnimationHelper.fadeInAnimation, easingFunction: AnimationHelper.easing.easeInQuad, animationBase: 0
	};
	return animationInfo;
};

var _utils = require("../helpers/utils");

},{"../helpers/utils":39}],5:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {

	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;

	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var color = null;

	var plotArea = this.plotArea;

	var i = 0,
	    x,
	    y;
	var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number from dataTime everytime it is used.

	var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) << 0;

	var maxBarWidth = this.dataPointMaxWidth ? this.dataPointMaxWidth : Math.min(this.width * .15, this.plotArea.width / plotUnit.plotType.totalDataSeries * .9) << 0;
	var xMinDiff = plotUnit.axisX.dataInfo.minDiff;
	var barWidth = plotArea.width / Math.abs(plotUnit.axisX.viewportMaximum - plotUnit.axisX.viewportMinimum) * Math.abs(xMinDiff) / plotUnit.plotType.totalDataSeries * .9 << 0;

	if (barWidth > maxBarWidth) barWidth = maxBarWidth;else if (xMinDiff === Infinity) {
		barWidth = maxBarWidth / plotUnit.plotType.totalDataSeries * .9;
	} else if (barWidth < 1) barWidth = 1;

	ctx.save();
	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		this._eventManager.ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		this._eventManager.ghostCtx.clip();
	}
	//ctx.beginPath();

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];
		var dataPoints = dataSeries.dataPoints;
		var isFirstDataPointInPlotArea = true;

		// Reducing pixelPerUnit by 1 just to overcome any problems due to rounding off of pixels.
		//dataSeries.maxWidthInX = barWidth / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);

		//var offsetX = barWidth * plotUnit.index << 0;


		if (dataPoints.length > 0) {
			//var xy = this.getPixelCoordinatesOnPlotArea(dataPoints[0].x, dataPoints[0].y);

			var bevelEnabled = barWidth > 5 && dataSeries.bevelEnabled ? true : false;

			for (i = 0; i < dataPoints.length; i++) {

				dataPoints[i].getTime ? dataPointX = dataPoints[i].x.getTime() : dataPointX = dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (typeof dataPoints[i].y !== "number") continue;

				x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;
				y = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;

				var x1 = x - plotUnit.plotType.totalDataSeries * barWidth / 2 + (plotUnit.previousDataSeriesCount + j) * barWidth << 0;
				var x2 = x1 + barWidth << 0;
				var y1;
				var y2;

				if (dataPoints[i].y >= 0) {
					y1 = y;

					y2 = yZeroToPixel;

					if (y1 > y2) {
						var temp = y1;
						y1 = y2;
						y2 = y1;
					}
				} else {
					y2 = y;

					y1 = yZeroToPixel;

					if (y1 > y2) {
						var temp = y1;
						y1 = y2;
						y2 = y1;
					}
				}

				color = dataPoints[i].color ? dataPoints[i].color : dataSeries._colorSet[i % dataSeries._colorSet.length];
				(0, _utils.drawRect)(ctx, x1, y1, x2, y2, color, 0, null, bevelEnabled && dataPoints[i].y >= 0, dataPoints[i].y < 0 && bevelEnabled, false, false, dataSeries.fillOpacity);

				//if (dataSeries.markerType && dataSeries.markerSize > 0) {
				//    RenderHelper.drawMarker(x1 + (x2 - x1) / 2, y, ctx, dataSeries.markerType, dataSeries.markerSize, color, dataSeries.markerBorderColor, dataSeries.markerBorderThickness ? dataSeries.markerBorderThickness : 1);
				//}

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x1, y1: y1, x2: x2, y2: y2
				};

				color = (0, _utils.intToHexColorString)(id);
				if (_utils.isCanvasSupported) (0, _utils.drawRect)(this._eventManager.ghostCtx, x1, y1, x2, y2, color, 0, null, false, false, false, false);

				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: "column",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						point: {
							x: x1 + (x2 - x1) / 2, y: dataPoints[i].y >= 0 ? y1 : y2
						},
						direction: dataPoints[i].y >= 0 ? 1 : -1,
						bounds: {
							x1: x1, y1: Math.min(y1, y2), x2: x2, y2: Math.max(y1, y2)
						},
						color: color
					});
				}
			}
		}
	}

	ctx.restore();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.restore();

	//source and dest would be same when animation is not enabled
	var animationBase = Math.min(yZeroToPixel, plotUnit.axisY.boundingRect.y2);
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: _animator2.default.yScaleAnimation, easingFunction: _animator2.default.easing.easeOutQuart, animationBase: animationBase
	};
	return animationInfo;
};

var _animator = require('../helpers/animator');

var _animator2 = _interopRequireDefault(_animator);

var _utils = require('../helpers/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../helpers/animator":37,"../helpers/utils":39}],6:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PieChart = exports.RangeSplineAreaChart = exports.RangeAreaChart = exports.RangeBarChart = exports.RangeColumnChart = exports.CandlestickChart = exports.ScatterChart = exports.BubbleChart = exports.StackedArea100Chart = exports.StackedAreaChart = exports.StepAreaChart = exports.SplineAreaChart = exports.AreaChart = exports.StackedBar100Chart = exports.StackedBarChart = exports.BarChart = exports.StackedColumn100Chart = exports.StackedColumnChart = exports.ColumnChart = exports.SplineChart = undefined;

var _spline = require('../charts/spline');

var _spline2 = _interopRequireDefault(_spline);

var _column = require('../charts/column');

var _column2 = _interopRequireDefault(_column);

var _stacked_column = require('../charts/stacked_column');

var _stacked_column2 = _interopRequireDefault(_stacked_column);

var _stacked_column_ = require('../charts/stacked_column_100');

var _stacked_column_2 = _interopRequireDefault(_stacked_column_);

var _bar = require('../charts/bar');

var _bar2 = _interopRequireDefault(_bar);

var _stacked_bar = require('../charts/stacked_bar');

var _stacked_bar2 = _interopRequireDefault(_stacked_bar);

var _stacked_bar_ = require('../charts/stacked_bar_100');

var _stacked_bar_2 = _interopRequireDefault(_stacked_bar_);

var _area = require('../charts/area');

var _area2 = _interopRequireDefault(_area);

var _spline_area = require('../charts/spline_area');

var _spline_area2 = _interopRequireDefault(_spline_area);

var _step_area = require('../charts/step_area');

var _step_area2 = _interopRequireDefault(_step_area);

var _stacked_area = require('../charts/stacked_area');

var _stacked_area2 = _interopRequireDefault(_stacked_area);

var _stacked_area_ = require('../charts/stacked_area_100');

var _stacked_area_2 = _interopRequireDefault(_stacked_area_);

var _bubble = require('../charts/bubble');

var _bubble2 = _interopRequireDefault(_bubble);

var _scatter = require('../charts/scatter');

var _scatter2 = _interopRequireDefault(_scatter);

var _candlestick = require('../charts/candlestick');

var _candlestick2 = _interopRequireDefault(_candlestick);

var _range_column = require('../charts/range_column');

var _range_column2 = _interopRequireDefault(_range_column);

var _range_bar = require('../charts/range_bar');

var _range_bar2 = _interopRequireDefault(_range_bar);

var _range_area = require('../charts/range_area');

var _range_area2 = _interopRequireDefault(_range_area);

var _range_spline_area = require('../charts/range_spline_area');

var _range_spline_area2 = _interopRequireDefault(_range_spline_area);

var _pie = require('../charts/pie');

var _pie2 = _interopRequireDefault(_pie);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.SplineChart = _spline2.default;
exports.ColumnChart = _column2.default;
exports.StackedColumnChart = _stacked_column2.default;
exports.StackedColumn100Chart = _stacked_column_2.default;
exports.BarChart = _bar2.default;
exports.StackedBarChart = _stacked_bar2.default;
exports.StackedBar100Chart = _stacked_bar_2.default;
exports.AreaChart = _area2.default;
exports.SplineAreaChart = _spline_area2.default;
exports.StepAreaChart = _step_area2.default;
exports.StackedAreaChart = _stacked_area2.default;
exports.StackedArea100Chart = _stacked_area_2.default;
exports.BubbleChart = _bubble2.default;
exports.ScatterChart = _scatter2.default;
exports.CandlestickChart = _candlestick2.default;
exports.RangeColumnChart = _range_column2.default;
exports.RangeBarChart = _range_bar2.default;
exports.RangeAreaChart = _range_area2.default;
exports.RangeSplineAreaChart = _range_spline_area2.default;
exports.PieChart = _pie2.default;

},{"../charts/area":1,"../charts/bar":2,"../charts/bubble":3,"../charts/candlestick":4,"../charts/column":5,"../charts/pie":7,"../charts/range_area":8,"../charts/range_bar":9,"../charts/range_column":10,"../charts/range_spline_area":11,"../charts/scatter":12,"../charts/spline":13,"../charts/spline_area":14,"../charts/stacked_area":15,"../charts/stacked_area_100":16,"../charts/stacked_bar":17,"../charts/stacked_bar_100":18,"../charts/stacked_column":19,"../charts/stacked_column_100":20,"../charts/step_area":21}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {

	var _this = this;
	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var dataSeriesIndex = plotUnit.dataSeriesIndexes[0];
	var dataSeries = this.data[dataSeriesIndex];
	var dataPoints = dataSeries.dataPoints;
	var indexLabelLineEdgeLength = 10;
	var explodeDuration = 500;

	var plotArea = this.plotArea;

	//var maxFrame = isCanvasSupported ? 300 : 4;
	//var totalRecursions = 0;
	var dataPointEOs = []; //dataPoint Extension Objects Behaves like a storage place for all additional data relating to dataPoints. Requred because actual dataPoints should not be modified.

	var minDistanceBetweenLabels = 2;
	var indexLabelRadiusToRadiusRatio = 1.3;
	var poleAnglularDistance = 20 / 180 * Math.PI; //Anglular Distance from 90 & 270 to be considered pole
	var precision = 6;

	var center = {
		x: (plotArea.x2 + plotArea.x1) / 2, y: (plotArea.y2 + plotArea.y1) / 2
	};

	var sum = 0;
	var isIndexLabelPresent = false;
	for (var j = 0; j < dataPoints.length; j++) {
		sum += Math.abs(dataPoints[j].y);

		if (!isIndexLabelPresent && typeof dataPoints[j].indexLabel !== "undefined" && dataPoints[j].indexLabel !== null && dataPoints[j].indexLabel.toString().length > 0) isIndexLabelPresent = true;

		if (!isIndexLabelPresent && typeof dataPoints[j].label !== "undefined" && dataPoints[j].label !== null && dataPoints[j].label.toString().length > 0) isIndexLabelPresent = true;
	}

	if (sum === 0) return;

	isIndexLabelPresent = isIndexLabelPresent || typeof dataSeries.indexLabel !== "undefined" && dataSeries.indexLabel !== null && dataSeries.indexLabel.toString().length > 0;

	var outerRadius = dataSeries.indexLabelPlacement !== "inside" && isIndexLabelPresent ? Math.min(plotArea.width, plotArea.height) * 0.75 / 2 : Math.min(plotArea.width, plotArea.height) * .92 / 2;

	if (dataSeries.radius) outerRadius = (0, _utils.convertPercentToValue)(dataSeries.radius, outerRadius);

	var innerRadius = typeof dataSeries.innerRadius !== 'undefined' && dataSeries.innerRadius !== null ? (0, _utils.convertPercentToValue)(dataSeries.innerRadius, outerRadius) : 0.7 * outerRadius;

	var percentInnerRadius = Math.min(innerRadius / outerRadius, (outerRadius - 1) / outerRadius);

	function initLabels() {

		if (!dataSeries || !dataPoints) return;

		var noDPNearSouthPole = 0;
		var noDPNearNorthPole = 0;
		var firstDPCloseToSouth = 0;
		var firstDPCloseToNorth = 0;

		for (j = 0; j < dataPoints.length; j++) {

			var dataPoint = dataPoints[j];
			var id = dataSeries.dataPointIds[j];

			var dataPointEO = {
				id: id, objectType: "dataPoint", dataPointIndex: j, dataSeriesIndex: 0
			};
			dataPointEOs.push(dataPointEO);

			var percentAndTotal = {
				percent: null, total: null
			};
			var formatterParameter = null;

			percentAndTotal = _this.getPercentAndTotal(dataSeries, dataPoint);

			if (dataSeries.indexLabelFormatter || dataPoint.indexLabelFormatter) formatterParameter = {
				chart: _this._options, dataSeries: dataSeries, dataPoint: dataPoint, total: percentAndTotal.total, percent: percentAndTotal.percent
			};

			var indexLabelText = dataPoint.indexLabelFormatter ? dataPoint.indexLabelFormatter(formatterParameter) : dataPoint.indexLabel ? _this.replaceKeywordsWithValue(dataPoint.indexLabel, dataPoint, dataSeries, j) : dataSeries.indexLabelFormatter ? dataSeries.indexLabelFormatter(formatterParameter) : dataSeries.indexLabel ? _this.replaceKeywordsWithValue(dataSeries.indexLabel, dataPoint, dataSeries, j) : dataPoint.label ? dataPoint.label : '';

			_this._eventManager.objectMap[id] = dataPointEO;

			//dataPointEO.indexLabelText = j.toString() + " " + "kingfisher: " + dataPoint.y.toString();;
			dataPointEO.center = {
				x: center.x, y: center.y
			};
			dataPointEO.y = dataPoint.y;
			dataPointEO.radius = outerRadius;
			dataPointEO.percentInnerRadius = percentInnerRadius;
			dataPointEO.indexLabelText = indexLabelText;
			dataPointEO.indexLabelPlacement = dataSeries.indexLabelPlacement;
			dataPointEO.indexLabelLineColor = dataPoint.indexLabelLineColor ? dataPoint.indexLabelLineColor : dataSeries.indexLabelLineColor ? dataSeries.indexLabelLineColor : dataPoint.color ? dataPoint.color : dataSeries._colorSet[j % dataSeries._colorSet.length];
			dataPointEO.indexLabelLineThickness = dataPoint.indexLabelLineThickness ? dataPoint.indexLabelLineThickness : dataSeries.indexLabelLineThickness;
			dataPointEO.indexLabelLineDashType = dataPoint.indexLabelLineDashType ? dataPoint.indexLabelLineDashType : dataSeries.indexLabelLineDashType;
			dataPointEO.indexLabelFontColor = dataPoint.indexLabelFontColor ? dataPoint.indexLabelFontColor : dataSeries.indexLabelFontColor;
			dataPointEO.indexLabelFontStyle = dataPoint.indexLabelFontStyle ? dataPoint.indexLabelFontStyle : dataSeries.indexLabelFontStyle;
			dataPointEO.indexLabelFontWeight = dataPoint.indexLabelFontWeight ? dataPoint.indexLabelFontWeight : dataSeries.indexLabelFontWeight;
			dataPointEO.indexLabelFontSize = dataPoint.indexLabelFontSize ? dataPoint.indexLabelFontSize : dataSeries.indexLabelFontSize;
			dataPointEO.indexLabelFontFamily = dataPoint.indexLabelFontFamily ? dataPoint.indexLabelFontFamily : dataSeries.indexLabelFontFamily;
			dataPointEO.indexLabelBackgroundColor = dataPoint.indexLabelBackgroundColor ? dataPoint.indexLabelBackgroundColor : dataSeries.indexLabelBackgroundColor ? dataSeries.indexLabelBackgroundColor : null;
			dataPointEO.indexLabelMaxWidth = dataPoint.indexLabelMaxWidth ? dataPoint.indexLabelMaxWidth : dataSeries.indexLabelMaxWidth ? dataSeries.indexLabelMaxWidth : plotArea.width * .33;
			dataPointEO.indexLabelWrap = typeof dataPoint.indexLabelWrap !== "undefined" ? dataPoint.indexLabelWrap : dataSeries.indexLabelWrap;

			dataPointEO.startAngle = j === 0 ? dataSeries.startAngle ? dataSeries.startAngle / 180 * Math.PI : 0 : dataPointEOs[j - 1].endAngle;

			dataPointEO.startAngle = (dataPointEO.startAngle + 2 * Math.PI) % (2 * Math.PI);

			dataPointEO.endAngle = dataPointEO.startAngle + 2 * Math.PI / sum * Math.abs(dataPoint.y);

			//var midAngle = dataPointEO.startAngle + Math.abs(dataPointEO.endAngle - dataPointEO.startAngle) / 2;
			var midAngle = (dataPointEO.endAngle + dataPointEO.startAngle) / 2;

			//var midAngle = (180 / Math.PI * midAngle);

			midAngle = (midAngle + 2 * Math.PI) % (2 * Math.PI);

			dataPointEO.midAngle = midAngle;

			if (dataPointEO.midAngle > Math.PI / 2 - poleAnglularDistance && dataPointEO.midAngle < Math.PI / 2 + poleAnglularDistance) {
				if (noDPNearSouthPole === 0 || dataPointEOs[firstDPCloseToSouth].midAngle > dataPointEO.midAngle) firstDPCloseToSouth = j;

				noDPNearSouthPole++;
			} else if (dataPointEO.midAngle > 3 * Math.PI / 2 - poleAnglularDistance && dataPointEO.midAngle < 3 * Math.PI / 2 + poleAnglularDistance) {
				if (noDPNearNorthPole === 0 || dataPointEOs[firstDPCloseToNorth].midAngle > dataPointEO.midAngle) firstDPCloseToNorth = j;

				noDPNearNorthPole++;
			}

			if (midAngle > Math.PI / 2 && midAngle <= 3 * Math.PI / 2) dataPointEO.hemisphere = "left";else dataPointEO.hemisphere = "right";

			//dataPointEO.indexLabelText = j.toString() + "; " + dataPoint.y.toString() + "; " + midAngle.toString() + "; junk";
			dataPointEO.indexLabelTextBlock = new _text_block2.default(_this.plotArea.ctx, {
				fontSize: dataPointEO.indexLabelFontSize, fontFamily: dataPointEO.indexLabelFontFamily, fontColor: dataPointEO.indexLabelFontColor,
				fontStyle: dataPointEO.indexLabelFontStyle, fontWeight: dataPointEO.indexLabelFontWeight,
				horizontalAlign: "left",
				backgroundColor: dataPointEO.indexLabelBackgroundColor,
				maxWidth: dataPointEO.indexLabelMaxWidth, maxHeight: dataPointEO.indexLabelWrap ? dataPointEO.indexLabelFontSize * 5 : dataPointEO.indexLabelFontSize * 1.5,
				text: dataPointEO.indexLabelText,
				padding: 0,
				//textBaseline: dataPointEO.indexLabelBackgroundColor ? "middle" : "top"
				textBaseline: "top"
			});

			dataPointEO.indexLabelTextBlock.measureText();

			//dataPoint.labelWidth = ctx.measureText(j.toString() + "; " + dataPoint.label).width;

			//console.log(dataPoint.label);
		}

		var noOfDPToRightOfSouthPole = 0;
		var noOfDPToLeftOfNorthPole = 0;
		var keepSameDirection = false; // once a dataPoint's hemisphere is changed, others should follow the same so that there are no labes near pole pointing in opposite direction.

		for (j = 0; j < dataPoints.length; j++) {

			var dataPointEO = dataPointEOs[(firstDPCloseToSouth + j) % dataPoints.length];

			if (noDPNearSouthPole > 1 && dataPointEO.midAngle > Math.PI / 2 - poleAnglularDistance && dataPointEO.midAngle < Math.PI / 2 + poleAnglularDistance) {

				if (noOfDPToRightOfSouthPole <= noDPNearSouthPole / 2 && !keepSameDirection) {
					dataPointEO.hemisphere = "right";
					noOfDPToRightOfSouthPole++;
				} else {
					dataPointEO.hemisphere = "left";
					keepSameDirection = true;
				}
			}
		}

		keepSameDirection = false;
		for (j = 0; j < dataPoints.length; j++) {

			var dataPointEO = dataPointEOs[(firstDPCloseToNorth + j) % dataPoints.length];

			//if (dataPoint.hemisphere = "right")
			//	break;

			if (noDPNearNorthPole > 1 && dataPointEO.midAngle > 3 * Math.PI / 2 - poleAnglularDistance && dataPointEO.midAngle < 3 * Math.PI / 2 + poleAnglularDistance) {

				if (noOfDPToLeftOfNorthPole <= noDPNearNorthPole / 2 && !keepSameDirection) {
					dataPointEO.hemisphere = "left";
					noOfDPToLeftOfNorthPole++;
				} else {
					dataPointEO.hemisphere = "right";
					keepSameDirection = true;
				}
			}
		}
	} //End of initLabels()

	function renderLabels() {

		var ctx = _this.plotArea.ctx;
		ctx.fillStyle = "black";
		ctx.strokeStyle = "grey";
		var fontSize = 16;
		//ctx.font = fontSize + "px Arial";
		ctx.textBaseline = "middle";
		ctx.lineJoin = "round";
		var i = 0,
		    j = 0;

		for (i = 0; i < dataPoints.length; i++) {
			var dataPointEO = dataPointEOs[i];

			if (!dataPointEO.indexLabelText) continue;

			dataPointEO.indexLabelTextBlock.y -= dataPointEO.indexLabelTextBlock.height / 2;

			var xOffset = 0;

			if (dataPointEO.hemisphere === "left") {
				var xOffset = dataSeries.indexLabelPlacement !== "inside" ? -(dataPointEO.indexLabelTextBlock.width + indexLabelLineEdgeLength) : -dataPointEO.indexLabelTextBlock.width / 2;
			} else {
				var xOffset = dataSeries.indexLabelPlacement !== "inside" ? indexLabelLineEdgeLength : -dataPointEO.indexLabelTextBlock.width / 2;
			}

			dataPointEO.indexLabelTextBlock.x += xOffset;
			dataPointEO.indexLabelTextBlock.render(true);
			dataPointEO.indexLabelTextBlock.x -= xOffset;

			//if (i < 4)
			//	customPrompt(i + "; " + center.y + "; " + dataPointEO.indexLabelTextBlock.y.toFixed(2));

			dataPointEO.indexLabelTextBlock.y += dataPointEO.indexLabelTextBlock.height / 2;

			if (dataPointEO.indexLabelPlacement !== "inside") {
				var indexLabelLineStartX = dataPointEO.center.x + outerRadius * Math.cos(dataPointEO.midAngle);
				var indexLabelLineStartY = dataPointEO.center.y + outerRadius * Math.sin(dataPointEO.midAngle);

				//ctx.strokeStyle = dataPoints[i].color ? dataPoints[i].color : dataSeries._colorSet[i % dataSeries._colorSet.length];
				ctx.strokeStyle = dataPointEO.indexLabelLineColor;
				ctx.lineWidth = dataPointEO.indexLabelLineThickness;

				if (ctx.setLineDash) {
					ctx.setLineDash((0, _utils.getLineDashArray)(dataPointEO.indexLabelLineDashType, dataPointEO.indexLabelLineThickness));
				}

				//ctx.lineWidth = 4;
				ctx.beginPath();
				ctx.moveTo(indexLabelLineStartX, indexLabelLineStartY);
				ctx.lineTo(dataPointEO.indexLabelTextBlock.x, dataPointEO.indexLabelTextBlock.y);
				ctx.lineTo(dataPointEO.indexLabelTextBlock.x + (dataPointEO.hemisphere === "left" ? -indexLabelLineEdgeLength : indexLabelLineEdgeLength), dataPointEO.indexLabelTextBlock.y);
				ctx.stroke();
				//ctx.closePath();
				//window.alert("contine??");
				//animate();
			}

			ctx.lineJoin = "miter";
		}
	}

	function animate(fractionComplete) {

		var ctx = _this.plotArea.ctx;

		ctx.clearRect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		ctx.fillStyle = _this.backgroundColor;
		ctx.fillRect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);

		var maxAngle = dataPointEOs[0].startAngle + 2 * Math.PI * fractionComplete;

		for (var i = 0; i < dataPoints.length; i++) {

			var startAngle = i === 0 ? dataPointEOs[i].startAngle : endAngle;
			var endAngle = startAngle + (dataPointEOs[i].endAngle - dataPointEOs[i].startAngle);

			var shouldBreak = false;

			if (endAngle > maxAngle) {
				endAngle = maxAngle;
				shouldBreak = true;
			}

			var color = dataPoints[i].color ? dataPoints[i].color : dataSeries._colorSet[i % dataSeries._colorSet.length];

			if (endAngle > startAngle) (0, _utils.drawSegment)(_this.plotArea.ctx, dataPointEOs[i].center, dataPointEOs[i].radius, color, dataSeries.type, startAngle, endAngle, dataSeries.fillOpacity, dataPointEOs[i].percentInnerRadius);

			if (shouldBreak) break;
		}
	}

	function explodeToggle(fractionComplete) {

		var ctx = _this.plotArea.ctx;

		ctx.clearRect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		ctx.fillStyle = _this.backgroundColor;
		ctx.fillRect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);

		for (var i = 0; i < dataPoints.length; i++) {

			var startAngle = dataPointEOs[i].startAngle;
			var endAngle = dataPointEOs[i].endAngle;

			if (endAngle > startAngle) {

				var offsetX = outerRadius * .07 * Math.cos(dataPointEOs[i].midAngle);
				var offsetY = outerRadius * .07 * Math.sin(dataPointEOs[i].midAngle);
				var isInTransition = false;

				if (dataPoints[i].exploded) {
					if (Math.abs(dataPointEOs[i].center.x - (center.x + offsetX)) > 0.000000001 || Math.abs(dataPointEOs[i].center.y - (center.y + offsetY)) > 0.000000001) {

						dataPointEOs[i].center.x = center.x + offsetX * fractionComplete;
						dataPointEOs[i].center.y = center.y + offsetY * fractionComplete;

						isInTransition = true;
					}
				} else if (Math.abs(dataPointEOs[i].center.x - center.x) > 0 || Math.abs(dataPointEOs[i].center.y - center.y) > 0) {
					dataPointEOs[i].center.x = center.x + offsetX * (1 - fractionComplete);
					dataPointEOs[i].center.y = center.y + offsetY * (1 - fractionComplete);

					isInTransition = true;
				}

				if (isInTransition) {
					var entry = {};
					entry.dataSeries = dataSeries;
					entry.dataPoint = dataSeries.dataPoints[i];
					entry.index = i;
					_this._toolTip.highlightObjects([entry]);
				}

				var color = dataPoints[i].color ? dataPoints[i].color : dataSeries._colorSet[i % dataSeries._colorSet.length];

				(0, _utils.drawSegment)(_this.plotArea.ctx, dataPointEOs[i].center, dataPointEOs[i].radius, color, dataSeries.type, startAngle, endAngle, dataSeries.fillOpacity, dataPointEOs[i].percentInnerRadius);
			}
		}

		//window.alert("next??");
		renderLabels();
	}

	function areDataPointsTooClose(first, second) {

		var label1 = {
			x1: first.indexLabelTextBlock.x, y1: first.indexLabelTextBlock.y - first.indexLabelTextBlock.height / 2, x2: first.indexLabelTextBlock.x + first.indexLabelTextBlock.width, y2: first.indexLabelTextBlock.y + first.indexLabelTextBlock.height / 2
		};
		var label2 = {
			x1: second.indexLabelTextBlock.x, y1: second.indexLabelTextBlock.y - second.indexLabelTextBlock.height / 2, x2: second.indexLabelTextBlock.x + second.indexLabelTextBlock.width, y2: second.indexLabelTextBlock.y + second.indexLabelTextBlock.height / 2
		};

		if (label1.x2 < label2.x1 - indexLabelLineEdgeLength || label1.x1 > label2.x2 + indexLabelLineEdgeLength || label1.y1 > label2.y2 + indexLabelLineEdgeLength || label1.y2 < label2.y1 - indexLabelLineEdgeLength) return false;

		return true;
	}

	function getVerticalDistanceBetweenLabels(first, second) {

		var distance = 0;
		var label1 = {
			y: first.indexLabelTextBlock.y, y1: first.indexLabelTextBlock.y - first.indexLabelTextBlock.height / 2, y2: first.indexLabelTextBlock.y + first.indexLabelTextBlock.height / 2
		};
		var label2 = {
			y: second.indexLabelTextBlock.y, y1: second.indexLabelTextBlock.y - second.indexLabelTextBlock.height / 2, y2: second.indexLabelTextBlock.y + second.indexLabelTextBlock.height / 2
		};

		if (label2.y > label1.y) {
			distance = label2.y1 - label1.y2;
		} else {
			distance = label1.y1 - label2.y2;
		}

		return distance;
	}

	function getNextLabelIndex(currentLabelIndex) {
		var nextLabelIndex = null;

		for (var i = 1; i < dataPoints.length; i++) {

			nextLabelIndex = (currentLabelIndex + i + dataPointEOs.length) % dataPointEOs.length;

			if (dataPointEOs[nextLabelIndex].hemisphere !== dataPointEOs[currentLabelIndex].hemisphere) {
				nextLabelIndex = null;
				break;
			} else if (dataPointEOs[nextLabelIndex].indexLabelText && nextLabelIndex !== currentLabelIndex && (getVerticalDistanceBetweenLabels(dataPointEOs[nextLabelIndex], dataPointEOs[currentLabelIndex]) < 0 || (dataPointEOs[currentLabelIndex].hemisphere === "right" ? dataPointEOs[nextLabelIndex].indexLabelTextBlock.y >= dataPointEOs[currentLabelIndex].indexLabelTextBlock.y : dataPointEOs[nextLabelIndex].indexLabelTextBlock.y <= dataPointEOs[currentLabelIndex].indexLabelTextBlock.y))) break;else {
				nextLabelIndex = null;
			}
		}

		return nextLabelIndex;
	}

	function getPreviousLabelIndex(currentLabelIndex) {
		var prevLabelIndex = null;

		for (var i = 1; i < dataPoints.length; i++) {

			prevLabelIndex = (currentLabelIndex - i + dataPointEOs.length) % dataPointEOs.length;

			if (dataPointEOs[prevLabelIndex].hemisphere !== dataPointEOs[currentLabelIndex].hemisphere) {
				prevLabelIndex = null;
				break;
			} else if (dataPointEOs[prevLabelIndex].indexLabelText && dataPointEOs[prevLabelIndex].hemisphere === dataPointEOs[currentLabelIndex].hemisphere && prevLabelIndex !== currentLabelIndex && (getVerticalDistanceBetweenLabels(dataPointEOs[prevLabelIndex], dataPointEOs[currentLabelIndex]) < 0 || (dataPointEOs[currentLabelIndex].hemisphere === "right" ? dataPointEOs[prevLabelIndex].indexLabelTextBlock.y <= dataPointEOs[currentLabelIndex].indexLabelTextBlock.y : dataPointEOs[prevLabelIndex].indexLabelTextBlock.y >= dataPointEOs[currentLabelIndex].indexLabelTextBlock.y))) break;else {
				prevLabelIndex = null;
			}
		}

		return prevLabelIndex;
	}

	function rePositionLabels(dataPointIndex, offset) {
		offset = offset || 0;

		var actualOffset = 0;

		//var labelYMin = 2;
		//var labelYMax = ctx.canvas.height - 2;
		//var labelYMin = _this.plotArea.ctx.canvas.height / 2 - indexLabelRadius * 1;
		//var labelYMax = _this.plotArea.ctx.canvas.height / 2 + indexLabelRadius * 1;

		var labelYMin = center.y - indexLabelRadius * 1;
		var labelYMax = center.y + indexLabelRadius * 1;

		//console.log(totalRecursions);

		if (dataPointIndex >= 0 && dataPointIndex < dataPoints.length) {

			var dataPointEO = dataPointEOs[dataPointIndex];
			//if (dataPointIndex === 0)
			//	customPrompt(labelYMin.toFixed(2) + "; " + labelYMax.toFixed(2) + "; " + dataPointEO.indexLabelTextBlock.y.toFixed(2));

			// If label is already outside the bounds, return
			if (offset < 0 && dataPointEO.indexLabelTextBlock.y < labelYMin || offset > 0 && dataPointEO.indexLabelTextBlock.y > labelYMax) return 0;

			var validOffset = offset;

			//Check if the offset falls within the bounds (labelYMin, labelYMax, tangential bounds) without considering overlap. Else use the closest offset that is possible - validOffset.
			{
				var distFromIndexLineStart = 0;
				var indexLabelLineStartX = 0;
				var indexLabelLineStartY = 0;
				var indexLabelAngle = 0;
				var indexLabelAngleWhenTangent = 0;

				if (validOffset < 0) {
					if (dataPointEO.indexLabelTextBlock.y - dataPointEO.indexLabelTextBlock.height / 2 > labelYMin && dataPointEO.indexLabelTextBlock.y - dataPointEO.indexLabelTextBlock.height / 2 + validOffset < labelYMin) validOffset = -(labelYMin - (dataPointEO.indexLabelTextBlock.y - dataPointEO.indexLabelTextBlock.height / 2 + validOffset));
				} else {
					if (dataPointEO.indexLabelTextBlock.y + dataPointEO.indexLabelTextBlock.height / 2 < labelYMin && dataPointEO.indexLabelTextBlock.y + dataPointEO.indexLabelTextBlock.height / 2 + validOffset > labelYMax) validOffset = dataPointEO.indexLabelTextBlock.y + dataPointEO.indexLabelTextBlock.height / 2 + validOffset - labelYMax;
				}

				var newlabelY = dataPointEO.indexLabelTextBlock.y + validOffset;
				var newlabelX = 0;

				if (dataPointEO.hemisphere === "right") {
					newlabelX = center.x + Math.sqrt(Math.pow(indexLabelRadius, 2) - Math.pow(newlabelY - center.y, 2));
				} else newlabelX = center.x - Math.sqrt(Math.pow(indexLabelRadius, 2) - Math.pow(newlabelY - center.y, 2));

				indexLabelLineStartX = center.x + outerRadius * Math.cos(dataPointEO.midAngle);
				indexLabelLineStartY = center.y + outerRadius * Math.sin(dataPointEO.midAngle);

				distFromIndexLineStart = Math.sqrt(Math.pow(newlabelX - indexLabelLineStartX, 2) + Math.pow(newlabelY - indexLabelLineStartY, 2));

				indexLabelAngleWhenTangent = Math.acos(outerRadius / indexLabelRadius);

				//indexLabelAngle = Math.acos((outerRadius * outerRadius + distFromIndexLineStart * distFromIndexLineStart - indexLabelRadius * indexLabelRadius) / (2 * outerRadius * distFromIndexLineStart));
				indexLabelAngle = Math.acos((indexLabelRadius * indexLabelRadius + outerRadius * outerRadius - distFromIndexLineStart * distFromIndexLineStart) / (2 * outerRadius * indexLabelRadius));

				if (indexLabelAngle < indexLabelAngleWhenTangent) {
					validOffset = newlabelY - dataPointEO.indexLabelTextBlock.y;
					//dataPointEO.indexLabelTextBlock.x = newlabelX;
				} else {

					validOffset = 0;

					//dataPointEO.indexLabelTextBlock.x = newlabelX;

					//Index Line is overlapping the pie. So lets find out the point where indexline becomes a tangent.

					//distFromIndexLineStart = Math.sqrt(indexLabelRadius * indexLabelRadius - outerRadius * outerRadius);
					////distFromIndexLineStart *= offset < 0 ? -1 : 1;
					////indexLabelAngle = Math.acos((indexLabelRadius * indexLabelRadius + outerRadius * outerRadius - distFromIndexLineStart * distFromIndexLineStart) / (2 * outerRadius * indexLabelRadius));
					//indexLabelAngle = Math.atan2(distFromIndexLineStart, outerRadius);

					//newlabelX = center.x + indexLabelRadius * Math.cos(indexLabelAngle);
					//newlabelY = center.y + indexLabelRadius * Math.sin(indexLabelAngle);

					//actualOffset = newlabelY - dataPointEO.indexLabelTextBlock.y;

					//dataPointEO.indexLabelTextBlock.y = newlabelY;
					//dataPointEO.indexLabelTextBlock.x = newlabelX;
				}
			}

			//var tempIndex = (dataPointIndex + dataPointEOs.length - 1) % dataPointEOs.length;

			//var prevDataPointIndex = dataPointEOs[tempIndex].hemisphere === dataPointEO.hemisphere ? tempIndex : null;

			var prevDataPointIndex = getPreviousLabelIndex(dataPointIndex);

			//tempIndex = (dataPointIndex + dataPointEOs.length + 1) % dataPointEOs.length;

			//var nextDataPointIndex = dataPointEOs[tempIndex].hemisphere === dataPointEO.hemisphere ? tempIndex : null;

			var nextDataPointIndex = getNextLabelIndex(dataPointIndex);

			var otherdataPointEO, otherDataPointIndex, distanceFromOtherLabel;
			var otherDataPointOffset = 0;
			var otherDataPointActualOffset = 0;

			if (validOffset < 0) {

				otherDataPointIndex = dataPointEO.hemisphere === "right" ? prevDataPointIndex : nextDataPointIndex;

				actualOffset = validOffset;

				if (otherDataPointIndex !== null) {

					//if (dataPointIndex < 4)
					//	customPrompt("valid: " + validOffset);

					var tempOffset = -validOffset;

					var distanceFromOtherLabel = dataPointEO.indexLabelTextBlock.y - dataPointEO.indexLabelTextBlock.height / 2 - (dataPointEOs[otherDataPointIndex].indexLabelTextBlock.y + dataPointEOs[otherDataPointIndex].indexLabelTextBlock.height / 2);

					if (distanceFromOtherLabel - tempOffset < minDistanceBetweenLabels) {
						otherDataPointOffset = -tempOffset;
						//totalRecursions++;
						otherDataPointActualOffset = rePositionLabels(otherDataPointIndex, otherDataPointOffset, recursionCount + 1);

						//if (dataPointIndex < 4)
						//	customPrompt(dataPointIndex + "; " + "offset: " + otherDataPointOffset);


						if (+otherDataPointActualOffset.toFixed(precision) > +otherDataPointOffset.toFixed(precision)) {

							if (distanceFromOtherLabel > minDistanceBetweenLabels) actualOffset = -(distanceFromOtherLabel - minDistanceBetweenLabels);
							//else
							//	actualOffset = 0;
							else actualOffset = -(tempOffset - (otherDataPointActualOffset - otherDataPointOffset));
						}

						//if (dataPointIndex < 4)
						//	customPrompt("actual: " + actualOffset);
					}
				}
			} else if (validOffset > 0) {

				otherDataPointIndex = dataPointEO.hemisphere === "right" ? nextDataPointIndex : prevDataPointIndex;

				actualOffset = validOffset;

				if (otherDataPointIndex !== null) {

					var tempOffset = validOffset;

					var distanceFromOtherLabel = dataPointEOs[otherDataPointIndex].indexLabelTextBlock.y - dataPointEOs[otherDataPointIndex].indexLabelTextBlock.height / 2 - (dataPointEO.indexLabelTextBlock.y + dataPointEO.indexLabelTextBlock.height / 2);

					if (distanceFromOtherLabel - tempOffset < minDistanceBetweenLabels) {
						otherDataPointOffset = tempOffset;
						//totalRecursions++;
						otherDataPointActualOffset = rePositionLabels(otherDataPointIndex, otherDataPointOffset, recursionCount + 1);

						if (+otherDataPointActualOffset.toFixed(precision) < +otherDataPointOffset.toFixed(precision)) {

							if (distanceFromOtherLabel > minDistanceBetweenLabels) actualOffset = distanceFromOtherLabel - minDistanceBetweenLabels;
							//else
							//	actualOffset = 0;
							else actualOffset = tempOffset - (otherDataPointOffset - otherDataPointActualOffset);
						}
					}
				}

				//if (!(dataPointEO.indexLabelTextBlock.y + dataPointEO.indexLabelTextBlock.height / 2 + actualOffset < labelYMax)) {
				//	if (dataPointEO.indexLabelTextBlock.y + dataPointEO.indexLabelTextBlock.height / 2 < labelYMax) {
				//		actualOffset = labelYMax - (dataPointEO.indexLabelTextBlock.y + dataPointEO.indexLabelTextBlock.height / 2);
				//	}
				//	else {
				//		actualOffset = 0;
				//	}
				//}
			}

			if (actualOffset) {

				var newLabelY = dataPointEO.indexLabelTextBlock.y + actualOffset;

				var newLabelX = 0;

				if (dataPointEO.hemisphere === "right") {
					newLabelX = center.x + Math.sqrt(Math.pow(indexLabelRadius, 2) - Math.pow(newLabelY - center.y, 2));
				} else newLabelX = center.x - Math.sqrt(Math.pow(indexLabelRadius, 2) - Math.pow(newLabelY - center.y, 2));

				if (dataPointEO.midAngle > Math.PI / 2 - poleAnglularDistance && dataPointEO.midAngle < Math.PI / 2 + poleAnglularDistance) {

					var prevDPIndex = (dataPointIndex - 1 + dataPointEOs.length) % dataPointEOs.length;
					var prevDP = dataPointEOs[prevDPIndex];
					var nextDP = dataPointEOs[(dataPointIndex + 1 + dataPointEOs.length) % dataPointEOs.length];

					if (dataPointEO.hemisphere === "left" && prevDP.hemisphere === "right" && newLabelX > prevDP.indexLabelTextBlock.x) {
						newLabelX = prevDP.indexLabelTextBlock.x - 15;
					} else if (dataPointEO.hemisphere === "right" && nextDP.hemisphere === "left" && newLabelX < nextDP.indexLabelTextBlock.x) {
						newLabelX = nextDP.indexLabelTextBlock.x + 15;
					}
				} else if (dataPointEO.midAngle > 3 * Math.PI / 2 - poleAnglularDistance && dataPointEO.midAngle < 3 * Math.PI / 2 + poleAnglularDistance) {

					var prevDPIndex = (dataPointIndex - 1 + dataPointEOs.length) % dataPointEOs.length;
					var prevDP = dataPointEOs[prevDPIndex];
					var nextDP = dataPointEOs[(dataPointIndex + 1 + dataPointEOs.length) % dataPointEOs.length];

					if (dataPointEO.hemisphere === "right" && prevDP.hemisphere === "left" && newLabelX < prevDP.indexLabelTextBlock.x) {
						newLabelX = prevDP.indexLabelTextBlock.x + 15;
					} else if (dataPointEO.hemisphere === "left" && nextDP.hemisphere === "right" && newLabelX > nextDP.indexLabelTextBlock.x) {
						newLabelX = nextDP.indexLabelTextBlock.x - 15;
					}
				}

				//if (actualOffset < 0 && dataPointIndex < 4)
				//	customPrompt(actualOffset.toFixed(2) + "; " + dataPointEO.indexLabelTextBlock.y.toFixed(2) + "; " + newLabelY.toFixed(2));

				dataPointEO.indexLabelTextBlock.y = newLabelY;

				dataPointEO.indexLabelTextBlock.x = newLabelX;

				dataPointEO.indexLabelAngle = Math.atan2(dataPointEO.indexLabelTextBlock.y - center.y, dataPointEO.indexLabelTextBlock.x - center.x);
			}
		}

		return actualOffset;
	}

	function positionLabels() {
		var ctx = _this.plotArea.ctx;

		ctx.fillStyle = "grey";
		ctx.strokeStyle = "grey";
		var fontSize = 16;
		ctx.font = fontSize + "px Arial";
		ctx.textBaseline = "middle";
		var i = 0,
		    j = 0;
		var deltaR = 0;

		var resizeFlag = true;

		var _loop = function _loop() {

			if (dataSeries.radius || !dataSeries.radius && typeof dataSeries.innerRadius !== 'undefined' && dataSeries.innerRadius !== null && outerRadius - deltaR <= innerRadius) resizeFlag = false;

			if (resizeFlag) outerRadius -= deltaR;

			deltaR = 0;

			if (dataSeries.indexLabelPlacement !== "inside") {
				indexLabelRadius = outerRadius * indexLabelRadiusToRadiusRatio;


				for (i = 0; i < dataPoints.length; i++) {
					dataPointEO = dataPointEOs[i];


					dataPointEO.indexLabelTextBlock.x = center.x + indexLabelRadius * Math.cos(dataPointEO.midAngle);
					dataPointEO.indexLabelTextBlock.y = center.y + indexLabelRadius * Math.sin(dataPointEO.midAngle);

					dataPointEO.indexLabelAngle = dataPointEO.midAngle;
					dataPointEO.radius = outerRadius;
					dataPointEO.percentInnerRadius = percentInnerRadius;
					//dataPointEO.indexLabelFontSize = dataPoint.indexLabelFontSize ? dataPoint.indexLabelFontSize : dataSeries.indexLabelFontSize;
				}

				for (i = 0; i < dataPoints.length; i++) {
					dataPointEO = dataPointEOs[i];
					//dataPointEO.lab
					//resetAnimationFrame();
					//animate();
					//renderLabels();

					//var prevDataPointIndex = (i - 1 + dataPointEOs.length) % dataPointEOs.length;

					//var nextDataPointIndex = (i + 1 + dataPointEOs.length) % dataPointEOs.length;
					//nextDataPointIndex = dataPointEOs[nextDataPointIndex].hemisphere === dataPointEO.hemisphere && nextDataPointIndex !== i ? nextDataPointIndex : null;

					nextDataPointIndex = getNextLabelIndex(i);


					if (nextDataPointIndex === null) continue;

					currentDataPoint = dataPointEOs[i];
					nextDataPoint = dataPointEOs[nextDataPointIndex];

					distanceFromNextLabel = 0;

					//if (dataPointEO.hemisphere === "right")
					//	distanceFromNextLabel = (nextDataPoint.indexLabelTextBlock.y - nextDataPoint.indexLabelTextBlock.height / 2) - (currentDataPoint.indexLabelTextBlock.y + currentDataPoint.indexLabelTextBlock.height / 2) - minDistanceBetweenLabels;
					//else
					//	distanceFromNextLabel = (currentDataPoint.indexLabelTextBlock.y - currentDataPoint.indexLabelTextBlock.height / 2) - (nextDataPoint.indexLabelTextBlock.y + nextDataPoint.indexLabelTextBlock.height / 2) - minDistanceBetweenLabels;

					distanceFromNextLabel = getVerticalDistanceBetweenLabels(currentDataPoint, nextDataPoint) - minDistanceBetweenLabels;

					if (distanceFromNextLabel < 0) {
						dataPointsAbove = 0;
						dataPointsBelow = 0;
						//var indexLabelAngleWhenTangent = Math.acos(outerRadius / indexLabelRadius) / Math.PI * 180;


						for (k = 0; k < dataPoints.length; k++) {

							if (k === i) continue;

							//if (dataPointEOs[k].hemisphere !== dataPointEO.hemisphere || Math.abs(dataPointEOs[k].midAngle - dataPointEO.midAngle) > 30)
							//	continue;
							//if (dataPointEOs[k].hemisphere !== dataPointEO.hemisphere || Math.abs(dataPointEOs[k].labelAngle - dataPointEO.indexLabelAngle) > 30)
							//	continue;
							//if (dataPointEOs[k].hemisphere !== dataPointEO.hemisphere || Math.abs(dataPointEOs[k].midAngle - dataPointEO.midAngle) > indexLabelAngleWhenTangent)
							//	continue;
							if (dataPointEOs[k].hemisphere !== dataPointEO.hemisphere) continue;

							if (dataPointEOs[k].indexLabelTextBlock.y < dataPointEO.indexLabelTextBlock.y) dataPointsAbove++;else dataPointsBelow++;
						}

						//var upWardsOffset = (distanceFromNextLabel) / dataPoints.length * (dataPointsBelow);
						upWardsOffset = distanceFromNextLabel / (dataPointsAbove + dataPointsBelow || 1) * dataPointsBelow;
						downWardsOffset = -1 * (distanceFromNextLabel - upWardsOffset);
						actualUpwardOffset = 0;
						actualDownwardOffset = 0;


						if (dataPointEO.hemisphere === "right") {
							actualUpwardOffset = rePositionLabels(i, upWardsOffset);

							//if (i < 4 && actualDownwardOffset !== upWardsOffset)
							//	customPrompt(i + "; " + upWardsOffset.toFixed(2) + "; " + actualUpwardOffset.toFixed(2));


							downWardsOffset = -1 * (distanceFromNextLabel - actualUpwardOffset);

							actualDownwardOffset = rePositionLabels(nextDataPointIndex, downWardsOffset);

							//window.alert(typeof +downWardsOffset.toFixed(precision));
							//Setting precision to make sure that they don't become not equal become of minor differences - like a difference of .000001
							if (+actualDownwardOffset.toFixed(precision) < +downWardsOffset.toFixed(precision) && +actualUpwardOffset.toFixed(precision) <= +upWardsOffset.toFixed(precision)) rePositionLabels(i, -(downWardsOffset - actualDownwardOffset));
						} else {
							actualUpwardOffset = rePositionLabels(nextDataPointIndex, upWardsOffset);

							downWardsOffset = -1 * (distanceFromNextLabel - actualUpwardOffset);

							actualDownwardOffset = rePositionLabels(i, downWardsOffset);

							//Setting precision to make sure that they don't become not equal become of minor differences - like a difference of .000001
							if (+actualDownwardOffset.toFixed(precision) < +downWardsOffset.toFixed(precision) && +actualUpwardOffset.toFixed(precision) <= +upWardsOffset.toFixed(precision)) rePositionLabels(nextDataPointIndex, -(downWardsOffset - actualDownwardOffset));
						}
					}

					//resetAnimationFrame();
					//animate();
					//renderLabels();
					//window.alert("next??");
				}
			} else {
				for (i = 0; i < dataPoints.length; i++) {
					dataPointEO = dataPointEOs[i];

					indexLabelRadius = dataSeries.type === "pie" ? outerRadius * .7 : outerRadius * .8;

					dx = center.x + indexLabelRadius * Math.cos(dataPointEO.midAngle);
					dy = center.y + indexLabelRadius * Math.sin(dataPointEO.midAngle);


					dataPointEO.indexLabelTextBlock.x = dx;
					dataPointEO.indexLabelTextBlock.y = dy;
				}
			}

			// Resize Pie based on the label length.
			for (i = 0; i < dataPoints.length; i++) {

				dataPointEO = dataPointEOs[i];

				size = dataPointEO.indexLabelTextBlock.measureText();
				// To make sure that null text or empty strings don't affect the radius. Required when user is not showing any labels

				if (size.height === 0 || size.width === 0) continue;

				xOverflow = 0;
				xdr = 0;


				if (dataPointEO.hemisphere === "right") {
					xOverflow = plotArea.x2 - (dataPointEO.indexLabelTextBlock.x + dataPointEO.indexLabelTextBlock.width + indexLabelLineEdgeLength);
					xOverflow *= -1;
				} else {
					xOverflow = plotArea.x1 - (dataPointEO.indexLabelTextBlock.x - dataPointEO.indexLabelTextBlock.width - indexLabelLineEdgeLength);
				}
				if (xOverflow > 0) {
					if (!resizeFlag && dataPointEO.indexLabelText) {
						newIndexLabelMaxWidth = dataPointEO.hemisphere === "right" ? plotArea.x2 - dataPointEO.indexLabelTextBlock.x : dataPointEO.indexLabelTextBlock.x - plotArea.x1;

						dataPointEO.indexLabelTextBlock.maxWidth * .3 > newIndexLabelMaxWidth ? dataPointEO.indexLabelText = "" : dataPointEO.indexLabelTextBlock.maxWidth = newIndexLabelMaxWidth * .85;
						if (dataPointEO.indexLabelTextBlock.maxWidth * .3 < newIndexLabelMaxWidth) dataPointEO.indexLabelTextBlock.x -= dataPointEO.hemisphere === "right" ? 2 : -2;
					}

					if (Math.abs(dataPointEO.indexLabelTextBlock.y - dataPointEO.indexLabelTextBlock.height / 2 - center.y) < outerRadius || Math.abs(dataPointEO.indexLabelTextBlock.y + dataPointEO.indexLabelTextBlock.height / 2 - center.y) < outerRadius) {

						xdr = xOverflow / Math.abs(Math.cos(dataPointEO.indexLabelAngle));

						if (xdr > 9) xdr = xdr * .3;

						if (xdr > deltaR) deltaR = xdr;
					}
				}

				yOverflow = 0;
				ydr = 0;


				if (dataPointEO.indexLabelAngle > 0 && dataPointEO.indexLabelAngle < Math.PI) {
					yOverflow = plotArea.y2 - (dataPointEO.indexLabelTextBlock.y + dataPointEO.indexLabelTextBlock.height / 2 + 5);
					yOverflow *= -1;
				} else {
					yOverflow = plotArea.y1 - (dataPointEO.indexLabelTextBlock.y - dataPointEO.indexLabelTextBlock.height / 2 - 5);
				}

				if (yOverflow > 0) {
					if (!resizeFlag && dataPointEO.indexLabelText) {
						positionMultiplier = dataPointEO.indexLabelAngle > 0 && dataPointEO.indexLabelAngle < Math.PI ? -1 : 1;

						if (rePositionLabels(i, yOverflow * positionMultiplier) === 0) rePositionLabels(i, 2 * positionMultiplier);
					}
					if (Math.abs(dataPointEO.indexLabelTextBlock.x - center.x) < outerRadius) {

						ydr = yOverflow / Math.abs(Math.sin(dataPointEO.indexLabelAngle));

						if (ydr > 9) ydr = ydr * .3;

						if (ydr > deltaR) deltaR = ydr;
					}
				}
			}

			function removeLabelsForSmallSegments(totalOverlap, startIndex, endIndex) {

				var dpEOs = [];
				var totalRemovedLabelHeight = 0;

				for (var i = startIndex; true; i = (i + 1 + dataPoints.length) % dataPoints.length) {
					dpEOs.push(dataPointEOs[i]);

					if (i === endIndex) break;
				}

				dpEOs.sort(function (entry1, entry2) {
					return entry1.y - entry2.y;
				});

				for (i = 0; i < dpEOs.length; i++) {
					var dpEO = dpEOs[i];

					if (totalRemovedLabelHeight < totalOverlap * .7) {
						totalRemovedLabelHeight += dpEO.indexLabelTextBlock.height;
						dpEO.indexLabelTextBlock.text = "";
						dpEO.indexLabelText = "";
						dpEO.indexLabelTextBlock.measureText();
					} else break;
				}
			}

			//resetAnimationFrame(1);
			//animate();
			//window.alert("next??");
			function skipLabels() {
				var overlapStartIndex = -1;
				var overlapEndIndex = -1;
				var totalOverlap = 0;
				var removeLabels = false;

				for (var k = 0; k < dataPoints.length; k++) {
					removeLabels = false;
					currentDataPoint = dataPointEOs[k];

					if (!currentDataPoint.indexLabelText) continue;

					var nextLabelIndex = getNextLabelIndex(k);
					if (nextLabelIndex === null) continue;

					var nextDataPoint = dataPointEOs[nextLabelIndex];

					distanceFromNextLabel = 0;

					//if (nextDataPoint.indexLabelTextBlock.y > currentDataPoint.indexLabelTextBlock.y)
					//	distanceFromNextLabel = (nextDataPoint.indexLabelTextBlock.y - (nextDataPoint.indexLabelTextBlock.height / 2)) - (currentDataPoint.indexLabelTextBlock.y + (currentDataPoint.indexLabelTextBlock.height / 2));
					//else
					//	distanceFromNextLabel = (currentDataPoint.indexLabelTextBlock.y - (currentDataPoint.indexLabelTextBlock.height / 2)) - (nextDataPoint.indexLabelTextBlock.y + (nextDataPoint.indexLabelTextBlock.height / 2));

					distanceFromNextLabel = getVerticalDistanceBetweenLabels(currentDataPoint, nextDataPoint);

					if (distanceFromNextLabel < 0 && areDataPointsTooClose(currentDataPoint, nextDataPoint)) {
						//if (distanceFromNextLabel < 0 && areDataPointsTooClose(currentDataPoint, nextDataPoint) ) {
						if (overlapStartIndex < 0) overlapStartIndex = k;

						if (nextLabelIndex !== overlapStartIndex) {
							overlapEndIndex = nextLabelIndex;

							totalOverlap += -distanceFromNextLabel;
						}

						if (k % Math.max(dataPoints.length / 10, 3) === 0) removeLabels = true;

						//nextDataPoint.indexLabelText = "";
						//nextDataPoint.indexLabelTextBlock.text = "";
						//nextDataPoint.indexLabelTextBlock.measureText();
					} else {

						removeLabels = true;
					}

					if (removeLabels) {

						if (totalOverlap > 0 && overlapStartIndex >= 0 && overlapEndIndex >= 0) {
							removeLabelsForSmallSegments(totalOverlap, overlapStartIndex, overlapEndIndex);

							overlapStartIndex = -1;
							overlapEndIndex = -1;
							totalOverlap = 0;
						}
					}
				}

				if (totalOverlap > 0) removeLabelsForSmallSegments(totalOverlap, overlapStartIndex, overlapEndIndex);
			}

			skipLabels();
		};

		for (j = 0; j < 10 && (j < 1 || deltaR > 0); j++) {
			var indexLabelRadius;
			var dataPointEO;
			var currentDataPoint, nextDataPoint;
			var dataPointEO;
			var nextDataPointIndex;
			var distanceFromNextLabel;
			var dataPointsAbove;
			var dataPointsBelow;
			var k;
			var upWardsOffset;
			var downWardsOffset;
			var actualUpwardOffset;
			var actualDownwardOffset;
			var dataPointEO;
			var dx;
			var dy;
			var size;
			var xOverflow;
			var xdr;
			var newIndexLabelMaxWidth;
			var yOverflow;
			var ydr;
			var positionMultiplier;

			_loop();
		}
		//window.alert("next??");


		//resetAnimationFrame(_this.animationEnabled && _this.renderCount === 0 ? isCanvasSupported ? 60 : 30 : 1);
		//animate();

		//console.log("totalRecursions: " + totalRecursions);
	}

	this.pieDoughnutClickHandler = function (e) {

		if (_this.isAnimating) {
			return;
		}

		var i = e.dataPointIndex;
		var dataPoint = e.dataPoint;
		var dataSeries = this;

		var id = dataSeries.dataPointIds[i];

		//dataPointEO = _this._eventManager.objectMap[id];

		if (dataPoint.exploded) dataPoint.exploded = false;else dataPoint.exploded = true;

		// So that it doesn't try to explode when there is only one segment
		if (dataSeries.dataPoints.length > 1) {
			_this._animator.animate(0, explodeDuration, function (fractionComplete) {

				explodeToggle(fractionComplete);
				renderChartElementsInPlotArea();
				//console.log("Explode Start");
			});
		}

		return;
	};

	initLabels();

	positionLabels();
	positionLabels();
	positionLabels();
	positionLabels();

	this.disableToolTip = true;
	this._animator.animate(0, this.animatedRender ? this.animationDuration : 0, function (fractionComplete) {

		animate(fractionComplete);
		renderChartElementsInPlotArea();
	}, function () {

		_this.disableToolTip = false;
		_this._animator.animate(0, _this.animatedRender ? explodeDuration : 0, function (fractionComplete) {

			explodeToggle(fractionComplete);
			renderChartElementsInPlotArea();
		});

		//console.log("Animation Complete");
	});

	function renderChartElementsInPlotArea() {

		_this.plotArea.layoutManager.reset();

		if (_this._title) {
			if (_this._title.dockInsidePlotArea || _this._title.horizontalAlign === "center" && _this._title.verticalAlign === "center") _this._title.render();
		}

		if (_this.subtitles) for (var i = 0; i < _this.subtitles.length; i++) {
			var subtitle = _this.subtitles[i];
			if (subtitle.dockInsidePlotArea || subtitle.horizontalAlign === "center" && subtitle.verticalAlign === "center") subtitle.render();
		}

		if (_this.legend) {
			if (_this.legend.dockInsidePlotArea || _this.legend.horizontalAlign === "center" && _this.legend.verticalAlign === "center") _this.legend.render();
		}
	}

	//this.ctx.strokeRect(plotArea.x1 + 1, plotArea.y1, plotArea.width - 2, plotArea.height);
};

var _text_block = require('../core/text_block');

var _text_block2 = _interopRequireDefault(_text_block);

var _utils = require('../helpers/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../core/text_block":34,"../helpers/utils":39}],8:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;
	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var ghostCtx = this._eventManager.ghostCtx;

	var axisXProps = plotUnit.axisX.lineCoordinates;
	var axisYProps = plotUnit.axisY.lineCoordinates;
	var markers = [];

	var plotArea = this.plotArea;
	ctx.save();

	if (_utils.isCanvasSupported) ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		ghostCtx.beginPath();
		ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		ghostCtx.clip();
	}

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var closingPath = [];

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];

		var dataPoints = dataSeries.dataPoints;

		var seriesId = dataSeries.id;
		this._eventManager.objectMap[seriesId] = {
			objectType: "dataSeries", dataSeriesIndex: dataSeriesIndex
		};

		var hexColor = intToHexColorString(seriesId);
		ghostCtx.fillStyle = hexColor;
		//ghostCtx.lineWidth = dataSeries.lineThickness;
		//ghostCtx.lineWidth = 20;

		markers = [];

		var isFirstDataPointInPlotArea = true;
		var i = 0,
		    x,
		    y1,
		    y2;
		var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number back and forth.

		var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;
		var baseY;

		var startPoint = null;

		if (dataPoints.length > 0) {
			//ctx.strokeStyle = "#4572A7 ";
			var color = dataSeries._colorSet[i % dataSeries._colorSet.length];
			//ctx.strokeStyle = "red";
			ctx.fillStyle = color;
			ctx.strokeStyle = color;
			ctx.lineWidth = dataSeries.lineThickness;

			if (ctx.setLineDash) {
				ctx.setLineDash(getLineDashArray(dataSeries.lineDashType, dataSeries.lineThickness));
			}

			var prevDataNull = true;
			for (; i < dataPoints.length; i++) {

				dataPointX = dataPoints[i].x.getTime ? dataPoints[i].x.getTime() : dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (dataPoints[i].y === null || !dataPoints[i].y.length || typeof dataPoints[i].y[0] !== "number" || typeof dataPoints[i].y[1] !== "number") {

					closeArea();

					prevDataNull = true;
					continue;
				}

				x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;

				y1 = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y[0] - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;
				y2 = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y[1] - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;

				if (isFirstDataPointInPlotArea || prevDataNull) {
					ctx.beginPath();
					ctx.moveTo(x, y1);
					startPoint = {
						x: x, y: y1
					};
					closingPath = [];
					closingPath.push({ x: x, y: y2 });

					if (_utils.isCanvasSupported) {
						ghostCtx.beginPath();
						ghostCtx.moveTo(x, y1);
					}

					isFirstDataPointInPlotArea = false;
					prevDataNull = false;
				} else {

					ctx.lineTo(x, y1);
					closingPath.push({ x: x, y: y2 });

					if (_utils.isCanvasSupported) ghostCtx.lineTo(x, y1);

					if (i % 250 == 0) {
						closeArea();
					}
				}

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x, y1: y1, y2: y2
				};

				//Render Marker
				if (dataPoints[i].markerSize !== 0) {
					if (dataPoints[i].markerSize > 0 || dataSeries.markerSize > 0) {
						var markerProps = dataSeries.getMarkerProperties(i, x, y2, ctx);
						markers.push(markerProps);

						//if (!dataSeries.maxWidthInX || markerProps.size > dataSeries.maxWidthInX) {
						//	dataSeries.maxWidthInX = markerProps.size / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);
						//}

						var markerColor = intToHexColorString(id);

						if (_utils.isCanvasSupported) {
							markers.push({
								x: x, y: y2, ctx: ghostCtx,
								type: markerProps.type,
								size: markerProps.size,
								color: markerColor,
								borderColor: markerColor,
								borderThickness: markerProps.borderThickness
							});
						}

						markerProps = dataSeries.getMarkerProperties(i, x, y1, ctx);
						markers.push(markerProps);

						var markerColor = intToHexColorString(id);

						if (_utils.isCanvasSupported) {
							markers.push({
								x: x, y: y1, ctx: ghostCtx,
								type: markerProps.type,
								size: markerProps.size,
								color: markerColor,
								borderColor: markerColor,
								borderThickness: markerProps.borderThickness
							});
						}
					}
				}

				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: "rangeArea",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						indexKeyword: 0,
						point: {
							x: x, y: y1
						},
						direction: dataPoints[i].y[0] <= dataPoints[i].y[1] ? -1 : 1,
						color: color
					});

					this._indexLabels.push({
						chartType: "rangeArea",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						indexKeyword: 1,
						point: {
							x: x, y: y2
						},
						direction: dataPoints[i].y[0] <= dataPoints[i].y[1] ? 1 : -1,
						color: color
					});
				}

				//alert("hi");
			}

			closeArea();

			//startPoint = { x: x, y: y };
			RenderHelper.drawMarkers(markers);
		}
	}

	ctx.restore();
	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.restore();

	function closeArea() {

		if (!startPoint) return;

		var point = null;

		if (dataSeries.lineThickness > 0) ctx.stroke();

		for (var i = closingPath.length - 1; i >= 0; i--) {
			point = closingPath[i];
			ctx.lineTo(point.x, point.y);
			ghostCtx.lineTo(point.x, point.y);
		}

		ctx.closePath();
		//ctx.lineTo(startPoint.x, startPoint.y);

		ctx.globalAlpha = dataSeries.fillOpacity;
		ctx.fill();
		ctx.globalAlpha = 1;

		ghostCtx.fill();

		//if (isCanvasSupported) {
		//	ghostCtx.lineTo(x, baseY);
		//	ghostCtx.lineTo(startPoint.x, baseY);
		//	ghostCtx.closePath();
		//	ghostCtx.fill();
		//}

		if (dataSeries.lineThickness > 0) {
			ctx.beginPath();
			ctx.moveTo(point.x, point.y);
			for (var i = 0; i < closingPath.length; i++) {
				point = closingPath[i];
				ctx.lineTo(point.x, point.y);
			}

			ctx.stroke();
		}

		ctx.beginPath();
		ctx.moveTo(x, y1);
		ghostCtx.beginPath();
		ghostCtx.moveTo(x, y1);

		startPoint = {
			x: x, y: y1
		};
		closingPath = [];
		closingPath.push({ x: x, y: y2 });
	}

	//ctx.beginPath();
	//source and dest would be same when animation is not enabled
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: AnimationHelper.xClipAnimation, easingFunction: AnimationHelper.easing.linear, animationBase: 0
	};
	return animationInfo;
};

var _utils = require("../helpers/utils");

},{"../helpers/utils":39}],9:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;
	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var color = null;

	var plotArea = this.plotArea;

	var i = 0,
	    x1,
	    x2,
	    y;
	var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number from dataTime everytime it is used.

	//In case of Bar Chart, yZeroToPixel is x co-ordinate!
	var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) << 0;

	var maxBarWidth = this.dataPointMaxWidth ? this.dataPointMaxWidth : Math.min(this.height * .15, this.plotArea.height / plotUnit.plotType.totalDataSeries * .9) << 0;
	var xMinDiff = plotUnit.axisX.dataInfo.minDiff;
	//var barWidth = (((plotArea.height / Math.abs(plotUnit.axisX.viewportMaximum - plotUnit.axisX.viewportMinimum)) * Math.abs(xMinDiff)) / totalDataSeries * .9) << 0;

	var barWidth = plotArea.height / Math.abs(plotUnit.axisX.viewportMaximum - plotUnit.axisX.viewportMinimum) * Math.abs(xMinDiff) / plotUnit.plotType.totalDataSeries * .9 << 0;

	if (barWidth > maxBarWidth) barWidth = maxBarWidth;else if (xMinDiff === Infinity) {
		barWidth = maxBarWidth / plotUnit.plotType.totalDataSeries * .9;
	} else if (barWidth < 1) barWidth = 1;

	ctx.save();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		this._eventManager.ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		this._eventManager.ghostCtx.clip();
	}

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];
		var dataPoints = dataSeries.dataPoints;
		var isFirstDataPointInPlotArea = true;

		//dataSeries.maxWidthInX = barWidth / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);


		if (dataPoints.length > 0) {
			//var xy = this.getPixelCoordinatesOnPlotArea(dataPoints[0].x, dataPoints[0].y);

			var bevelEnabled = barWidth > 5 && dataSeries.bevelEnabled ? true : false;

			ctx.strokeStyle = "#4572A7 ";

			for (i = 0; i < dataPoints.length; i++) {

				dataPoints[i].getTime ? dataPointX = dataPoints[i].x.getTime() : dataPointX = dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (dataPoints[i].y === null || !dataPoints[i].y.length || typeof dataPoints[i].y[0] !== "number" || typeof dataPoints[i].y[1] !== "number") continue;

				//x and y are pixel co-ordinates of point and should not be confused with X and Y values
				x1 = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y[0] - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;
				x2 = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y[1] - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;

				y = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;

				var y1 = y - plotUnit.plotType.totalDataSeries * barWidth / 2 + (plotUnit.previousDataSeriesCount + j) * barWidth << 0;
				var y2 = y1 + barWidth << 0;

				if (x1 > x2) {
					var temp = x1;
					x1 = x2;
					x2 = temp;
				}

				//drawRect(ctx, x1, y1, plotArea.x2, y2, "#EEEEEE", 0, null, false, false, false, false);
				//drawRect(ctx, x1, y1, plotArea.x2, y2, "#BDCED3", 0, null, false, false, false, false);

				color = dataPoints[i].color ? dataPoints[i].color : dataSeries._colorSet[i % dataSeries._colorSet.length];
				//color = "#1B4962";
				drawRect(ctx, x1, y1, x2, y2, color, 0, null, bevelEnabled, false, false, false, dataSeries.fillOpacity);

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x1, y1: y1, x2: x2, y2: y2
				};
				color = intToHexColorString(id);

				if (_utils.isCanvasSupported) drawRect(this._eventManager.ghostCtx, x1, y1, x2, y2, color, 0, null, false, false, false, false);

				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: "rangeBar",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						indexKeyword: 0,
						point: {
							x: dataPoints[i].y[1] >= dataPoints[i].y[0] ? x1 : x2, y: y1 + (y2 - y1) / 2
						},
						direction: dataPoints[i].y[1] >= dataPoints[i].y[0] ? -1 : 1,
						bounds: {
							x1: Math.min(x1, x2), y1: y1, x2: Math.max(x1, x2), y2: y2
						},
						color: color
					});

					this._indexLabels.push({
						chartType: "rangeBar",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						indexKeyword: 1,
						point: {
							x: dataPoints[i].y[1] >= dataPoints[i].y[0] ? x2 : x1, y: y1 + (y2 - y1) / 2
						},
						direction: dataPoints[i].y[1] >= dataPoints[i].y[0] ? 1 : -1,
						bounds: {
							x1: Math.min(x1, x2), y1: y1, x2: Math.max(x1, x2), y2: y2
						},
						color: color
					});
				}
			}
		}
	}

	ctx.restore();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.restore();

	//source and dest would be same when animation is not enabled
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: AnimationHelper.fadeInAnimation, easingFunction: AnimationHelper.easing.easeInQuad, animationBase: 0
	};
	return animationInfo;
};

var _utils = require("../helpers/utils");

},{"../helpers/utils":39}],10:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;
	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var color = null;

	var plotArea = this.plotArea;

	var i = 0,
	    x,
	    y1,
	    y2;
	var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number from dataTime everytime it is used.

	var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) << 0;

	var maxBarWidth = this.dataPointMaxWidth ? this.dataPointMaxWidth : this.width * .03;
	//var maxBarWidth = (this.width * .015);
	var xMinDiff = plotUnit.axisX.dataInfo.minDiff;
	//var barWidth = (((plotArea.width / Math.abs(plotUnit.axisX.viewportMaximum - plotUnit.axisX.viewportMinimum)) * Math.abs(xMinDiff)) * .9) << 0;
	var barWidth = plotArea.width / Math.abs(plotUnit.axisX.viewportMaximum - plotUnit.axisX.viewportMinimum) * Math.abs(xMinDiff) / plotUnit.plotType.totalDataSeries * .9 << 0;

	if (barWidth > maxBarWidth) barWidth = maxBarWidth;else if (xMinDiff === Infinity) {
		barWidth = maxBarWidth / plotUnit.plotType.totalDataSeries * .9;
	} else if (barWidth < 1) barWidth = 1;

	ctx.save();
	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		this._eventManager.ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		this._eventManager.ghostCtx.clip();
	}
	//ctx.beginPath();

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];
		var dataPoints = dataSeries.dataPoints;
		var isFirstDataPointInPlotArea = true;

		// Reducing pixelPerUnit by 1 just to overcome any problems due to rounding off of pixels.
		//dataSeries.maxWidthInX = barWidth / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);

		//var offsetX = barWidth * plotUnit.index << 0;


		if (dataPoints.length > 0) {
			//var xy = this.getPixelCoordinatesOnPlotArea(dataPoints[0].x, dataPoints[0].y);

			var bevelEnabled = barWidth > 5 && dataSeries.bevelEnabled ? true : false;

			for (i = 0; i < dataPoints.length; i++) {

				dataPoints[i].getTime ? dataPointX = dataPoints[i].x.getTime() : dataPointX = dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (dataPoints[i].y === null || !dataPoints[i].y.length || typeof dataPoints[i].y[0] !== "number" || typeof dataPoints[i].y[1] !== "number") continue;

				x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;
				y1 = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y[0] - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;
				y2 = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y[1] - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;

				//var x1 = x - barWidth / 2 << 0;
				var x1 = x - plotUnit.plotType.totalDataSeries * barWidth / 2 + (plotUnit.previousDataSeriesCount + j) * barWidth << 0;
				var x2 = x1 + barWidth << 0;
				var y1;
				var y2;

				color = dataPoints[i].color ? dataPoints[i].color : dataSeries._colorSet[i % dataSeries._colorSet.length];

				if (y1 > y2) {
					var temp = y1;
					y1 = y2;
					y2 = temp;
				}

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x1, y1: y1, x2: x2, y2: y2
				};

				//var borderThickness = Math.max(1, (barWidth * .1 << 0));
				var borderThickness = 0;

				drawRect(ctx, x1, y1, x2, y2, color, borderThickness, color, bevelEnabled, bevelEnabled, false, false, dataSeries.fillOpacity);
				color = intToHexColorString(id);

				if (_utils.isCanvasSupported) drawRect(this._eventManager.ghostCtx, x1, y1, x2, y2, color, 0, null, false, false, false, false);

				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: "rangeColumn",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						indexKeyword: 0,
						point: {
							x: x1 + (x2 - x1) / 2, y: dataPoints[i].y[1] >= dataPoints[i].y[0] ? y2 : y1
						},
						direction: dataPoints[i].y[1] >= dataPoints[i].y[0] ? -1 : 1,
						bounds: {
							x1: x1, y1: Math.min(y1, y2), x2: x2, y2: Math.max(y1, y2)
						},
						color: color
					});

					this._indexLabels.push({
						chartType: "rangeColumn",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						indexKeyword: 1,
						point: {
							x: x1 + (x2 - x1) / 2, y: dataPoints[i].y[1] >= dataPoints[i].y[0] ? y1 : y2
						},
						direction: dataPoints[i].y[1] >= dataPoints[i].y[0] ? 1 : -1,
						bounds: {
							x1: x1, y1: Math.min(y1, y2), x2: x2, y2: Math.max(y1, y2)
						},
						color: color
					});
				}
			}
		}
	}

	ctx.restore();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.restore();

	//source and dest would be same when animation is not enabled
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: AnimationHelper.fadeInAnimation, easingFunction: AnimationHelper.easing.easeInQuad, animationBase: 0
	};
	return animationInfo;
};

var _utils = require("../helpers/utils");

},{"../helpers/utils":39}],11:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;
	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var ghostCtx = this._eventManager.ghostCtx;

	var axisXProps = plotUnit.axisX.lineCoordinates;
	var axisYProps = plotUnit.axisY.lineCoordinates;
	var markers = [];

	var plotArea = this.plotArea;
	ctx.save();

	if (_utils.isCanvasSupported) ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		ghostCtx.beginPath();
		ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		ghostCtx.clip();
	}

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];

		var dataPoints = dataSeries.dataPoints;

		var seriesId = dataSeries.id;
		this._eventManager.objectMap[seriesId] = {
			objectType: "dataSeries", dataSeriesIndex: dataSeriesIndex
		};

		var hexColor = intToHexColorString(seriesId);
		ghostCtx.fillStyle = hexColor;
		//ghostCtx.lineWidth = dataSeries.lineThickness;
		//ghostCtx.lineWidth = 20;

		markers = [];

		var isFirstDataPointInPlotArea = true;
		var i = 0,
		    x,
		    y1,
		    y2;
		var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number back and forth.

		var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;
		var baseY;

		var startPoint = null;

		var pixelsY1 = [];
		var pixelsY2 = [];

		if (dataPoints.length > 0) {
			//ctx.strokeStyle = "#4572A7 ";
			color = dataSeries._colorSet[i % dataSeries._colorSet.length];
			//ctx.strokeStyle = "red";
			ctx.fillStyle = color;
			ctx.strokeStyle = color;
			ctx.lineWidth = dataSeries.lineThickness;

			if (ctx.setLineDash) {
				ctx.setLineDash(getLineDashArray(dataSeries.lineDashType, dataSeries.lineThickness));
			}

			for (; i < dataPoints.length; i++) {

				dataPointX = dataPoints[i].x.getTime ? dataPoints[i].x.getTime() : dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (dataPoints[i].y === null || !dataPoints[i].y.length || typeof dataPoints[i].y[0] !== "number" || typeof dataPoints[i].y[1] !== "number") {
					if (i > 0) {
						renderBezierArea();
						pixelsY1 = [];
						pixelsY2 = [];
					}
					continue;
				}

				x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;
				y1 = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y[0] - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;
				y2 = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y[1] - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x, y1: y1, y2: y2
				};

				pixelsY1[pixelsY1.length] = {
					x: x, y: y1
				};
				pixelsY2[pixelsY2.length] = {
					x: x, y: y2
				};

				//Render Marker
				if (dataPoints[i].markerSize !== 0) {
					if (dataPoints[i].markerSize > 0 || dataSeries.markerSize > 0) {
						var markerProps = dataSeries.getMarkerProperties(i, x, y1, ctx);
						markers.push(markerProps);

						//if (!dataSeries.maxWidthInX || markerProps.size > dataSeries.maxWidthInX) {
						//	dataSeries.maxWidthInX = markerProps.size / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);
						//}

						var markerColor = intToHexColorString(id);

						if (_utils.isCanvasSupported) {
							markers.push({
								x: x, y: y1, ctx: ghostCtx,
								type: markerProps.type,
								size: markerProps.size,
								color: markerColor,
								borderColor: markerColor,
								borderThickness: markerProps.borderThickness
							});
						}

						var markerProps = dataSeries.getMarkerProperties(i, x, y2, ctx);
						markers.push(markerProps);

						//if (!dataSeries.maxWidthInX || markerProps.size > dataSeries.maxWidthInX) {
						//	dataSeries.maxWidthInX = markerProps.size / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);
						//}

						var markerColor = intToHexColorString(id);

						if (_utils.isCanvasSupported) {
							markers.push({
								x: x, y: y2, ctx: ghostCtx,
								type: markerProps.type,
								size: markerProps.size,
								color: markerColor,
								borderColor: markerColor,
								borderThickness: markerProps.borderThickness
							});
						}
					}
				}

				//Render Index Labels
				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: "splineArea",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						indexKeyword: 0,
						point: {
							x: x, y: y1
						},
						direction: dataPoints[i].y[0] <= dataPoints[i].y[1] ? -1 : 1,
						color: color
					});

					this._indexLabels.push({
						chartType: "splineArea",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						indexKeyword: 1,
						point: {
							x: x, y: y2
						},
						direction: dataPoints[i].y[0] <= dataPoints[i].y[1] ? 1 : -1,
						color: color
					});
				}
			}

			renderBezierArea();

			RenderHelper.drawMarkers(markers);
		}
	}

	ctx.restore();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.restore();

	function renderBezierArea() {
		var bp = getBezierPoints(pixelsY1, 2);

		if (bp.length > 0) {
			ctx.beginPath();
			ctx.moveTo(bp[0].x, bp[0].y);

			if (_utils.isCanvasSupported) {
				ghostCtx.beginPath();
				ghostCtx.moveTo(bp[0].x, bp[0].y);
			}

			for (var i = 0; i < bp.length - 3; i += 3) {

				ctx.bezierCurveTo(bp[i + 1].x, bp[i + 1].y, bp[i + 2].x, bp[i + 2].y, bp[i + 3].x, bp[i + 3].y);

				if (_utils.isCanvasSupported) ghostCtx.bezierCurveTo(bp[i + 1].x, bp[i + 1].y, bp[i + 2].x, bp[i + 2].y, bp[i + 3].x, bp[i + 3].y);
			}

			if (dataSeries.lineThickness > 0) ctx.stroke();

			bp = getBezierPoints(pixelsY2, 2);

			ctx.lineTo(pixelsY2[pixelsY2.length - 1].x, pixelsY2[pixelsY2.length - 1].y);

			for (var i = bp.length - 1; i > 2; i -= 3) {

				ctx.bezierCurveTo(bp[i - 1].x, bp[i - 1].y, bp[i - 2].x, bp[i - 2].y, bp[i - 3].x, bp[i - 3].y);

				if (_utils.isCanvasSupported) ghostCtx.bezierCurveTo(bp[i - 1].x, bp[i - 1].y, bp[i - 2].x, bp[i - 2].y, bp[i - 3].x, bp[i - 3].y);
			}

			ctx.closePath();

			ctx.globalAlpha = dataSeries.fillOpacity;
			ctx.fill();
			ctx.globalAlpha = 1;

			if (dataSeries.lineThickness > 0) {
				ctx.beginPath();
				ctx.moveTo(pixelsY2[pixelsY2.length - 1].x, pixelsY2[pixelsY2.length - 1].y);

				for (var i = bp.length - 1; i > 2; i -= 3) {

					ctx.bezierCurveTo(bp[i - 1].x, bp[i - 1].y, bp[i - 2].x, bp[i - 2].y, bp[i - 3].x, bp[i - 3].y);

					if (_utils.isCanvasSupported) ghostCtx.bezierCurveTo(bp[i - 1].x, bp[i - 1].y, bp[i - 2].x, bp[i - 2].y, bp[i - 3].x, bp[i - 3].y);
				}
				ctx.stroke();
			}

			ctx.beginPath();

			if (_utils.isCanvasSupported) {
				ghostCtx.closePath();
				ghostCtx.fill();
			}
		}
	}

	//source and dest would be same when animation is not enabled
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: AnimationHelper.xClipAnimation, easingFunction: AnimationHelper.easing.linear, animationBase: 0
	};
	return animationInfo;
};

var _utils = require("../helpers/utils");

//#region pieChart

var drawSegment = function drawSegment(ctx, center, radius, color, type, theta1, theta2, fillOpacity, percentInnerRadius) {

	if (typeof fillOpacity === "undefined") fillOpacity = 1;

	//IE8- FIX: In IE8- segment doesn't get draw if theta2 is equal to theta1 + 2*PI.
	if (!_utils.isCanvasSupported) {
		var theta2Mod = Number((theta2 % (2 * Math.PI)).toFixed(8));
		var theta1Mod = Number((theta1 % (2 * Math.PI)).toFixed(8));
		if (theta1Mod === theta2Mod) theta2 -= .0001;
	}

	ctx.save();
	ctx.globalAlpha = fillOpacity;

	if (type === "pie") {
		ctx.beginPath();
		ctx.moveTo(center.x, center.y);
		ctx.arc(center.x, center.y, radius, theta1, theta2, false);
		ctx.fillStyle = color;
		ctx.strokeStyle = "white";
		ctx.lineWidth = 2;
		//    ctx.shadowOffsetX = 2;
		//    ctx.shadowOffsetY = 1;
		//     ctx.shadowBlur = 2;
		//    ctx.shadowColor = '#BFBFBF';
		ctx.closePath();
		//ctx.stroke();
		ctx.fill();
	} else if (type === "doughnut") {
		ctx.beginPath();
		ctx.arc(center.x, center.y, radius, theta1, theta2, false);
		ctx.arc(center.x, center.y, percentInnerRadius * radius, theta2, theta1, true);
		ctx.closePath();
		ctx.fillStyle = color;
		ctx.strokeStyle = "white";
		ctx.lineWidth = 2;
		// shadow properties
		//     ctx.shadowOffsetX = 1;
		//    ctx.shadowOffsetY = 1;
		//     ctx.shadowBlur = 1;
		//    ctx.shadowColor = '#BFBFBF';  //grey shadow
		//ctx.stroke();
		ctx.fill();
	}

	ctx.globalAlpha = 1;

	ctx.restore();
};

},{"../helpers/utils":39}],12:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;
	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var color = null;

	var plotArea = this.plotArea;

	var i = 0,
	    x,
	    y;
	var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number from dataTime everytime it is used.

	var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) << 0;

	var maxBarWidth = this.dataPointMaxWidth ? this.dataPointMaxWidth : this.width * .15 << 0;
	var xMinDiff = plotUnit.axisX.dataInfo.minDiff;
	var barWidth = plotArea.width / Math.abs(plotUnit.axisX.viewportMaximum - plotUnit.axisX.viewportMinimum) * Math.abs(xMinDiff) / totalDataSeries * .9 << 0;

	ctx.save();
	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		this._eventManager.ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		this._eventManager.ghostCtx.clip();
	}

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];
		var dataPoints = dataSeries.dataPoints;
		var isFirstDataPointInPlotArea = true;

		if (dataPoints.length == 1) barWidth = maxBarWidth;

		if (barWidth < 1) barWidth = 1;else if (barWidth > maxBarWidth) barWidth = maxBarWidth;

		if (dataPoints.length > 0) {
			//var bevelEnabled = (barWidth > 5) ? false : false;

			ctx.strokeStyle = "#4572A7 ";

			var maxArea = Math.pow(Math.min(plotArea.height, plotArea.width) * .3 / 2, 2) * Math.PI;

			var prevDataPointX = 0;
			var prevDataPointY = 0;

			for (var i = 0; i < dataPoints.length; i++) {

				dataPointX = dataPoints[i].getTime ? dataPointX = dataPoints[i].x.getTime() : dataPointX = dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (typeof dataPoints[i].y !== "number") continue;

				x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;
				y = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;

				var markerProps = dataSeries.getMarkerProperties(i, x, y, ctx);

				ctx.globalAlpha = dataSeries.fillOpacity;
				_render2.default.drawMarker(markerProps.x, markerProps.y, markerProps.ctx, markerProps.type, markerProps.size, markerProps.color, markerProps.borderColor, markerProps.borderThickness);
				ctx.globalAlpha = 1;

				//if (Math.abs(prevDataPointX - x) < markerProps.size / 2 && Math.abs(prevDataPointY - y) < markerProps.size / 2) {
				//    continue;
				//}

				//if (!dataSeries.maxWidthInX || markerProps.size > dataSeries.maxWidthInX) {
				//	dataSeries.maxWidthInX = markerProps.size / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);
				//}

				if (Math.sqrt((prevDataPointX - x) * (prevDataPointX - x) + (prevDataPointY - y) * (prevDataPointY - y)) < Math.min(markerProps.size, 5) && dataPoints.length > Math.min(this.plotArea.width, this.plotArea.height)) {
					continue;
				}

				//Render ID on Ghost Canvas - for event handling
				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x, y1: y
				};
				var markerColor = (0, _utils.intToHexColorString)(id);

				if (_utils.isCanvasSupported) {
					_render2.default.drawMarker(markerProps.x, markerProps.y, this._eventManager.ghostCtx, markerProps.type, markerProps.size, markerColor, markerColor, markerProps.borderThickness);
				}
				//markers.push();

				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: "scatter",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						point: {
							x: x, y: y
						},
						direction: 1,
						bounds: {
							x1: x - markerProps.size / 2, y1: y - markerProps.size / 2, x2: x + markerProps.size / 2, y2: y + markerProps.size / 2
						},
						color: color
					});
				}

				prevDataPointX = x;
				prevDataPointY = y;
			}
		}
	}

	ctx.restore();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.restore();

	//source and dest would be same when animation is not enabled
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: _animator2.default.fadeInAnimation, easingFunction: _animator2.default.easing.easeInQuad, animationBase: 0
	};
	return animationInfo;
};

var _render = require('../helpers/render');

var _render2 = _interopRequireDefault(_render);

var _animator = require('../helpers/animator');

var _animator2 = _interopRequireDefault(_animator);

var _utils = require('../helpers/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../helpers/animator":37,"../helpers/render":38,"../helpers/utils":39}],13:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;

	var totalDataSeries = plotUnit.dataSeriesIndexes.length;
	if (totalDataSeries <= 0) return;

	var ghostCtx = this._eventManager.ghostCtx;

	ctx.save();

	var plotArea = this.plotArea;

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	var markers = [];

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];
		ctx.lineWidth = dataSeries.lineThickness;
		var dataPoints = dataSeries.dataPoints;

		if (ctx.setLineDash) {
			ctx.setLineDash(getLineDashArray(dataSeries.lineDashType, dataSeries.lineThickness));
		}

		var seriesId = dataSeries.id;
		this._eventManager.objectMap[seriesId] = {
			objectType: "dataSeries", dataSeriesIndex: dataSeriesIndex
		};
		var hexColor = intToHexColorString(seriesId);
		ghostCtx.strokeStyle = hexColor;
		//ghostCtx.lineWidth = dataSeries.lineThickness;
		ghostCtx.lineWidth = dataSeries.lineThickness > 0 ? Math.max(dataSeries.lineThickness, 4) : 0;

		var colorSet = dataSeries._colorSet;
		var color = colorSet[0];
		ctx.strokeStyle = color;

		var isFirstDataPointInPlotArea = true;
		var i = 0,
		    x,
		    y;
		var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number back and forth.

		//if (!dataSeries._options.markerSize && dataSeries.dataPoints.length < 1000)
		//    dataSeries.markerSize = 8;

		var pixels = [];

		ctx.beginPath();
		if (dataPoints.length > 0) {

			for (i = 0; i < dataPoints.length; i++) {

				dataPointX = dataPoints[i].getTime ? dataPoints[i].x.getTime() : dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) continue;

				//if (!isFinite(dataPoints[i].y))
				//    continue;

				if (typeof dataPoints[i].y !== "number") {
					if (i > 0) {
						// if first dataPoint is null then no need to call stroke method
						renderBezier(pixels);
						pixels = [];
					}

					continue;
				}

				x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;
				y = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x, y1: y
				};

				pixels[pixels.length] = {
					x: x, y: y
				};

				//Add Markers
				if (dataPoints[i].markerSize > 0 || dataSeries.markerSize > 0) {

					var markerProps = dataSeries.getMarkerProperties(i, x, y, ctx);
					markers.push(markerProps);

					//if (!dataSeries.maxWidthInX || markerProps.size > dataSeries.maxWidthInX) {
					//	dataSeries.maxWidthInX = markerProps.size / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);
					//}

					var markerColor = intToHexColorString(id);

					//window.console.log("index: " + i + "; id: " + id + "; hex: " + markerColor);
					if (_utils.isCanvasSupported) {
						markers.push({
							x: x, y: y, ctx: ghostCtx,
							type: markerProps.type,
							size: markerProps.size,
							color: markerColor,
							borderColor: markerColor,
							borderThickness: markerProps.borderThickness
						});
					}
				}

				//Add Labels
				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: "spline",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						point: {
							x: x, y: y
						},
						direction: dataPoints[i].y >= 0 ? 1 : -1,
						color: color
					});
				}
			}
		}

		renderBezier(pixels);
	}

	RenderHelper.drawMarkers(markers);
	ctx.restore();

	ctx.beginPath();

	if (_utils.isCanvasSupported) ghostCtx.beginPath();

	function renderBezier(pixels) {

		var bp = getBezierPoints(pixels, 2);

		if (bp.length > 0) {
			ctx.beginPath();
			if (_utils.isCanvasSupported) ghostCtx.beginPath();

			ctx.moveTo(bp[0].x, bp[0].y);
			if (_utils.isCanvasSupported) ghostCtx.moveTo(bp[0].x, bp[0].y);

			for (var i = 0; i < bp.length - 3; i += 3) {

				ctx.bezierCurveTo(bp[i + 1].x, bp[i + 1].y, bp[i + 2].x, bp[i + 2].y, bp[i + 3].x, bp[i + 3].y);

				if (_utils.isCanvasSupported) ghostCtx.bezierCurveTo(bp[i + 1].x, bp[i + 1].y, bp[i + 2].x, bp[i + 2].y, bp[i + 3].x, bp[i + 3].y);

				if (i > 0 && i % 3000 === 0) {
					ctx.stroke();
					ctx.beginPath();
					ctx.moveTo(bp[i + 3].x, bp[i + 3].y);

					if (_utils.isCanvasSupported) {
						ghostCtx.stroke();
						ghostCtx.beginPath();
						ghostCtx.moveTo(bp[i + 3].x, bp[i + 3].y);
					}
				}
			}

			ctx.stroke();

			if (_utils.isCanvasSupported) ghostCtx.stroke();
		}
	}

	//source and dest would be same when animation is not enabled
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: AnimationHelper.xClipAnimation, easingFunction: AnimationHelper.easing.linear, animationBase: 0
	};
	return animationInfo;
};

var _utils = require("../helpers/utils");

var drawRect = function drawRect(ctx, x1, y1, x2, y2, color, borderThickness, borderColor, top, bottom, left, right, fillOpacity) {
	if (typeof fillOpacity === "undefined") fillOpacity = 1;

	borderThickness = borderThickness || 0;
	borderColor = borderColor || "black";
	//alert("top"+ top + "bottom" + bottom + " lt" + left+ "rt" + right )
	var a1 = x1,
	    a2 = x2,
	    b1 = y1,
	    b2 = y2,
	    edgeY,
	    edgeX;
	if (x2 - x1 > 15 && y2 - y1 > 15) var bevelDepth = 8;else var bevelDepth = 0.35 * Math.min(x2 - x1, y2 - y1);
	//alert(a1 + "" + a2);
	var color2 = "rgba(255, 255, 255, .4)";
	var color3 = "rgba(255, 255, 255, 0.1)";
	//color1 = "rgba(" + r + "," + g + ", " + b + ",1)";
	var color1 = color;

	ctx.beginPath();
	ctx.moveTo(x1, y1);
	ctx.save();
	ctx.fillStyle = color1;

	ctx.globalAlpha = fillOpacity;
	ctx.fillRect(x1, y1, x2 - x1, y2 - y1);
	ctx.globalAlpha = 1;

	if (borderThickness > 0) {
		var offset = borderThickness % 2 === 0 ? 0 : .5;
		ctx.beginPath();
		ctx.lineWidth = borderThickness;
		ctx.strokeStyle = borderColor;
		ctx.moveTo(x1, y1);
		ctx.rect(x1 - offset, y1 - offset, x2 - x1 + 2 * offset, y2 - y1 + 2 * offset);
		ctx.stroke();
	}

	ctx.restore();
	//   ctx.beginPath();
	if (top === true) {
		// alert(x1 + "" + x2 + " " + bevelDepth);
		ctx.save();
		ctx.beginPath();
		ctx.moveTo(x1, y1);
		ctx.lineTo(x1 + bevelDepth, y1 + bevelDepth);
		ctx.lineTo(x2 - bevelDepth, y1 + bevelDepth);
		ctx.lineTo(x2, y1);
		ctx.closePath();
		var grd = ctx.createLinearGradient((x2 + x1) / 2, b1 + bevelDepth, (x2 + x1) / 2, b1);
		grd.addColorStop(0, color1);
		grd.addColorStop(1, color2);
		ctx.fillStyle = grd;
		ctx.fill();
		//              ctx.stroke();
		ctx.restore();
	}

	if (bottom === true) {
		ctx.save();
		ctx.beginPath();
		ctx.moveTo(x1, y2);
		ctx.lineTo(x1 + bevelDepth, y2 - bevelDepth);
		ctx.lineTo(x2 - bevelDepth, y2 - bevelDepth);
		ctx.lineTo(x2, y2);
		ctx.closePath();
		var grd = ctx.createLinearGradient((x2 + x1) / 2, b2 - bevelDepth, (x2 + x1) / 2, b2);
		grd.addColorStop(0, color1);
		grd.addColorStop(1, color2);
		ctx.fillStyle = grd;
		//       ctx.stroke();
		ctx.fill();
		ctx.restore();
	}

	if (left === true) {
		//   alert(x1)
		ctx.save();
		ctx.beginPath();
		ctx.moveTo(x1, y1);
		ctx.lineTo(x1 + bevelDepth, y1 + bevelDepth);
		ctx.lineTo(x1 + bevelDepth, y2 - bevelDepth);
		ctx.lineTo(x1, y2);
		ctx.closePath();
		var grd = ctx.createLinearGradient(a1 + bevelDepth, (y2 + y1) / 2, a1, (y2 + y1) / 2);
		grd.addColorStop(0, color1);
		grd.addColorStop(1, color3);
		ctx.fillStyle = grd;
		ctx.fill();
		//     ctx.stroke();
		ctx.restore();
	}

	if (right === true) {
		ctx.save();
		ctx.beginPath();
		ctx.moveTo(x2, y1);
		ctx.lineTo(x2 - bevelDepth, y1 + bevelDepth);
		ctx.lineTo(x2 - bevelDepth, y2 - bevelDepth);
		ctx.lineTo(x2, y2);
		var grd = ctx.createLinearGradient(a2 - bevelDepth, (y2 + y1) / 2, a2, (y2 + y1) / 2);
		grd.addColorStop(0, color1);
		grd.addColorStop(1, color3);
		ctx.fillStyle = grd;
		grd.addColorStop(0, color1);
		grd.addColorStop(1, color3);
		ctx.fillStyle = grd;
		ctx.fill();
		ctx.closePath();
		//          ctx.stroke();
		ctx.restore();
	}
	//
};

},{"../helpers/utils":39}],14:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;

	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var ghostCtx = this._eventManager.ghostCtx;

	var axisXProps = plotUnit.axisX.lineCoordinates;
	var axisYProps = plotUnit.axisY.lineCoordinates;
	var markers = [];

	var plotArea = this.plotArea;
	ctx.save();

	if (_utils.isCanvasSupported) ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		ghostCtx.beginPath();
		ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		ghostCtx.clip();
	}

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];

		var dataPoints = dataSeries.dataPoints;

		var seriesId = dataSeries.id;
		this._eventManager.objectMap[seriesId] = {
			objectType: "dataSeries", dataSeriesIndex: dataSeriesIndex
		};

		var hexColor = intToHexColorString(seriesId);
		ghostCtx.fillStyle = hexColor;
		//ghostCtx.lineWidth = dataSeries.lineThickness;
		//ghostCtx.lineWidth = 20;

		markers = [];

		var isFirstDataPointInPlotArea = true;
		var i = 0,
		    x,
		    y;
		var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number back and forth.

		var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;
		var baseY;

		var startPoint = null;

		var pixels = [];

		if (dataPoints.length > 0) {
			//ctx.strokeStyle = "#4572A7 ";
			color = dataSeries._colorSet[i % dataSeries._colorSet.length];
			ctx.fillStyle = color;
			ctx.strokeStyle = color;
			ctx.lineWidth = dataSeries.lineThickness;

			if (ctx.setLineDash) {
				ctx.setLineDash(getLineDashArray(dataSeries.lineDashType, dataSeries.lineThickness));
			}

			for (; i < dataPoints.length; i++) {

				dataPointX = dataPoints[i].x.getTime ? dataPoints[i].x.getTime() : dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (typeof dataPoints[i].y !== "number") {
					if (i > 0) {
						renderBezierArea();
						pixels = [];
					}
					continue;
				}

				x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;
				y = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x, y1: y
				};

				pixels[pixels.length] = {
					x: x, y: y
				};

				//Render Marker
				if (dataPoints[i].markerSize !== 0) {
					if (dataPoints[i].markerSize > 0 || dataSeries.markerSize > 0) {
						var markerProps = dataSeries.getMarkerProperties(i, x, y, ctx);
						markers.push(markerProps);

						//if (!dataSeries.maxWidthInX || markerProps.size > dataSeries.maxWidthInX) {
						//	dataSeries.maxWidthInX = markerProps.size / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);
						//}

						var markerColor = intToHexColorString(id);

						if (_utils.isCanvasSupported) {
							markers.push({
								x: x, y: y, ctx: ghostCtx,
								type: markerProps.type,
								size: markerProps.size,
								color: markerColor,
								borderColor: markerColor,
								borderThickness: markerProps.borderThickness
							});
						}
					}
				}

				//Render Index Labels
				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: "splineArea",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						point: {
							x: x, y: y
						},
						direction: dataPoints[i].y >= 0 ? 1 : -1,
						color: color
					});
				}
			}

			renderBezierArea();

			RenderHelper.drawMarkers(markers);
		}
	}

	ctx.restore();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.restore();

	function renderBezierArea() {
		var bp = getBezierPoints(pixels, 2);

		if (bp.length > 0) {
			ctx.beginPath();
			ctx.moveTo(bp[0].x, bp[0].y);

			if (_utils.isCanvasSupported) {
				ghostCtx.beginPath();
				ghostCtx.moveTo(bp[0].x, bp[0].y);
			}

			for (var i = 0; i < bp.length - 3; i += 3) {

				ctx.bezierCurveTo(bp[i + 1].x, bp[i + 1].y, bp[i + 2].x, bp[i + 2].y, bp[i + 3].x, bp[i + 3].y);

				if (_utils.isCanvasSupported) ghostCtx.bezierCurveTo(bp[i + 1].x, bp[i + 1].y, bp[i + 2].x, bp[i + 2].y, bp[i + 3].x, bp[i + 3].y);
			}

			if (dataSeries.lineThickness > 0) ctx.stroke();

			if (plotUnit.axisY.viewportMinimum <= 0 && plotUnit.axisY.viewportMaximum >= 0) {
				baseY = yZeroToPixel;
			} else if (plotUnit.axisY.viewportMaximum < 0) baseY = axisYProps.y1;else if (plotUnit.axisY.viewportMinimum > 0) baseY = axisXProps.y2;

			startPoint = {
				x: bp[0].x, y: bp[0].y
			};

			ctx.lineTo(bp[bp.length - 1].x, baseY);
			ctx.lineTo(startPoint.x, baseY);
			ctx.closePath();

			ctx.globalAlpha = dataSeries.fillOpacity;
			ctx.fill();
			ctx.globalAlpha = 1;

			if (_utils.isCanvasSupported) {
				ghostCtx.lineTo(bp[bp.length - 1].x, baseY);
				ghostCtx.lineTo(startPoint.x, baseY);
				ghostCtx.closePath();
				ghostCtx.fill();
			}
		}
	}

	//source and dest would be same when animation is not enabled
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: AnimationHelper.xClipAnimation, easingFunction: AnimationHelper.easing.linear, animationBase: 0
	};
	return animationInfo;
};

var _utils = require("../helpers/utils");

},{"../helpers/utils":39}],15:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;

	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var color = null;
	var markers = [];

	var plotArea = this.plotArea;

	var offsetY = [];

	var allXValues = [];
	//var offsetNegativeY = [];

	var i = 0,
	    x,
	    y;
	var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number everytime it is accessed.

	//var yZeroToPixel = (axisYProps.y2 - axisYProps.height / rangeY * Math.abs(0 - plotUnit.axisY.viewportMinimum) + .5) << 0;
	var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) << 0;

	var xMinDiff = plotUnit.axisX.dataInfo.minDiff;

	var ghostCtx = this._eventManager.ghostCtx;

	if (_utils.isCanvasSupported) ghostCtx.beginPath();

	ctx.save();

	if (_utils.isCanvasSupported) ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		ghostCtx.beginPath();
		ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		ghostCtx.clip();
	}

	var xValuePresent = [];
	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];
		var dataSeries = this.data[dataSeriesIndex];
		var dataPoints = dataSeries.dataPoints;
		var xValue;

		dataSeries.dataPointIndexes = [];

		for (i = 0; i < dataPoints.length; i++) {
			xValue = dataPoints[i].x.getTime ? dataPoints[i].x.getTime() : dataPoints[i].x;
			dataSeries.dataPointIndexes[xValue] = i;

			if (!xValuePresent[xValue]) {
				allXValues.push(xValue);
				xValuePresent[xValue] = true;
			}
		}

		allXValues.sort(_utils.compareNumbers);
	}

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];
		var dataPoints = dataSeries.dataPoints;
		var isFirstDataPointInPlotArea = true;

		var currentBaseValues = [];

		var seriesId = dataSeries.id;
		this._eventManager.objectMap[seriesId] = {
			objectType: "dataSeries", dataSeriesIndex: dataSeriesIndex
		};
		var hexColor = (0, _utils.intToHexColorString)(seriesId);
		ghostCtx.fillStyle = hexColor;

		if (allXValues.length > 0) {

			color = dataSeries._colorSet[0];
			//ctx.strokeStyle = "red";
			ctx.fillStyle = color;
			ctx.strokeStyle = color;
			ctx.lineWidth = dataSeries.lineThickness;

			if (ctx.setLineDash) {
				ctx.setLineDash((0, _utils.getLineDashArray)(dataSeries.lineDashType, dataSeries.lineThickness));
			}

			for (i = 0; i < allXValues.length; i++) {

				dataPointX = allXValues[i];
				var dataPoint = null;

				if (dataSeries.dataPointIndexes[dataPointX] >= 0) dataPoint = dataPoints[dataSeries.dataPointIndexes[dataPointX]];else dataPoint = {
					x: dataPointX, y: 0
				};

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (typeof dataPoint.y !== "number") continue;

				var x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;
				//var y = (plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoint.y - plotUnit.axisY.conversionParameters.minimum) + .5) << 0;
				var y = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoint.y - plotUnit.axisY.conversionParameters.minimum);

				var offset = offsetY[dataPointX] ? offsetY[dataPointX] : 0;

				y = y - offset;
				currentBaseValues.push({ x: x, y: yZeroToPixel - offset });
				offsetY[dataPointX] = yZeroToPixel - y;

				if (isFirstDataPointInPlotArea) {
					ctx.beginPath();
					ctx.moveTo(x, y);

					if (_utils.isCanvasSupported) {
						ghostCtx.beginPath();
						ghostCtx.moveTo(x, y);
					}

					isFirstDataPointInPlotArea = false;
				} else {

					ctx.lineTo(x, y);

					if (_utils.isCanvasSupported) ghostCtx.lineTo(x, y);

					if (i % 250 == 0) {

						if (dataSeries.lineThickness > 0) ctx.stroke();

						while (currentBaseValues.length > 0) {
							var point = currentBaseValues.pop();
							ctx.lineTo(point.x, point.y);

							if (_utils.isCanvasSupported) ghostCtx.lineTo(point.x, point.y);
						}

						ctx.closePath();

						ctx.globalAlpha = dataSeries.fillOpacity;
						ctx.fill();
						ctx.globalAlpha = 1;

						ctx.beginPath();
						ctx.moveTo(x, y);

						if (_utils.isCanvasSupported) {
							ghostCtx.closePath();
							ghostCtx.fill();

							ghostCtx.beginPath();
							ghostCtx.moveTo(x, y);
						}

						currentBaseValues.push({ x: x, y: yZeroToPixel - offset });
					}
				}

				if (dataSeries.dataPointIndexes[dataPointX] >= 0) {
					var id = dataSeries.dataPointIds[dataSeries.dataPointIndexes[dataPointX]];
					this._eventManager.objectMap[id] = {
						id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: dataSeries.dataPointIndexes[dataPointX], x1: x, y1: y
					};
				}

				//Render Marker
				if (dataSeries.dataPointIndexes[dataPointX] >= 0 && dataPoint.markerSize !== 0) {
					if (dataPoint.markerSize > 0 || dataSeries.markerSize > 0) {

						var markerProps = dataSeries.getMarkerProperties(i, x, y, ctx);
						markers.push(markerProps);

						//if (!dataSeries.maxWidthInX || markerProps.size > dataSeries.maxWidthInX) {
						//	dataSeries.maxWidthInX = markerProps.size / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);
						//}

						markerColor = (0, _utils.intToHexColorString)(id);

						if (_utils.isCanvasSupported) {
							markers.push({
								x: x, y: y, ctx: ghostCtx,
								type: markerProps.type,
								size: markerProps.size,
								color: markerColor,
								borderColor: markerColor,
								borderThickness: markerProps.borderThickness
							});
						}
					}
				}

				if (dataPoint.indexLabel || dataSeries.indexLabel || dataPoint.indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: "stackedArea",
						dataPoint: dataPoint,
						dataSeries: dataSeries,
						point: {
							x: x, y: y
						},
						direction: dataPoints[i].y >= 0 ? 1 : -1,
						color: color
					});
				}
			}

			if (dataSeries.lineThickness > 0) ctx.stroke();

			while (currentBaseValues.length > 0) {
				var point = currentBaseValues.pop();
				ctx.lineTo(point.x, point.y);

				if (_utils.isCanvasSupported) ghostCtx.lineTo(point.x, point.y);
			}

			ctx.closePath();

			ctx.globalAlpha = dataSeries.fillOpacity;
			ctx.fill();
			ctx.globalAlpha = 1;

			ctx.beginPath();
			ctx.moveTo(x, y);

			if (_utils.isCanvasSupported) {
				ghostCtx.closePath();
				ghostCtx.fill();
				ghostCtx.beginPath();
				ghostCtx.moveTo(x, y);
			}
		}

		delete dataSeries.dataPointIndexes;
	}

	_render2.default.drawMarkers(markers);

	ctx.restore();

	if (_utils.isCanvasSupported) ghostCtx.restore();

	//source and dest would be same when animation is not enabled
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: _animator2.default.xClipAnimation, easingFunction: _animator2.default.easing.linear, animationBase: 0
	};
	return animationInfo;
};

var _render = require('../helpers/render');

var _render2 = _interopRequireDefault(_render);

var _animator = require('../helpers/animator');

var _animator2 = _interopRequireDefault(_animator);

var _utils = require('../helpers/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../helpers/animator":37,"../helpers/render":38,"../helpers/utils":39}],16:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;

	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var color = null;

	var plotArea = this.plotArea;
	var markers = [];

	var offsetY = [];

	var allXValues = [];
	//var offsetNegativeY = [];

	var i = 0,
	    x,
	    y;
	var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number everytime it is accessed.


	//var yZeroToPixel = (axisYProps.y2 - axisYProps.height / rangeY * Math.abs(0 - plotUnit.axisY.viewportMinimum) + .5) << 0;
	var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) << 0;

	var maxBarWidth = this.dataPointMaxWidth ? this.dataPointMaxWidth : this.width * .15 << 0;
	var xMinDiff = plotUnit.axisX.dataInfo.minDiff;
	var barWidth = plotArea.width / Math.abs(plotUnit.axisX.viewportMaximum - plotUnit.axisX.viewportMinimum) * Math.abs(xMinDiff) * .9 << 0;

	var ghostCtx = this._eventManager.ghostCtx;

	ctx.save();

	if (_utils.isCanvasSupported) ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		ghostCtx.beginPath();
		ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		ghostCtx.clip();
	}

	var xValuePresent = [];
	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];
		var dataSeries = this.data[dataSeriesIndex];
		var dataPoints = dataSeries.dataPoints;
		var xValue;

		dataSeries.dataPointIndexes = [];

		for (i = 0; i < dataPoints.length; i++) {
			xValue = dataPoints[i].x.getTime ? dataPoints[i].x.getTime() : dataPoints[i].x;
			dataSeries.dataPointIndexes[xValue] = i;

			if (!xValuePresent[xValue]) {
				allXValues.push(xValue);
				xValuePresent[xValue] = true;
			}
		}

		allXValues.sort(_utils.compareNumbers);
	}

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];
		var dataPoints = dataSeries.dataPoints;
		var isFirstDataPointInPlotArea = true;

		var seriesId = dataSeries.id;
		this._eventManager.objectMap[seriesId] = {
			objectType: "dataSeries", dataSeriesIndex: dataSeriesIndex
		};
		var hexColor = (0, _utils.intToHexColorString)(seriesId);
		ghostCtx.fillStyle = hexColor;

		if (dataPoints.length == 1) barWidth = maxBarWidth;

		if (barWidth < 1) barWidth = 1;else if (barWidth > maxBarWidth) barWidth = maxBarWidth;

		var currentBaseValues = [];

		if (allXValues.length > 0) {

			color = dataSeries._colorSet[i % dataSeries._colorSet.length];
			//ctx.strokeStyle = "red";
			ctx.fillStyle = color;
			ctx.strokeStyle = color;
			ctx.lineWidth = dataSeries.lineThickness;

			if (ctx.setLineDash) {
				ctx.setLineDash((0, _utils.getLineDashArray)(dataSeries.lineDashType, dataSeries.lineThickness));
			}

			var bevelEnabled = barWidth > 5 ? false : false;

			//ctx.strokeStyle = "#4572A7 ";

			for (i = 0; i < allXValues.length; i++) {

				dataPointX = allXValues[i];
				var dataPoint = null;

				if (dataSeries.dataPointIndexes[dataPointX] >= 0) dataPoint = dataPoints[dataSeries.dataPointIndexes[dataPointX]];else dataPoint = {
					x: dataPointX, y: 0
				};

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (typeof dataPoint.y !== "number") continue;

				var yPercent;
				if (plotUnit.dataPointYSums[dataPointX] !== 0) yPercent = dataPoint.y / plotUnit.dataPointYSums[dataPointX] * 100;else yPercent = 0;

				var x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;
				var y = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (yPercent - plotUnit.axisY.conversionParameters.minimum);

				var offset = offsetY[dataPointX] ? offsetY[dataPointX] : 0;

				y = y - offset;
				currentBaseValues.push({ x: x, y: yZeroToPixel - offset });
				offsetY[dataPointX] = yZeroToPixel - y;

				if (isFirstDataPointInPlotArea) {
					ctx.beginPath();
					ctx.moveTo(x, y);

					if (_utils.isCanvasSupported) {
						ghostCtx.beginPath();
						ghostCtx.moveTo(x, y);
					}

					isFirstDataPointInPlotArea = false;
				} else {

					ctx.lineTo(x, y);

					if (_utils.isCanvasSupported) ghostCtx.lineTo(x, y);

					if (i % 250 == 0) {

						if (dataSeries.lineThickness > 0) ctx.stroke();

						while (currentBaseValues.length > 0) {
							var point = currentBaseValues.pop();
							ctx.lineTo(point.x, point.y);

							if (_utils.isCanvasSupported) ghostCtx.lineTo(point.x, point.y);
						}

						ctx.closePath();

						ctx.globalAlpha = dataSeries.fillOpacity;
						ctx.fill();
						ctx.globalAlpha = 1;

						ctx.beginPath();
						ctx.moveTo(x, y);

						if (_utils.isCanvasSupported) {
							ghostCtx.closePath();
							ghostCtx.fill();
							ghostCtx.beginPath();
							ghostCtx.moveTo(x, y);
						}

						currentBaseValues.push({ x: x, y: yZeroToPixel - offset });
					}
				}

				if (dataSeries.dataPointIndexes[dataPointX] >= 0) {
					var id = dataSeries.dataPointIds[dataSeries.dataPointIndexes[dataPointX]];
					this._eventManager.objectMap[id] = {
						id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: dataSeries.dataPointIndexes[dataPointX], x1: x, y1: y
					};
				}

				//Render Marker
				if (dataSeries.dataPointIndexes[dataPointX] >= 0 && dataPoint.markerSize !== 0) {
					if (dataPoint.markerSize > 0 || dataSeries.markerSize > 0) {
						var markerProps = dataSeries.getMarkerProperties(i, x, y, ctx);
						markers.push(markerProps);

						//if (!dataSeries.maxWidthInX || markerProps.size > dataSeries.maxWidthInX) {
						//	dataSeries.maxWidthInX = markerProps.size / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);
						//}

						markerColor = (0, _utils.intToHexColorString)(id);

						if (_utils.isCanvasSupported) {
							markers.push({
								x: x, y: y, ctx: ghostCtx,
								type: markerProps.type,
								size: markerProps.size,
								color: markerColor,
								borderColor: markerColor,
								borderThickness: markerProps.borderThickness
							});
						}
					}
				}

				if (dataPoint.indexLabel || dataSeries.indexLabel || dataPoint.indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: "stackedArea100",
						dataPoint: dataPoint,
						dataSeries: dataSeries,
						point: {
							x: x, y: y
						},
						direction: dataPoints[i].y >= 0 ? 1 : -1,
						color: color
					});
				}
			}

			if (dataSeries.lineThickness > 0) ctx.stroke();

			while (currentBaseValues.length > 0) {
				var point = currentBaseValues.pop();
				ctx.lineTo(point.x, point.y);

				if (_utils.isCanvasSupported) ghostCtx.lineTo(point.x, point.y);
			}

			ctx.closePath();

			ctx.globalAlpha = dataSeries.fillOpacity;
			ctx.fill();
			ctx.globalAlpha = 1;

			ctx.beginPath();
			ctx.moveTo(x, y);

			if (_utils.isCanvasSupported) {
				ghostCtx.closePath();
				ghostCtx.fill();
				ghostCtx.beginPath();
				ghostCtx.moveTo(x, y);
			}
		}

		delete dataSeries.dataPointIndexes;
	}

	_render2.default.drawMarkers(markers);

	ctx.restore();

	if (_utils.isCanvasSupported) ghostCtx.restore();

	//source and dest would be same when animation is not enabled
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: _animator2.default.xClipAnimation, easingFunction: _animator2.default.easing.linear, animationBase: 0
	};
	return animationInfo;
};

var _render = require('../helpers/render');

var _render2 = _interopRequireDefault(_render);

var _animator = require('../helpers/animator');

var _animator2 = _interopRequireDefault(_animator);

var _utils = require('../helpers/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../helpers/animator":37,"../helpers/render":38,"../helpers/utils":39}],17:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;
	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var color = null;

	var plotArea = this.plotArea;

	var offsetPositiveY = [];
	var offsetNegativeY = [];

	var i = 0,
	    x,
	    y;
	var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number everytime it is accessed.

	//var yZeroToPixel = (axisYProps.y2 - axisYProps.height / rangeY * Math.abs(0 - plotUnit.axisY.viewportMinimum) + .5) << 0;
	var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) << 0;

	var maxBarWidth = this.dataPointMaxWidth ? this.dataPointMaxWidth : this.height * .15 << 0;
	var xMinDiff = plotUnit.axisX.dataInfo.minDiff;
	var barWidth = plotArea.height / Math.abs(plotUnit.axisX.viewportMaximum - plotUnit.axisX.viewportMinimum) * Math.abs(xMinDiff) / plotUnit.plotType.plotUnits.length * .9 << 0;

	if (barWidth > maxBarWidth) barWidth = maxBarWidth;else if (xMinDiff === Infinity) {
		barWidth = maxBarWidth;
	} else if (barWidth < 1) barWidth = 1;

	ctx.save();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		this._eventManager.ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		this._eventManager.ghostCtx.clip();
	}

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];
		var dataPoints = dataSeries.dataPoints;
		var isFirstDataPointInPlotArea = true;

		//dataSeries.maxWidthInX = barWidth / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);

		if (dataPoints.length > 0) {
			//var xy = this.getPixelCoordinatesOnPlotArea(dataPoints[0].x, dataPoints[0].y);

			var bevelEnabled = barWidth > 5 && dataSeries.bevelEnabled ? true : false;

			ctx.strokeStyle = "#4572A7 ";

			for (i = 0; i < dataPoints.length; i++) {

				dataPointX = dataPoints[i].x.getTime ? dataPoints[i].x.getTime() : dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (typeof dataPoints[i].y !== "number") continue;

				y = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;
				//x = (plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y - plotUnit.axisY.conversionParameters.minimum) + .5) << 0;
				x = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y - plotUnit.axisY.conversionParameters.minimum);

				//var x1 = x - (plotUnit.plotType.plotUnits.length * barWidth / 2) + (plotUnit.index * barWidth) << 0;

				var y1 = y - plotUnit.plotType.plotUnits.length * barWidth / 2 + plotUnit.index * barWidth << 0;
				var y2 = y1 + barWidth << 0;
				var x1;
				var x2;

				if (dataPoints[i].y >= 0) {
					var offset = offsetPositiveY[dataPointX] ? offsetPositiveY[dataPointX] : 0;

					x1 = yZeroToPixel + offset;
					x2 = x + offset;

					offsetPositiveY[dataPointX] = offset + (x2 - x1);
				} else {
					var offset = offsetNegativeY[dataPointX] ? offsetNegativeY[dataPointX] : 0;

					x1 = x - offset;
					x2 = yZeroToPixel - offset;

					offsetNegativeY[dataPointX] = offset + (x2 - x1);
				}

				color = dataPoints[i].color ? dataPoints[i].color : dataSeries._colorSet[i % dataSeries._colorSet.length];
				drawRect(ctx, x1, y1, x2, y2, color, 0, null, bevelEnabled, false, false, false, dataSeries.fillOpacity);

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x1, y1: y1, x2: x2, y2: y2
				};
				color = intToHexColorString(id);

				if (_utils.isCanvasSupported) drawRect(this._eventManager.ghostCtx, x1, y1, x2, y2, color, 0, null, false, false, false, false);

				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) this._indexLabels.push({
					chartType: "stackedBar",
					dataPoint: dataPoints[i],
					dataSeries: dataSeries,
					point: {
						x: dataPoints[i].y >= 0 ? x2 : x1, y: y
					},
					direction: dataPoints[i].y >= 0 ? 1 : -1,
					bounds: {
						x1: Math.min(x1, x2), y1: y1, x2: Math.max(x1, x2), y2: y2
					},
					color: color
				});
			}
		}
	}

	ctx.restore();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.restore();

	//source and dest would be same when animation is not enabled
	var animationBase = Math.max(yZeroToPixel, plotUnit.axisX.boundingRect.x2);
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: AnimationHelper.xScaleAnimation, easingFunction: AnimationHelper.easing.easeOutQuart, animationBase: animationBase
	};
	return animationInfo;
};

var _utils = require("../helpers/utils");

},{"../helpers/utils":39}],18:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;
	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var color = null;

	var plotArea = this.plotArea;

	var offsetPositiveY = [];
	var offsetNegativeY = [];

	var i = 0,
	    x,
	    y;
	var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number everytime it is accessed.

	//var yZeroToPixel = (axisYProps.y2 - axisYProps.height / rangeY * Math.abs(0 - plotUnit.axisY.viewportMinimum) + .5) << 0;
	var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) << 0;

	var maxBarWidth = this.dataPointMaxWidth ? this.dataPointMaxWidth : this.height * .15 << 0;
	var xMinDiff = plotUnit.axisX.dataInfo.minDiff;
	var barWidth = plotArea.height / Math.abs(plotUnit.axisX.viewportMaximum - plotUnit.axisX.viewportMinimum) * Math.abs(xMinDiff) / plotUnit.plotType.plotUnits.length * .9 << 0;

	if (barWidth > maxBarWidth) barWidth = maxBarWidth;else if (xMinDiff === Infinity) {
		barWidth = maxBarWidth;
	} else if (barWidth < 1) barWidth = 1;

	ctx.save();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		this._eventManager.ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		this._eventManager.ghostCtx.clip();
	}

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];
		var dataPoints = dataSeries.dataPoints;
		var isFirstDataPointInPlotArea = true;

		//dataSeries.maxWidthInX = barWidth / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);

		if (dataPoints.length > 0) {
			//var xy = this.getPixelCoordinatesOnPlotArea(dataPoints[0].x, dataPoints[0].y);

			var bevelEnabled = barWidth > 5 && dataSeries.bevelEnabled ? true : false;

			ctx.strokeStyle = "#4572A7 ";

			for (i = 0; i < dataPoints.length; i++) {

				dataPointX = dataPoints[i].x.getTime ? dataPoints[i].x.getTime() : dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (typeof dataPoints[i].y !== "number") continue;

				y = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;

				var yPercent;
				if (plotUnit.dataPointYSums[dataPointX] !== 0) yPercent = dataPoints[i].y / plotUnit.dataPointYSums[dataPointX] * 100;else yPercent = 0;

				//x = (plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (yPercent - plotUnit.axisY.conversionParameters.minimum) + .5) << 0;
				x = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (yPercent - plotUnit.axisY.conversionParameters.minimum);

				var y1 = y - plotUnit.plotType.plotUnits.length * barWidth / 2 + plotUnit.index * barWidth << 0;
				var y2 = y1 + barWidth << 0;
				var x1;
				var x2;

				if (dataPoints[i].y >= 0) {
					var offset = offsetPositiveY[dataPointX] ? offsetPositiveY[dataPointX] : 0;

					x1 = yZeroToPixel + offset;
					x2 = x + offset;

					offsetPositiveY[dataPointX] = offset + (x2 - x1);
				} else {
					var offset = offsetNegativeY[dataPointX] ? offsetNegativeY[dataPointX] : 0;

					x1 = x - offset;
					x2 = yZeroToPixel - offset;

					offsetNegativeY[dataPointX] = offset + (x2 - x1);
				}

				color = dataPoints[i].color ? dataPoints[i].color : dataSeries._colorSet[i % dataSeries._colorSet.length];
				drawRect(ctx, x1, y1, x2, y2, color, 0, null, bevelEnabled, false, false, false, dataSeries.fillOpacity);

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x1, y1: y1, x2: x2, y2: y2
				};
				color = intToHexColorString(id);

				if (_utils.isCanvasSupported) drawRect(this._eventManager.ghostCtx, x1, y1, x2, y2, color, 0, null, false, false, false, false);

				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) this._indexLabels.push({
					chartType: "stackedBar100",
					dataPoint: dataPoints[i],
					dataSeries: dataSeries,
					point: {
						x: dataPoints[i].y >= 0 ? x2 : x1, y: y
					},
					direction: dataPoints[i].y >= 0 ? 1 : -1,
					bounds: {
						x1: Math.min(x1, x2), y1: y1, x2: Math.max(x1, x2), y2: y2
					},
					color: color
				});
			}
		}
	}

	ctx.restore();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.restore();

	//source and dest would be same when animation is not enabled
	var animationBase = Math.max(yZeroToPixel, plotUnit.axisX.boundingRect.x2);
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: AnimationHelper.xScaleAnimation, easingFunction: AnimationHelper.easing.easeOutQuart, animationBase: animationBase
	};
	return animationInfo;
};

var _utils = require("../helpers/utils");

},{"../helpers/utils":39}],19:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {

	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;
	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var color = null;

	var plotArea = this.plotArea;

	var offsetPositiveY = [];
	var offsetNegativeY = [];

	var i = 0,
	    x,
	    y;
	var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number everytime it is accessed.

	//var yZeroToPixel = (axisYProps.y2 - axisYProps.height / rangeY * Math.abs(0 - plotUnit.axisY.viewportMinimum) + .5) << 0;
	var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) << 0;

	var maxBarWidth = this.dataPointMaxWidth ? this.dataPointMaxWidth : this.width * .15 << 0;
	var xMinDiff = plotUnit.axisX.dataInfo.minDiff;
	var barWidth = plotArea.width / Math.abs(plotUnit.axisX.viewportMaximum - plotUnit.axisX.viewportMinimum) * Math.abs(xMinDiff) / plotUnit.plotType.plotUnits.length * .9 << 0;

	if (barWidth > maxBarWidth) barWidth = maxBarWidth;else if (xMinDiff === Infinity) {
		barWidth = maxBarWidth;
	} else if (barWidth < 1) barWidth = 1;

	ctx.save();
	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		this._eventManager.ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		this._eventManager.ghostCtx.clip();
	}

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];
		var dataSeries = this.data[dataSeriesIndex];
		var dataPoints = dataSeries.dataPoints;
		var isFirstDataPointInPlotArea = true;

		// Reducing pixelPerUnit by 1 just to overcome any problems due to rounding off of pixels.
		//dataSeries.maxWidthInX = barWidth / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);


		if (dataPoints.length > 0) {
			//var xy = this.getPixelCoordinatesOnPlotArea(dataPoints[0].x, dataPoints[0].y);

			var bevelEnabled = barWidth > 5 && dataSeries.bevelEnabled ? true : false;

			ctx.strokeStyle = "#4572A7 ";

			for (i = 0; i < dataPoints.length; i++) {

				dataPointX = dataPoints[i].x.getTime ? dataPoints[i].x.getTime() : dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (typeof dataPoints[i].y !== "number") continue;

				x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;
				y = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y - plotUnit.axisY.conversionParameters.minimum);

				var x1 = x - plotUnit.plotType.plotUnits.length * barWidth / 2 + plotUnit.index * barWidth << 0;
				var x2 = x1 + barWidth << 0;
				var y1;
				var y2;

				if (dataPoints[i].y >= 0) {
					var offset = offsetPositiveY[dataPointX] ? offsetPositiveY[dataPointX] : 0;

					y1 = y - offset;
					y2 = yZeroToPixel - offset;

					offsetPositiveY[dataPointX] = offset + (y2 - y1);
				} else {
					var offset = offsetNegativeY[dataPointX] ? offsetNegativeY[dataPointX] : 0;

					y2 = y + offset;
					y1 = yZeroToPixel + offset;

					offsetNegativeY[dataPointX] = offset + (y2 - y1);
				}

				color = dataPoints[i].color ? dataPoints[i].color : dataSeries._colorSet[i % dataSeries._colorSet.length];

				drawRect(ctx, x1, y1, x2, y2, color, 0, null, bevelEnabled && dataPoints[i].y >= 0, dataPoints[i].y < 0 && bevelEnabled, false, false, dataSeries.fillOpacity);

				//if (dataSeries.markerType && dataSeries.markerSize > 0) {
				//    RenderHelper.drawMarker(x1 + (x2 - x1)/2, y1, ctx, dataSeries.markerType, dataSeries.markerSize, color, dataSeries.markerBorderColor, dataSeries.markerBorderThickness ? dataSeries.markerBorderThickness : 1);
				//}

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x1, y1: y1, x2: x2, y2: y2
				};
				color = intToHexColorString(id);

				if (_utils.isCanvasSupported) drawRect(this._eventManager.ghostCtx, x1, y1, x2, y2, color, 0, null, false, false, false, false);

				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: "stackedColumn",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						point: {
							x: x, y: dataPoints[i].y >= 0 ? y1 : y2
						},
						direction: dataPoints[i].y >= 0 ? 1 : -1,
						bounds: {
							x1: x1, y1: Math.min(y1, y2), x2: x2, y2: Math.max(y1, y2)
						},
						color: color
					});
				}
			}
		}
	}

	ctx.restore();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.restore();

	//source and dest would be same when animation is not enabled
	var animationBase = Math.min(yZeroToPixel, plotUnit.axisY.boundingRect.y2);
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: AnimationHelper.yScaleAnimation, easingFunction: AnimationHelper.easing.easeOutQuart, animationBase: animationBase
	};
	return animationInfo;
};

var _utils = require("../helpers/utils");

},{"../helpers/utils":39}],20:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;
	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var color = null;

	var plotArea = this.plotArea;

	var offsetPositiveY = [];
	var offsetNegativeY = [];

	var i = 0,
	    x,
	    y;
	var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number everytime it is accessed.

	//var yZeroToPixel = (axisYProps.y2 - axisYProps.height / rangeY * Math.abs(0 - plotUnit.axisY.viewportMinimum) + .5) << 0;
	var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) << 0;

	var maxBarWidth = this.dataPointMaxWidth ? this.dataPointMaxWidth : this.width * .15 << 0;
	var xMinDiff = plotUnit.axisX.dataInfo.minDiff;
	var barWidth = plotArea.width / Math.abs(plotUnit.axisX.viewportMaximum - plotUnit.axisX.viewportMinimum) * Math.abs(xMinDiff) / plotUnit.plotType.plotUnits.length * .9 << 0;

	if (barWidth > maxBarWidth) barWidth = maxBarWidth;else if (xMinDiff === Infinity) {
		barWidth = maxBarWidth;
	} else if (barWidth < 1) barWidth = 1;

	ctx.save();
	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		this._eventManager.ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		this._eventManager.ghostCtx.clip();
	}

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];
		var dataPoints = dataSeries.dataPoints;
		var isFirstDataPointInPlotArea = true;

		//dataSeries.maxWidthInX = barWidth / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);


		if (dataPoints.length > 0) {
			//var xy = this.getPixelCoordinatesOnPlotArea(dataPoints[0].x, dataPoints[0].y);

			var bevelEnabled = barWidth > 5 && dataSeries.bevelEnabled ? true : false;

			//ctx.strokeStyle = "#4572A7 ";

			for (i = 0; i < dataPoints.length; i++) {

				dataPointX = dataPoints[i].x.getTime ? dataPoints[i].x.getTime() : dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (typeof dataPoints[i].y !== "number") continue;

				x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;

				var yPercent;
				if (plotUnit.dataPointYSums[dataPointX] !== 0) yPercent = dataPoints[i].y / plotUnit.dataPointYSums[dataPointX] * 100;else yPercent = 0;

				//y = (plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (yPercent - plotUnit.axisY.conversionParameters.minimum) + .5) << 0;
				y = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (yPercent - plotUnit.axisY.conversionParameters.minimum);

				var x1 = x - plotUnit.plotType.plotUnits.length * barWidth / 2 + plotUnit.index * barWidth << 0;
				var x2 = x1 + barWidth << 0;
				var y1;
				var y2;

				if (dataPoints[i].y >= 0) {
					var offset = offsetPositiveY[dataPointX] ? offsetPositiveY[dataPointX] : 0;

					y1 = y - offset;
					y2 = yZeroToPixel - offset;

					offsetPositiveY[dataPointX] = offset + (y2 - y1);
				} else {
					var offset = offsetNegativeY[dataPointX] ? offsetNegativeY[dataPointX] : 0;

					y2 = y + offset;
					y1 = yZeroToPixel + offset;

					offsetNegativeY[dataPointX] = offset + (y2 - y1);
				}

				color = dataPoints[i].color ? dataPoints[i].color : dataSeries._colorSet[i % dataSeries._colorSet.length];
				drawRect(ctx, x1, y1, x2, y2, color, 0, null, bevelEnabled && dataPoints[i].y >= 0, dataPoints[i].y < 0 && bevelEnabled, false, false, dataSeries.fillOpacity);

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x1, y1: y1, x2: x2, y2: y2
				};
				color = intToHexColorString(id);

				if (_utils.isCanvasSupported) drawRect(this._eventManager.ghostCtx, x1, y1, x2, y2, color, 0, null, false, false, false, false);

				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: "stackedColumn100",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						point: {
							x: x, y: dataPoints[i].y >= 0 ? y1 : y2
						},
						direction: dataPoints[i].y >= 0 ? 1 : -1,
						bounds: {
							x1: x1, y1: Math.min(y1, y2), x2: x2, y2: Math.max(y1, y2)
						},
						color: color
					});
				}
			}
		}
	}

	ctx.restore();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.restore();

	//source and dest would be same when animation is not enabled
	var animationBase = Math.min(yZeroToPixel, plotUnit.axisY.boundingRect.y2);
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: AnimationHelper.yScaleAnimation, easingFunction: AnimationHelper.easing.easeOutQuart, animationBase: animationBase
	};
	return animationInfo;
};

var _utils = require("../helpers/utils");

},{"../helpers/utils":39}],21:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;

	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var ghostCtx = this._eventManager.ghostCtx;

	var axisXProps = plotUnit.axisX.lineCoordinates;
	var axisYProps = plotUnit.axisY.lineCoordinates;
	var markers = [];

	var plotArea = this.plotArea;
	ctx.save();

	if (_utils.isCanvasSupported) ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		ghostCtx.beginPath();
		ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		ghostCtx.clip();
	}

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];

		var dataPoints = dataSeries.dataPoints;

		var seriesId = dataSeries.id;
		this._eventManager.objectMap[seriesId] = {
			objectType: "dataSeries", dataSeriesIndex: dataSeriesIndex
		};

		var hexColor = intToHexColorString(seriesId);
		ghostCtx.fillStyle = hexColor;
		//ghostCtx.lineWidth = dataSeries.lineThickness;
		//ghostCtx.lineWidth = 20;

		markers = [];

		var isFirstDataPointInPlotArea = true;
		var i = 0,
		    x,
		    y;
		var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number back and forth.

		var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;
		var baseY;

		var startPoint = null;

		var prevDataNull = false;
		if (dataPoints.length > 0) {
			//ctx.strokeStyle = "#4572A7 ";
			var color = dataSeries._colorSet[i % dataSeries._colorSet.length];
			//ctx.strokeStyle = "red";
			ctx.fillStyle = color;
			ctx.strokeStyle = color;
			ctx.lineWidth = dataSeries.lineThickness;

			if (ctx.setLineDash) {
				ctx.setLineDash(getLineDashArray(dataSeries.lineDashType, dataSeries.lineThickness));
			}

			for (; i < dataPoints.length; i++) {

				dataPointX = dataPoints[i].x.getTime ? dataPoints[i].x.getTime() : dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				var prevY = y;

				if (typeof dataPoints[i].y !== "number") {
					closeArea();

					prevDataNull = true;
					continue;
				}

				x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;
				y = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;

				if (isFirstDataPointInPlotArea || prevDataNull) {
					ctx.beginPath();
					ctx.moveTo(x, y);
					startPoint = {
						x: x, y: y
					};

					if (_utils.isCanvasSupported) {
						ghostCtx.beginPath();
						ghostCtx.moveTo(x, y);
					}

					isFirstDataPointInPlotArea = false;
					prevDataNull = false;
				} else {

					ctx.lineTo(x, prevY);
					if (_utils.isCanvasSupported) ghostCtx.lineTo(x, prevY);

					ctx.lineTo(x, y);

					if (_utils.isCanvasSupported) ghostCtx.lineTo(x, y);

					if (i % 250 == 0) {
						closeArea();
					}
				}

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x, y1: y
				};

				//Render Marker
				if (dataPoints[i].markerSize !== 0) {
					if (dataPoints[i].markerSize > 0 || dataSeries.markerSize > 0) {
						var markerProps = dataSeries.getMarkerProperties(i, x, y, ctx);
						markers.push(markerProps);

						//if (!dataSeries.maxWidthInX || markerProps.size > dataSeries.maxWidthInX) {
						//	dataSeries.maxWidthInX = markerProps.size / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);
						//}

						var markerColor = intToHexColorString(id);

						if (_utils.isCanvasSupported) {
							markers.push({
								x: x, y: y, ctx: ghostCtx,
								type: markerProps.type,
								size: markerProps.size,
								color: markerColor,
								borderColor: markerColor,
								borderThickness: markerProps.borderThickness
							});
						}
					}
				}

				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: "stepArea",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						point: {
							x: x, y: y
						},
						direction: dataPoints[i].y >= 0 ? 1 : -1,
						color: color
					});
				}
			}

			closeArea();

			RenderHelper.drawMarkers(markers);
		}
	}

	ctx.restore();
	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.restore();

	function closeArea() {

		if (!startPoint) return;

		if (dataSeries.lineThickness > 0) ctx.stroke();

		if (plotUnit.axisY.viewportMinimum <= 0 && plotUnit.axisY.viewportMaximum >= 0) {
			baseY = yZeroToPixel;
		} else if (plotUnit.axisY.viewportMaximum < 0) baseY = axisYProps.y1;else if (plotUnit.axisY.viewportMinimum > 0) baseY = axisXProps.y2;

		ctx.lineTo(x, baseY);
		ctx.lineTo(startPoint.x, baseY);
		ctx.closePath();

		ctx.globalAlpha = dataSeries.fillOpacity;
		ctx.fill();
		ctx.globalAlpha = 1;

		if (_utils.isCanvasSupported) {
			ghostCtx.lineTo(x, baseY);
			ghostCtx.lineTo(startPoint.x, baseY);
			ghostCtx.closePath();
			ghostCtx.fill();
		}

		ctx.beginPath();
		ctx.moveTo(x, y);
		ghostCtx.beginPath();
		ghostCtx.moveTo(x, y);

		startPoint = {
			x: x, y: y
		};
	}

	//source and dest would be same when animation is not enabled
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: AnimationHelper.xClipAnimation, easingFunction: AnimationHelper.easing.linear, animationBase: 0
	};
	return animationInfo;
};

var _utils = require("../helpers/utils");

},{"../helpers/utils":39}],22:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
var cultures = exports.cultures = {
  "en": {}
  //Derives from the default options
  //,
  //"es": {
  //    decimalSeparator: ",",
  //    digitGroupSeparator: ".",
  //    zoomText: "zoom",
  //    panText: "pan",
  //    resetText: "reset",
  //    days: ["domingo", "lunes", "martes", "mircoles", "jueves", "viernes", "sbado"],
  //}
};

var constants = exports.constants = {
  numberDuration: 1,
  yearDuration: 1000 * 60 * 60 * 24 * 364,
  monthDuration: 1000 * 60 * 60 * 24 * 30,
  weekDuration: 1000 * 60 * 60 * 24 * 7,
  dayDuration: 1000 * 60 * 60 * 24,
  hourDuration: 1000 * 60 * 60,
  minuteDuration: 1000 * 60,
  secondDuration: 1000,
  millisecondDuration: 1,

  dayOfWeekFromInt: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"]
};

},{}],23:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
			value: true
});
var isDebugMode = exports.isDebugMode = false;

var isCanvasSupported = exports.isCanvasSupported = !!document.createElement("canvas").getContext;
//isCanvasSupported = false;

//Default values for all Chart Elements that can be set by the user. CanvasJSObject.setOptions looks into this while setting the default/user-defined values.
var defaultOptions = exports.defaultOptions = {
			Chart: {
						width: 500,
						height: 400,
						zoomEnabled: false,
						zoomType: "x",
						backgroundColor: "white",
						theme: "theme1",
						animationEnabled: false,
						animationDuration: 1200,
						dataPointMaxWidth: null,

						colorSet: "colorSet1",
						culture: "en",
						creditText: "CanvasJS.com",
						interactivityEnabled: true,
						exportEnabled: false,
						exportFileName: "Chart",

						rangeChanging: null,
						rangeChanged: null
			},

			Title: {
						padding: 0,
						text: null,
						verticalAlign: "top", //top, center, bottom
						horizontalAlign: "center", //left, center, right
						fontSize: 20, //in pixels
						fontFamily: "Calibri",
						fontWeight: "normal", //normal, bold, bolder, lighter,
						fontColor: "black",
						fontStyle: "normal", // normal, italic, oblique

						borderThickness: 0,
						borderColor: "black",
						cornerRadius: 0,
						backgroundColor: null,
						margin: 5,
						wrap: true,
						maxWidth: null,

						dockInsidePlotArea: false
						//toolTipContent: null//string - To be implemented (TBI)
			},

			Subtitle: {
						padding: 0,
						text: null,
						verticalAlign: "top", //top, center, bottom
						horizontalAlign: "center", //left, center, right
						fontSize: 14, //in pixels
						fontFamily: "Calibri",
						fontWeight: "normal", //normal, bold, bolder, lighter,
						fontColor: "black",
						fontStyle: "normal", // normal, italic, oblique

						borderThickness: 0,
						borderColor: "black",
						cornerRadius: 0,
						backgroundColor: null,
						margin: 2,
						wrap: true,
						maxWidth: null,

						dockInsidePlotArea: false
						//toolTipContent: null//string - To be implemented (TBI)
			},

			Legend: {
						name: null,
						verticalAlign: "center",
						horizontalAlign: "right",

						fontSize: 14, //in pixels
						fontFamily: "calibri",
						fontWeight: "normal", //normal, bold, bolder, lighter,
						fontColor: "black",
						fontStyle: "normal", // normal, italic, oblique

						cursor: null,
						itemmouseover: null,
						itemmouseout: null,
						itemmousemove: null,
						itemclick: null,

						dockInsidePlotArea: false,
						reversed: false,

						maxWidth: null,
						maxHeight: null,

						itemMaxWidth: null,
						itemWidth: null,
						itemWrap: true,
						itemTextFormatter: null
			},

			ToolTip: {
						enabled: true,
						shared: false,
						animationEnabled: true,
						content: null,
						contentFormatter: null,

						reversed: false,

						backgroundColor: null,

						borderColor: null,
						borderThickness: 2, //in pixels
						cornerRadius: 5, // in pixels

						fontSize: 14, // in pixels
						fontColor: "#000000",
						fontFamily: "Calibri, Arial, Georgia, serif;",
						fontWeight: "normal", //normal, bold, bolder, lighter,
						fontStyle: "italic" // normal, italic, oblique
			},

			Axis: {
						minimum: null, //Minimum value to be shown on the Axis
						maximum: null, //Minimum value to be shown on the Axis
						viewportMinimum: null,
						viewportMaximum: null,
						interval: null, // Interval for tick marks and grid lines
						intervalType: null, //number, millisecond, second, minute, hour, day, month, year
						//reversed: false,

						title: null, // string
						titleFontColor: "black",
						titleFontSize: 20,
						titleFontFamily: "arial",
						titleFontWeight: "normal",
						titleFontStyle: "normal",

						labelAngle: 0,
						labelFontFamily: "arial",
						labelFontColor: "black",
						labelFontSize: 12,
						labelFontWeight: "normal",
						labelFontStyle: "normal",
						labelAutoFit: false,
						labelWrap: true,
						labelMaxWidth: null, //null for auto
						labelFormatter: null,

						prefix: "",
						suffix: "",

						includeZero: true, //Applies only for axisY. Ignored in axisX.

						tickLength: 5,
						tickColor: "black",
						tickThickness: 1,

						lineColor: "black",
						lineThickness: 1,
						lineDashType: "solid",

						gridColor: "A0A0A0",
						gridThickness: 0,
						gridDashType: "solid",

						interlacedColor: null,

						valueFormatString: null,

						margin: 2,

						stripLines: [] // Just a placeholder. Does not have any effect on the actual number of striplines
			},

			StripLine: {
						value: null,
						startValue: null,
						endValue: null,

						color: "orange",
						opacity: null,
						thickness: 2,
						lineDashType: "solid",
						label: "",
						labelBackgroundColor: "#EEEEEE",
						labelFontFamily: "arial",
						labelFontColor: "orange",
						labelFontSize: 12,
						labelFontWeight: "normal",
						labelFontStyle: "normal",
						labelFormatter: null,

						showOnTop: false
			},

			DataSeries: {
						name: null,
						dataPoints: null,
						label: "",
						bevelEnabled: false,
						highlightEnabled: true,

						cursor: null,

						indexLabel: "",
						indexLabelPlacement: "auto", //inside, outside, auto
						indexLabelOrientation: "horizontal",
						indexLabelFontColor: "black",
						indexLabelFontSize: 12,
						indexLabelFontStyle: "normal", //   italic ,oblique, normal
						indexLabelFontFamily: "Arial", // fx: Arial Verdana "Courier New" Serif
						indexLabelFontWeight: "normal", // bold ,bolder, lighter, normal
						indexLabelBackgroundColor: null,
						indexLabelLineColor: null,
						indexLabelLineThickness: 1,
						indexLabelLineDashType: "solid",
						indexLabelMaxWidth: null,
						indexLabelWrap: true,
						indexLabelFormatter: null,

						lineThickness: 2,
						lineDashType: "solid",

						color: null,
						risingColor: "white",
						fillOpacity: null,

						startAngle: 0,

						radius: null,
						innerRadius: null,

						type: "column", //line, column, bar, area, scatter stackedColumn, stackedBar, stackedArea, stackedColumn100, stackedBar100, stackedArea100, pie, doughnut
						xValueType: "number", //number, dateTime
						axisYType: "primary",

						xValueFormatString: null,
						yValueFormatString: null,
						zValueFormatString: null,
						percentFormatString: null,

						showInLegend: null,
						legendMarkerType: null,
						legendMarkerColor: null,
						legendText: null,
						legendMarkerBorderColor: null,
						legendMarkerBorderThickness: null,

						markerType: "circle", //none, circle, square, cross, triangle, line
						markerColor: null,
						markerSize: null,
						markerBorderColor: null,
						markerBorderThickness: null,
						//animationEnabled: true,
						mouseover: null,
						mouseout: null,
						mousemove: null,
						click: null,
						toolTipContent: null,

						visible: true
			},

			//Private
			TextBlock: {
						x: 0,
						y: 0,
						width: null, //read only
						height: null, //read only
						maxWidth: null,
						maxHeight: null,
						padding: 0,
						angle: 0,
						text: "",
						horizontalAlign: "center", //left, center, right
						fontSize: 12, //in pixels
						fontFamily: "calibri",
						fontWeight: "normal", //normal, bold, bolder, lighter,
						fontColor: "black",
						fontStyle: "normal", // normal, italic, oblique

						borderThickness: 0,
						borderColor: "black",
						cornerRadius: 0,
						backgroundColor: null,
						textBaseline: "top"
			},

			CultureInfo: {
						decimalSeparator: ".",
						digitGroupSeparator: ",",
						zoomText: "Zoom",
						panText: "Pan",
						resetText: "Reset",

						menuText: "More Options",
						saveJPGText: "Save as JPG",
						savePNGText: "Save as PNG",

						days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
						shortDays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],

						months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
						shortMonths: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]
			}
};

},{}],24:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.themes = exports.colorSets = undefined;

var _utils = require("../helpers/utils");

var colorSets = exports.colorSets = {

	"colorSet1": ["#369EAD", "#C24642", "#7F6084",
	//"#96C412",
	"#86B402", "#A2D1CF",
	//"#D8C641",
	"#C8B631", "#6DBCEB",
	//"#4A4946",
	"#52514E", "#4F81BC", "#A064A1", "#F79647"],
	"colorSet2": ["#4F81BC", "#C0504E", "#9BBB58", "#23BFAA",
	//"#FAA586",
	"#8064A1", "#4AACC5", "#F79647",
	//"#77AA33",
	//"#7F6084"
	"#33558B"],
	"colorSet3": ["#8CA1BC", "#36845C", "#017E82", "#8CB9D0", "#708C98", "#94838D", "#F08891", "#0366A7", "#008276", "#EE7757", "#E5BA3A", "#F2990B", "#03557B", "#782970"] //,
	//"colorSet4": [
	//    "#3698C5",
	//    "#009B8D",
	//    "#F1D691",
	//    "#F8B90C",
	//    "#0081B8",
	//    "#5B5A96",
	//    "#ACBDD1",
	//    "#88A891",
	//    "#39969D",
	//    "#AECEDD",
	//    "#A0B2BC",
	//    "#BBAEB7",
	//    "#A0C65F",
	//    "#EEA6AA",
	//    "#3798C5"
	//],
	//"colorSet5": [
	//    "#88ADBF",
	//    "#84C336",
	//    "#7B91C3",
	//    "#4661EE",
	//    "#EC5657",
	//    "#1BCDD1",
	//    "#8FAABB",
	//    "#B08BEB",
	//    "#3EA0DD",
	//    "#F5A52A",
	//    "#23BFAA",
	//    "#FAA586",
	//    "#EB8CC6"
	//]

};

var themes = exports.themes = {

	"theme1": {
		Chart: {
			colorSet: "colorSet1"
		},
		Title: {
			fontFamily: _utils.isCanvasSupported ? "Calibri, Optima, Candara, Verdana, Geneva, sans-serif" : "calibri",
			fontSize: 33,
			fontColor: "#3A3A3A",
			fontWeight: "bold",
			verticalAlign: "top",
			margin: 5
		},
		Subtitle: {
			fontFamily: _utils.isCanvasSupported ? "Calibri, Optima, Candara, Verdana, Geneva, sans-serif" : "calibri",
			fontSize: 16,
			fontColor: "#3A3A3A",
			fontWeight: "bold",
			verticalAlign: "top",
			margin: 5
		},
		Axis: {
			titleFontSize: 26,
			//titleFontColor: "rgb(98,98,98)",
			titleFontColor: "#666666",
			//titleFontFamily: "arial black",
			//titleFontFamily: "Verdana, Geneva, Calibri, sans-serif",
			titleFontFamily: _utils.isCanvasSupported ? "Calibri, Optima, Candara, Verdana, Geneva, sans-serif" : "calibri",
			//titleFontWeight: "bold",

			//labelFontFamily: "Times New Roman, Times, serif",
			labelFontFamily: _utils.isCanvasSupported ? "Calibri, Optima, Candara, Verdana, Geneva, sans-serif" : "calibri",
			//labelFontFamily: "Helvetica Neue, Helvetica",
			labelFontSize: 18,
			labelFontColor: "grey",
			//labelFontWeight: "bold",
			tickColor: "#BBBBBB",
			tickThickness: 2,
			gridThickness: 2,
			gridColor: "#BBBBBB",
			lineThickness: 2,
			lineColor: "#BBBBBB"
		},
		Legend: {
			verticalAlign: "bottom",
			horizontalAlign: "center",
			fontFamily: _utils.isCanvasSupported ? "monospace, sans-serif,arial black" : "calibri"
		},
		DataSeries: {
			//bevelEnabled: true,
			indexLabelFontColor: "grey",
			//indexLabelFontFamily: "Trebuchet MS, monospace, Courier New, Courier",
			indexLabelFontFamily: _utils.isCanvasSupported ? "Calibri, Optima, Candara, Verdana, Geneva, sans-serif" : "calibri",
			//indexLabelFontWeight: "bold",
			indexLabelFontSize: 18,
			//indexLabelLineColor: "lightgrey",
			indexLabelLineThickness: 1
		}
	},

	"theme2": {
		Chart: {
			colorSet: "colorSet2"
		},
		Title: {
			fontFamily: "impact, charcoal, arial black, sans-serif",
			fontSize: 32, //fontColor: "rgb(58,58,58)",
			fontColor: "#333333",
			verticalAlign: "top",
			margin: 5
		},
		Subtitle: {
			fontFamily: "impact, charcoal, arial black, sans-serif",
			fontSize: 14, //fontColor: "rgb(58,58,58)",
			fontColor: "#333333",
			verticalAlign: "top",
			margin: 5
		},
		Axis: {
			titleFontSize: 22,
			titleFontColor: "rgb(98,98,98)",
			//titleFontFamily: "arial black",
			titleFontFamily: _utils.isCanvasSupported ? "monospace, sans-serif,arial black" : "arial",
			titleFontWeight: "bold",

			labelFontFamily: _utils.isCanvasSupported ? "monospace, Courier New, Courier" : "arial",
			//labelFontFamily: "Helvetica Neue, Helvetica",
			labelFontSize: 16,
			labelFontColor: "grey",
			labelFontWeight: "bold",
			tickColor: "grey",
			tickThickness: 2,
			gridThickness: 2,
			gridColor: "grey",
			lineColor: "grey",
			lineThickness: 0
		},
		Legend: {
			verticalAlign: "bottom",
			horizontalAlign: "center",
			fontFamily: _utils.isCanvasSupported ? "monospace, sans-serif,arial black" : "arial"
		},
		DataSeries: {
			indexLabelFontColor: "grey",
			//indexLabelFontFamily: "Trebuchet MS, monospace, Courier New, Courier",
			indexLabelFontFamily: _utils.isCanvasSupported ? "Courier New, Courier, monospace" : "arial",
			indexLabelFontWeight: "bold",
			indexLabelFontSize: 18,
			//indexLabelLineColor: "lightgrey",
			indexLabelLineThickness: 1
		}
	},

	"theme3": {
		Chart: {
			colorSet: "colorSet1"
		},
		Title: {
			fontFamily: _utils.isCanvasSupported ? "Candara, Optima, Trebuchet MS, Helvetica Neue, Helvetica, Trebuchet MS, serif" : "calibri",
			fontSize: 32,
			fontColor: "#3A3A3A",
			fontWeight: "bold",
			verticalAlign: "top",
			margin: 5
		},
		Subtitle: {
			fontFamily: _utils.isCanvasSupported ? "Candara, Optima, Trebuchet MS, Helvetica Neue, Helvetica, Trebuchet MS, serif" : "calibri",
			fontSize: 16,
			fontColor: "#3A3A3A",
			fontWeight: "bold",
			verticalAlign: "top",
			margin: 5
		},
		Axis: {
			titleFontSize: 22,
			titleFontColor: "rgb(98,98,98)",
			//titleFontFamily: "arial black",
			titleFontFamily: _utils.isCanvasSupported ? "Verdana, Geneva, Calibri, sans-serif" : "calibri",
			//titleFontWeight: "bold",

			//labelFontFamily: "Times New Roman, Times, serif",
			labelFontFamily: _utils.isCanvasSupported ? "Calibri, Optima, Candara, Verdana, Geneva, sans-serif" : "calibri",
			//labelFontFamily: "Helvetica Neue, Helvetica",
			labelFontSize: 18,
			labelFontColor: "grey",
			//labelFontWeight: "bold",
			tickColor: "grey",
			tickThickness: 2,
			gridThickness: 2,
			gridColor: "grey",
			lineThickness: 2,
			lineColor: "grey"
		},
		Legend: {
			verticalAlign: "bottom",
			horizontalAlign: "center",
			fontFamily: _utils.isCanvasSupported ? "monospace, sans-serif,arial black" : "calibri"
		},
		DataSeries: {
			bevelEnabled: true,
			indexLabelFontColor: "grey",
			//indexLabelFontFamily: "Trebuchet MS, monospace, Courier New, Courier",
			indexLabelFontFamily: _utils.isCanvasSupported ? "Candara, Optima, Calibri, Verdana, Geneva, sans-serif" : "calibri",
			//indexLabelFontWeight: "bold",
			indexLabelFontSize: 18,
			indexLabelLineColor: "lightgrey",
			indexLabelLineThickness: 2
		}
	}
};

},{"../helpers/utils":39}],25:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _animator = require('../helpers/animator');

var _animator2 = _interopRequireDefault(_animator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Animator(chart) {

  this.chart = chart;
  this.ctx = this.chart.plotArea.ctx;
  this.animations = [];
  this.animationRequestId = null;
}

//Animator.prototype.animate = function (duration, base, dest, source, animationCallback, onComplete) {
//#region Animator

Animator.prototype.animate = function (startDelay, duration, animationCallback, onComplete, easingFunction) {
  var _this = this;

  this.chart.isAnimating = true;
  easingFunction = easingFunction || _animator2.default.easing.linear;

  if (animationCallback) {

    this.animations.push({
      startTime: new Date().getTime() + (startDelay ? startDelay : 0),
      duration: duration,
      animationCallback: animationCallback,
      onComplete: onComplete
    });
  }

  var remainingAnimations = [];

  while (this.animations.length > 0) {

    var animation = this.animations.shift();
    var now = new Date().getTime();
    var fractionComplete = 0;
    //var fractionComplete = Math.min(((new Date()).getTime() - animation.startTime) / animation.duration, 1);

    if (animation.startTime <= now) {
      fractionComplete = easingFunction(Math.min(now - animation.startTime, animation.duration), 0, 1, animation.duration);
      //var fractionComplete = AnimationHelper.easing.easeOutQuad(Math.min(((new Date()).getTime() - animation.startTime), animation.duration), 0, 1, animation.duration);

      fractionComplete = Math.min(fractionComplete, 1);

      if (isNaN(fractionComplete) || !isFinite(fractionComplete)) fractionComplete = 1;
    }

    if (fractionComplete < 1) {
      remainingAnimations.push(animation);
    }

    animation.animationCallback(fractionComplete);

    if (fractionComplete >= 1 && animation.onComplete) animation.onComplete();
  }

  this.animations = remainingAnimations;

  if (this.animations.length > 0) {
    this.animationRequestId = this.chart.requestAnimFrame.call(window, function () {
      _this.animate.call(_this);
    });
  } else {
    this.chart.isAnimating = false;
  }
};

Animator.prototype.cancelAllAnimations = function () {

  this.animations = [];

  if (this.animationRequestId) {
    this.chart.cancelRequestAnimFrame.call(window, this.animationRequestId);
  }

  this.animationRequestId = null;
  this.chart.isAnimating = false;
};

exports.default = Animator;

},{"../helpers/animator":37}],26:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _canvasjs = require('./canvasjs');

var _canvasjs2 = _interopRequireDefault(_canvasjs);

var _text_block = require('./text_block');

var _text_block2 = _interopRequireDefault(_text_block);

var _utils = require('../helpers/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Axis(chart, options, type, position) {

	Axis.base.constructor.call(this, "Axis", options, chart.theme);

	this.chart = chart;
	this.canvas = chart.canvas;
	this.ctx = chart.ctx;
	this.maxWidth = 0;
	this.maxHeight = 0;
	this.intervalStartPosition = 0;
	this.labels = [];
	this._labels = null;

	//Processed information about the data that gets plotted against this axis
	this.dataInfo = {
		min: Infinity,
		max: -Infinity,
		viewPortMin: Infinity,
		viewPortMax: -Infinity,
		minDiff: Infinity // Used only in case of axisX
	};

	if (type === "axisX") {
		this.sessionVariables = this.chart.sessionVariables[type];

		if (!this._options.interval) this.intervalType = null;
	} else {
		if (position === "left" || position === "top") this.sessionVariables = this.chart.sessionVariables["axisY"];else {
			this.sessionVariables = this.chart.sessionVariables["axisY2"];
		}
	}

	if (typeof this._options.titleFontSize === "undefined") {

		this.titleFontSize = this.chart.getAutoFontSize(this.titleFontSize);

		//window.console.log("titleFontSize: " + this.titleFontSize);
	}

	if (typeof this._options.labelFontSize === "undefined") {

		this.labelFontSize = this.chart.getAutoFontSize(this.labelFontSize);

		//window.console.log("labelFontSize: " + this.labelFontSize);
	}

	//Axis Type : axisX, axisY
	this.type = type;
	if (type === "axisX" && (!options || typeof options.gridThickness === "undefined")) this.gridThickness = 0;

	this._position = position;

	this.lineCoordinates = {
		x1: null, y1: null, x2: null, y2: null, width: null
	}; //{x1:, y1:, x2:, y2:, width:}
	//
	{
		this.labelAngle = (this.labelAngle % 360 + 360) % 360;

		if (this.labelAngle > 90 && this.labelAngle <= 270) this.labelAngle -= 180;else if (this.labelAngle > 180 && this.labelAngle <= 270) this.labelAngle -= 180;else if (this.labelAngle > 270 && this.labelAngle <= 360) this.labelAngle -= 360;
	}

	if (this._options.stripLines && this._options.stripLines.length > 0) {

		this.stripLines = [];

		for (var i = 0; i < this._options.stripLines.length; i++) {
			this.stripLines.push(new StripLine(this.chart, this._options.stripLines[i], chart.theme, ++this.chart._eventManager.lastObjectId, this));
		}
	}

	this._titleTextBlock = null;

	if (!this.hasOptionChanged("viewportMinimum") && !isNaN(this.sessionVariables.newViewportMinimum) && this.sessionVariables.newViewportMinimum !== null) this.viewportMinimum = this.sessionVariables.newViewportMinimum;else this.sessionVariables.newViewportMinimum = null;

	if (!this.hasOptionChanged("viewportMaximum") && !isNaN(this.sessionVariables.newViewportMaximum) && this.sessionVariables.newViewportMaximum !== null) this.viewportMaximum = this.sessionVariables.newViewportMaximum;else this.sessionVariables.newViewportMaximum = null;

	if (this.minimum !== null && this.viewportMinimum !== null) this.viewportMinimum = Math.max(this.viewportMinimum, this.minimum);

	if (this.maximum !== null && this.viewportMaximum !== null) this.viewportMaximum = Math.min(this.viewportMaximum, this.maximum);

	this.trackChanges("viewportMinimum");
	this.trackChanges("viewportMaximum");
}

(0, _utils.extend)(Axis, _canvasjs2.default);

Axis.prototype.createLabels = function () {

	var textBlock;
	var i = 0;
	var endPoint;

	var labelMaxWidth = 0;
	var labelMaxHeight = 0;
	var intervalInPixels = 0;

	//var intervalInPixels = this.conversionParameters.pixelPerUnit * this.interval;


	if (this._position === "bottom" || this._position === "top") {
		intervalInPixels = this.lineCoordinates.width / Math.abs(this.viewportMaximum - this.viewportMinimum) * this.interval;

		if (this.labelAutoFit) {
			labelMaxWidth = typeof this._options.labelMaxWidth === "undefined" ? intervalInPixels * .9 >> 0 : this.labelMaxWidth;
		} else {
			labelMaxWidth = typeof this._options.labelMaxWidth === "undefined" ? this.chart.width * .7 >> 0 : this.labelMaxWidth;
		}

		labelMaxHeight = typeof this._options.labelWrap === "undefined" || this.labelWrap ? this.chart.height * .5 >> 0 : this.labelFontSize * 1.5;
	} else if (this._position === "left" || this._position === "right") {

		intervalInPixels = this.lineCoordinates.height / Math.abs(this.viewportMaximum - this.viewportMinimum) * this.interval;

		if (this.labelAutoFit) {
			labelMaxWidth = typeof this._options.labelMaxWidth === "undefined" ? this.chart.width * .3 >> 0 : this.labelMaxWidth;
		} else {
			labelMaxWidth = typeof this._options.labelMaxWidth === "undefined" ? this.chart.width * .5 >> 0 : this.labelMaxWidth;
		}

		labelMaxHeight = typeof this._options.labelWrap === "undefined" || this.labelWrap ? intervalInPixels * 2 >> 0 : this.labelFontSize * 1.5;
	}

	if (this.type === "axisX" && this.chart.plotInfo.axisXValueType === "dateTime") {
		endPoint = addToDateTime(new Date(this.viewportMaximum), this.interval, this.intervalType);
		//endPoint = this.viewportMaximum;

		for (i = this.intervalStartPosition; i < endPoint; addToDateTime(i, this.interval, this.intervalType)) {

			//var text = dateFormat(i, this.valueFormatString);
			var timeInMilliseconds = i.getTime();
			var text = this.labelFormatter ? this.labelFormatter({ chart: this.chart, axis: this._options, value: i, label: this.labels[i] ? this.labels[i] : null }) : this.type === "axisX" && this.labels[timeInMilliseconds] ? this.labels[timeInMilliseconds] : dateFormat(i, this.valueFormatString, this.chart._cultureInfo);

			textBlock = new _text_block2.default(this.ctx, {
				x: 0,
				y: 0,
				//maxWidth: this.maxHeight,
				//maxHeight: this.labelFontSize,
				maxWidth: labelMaxWidth,
				maxHeight: labelMaxHeight,
				angle: this.labelAngle,
				text: this.prefix + text + this.suffix,
				horizontalAlign: "left", //left, center, right
				fontSize: this.labelFontSize, //in pixels
				fontFamily: this.labelFontFamily,
				fontWeight: this.labelFontWeight, //normal, bold, bolder, lighter,
				fontColor: this.labelFontColor,
				fontStyle: this.labelFontStyle, // normal, italic, oblique
				textBaseline: "middle"
			});

			this._labels.push({ position: i.getTime(), textBlock: textBlock, effectiveHeight: null });
		}
	} else {
		endPoint = this.viewportMaximum;

		//if ((Math.floor(this.interval) < this.interval && !this._options.interval) || true) {

		//Check if it should be rendered as a category axis. If yes, then ceil the interval
		if (this.labels && this.labels.length) {
			var tempInterval = Math.ceil(this.interval);
			var tempStartPoint = Math.ceil(this.intervalStartPosition);
			var hasAllLabels = false;
			for (i = tempStartPoint; i < this.viewportMaximum; i += tempInterval) {
				if (this.labels[i]) {
					hasAllLabels = true;
				} else {
					hasAllLabels = false;
					break;
				}
			}

			if (hasAllLabels) {
				this.interval = tempInterval;
				this.intervalStartPosition = tempStartPoint;
			}
		}

		//parseFloat & toPrecision are being used to avoid issues related to precision.
		for (i = this.intervalStartPosition; i <= endPoint; i = parseFloat((i + this.interval).toFixed(14))) {

			var text = this.labelFormatter ? this.labelFormatter({ chart: this.chart, axis: this._options, value: i, label: this.labels[i] ? this.labels[i] : null }) : this.type === "axisX" && this.labels[i] ? this.labels[i] : (0, _utils.numberFormat)(i, this.valueFormatString, this.chart._cultureInfo);

			textBlock = new _text_block2.default(this.ctx, {
				x: 0,
				y: 0,
				//maxWidth: this.maxHeight,
				//maxHeight: this.labelFontSize,
				maxWidth: labelMaxWidth,
				maxHeight: labelMaxHeight,
				angle: this.labelAngle,
				text: this.prefix + text + this.suffix,
				horizontalAlign: "left", //left, center, right
				fontSize: this.labelFontSize, //in pixels
				fontFamily: this.labelFontFamily,
				fontWeight: this.labelFontWeight, //normal, bold, bolder, lighter,
				fontColor: this.labelFontColor,
				fontStyle: this.labelFontStyle, // normal, italic, oblique
				textBaseline: "middle",
				borderThickness: 0
			});

			this._labels.push({ position: i, textBlock: textBlock, effectiveHeight: null });
		}
	}

	for (var i = 0; i < this.stripLines.length; i++) {

		var stripLine = this.stripLines[i];

		textBlock = new _text_block2.default(this.ctx, {
			x: 0,
			y: 0,
			//maxWidth: this.maxHeight,
			//maxHeight: this.labelFontSize,
			backgroundColor: stripLine.labelBackgroundColor,
			maxWidth: labelMaxWidth,
			maxHeight: labelMaxHeight,
			angle: this.labelAngle,
			text: stripLine.labelFormatter ? stripLine.labelFormatter({ chart: this.chart, axis: this, stripLine: stripLine }) : stripLine.label,
			horizontalAlign: "left", //left, center, right
			fontSize: stripLine.labelFontSize, //in pixels
			fontFamily: stripLine.labelFontFamily,
			fontWeight: stripLine.labelFontWeight, //normal, bold, bolder, lighter,
			fontColor: stripLine._options.labelFontColor || stripLine.color,
			fontStyle: stripLine.labelFontStyle, // normal, italic, oblique
			textBaseline: "middle",
			borderThickness: 0
		});

		this._labels.push({ position: stripLine.value, textBlock: textBlock, effectiveHeight: null, stripLine: stripLine });
	}
};

Axis.prototype.createLabelsAndCalculateWidth = function () {

	var maxLabelEffectiveWidth = 0;
	this._labels = [];

	if (this._position === "left" || this._position === "right") {

		this.createLabels();

		for (var i = 0; i < this._labels.length; i++) {

			var textBlock = this._labels[i].textBlock;

			var size = textBlock.measureText();

			//var hypotenuse = Math.sqrt(Math.pow(size.height / 2, 2) + Math.pow(size.width, 2));
			//labelEffectiveWidth = hypotenuse * Math.cos(Math.abs(Math.PI / 180 * this.labelAngle) - Math.abs(Math.acos(size.width / hypotenuse)));

			var labelEffectiveWidth = 0;

			if (this.labelAngle === 0) labelEffectiveWidth = size.width;else labelEffectiveWidth = size.width * Math.cos(Math.PI / 180 * Math.abs(this.labelAngle)) + size.height / 2 * Math.sin(Math.PI / 180 * Math.abs(this.labelAngle));

			if (maxLabelEffectiveWidth < labelEffectiveWidth) maxLabelEffectiveWidth = labelEffectiveWidth;

			this._labels[i].effectiveWidth = labelEffectiveWidth;
		}
	}

	var titleHeight = this.title ? getFontHeightInPixels(this.titleFontFamily, this.titleFontSize, this.titleFontWeight) + 2 : 0;

	var axisWidth = titleHeight + maxLabelEffectiveWidth + this.tickLength + 5;

	//if (isDebugMode && window.console) {
	//	window.console.log(this.type + "--- axisWidth: " + axisWidth);
	//}

	return axisWidth;
};

Axis.prototype.createLabelsAndCalculateHeight = function () {
	var maxLabelEffectiveHeight = 0;
	this._labels = [];
	var textBlock;
	var i = 0;

	this.createLabels();

	if (this._position === "bottom" || this._position === "top") {

		for (i = 0; i < this._labels.length; i++) {

			textBlock = this._labels[i].textBlock;

			var size = textBlock.measureText();
			//var diagonal = Math.sqrt(Math.pow(size.height, 2) + Math.pow(size.width, 2));

			//var hypotenuse = Math.sqrt(Math.pow(size.height / 2, 2) + Math.pow(size.width, 2));
			//var labelEffectiveHeight = hypotenuse * Math.cos(Math.PI / 2 - (Math.abs(Math.PI / 180 * this.labelAngle) + Math.abs(Math.acos(size.width / hypotenuse))));

			var labelEffectiveHeight = 0;

			if (this.labelAngle === 0) labelEffectiveHeight = size.height;else labelEffectiveHeight = size.width * Math.sin(Math.PI / 180 * Math.abs(this.labelAngle)) + size.height / 2 * Math.cos(Math.PI / 180 * Math.abs(this.labelAngle));

			if (maxLabelEffectiveHeight < labelEffectiveHeight) maxLabelEffectiveHeight = labelEffectiveHeight;

			this._labels[i].effectiveHeight = labelEffectiveHeight;
		}
	}

	//var titleHeight = this.title ? this.titleFontSize + 5 : 0;
	var titleHeight = this.title ? getFontHeightInPixels(this.titleFontFamily, this.titleFontSize, this.titleFontWeight) + 2 : 0;

	return titleHeight + maxLabelEffectiveHeight + this.tickLength + 5;
};

//Static Method that co-ordinates between axisX, axisY and renders them
Axis.setLayoutAndRender = function (axisX, axisY, axisY2, axisPlacement, freeSpace) {
	var x1, y1, x2, y2;
	var chart = axisX.chart;
	var ctx = chart.ctx;

	axisX.calculateAxisParameters();

	if (axisY) axisY.calculateAxisParameters();

	if (axisY2) axisY2.calculateAxisParameters();

	//if (axisY && axisY2 && typeof (axisY._options.viewportMaximum) === "undefined" && typeof (axisY._options.viewportMinimum) === "undefined" && typeof (axisY._options.interval) === "undefined"
	//		&& typeof (axisY2._options.viewportMaximum) === "undefined" && typeof (axisY2._options.viewportMinimum) === "undefined" && typeof (axisY2._options.interval) === "undefined") {

	//	var noTicksY = (axisY.viewportMaximum - axisY.viewportMinimum) / axisY.interval;

	//	var noTicksY2 = (axisY2.viewportMaximum - axisY2.viewportMinimum) / axisY2.interval;

	//	if (noTicksY > noTicksY2) {
	//		axisY2.viewportMaximum = axisY2.interval * noTicksY + axisY2.viewportMinimum;
	//	} else if (noTicksY2 > noTicksY) {
	//		axisY.viewportMaximum = axisY.interval * noTicksY2 + axisY.viewportMinimum;
	//	}
	//}

	var axisYlineThickness = axisY ? axisY.lineThickness ? axisY.lineThickness : 0 : 0;
	var axisY2lineThickness = axisY2 ? axisY2.lineThickness ? axisY2.lineThickness : 0 : 0;

	var axisYGridThickness = axisY ? axisY.gridThickness ? axisY.gridThickness : 0 : 0;
	var axisY2GridThickness = axisY2 ? axisY2.gridThickness ? axisY2.gridThickness : 0 : 0;

	var axisYMargin = axisY ? axisY.margin : 0;
	var axisY2Margin = axisY ? axisY.margin : 0;

	if (axisPlacement === "normal") {

		axisX.lineCoordinates = {};

		var axisYWidth = Math.ceil(axisY ? axisY.createLabelsAndCalculateWidth() : 0);
		x1 = Math.round(freeSpace.x1 + axisYWidth + axisYMargin);
		axisX.lineCoordinates.x1 = x1;

		var axisY2Width = Math.ceil(axisY2 ? axisY2.createLabelsAndCalculateWidth() : 0);
		x2 = Math.round(freeSpace.x2 - axisY2Width > axisX.chart.width - 10 ? axisX.chart.width - 10 : freeSpace.x2 - axisY2Width);
		axisX.lineCoordinates.x2 = x2;

		axisX.lineCoordinates.width = Math.abs(x2 - x1); // required early on inside createLabels of axisX

		var axisXHeight = Math.ceil(axisX.createLabelsAndCalculateHeight());

		// Position axisX based on the available free space, Margin and its height
		//x1 = freeSpace.x1 + axisYWidth + axisYMargin + axisYlineThickness / 2;
		y1 = Math.round(freeSpace.y2 - axisXHeight - axisX.margin);
		y2 = Math.round(freeSpace.y2 - axisX.margin);

		//axisX.lineCoordinates = { x1: x1, y1: y1, x2: x2, y2: y1, width: Math.abs(x2 - x1) }
		axisX.lineCoordinates.y1 = y1;
		axisX.lineCoordinates.y2 = y1;

		axisX.boundingRect = {
			x1: x1, y1: y1, x2: x2, y2: y2, width: x2 - x1, height: y2 - y1
		};

		//if (isDebugMode) {
		//	axisX.ctx.rect(axisX.boundingRect.x1, axisX.boundingRect.y1, axisX.boundingRect.width, axisX.boundingRect.height);
		//	axisX.ctx.stroke();
		//}

		// Position axisY based on the available free space, Margin and its height
		if (axisY) {
			x1 = Math.round(freeSpace.x1 + axisY.margin);
			y1 = Math.round(freeSpace.y1 < 10 ? 10 : freeSpace.y1);
			x2 = Math.round(freeSpace.x1 + axisYWidth + axisY.margin);
			//y2 = freeSpace.y2 - axisXHeight - axisX.margin - axisX.lineThickness / 2;
			y2 = Math.round(freeSpace.y2 - axisXHeight - axisX.margin);

			axisY.lineCoordinates = {
				x1: x2, y1: y1, x2: x2, y2: y2, height: Math.abs(y2 - y1)
			};

			axisY.boundingRect = {
				x1: x1, y1: y1, x2: x2, y2: y2, width: x2 - x1, height: y2 - y1
			};
		}

		//if (isDebugMode && axisY) {
		//	axisY.ctx.rect(axisY.boundingRect.x1, axisY.boundingRect.y1, axisY.boundingRect.width, axisY.boundingRect.height);
		//	axisY.ctx.stroke();
		//}

		// Position axisY2 based on the available free space, Margin and its height
		if (axisY2) {
			x1 = Math.round(axisX.lineCoordinates.x2);
			y1 = Math.round(freeSpace.y1 < 10 ? 10 : freeSpace.y1);
			x2 = Math.round(x1 + axisY2Width + axisY2.margin);
			//y2 = freeSpace.y2 - axisXHeight - axisX.margin - axisX.lineThickness / 2;
			y2 = Math.round(freeSpace.y2 - axisXHeight - axisX.margin);

			axisY2.lineCoordinates = {
				x1: x1, y1: y1, x2: x1, y2: y2, height: Math.abs(y2 - y1)
			};

			axisY2.boundingRect = {
				x1: x1, y1: y1, x2: x2, y2: y2, width: x2 - x1, height: y2 - y1
			};
		}

		axisX.calculateValueToPixelConversionParameters();

		if (axisY) axisY.calculateValueToPixelConversionParameters();

		if (axisY2) axisY2.calculateValueToPixelConversionParameters();

		ctx.save();
		ctx.rect(5, axisX.boundingRect.y1, axisX.chart.width - 10, axisX.boundingRect.height);
		ctx.clip();

		axisX.renderLabelsTicksAndTitle();
		ctx.restore();

		if (axisY) axisY.renderLabelsTicksAndTitle();

		if (axisY2) axisY2.renderLabelsTicksAndTitle();

		chart.preparePlotArea();
		var plotArea = axisX.chart.plotArea;

		ctx.save();

		ctx.rect(plotArea.x1, plotArea.y1, Math.abs(plotArea.x2 - plotArea.x1), Math.abs(plotArea.y2 - plotArea.y1));

		ctx.clip();

		axisX.renderStripLinesOfThicknessType("value");

		if (axisY) axisY.renderStripLinesOfThicknessType("value");

		if (axisY2) axisY2.renderStripLinesOfThicknessType("value");

		axisX.renderInterlacedColors();

		if (axisY) axisY.renderInterlacedColors();

		if (axisY2) axisY2.renderInterlacedColors();

		ctx.restore();

		axisX.renderGrid();

		if (axisY) axisY.renderGrid();

		if (axisY2) axisY2.renderGrid();

		axisX.renderAxisLine();

		if (axisY) axisY.renderAxisLine();

		if (axisY2) axisY2.renderAxisLine();

		//No need to clip to plotArea because stripLines need to render on top of gridlines
		axisX.renderStripLinesOfThicknessType("pixel");

		if (axisY) axisY.renderStripLinesOfThicknessType("pixel");

		if (axisY2) axisY2.renderStripLinesOfThicknessType("pixel");
	} else {
		var axisXWidth = Math.ceil(axisX.createLabelsAndCalculateWidth());

		if (axisY) {
			axisY.lineCoordinates = {};

			x1 = Math.round(freeSpace.x1 + axisXWidth + axisX.margin);
			x2 = Math.round(freeSpace.x2 > axisY.chart.width - 10 ? axisY.chart.width - 10 : freeSpace.x2);

			axisY.lineCoordinates.x1 = x1;
			axisY.lineCoordinates.x2 = x2;
			axisY.lineCoordinates.width = Math.abs(x2 - x1);
		}

		if (axisY2) {
			axisY2.lineCoordinates = {};
			x1 = Math.round(freeSpace.x1 + axisXWidth + axisX.margin);
			x2 = Math.round(freeSpace.x2 > axisY2.chart.width - 10 ? axisY2.chart.width - 10 : freeSpace.x2);

			axisY2.lineCoordinates.x1 = x1;
			axisY2.lineCoordinates.x2 = x2;
			axisY2.lineCoordinates.width = Math.abs(x2 - x1);
		}

		var axisYHeight = Math.ceil(axisY ? axisY.createLabelsAndCalculateHeight() : 0);
		var axisY2Height = Math.ceil(axisY2 ? axisY2.createLabelsAndCalculateHeight() : 0);

		// Position axisY based on the available free space, Margin and its height
		if (axisY) {
			//x1 = freeSpace.x1 + axisXWidth + axisX.margin + axisX.lineThickness / 2;
			//x2 = freeSpace.x2 > axisY.chart.width - 10 ? axisY.chart.width - 10 : freeSpace.x2;

			y1 = Math.round(freeSpace.y2 - axisYHeight - axisY.margin);
			y2 = Math.round(freeSpace.y2 - axisYMargin > axisY.chart.height - 10 ? axisY.chart.height - 10 : freeSpace.y2 - axisYMargin);

			//axisY.lineCoordinates = { x1: x1, y1: y1, x2: x2, y2: y1, width: Math.abs(x2 - x1) }
			axisY.lineCoordinates.y1 = y1;
			axisY.lineCoordinates.y2 = y1;

			axisY.boundingRect = {
				x1: x1, y1: y1, x2: x2, y2: y2, width: x2 - x1, height: axisYHeight
			};
		}

		// Position axisY based on the available free space, Margin and its height
		if (axisY2) {
			//x1 = freeSpace.x1 + axisXWidth + axisX.margin + axisX.lineThickness / 2;
			//x2 = freeSpace.x2 > axisY2.chart.width - 10 ? axisY2.chart.width - 10 : freeSpace.x2;

			y1 = Math.round(freeSpace.y1 + axisY2.margin);
			y2 = freeSpace.y1 + axisY2.margin + axisY2Height;

			//axisY2.lineCoordinates = { x1: x1, y1: y2, x2: x2, y2: y2, width: Math.abs(x2 - x1) }
			axisY2.lineCoordinates.y1 = y2;
			axisY2.lineCoordinates.y2 = y2;

			axisY2.boundingRect = {
				x1: x1, y1: y1, x2: x2, y2: y2, width: x2 - x1, height: axisY2Height
			};
		}

		//axisY.ctx.rect(axisY.boundingRect.x1, axisY.boundingRect.y1, axisY.boundingRect.width, axisY.boundingRect.height);
		//axisY.ctx.stroke();

		// Position axisX based on the available free space, Margin and its height
		x1 = Math.round(freeSpace.x1 + axisX.margin);
		y1 = Math.round(axisY2 ? axisY2.lineCoordinates.y2 : freeSpace.y1 < 10 ? 10 : freeSpace.y1);
		x2 = Math.round(freeSpace.x1 + axisXWidth + axisX.margin);
		y2 = Math.round(axisY ? axisY.lineCoordinates.y1 : freeSpace.y2 - axisYMargin > axisX.chart.height - 10 ? axisX.chart.height - 10 : freeSpace.y2 - axisYMargin);

		axisX.lineCoordinates = {
			x1: x2, y1: y1, x2: x2, y2: y2, height: Math.abs(y2 - y1)
		};

		axisX.boundingRect = {
			x1: x1, y1: y1, x2: x2, y2: y2, width: x2 - x1, height: y2 - y1
		};

		//axisX.ctx.rect(axisX.boundingRect.x1, axisX.boundingRect.y1, axisX.boundingRect.width, axisX.boundingRect.height);
		//axisX.ctx.stroke();

		axisX.calculateValueToPixelConversionParameters();

		if (axisY) axisY.calculateValueToPixelConversionParameters();
		if (axisY2) axisY2.calculateValueToPixelConversionParameters();

		//ctx.save();
		//ctx.rect(axisY.boundingRect.x1 - 30, axisY.boundingRect.y1, axisY.boundingRect.width + 60, axisY.boundingRect.height);
		//ctx.clip();

		if (axisY) axisY.renderLabelsTicksAndTitle();

		if (axisY2) axisY2.renderLabelsTicksAndTitle();

		//ctx.restore();

		axisX.renderLabelsTicksAndTitle();

		chart.preparePlotArea();
		var plotArea = axisX.chart.plotArea;

		ctx.save();
		ctx.rect(plotArea.x1, plotArea.y1, Math.abs(plotArea.x2 - plotArea.x1), Math.abs(plotArea.y2 - plotArea.y1));

		ctx.clip();

		//No need to clip to plotArea because stripLines need to render on top of gridlines
		axisX.renderStripLinesOfThicknessType("value");

		if (axisY) axisY.renderStripLinesOfThicknessType("value");
		if (axisY2) axisY2.renderStripLinesOfThicknessType("value");

		axisX.renderInterlacedColors();

		if (axisY) axisY.renderInterlacedColors();
		if (axisY2) axisY2.renderInterlacedColors();

		ctx.restore();

		axisX.renderGrid();

		if (axisY) axisY.renderGrid();

		if (axisY2) axisY2.renderGrid();

		axisX.renderAxisLine();

		if (axisY) axisY.renderAxisLine();

		if (axisY2) axisY2.renderAxisLine();

		axisX.renderStripLinesOfThicknessType("pixel");

		if (axisY) axisY.renderStripLinesOfThicknessType("pixel");
		if (axisY2) axisY2.renderStripLinesOfThicknessType("pixel");
	}
};

Axis.prototype.renderLabelsTicksAndTitle = function () {

	var skipLabels = false;
	var totalLabelWidth = 0;
	var thresholdRatio = 1;
	var labelCount = 0;

	var intervalInPixels = this.conversionParameters.pixelPerUnit * this.interval;

	if (this.labelAngle !== 0 && this.labelAngle !== 360) thresholdRatio = 1.2;

	//Don't skip labels when interval is explicitely set
	if (typeof this._options.interval === "undefined") {
		if (this._position === "bottom" || this._position === "top") {

			//thresholdRatio = .9;// More space is preferred between labels when axis is horizontally aligned

			for (i = 0; i < this._labels.length; i++) {
				label = this._labels[i];
				if (label.position < this.viewportMinimum || label.stripLine) // don't consider stripLine's lable
					continue;

				var width = label.textBlock.width * Math.cos(Math.PI / 180 * this.labelAngle) + label.textBlock.height * Math.sin(Math.PI / 180 * this.labelAngle);

				totalLabelWidth += width;
			}

			if (totalLabelWidth > this.lineCoordinates.width * thresholdRatio) {
				skipLabels = true;
			}
		}if (this._position === "left" || this._position === "right") {
			for (i = 0; i < this._labels.length; i++) {
				label = this._labels[i];
				if (label.position < this.viewportMinimum || label.stripLine) // don't consider stripLine's lable
					continue;

				var width = label.textBlock.height * Math.cos(Math.PI / 180 * this.labelAngle) + label.textBlock.width * Math.sin(Math.PI / 180 * this.labelAngle);

				totalLabelWidth += width;
			}

			if (totalLabelWidth > this.lineCoordinates.height * thresholdRatio) {
				skipLabels = true;
			}
		}
	}

	if (this._position === "bottom") {
		var i = 0;

		var label;
		var xy;

		for (i = 0; i < this._labels.length; i++) {

			label = this._labels[i];
			if (label.position < this.viewportMinimum || label.position > this.viewportMaximum) continue;

			xy = this.getPixelCoordinatesOnAxis(label.position);

			if (this.tickThickness && !this._labels[i].stripLine || this._labels[i].stripLine && this._labels[i].stripLine._thicknessType === "pixel") {

				if (this._labels[i].stripLine) {
					stripLine = this._labels[i].stripLine;
					this.ctx.lineWidth = stripLine.thickness;
					this.ctx.strokeStyle = stripLine.color;
				} else {
					this.ctx.lineWidth = this.tickThickness;
					this.ctx.strokeStyle = this.tickColor;
				}

				var tickX = this.ctx.lineWidth % 2 === 1 ? (xy.x << 0) + .5 : xy.x << 0;
				this.ctx.beginPath();
				this.ctx.moveTo(tickX, xy.y << 0);
				this.ctx.lineTo(tickX, xy.y + this.tickLength << 0);
				this.ctx.stroke();
			}

			//Don't skip stripLine's labels
			if (skipLabels && labelCount++ % 2 !== 0 && !this._labels[i].stripLine) continue;

			if (label.textBlock.angle === 0) {
				xy.x -= label.textBlock.width / 2;
				//xy.y += this.tickLength + label.textBlock.height / 2;
				xy.y += this.tickLength + label.textBlock.fontSize / 2;
			} else {
				xy.x -= this.labelAngle < 0 ? label.textBlock.width * Math.cos(Math.PI / 180 * this.labelAngle) : 0;
				xy.y += this.tickLength + Math.abs(this.labelAngle < 0 ? label.textBlock.width * Math.sin(Math.PI / 180 * this.labelAngle) - 5 : 5);
			}
			label.textBlock.x = xy.x;
			label.textBlock.y = xy.y;

			label.textBlock.render(true);
		}

		if (this.title) {

			this._titleTextBlock = new _text_block2.default(this.ctx, {
				x: this.lineCoordinates.x1, // This is recalculated again
				y: this.boundingRect.y2 - this.titleFontSize - 5, // This is recalculated again
				maxWidth: this.lineCoordinates.width,
				maxHeight: this.titleFontSize * 1.5,
				angle: 0,
				text: this.title,
				horizontalAlign: "center", //left, center, right
				fontSize: this.titleFontSize, //in pixels
				fontFamily: this.titleFontFamily,
				fontWeight: this.titleFontWeight, //normal, bold, bolder, lighter,
				fontColor: this.titleFontColor,
				fontStyle: this.titleFontStyle, // normal, italic, oblique
				textBaseline: "top"
			});

			this._titleTextBlock.measureText();
			this._titleTextBlock.x = this.lineCoordinates.x1 + this.lineCoordinates.width / 2 - this._titleTextBlock.width / 2;
			this._titleTextBlock.y = this.boundingRect.y2 - this._titleTextBlock.height - 3;
			this._titleTextBlock.render(true);
		}
	} else if (this._position === "top") {
		var i = 0;

		var label;
		var xy;
		var stripLine;

		for (i = 0; i < this._labels.length; i++) {
			label = this._labels[i];
			if (label.position < this.viewportMinimum || label.position > this.viewportMaximum) continue;

			xy = this.getPixelCoordinatesOnAxis(label.position);

			if (this.tickThickness && !this._labels[i].stripLine || this._labels[i].stripLine && this._labels[i].stripLine._thicknessType === "pixel") {

				if (this._labels[i].stripLine) {
					stripLine = this._labels[i].stripLine;

					this.ctx.lineWidth = stripLine.thickness;
					this.ctx.strokeStyle = stripLine.color;
				} else {
					this.ctx.lineWidth = this.tickThickness;
					this.ctx.strokeStyle = this.tickColor;
				}

				var tickX = this.ctx.lineWidth % 2 === 1 ? (xy.x << 0) + .5 : xy.x << 0;
				this.ctx.beginPath();
				this.ctx.moveTo(tickX, xy.y << 0);
				this.ctx.lineTo(tickX, xy.y - this.tickLength << 0);
				this.ctx.stroke();
			}

			//Don't skip stripLine's labels
			if (skipLabels && labelCount++ % 2 !== 0 && !this._labels[i].stripLine) continue;

			if (label.textBlock.angle === 0) {
				xy.x -= label.textBlock.width / 2;
				xy.y -= this.tickLength + label.textBlock.height / 2;
			} else {
				xy.x -= this.labelAngle > 0 ? label.textBlock.width * Math.cos(Math.PI / 180 * this.labelAngle) : 0;
				xy.y -= this.tickLength + Math.abs(this.labelAngle > 0 ? label.textBlock.width * Math.sin(Math.PI / 180 * this.labelAngle) + 5 : 5);
			}
			label.textBlock.x = xy.x;
			label.textBlock.y = xy.y;

			label.textBlock.render(true);
		}

		if (this.title) {

			this._titleTextBlock = new _text_block2.default(this.ctx, {
				x: this.lineCoordinates.x1, // This is recalculated again
				y: this.boundingRect.y1 + 1,
				maxWidth: this.lineCoordinates.width,
				maxHeight: this.titleFontSize * 1.5,
				angle: 0,
				text: this.title,
				horizontalAlign: "center", //left, center, right
				fontSize: this.titleFontSize, //in pixels
				fontFamily: this.titleFontFamily,
				fontWeight: this.titleFontWeight, //normal, bold, bolder, lighter,
				fontColor: this.titleFontColor,
				fontStyle: this.titleFontStyle, // normal, italic, oblique
				textBaseline: "top"
			});

			this._titleTextBlock.measureText();
			this._titleTextBlock.x = this.lineCoordinates.x1 + this.lineCoordinates.width / 2 - this._titleTextBlock.width / 2;
			this._titleTextBlock.render(true);
		}
	} else if (this._position === "left") {

		var label;
		var xy;
		for (var i = 0; i < this._labels.length; i++) {
			label = this._labels[i];
			if (label.position < this.viewportMinimum || label.position > this.viewportMaximum) continue;

			xy = this.getPixelCoordinatesOnAxis(label.position);

			if (this.tickThickness && !this._labels[i].stripLine || this._labels[i].stripLine && this._labels[i].stripLine._thicknessType === "pixel") {

				if (this._labels[i].stripLine) {
					stripLine = this._labels[i].stripLine;

					this.ctx.lineWidth = stripLine.thickness;
					this.ctx.strokeStyle = stripLine.color;
				} else {
					this.ctx.lineWidth = this.tickThickness;
					this.ctx.strokeStyle = this.tickColor;
				}

				var tickY = this.ctx.lineWidth % 2 === 1 ? (xy.y << 0) + .5 : xy.y << 0;
				this.ctx.beginPath();
				this.ctx.moveTo(xy.x << 0, tickY);
				this.ctx.lineTo(xy.x - this.tickLength << 0, tickY);
				this.ctx.stroke();
			}

			//Don't skip stripLine's labels
			if (skipLabels && labelCount++ % 2 !== 0 && !this._labels[i].stripLine) continue;

			label.textBlock.x = xy.x - label.textBlock.width * Math.cos(Math.PI / 180 * this.labelAngle) - this.tickLength - 5;

			if (this.labelAngle === 0) {
				label.textBlock.y = xy.y;
			} else label.textBlock.y = xy.y - label.textBlock.width * Math.sin(Math.PI / 180 * this.labelAngle);

			label.textBlock.render(true);
		}

		if (this.title) {

			this._titleTextBlock = new _text_block2.default(this.ctx, {
				x: this.boundingRect.x1 + 1,
				y: this.lineCoordinates.y2,
				maxWidth: this.lineCoordinates.height,
				maxHeight: this.titleFontSize * 1.5,
				angle: -90,
				text: this.title,
				horizontalAlign: "center", //left, center, right
				fontSize: this.titleFontSize, //in pixels
				fontFamily: this.titleFontFamily,
				fontWeight: this.titleFontWeight, //normal, bold, bolder, lighter,
				fontColor: this.titleFontColor,
				fontStyle: this.titleFontStyle, // normal, italic, oblique
				textBaseline: "top"
			});

			var size = this._titleTextBlock.measureText();

			//this._titleTextBlock.x -= 4;

			this._titleTextBlock.y = this.lineCoordinates.height / 2 + this._titleTextBlock.width / 2 + this.lineCoordinates.y1;
			this._titleTextBlock.render(true);

			//if (isDebugMode) {
			//	window.console.log("titleFontSize: " + this.titleFontSize + "; width: " + size.width + "; height: " + size.height);
			//	window.console.log("this.boundingRect.x1: " + this.boundingRect.x1);

			//	//this.ctx.rect(this._titleTextBlock.x, this._titleTextBlock.y, this._titleTextBlock.height, -this._titleTextBlock.width);
			//	//this.ctx.stroke();

			//}
		}
	} else if (this._position === "right") {

		var label;
		var xy;

		for (var i = 0; i < this._labels.length; i++) {
			label = this._labels[i];
			if (label.position < this.viewportMinimum || label.position > this.viewportMaximum) continue;

			xy = this.getPixelCoordinatesOnAxis(label.position);

			if (this.tickThickness && !this._labels[i].stripLine || this._labels[i].stripLine && this._labels[i].stripLine._thicknessType === "pixel") {

				if (this._labels[i].stripLine) {
					stripLine = this._labels[i].stripLine;

					this.ctx.lineWidth = stripLine.thickness;
					this.ctx.strokeStyle = stripLine.color;
				} else {
					this.ctx.lineWidth = this.tickThickness;
					this.ctx.strokeStyle = this.tickColor;
				}

				var tickY = this.ctx.lineWidth % 2 === 1 ? (xy.y << 0) + .5 : xy.y << 0;
				this.ctx.beginPath();
				this.ctx.moveTo(xy.x << 0, tickY);
				this.ctx.lineTo(xy.x + this.tickLength << 0, tickY);
				this.ctx.stroke();
			}

			//Don't skip stripLine's labels
			if (skipLabels && labelCount++ % 2 !== 0 && !this._labels[i].stripLine) continue;

			label.textBlock.x = xy.x + this.tickLength + 5;
			//label.textBlock.y = xy.y - (label.textBlock.width * Math.sin(Math.PI / 180 * this.labelAngle));
			if (this.labelAngle === 0) {
				label.textBlock.y = xy.y;
			} else label.textBlock.y = xy.y;

			label.textBlock.render(true);
		}

		if (this.title) {

			this._titleTextBlock = new _text_block2.default(this.ctx, {
				x: this.boundingRect.x2 - 1,
				y: this.lineCoordinates.y2,
				maxWidth: this.lineCoordinates.height,
				maxHeight: this.titleFontSize * 1.5,
				angle: 90,
				text: this.title,
				horizontalAlign: "center", //left, center, right
				fontSize: this.titleFontSize, //in pixels
				fontFamily: this.titleFontFamily,
				fontWeight: this.titleFontWeight, //normal, bold, bolder, lighter,
				fontColor: this.titleFontColor,
				fontStyle: this.titleFontStyle, // normal, italic, oblique
				textBaseline: "top"
			});

			this._titleTextBlock.measureText();
			this._titleTextBlock.y = this.lineCoordinates.height / 2 - this._titleTextBlock.width / 2 + this.lineCoordinates.y1;
			this._titleTextBlock.render(true);
		}
	}
};

Axis.prototype.renderInterlacedColors = function () {
	var ctx = this.chart.plotArea.ctx;
	//return;

	var interlacedGridStartPoint;
	var interlacedGridEndPoint;
	var plotAreaCoordinates = this.chart.plotArea;
	var i = 0,
	    renderInterlacedGrid = true;

	if ((this._position === "bottom" || this._position === "top") && this.interlacedColor) {

		ctx.fillStyle = this.interlacedColor;

		for (i = 0; i < this._labels.length; i++) {

			if (this._labels[i].stripLine) continue;

			if (renderInterlacedGrid) {
				//So that the interlaced color alternates
				interlacedGridStartPoint = this.getPixelCoordinatesOnAxis(this._labels[i].position);

				if (i + 1 >= this._labels.length - 1) interlacedGridEndPoint = this.getPixelCoordinatesOnAxis(this.viewportMaximum);else interlacedGridEndPoint = this.getPixelCoordinatesOnAxis(this._labels[i + 1].position);

				ctx.fillRect(interlacedGridStartPoint.x, plotAreaCoordinates.y1, Math.abs(interlacedGridEndPoint.x - interlacedGridStartPoint.x), Math.abs(plotAreaCoordinates.y1 - plotAreaCoordinates.y2));
				renderInterlacedGrid = false;
			} else renderInterlacedGrid = true;
		}
	} else if ((this._position === "left" || this._position === "right") && this.interlacedColor) {

		ctx.fillStyle = this.interlacedColor;

		for (i = 0; i < this._labels.length; i++) {
			if (this._labels[i].stripLine) continue;

			if (renderInterlacedGrid) {
				//So that the interlaced color alternates

				interlacedGridEndPoint = this.getPixelCoordinatesOnAxis(this._labels[i].position);

				if (i + 1 >= this._labels.length - 1) interlacedGridStartPoint = this.getPixelCoordinatesOnAxis(this.viewportMaximum);else interlacedGridStartPoint = this.getPixelCoordinatesOnAxis(this._labels[i + 1].position);

				ctx.fillRect(plotAreaCoordinates.x1, interlacedGridStartPoint.y, Math.abs(plotAreaCoordinates.x1 - plotAreaCoordinates.x2), Math.abs(interlacedGridStartPoint.y - interlacedGridEndPoint.y));
				renderInterlacedGrid = false;
			} else renderInterlacedGrid = true;
		}
		//throw "123";
	}

	ctx.beginPath();
};

//Renders stripLines of given thickness type.
Axis.prototype.renderStripLinesOfThicknessType = function (thicknessType) {

	if (!(this.stripLines && this.stripLines.length > 0) || !thicknessType) return;

	var _this = this;

	var i = 0;
	for (i = 0; i < this.stripLines.length; i++) {

		var stripLine = this.stripLines[i];

		if (stripLine._thicknessType !== thicknessType) continue;

		//Should be skipped only if thicknessType is "pixel". If it is "value" then clipping is automatically applied before calling.
		if (thicknessType === "pixel" && (stripLine.value < this.viewportMinimum || stripLine.value > this.viewportMaximum)) continue;

		if (stripLine.showOnTop) {
			this.chart.addEventListener("dataAnimationIterationEnd", stripLine.render, stripLine);
		} else stripLine.render();
	}
};

Axis.prototype.renderGrid = function () {

	if (!(this.gridThickness && this.gridThickness > 0)) return;

	//var ctx = this.chart.plotArea.ctx;
	var ctx = this.chart.ctx;

	var xy;
	var plotAreaCoordinates = this.chart.plotArea;
	var stripLine;
	var tempLineWidth, tempStrokeStyle;
	//return;

	ctx.lineWidth = this.gridThickness;
	ctx.strokeStyle = this.gridColor;

	if (ctx.setLineDash) {
		ctx.setLineDash((0, _utils.getLineDashArray)(this.gridDashType, this.gridThickness));
	}

	if (this._position === "bottom" || this._position === "top") {

		for (i = 0; i < this._labels.length && !this._labels[i].stripLine; i++) {

			if (this._labels[i].position < this.viewportMinimum || this._labels[i].position > this.viewportMaximum) continue;

			ctx.beginPath();

			xy = this.getPixelCoordinatesOnAxis(this._labels[i].position);

			var gridX = ctx.lineWidth % 2 === 1 ? (xy.x << 0) + .5 : xy.x << 0;

			ctx.moveTo(gridX, plotAreaCoordinates.y1 << 0);
			ctx.lineTo(gridX, plotAreaCoordinates.y2 << 0);

			ctx.stroke();
		}
	} else if (this._position === "left" || this._position === "right") {

		for (var i = 0; i < this._labels.length && !this._labels[i].stripLine; i++) {

			if (i === 0 && this.type === "axisY" && this.chart.axisX && this.chart.axisX.lineThickness) continue;

			if (this._labels[i].position < this.viewportMinimum || this._labels[i].position > this.viewportMaximum) continue;

			ctx.beginPath();

			xy = this.getPixelCoordinatesOnAxis(this._labels[i].position);

			var gridY = ctx.lineWidth % 2 === 1 ? (xy.y << 0) + .5 : xy.y << 0;

			ctx.moveTo(plotAreaCoordinates.x1 << 0, gridY);
			ctx.lineTo(plotAreaCoordinates.x2 << 0, gridY);

			ctx.stroke();
		}
	}
};

Axis.prototype.renderAxisLine = function () {
	//var ctx = this.chart.plotArea.ctx;
	var ctx = this.chart.ctx;

	if (this._position === "bottom" || this._position === "top") {
		if (this.lineThickness) {
			ctx.lineWidth = this.lineThickness;
			ctx.strokeStyle = this.lineColor ? this.lineColor : "black";

			if (ctx.setLineDash) {
				ctx.setLineDash((0, _utils.getLineDashArray)(this.lineDashType, this.lineThickness));
			}

			var lineY = this.lineThickness % 2 === 1 ? (this.lineCoordinates.y1 << 0) + .5 : this.lineCoordinates.y1 << 0;

			ctx.beginPath();
			ctx.moveTo(this.lineCoordinates.x1, lineY);
			ctx.lineTo(this.lineCoordinates.x2, lineY);
			ctx.stroke();
		}
	} else if (this._position === "left" || this._position === "right") {
		if (this.lineThickness) {
			ctx.lineWidth = this.lineThickness;
			ctx.strokeStyle = this.lineColor;

			if (ctx.setLineDash) {
				ctx.setLineDash((0, _utils.getLineDashArray)(this.lineDashType, this.lineThickness));
			}

			var lineX = this.lineThickness % 2 === 1 ? (this.lineCoordinates.x1 << 0) + .5 : this.lineCoordinates.x1 << 0;

			ctx.beginPath();
			ctx.moveTo(lineX, this.lineCoordinates.y1);
			ctx.lineTo(lineX, this.lineCoordinates.y2);
			ctx.stroke();
		}
	}
};

Axis.prototype.getPixelCoordinatesOnAxis = function (value) {
	var xy = {};
	var width = this.lineCoordinates.width;
	var height = this.lineCoordinates.height;

	if (this._position === "bottom" || this._position === "top") {
		//var pixelPerUnit = width / Math.abs(this.viewportMaximum - this.viewportMinimum);
		var pixelPerUnit = this.conversionParameters.pixelPerUnit;

		//xy.x = this.lineCoordinates.x1 + (pixelPerUnit * (value - this.viewportMinimum));
		xy.x = this.conversionParameters.reference + pixelPerUnit * (value - this.viewportMinimum);
		xy.y = this.lineCoordinates.y1;
	}
	if (this._position === "left" || this._position === "right") {
		//var pixelPerUnit = height / Math.abs(this.viewportMaximum - this.viewportMinimum);
		var pixelPerUnit = -this.conversionParameters.pixelPerUnit;

		//xy.y = this.lineCoordinates.y2 - (pixelPerUnit * (value - this.viewportMinimum));
		xy.y = this.conversionParameters.reference - pixelPerUnit * (value - this.viewportMinimum);
		xy.x = this.lineCoordinates.x2;
	}

	return xy;
};

Axis.prototype.convertPixelToValue = function (pixel) {

	if (!pixel) return null;

	var value = 0;
	var p = this._position === "left" || this._position === "right" ? pixel.y : pixel.x;

	value = this.conversionParameters.minimum + (p - this.conversionParameters.reference) / this.conversionParameters.pixelPerUnit;

	return value;
};

Axis.prototype.setViewPortRange = function (viewportMinimum, viewportMaximum) {

	this.sessionVariables.newViewportMinimum = this.viewportMinimum = Math.min(viewportMinimum, viewportMaximum);
	this.sessionVariables.newViewportMaximum = this.viewportMaximum = Math.max(viewportMinimum, viewportMaximum);
};

Axis.prototype.getXValueAt = function (pixel) {
	if (!pixel) return null;

	var xval = null;

	if (this._position === "left") {
		xval = (this.chart.axisX.viewportMaximum - this.chart.axisX.viewportMinimum) / this.chart.axisX.lineCoordinates.height * (this.chart.axisX.lineCoordinates.y2 - pixel.y) + this.chart.axisX.viewportMinimum;
	} else if (this._position === "bottom") {
		xval = (this.chart.axisX.viewportMaximum - this.chart.axisX.viewportMinimum) / this.chart.axisX.lineCoordinates.width * (pixel.x - this.chart.axisX.lineCoordinates.x1) + this.chart.axisX.viewportMinimum;
	}

	return xval;
};

Axis.prototype.calculateValueToPixelConversionParameters = function (value) {
	this.reversed = false;

	var conversionParameters = {
		pixelPerUnit: null, minimum: null, reference: null
	};

	var width = this.lineCoordinates.width;
	var height = this.lineCoordinates.height;

	conversionParameters.minimum = this.viewportMinimum;

	if (this._position === "bottom" || this._position === "top") {
		conversionParameters.pixelPerUnit = (this.reversed ? -1 : 1) * width / Math.abs(this.viewportMaximum - this.viewportMinimum);
		conversionParameters.reference = this.reversed ? this.lineCoordinates.x2 : this.lineCoordinates.x1;
	}

	if (this._position === "left" || this._position === "right") {
		conversionParameters.pixelPerUnit = (this.reversed ? 1 : -1) * height / Math.abs(this.viewportMaximum - this.viewportMinimum);
		conversionParameters.reference = this.reversed ? this.lineCoordinates.y1 : this.lineCoordinates.y2;
	}

	this.conversionParameters = conversionParameters;
};

Axis.prototype.calculateAxisParameters = function () {

	var freeSpace = this.chart.layoutManager.getFreeSpace();
	var availableWidth = 0;
	var availableHeight = 0;
	var isLessThanTwoDataPoints = false;

	if (this._position === "bottom" || this._position === "top") {
		this.maxWidth = freeSpace.width;
		this.maxHeight = freeSpace.height;
	} else {
		this.maxWidth = freeSpace.height;
		this.maxHeight = freeSpace.width;
	}

	var noTicks = this.type === "axisX" ? this.maxWidth < 500 ? 8 : Math.max(6, Math.floor(this.maxWidth / 62)) : Math.max(Math.floor(this.maxWidth / 40), 2);
	var min, max;
	var minDiff;
	var range;
	var rangePadding = 0;

	if (this.viewportMinimum === null || isNaN(this.viewportMinimum)) this.viewportMinimum = this.minimum;

	if (this.viewportMaximum === null || isNaN(this.viewportMaximum)) this.viewportMaximum = this.maximum;

	if (this.type === "axisX") {
		min = this.viewportMinimum !== null ? this.viewportMinimum : this.dataInfo.viewPortMin;
		max = this.viewportMaximum !== null ? this.viewportMaximum : this.dataInfo.viewPortMax;

		if (max - min === 0) {
			rangePadding = typeof this._options.interval === "undefined" ? .4 : this._options.interval;

			max += rangePadding;
			min -= rangePadding;
		}

		if (this.dataInfo.minDiff !== Infinity) minDiff = this.dataInfo.minDiff;else if (max - min > 1) {
			minDiff = Math.abs(max - min) * .5;
		} else {
			minDiff = 1;

			if (this.chart.plotInfo.axisXValueType === "dateTime") isLessThanTwoDataPoints = true;
		}
	} else if (this.type === "axisY") {

		//min = typeof (this._options.viewportMinimum) === "undefined" || this._options.viewportMinimum === null ? this.dataInfo.viewPortMin : this._options.viewportMinimum;
		//max = typeof (this._options.viewportMaximum) === "undefined" || this._options.viewportMaximum === null ? this.dataInfo.viewPortMax : this._options.viewportMaximum;
		min = this.viewportMinimum !== null ? this.viewportMinimum : this.dataInfo.viewPortMin;
		max = this.viewportMaximum !== null ? this.viewportMaximum : this.dataInfo.viewPortMax;

		if (!isFinite(min) && !isFinite(max)) {
			max = typeof this._options.interval === "undefined" ? -Infinity : this._options.interval;
			min = 0;
		} else if (!isFinite(min)) {
			min = max;
		} else if (!isFinite(max)) {
			max = min;
		}

		if (min === 0 && max === 0) {
			// When all dataPoints are zero
			max += 9;
			min = 0;
		} else if (max - min === 0) {
			// When there is only a single dataPoint or when all dataPoints have same Y Value
			rangePadding = Math.min(Math.abs(Math.abs(max) * .01), 5);
			max += rangePadding;
			min -= rangePadding;
		} else if (min > max) {
			rangePadding = Math.min(Math.abs(Math.abs(max - min) * .01), 5);

			if (max >= 0) min = max - rangePadding;else max = min + rangePadding;
		} else {

			rangePadding = Math.min(Math.abs(Math.abs(max - min) * .01), .05);

			if (max !== 0) max += rangePadding;
			if (min !== 0) min -= rangePadding;
		}

		if (this.dataInfo.minDiff !== Infinity) minDiff = this.dataInfo.minDiff;else if (max - min > 1) {
			minDiff = Math.abs(max - min) * .5;
		} else {
			minDiff = 1;
		}

		//Apply includeZero
		if (this.includeZero && (this.viewportMinimum === null || isNaN(this.viewportMinimum))) {
			if (min > 0) min = 0;
		}
		if (this.includeZero && (this.viewportMaximum === null || isNaN(this.viewportMaximum))) {
			if (max < 0) max = 0;
		}
	}

	range = (isNaN(this.viewportMaximum) || this.viewportMaximum === null ? max : this.viewportMaximum) - (isNaN(this.viewportMinimum) || this.viewportMinimum === null ? min : this.viewportMinimum);

	if (this.type === "axisX" && this.chart.plotInfo.axisXValueType === "dateTime") {

		if (!this.intervalType) {

			if (range / (1 * 1) <= noTicks) {
				this.interval = 1;
				this.intervalType = "millisecond";
			} else if (range / (1 * 2) <= noTicks) {
				this.interval = 2;
				this.intervalType = "millisecond";
			} else if (range / (1 * 5) <= noTicks) {
				this.interval = 5;
				this.intervalType = "millisecond";
			} else if (range / (1 * 10) <= noTicks) {
				this.interval = 10;
				this.intervalType = "millisecond";
			} else if (range / (1 * 20) <= noTicks) {
				this.interval = 20;
				this.intervalType = "millisecond";
			} else if (range / (1 * 50) <= noTicks) {
				this.interval = 50;
				this.intervalType = "millisecond";
			} else if (range / (1 * 100) <= noTicks) {
				this.interval = 100;
				this.intervalType = "millisecond";
			} else if (range / (1 * 200) <= noTicks) {
				this.interval = 200;
				this.intervalType = "millisecond";
			} else if (range / (1 * 250) <= noTicks) {
				this.interval = 250;
				this.intervalType = "millisecond";
			} else if (range / (1 * 300) <= noTicks) {
				this.interval = 300;
				this.intervalType = "millisecond";
			} else if (range / (1 * 400) <= noTicks) {
				this.interval = 400;
				this.intervalType = "millisecond";
			} else if (range / (1 * 500) <= noTicks) {
				this.interval = 500;
				this.intervalType = "millisecond";
			} else if (range / (constants.secondDuration * 1) <= noTicks) {
				this.interval = 1;
				this.intervalType = "second";
			} else if (range / (constants.secondDuration * 2) <= noTicks) {
				this.interval = 2;
				this.intervalType = "second";
			} else if (range / (constants.secondDuration * 5) <= noTicks) {
				this.interval = 5;
				this.intervalType = "second";
			} else if (range / (constants.secondDuration * 10) <= noTicks) {
				this.interval = 10;
				this.intervalType = "second";
			} else if (range / (constants.secondDuration * 15) <= noTicks) {
				this.interval = 15;
				this.intervalType = "second";
			} else if (range / (constants.secondDuration * 20) <= noTicks) {
				this.interval = 20;
				this.intervalType = "second";
			} else if (range / (constants.secondDuration * 30) <= noTicks) {
				this.interval = 30;
				this.intervalType = "second";
			} else if (range / (constants.minuteDuration * 1) <= noTicks) {
				this.interval = 1;
				this.intervalType = "minute";
			} else if (range / (constants.minuteDuration * 2) <= noTicks) {
				this.interval = 2;
				this.intervalType = "minute";
			} else if (range / (constants.minuteDuration * 5) <= noTicks) {
				this.interval = 5;
				this.intervalType = "minute";
			} else if (range / (constants.minuteDuration * 10) <= noTicks) {
				this.interval = 10;
				this.intervalType = "minute";
			} else if (range / (constants.minuteDuration * 15) <= noTicks) {
				this.interval = 15;
				this.intervalType = "minute";
			} else if (range / (constants.minuteDuration * 20) <= noTicks) {
				this.interval = 20;
				this.intervalType = "minute";
			} else if (range / (constants.minuteDuration * 30) <= noTicks) {
				this.interval = 30;
				this.intervalType = "minute";
			} else if (range / (constants.hourDuration * 1) <= noTicks) {
				this.interval = 1;
				this.intervalType = "hour";
			} else if (range / (constants.hourDuration * 2) <= noTicks) {
				this.interval = 2;
				this.intervalType = "hour";
			} else if (range / (constants.hourDuration * 3) <= noTicks) {
				this.interval = 3;
				this.intervalType = "hour";
			} else if (range / (constants.hourDuration * 6) <= noTicks) {
				this.interval = 6;
				this.intervalType = "hour";
			} else if (range / (constants.dayDuration * 1) <= noTicks) {
				this.interval = 1;
				this.intervalType = "day";
			} else if (range / (constants.dayDuration * 2) <= noTicks) {
				this.interval = 2;
				this.intervalType = "day";
			} else if (range / (constants.dayDuration * 4) <= noTicks) {
				this.interval = 4;
				this.intervalType = "day";
			} else if (range / (constants.weekDuration * 1) <= noTicks) {
				this.interval = 1;
				this.intervalType = "week";
			} else if (range / (constants.weekDuration * 2) <= noTicks) {
				this.interval = 2;
				this.intervalType = "week";
			} else if (range / (constants.weekDuration * 3) <= noTicks) {
				this.interval = 3;
				this.intervalType = "week";
			} else if (range / (constants.monthDuration * 1) <= noTicks) {
				this.interval = 1;
				this.intervalType = "month";
			} else if (range / (constants.monthDuration * 2) <= noTicks) {
				this.interval = 2;
				this.intervalType = "month";
			} else if (range / (constants.monthDuration * 3) <= noTicks) {
				this.interval = 3;
				this.intervalType = "month";
			} else if (range / (constants.monthDuration * 6) <= noTicks) {
				this.interval = 6;
				this.intervalType = "month";
			} else if (range / (constants.yearDuration * 1) <= noTicks) {
				this.interval = 1;
				this.intervalType = "year";
			} else if (range / (constants.yearDuration * 2) <= noTicks) {
				this.interval = 2;
				this.intervalType = "year";
			} else if (range / (constants.yearDuration * 4) <= noTicks) {
				this.interval = 4;
				this.intervalType = "year";
			} else {
				this.interval = Math.floor(Axis.getNiceNumber(range / (noTicks - 1), true) / constants.yearDuration);
				this.intervalType = "year";
			}
		}

		if (this.viewportMinimum === null || isNaN(this.viewportMinimum)) this.viewportMinimum = min - minDiff / 2;

		if (this.viewportMaximum === null || isNaN(this.viewportMaximum)) this.viewportMaximum = max + minDiff / 2;

		if (!this.valueFormatString) {
			if (isLessThanTwoDataPoints) {
				this.valueFormatString = "MMM DD YYYY HH:mm";
			} else if (this.intervalType === "year") {
				this.valueFormatString = "YYYY";
			} else if (this.intervalType === "month") {
				this.valueFormatString = "MMM YYYY";
			} else if (this.intervalType === "week") {
				this.valueFormatString = "MMM DD YYYY";
			} else if (this.intervalType === "day") {
				this.valueFormatString = "MMM DD YYYY";
			} else if (this.intervalType === "hour") {
				this.valueFormatString = "hh:mm TT";
			} else if (this.intervalType === "minute") {
				this.valueFormatString = "hh:mm TT";
			} else if (this.intervalType === "second") {
				this.valueFormatString = "hh:mm:ss TT";
			} else if (this.intervalType === "millisecond") {
				this.valueFormatString = "fff'ms'";
			}
		}
	} else {

		this.intervalType = "number";

		range = Axis.getNiceNumber(range, false);

		if (this._options && this._options.interval) this.interval = this._options.interval;else {
			this.interval = Axis.getNiceNumber(range / (noTicks - 1), true);
		}

		if (this.viewportMinimum === null || isNaN(this.viewportMinimum)) {
			if (this.type === "axisX") this.viewportMinimum = min - minDiff / 2;else this.viewportMinimum = Math.floor(min / this.interval) * this.interval;
		}

		if (this.viewportMaximum === null || isNaN(this.viewportMaximum)) {
			if (this.type === "axisX") this.viewportMaximum = max + minDiff / 2;else this.viewportMaximum = Math.ceil(max / this.interval) * this.interval;
		}

		if (this.viewportMaximum === 0 && this.viewportMinimum === 0) {

			if (this._options.viewportMinimum === 0) {
				this.viewportMaximum += 10;
			} else if (this._options.viewportMaximum === 0) {
				this.viewportMinimum -= 10;
			}

			if (this._options && typeof this._options.interval === "undefined") {
				this.interval = Axis.getNiceNumber((this.viewportMaximum - this.viewportMinimum) / (noTicks - 1), true);
			}
		}
	}

	//Calculate minimum and maximum if not provided by the user
	if (this.minimum === null || this.maximum === null) {
		if (this.type === "axisX") {
			min = this.minimum !== null ? this.minimum : this.dataInfo.min;
			max = this.maximum !== null ? this.maximum : this.dataInfo.max;

			if (max - min === 0) {
				rangePadding = typeof this._options.interval === "undefined" ? .4 : this._options.interval;

				max += rangePadding;
				min -= rangePadding;
			}

			if (this.dataInfo.minDiff !== Infinity) minDiff = this.dataInfo.minDiff;else if (max - min > 1) {
				minDiff = Math.abs(max - min) * .5;
			} else {
				minDiff = 1;
			}
		} else if (this.type === "axisY") {

			min = this.minimum !== null ? this.minimum : this.dataInfo.min;
			max = this.maximum !== null ? this.maximum : this.dataInfo.max;

			if (!isFinite(min) && !isFinite(max)) {
				max = typeof this._options.interval === "undefined" ? -Infinity : this._options.interval;
				min = 0;
			} else if (min === 0 && max === 0) {
				// When all dataPoints are zero
				max += 9;
				min = 0;
			} else if (max - min === 0) {
				// When there is only a single dataPoint or when all dataPoints have same Y Value
				rangePadding = Math.min(Math.abs(Math.abs(max) * .01), 5);
				max += rangePadding;
				min -= rangePadding;
			} else if (min > max) {
				rangePadding = Math.min(Math.abs(Math.abs(max - min) * .01), 5);

				if (max >= 0) min = max - rangePadding;else max = min + rangePadding;
			} else {

				rangePadding = Math.min(Math.abs(Math.abs(max - min) * .01), .05);

				if (max !== 0) max += rangePadding;
				if (min !== 0) min -= rangePadding;
			}

			if (this.dataInfo.minDiff !== Infinity) minDiff = this.dataInfo.minDiff;else if (max - min > 1) {
				minDiff = Math.abs(max - min) * .5;
			} else {
				minDiff = 1;
			}

			//Apply includeZero
			if (this.includeZero && (this.minimum === null || isNaN(this.minimum))) {
				if (min > 0) min = 0;
			}
			if (this.includeZero && (this.maximum === null || isNaN(this.maximum))) {
				if (max < 0) max = 0;
			}
		}

		range = max - min;

		if (this.type === "axisX" && this.chart.plotInfo.axisXValueType === "dateTime") {

			if (this.minimum === null || isNaN(this.minimum)) this.minimum = min - minDiff / 2;

			if (this.maximum === null || isNaN(this.maximum)) this.maximum = max + minDiff / 2;
		} else {

			this.intervalType = "number";

			if (this.minimum === null) {
				if (this.type === "axisX") this.minimum = min - minDiff / 2;else this.minimum = Math.floor(min / this.interval) * this.interval;

				this.minimum = Math.min(this.minimum, this.sessionVariables.viewportMinimum === null || isNaN(this.sessionVariables.viewportMinimum) ? Infinity : this.sessionVariables.viewportMinimum);
			}

			if (this.maximum === null) {
				if (this.type === "axisX") this.maximum = max + minDiff / 2;else this.maximum = Math.ceil(max / this.interval) * this.interval;

				this.maximum = Math.max(this.maximum, this.sessionVariables.viewportMaximum === null || isNaN(this.sessionVariables.viewportMaximum) ? -Infinity : this.sessionVariables.viewportMaximum);
			}

			//var nfrac = Math.max(-Math.floor(Math.log(d)/Math.LN10), 0); //number of fractional digits to show


			if (this.maximum === 0 && this.minimum === 0) {

				if (this._options.minimum === 0) {
					this.maximum += 10;
				} else if (this._options.maximum === 0) {
					this.minimum -= 10;
				}
			}
		}
	}

	this.viewportMinimum = Math.max(this.viewportMinimum, this.minimum);
	this.viewportMaximum = Math.min(this.viewportMaximum, this.maximum);

	if (this.type === "axisX" && this.chart.plotInfo.axisXValueType === "dateTime") this.intervalStartPosition = this.getLabelStartPoint(new Date(this.viewportMinimum), this.intervalType, this.interval);else this.intervalStartPosition = Math.floor((this.viewportMinimum + this.interval * .2) / this.interval) * this.interval;

	//Set valueFormatString
	if (!this.valueFormatString) {
		this.valueFormatString = "#,##0.##";

		range = Math.abs(this.viewportMaximum - this.viewportMinimum);

		if (range < 1) {
			var numberOfDecimals = Math.floor(Math.abs(Math.log(range) / Math.LN10)) + 2;

			if (isNaN(numberOfDecimals) || !isFinite(numberOfDecimals)) numberOfDecimals = 2;

			if (numberOfDecimals > 2) {
				for (var i = 0; i < numberOfDecimals - 2; i++) {
					this.valueFormatString += "#";
				}
			}
		}
	}

	//if (isDebugMode && window.console) {
	//    window.console.log(this.type + ": Min = " + this.viewportMinimum);
	//    window.console.log(this.type + ": Max = " + this.viewportMaximum);
	//    window.console.log(this.type + ": Interval = " + this.interval);
	//}
};

Axis.getNiceNumber = function (x, round) {

	var exp = Math.floor(Math.log(x) / Math.LN10);
	var f = x / Math.pow(10, exp);
	var nf;

	if (round) {
		if (f < 1.5) nf = 1;else if (f < 3) nf = 2;else if (f < 7) nf = 5;else nf = 10;
	} else {
		if (f <= 1) nf = 1;else if (f <= 2) nf = 2;else if (f <= 5) nf = 5;else nf = 10;
	}

	return Number((nf * Math.pow(10, exp)).toFixed(20));
};

Axis.prototype.getLabelStartPoint = function () {

	var intervalInMilliseconds = convertToNumber(this.interval, this.intervalType);
	var minimum = Math.floor(this.viewportMinimum / intervalInMilliseconds) * intervalInMilliseconds;
	var dateTime = new Date(minimum);

	if (this.intervalType === "millisecond") {
		//millisecond = dateTime.getMilliSecond();
		//millisecond = Math.floor((millisecond + this.interval) / this.interval) * this.interval;
	} else if (this.intervalType === "second") {
		if (dateTime.getMilliseconds() > 0) {
			dateTime.setSeconds(dateTime.getSeconds() + 1);
			dateTime.setMilliseconds(0);
		}
	} else if (this.intervalType === "minute") {
		if (dateTime.getSeconds() > 0 || dateTime.getMilliseconds() > 0) {
			dateTime.setMinutes(dateTime.getMinutes() + 1);
			dateTime.setSeconds(0);
			dateTime.setMilliseconds(0);
		}
	} else if (this.intervalType === "hour") {
		if (dateTime.getMinutes() > 0 || dateTime.getSeconds() > 0 || dateTime.getMilliseconds() > 0) {
			dateTime.setHours(dateTime.getHours() + 1);
			dateTime.setMinutes(0);
			dateTime.setSeconds(0);
			dateTime.setMilliseconds(0);
		}
	} else if (this.intervalType === "day") {
		if (dateTime.getHours() > 0 || dateTime.getMinutes() > 0 || dateTime.getSeconds() > 0 || dateTime.getMilliseconds() > 0) {
			dateTime.setDate(dateTime.getDate() + 1);
			dateTime.setHours(0);
			dateTime.setMinutes(0);
			dateTime.setSeconds(0);
			dateTime.setMilliseconds(0);
		}
	} else if (this.intervalType === "week") {
		if (dateTime.getDay() > 0 || dateTime.getHours() > 0 || dateTime.getMinutes() > 0 || dateTime.getSeconds() > 0 || dateTime.getMilliseconds() > 0) {
			dateTime.setDate(dateTime.getDate() + (7 - dateTime.getDay()));
			dateTime.setHours(0);
			dateTime.setMinutes(0);
			dateTime.setSeconds(0);
			dateTime.setMilliseconds(0);
		}
	} else if (this.intervalType === "month") {
		if (dateTime.getDate() > 1 || dateTime.getHours() > 0 || dateTime.getMinutes() > 0 || dateTime.getSeconds() > 0 || dateTime.getMilliseconds() > 0) {
			dateTime.setMonth(dateTime.getMonth() + 1);
			dateTime.setDate(1);
			dateTime.setHours(0);
			dateTime.setMinutes(0);
			dateTime.setSeconds(0);
			dateTime.setMilliseconds(0);
		}
	} else if (this.intervalType === "year") {
		if (dateTime.getMonth() > 0 || dateTime.getDate() > 1 || dateTime.getHours() > 0 || dateTime.getMinutes() > 0 || dateTime.getSeconds() > 0 || dateTime.getMilliseconds() > 0) {
			dateTime.setFullYear(dateTime.getFullYear() + 1);
			dateTime.setMonth(0);
			dateTime.setDate(1);
			dateTime.setHours(0);
			dateTime.setMinutes(0);
			dateTime.setSeconds(0);
			dateTime.setMilliseconds(0);
		}
	}

	return dateTime;
};

exports.default = Axis;

},{"../helpers/utils":39,"./canvasjs":27,"./text_block":34}],27:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _themes = require('../constants/themes');

var _options = require('../constants/options');

function CanvasJSObject(defaultsKey, options, theme, parent) {
  this._defaultsKey = defaultsKey;

  this.parent = parent;

  this._eventListeners = []; //Multidimentional array with an array for each event type

  var currentThemeOptions = {};

  if (theme && _themes.themes[theme] && _themes.themes[theme][defaultsKey]) currentThemeOptions = _themes.themes[theme][defaultsKey];

  this._options = options ? options : {};
  this.setOptions(this._options, currentThemeOptions);
}

CanvasJSObject.prototype.setOptions = function (options, currentThemeOptions) {

  if (!_options.defaultOptions[this._defaultsKey]) {
    if (_options.isDebugMode && window.console) console.log("defaults not set");
  } else {
    var defaults = _options.defaultOptions[this._defaultsKey];

    for (var prop in defaults) {

      if (defaults.hasOwnProperty(prop)) {
        if (options && prop in options) this[prop] = options[prop];else if (currentThemeOptions && prop in currentThemeOptions) this[prop] = currentThemeOptions[prop];else this[prop] = defaults[prop];

        //if (typeof this[prop] === "function") {
        //    alert("function");
        //    this[prop] = this[prop]();
        //}
      }
    }
  }
};

// Update options. Returns true if changed or else false
CanvasJSObject.prototype.updateOption = function (prop) {

  if (!_options.defaultOptions[this._defaultsKey] && _options.isDebugMode && window.console) console.log("defaults not set");

  var defaults = _options.defaultOptions[this._defaultsKey];
  var theme = this._options.theme ? this._options.theme : this.chart && this.chart._options.theme ? this.chart._options.theme : "theme1";

  var currentThemeOptions = {};
  var newValue = this[prop];

  if (theme && _themes.themes[theme] && _themes.themes[theme][this._defaultsKey]) currentThemeOptions = _themes.themes[theme][this._defaultsKey];

  if (prop in defaults) {
    if (prop in this._options) newValue = this._options[prop];else if (currentThemeOptions && prop in currentThemeOptions) newValue = currentThemeOptions[prop];else newValue = defaults[prop];
  }

  if (newValue === this[prop]) return false;

  this[prop] = newValue;
  return true;
};

//Stores values in _oldOptions so that it can be tracked for any changes
CanvasJSObject.prototype.trackChanges = function (option) {
  if (!this.sessionVariables) throw "Session Variable Store not set";

  this.sessionVariables[option] = this._options[option];
};

CanvasJSObject.prototype.isBeingTracked = function (option) {
  if (!this._options._oldOptions) this._options._oldOptions = {};

  if (this._options._oldOptions[option]) return true;else return false;
};

CanvasJSObject.prototype.hasOptionChanged = function (option) {
  if (!this.sessionVariables) throw "Session Variable Store not set";

  var hasChanged = !(this.sessionVariables[option] === this._options[option]);

  return hasChanged;
};

CanvasJSObject.prototype.addEventListener = function (eventName, eventHandler, context) {
  if (!eventName || !eventHandler) return;

  context = context || this;

  this._eventListeners[eventName] = this._eventListeners[eventName] || [];

  this._eventListeners[eventName].push({ context: context, eventHandler: eventHandler });
};

CanvasJSObject.prototype.removeEventListener = function (eventName, eventHandler) {
  if (!eventName || !eventHandler || !this._eventListeners[eventName]) return;

  var listeners = this._eventListeners[eventName];
  for (var i = 0; i < listeners.length; i++) {

    if (listeners[i].eventHandler === eventHandler) {
      listeners[i].splice(i, 1);
      break;
    }
  }
};

CanvasJSObject.prototype.removeAllEventListeners = function () {
  this._eventListeners = [];
};

CanvasJSObject.prototype.dispatchEvent = function (eventName, eventParameter, context) {

  //For Internal Events
  if (eventName && this._eventListeners[eventName]) {

    eventParameter = eventParameter || {};

    var listeners = this._eventListeners[eventName];
    for (var i = 0; i < listeners.length; i++) {

      listeners[i].eventHandler.call(listeners[i].context, eventParameter);
    }
  }

  //External Events do not require registering as the property name is suffient to fire the event.
  if (typeof this[eventName] === "function") {
    this[eventName].call(context || this.chart._publicChartReference, eventParameter);
  }
};

exports.default = CanvasJSObject;

},{"../constants/options":23,"../constants/themes":24}],28:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _canvasjs = require('./canvasjs');

var _canvasjs2 = _interopRequireDefault(_canvasjs);

var _animator = require('./animator');

var _animator2 = _interopRequireDefault(_animator);

var _data_series = require('./data_series');

var _data_series2 = _interopRequireDefault(_data_series);

var _text_block = require('./text_block');

var _text_block2 = _interopRequireDefault(_text_block);

var _render = require('../helpers/render');

var _render2 = _interopRequireDefault(_render);

var _layout_manager = require('./layout_manager');

var _layout_manager2 = _interopRequireDefault(_layout_manager);

var _event_manager = require('./event_manager');

var _event_manager2 = _interopRequireDefault(_event_manager);

var _tooltip = require('./tooltip');

var _tooltip2 = _interopRequireDefault(_tooltip);

var _culture_info = require('../core/culture_info');

var _culture_info2 = _interopRequireDefault(_culture_info);

var _axis = require('../core/axis');

var _axis2 = _interopRequireDefault(_axis);

var _title = require('../core/title');

var _title2 = _interopRequireDefault(_title);

var _legend = require('../core/legend');

var _legend2 = _interopRequireDefault(_legend);

var _animator3 = require('../helpers/animator');

var _animator4 = _interopRequireDefault(_animator3);

var _themes = require('../constants/themes');

var _options = require('../constants/options');

var _utils = require('../helpers/utils');

var _index = require('../charts/index');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
// import {inherits} from 'util';

var devicePixelBackingStoreRatio = (0, _utils.getDevicePixelBackingStoreRatio)();

function Chart(containerId, options, publicChartReference) {

	this._publicChartReference = publicChartReference;

	options = options || {};

	Chart.base.constructor.call(this, "Chart", options, options.theme ? options.theme : "theme1");

	var _this = this;

	this._containerId = containerId;
	this._objectsInitialized = false;
	this.ctx = null;
	this.overlaidCanvasCtx = null;
	this._indexLabels = [];
	this._panTimerId = 0;
	this._lastTouchEventType = "";
	this._lastTouchData = null;
	this.isAnimating = false;
	this.renderCount = 0;
	this.animatedRender = false;
	this.disableToolTip = false;

	this.panEnabled = false;
	this._defaultCursor = "default";
	this.plotArea = { canvas: null, ctx: null, x1: 0, y1: 0, x2: 0, y2: 0, width: 0, height: 0 };
	this._dataInRenderedOrder = [];

	this._container = typeof this._containerId === "string" ? document.getElementById(this._containerId) : this._containerId;

	if (!this._container) {
		if (window.console) window.console.log("CanvasJS Error: Chart Container with id \"" + this._containerId + "\" was not found");
		return;
	}

	this._container.innerHTML = "";

	var width = 0;
	var height = 0;

	if (this._options.width) width = this.width;else width = this._container.clientWidth > 0 ? this._container.clientWidth : this.width;

	if (this._options.height) height = this.height;else height = this._container.clientHeight > 0 ? this._container.clientHeight : this.height;

	this.width = width;
	this.height = height;

	this.x1 = this.y1 = 0;
	this.x2 = this.width;
	this.y2 = this.height;

	this._selectedColorSet = typeof _themes.colorSets[this.colorSet] !== "undefined" ? _themes.colorSets[this.colorSet] : _themes.colorSets["colorSet1"];

	this._canvasJSContainer = document.createElement("div");
	this._canvasJSContainer.setAttribute("class", "canvasjs-chart-container");

	this._canvasJSContainer.style.position = "relative";
	this._canvasJSContainer.style.textAlign = "left";
	this._canvasJSContainer.style.cursor = "auto";

	if (!_utils.isCanvasSupported) {
		this._canvasJSContainer.style.height = "0px"; //In IE6 toolTip doesn't show at proper position if not set.
	}
	this._container.appendChild(this._canvasJSContainer);

	this.canvas = (0, _utils.createCanvas)(width, height);

	this.canvas.style.position = "absolute";
	if (this.canvas.getContext) {
		//try {
		//	this.canvas.style.background = this.backgroundColor;
		//} catch (e) { }
		this._canvasJSContainer.appendChild(this.canvas);
		this.ctx = this.canvas.getContext("2d");
		this.ctx.textBaseline = "top";
		(0, _utils.extendCtx)(this.ctx);
	} else return;

	//this.canvas.style.cursor = "pointer";

	if (!_utils.isCanvasSupported) {
		this.plotArea.canvas = (0, _utils.createCanvas)(width, height);
		this.plotArea.canvas.style.position = "absolute";
		this.plotArea.canvas.setAttribute("class", "plotAreaCanvas");
		this._canvasJSContainer.appendChild(this.plotArea.canvas);

		this.plotArea.ctx = this.plotArea.canvas.getContext("2d");
	} else {
		this.plotArea.ctx = this.ctx;
	}

	this.overlaidCanvas = (0, _utils.createCanvas)(width, height);
	this.overlaidCanvas.style.position = "absolute";
	this._canvasJSContainer.appendChild(this.overlaidCanvas);
	this.overlaidCanvasCtx = this.overlaidCanvas.getContext("2d");
	this.overlaidCanvasCtx.textBaseline = "top";

	this._eventManager = new _event_manager2.default(this);

	(0, _utils.addEvent)(window, "resize", function () {
		//this._container.addEventListener("DOMSubtreeModified", function () {

		if (_this._updateSize()) _this.render();
	});

	this._toolBar = document.createElement("div");
	this._toolBar.setAttribute("class", "canvasjs-chart-toolbar");
	this._toolBar.style.cssText = "position: absolute; right: 1px; top: 1px;";
	this._canvasJSContainer.appendChild(this._toolBar);

	this.bounds = { x1: 0, y1: 0, x2: this.width, y2: this.height };

	(0, _utils.addEvent)(this.overlaidCanvas, 'click', function (e) {
		_this._mouseEventHandler(e);
	});

	(0, _utils.addEvent)(this.overlaidCanvas, 'mousemove', function (e) {
		_this._mouseEventHandler(e);
	});

	(0, _utils.addEvent)(this.overlaidCanvas, 'mouseup', function (e) {
		_this._mouseEventHandler(e);
	});

	(0, _utils.addEvent)(this.overlaidCanvas, 'mousedown', function (e) {
		_this._mouseEventHandler(e);
		(0, _utils.hide)(_this._dropdownMenu);
	});

	(0, _utils.addEvent)(this.overlaidCanvas, 'mouseout', function (e) {
		_this._mouseEventHandler(e);
	});

	(0, _utils.addEvent)(this.overlaidCanvas, window.navigator.msPointerEnabled ? "MSPointerDown" : "touchstart", function (e) {
		_this._touchEventHandler(e);
	});

	(0, _utils.addEvent)(this.overlaidCanvas, window.navigator.msPointerEnabled ? "MSPointerMove" : 'touchmove', function (e) {
		_this._touchEventHandler(e);
	});

	(0, _utils.addEvent)(this.overlaidCanvas, window.navigator.msPointerEnabled ? "MSPointerUp" : 'touchend', function (e) {
		_this._touchEventHandler(e);
	});

	(0, _utils.addEvent)(this.overlaidCanvas, window.navigator.msPointerEnabled ? "MSPointerCancel" : 'touchcancel', function (e) {
		_this._touchEventHandler(e);
	});

	if (!this._creditLink) {

		this._creditLink = document.createElement("a");
		this._creditLink.setAttribute("class", "canvasjs-chart-credit");
		this._creditLink.setAttribute("style", "outline:none;margin:0px;position:absolute;right:3px;top:" + (this.height - 14) + "px;color:dimgrey;text-decoration:none;font-size:10px;font-family:Lucida Grande, Lucida Sans Unicode, Arial, sans-serif");

		this._creditLink.setAttribute("tabIndex", -1);

		this._creditLink.setAttribute("target", "_blank");
	}

	this._toolTip = new _tooltip2.default(this, this._options.toolTip, this.theme);

	this.data = null;
	this.axisX = null;
	this.axisY = null;
	this.axisY2 = null;

	this.sessionVariables = {
		axisX: {},
		axisY: {},
		axisY2: {}
	};
}

(0, _utils.extend)(Chart, _canvasjs2.default);

//Update Chart Properties
Chart.prototype._updateOptions = function () {

	var _this = this;

	this.updateOption("width");
	this.updateOption("height");
	this.updateOption("dataPointMaxWidth");
	this.updateOption("interactivityEnabled");
	this.updateOption("theme");

	if (this.updateOption("colorSet")) this._selectedColorSet = typeof _themes.colorSets[this.colorSet] !== "undefined" ? _themes.colorSets[this.colorSet] : _themes.colorSets["colorSet1"];

	this.updateOption("backgroundColor");
	if (!this.backgroundColor) this.backgroundColor = "rgba(0,0,0,0)";

	this.updateOption("culture");
	this._cultureInfo = new _culture_info2.default(this._options.culture);

	this.updateOption("animationEnabled");
	this.animationEnabled = this.animationEnabled && _utils.isCanvasSupported;
	this.updateOption("animationDuration");

	this.updateOption("rangeChanging");
	this.updateOption("rangeChanged");

	//Need to check this._options.zoomEnabled because this.zoomEnabled is used internally to keep track of state - and hence changes.
	if (this._options.zoomEnabled) {

		if (!this._zoomButton) {

			(0, _utils.hide)(this._zoomButton = document.createElement("button"));

			setButtonState(this, this._zoomButton, "pan");

			this._toolBar.appendChild(this._zoomButton);
			(0, _utils.addEvent)(this._zoomButton, "click", function () {
				if (_this.zoomEnabled) {
					_this.zoomEnabled = false;
					_this.panEnabled = true;

					setButtonState(_this, _this._zoomButton, "zoom");
				} else {
					_this.zoomEnabled = true;
					_this.panEnabled = false;

					setButtonState(_this, _this._zoomButton, "pan");
				}

				_this.render();
			});
		}

		if (!this._resetButton) {
			(0, _utils.hide)(this._resetButton = document.createElement("button"));
			setButtonState(this, this._resetButton, "reset");
			this._toolBar.appendChild(this._resetButton);

			(0, _utils.addEvent)(this._resetButton, "click", function () {

				_this._toolTip.hide();

				if (_this.zoomEnabled || _this.panEnabled) {
					_this.zoomEnabled = true;
					_this.panEnabled = false;
					setButtonState(_this, _this._zoomButton, "pan");

					_this._defaultCursor = "default";
					_this.overlaidCanvas.style.cursor = _this._defaultCursor;
				} else {
					_this.zoomEnabled = false;
					_this.panEnabled = false;
				}
				//Reset axisX
				if (_this.sessionVariables.axisX) {
					_this.sessionVariables.axisX.newViewportMinimum = null;
					_this.sessionVariables.axisX.newViewportMaximum = null;
				}

				//Reset axisY
				if (_this.sessionVariables.axisY) {
					_this.sessionVariables.axisY.newViewportMinimum = null;
					_this.sessionVariables.axisY.newViewportMaximum = null;
				}

				//Reset axisY2
				if (_this.sessionVariables.axisY2) {
					_this.sessionVariables.axisY2.newViewportMinimum = null;
					_this.sessionVariables.axisY2.newViewportMaximum = null;
				}

				_this.resetOverlayedCanvas();

				(0, _utils.hide)(_this._zoomButton, _this._resetButton);

				_this._dispatchRangeEvent("rangeChanging", "reset");
				_this.render();
				_this._dispatchRangeEvent("rangeChanged", "reset");
			});

			this.overlaidCanvas.style.cursor = _this._defaultCursor;
		}

		if (!this.zoomEnabled && !this.panEnabled) {
			if (!this._zoomButton) {
				this.zoomEnabled = true;
				this.panEnabled = false;
			} else {

				if (_this._zoomButton.getAttribute("state") === _this._cultureInfo.zoomText) {
					this.panEnabled = true;
					this.zoomEnabled = false;
				} else {
					this.zoomEnabled = true;
					this.panEnabled = false;
				}

				(0, _utils.show)(_this._zoomButton, _this._resetButton);
			}
		}
	} else {
		this.zoomEnabled = false;
		this.panEnabled = false;
	}

	if (this._menuButton) {
		if (this.exportEnabled) (0, _utils.show)(this._menuButton);else (0, _utils.hide)(this._menuButton);
	} else if (this.exportEnabled && _utils.isCanvasSupported) {
		this._menuButton = document.createElement("button");
		setButtonState(this, this._menuButton, "menu");
		this._toolBar.appendChild(this._menuButton);

		(0, _utils.addEvent)(this._menuButton, "click", function () {
			if (_this._dropdownMenu.style.display === "none") {

				if (_this._dropDownCloseTime && new Date().getTime() - _this._dropDownCloseTime.getTime() <= 500) return;

				_this._dropdownMenu.style.display = "block";
				_this._menuButton.blur();
				_this._dropdownMenu.focus();
			}
		}, true);
	}

	if (!this._dropdownMenu && this.exportEnabled && _utils.isCanvasSupported) {
		this._dropdownMenu = document.createElement("div");
		this._dropdownMenu.setAttribute("tabindex", -1);
		this._dropdownMenu.style.cssText = "position: absolute; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: pointer;right: 1px;top: 25px;min-width: 120px;outline: 0;border: 1px solid silver;font-size: 14px;font-family: Calibri, Verdana, sans-serif;padding: 5px 0px 5px 0px;text-align: left;background-color: #fff;line-height: 20px;box-shadow: 2px 2px 10px #888888;";
		_this._dropdownMenu.style.display = "none";
		this._toolBar.appendChild(this._dropdownMenu);

		(0, _utils.addEvent)(this._dropdownMenu, "blur", function () {
			(0, _utils.hide)(_this._dropdownMenu);

			_this._dropDownCloseTime = new Date();
		}, true);

		var exportOption = document.createElement("div");
		exportOption.style.cssText = "padding: 2px 15px 2px 10px";
		exportOption.innerHTML = this._cultureInfo.saveJPGText;
		this._dropdownMenu.appendChild(exportOption);

		(0, _utils.addEvent)(exportOption, "mouseover", function () {
			this.style.backgroundColor = "#EEEEEE";
		}, true);

		(0, _utils.addEvent)(exportOption, "mouseout", function () {
			this.style.backgroundColor = "transparent";
		}, true);

		(0, _utils.addEvent)(exportOption, "click", function () {
			exportCanvas(_this.canvas, "jpg", _this.exportFileName);
			(0, _utils.hide)(_this._dropdownMenu);
		}, true);

		var exportOption = document.createElement("div");
		exportOption.style.cssText = "padding: 2px 15px 2px 10px";
		exportOption.innerHTML = this._cultureInfo.savePNGText;
		this._dropdownMenu.appendChild(exportOption);

		(0, _utils.addEvent)(exportOption, "mouseover", function () {
			this.style.backgroundColor = "#EEEEEE";
		}, true);

		(0, _utils.addEvent)(exportOption, "mouseout", function () {
			this.style.backgroundColor = "transparent";
		}, true);

		(0, _utils.addEvent)(exportOption, "click", function () {
			exportCanvas(_this.canvas, "png", _this.exportFileName);
			(0, _utils.hide)(_this._dropdownMenu);
		}, true);
	}

	if (this._toolBar.style.display !== "none" && this._zoomButton) {

		this.panEnabled ? setButtonState(_this, _this._zoomButton, "zoom") : setButtonState(_this, _this._zoomButton, "pan");

		if (_this._resetButton.getAttribute("state") !== _this._cultureInfo.resetText) setButtonState(_this, _this._resetButton, "reset");
	}

	if (typeof _options.defaultOptions.Chart.creditHref === "undefined") {
		this.creditHref = "http://canvasjs.com/";
		this.creditText = "CanvasJS.com";
	} else {
		var creditTextChanged = this.updateOption("creditText");
		var creditHrefChanged = this.updateOption("creditHref");
	}

	if (this.renderCount === 0 || creditTextChanged || creditHrefChanged) {
		this._creditLink.setAttribute("href", this.creditHref);
		this._creditLink.innerHTML = this.creditText;
	}

	if (this.creditHref && this.creditText) {
		if (!this._creditLink.parentElement) this._canvasJSContainer.appendChild(this._creditLink);
	} else if (this._creditLink.parentElement) this._canvasJSContainer.removeChild(this._creditLink);

	if (this._options.toolTip && this._toolTip._options !== this._options.toolTip) this._toolTip._options = this._options.toolTip;

	for (var prop in this._toolTip._options) {

		if (this._toolTip._options.hasOwnProperty(prop)) {
			this._toolTip.updateOption(prop);
		}
	}
};

Chart.prototype._updateSize = function () {
	var width = 0;
	var height = 0;

	if (this._options.width) width = this.width;else this.width = width = this._container.clientWidth > 0 ? this._container.clientWidth : this.width;

	if (this._options.height) height = this.height;else this.height = height = this._container.clientHeight > 0 ? this._container.clientHeight : this.height;

	if (this.canvas.width !== width * devicePixelBackingStoreRatio || this.canvas.height !== height * devicePixelBackingStoreRatio) {
		(0, _utils.setCanvasSize)(this.canvas, width, height);

		(0, _utils.setCanvasSize)(this.overlaidCanvas, width, height);
		(0, _utils.setCanvasSize)(this._eventManager.ghostCanvas, width, height);

		return true;
	}

	return false;
};

// initialize chart objects
Chart.prototype._initialize = function () {
	///<signature>
	///<summary>Initializes Chart objects/state. Creates DataSeries class instance for each DataSeries provided by ther user. Sets the Axis Type based on the user data</summary>
	///</signature>
	//this.width = this.width;

	if (!this._animator) this._animator = new _animator2.default(this);else {
		this._animator.cancelAllAnimations();
	}

	this.removeAllEventListeners();

	this.disableToolTip = false;

	this._axes = [];

	this.pieDoughnutClickHandler = null;
	//this._touchCurrentCoordinates = null;

	if (this.animationRequestId) this.cancelRequestAnimFrame.call(window, this.animationRequestId);

	this._updateOptions();

	this.animatedRender = _utils.isCanvasSupported && this.animationEnabled && this.renderCount === 0;

	this._updateSize();

	//this._selectedColorSet = colorSets["colorSet2"];

	//this.ctx.clearRect(0, 0, this.width, this.height);
	this.clearCanvas();
	this.ctx.beginPath();

	this.axisX = null;
	this.axisY = null;
	this.axisY2 = null;
	this._indexLabels = [];
	this._dataInRenderedOrder = [];

	this._events = [];
	if (this._eventManager) this._eventManager.reset();

	this.plotInfo = {
		axisPlacement: null,
		axisXValueType: null,
		plotTypes: [] //array of plotType: {type:"", axisYType: "primary", dataSeriesIndexes:[]}
	};

	this.layoutManager = new _layout_manager2.default(0, 0, this.width, this.height, 2);

	if (this.plotArea.layoutManager) this.plotArea.layoutManager.reset();

	this.data = [];
	var dataSeriesIndex = 0;

	for (var series = 0; series < this._options.data.length; series++) {
		//for (series in this._options.data) {

		dataSeriesIndex++;

		if (!(!this._options.data[series].type || Chart._supportedChartTypes.indexOf(this._options.data[series].type) >= 0)) continue;

		var dataSeries = new _data_series2.default(this, this._options.data[series], this.theme, dataSeriesIndex - 1, ++this._eventManager.lastObjectId);
		if (dataSeries.name === null) dataSeries.name = "DataSeries " + dataSeriesIndex;

		if (dataSeries.color === null) {
			if (this._options.data.length > 1) {
				dataSeries._colorSet = [this._selectedColorSet[dataSeries.index % this._selectedColorSet.length]];
				dataSeries.color = this._selectedColorSet[dataSeries.index % this._selectedColorSet.length];
			} else {
				if (dataSeries.type === "line" || dataSeries.type === "stepLine" || dataSeries.type === "spline" || dataSeries.type === "area" || dataSeries.type === "stepArea" || dataSeries.type === "splineArea" || dataSeries.type === "stackedArea" || dataSeries.type === "stackedArea100" || dataSeries.type === "rangeArea" || dataSeries.type === "rangeSplineArea" || dataSeries.type === "candlestick" || dataSeries.type === "ohlc") {
					dataSeries._colorSet = [this._selectedColorSet[0]];
				} else dataSeries._colorSet = this._selectedColorSet;
			}
		} else {
			dataSeries._colorSet = [dataSeries.color];
		}

		if (dataSeries.markerSize === null) {
			if ((dataSeries.type === "line" || dataSeries.type === "stepLine" || dataSeries.type === "spline") && dataSeries.dataPoints && dataSeries.dataPoints.length < this.width / 16 || dataSeries.type === "scatter") {
				//if (dataSeries.type === "line") {
				dataSeries.markerSize = 8;
			}
		}

		if ((dataSeries.type === "bubble" || dataSeries.type === "scatter") && dataSeries.dataPoints) {
			dataSeries.dataPoints.sort(_utils.compareDataPointX);
		}

		//if (dataSeries.markerBorderThickness === null && dataSeries.type === "scatter") {
		//    dataSeries.markerBorderThickness = 2;
		//}

		//if (dataSeries.markerType === null) {
		//    if (dataSeries.type === "line" & dataSeries.dataPoints.length < 500) {
		//        dataSeries.markerType = "circle";
		//    }
		//}

		this.data.push(dataSeries);

		var seriesAxisPlacement = dataSeries.axisPlacement;

		//if (isDebugMode && window.console)
		//    window.console.log(dataSeries.type);

		var errorMessage;

		if (seriesAxisPlacement === "normal") {

			if (this.plotInfo.axisPlacement === "xySwapped") {
				errorMessage = "You cannot combine \"" + dataSeries.type + "\" with bar chart";
			} else if (this.plotInfo.axisPlacement === "none") {
				errorMessage = "You cannot combine \"" + dataSeries.type + "\" with pie chart";
			} else if (this.plotInfo.axisPlacement === null) this.plotInfo.axisPlacement = "normal";
		} else if (seriesAxisPlacement === "xySwapped") {

			if (this.plotInfo.axisPlacement === "normal") {
				errorMessage = "You cannot combine \"" + dataSeries.type + "\" with line, area, column or pie chart";
			} else if (this.plotInfo.axisPlacement === "none") {
				errorMessage = "You cannot combine \"" + dataSeries.type + "\" with pie chart";
			} else if (this.plotInfo.axisPlacement === null) this.plotInfo.axisPlacement = "xySwapped";
		} else if (seriesAxisPlacement == "none") {

			if (this.plotInfo.axisPlacement === "normal") {
				errorMessage = "You cannot combine \"" + dataSeries.type + "\" with line, area, column or bar chart";
			} else if (this.plotInfo.axisPlacement === "xySwapped") {
				errorMessage = "You cannot combine \"" + dataSeries.type + "\" with bar chart";
			} else if (this.plotInfo.axisPlacement === null) this.plotInfo.axisPlacement = "none";
		}

		if (errorMessage && window.console) {
			window.console.log(errorMessage);
			return;
		}
	}

	//if (isDebugMode && window.console) {
	//    window.console.log("xMin: " + this.plotInfo.viewPortXMin + "; xMax: " + this.plotInfo.viewPortXMax + "; yMin: " + this.plotInfo.yMin + "; yMax: " + this.plotInfo.yMax);
	//}

	this._objectsInitialized = true;
};

//indexOf is not supported in IE8-
Chart._supportedChartTypes = (0, _utils.addArrayIndexOf)(["line", "stepLine", "spline", "column", "area", "stepArea", "splineArea", "bar", "bubble", "scatter", "stackedColumn", "stackedColumn100", "stackedBar", "stackedBar100", "stackedArea", "stackedArea100", "candlestick", "ohlc", "rangeColumn", "rangeBar", "rangeArea", "rangeSplineArea", "pie", "doughnut", "funnel"]);

Chart.prototype.render = function (options) {

	if (options) this._options = options;

	this._initialize();
	var plotAreaElements = []; //Elements to be rendered inside the plotArea

	//Create Primary and Secondary axis and assign them to the series
	for (var i = 0; i < this.data.length; i++) {

		if (this.plotInfo.axisPlacement === "normal" || this.plotInfo.axisPlacement === "xySwapped") {
			if (!this.data[i].axisYType || this.data[i].axisYType === "primary") {
				if (!this.axisY) {

					if (this.plotInfo.axisPlacement === "normal") {
						this._axes.push(this.axisY = new _axis2.default(this, this._options.axisY, "axisY", "left"));
					} else if (this.plotInfo.axisPlacement === "xySwapped") {
						this._axes.push(this.axisY = new _axis2.default(this, this._options.axisY, "axisY", "bottom"));
					}
				}
				this.data[i].axisY = this.axisY;
			} else if (this.data[i].axisYType === "secondary") {
				if (!this.axisY2) {
					if (this.plotInfo.axisPlacement === "normal") {
						this._axes.push(this.axisY2 = new _axis2.default(this, this._options.axisY2, "axisY", "right"));
					} else if (this.plotInfo.axisPlacement === "xySwapped") {
						this._axes.push(this.axisY2 = new _axis2.default(this, this._options.axisY2, "axisY", "top"));
					}
				}
				this.data[i].axisY = this.axisY2;
			}

			if (!this.axisX) {
				if (this.plotInfo.axisPlacement === "normal") {
					this._axes.push(this.axisX = new _axis2.default(this, this._options.axisX, "axisX", "bottom"));
				} else if (this.plotInfo.axisPlacement === "xySwapped") {
					this._axes.push(this.axisX = new _axis2.default(this, this._options.axisX, "axisX", "left"));
				}
			}

			this.data[i].axisX = this.axisX;
		}
	}

	//If Both Primary and Secondary axis are present, disable gridlines for one of them unless the user has set value for both
	if (this.axisY && this.axisY2) {
		if (this.axisY.gridThickness > 0 && typeof this.axisY2._options.gridThickness === "undefined") this.axisY2.gridThickness = 0;else if (this.axisY2.gridThickness > 0 && typeof this.axisY._options.gridThickness === "undefined") this.axisY.gridThickness = 0;
	}

	//Show toolBar when viewportMinimum/viewportMaximum are set
	var showToolBar = false;
	if (this._axes.length > 0 && (this.zoomEnabled || this.panEnabled)) {
		for (var i = 0; i < this._axes.length; i++) {
			if (this._axes[i].viewportMinimum !== null || this._axes[i].viewportMaximum !== null) {
				showToolBar = true;
				break;
			}
		}
	}

	if (showToolBar) {
		(0, _utils.show)(this._zoomButton, this._resetButton);
	} else {
		(0, _utils.hide)(this._zoomButton, this._resetButton);
	}

	this._processData(); // Categorises the dataSeries and calculates min, max and other values

	if (this._options.title) {
		this._title = new _title2.default(this, this._options.title);

		if (!this._title.dockInsidePlotArea) this._title.render();else plotAreaElements.push(this._title);
	}

	if (this._options.subtitles) {
		for (var i = 0; i < this._options.subtitles.length; i++) {

			this.subtitles = [];

			var subtitle = new Subtitle(this, this._options.subtitles[i]);
			this.subtitles.push(subtitle);

			if (!subtitle.dockInsidePlotArea) subtitle.render();else plotAreaElements.push(subtitle);
		}
	}

	this.legend = new _legend2.default(this, this._options.legend, this.theme);
	for (var i = 0; i < this.data.length; i++) {
		if (this.data[i].showInLegend || this.data[i].type === "pie" || this.data[i].type === "doughnut") {
			this.legend.dataSeries.push(this.data[i]);
		}
	}

	if (!this.legend.dockInsidePlotArea) this.legend.render();else plotAreaElements.push(this.legend);

	//TBI: Revisit and check if the functionality is enough.
	if (this.plotInfo.axisPlacement === "normal" || this.plotInfo.axisPlacement === "xySwapped") {

		//var freeSpace = this.layoutManager.getFreeSpace();

		_axis2.default.setLayoutAndRender(this.axisX, this.axisY, this.axisY2, this.plotInfo.axisPlacement, this.layoutManager.getFreeSpace());
	} else if (this.plotInfo.axisPlacement === "none") {
		//In case of charts with axis this method is called inside setLayoutAndRender
		this.preparePlotArea();
	} else {
		return;
	}

	var index = 0;
	for (index in plotAreaElements) {
		if (plotAreaElements.hasOwnProperty(index)) plotAreaElements[index].render();
	}

	var animations = [];
	if (this.animatedRender) {
		var initialState = (0, _utils.createCanvas)(this.width, this.height);
		var initialStateCtx = initialState.getContext("2d");
		initialStateCtx.drawImage(this.canvas, 0, 0, this.width, this.height);
	}

	for (var i = 0; i < this.plotInfo.plotTypes.length; i++) {
		var plotType = this.plotInfo.plotTypes[i];

		for (var j = 0; j < plotType.plotUnits.length; j++) {

			var plotUnit = plotType.plotUnits[j];
			var animationInfo = null;

			plotUnit.targetCanvas = null; //In case chart updates before the animation is complete, previous canvases need to be removed

			if (this.animatedRender) {
				plotUnit.targetCanvas = (0, _utils.createCanvas)(this.width, this.height);
				plotUnit.targetCanvasCtx = plotUnit.targetCanvas.getContext("2d");
			}

			if (plotUnit.type === "line") animationInfo = this.renderLine(plotUnit);else if (plotUnit.type === "stepLine") animationInfo = this.renderStepLine(plotUnit);else if (plotUnit.type === "spline") animationInfo = this.renderSpline(plotUnit);else if (plotUnit.type === "column") animationInfo = this.renderColumn(plotUnit);else if (plotUnit.type === "bar") animationInfo = this.renderBar(plotUnit);else if (plotUnit.type === "area") animationInfo = this.renderArea(plotUnit);else if (plotUnit.type === "stepArea") animationInfo = this.renderStepArea(plotUnit);else if (plotUnit.type === "splineArea") animationInfo = this.renderSplineArea(plotUnit);else if (plotUnit.type === "stackedColumn") animationInfo = this.renderStackedColumn(plotUnit);else if (plotUnit.type === "stackedColumn100") animationInfo = this.renderStackedColumn100(plotUnit);else if (plotUnit.type === "stackedBar") animationInfo = this.renderStackedBar(plotUnit);else if (plotUnit.type === "stackedBar100") animationInfo = this.renderStackedBar100(plotUnit);else if (plotUnit.type === "stackedArea") animationInfo = this.renderStackedArea(plotUnit);else if (plotUnit.type === "stackedArea100") animationInfo = this.renderStackedArea100(plotUnit);else if (plotUnit.type === "bubble") animationInfo = animationInfo = this.renderBubble(plotUnit);else if (plotUnit.type === "scatter") animationInfo = this.renderScatter(plotUnit);else if (plotUnit.type === "pie") this.renderPie(plotUnit);else if (plotUnit.type === "doughnut") this.renderPie(plotUnit);else if (plotUnit.type === "candlestick") animationInfo = this.renderCandlestick(plotUnit);else if (plotUnit.type === "ohlc") animationInfo = this.renderCandlestick(plotUnit);else if (plotUnit.type === "rangeColumn") animationInfo = this.renderRangeColumn(plotUnit);else if (plotUnit.type === "rangeBar") animationInfo = this.renderRangeBar(plotUnit);else if (plotUnit.type === "rangeArea") animationInfo = this.renderRangeArea(plotUnit);else if (plotUnit.type === "rangeSplineArea") animationInfo = this.renderRangeSplineArea(plotUnit);

			for (var k = 0; k < plotUnit.dataSeriesIndexes.length; k++) {
				this._dataInRenderedOrder.push(this.data[plotUnit.dataSeriesIndexes[k]]);
			}

			if (this.animatedRender && animationInfo) animations.push(animationInfo);
		}
	}

	if (this.animatedRender && this._indexLabels.length > 0) {
		var indexLabelCanvas = (0, _utils.createCanvas)(this.width, this.height);
		var indexLabelCanvasCtx = indexLabelCanvas.getContext("2d");
		animations.push(this.renderIndexLabels(indexLabelCanvasCtx));
	}

	var _this = this;

	if (animations.length > 0) {
		//var animationCount = 0;
		_this.disableToolTip = true;
		_this._animator.animate(200, _this.animationDuration, function (fractionComplete) {

			//console.log(fractionComplete);
			//animationCount++;

			_this.ctx.clearRect(0, 0, _this.width, _this.height);

			//  _this.ctx.drawImage(initialState, 0, 0, _this.width * devicePixelBackingStoreRatio, _this.height * devicePixelBackingStoreRatio, 0, 0, _this.width, _this.height);
			_this.ctx.drawImage(initialState, 0, 0, Math.floor(_this.width * devicePixelBackingStoreRatio), Math.floor(_this.height * devicePixelBackingStoreRatio), 0, 0, _this.width, _this.height);

			for (var l = 0; l < animations.length; l++) {

				animationInfo = animations[l];

				if (fractionComplete < 1 && typeof animationInfo.startTimePercent !== "undefined") {
					if (fractionComplete >= animationInfo.startTimePercent) {
						//animationInfo.animationCallback(AnimationHelper.easing.linear(fractionComplete - animationInfo.startTimePercent, 0, 1, 1 - animationInfo.startTimePercent), animationInfo);

						animationInfo.animationCallback(animationInfo.easingFunction(fractionComplete - animationInfo.startTimePercent, 0, 1, 1 - animationInfo.startTimePercent), animationInfo);
					}
				} else {

					animationInfo.animationCallback(animationInfo.easingFunction(fractionComplete, 0, 1, 1), animationInfo);
				}
			}

			_this.dispatchEvent("dataAnimationIterationEnd", {
				chart: _this
			});
		}, function () {

			animations = [];

			var count = 0;

			//Delete all render target canvases used for animation.
			for (var i = 0; i < _this.plotInfo.plotTypes.length; i++) {
				var plotType = _this.plotInfo.plotTypes[i];

				for (var j = 0; j < plotType.plotUnits.length; j++) {
					var plotUnit = plotType.plotUnits[j];
					plotUnit.targetCanvas = null;
				}
			}

			initialState = null;
			_this.disableToolTip = false;
			//console.log("*********** Animation Complete - " + animationCount + " ***********");
		});
	} else {
		if (_this._indexLabels.length > 0) _this.renderIndexLabels();

		_this.dispatchEvent("dataAnimationIterationEnd", {
			chart: _this
		});
	}

	this.attachPlotAreaEventHandlers();

	if (!this.zoomEnabled && !this.panEnabled && this._zoomButton && this._zoomButton.style.display !== "none") {
		(0, _utils.hide)(this._zoomButton, this._resetButton);
	}

	this._toolTip._updateToolTip();

	this.renderCount++;

	//if (window.console) {
	//    window.console.log(new Date().getTime() - dt);
	//}

	if (_options.isDebugMode) {

		var _this = this;
		setTimeout(function () {
			var ghostCanvasCopy = document.getElementById("ghostCanvasCopy");

			if (ghostCanvasCopy) {
				//console.log(ghostCanvasCopy.clientWidth);
				(0, _utils.setCanvasSize)(ghostCanvasCopy, _this.width, _this.height);
				var ghostCanvasCopyCtx = ghostCanvasCopy.getContext("2d");

				//ghostCanvasCopyCtx.scale(1, 1);
				//var imageData = this._eventManager.ghostCtx.getImageData(0, 0, this._container.clientWidth, this._container.clientHeight);
				//this._eventManager.ghostCtx.drawImage(this._eventManager.ghostCanvas, 0, 0);
				//this.ctx.drawImage(this._eventManager.ghostCanvas, 0, 0);

				ghostCanvasCopyCtx.drawImage(_this._eventManager.ghostCanvas, 0, 0);
				//_this._canvasJSContainer.appendChild(_this._eventManager.ghostCanvas);
				//_this.overlaidCanvasCtx.drawImage(_this._eventManager.ghostCanvas, 0, 0);
			}
		}, 2000);
	}
};

Chart.prototype.attachPlotAreaEventHandlers = function () {
	var _attachEvent;

	//this._toolBar.style.display = "inline";

	this.attachEvent((_attachEvent = {
		context: this,
		chart: this,
		mousedown: this._plotAreaMouseDown,
		mouseup: this._plotAreaMouseUp,
		mousemove: this._plotAreaMouseMove,
		cursor: this.zoomEnabled ? "col-resize" : "move"
	}, _defineProperty(_attachEvent, 'cursor', this.panEnabled ? "move" : "default"), _defineProperty(_attachEvent, 'capture', true), _defineProperty(_attachEvent, 'bounds', this.plotArea), _attachEvent));
};

Chart.prototype.categoriseDataSeries = function () {
	var dataSeries = "";

	for (var i = 0; i < this.data.length; i++) {
		dataSeries = this.data[i];
		if (!dataSeries.dataPoints || dataSeries.dataPoints.length === 0 || !dataSeries.visible) continue;

		if (Chart._supportedChartTypes.indexOf(dataSeries.type) >= 0) {

			var plotType = null;
			var plotTypeExists = false;

			var plotUnit = null;
			var plotUnitExists = false;

			for (var j = 0; j < this.plotInfo.plotTypes.length; j++) {
				if (this.plotInfo.plotTypes[j].type === dataSeries.type) {
					plotTypeExists = true;
					var plotType = this.plotInfo.plotTypes[j];
					break;
				}
			}

			if (!plotTypeExists) {
				plotType = {
					type: dataSeries.type,
					totalDataSeries: 0,
					plotUnits: []
				};
				this.plotInfo.plotTypes.push(plotType);
			}

			for (var j = 0; j < plotType.plotUnits.length; j++) {
				if (plotType.plotUnits[j].axisYType === dataSeries.axisYType) {
					plotUnitExists = true;
					var plotUnit = plotType.plotUnits[j];
					break;
				}
			}

			if (!plotUnitExists) {
				plotUnit = {
					type: dataSeries.type,
					previousDataSeriesCount: 0, //to be set next
					index: plotType.plotUnits.length,
					plotType: plotType,
					axisYType: dataSeries.axisYType,
					axisY: dataSeries.axisYType === "primary" ? this.axisY : this.axisY2,
					axisX: this.axisX,
					dataSeriesIndexes: [], //index of dataSeries
					yTotals: []
				};
				plotType.plotUnits.push(plotUnit);
			}

			plotType.totalDataSeries++;

			plotUnit.dataSeriesIndexes.push(i);

			dataSeries.plotUnit = plotUnit;
		}
	}

	for (var i = 0; i < this.plotInfo.plotTypes.length; i++) {
		var plotType = this.plotInfo.plotTypes[i];
		var previousDataSeriesCount = 0;

		for (var j = 0; j < plotType.plotUnits.length; j++) {

			plotType.plotUnits[j].previousDataSeriesCount = previousDataSeriesCount;

			previousDataSeriesCount += plotType.plotUnits[j].dataSeriesIndexes.length;
		}
	}
};

Chart.prototype.assignIdToDataPoints = function () {

	for (var i = 0; i < this.data.length; i++) {
		var dataSeries = this.data[i];

		if (!dataSeries.dataPoints) continue;

		var length = dataSeries.dataPoints.length;

		for (var j = 0; j < length; j++) {
			dataSeries.dataPointIds[j] = ++this._eventManager.lastObjectId;
		}
	}
};

Chart.prototype._processData = function () {
	this.assignIdToDataPoints();
	this.categoriseDataSeries();

	for (var i = 0; i < this.plotInfo.plotTypes.length; i++) {
		var plotType = this.plotInfo.plotTypes[i];

		for (var j = 0; j < plotType.plotUnits.length; j++) {

			var plotUnit = plotType.plotUnits[j];

			if (plotUnit.type === "line" || plotUnit.type === "stepLine" || plotUnit.type === "spline" || plotUnit.type === "column" || plotUnit.type === "area" || plotUnit.type === "stepArea" || plotUnit.type === "splineArea" || plotUnit.type === "bar" || plotUnit.type === "bubble" || plotUnit.type === "scatter") this._processMultiseriesPlotUnit(plotUnit);else if (plotUnit.type === "stackedColumn" || plotUnit.type === "stackedBar" || plotUnit.type === "stackedArea") this._processStackedPlotUnit(plotUnit);else if (plotUnit.type === "stackedColumn100" || plotUnit.type === "stackedBar100" || plotUnit.type === "stackedArea100") this._processStacked100PlotUnit(plotUnit);else if (plotUnit.type === "candlestick" || plotUnit.type === "ohlc" || plotUnit.type === "rangeColumn" || plotUnit.type === "rangeBar" || plotUnit.type === "rangeArea" || plotUnit.type === "rangeSplineArea") this._processMultiYPlotUnit(plotUnit);
		}
	}
};

Chart.prototype._processMultiseriesPlotUnit = function (plotUnit) {
	if (!plotUnit.dataSeriesIndexes || plotUnit.dataSeriesIndexes.length < 1) return;

	var axisYDataInfo = plotUnit.axisY.dataInfo;
	var axisXDataInfo = plotUnit.axisX.dataInfo;
	var dataPointX, dataPointY;
	var isDateTime = false;

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {
		var dataSeries = this.data[plotUnit.dataSeriesIndexes[j]];
		var i = 0;
		var isFirstDPInViewPort = false;
		var isLastDPInViewPort = false;

		if (dataSeries.axisPlacement === "normal" || dataSeries.axisPlacement === "xySwapped") {

			var plotAreaXMin = this.sessionVariables.axisX.newViewportMinimum ? this.sessionVariables.axisX.newViewportMinimum : this._options.axisX && this._options.axisX.viewportMinimum ? this._options.axisX.viewportMinimum : this._options.axisX && this._options.axisX.minimum ? this._options.axisX.minimum : -Infinity;

			var plotAreaXMax = this.sessionVariables.axisX.newViewportMaximum ? this.sessionVariables.axisX.newViewportMaximum : this._options.axisX && this._options.axisX.viewportMaximum ? this._options.axisX.viewportMaximum : this._options.axisX && this._options.axisX.maximum ? this._options.axisX.maximum : Infinity;
		}

		if (dataSeries.dataPoints[i].x && dataSeries.dataPoints[i].x.getTime || dataSeries.xValueType === "dateTime") {
			isDateTime = true;
		}

		for (i = 0; i < dataSeries.dataPoints.length; i++) {

			if (typeof dataSeries.dataPoints[i].x === "undefined") {
				dataSeries.dataPoints[i].x = i;
			}

			if (dataSeries.dataPoints[i].x.getTime) {
				isDateTime = true;
				dataPointX = dataSeries.dataPoints[i].x.getTime(); //dataPointX is used so that getTime is called only once in case of dateTime values
			} else dataPointX = dataSeries.dataPoints[i].x;

			dataPointY = dataSeries.dataPoints[i].y;

			if (dataPointX < axisXDataInfo.min) axisXDataInfo.min = dataPointX;
			if (dataPointX > axisXDataInfo.max) axisXDataInfo.max = dataPointX;

			if (dataPointY < axisYDataInfo.min) axisYDataInfo.min = dataPointY;

			if (dataPointY > axisYDataInfo.max) axisYDataInfo.max = dataPointY;

			if (i > 0) {
				var xDiff = dataPointX - dataSeries.dataPoints[i - 1].x;
				xDiff < 0 && (xDiff = xDiff * -1); //If Condition shortcut

				if (axisXDataInfo.minDiff > xDiff && xDiff !== 0) {
					axisXDataInfo.minDiff = xDiff;
				}

				if (dataPointY !== null && dataSeries.dataPoints[i - 1].y !== null) {
					var yDiff = dataPointY - dataSeries.dataPoints[i - 1].y;
					yDiff < 0 && (yDiff = yDiff * -1); //If Condition shortcut

					if (axisYDataInfo.minDiff > yDiff && yDiff !== 0) {
						axisYDataInfo.minDiff = yDiff;
					}
				}
			}

			// This section makes sure that partially visible dataPoints are included in the begining
			if (dataPointX < plotAreaXMin && !isFirstDPInViewPort) {
				continue;
			} else if (!isFirstDPInViewPort) {
				isFirstDPInViewPort = true;

				if (i > 0) {
					i -= 2;
					continue;
				}
			}

			// This section makes sure that partially visible dataPoints are included at the end
			if (dataPointX > plotAreaXMax && !isLastDPInViewPort) {
				isLastDPInViewPort = true;
			} else if (dataPointX > plotAreaXMax && isLastDPInViewPort) {
				continue;
			}

			if (dataSeries.dataPoints[i].label) plotUnit.axisX.labels[dataPointX] = dataSeries.dataPoints[i].label;

			if (dataPointX < axisXDataInfo.viewPortMin) axisXDataInfo.viewPortMin = dataPointX;
			if (dataPointX > axisXDataInfo.viewPortMax) axisXDataInfo.viewPortMax = dataPointX;

			if (dataPointY === null) continue;

			if (dataPointY < axisYDataInfo.viewPortMin) axisYDataInfo.viewPortMin = dataPointY;
			if (dataPointY > axisYDataInfo.viewPortMax) axisYDataInfo.viewPortMax = dataPointY;
		}

		this.plotInfo.axisXValueType = dataSeries.xValueType = isDateTime ? "dateTime" : "number";
	}

	//this.dataPoints.sort(compareDataPointX);
	//this.dataPoints.sort(function (dataPoint1, dataPoint2) { return dataPoint1.x - dataPoint2.x; });
};

Chart.prototype._processStackedPlotUnit = function (plotUnit) {

	if (!plotUnit.dataSeriesIndexes || plotUnit.dataSeriesIndexes.length < 1) return;

	var axisYDataInfo = plotUnit.axisY.dataInfo;
	var axisXDataInfo = plotUnit.axisX.dataInfo;

	var dataPointX, dataPointY;
	var isDateTime = false;

	var dataPointYPositiveSums = [];
	var dataPointYNegativeSums = [];

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {
		var dataSeries = this.data[plotUnit.dataSeriesIndexes[j]];
		var i = 0;
		var isFirstDPInViewPort = false;
		var isLastDPInViewPort = false;

		if (dataSeries.axisPlacement === "normal" || dataSeries.axisPlacement === "xySwapped") {

			var plotAreaXMin = this.sessionVariables.axisX.newViewportMinimum ? this.sessionVariables.axisX.newViewportMinimum : this._options.axisX && this._options.axisX.viewportMinimum ? this._options.axisX.viewportMinimum : this._options.axisX && this._options.axisX.minimum ? this._options.axisX.minimum : -Infinity;

			var plotAreaXMax = this.sessionVariables.axisX.newViewportMaximum ? this.sessionVariables.axisX.newViewportMaximum : this._options.axisX && this._options.axisX.viewportMaximum ? this._options.axisX.viewportMaximum : this._options.axisX && this._options.axisX.maximum ? this._options.axisX.maximum : Infinity;
		}

		if (dataSeries.dataPoints[i].x && dataSeries.dataPoints[i].x.getTime || dataSeries.xValueType === "dateTime") {
			isDateTime = true;
		}

		for (i = 0; i < dataSeries.dataPoints.length; i++) {

			// Requird when no x values are provided
			if (typeof dataSeries.dataPoints[i].x === "undefined") {
				dataSeries.dataPoints[i].x = i;
			}

			if (dataSeries.dataPoints[i].x.getTime) {
				isDateTime = true;
				dataPointX = dataSeries.dataPoints[i].x.getTime(); //dataPointX is used so that getTime is called only once in case of dateTime values
			} else dataPointX = dataSeries.dataPoints[i].x;

			dataPointY = dataSeries.dataPoints[i].y;

			if (dataPointX < axisXDataInfo.min) axisXDataInfo.min = dataPointX;
			if (dataPointX > axisXDataInfo.max) axisXDataInfo.max = dataPointX;

			if (i > 0) {
				var xDiff = dataPointX - dataSeries.dataPoints[i - 1].x;
				xDiff < 0 && (xDiff = xDiff * -1); //If Condition shortcut

				if (axisXDataInfo.minDiff > xDiff && xDiff !== 0) {
					axisXDataInfo.minDiff = xDiff;
				}

				if (dataPointY !== null && dataSeries.dataPoints[i - 1].y !== null) {
					var yDiff = dataPointY - dataSeries.dataPoints[i - 1].y;
					yDiff < 0 && (yDiff = yDiff * -1); //If Condition shortcut

					if (axisYDataInfo.minDiff > yDiff && yDiff !== 0) {
						axisYDataInfo.minDiff = yDiff;
					}
				}
			}

			// This section makes sure that partially visible dataPoints are included in the begining
			if (dataPointX < plotAreaXMin && !isFirstDPInViewPort) {
				continue;
			} else if (!isFirstDPInViewPort) {
				isFirstDPInViewPort = true;

				if (i > 0) {
					i -= 2;
					continue;
				}
			}

			// This section makes sure that partially visible dataPoints are included at the end
			if (dataPointX > plotAreaXMax && !isLastDPInViewPort) {
				isLastDPInViewPort = true;
			} else if (dataPointX > plotAreaXMax && isLastDPInViewPort) {
				continue;
			}

			if (dataSeries.dataPoints[i].label) plotUnit.axisX.labels[dataPointX] = dataSeries.dataPoints[i].label;

			if (dataPointX < axisXDataInfo.viewPortMin) axisXDataInfo.viewPortMin = dataPointX;
			if (dataPointX > axisXDataInfo.viewPortMax) axisXDataInfo.viewPortMax = dataPointX;

			if (dataPointY === null) continue;

			plotUnit.yTotals[dataPointX] = (!plotUnit.yTotals[dataPointX] ? 0 : plotUnit.yTotals[dataPointX]) + Math.abs(dataPointY);

			if (dataPointY >= 0) {
				if (dataPointYPositiveSums[dataPointX]) dataPointYPositiveSums[dataPointX] += dataPointY;else dataPointYPositiveSums[dataPointX] = dataPointY;
			} else {
				if (dataPointYNegativeSums[dataPointX]) dataPointYNegativeSums[dataPointX] += dataPointY;else dataPointYNegativeSums[dataPointX] = dataPointY;
			}
		}

		this.plotInfo.axisXValueType = dataSeries.xValueType = isDateTime ? "dateTime" : "number";
	}

	for (i in dataPointYPositiveSums) {
		if (dataPointYPositiveSums.hasOwnProperty(i)) {
			if (isNaN(i)) {
				continue;
			}
			var ySum = dataPointYPositiveSums[i];

			if (ySum < axisYDataInfo.min) axisYDataInfo.min = ySum;

			if (ySum > axisYDataInfo.max) axisYDataInfo.max = ySum;

			if (i < axisXDataInfo.viewPortMin || i > axisXDataInfo.viewPortMax) continue;

			if (ySum < axisYDataInfo.viewPortMin) axisYDataInfo.viewPortMin = ySum;
			if (ySum > axisYDataInfo.viewPortMax) axisYDataInfo.viewPortMax = ySum;
		}
	}

	for (i in dataPointYNegativeSums) {

		if (dataPointYNegativeSums.hasOwnProperty(i)) {
			if (isNaN(i)) {
				continue;
			}

			var ySum = dataPointYNegativeSums[i];

			if (ySum < axisYDataInfo.min) axisYDataInfo.min = ySum;

			if (ySum > axisYDataInfo.max) axisYDataInfo.max = ySum;

			if (i < axisXDataInfo.viewPortMin || i > axisXDataInfo.viewPortMax) continue;

			if (ySum < axisYDataInfo.viewPortMin) axisYDataInfo.viewPortMin = ySum;
			if (ySum > axisYDataInfo.viewPortMax) axisYDataInfo.viewPortMax = ySum;
		}
	}

	//this.dataPoints.sort(compareDataPointX);
	//this.dataPoints.sort(function (dataPoint1, dataPoint2) { return dataPoint1.x - dataPoint2.x; });

	//window.console.log("viewPortYMin: " + plotInfo.viewPortYMin + "; viewPortYMax: " + plotInfo.viewPortYMax);
};

Chart.prototype._processStacked100PlotUnit = function (plotUnit) {
	if (!plotUnit.dataSeriesIndexes || plotUnit.dataSeriesIndexes.length < 1) return;

	var axisYDataInfo = plotUnit.axisY.dataInfo;
	var axisXDataInfo = plotUnit.axisX.dataInfo;

	var dataPointX, dataPointY;
	var isDateTime = false;
	var containsPositiveY = false;
	var containsNegativeY = false;

	var dataPointYSums = [];

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {
		var dataSeries = this.data[plotUnit.dataSeriesIndexes[j]];
		var i = 0;
		var isFirstDPInViewPort = false;
		var isLastDPInViewPort = false;

		if (dataSeries.axisPlacement === "normal" || dataSeries.axisPlacement === "xySwapped") {

			var plotAreaXMin = this.sessionVariables.axisX.newViewportMinimum ? this.sessionVariables.axisX.newViewportMinimum : this._options.axisX && this._options.axisX.viewportMinimum ? this._options.axisX.viewportMinimum : this._options.axisX && this._options.axisX.minimum ? this._options.axisX.minimum : -Infinity;

			var plotAreaXMax = this.sessionVariables.axisX.newViewportMaximum ? this.sessionVariables.axisX.newViewportMaximum : this._options.axisX && this._options.axisX.viewportMaximum ? this._options.axisX.viewportMaximum : this._options.axisX && this._options.axisX.maximum ? this._options.axisX.maximum : Infinity;
		}

		if (dataSeries.dataPoints[i].x && dataSeries.dataPoints[i].x.getTime || dataSeries.xValueType === "dateTime") {
			isDateTime = true;
		}

		for (i = 0; i < dataSeries.dataPoints.length; i++) {

			// Requird when no x values are provided
			if (typeof dataSeries.dataPoints[i].x === "undefined") {
				dataSeries.dataPoints[i].x = i;
			}

			if (dataSeries.dataPoints[i].x.getTime) {
				isDateTime = true;
				dataPointX = dataSeries.dataPoints[i].x.getTime(); //dataPointX is used so that getTime is called only once in case of dateTime values
			} else dataPointX = dataSeries.dataPoints[i].x;

			dataPointY = dataSeries.dataPoints[i].y;

			if (dataPointX < axisXDataInfo.min) axisXDataInfo.min = dataPointX;
			if (dataPointX > axisXDataInfo.max) axisXDataInfo.max = dataPointX;

			if (i > 0) {
				var xDiff = dataPointX - dataSeries.dataPoints[i - 1].x;
				xDiff < 0 && (xDiff = xDiff * -1); //If Condition shortcut

				if (axisXDataInfo.minDiff > xDiff && xDiff !== 0) {
					axisXDataInfo.minDiff = xDiff;
				}

				if (dataPointY !== null && dataSeries.dataPoints[i - 1].y !== null) {
					var yDiff = dataPointY - dataSeries.dataPoints[i - 1].y;
					yDiff < 0 && (yDiff = yDiff * -1); //If Condition shortcut

					if (axisYDataInfo.minDiff > yDiff && yDiff !== 0) {
						axisYDataInfo.minDiff = yDiff;
					}
				}
			}

			// This section makes sure that partially visible dataPoints are included in the begining
			if (dataPointX < plotAreaXMin && !isFirstDPInViewPort) {
				continue;
			} else if (!isFirstDPInViewPort) {
				isFirstDPInViewPort = true;

				if (i > 0) {
					i -= 2;
					continue;
				}
			}

			// This section makes sure that partially visible dataPoints are included at the end
			if (dataPointX > plotAreaXMax && !isLastDPInViewPort) {
				isLastDPInViewPort = true;
			} else if (dataPointX > plotAreaXMax && isLastDPInViewPort) {
				continue;
			}

			if (dataSeries.dataPoints[i].label) plotUnit.axisX.labels[dataPointX] = dataSeries.dataPoints[i].label;

			if (dataPointX < axisXDataInfo.viewPortMin) axisXDataInfo.viewPortMin = dataPointX;
			if (dataPointX > axisXDataInfo.viewPortMax) axisXDataInfo.viewPortMax = dataPointX;

			if (dataPointY === null) continue;

			plotUnit.yTotals[dataPointX] = (!plotUnit.yTotals[dataPointX] ? 0 : plotUnit.yTotals[dataPointX]) + Math.abs(dataPointY);

			if (dataPointY >= 0) {
				containsPositiveY = true;
			} else {
				containsNegativeY = true;
			}

			if (dataPointYSums[dataPointX]) dataPointYSums[dataPointX] += Math.abs(dataPointY);else dataPointYSums[dataPointX] = Math.abs(dataPointY);
		}

		this.plotInfo.axisXValueType = dataSeries.xValueType = isDateTime ? "dateTime" : "number";
	}

	if (containsPositiveY && !containsNegativeY) {
		axisYDataInfo.max = 99;
		axisYDataInfo.min = 1;
	} else if (containsPositiveY && containsNegativeY) {
		axisYDataInfo.max = 99;
		axisYDataInfo.min = -99;
	} else if (!containsPositiveY && containsNegativeY) {
		axisYDataInfo.max = -1;
		axisYDataInfo.min = -99;
	}

	axisYDataInfo.viewPortMin = axisYDataInfo.min;
	axisYDataInfo.viewPortMax = axisYDataInfo.max;

	plotUnit.dataPointYSums = dataPointYSums;

	//this.dataPoints.sort(compareDataPointX);
	//this.dataPoints.sort(function (dataPoint1, dataPoint2) { return dataPoint1.x - dataPoint2.x; });

	//window.console.log("viewPortYMin: " + plotInfo.viewPortYMin + "; viewPortYMax: " + plotInfo.viewPortYMax);
};

Chart.prototype._processMultiYPlotUnit = function (plotUnit) {
	if (!plotUnit.dataSeriesIndexes || plotUnit.dataSeriesIndexes.length < 1) return;

	var axisYDataInfo = plotUnit.axisY.dataInfo;
	var axisXDataInfo = plotUnit.axisX.dataInfo;
	var dataPointX, dataPointY, dataPointYMin, dataPointYMax;
	var isDateTime = false;

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {
		var dataSeries = this.data[plotUnit.dataSeriesIndexes[j]];
		var i = 0;
		var isFirstDPInViewPort = false;
		var isLastDPInViewPort = false;

		if (dataSeries.axisPlacement === "normal" || dataSeries.axisPlacement === "xySwapped") {

			var plotAreaXMin = this.sessionVariables.axisX.newViewportMinimum ? this.sessionVariables.axisX.newViewportMinimum : this._options.axisX && this._options.axisX.viewportMinimum ? this._options.axisX.viewportMinimum : this._options.axisX && this._options.axisX.minimum ? this._options.axisX.minimum : -Infinity;

			var plotAreaXMax = this.sessionVariables.axisX.newViewportMaximum ? this.sessionVariables.axisX.newViewportMaximum : this._options.axisX && this._options.axisX.viewportMaximum ? this._options.axisX.viewportMaximum : this._options.axisX && this._options.axisX.maximum ? this._options.axisX.maximum : Infinity;
		}

		if (dataSeries.dataPoints[i].x && dataSeries.dataPoints[i].x.getTime || dataSeries.xValueType === "dateTime") {
			isDateTime = true;
		}

		for (i = 0; i < dataSeries.dataPoints.length; i++) {

			if (typeof dataSeries.dataPoints[i].x === "undefined") {
				dataSeries.dataPoints[i].x = i;
			}

			if (dataSeries.dataPoints[i].x.getTime) {
				isDateTime = true;
				dataPointX = dataSeries.dataPoints[i].x.getTime(); //dataPointX is used so that getTime is called only once in case of dateTime values
			} else dataPointX = dataSeries.dataPoints[i].x;

			dataPointY = dataSeries.dataPoints[i].y;

			if (dataPointY && dataPointY.length) {
				dataPointYMin = Math.min.apply(null, dataPointY);
				dataPointYMax = Math.max.apply(null, dataPointY);
			}

			if (dataPointX < axisXDataInfo.min) axisXDataInfo.min = dataPointX;
			if (dataPointX > axisXDataInfo.max) axisXDataInfo.max = dataPointX;

			if (dataPointYMin < axisYDataInfo.min) axisYDataInfo.min = dataPointYMin;

			if (dataPointYMax > axisYDataInfo.max) axisYDataInfo.max = dataPointYMax;

			if (i > 0) {
				var xDiff = dataPointX - dataSeries.dataPoints[i - 1].x;
				xDiff < 0 && (xDiff = xDiff * -1); //If Condition shortcut

				if (axisXDataInfo.minDiff > xDiff && xDiff !== 0) {
					axisXDataInfo.minDiff = xDiff;
				}

				if (dataPointY[0] !== null && dataSeries.dataPoints[i - 1].y[0] !== null) {
					var yDiff = dataPointY[0] - dataSeries.dataPoints[i - 1].y[0];
					yDiff < 0 && (yDiff = yDiff * -1); //If Condition shortcut

					if (axisYDataInfo.minDiff > yDiff && yDiff !== 0) {
						axisYDataInfo.minDiff = yDiff;
					}
				}
			}

			// This section makes sure that partially visible dataPoints are included in the begining
			if (dataPointX < plotAreaXMin && !isFirstDPInViewPort) {
				continue;
			} else if (!isFirstDPInViewPort) {
				isFirstDPInViewPort = true;

				if (i > 0) {
					i -= 2;
					continue;
				}
			}

			// This section makes sure that partially visible dataPoints are included at the end
			if (dataPointX > plotAreaXMax && !isLastDPInViewPort) {
				isLastDPInViewPort = true;
			} else if (dataPointX > plotAreaXMax && isLastDPInViewPort) {
				continue;
			}

			if (dataSeries.dataPoints[i].label) plotUnit.axisX.labels[dataPointX] = dataSeries.dataPoints[i].label;

			if (dataPointX < axisXDataInfo.viewPortMin) axisXDataInfo.viewPortMin = dataPointX;
			if (dataPointX > axisXDataInfo.viewPortMax) axisXDataInfo.viewPortMax = dataPointX;

			if (dataPointY === null) continue;

			if (dataPointYMin < axisYDataInfo.viewPortMin) axisYDataInfo.viewPortMin = dataPointYMin;
			if (dataPointYMax > axisYDataInfo.viewPortMax) axisYDataInfo.viewPortMax = dataPointYMax;
		}

		this.plotInfo.axisXValueType = dataSeries.xValueType = isDateTime ? "dateTime" : "number";
	}

	//this.dataPoints.sort(compareDataPointX);
	//this.dataPoints.sort(function (dataPoint1, dataPoint2) { return dataPoint1.x - dataPoint2.x; });
};

//getClosest returns objects nearby and hence shouldn't be used for events like click, mouseover, mousemove, etc which require object that is exactly under the mouse.
Chart.prototype.getDataPointAtXY = function (mouseX, mouseY, getClosest) {

	getClosest = getClosest || false;
	var results = [];

	for (var i = this._dataInRenderedOrder.length - 1; i >= 0; i--) {
		var dataSeries = this._dataInRenderedOrder[i];

		var result = null;

		result = dataSeries.getDataPointAtXY(mouseX, mouseY, getClosest);
		if (result) results.push(result);
	}

	var closestResult = null;
	var onlyLineAreaTypes = false;

	for (var m = 0; m < results.length; m++) {

		if (results[m].dataSeries.type === "line" || results[m].dataSeries.type === "stepLine" || results[m].dataSeries.type === "area" || results[m].dataSeries.type === "stepArea") {
			var markerSize = (0, _utils.getProperty)("markerSize", results[m].dataPoint, results[m].dataSeries) || 8;
			if (results[m].distance <= markerSize / 2) {
				onlyLineAreaTypes = true;
				break;
			}
		}
	}

	for (m = 0; m < results.length; m++) {

		if (onlyLineAreaTypes && results[m].dataSeries.type !== "line" && results[m].dataSeries.type !== "stepLine" && results[m].dataSeries.type !== "area" && results[m].dataSeries.type !== "stepArea") continue;

		if (!closestResult) {
			closestResult = results[m];
		} else if (results[m].distance <= closestResult.distance) {
			closestResult = results[m];
		}
	}

	return closestResult;
};

Chart.prototype.getObjectAtXY = function (mouseX, mouseY, getClosest) {
	getClosest = getClosest || false;

	var id = null;

	var dataPointInfo = this.getDataPointAtXY(mouseX, mouseY, getClosest);

	if (dataPointInfo) {
		id = dataPointInfo.dataSeries.dataPointIds[dataPointInfo.dataPointIndex];
	} else if (_utils.isCanvasSupported) {
		//IE9+
		id = (0, _utils.getObjectId)(mouseX, mouseY, this._eventManager.ghostCtx);
	} else {
		for (var i = 0; i < this.legend.items.length; i++) {
			var item = this.legend.items[i];

			if (mouseX >= item.x1 && mouseX <= item.x2 && mouseY >= item.y1 && mouseY <= item.y2) {
				id = item.id;
			}
		}
	}

	return id;
};

/// <summary>Calculates Font Size based on standardSize and Chart Size</summary>
/// <param name="standardSize" type="Number">Standard font size for a Chart with min(width,height) = 400px</param>
/// <returns type="Number">The area.</returns>
Chart.prototype.getAutoFontSize = function (standardSize, width, height) {

	width = width || this.width;
	height = height || this.height;

	var fontSizeScaleFactor = standardSize / 400;

	return Math.round(Math.min(this.width, this.height) * fontSizeScaleFactor);
};

//#region Events

Chart.prototype.resetOverlayedCanvas = function () {
	//var width = this.overlaidCanvas.width;
	//this.overlaidCanvas.width = 0;
	//this.overlaidCanvas.width = width;
	this.overlaidCanvasCtx.clearRect(0, 0, this.width, this.height);
};

Chart.prototype.clearCanvas = function () {
	this.ctx.clearRect(0, 0, this.width, this.height);

	if (this.backgroundColor) {
		this.ctx.fillStyle = this.backgroundColor;
		this.ctx.fillRect(0, 0, this.width, this.height);
	}
};

Chart.prototype.attachEvent = function (param) {
	this._events.push(param);
};

Chart.prototype._touchEventHandler = function (ev) {
	if (!ev.changedTouches || !this.interactivityEnabled) return;

	var mouseEvents = [];
	var touches = ev.changedTouches;
	var first = touches ? touches[0] : ev;
	var touchCurrentCoordinates = null;

	//window.console.log(touches.length);

	switch (ev.type) {
		case "touchstart":case "MSPointerDown":
			mouseEvents = ["mousemove", "mousedown"];
			this._lastTouchData = (0, _utils.getMouseCoordinates)(first);
			this._lastTouchData.time = new Date();
			break;
		case "touchmove":case "MSPointerMove":
			mouseEvents = ["mousemove"];break;
		case "touchend":case "MSPointerUp":
			mouseEvents = this._lastTouchEventType === "touchstart" || this._lastTouchEventType === "MSPointerDown" ? ["mouseup", "click"] : ["mouseup"];
			break;
		default:
			return;
	}

	if (touches && touches.length > 1) return;

	touchCurrentCoordinates = (0, _utils.getMouseCoordinates)(first);
	touchCurrentCoordinates.time = new Date();
	try {
		var dy = touchCurrentCoordinates.y - this._lastTouchData.y;
		var dx = touchCurrentCoordinates.x - this._lastTouchData.x;
		var dt = touchCurrentCoordinates.time - this._lastTouchData.time;

		if (Math.abs(dy) > 15 && (!!this._lastTouchData.scroll || dt < 200)) {
			//this._lastTouchData.y = touchCurrentCoordinates.y;
			this._lastTouchData.scroll = true;

			var win = window.parent || window;
			if (win && win.scrollBy) win.scrollBy(0, -dy);
		}
	} catch (e) {};

	this._lastTouchEventType = ev.type;

	if (!!this._lastTouchData.scroll && this.zoomEnabled) {
		if (this.isDrag) this.resetOverlayedCanvas();

		this.isDrag = false;
		return;
	}

	for (var i = 0; i < mouseEvents.length; i++) {

		var type = mouseEvents[i];
		var simulatedEvent = document.createEvent("MouseEvent");
		simulatedEvent.initMouseEvent(type, true, true, window, 1, first.screenX, first.screenY, first.clientX, first.clientY, false, false, false, false, 0, null);

		first.target.dispatchEvent(simulatedEvent);

		if (ev.preventManipulation) {
			//alert("preventManipulation");
			ev.preventManipulation();
		}

		if (ev.preventDefault) {
			//alert("preventDefault");
			ev.preventDefault();
		}
	}
};

Chart.prototype._dispatchRangeEvent = function (eventName, triggerSource) {
	var eventParameter = {};

	eventParameter.chart = this._publicChartReference;
	eventParameter.type = eventName;
	eventParameter.trigger = triggerSource;

	var axes = [];

	if (this.axisX) axes.push("axisX");
	if (this.axisY) axes.push("axisY");
	if (this.axisY2) axes.push("axisY2");

	for (var i = 0; i < axes.length; i++) {
		eventParameter[axes[i]] = {
			viewportMinimum: this[axes[i]].sessionVariables.newViewportMinimum,
			viewportMaximum: this[axes[i]].sessionVariables.newViewportMaximum
		};
	}

	this.dispatchEvent(eventName, eventParameter, this._publicChartReference);
};

Chart.prototype._mouseEventHandler = function (ev) {

	if (!this.interactivityEnabled) return;

	if (this._ignoreNextEvent) {
		this._ignoreNextEvent = false;
		return;
	}

	// stop panning and zooming so we can draw
	if (ev.preventManipulation) {
		//alert("preventManipulation");
		ev.preventManipulation();
	}

	// we are handling this event
	if (ev.preventDefault) {
		//alert("preventDefault");
		ev.preventDefault();
	}

	//IE8- uses srcElement instead of target. So instead of checking this condition everytime, its better to create a reference called target.
	if (typeof ev.target === "undefined" && ev.srcElement) ev.target = ev.srcElement;

	//console.log(ev.type);

	var xy = (0, _utils.getMouseCoordinates)(ev);
	var type = ev.type;
	var eventParam;
	var rightclick;

	if (!ev) var e = window.event;
	if (ev.which) rightclick = ev.which == 3;else if (ev.button) rightclick = ev.button == 2;

	//window.console.log(type + " --> x: " + xy.x + "; y:" + xy.y);

	//if (type === "mouseout") {
	//    this._toolTip.hide();
	//}

	if (_options.isDebugMode && window.console) {
		window.console.log(type + " --> x: " + xy.x + "; y:" + xy.y);
		if (rightclick) window.console.log(ev.which);

		if (type === "mouseup") window.console.log("mouseup");
	}

	if (rightclick) return;

	//if (this.plotInfo.axisPlacement === "xySwapped") {
	//    //var temp = xy.x;
	//    //xy.x = xy.y;
	//    //xy.y = temp;
	//    xy = {x: xy.y, y: xy.x};
	//}

	if (Chart.capturedEventParam) {
		eventParam = Chart.capturedEventParam;

		if (type === "mouseup") {
			Chart.capturedEventParam = null;

			if (eventParam.chart.overlaidCanvas.releaseCapture) eventParam.chart.overlaidCanvas.releaseCapture();else document.body.removeEventListener("mouseup", eventParam.chart._mouseEventHandler, false);
		}

		if (eventParam.hasOwnProperty(type)) eventParam[type].call(eventParam.context, xy.x, xy.y);
	} else if (this._events) {

		for (var i = 0; i < this._events.length; i++) {
			if (!this._events[i].hasOwnProperty(type)) continue;

			eventParam = this._events[i];
			var bounds = eventParam.bounds;

			if (xy.x >= bounds.x1 && xy.x <= bounds.x2 && xy.y >= bounds.y1 && xy.y <= bounds.y2) {
				eventParam[type].call(eventParam.context, xy.x, xy.y);

				if (type === "mousedown" && eventParam.capture === true) {
					Chart.capturedEventParam = eventParam;

					if (this.overlaidCanvas.setCapture) this.overlaidCanvas.setCapture();else {
						document.body.addEventListener("mouseup", this._mouseEventHandler, false);
						//addEvent(document.body, "mouseup", this._mouseEventHandler);
					}
				} else if (type === "mouseup") {
					if (eventParam.chart.overlaidCanvas.releaseCapture) eventParam.chart.overlaidCanvas.releaseCapture();else document.body.removeEventListener("mouseup", this._mouseEventHandler, false);
				}

				break;
			} else eventParam = null;
		}

		if (eventParam && eventParam.cursor) {
			ev.target.style.cursor = eventParam.cursor;
		} else ev.target.style.cursor = this._defaultCursor;

		//eventParam =
	}

	if (this._toolTip && this._toolTip.enabled) {

		var plotArea = this.plotArea;

		if (xy.x < plotArea.x1 || xy.x > plotArea.x2 || xy.y < plotArea.y1 || xy.y > plotArea.y2) this._toolTip.hide();
	}

	if ((!this.isDrag || !this.zoomEnabled) && this._eventManager) {

		this._eventManager.mouseEventHandler(ev);
		//this._updateToolTip(ev.x, ev.y);
	}

	//if (this._toolTip.enabled)
	//    this._toolTip.mouseMoveHandler(ev.x, ev.y);
};

Chart.prototype._plotAreaMouseDown = function (x, y) {
	this.isDrag = true;

	if (this.plotInfo.axisPlacement !== "none") {
		this.dragStartPoint = { x: x, y: y };
	} else {
		this.dragStartPoint = { x: x, y: y };
	}
};

Chart.prototype._plotAreaMouseUp = function (x, y) {

	if (this.plotInfo.axisPlacement === "normal" || this.plotInfo.axisPlacement === "xySwapped") {
		if (this.isDrag) {
			var dragDelta = 0,
			    dragDeltaPY = y - this.dragStartPoint.y,
			    dragDeltaPX = x - this.dragStartPoint.x,
			    zoomPX = this.zoomType.indexOf("x") >= 0,
			    //Whether to zoom horizontally
			zoomPY = this.zoomType.indexOf("y") >= 0,
			    //Whether to zoom vertically
			reRender = false;

			this.resetOverlayedCanvas();

			if (this.plotInfo.axisPlacement === "xySwapped") {
				var temp = zoomPY;
				zoomPY = zoomPX;
				zoomPX = temp;
			}

			if (this.panEnabled || this.zoomEnabled) {
				if (this.panEnabled) {

					var overflow = 0;

					for (var i = 0; i < this._axes.length; i++) {
						var axis = this._axes[i];

						if (axis.viewportMinimum < axis.minimum) {

							overflow = axis.minimum - axis.viewportMinimum;

							axis.sessionVariables.newViewportMinimum = axis.viewportMinimum + overflow;
							axis.sessionVariables.newViewportMaximum = axis.viewportMaximum + overflow;

							reRender = true;
						} else if (axis.viewportMaximum > axis.maximum) {

							overflow = axis.viewportMaximum - axis.maximum;
							axis.sessionVariables.newViewportMinimum = axis.viewportMinimum - overflow;
							axis.sessionVariables.newViewportMaximum = axis.viewportMaximum - overflow;

							reRender = true;
						}
					}
				} else if ((!zoomPX || Math.abs(dragDeltaPX) > 2) && (!zoomPY || Math.abs(dragDeltaPY) > 2) && this.zoomEnabled) {

					if (!this.dragStartPoint) return;

					var selectedRegion = {
						x1: zoomPX ? this.dragStartPoint.x : this.plotArea.x1,
						y1: zoomPY ? this.dragStartPoint.y : this.plotArea.y1,
						x2: zoomPX ? x : this.plotArea.x2,
						y2: zoomPY ? y : this.plotArea.y2
					};

					if (Math.abs(selectedRegion.x1 - selectedRegion.x2) > 2 && Math.abs(selectedRegion.y1 - selectedRegion.y2) > 2) {

						if (this._zoomPanToSelectedRegion(selectedRegion.x1, selectedRegion.y1, selectedRegion.x2, selectedRegion.y2)) {

							reRender = true;
						}
					}
				}

				if (reRender) {
					this._ignoreNextEvent = true; //Required so that click event doesn't fire after zooming into a section of the chart.

					this._dispatchRangeEvent("rangeChanging", "zoom");
					this.render();
					this._dispatchRangeEvent("rangeChanged", "zoom");

					if (reRender && this.zoomEnabled && this._zoomButton.style.display === "none") {
						(0, _utils.show)(this._zoomButton, this._resetButton);
						setButtonState(this, this._zoomButton, "pan");
						setButtonState(this, this._resetButton, "reset");
					}
				}
			}
		}
	}

	this.isDrag = false;
};

Chart.prototype._plotAreaMouseMove = function (x, y) {
	if (this.isDrag && this.plotInfo.axisPlacement !== "none") {

		var dragDeltaPX = 0,
		    dragDeltaPY = 0,
		    alpha = null,
		    selectedRegion = null,
		    zoomPX = this.zoomType.indexOf("x") >= 0,
		    //Whether to zoom horizontally
		zoomPY = this.zoomType.indexOf("y") >= 0,
		    //Whether to zoom vertically
		_this = this;

		if (this.plotInfo.axisPlacement === "xySwapped") {
			var temp = zoomPY;
			zoomPY = zoomPX;
			zoomPX = temp;
		}

		dragDeltaPX = this.dragStartPoint.x - x;
		dragDeltaPY = this.dragStartPoint.y - y;

		if (Math.abs(dragDeltaPX) > 2 && Math.abs(dragDeltaPX) < 8 && (this.panEnabled || this.zoomEnabled)) {
			this._toolTip.hide();
		} else if (!this.panEnabled && !this.zoomEnabled) {
			this._toolTip.mouseMoveHandler(x, y);
		}

		if ((!zoomPX || Math.abs(dragDeltaPX) > 2 || !zoomPY || Math.abs(dragDeltaPY) > 2) && (this.panEnabled || this.zoomEnabled)) {
			if (this.panEnabled) {

				selectedRegion = {
					x1: zoomPX ? this.plotArea.x1 + dragDeltaPX : this.plotArea.x1,
					y1: zoomPY ? this.plotArea.y1 + dragDeltaPY : this.plotArea.y1,
					x2: zoomPX ? this.plotArea.x2 + dragDeltaPX : this.plotArea.x2,
					y2: zoomPY ? this.plotArea.y2 + dragDeltaPY : this.plotArea.y2
				};

				if (this._zoomPanToSelectedRegion(selectedRegion.x1, selectedRegion.y1, selectedRegion.x2, selectedRegion.y2, true)) {
					this._dispatchRangeEvent("rangeChanging", "pan");
					this.render();
					this._dispatchRangeEvent("rangeChanged", "pan");

					this.dragStartPoint.x = x;
					this.dragStartPoint.y = y;

					//clearTimeout(this._panTimerId);
					//this._panTimerId = setTimeout(function () {
					//	_this._dispatchRangeEvent("rangeChanging", "pan");
					//	_this.render();
					//	_this._dispatchRangeEvent("rangeChanged", "pan");
					//}, 0);
				}
			} else if (this.zoomEnabled) {

				this.resetOverlayedCanvas();

				alpha = this.overlaidCanvasCtx.globalAlpha;

				this.overlaidCanvasCtx.globalAlpha = .7;
				this.overlaidCanvasCtx.fillStyle = "#A0ABB8";

				var rect = {
					x1: zoomPX ? this.dragStartPoint.x : this.plotArea.x1,
					y1: zoomPY ? this.dragStartPoint.y : this.plotArea.y1,
					x2: zoomPX ? x - this.dragStartPoint.x : this.plotArea.x2 - this.plotArea.x1,
					y2: zoomPY ? y - this.dragStartPoint.y : this.plotArea.y2 - this.plotArea.y1
				};

				this.overlaidCanvasCtx.fillRect(rect.x1, rect.y1, rect.x2, rect.y2);

				this.overlaidCanvasCtx.globalAlpha = alpha;
			}
		}
	} else this._toolTip.mouseMoveHandler(x, y);
};

//#endregion Events

//Sets the viewport range of Axis based on the given rect bounds (pixels). Also limits the zooming/panning based on axis bounds. Returns a boolean to indicate whether it was succesful or not based on the selected region.
Chart.prototype._zoomPanToSelectedRegion = function (px1, py1, px2, py2, keepAxisIndependent) {

	keepAxisIndependent = keepAxisIndependent || false;

	var zoomPX = this.zoomType.indexOf("x") >= 0,
	    //Whether to zoom horizontally
	zoomPY = this.zoomType.indexOf("y") >= 0,
	    //Whether to zoom vertically
	validRegion = false;

	var axes = [],
	    axesWithValidRange = [];
	if (this.axisX && zoomPX) axes.push(this.axisX);
	if (this.axisY && zoomPY) axes.push(this.axisY);
	if (this.axisY2 && zoomPY) axes.push(this.axisY2);

	var params = [];

	for (var i = 0; i < axes.length; i++) {
		var axis = axes[i];
		//var range = Math.abs(axis.viewportMaximum - axis.viewportMinimum);

		var val1 = axis.convertPixelToValue({ x: px1, y: py1 });
		var val2 = axis.convertPixelToValue({ x: px2, y: py2 });

		if (val1 > val2) {
			var temp = val2;
			val2 = val1;
			val1 = temp;
		}

		if (isFinite(axis.dataInfo.minDiff)) {
			if (!(Math.abs(val2 - val1) < 3 * Math.abs(axis.dataInfo.minDiff) || val1 < axis.minimum || val2 > axis.maximum)) {
				axesWithValidRange.push(axis);
				params.push({ val1: val1, val2: val2 });

				validRegion = true;
			} else if (!keepAxisIndependent) {
				validRegion = false;
				break;
			}
		}
	}

	if (validRegion) {
		for (var i = 0; i < axesWithValidRange.length; i++) {
			var axis = axesWithValidRange[i];
			var param = params[i];

			axis.setViewPortRange(param.val1, param.val2);
		}
	}

	return validRegion;
};

Chart.prototype.preparePlotArea = function () {

	var plotArea = this.plotArea;

	var yAxis = this.axisY ? this.axisY : this.axisY2;

	if (!_utils.isCanvasSupported && (plotArea.x1 > 0 || plotArea.y1 > 0)) {
		plotArea.ctx.translate(plotArea.x1, plotArea.y1);
	}

	if (this.axisX && yAxis) {
		plotArea.x1 = this.axisX.lineCoordinates.x1 < this.axisX.lineCoordinates.x2 ? this.axisX.lineCoordinates.x1 : yAxis.lineCoordinates.x1;
		plotArea.y1 = this.axisX.lineCoordinates.y1 < yAxis.lineCoordinates.y1 ? this.axisX.lineCoordinates.y1 : yAxis.lineCoordinates.y1;

		plotArea.x2 = this.axisX.lineCoordinates.x2 > yAxis.lineCoordinates.x2 ? this.axisX.lineCoordinates.x2 : yAxis.lineCoordinates.x2;
		plotArea.y2 = this.axisX.lineCoordinates.y2 > this.axisX.lineCoordinates.y1 ? this.axisX.lineCoordinates.y2 : yAxis.lineCoordinates.y2;

		plotArea.width = plotArea.x2 - plotArea.x1;
		plotArea.height = plotArea.y2 - plotArea.y1;
		//plotArea = { x1: x1, y1: y1, x2: x2, y2: y2, width: x2 - x1, height: y2 - y1 };
	} else {
		//ToDo: @sunil
		var freeSpace = this.layoutManager.getFreeSpace();
		plotArea.x1 = freeSpace.x1;
		plotArea.x2 = freeSpace.x2;
		plotArea.y1 = freeSpace.y1;
		plotArea.y2 = freeSpace.y2;

		plotArea.width = freeSpace.width;
		plotArea.height = freeSpace.height;
	}

	if (!_utils.isCanvasSupported) {

		plotArea.canvas.width = plotArea.width;
		plotArea.canvas.height = plotArea.height;

		plotArea.canvas.style.left = plotArea.x1 + "px";
		plotArea.canvas.style.top = plotArea.y1 + "px";

		if (plotArea.x1 > 0 || plotArea.y1 > 0) {
			plotArea.ctx.translate(-plotArea.x1, -plotArea.y1);
		}
	}

	plotArea.layoutManager = new _layout_manager2.default(plotArea.x1, plotArea.y1, plotArea.x2, plotArea.y2, 2);
};

Chart.prototype.getPixelCoordinatesOnPlotArea = function (x, y) {
	return {
		x: this.axisX.getPixelCoordinatesOnAxis(x).x, y: this.axisY.getPixelCoordinatesOnAxis(y).y
		//return { x: 5, y: 10 };
	};
};

//#region Render Methods

Chart.prototype.renderIndexLabels = function (targetCtx) {
	var ctx = targetCtx || this.plotArea.ctx;

	var plotArea = this.plotArea;

	var mid = 0;
	var yMinLimit = 0;
	var yMaxLimit = 0;
	var xMinLimit = 0;
	var xMaxLimit = 0;
	var marginX = 0,
	    marginY = 0; // Margin between label and dataPoint / PlotArea
	var offSetX = 0,
	    offSetY = 0; // Distance to offSet textBlock (top) from dataPoint inorder to position it
	var visibleWidth = 0;
	var visibleHeight = 0;

	for (var i = 0; i < this._indexLabels.length; i++) {

		var indexLabel = this._indexLabels[i];
		var chartTypeLower = indexLabel.chartType.toLowerCase();

		var x, y, angle;

		var fontColor = (0, _utils.getProperty)("indexLabelFontColor", indexLabel.dataPoint, indexLabel.dataSeries);
		var fontSize = (0, _utils.getProperty)("indexLabelFontSize", indexLabel.dataPoint, indexLabel.dataSeries);
		var fontFamily = (0, _utils.getProperty)("indexLabelFontFamily", indexLabel.dataPoint, indexLabel.dataSeries);
		var fontStyle = (0, _utils.getProperty)("indexLabelFontStyle", indexLabel.dataPoint, indexLabel.dataSeries);
		var fontWeight = (0, _utils.getProperty)("indexLabelFontWeight", indexLabel.dataPoint, indexLabel.dataSeries);
		var backgroundColor = (0, _utils.getProperty)("indexLabelBackgroundColor", indexLabel.dataPoint, indexLabel.dataSeries);
		var maxWidth = (0, _utils.getProperty)("indexLabelMaxWidth", indexLabel.dataPoint, indexLabel.dataSeries);
		var indexLabelWrap = (0, _utils.getProperty)("indexLabelWrap", indexLabel.dataPoint, indexLabel.dataSeries);

		var percentAndTotal = {
			percent: null, total: null
		};
		var formatterParameter = null;

		if (indexLabel.dataSeries.type.indexOf("stacked") >= 0 || indexLabel.dataSeries.type === "pie" || indexLabel.dataSeries.type === "doughnut") percentAndTotal = this.getPercentAndTotal(indexLabel.dataSeries, indexLabel.dataPoint);

		if (indexLabel.dataSeries.indexLabelFormatter || indexLabel.dataPoint.indexLabelFormatter) formatterParameter = {
			chart: this._options, dataSeries: indexLabel.dataSeries, dataPoint: indexLabel.dataPoint, index: indexLabel.indexKeyword, total: percentAndTotal.total, percent: percentAndTotal.percent
		};

		var indexLabelText = indexLabel.dataPoint.indexLabelFormatter ? indexLabel.dataPoint.indexLabelFormatter(formatterParameter) : indexLabel.dataPoint.indexLabel ? this.replaceKeywordsWithValue(indexLabel.dataPoint.indexLabel, indexLabel.dataPoint, indexLabel.dataSeries, null, indexLabel.indexKeyword) : indexLabel.dataSeries.indexLabelFormatter ? indexLabel.dataSeries.indexLabelFormatter(formatterParameter) : indexLabel.dataSeries.indexLabel ? this.replaceKeywordsWithValue(indexLabel.dataSeries.indexLabel, indexLabel.dataPoint, indexLabel.dataSeries, null, indexLabel.indexKeyword) : null;

		if (indexLabelText === null || indexLabelText === "") continue;

		var placement = (0, _utils.getProperty)("indexLabelPlacement", indexLabel.dataPoint, indexLabel.dataSeries);
		var orientation = (0, _utils.getProperty)("indexLabelOrientation", indexLabel.dataPoint, indexLabel.dataSeries);
		var angle = 0;

		var direction = indexLabel.direction; // +1 for above the point and -1 for below the point

		var axisX = indexLabel.dataSeries.axisX;
		var axisY = indexLabel.dataSeries.axisY;

		var textBlock = new _text_block2.default(ctx, {
			x: 0,
			y: 0,
			maxWidth: maxWidth ? maxWidth : this.width * .5,
			maxHeight: indexLabelWrap ? fontSize * 5 : fontSize * 1.5,
			angle: orientation === "horizontal" ? 0 : -90,
			text: indexLabelText,
			padding: 0,
			backgroundColor: backgroundColor,
			horizontalAlign: "left", //left, center, right
			fontSize: fontSize, //in pixels
			fontFamily: fontFamily,
			fontWeight: fontWeight, //normal, bold, bolder, lighter,
			fontColor: fontColor,
			fontStyle: fontStyle, // normal, italic, oblique
			textBaseline: "top"
		});

		var textSize = textBlock.measureText();

		//if (indexLabel.dataPoint.x < axisX.viewportMinimum || indexLabel.dataPoint.x > axisX.viewportMaximum || indexLabel.dataPoint.y < axisY.viewportMinimum || indexLabel.dataPoint.y > axisY.viewportMaximum)
		//	continue;

		if (chartTypeLower.indexOf("line") >= 0 || chartTypeLower.indexOf("area") >= 0 || chartTypeLower.indexOf("bubble") >= 0 || chartTypeLower.indexOf("scatter") >= 0) {

			if (indexLabel.dataPoint.x < axisX.viewportMinimum || indexLabel.dataPoint.x > axisX.viewportMaximum || indexLabel.dataPoint.y < axisY.viewportMinimum || indexLabel.dataPoint.y > axisY.viewportMaximum) continue;
		} else {
			if (indexLabel.dataPoint.x < axisX.viewportMinimum || indexLabel.dataPoint.x > axisX.viewportMaximum) continue;
		}

		marginY = 2;
		marginX = 2;

		if (orientation === "horizontal") {
			visibleWidth = textBlock.width;
			visibleHeight = textBlock.height;
		} else {
			visibleHeight = textBlock.width;
			visibleWidth = textBlock.height;
		}

		if (this.plotInfo.axisPlacement === "normal") {

			if (chartTypeLower.indexOf("line") >= 0 || chartTypeLower.indexOf("area") >= 0) {

				placement = "auto";
				marginY = 4;
			} else if (chartTypeLower.indexOf("stacked") >= 0) {

				if (placement === "auto") placement = "inside";
			} else if (chartTypeLower === "bubble" || chartTypeLower === "scatter") {

				placement = "inside";
			}

			x = indexLabel.point.x - visibleWidth / 2;

			if (placement !== "inside") {
				//outside or auto

				yMinLimit = plotArea.y1;
				yMaxLimit = plotArea.y2;

				if (direction > 0) {
					y = indexLabel.point.y - visibleHeight - marginY;

					if (y < yMinLimit) {
						if (placement === "auto") {
							y = Math.max(indexLabel.point.y, yMinLimit) + marginY;
						} else {
							y = yMinLimit + marginY;
						}
					}
				} else {
					y = indexLabel.point.y + marginY;

					if (y > yMaxLimit - visibleHeight - marginY) {
						if (placement === "auto") {
							y = Math.min(indexLabel.point.y, yMaxLimit) - visibleHeight - marginY;
						} else {
							y = yMaxLimit - visibleHeight - marginY;
						}
					}
				}
			} else {

				yMinLimit = Math.max(indexLabel.bounds.y1, plotArea.y1);
				yMaxLimit = Math.min(indexLabel.bounds.y2, plotArea.y2);

				if (chartTypeLower.indexOf("range") >= 0) {
					if (direction > 0) mid = Math.max(indexLabel.bounds.y1, plotArea.y1) + visibleHeight / 2 + marginY;else mid = Math.min(indexLabel.bounds.y2, plotArea.y2) - visibleHeight / 2 - marginY;
				} else mid = (Math.max(indexLabel.bounds.y1, plotArea.y1) + Math.min(indexLabel.bounds.y2, plotArea.y2)) / 2;

				if (direction > 0) {
					y = Math.max(indexLabel.point.y, mid) - visibleHeight / 2;

					if (y < yMinLimit && (chartTypeLower === "bubble" || chartTypeLower === "scatter")) {
						y = Math.max(indexLabel.point.y - visibleHeight - marginY, plotArea.y1 + marginY);
					}
				} else {
					y = Math.min(indexLabel.point.y, mid) - visibleHeight / 2;

					if (y > yMaxLimit - visibleHeight - marginY && (chartTypeLower === "bubble" || chartTypeLower === "scatter")) {
						y = Math.min(indexLabel.point.y + marginY, plotArea.y2 - visibleHeight - marginY);
					}
				}

				// Make Sure that it does not overlap the axis line
				y = Math.min(y, yMaxLimit - visibleHeight);
			}
		} else {

			if (chartTypeLower.indexOf("line") >= 0 || chartTypeLower.indexOf("area") >= 0 || chartTypeLower.indexOf("scatter") >= 0) {

				placement = "auto";
				marginX = 4;
			} else if (chartTypeLower.indexOf("stacked") >= 0) {

				if (placement === "auto") placement = "inside";
			} else if (chartTypeLower === "bubble") {

				placement = "inside";
			}

			y = indexLabel.point.y - visibleHeight / 2;

			if (placement !== "inside") {
				//outside or auto

				xMinLimit = plotArea.x1;
				xMaxLimit = plotArea.x2;

				if (direction < 0) {
					x = indexLabel.point.x - visibleWidth - marginX;

					if (x < xMinLimit) {
						if (placement === "auto") {
							x = Math.max(indexLabel.point.x, xMinLimit) + marginX;
						} else {
							x = xMinLimit + marginX;
						}
					}
				} else {
					x = indexLabel.point.x + marginX;

					if (x > xMaxLimit - visibleWidth - marginX) {
						if (placement === "auto") {
							x = Math.min(indexLabel.point.x, xMaxLimit) - visibleWidth - marginX;
						} else {
							x = xMaxLimit - visibleWidth - marginX;
						}
					}
				}
			} else {

				xMinLimit = Math.max(indexLabel.bounds.x1, plotArea.x1);
				xMaxLimit = Math.min(indexLabel.bounds.x2, plotArea.x2);

				if (chartTypeLower.indexOf("range") >= 0) {
					if (direction < 0) mid = Math.max(indexLabel.bounds.x1, plotArea.x1) + visibleWidth / 2 + marginX;else mid = Math.min(indexLabel.bounds.x2, plotArea.x2) - visibleWidth / 2 - marginX;
				} else var mid = (Math.max(indexLabel.bounds.x1, plotArea.x1) + Math.min(indexLabel.bounds.x2, plotArea.x2)) / 2;

				if (direction < 0) {
					x = Math.max(indexLabel.point.x, mid) - visibleWidth / 2;

					//if (y < xMinLimit) {
					//	y = Math.max(indexLabel.point.y - visibleHeight - marginY, plotArea.y1 + marginY);
					//}
				} else {
					x = Math.min(indexLabel.point.x, mid) - visibleWidth / 2;

					//if (y > xMaxLimit - visibleHeight - marginY) {
					//	y = Math.min(indexLabel.point.y + marginY, plotArea.y2 - visibleHeight - marginY);
					//}
				}

				// Make Sure that it does not overlap the axis line
				x = Math.max(x, xMinLimit);
			}
		}

		if (orientation === "vertical") {
			y += visibleHeight;
		}

		textBlock.x = x;
		textBlock.y = y;

		//console.log(textBlock.text + ": " + textBlock.x + "; " + textBlock.y);

		textBlock.render(true);
	}

	//source and dest would be same when animation is not enabled
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: _animator4.default.fadeInAnimation, easingFunction: _animator4.default.easing.easeInQuad, animationBase: 0, startTimePercent: .7
	};
	return animationInfo;
};

Chart.prototype.renderLine = function (plotUnit) {

	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;

	var totalDataSeries = plotUnit.dataSeriesIndexes.length;
	if (totalDataSeries <= 0) return;

	var ghostCtx = this._eventManager.ghostCtx;
	//var ghostCtx = this.overlaidCanvasCtx;

	ctx.save();

	var plotArea = this.plotArea;

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	var markers = [];

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];
		ctx.lineWidth = dataSeries.lineThickness;
		var dataPoints = dataSeries.dataPoints;

		if (ctx.setLineDash) {
			ctx.setLineDash((0, _utils.getLineDashArray)(dataSeries.lineDashType, dataSeries.lineThickness));
		}

		var seriesId = dataSeries.id;
		this._eventManager.objectMap[seriesId] = {
			objectType: "dataSeries", dataSeriesIndex: dataSeriesIndex
		};
		var hexColor = (0, _utils.intToHexColorString)(seriesId);
		ghostCtx.strokeStyle = hexColor;
		//ghostCtx.lineWidth = dataSeries.lineThickness;
		ghostCtx.lineWidth = dataSeries.lineThickness > 0 ? Math.max(dataSeries.lineThickness, 4) : 0;

		var colorSet = dataSeries._colorSet;
		var color = colorSet[0];
		ctx.strokeStyle = color;

		var isFirstDataPointInPlotArea = true;
		var i = 0,
		    x,
		    y;
		var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number back and forth.

		//if (!dataSeries._options.markerSize && dataSeries.dataPoints.length < 1000)
		//    dataSeries.markerSize = 8;
		ctx.beginPath();
		if (dataPoints.length > 0) {
			//var xy = this.getPixelCoordinatesOnPlotArea(dataPoints[0].x, dataPoints[0].y);

			//dataSeries.noDataPointsInPlotArea = 0
			var prevDataNull = false;
			for (i = 0; i < dataPoints.length; i++) {

				dataPointX = dataPoints[i].x.getTime ? dataPoints[i].x.getTime() : dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) continue;

				//if (!isFinite(dataPoints[i].y))
				//    continue;

				if (typeof dataPoints[i].y !== "number") {
					if (i > 0) {
						// if first dataPoint is null then no need to call stroke method
						ctx.stroke();

						if (_utils.isCanvasSupported) {
							ghostCtx.stroke();
						}
					}

					prevDataNull = true;
					continue;
				}

				x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;
				y = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x, y1: y
				};

				//dataSeries.noDataPointsInPlotArea++;

				if (isFirstDataPointInPlotArea || prevDataNull) {
					ctx.beginPath();
					ctx.moveTo(x, y);

					if (_utils.isCanvasSupported) {
						ghostCtx.beginPath();
						ghostCtx.moveTo(x, y);
					}

					isFirstDataPointInPlotArea = false;
					prevDataNull = false;
				} else {

					ctx.lineTo(x, y);

					if (_utils.isCanvasSupported) ghostCtx.lineTo(x, y);

					if (i % 500 == 0) {
						ctx.stroke();
						ctx.beginPath();
						ctx.moveTo(x, y);

						if (_utils.isCanvasSupported) {
							ghostCtx.stroke();
							ghostCtx.beginPath();
							ghostCtx.moveTo(x, y);
						}
					}
				}

				//Render Marker
				if (dataPoints[i].markerSize > 0 || dataSeries.markerSize > 0) {

					var markerProps = dataSeries.getMarkerProperties(i, x, y, ctx);
					markers.push(markerProps);

					//if (!dataSeries.maxWidthInX || markerProps.size > dataSeries.maxWidthInX) {
					//	dataSeries.maxWidthInX = markerProps.size / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);
					//}

					var markerColor = (0, _utils.intToHexColorString)(id);

					//window.console.log("index: " + i + "; id: " + id + "; hex: " + markerColor);

					if (_utils.isCanvasSupported) {
						markers.push({
							x: x, y: y, ctx: ghostCtx,
							type: markerProps.type,
							size: markerProps.size,
							color: markerColor,
							borderColor: markerColor,
							borderThickness: markerProps.borderThickness
						});
					}
				}

				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: "line",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						point: {
							x: x, y: y
						},
						direction: dataPoints[i].y >= 0 ? 1 : -1,
						color: color
					});
				}
			}

			ctx.stroke();

			if (_utils.isCanvasSupported) ghostCtx.stroke();
		}
	}

	_render2.default.drawMarkers(markers);
	ctx.restore();

	ctx.beginPath();

	if (_utils.isCanvasSupported) ghostCtx.beginPath();

	//source and dest would be same when animation is not enabled
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: _animator4.default.xClipAnimation, easingFunction: _animator4.default.easing.linear, animationBase: 0
	};
	return animationInfo;
};

Chart.prototype.renderStepLine = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;

	var totalDataSeries = plotUnit.dataSeriesIndexes.length;
	if (totalDataSeries <= 0) return;

	var ghostCtx = this._eventManager.ghostCtx;
	//var ghostCtx = this.overlaidCanvasCtx;

	ctx.save();

	var plotArea = this.plotArea;

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	var markers = [];

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];
		ctx.lineWidth = dataSeries.lineThickness;
		var dataPoints = dataSeries.dataPoints;

		if (ctx.setLineDash) {
			ctx.setLineDash((0, _utils.getLineDashArray)(dataSeries.lineDashType, dataSeries.lineThickness));
		}

		var seriesId = dataSeries.id;
		this._eventManager.objectMap[seriesId] = {
			objectType: "dataSeries", dataSeriesIndex: dataSeriesIndex
		};
		var hexColor = (0, _utils.intToHexColorString)(seriesId);
		ghostCtx.strokeStyle = hexColor;
		//ghostCtx.lineWidth = dataSeries.lineThickness;
		ghostCtx.lineWidth = dataSeries.lineThickness > 0 ? Math.max(dataSeries.lineThickness, 4) : 0;

		var colorSet = dataSeries._colorSet;
		var color = colorSet[0];
		ctx.strokeStyle = color;

		var isFirstDataPointInPlotArea = true;
		var i = 0,
		    x,
		    y;
		var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number back and forth.

		//if (!dataSeries._options.markerSize && dataSeries.dataPoints.length < 1000)
		//    dataSeries.markerSize = 8;
		ctx.beginPath();
		if (dataPoints.length > 0) {
			//var xy = this.getPixelCoordinatesOnPlotArea(dataPoints[0].x, dataPoints[0].y);

			//dataSeries.noDataPointsInPlotArea = 0
			var prevDataNull = false;
			for (i = 0; i < dataPoints.length; i++) {

				dataPointX = dataPoints[i].getTime ? dataPoints[i].x.getTime() : dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) continue;

				//if (!isFinite(dataPoints[i].y))
				//    continue;

				if (typeof dataPoints[i].y !== "number") {
					if (i > 0) {
						// if first dataPoint is null then no need to call stroke method
						ctx.stroke();

						if (_utils.isCanvasSupported) {
							ghostCtx.stroke();
						}
					}

					prevDataNull = true;
					continue;
				}

				var prevY = y;

				x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;
				y = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x, y1: y
				};

				//dataSeries.noDataPointsInPlotArea++;

				if (isFirstDataPointInPlotArea || prevDataNull) {
					ctx.beginPath();
					ctx.moveTo(x, y);

					if (_utils.isCanvasSupported) {
						ghostCtx.beginPath();
						ghostCtx.moveTo(x, y);
					}

					isFirstDataPointInPlotArea = false;
					prevDataNull = false;
				} else {

					ctx.lineTo(x, prevY);
					if (_utils.isCanvasSupported) ghostCtx.lineTo(x, prevY);

					ctx.lineTo(x, y);
					if (_utils.isCanvasSupported) ghostCtx.lineTo(x, y);

					if (i % 500 == 0) {
						ctx.stroke();
						ctx.beginPath();
						ctx.moveTo(x, y);

						if (_utils.isCanvasSupported) {
							ghostCtx.stroke();
							ghostCtx.beginPath();
							ghostCtx.moveTo(x, y);
						}
					}
				}

				//Render Marker
				if (dataPoints[i].markerSize > 0 || dataSeries.markerSize > 0) {

					var markerProps = dataSeries.getMarkerProperties(i, x, y, ctx);
					markers.push(markerProps);

					//if (!dataSeries.maxWidthInX || markerProps.size > dataSeries.maxWidthInX) {
					//	dataSeries.maxWidthInX = markerProps.size / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);
					//}

					var markerColor = (0, _utils.intToHexColorString)(id);

					//window.console.log("index: " + i + "; id: " + id + "; hex: " + markerColor);
					if (_utils.isCanvasSupported) {
						markers.push({
							x: x, y: y, ctx: ghostCtx,
							type: markerProps.type,
							size: markerProps.size,
							color: markerColor,
							borderColor: markerColor,
							borderThickness: markerProps.borderThickness
						});
					}
				}

				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: "stepLine",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						point: {
							x: x, y: y
						},
						direction: dataPoints[i].y >= 0 ? 1 : -1,
						color: color
					});
				}
			}

			ctx.stroke();
			if (_utils.isCanvasSupported) ghostCtx.stroke();
		}
	}

	_render2.default.drawMarkers(markers);
	ctx.restore();

	ctx.beginPath();

	if (_utils.isCanvasSupported) ghostCtx.beginPath();

	//source and dest would be same when animation is not enabled
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: _animator4.default.xClipAnimation, easingFunction: _animator4.default.easing.linear, animationBase: 0
	};
	return animationInfo;
};

Chart.prototype.animationRequestId = null;

Chart.prototype.requestAnimFrame = function () {
	return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {
		window.setTimeout(callback, 1000 / 60);
	};
}();

Chart.prototype.cancelRequestAnimFrame = function () {
	return window.cancelAnimationFrame || window.webkitCancelRequestAnimationFrame || window.mozCancelRequestAnimationFrame || window.oCancelRequestAnimationFrame || window.msCancelRequestAnimationFrame || clearTimeout;
}();

Chart.prototype.getPercentAndTotal = function (ds, dp) {

	var dpX = null;
	var total = null;
	var percent = null;

	if (ds.type.indexOf("stacked") >= 0) {
		total = 0;
		dpX = dp.x.getTime ? dp.x.getTime() : dp.x;
		if (dpX in ds.plotUnit.yTotals) {
			total = ds.plotUnit.yTotals[dpX];

			if (!isNaN(dp.y)) {
				if (total === 0) percent = 0;else percent = dp.y / total * 100;
			} else percent = 0;
		}
	} else if (ds.type === "pie" || ds.type === "doughnut") {
		total = 0;
		for (var i = 0; i < ds.dataPoints.length; i++) {

			if (!isNaN(ds.dataPoints[i].y)) total += ds.dataPoints[i].y;
		}

		if (!isNaN(dp.y)) percent = dp.y / total * 100;else percent = 0;
	}

	return {
		percent: percent, total: total
	};
};

Chart.prototype.replaceKeywordsWithValue = function (str, dp, ds, dpIndex, indexKeywordValue) {
	//var regex = /\{\s*[a-zA-Z]+\s*\}|"[^"]*"|'[^']*'/g;
	var regex = /\{.*?\}|"[^"]*"|'[^']*'/g;
	var chart = this;
	indexKeywordValue = typeof indexKeywordValue === "undefined" ? 0 : indexKeywordValue;

	if ((ds.type.indexOf("stacked") >= 0 || ds.type === "pie" || ds.type === "doughnut") && (str.indexOf("#percent") >= 0 || str.indexOf("#total") >= 0)) {
		var percent = "#percent";
		var total = "#total";
		var dpX = null;

		var percentAndTotal = this.getPercentAndTotal(ds, dp);

		total = isNaN(percentAndTotal.total) ? total : percentAndTotal.total;
		percent = isNaN(percentAndTotal.percent) ? percent : percentAndTotal.percent;

		do {
			var percentFormatString = "";
			if (ds.percentFormatString) percentFormatString = ds.percentFormatString;else {
				percentFormatString = "#,##0.";
				var numberOfDecimals = Math.max(Math.ceil(Math.log(1 / Math.abs(percent)) / Math.LN10), 2);

				if (isNaN(numberOfDecimals) || !isFinite(numberOfDecimals)) numberOfDecimals = 2;

				for (var n = 0; n < numberOfDecimals; n++) {
					percentFormatString += "#";
				}
			}

			str = str.replace("#percent", (0, _utils.numberFormat)(percent, percentFormatString, chart._cultureInfo));
			str = str.replace("#total", (0, _utils.numberFormat)(total, ds.yValueFormatString ? ds.yValueFormatString : "#,##0.########"));
		} while (str.indexOf("#percent") >= 0 || str.indexOf("#total") >= 0);
	}

	var fcn = function fcn($0) {
		if ($0[0] === "\"" && $0[$0.length - 1] === "\"" || $0[0] === "\'" && $0[$0.length - 1] === "\'") return $0.slice(1, $0.length - 1);

		var key = (0, _utils.trimString)($0.slice(1, $0.length - 1));
		key = key.replace("#index", indexKeywordValue);

		var index = null;

		try {
			var match = key.match(/(.*?)\s*\[\s*(.*?)\s*\]/);
			if (match && match.length > 0) {
				index = (0, _utils.trimString)(match[2]);
				key = (0, _utils.trimString)(match[1]);
			}
		} catch (e) {};

		var obj = null;

		if (key === "color") {
			return dp.color ? dp.color : ds.color ? ds.color : ds._colorSet[dpIndex % ds._colorSet.length];
		}

		if (dp.hasOwnProperty(key)) obj = dp;else if (ds.hasOwnProperty(key)) obj = ds;else return "";

		var value = obj[key];
		if (index !== null) value = value[index];

		if (key === "x") {
			if (chart.axisX && chart.plotInfo.axisXValueType === "dateTime") return dateFormat(value, dp.xValueFormatString ? dp.xValueFormatString : ds.xValueFormatString ? ds.xValueFormatString : chart.axisX && chart.axisX.valueFormatString ? chart.axisX.valueFormatString : "DD MMM YY", chart._cultureInfo);else return (0, _utils.numberFormat)(value, dp.xValueFormatString ? dp.xValueFormatString : ds.xValueFormatString ? ds.xValueFormatString : "#,##0.########", chart._cultureInfo);
		} else if (key === "y") return (0, _utils.numberFormat)(value, dp.yValueFormatString ? dp.yValueFormatString : ds.yValueFormatString ? ds.yValueFormatString : "#,##0.########", chart._cultureInfo);else if (key === "z") return (0, _utils.numberFormat)(value, dp.zValueFormatString ? dp.zValueFormatString : ds.zValueFormatString ? ds.zValueFormatString : "#,##0.########", chart._cultureInfo);else return value;
	};

	return str.replace(regex, fcn);
};

Chart.prototype.renderSpline = _index.SplineChart;

Chart.prototype.renderColumn = _index.ColumnChart;

Chart.prototype.renderStackedColumn = _index.StackedColumnChart;

Chart.prototype.renderStackedColumn100 = _index.StackedColumn100Chart;

Chart.prototype.renderBar = _index.BarChart;

Chart.prototype.renderStackedBar = _index.StackedBarChart;

Chart.prototype.renderStackedBar100 = _index.StackedBar100Chart;

Chart.prototype.renderArea = _index.AreaChart;

Chart.prototype.renderSplineArea = _index.SplineAreaChart;

Chart.prototype.renderStepArea = _index.StepAreaChart;

Chart.prototype.renderStackedArea = _index.StackedAreaChart;

Chart.prototype.renderStackedArea100 = _index.StackedArea100Chart;

Chart.prototype.renderBubble = _index.BubbleChart;

Chart.prototype.renderScatter = _index.ScatterChart;

Chart.prototype.renderCandlestick = _index.CandlestickChart;

Chart.prototype.renderRangeColumn = _index.RangeColumnChart;

Chart.prototype.renderRangeBar = _index.RangeBarChart;

Chart.prototype.renderRangeArea = _index.RangeAreaChart;

Chart.prototype.renderRangeSplineArea = _index.RangeSplineAreaChart;

Chart.prototype.renderPie = _index.PieChart;

exports.default = Chart;

},{"../charts/index":6,"../constants/options":23,"../constants/themes":24,"../core/axis":26,"../core/culture_info":29,"../core/legend":33,"../core/title":35,"../helpers/animator":37,"../helpers/render":38,"../helpers/utils":39,"./animator":25,"./canvasjs":27,"./data_series":30,"./event_manager":31,"./layout_manager":32,"./text_block":34,"./tooltip":36}],29:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _canvasjs = require('./canvasjs');

var _canvasjs2 = _interopRequireDefault(_canvasjs);

var _utils = require('../helpers/utils');

var _culture = require('../constants/culture');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function CultureInfo(culture) {

  var cultureInfo;

  if (culture && _culture.cultures[culture]) cultureInfo = _culture.cultures[culture];

  CultureInfo.base.constructor.call(this, "CultureInfo", cultureInfo);
}

(0, _utils.extend)(CultureInfo, _canvasjs2.default);

exports.default = CultureInfo;

},{"../constants/culture":22,"../helpers/utils":39,"./canvasjs":27}],30:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _canvasjs = require('./canvasjs');

var _canvasjs2 = _interopRequireDefault(_canvasjs);

var _utils = require('../helpers/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function DataSeries(chart, options, theme, index, id) {
  DataSeries.base.constructor.call(this, "DataSeries", options, theme);

  this.chart = chart;
  this.canvas = chart.canvas;
  this._ctx = chart.canvas.ctx;
  this.index = index;
  this.noDataPointsInPlotArea = 0;
  //this.maxWidthInX = 0;
  this.id = id;
  this.chart._eventManager.objectMap[id] = {
    id: id, objectType: "dataSeries", dataSeriesIndex: index
  };
  this.dataPointIds = [];
  this.plotUnit = [];

  this.axisX = null;
  this.axisY = null;

  if (this.fillOpacity === null) {
    if (this.type.match(/area/i)) this.fillOpacity = .7;else this.fillOpacity = 1;
  }

  this.axisPlacement = this.getDefaultAxisPlacement();

  if (typeof this._options.indexLabelFontSize === "undefined") {

    this.indexLabelFontSize = this.chart.getAutoFontSize(this.indexLabelFontSize);
  }
}

(0, _utils.extend)(DataSeries, _canvasjs2.default);

//Static Method that returns the axisPlacement for a given ChartType. Returns one of "normal", "xySwapped", "none"
DataSeries.prototype.getDefaultAxisPlacement = function () {

  //if (!this.visible)
  //	return "none";

  //type = this.type.toLowerCase();
  var type = this.type;

  if (type === "column" || type === "line" || type === "stepLine" || type === "spline" || type === "area" || type === "stepArea" || type === "splineArea" || type === "stackedColumn" || type === "stackedLine" || type === "bubble" || type === "scatter" || type === "stackedArea" || type === "stackedColumn100" || type === "stackedLine100" || type === "stackedArea100" || type === "candlestick" || type === "ohlc" || type === "rangeColumn" || type === "rangeArea" || type === "rangeSplineArea") {
    return "normal";
  } else if (type === "bar" || type === "stackedBar" || type === "stackedBar100" || type === "rangeBar") {

    return "xySwapped";
  } else if (type === "pie" || type === "doughnut" || type === "funnel") {
    return "none";
  } else {
    window.console.log("Unknown Chart Type: " + type);
    return null;
  }
};

DataSeries.getDefaultLegendMarker = function (type) {

  //type = type.toLowerCase();

  if (type === "column" || type === "stackedColumn" || type === "stackedLine" || type === "bar" || type === "stackedBar" || type === "stackedBar100" || type === "bubble" || type === "scatter" || type === "stackedColumn100" || type === "stackedLine100" || type === "stepArea" || type === "candlestick" || type === "ohlc" || type === "rangeColumn" || type === "rangeBar" || type === "rangeArea" || type === "rangeSplineArea") {
    return "square";
  } else if (type === "line" || type === "stepLine" || type === "spline" || type === "pie" || type === "doughnut" || type === "funnel") {
    return "circle";
  } else if (type === "area" || type === "splineArea" || type === "stackedArea" || type === "stackedArea100") {
    return "triangle";
  } else {
    window.console.log("Unknown Chart Type: " + type);
    return null;
  }
};

//Finds dataPoint with the given x value. If findClosest is set, finds dataPoint with closest x value.
//Returns searchResult object if found, else returns null
DataSeries.prototype.getDataPointAtX = function (x, findClosest) {

  if (!this.dataPoints || this.dataPoints.length === 0) return null;

  var searchResult = {
    dataPoint: null, distance: Infinity, index: NaN
  };
  var dataPoint = null;

  var j = 0;
  var i = 0;
  var direction = 1; // +1 for foward and -1 for backward.

  var minimumXDistance = Infinity;
  var forwardMissCount = 0,
      backwardMissCount = 0;
  var maxMissCount = 1000;
  var searchStartIndex = 0;

  if (this.chart.plotInfo.axisPlacement !== "none") {

    //var xRange = (this.dataPoints[this.dataPoints.length - 1].x - this.dataPoints[0].x);

    //if (xRange > 0)
    //	searchStartIndex = ((this.dataPoints.length - 1) / xRange * (x - this.dataPoints[0].x)) >> 0;
    //else
    //	searchStartIndex = 0;

    var xRange = this.dataPoints[this.dataPoints.length - 1].x - this.dataPoints[0].x;

    if (xRange > 0) searchStartIndex = Math.min(Math.max((this.dataPoints.length - 1) / xRange * (x - this.dataPoints[0].x) >> 0, 0), this.dataPoints.length);else searchStartIndex = 0;

    //searchStartIndex = ((this.dataPoints[this.dataPoints.length - 1].x - this.dataPoints[0].x) / this.dataPoints.length * (x - this.dataPoints[0].x)) >> 0;
  }

  while (true) {

    i = direction > 0 ? searchStartIndex + j : searchStartIndex - j;

    if (i >= 0 && i < this.dataPoints.length) {

      dataPoint = this.dataPoints[i];

      var distance = Math.abs(dataPoint.x - x);

      if (distance < searchResult.distance) {
        searchResult.dataPoint = dataPoint;
        searchResult.distance = distance;
        searchResult.index = i;
      }

      var xDistance = Math.abs(dataPoint.x - x);
      if (xDistance <= minimumXDistance) minimumXDistance = xDistance;else {
        if (direction > 0) forwardMissCount++;else backwardMissCount++;
      }

      if (forwardMissCount > maxMissCount && backwardMissCount > maxMissCount) break;
    } else if (searchStartIndex - j < 0 && searchStartIndex + j >= this.dataPoints.length) break;

    if (direction === -1) {
      j++;
      direction = 1;
    } else direction = -1;
  }

  if (!findClosest && searchResult.dataPoint.x === x) return searchResult;else if (findClosest && searchResult.dataPoint !== null) return searchResult;else return null;
};

// x & y should be in pixels. Can be used only after rendering the chart.
DataSeries.prototype.getDataPointAtXY = function (x, y, getClosest) {

  if (!this.dataPoints || this.dataPoints.length === 0) return null;

  getClosest = getClosest || false;
  var results = [];
  var j = 0,
      i = 0;
  var direction = 1; // +1 for foward and -1 for backward.
  var foundDataPoint = false;
  var minimumXDistance = Infinity;
  var forwardMissCount = 0,
      backwardMissCount = 0;
  var maxMissCount = 1000;
  var searchStartIndex = 0;

  if (this.chart.plotInfo.axisPlacement !== "none") {
    var xval = this.chart.axisX.getXValueAt({ x: x, y: y });

    var xRange = this.dataPoints[this.dataPoints.length - 1].x - this.dataPoints[0].x;

    if (xRange > 0) searchStartIndex = Math.min(Math.max((this.dataPoints.length - 1) / xRange * (xval - this.dataPoints[0].x) >> 0, 0), this.dataPoints.length);else searchStartIndex = 0;

    //var xRange = (this.axisX._absoluteMaximum - this.axisX._absoluteMinimum);

    //if (xRange > 0)
    //	searchStartIndex = Math.min(Math.max(((this.dataPoints.length - 1) / xRange * (xval - this.axisX._absoluteMinimum)) >> 0, 0), this.dataPoints.length);
    //else
    //	searchStartIndex = 0;
  }

  while (true) {

    //i = searchStartIndex + (j * direction);
    i = direction > 0 ? searchStartIndex + j : searchStartIndex - j;

    if (i >= 0 && i < this.dataPoints.length) {

      var id = this.dataPointIds[i];
      var visualInfo = this.chart._eventManager.objectMap[id];
      var dataPoint = this.dataPoints[i];
      var distance = null;

      if (visualInfo) {

        switch (this.type) {

          case "column":
          case "stackedColumn":
          case "stackedColumn100":
          case "bar":
          case "stackedBar":
          case "stackedBar100":
          case "rangeColumn":
          case "rangeBar":

            if (x >= visualInfo.x1 && x <= visualInfo.x2 && y >= visualInfo.y1 && y <= visualInfo.y2) {
              results.push({
                dataPoint: dataPoint,
                dataPointIndex: i,
                dataSeries: this,
                distance: Math.min(Math.abs(visualInfo.x1 - x), Math.abs(visualInfo.x2 - x), Math.abs(visualInfo.y1 - y), Math.abs(visualInfo.y2 - y))
                //distance:0
              });

              foundDataPoint = true;
            }
            break;

          case "line":
          case "stepLine":
          case "spline":
          case "area":
          case "stepArea":
          case "stackedArea":
          case "stackedArea100":
          case "splineArea":
          case "scatter":
            var markerSize = (0, _utils.getProperty)("markerSize", dataPoint, this) || 4;
            var snapDistance = getClosest ? 20 : markerSize;

            distance = Math.sqrt(Math.pow(visualInfo.x1 - x, 2) + Math.pow(visualInfo.y1 - y, 2));
            if (distance <= snapDistance) {
              results.push({
                dataPoint: dataPoint,
                dataPointIndex: i,
                dataSeries: this,
                distance: distance
              });
            }

            var xDistance = Math.abs(visualInfo.x1 - x);
            if (xDistance <= minimumXDistance) minimumXDistance = xDistance;else {
              if (direction > 0) forwardMissCount++;else backwardMissCount++;
            }

            if (distance <= markerSize / 2) {
              foundDataPoint = true;
            }

            break;

          case "rangeArea":
          case "rangeSplineArea":

            var markerSize = (0, _utils.getProperty)("markerSize", dataPoint, this) || 4;
            var snapDistance = getClosest ? 20 : markerSize;

            distance = Math.min(Math.sqrt(Math.pow(visualInfo.x1 - x, 2) + Math.pow(visualInfo.y1 - y, 2)), Math.sqrt(Math.pow(visualInfo.x1 - x, 2) + Math.pow(visualInfo.y2 - y, 2)));
            if (distance <= snapDistance) {
              results.push({
                dataPoint: dataPoint,
                dataPointIndex: i,
                dataSeries: this,
                distance: distance
              });
            }

            var xDistance = Math.abs(visualInfo.x1 - x);
            if (xDistance <= minimumXDistance) minimumXDistance = xDistance;else {
              if (direction > 0) forwardMissCount++;else backwardMissCount++;
            }

            if (distance <= markerSize / 2) {
              foundDataPoint = true;
            }

            break;

          case "bubble":
            var markerSize = visualInfo.size;
            distance = Math.sqrt(Math.pow(visualInfo.x1 - x, 2) + Math.pow(visualInfo.y1 - y, 2));
            if (distance <= markerSize / 2) {
              results.push({
                dataPoint: dataPoint,
                dataPointIndex: i,
                dataSeries: this,
                distance: distance
              });

              foundDataPoint = true;
            }
            break;

          case "pie":
          case "doughnut":
            var center = visualInfo.center;
            var innerRadius = this.type === "doughnut" ? visualInfo.percentInnerRadius * visualInfo.radius : 0;

            distance = Math.sqrt(Math.pow(center.x - x, 2) + Math.pow(center.y - y, 2));
            if (distance < visualInfo.radius && distance > innerRadius) {

              var deltaY = y - center.y;
              var deltaX = x - center.x;
              var angle = Math.atan2(deltaY, deltaX);

              if (angle < 0) angle += Math.PI * 2;

              angle = Number(((angle / Math.PI * 180 % 360 + 360) % 360).toFixed(12));
              //console.log(angle);


              var startAngle = Number(((visualInfo.startAngle / Math.PI * 180 % 360 + 360) % 360).toFixed(12));
              var endAngle = Number(((visualInfo.endAngle / Math.PI * 180 % 360 + 360) % 360).toFixed(12));

              //So that data point is detected when there is only one dataPoint
              if (endAngle === 0 && visualInfo.endAngle > 1) {
                endAngle = 360;
              }

              if (startAngle >= endAngle && dataPoint.y !== 0) {
                endAngle += 360;

                if (angle < startAngle) angle += 360;
              }

              if (angle > startAngle && angle < endAngle) {
                results.push({
                  dataPoint: dataPoint,
                  dataPointIndex: i,
                  dataSeries: this,
                  distance: 0
                });

                foundDataPoint = true;
              }
            }

            break;

          case "candlestick":
            if (x >= visualInfo.x1 - visualInfo.borderThickness / 2 && x <= visualInfo.x2 + visualInfo.borderThickness / 2 && y >= visualInfo.y2 - visualInfo.borderThickness / 2 && y <= visualInfo.y3 + visualInfo.borderThickness / 2 || Math.abs(visualInfo.x2 - x + visualInfo.x1 - x) < visualInfo.borderThickness && y >= visualInfo.y1 && y <= visualInfo.y4) {
              results.push({
                dataPoint: dataPoint,
                dataPointIndex: i,
                dataSeries: this,
                distance: Math.min(Math.abs(visualInfo.x1 - x), Math.abs(visualInfo.x2 - x), Math.abs(visualInfo.y2 - y), Math.abs(visualInfo.y3 - y))
                //distance:0
              });

              foundDataPoint = true;
            }
            break;

          case "ohlc":

            if (Math.abs(visualInfo.x2 - x + visualInfo.x1 - x) < visualInfo.borderThickness && y >= visualInfo.y2 && y <= visualInfo.y3 || x >= visualInfo.x1 && x <= (visualInfo.x2 + visualInfo.x1) / 2 && y >= visualInfo.y1 - visualInfo.borderThickness / 2 && y <= visualInfo.y1 + visualInfo.borderThickness / 2 || x >= (visualInfo.x1 + visualInfo.x2) / 2 && x <= visualInfo.x2 && y >= visualInfo.y4 - visualInfo.borderThickness / 2 && y <= visualInfo.y4 + visualInfo.borderThickness / 2) {

              results.push({
                dataPoint: dataPoint,
                dataPointIndex: i,
                dataSeries: this,
                distance: Math.min(Math.abs(visualInfo.x1 - x), Math.abs(visualInfo.x2 - x), Math.abs(visualInfo.y2 - y), Math.abs(visualInfo.y3 - y))
                //distance:0
              });

              foundDataPoint = true;
            }
            break;

        }

        if (foundDataPoint || forwardMissCount > maxMissCount && backwardMissCount > maxMissCount) break;
      }
    } else if (searchStartIndex - j < 0 && searchStartIndex + j >= this.dataPoints.length) break;

    if (direction === -1) {
      j++;
      direction = 1;
    } else direction = -1;
  }

  var closestResult = null;

  for (var m = 0; m < results.length; m++) {
    if (!closestResult) {
      closestResult = results[m];
    } else if (results[m].distance <= closestResult.distance) {
      closestResult = results[m];
    }
  }

  //if (window.console)
  //	window.console.log("forwardMissCount: " + forwardMissCount + "; backwardMissCount: " + backwardMissCount + "; getClosest: " + getClosest);

  //if (window.console && closestResult)
  //    window.console.log(j + ": distance = " + closestResult.distance);

  return closestResult;
};

DataSeries.prototype.getMarkerProperties = function (index, x, y, ctx) {
  var dataPoints = this.dataPoints;
  var dataSeries = this;

  var markerColor = dataPoints[index].markerColor ? dataPoints[index].markerColor : dataSeries.markerColor ? dataSeries.markerColor : dataPoints[index].color ? dataPoints[index].color : dataSeries.color ? dataSeries.color : dataSeries._colorSet[index % dataSeries._colorSet.length];
  var markerBorderColor = dataPoints[index].markerBorderColor ? dataPoints[index].markerBorderColor : dataSeries.markerBorderColor ? dataSeries.markerBorderColor : null;
  var markerBorderThickness = dataPoints[index].markerBorderThickness ? dataPoints[index].markerBorderThickness : dataSeries.markerBorderThickness ? dataSeries.markerBorderThickness : null;
  var markerType = dataPoints[index].markerType ? dataPoints[index].markerType : dataSeries.markerType;
  var markerSize = dataPoints[index].markerSize ? dataPoints[index].markerSize : dataSeries.markerSize;

  return {
    x: x, y: y, ctx: ctx,
    type: markerType,
    size: markerSize,
    color: markerColor,
    borderColor: markerBorderColor,
    borderThickness: markerBorderThickness
  };
};

exports.default = DataSeries;

},{"../helpers/utils":39,"./canvasjs":27}],31:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _utils = require("../helpers/utils");

function EventManager(chart) {
  this.chart = chart;
  this.lastObjectId = 0;
  var _this = this;
  this.objectMap = [];
  this.rectangularRegionEventSubscriptions = [];
  this.previousDataPointEventObject = null;
  //this.previousDataSeriesEventObject = null;

  this.ghostCanvas = (0, _utils.createCanvas)(this.chart.width, this.chart.height);
  //this.ghostCanvas.width = this.chart.width;
  //this.ghostCanvas.height = this.chart.height;

  this.ghostCtx = this.ghostCanvas.getContext("2d");

  var eventHandler = function eventHandler(ev) {
    _this.mouseEventHandler.call(_this, ev);
  };

  this.mouseoveredObjectMaps = [];
  //this.chart.canvas.addEventListener("mouseover", eventHandler);
  //this.chart.canvas.addEventListener("mousemove", eventHandler);
  //this.chart.canvas.addEventListener("mouseout", eventHandler);
  //this.chart.canvas.addEventListener("click", eventHandler);
}

EventManager.prototype.reset = function () {
  this.lastObjectId = 0;
  this.objectMap = [];
  this.rectangularRegionEventSubscriptions = [];
  this.previousDataPointEventObject = null;

  this.eventObjects = [];
  //this.ghostCanvas.width = this.chart.width;
  //this.ghostCanvas.height = this.chart.height;

  if (_utils.isCanvasSupported) {
    this.ghostCtx.clearRect(0, 0, this.chart.width, this.chart.height);
    this.ghostCtx.beginPath();
  }
};

EventManager.prototype.getNewObjectTrackingId = function () {
  return ++this.lastObjectId;
};

EventManager.prototype.mouseEventHandler = function (ev) {

  if (ev.type !== "mousemove" && ev.type !== "click") return;

  var eventObjectMaps = [];
  var xy = (0, _utils.getMouseCoordinates)(ev);
  var id = null;

  //var dataPointInfo = this.chart.getDataPointAtXY(xy.x, xy.y, false);

  //if (dataPointInfo) {
  //	id = dataPointInfo.dataSeries.dataPointIds[dataPointInfo.dataPointIndex];
  //} else if (isCanvasSupported) {//IE9+
  //	id = getObjectId(xy.x, xy.y, this.ghostCtx);
  //}
  id = this.chart.getObjectAtXY(xy.x, xy.y, false);

  if (id && typeof this.objectMap[id] !== "undefined") {

    var eventObjectMap = this.objectMap[id];

    if (eventObjectMap.objectType === "dataPoint") {
      var dataSeries = this.chart.data[eventObjectMap.dataSeriesIndex];
      var dataPoint = dataSeries.dataPoints[eventObjectMap.dataPointIndex];
      var dataPointIndex = eventObjectMap.dataPointIndex;

      //Event Parameter should not contain reference to dataSeries directly. But to its options.
      eventObjectMap.eventParameter = {
        x: xy.x, y: xy.y, dataPoint: dataPoint,
        dataSeries: dataSeries._options, dataPointIndex: dataPointIndex, dataSeriesIndex: dataSeries.index,
        chart: this.chart._publicChartReference
      };
      eventObjectMap.eventContext = {
        context: dataPoint, userContext: dataPoint, mouseover: "mouseover", mousemove: "mousemove", mouseout: "mouseout", click: "click"
      };
      eventObjectMaps.push(eventObjectMap);

      //Add Dataseries too because mouse event on dataPoint also means there is an event on dataSeries. DataSeries is not present on ghost canvas
      eventObjectMap = this.objectMap[dataSeries.id];

      //Event Parameter should not contain reference to dataSeries directly. But to its options.
      eventObjectMap.eventParameter = {
        x: xy.x, y: xy.y,
        dataPoint: dataPoint, dataSeries: dataSeries._options, dataPointIndex: dataPointIndex, dataSeriesIndex: dataSeries.index,
        chart: this.chart._publicChartReference
      };

      eventObjectMap.eventContext = {
        context: dataSeries, userContext: dataSeries._options, mouseover: "mouseover", mousemove: "mousemove", mouseout: "mouseout", click: "click"
      };
      eventObjectMaps.push(this.objectMap[dataSeries.id]);
    }
    //else if (eventObjectMap.objectType === "stripLine") {

    //	//Event Parameter should not contain reference to stripLine directly. But to its options.
    //	eventObjectMap.eventParameter = { x: xy.x, y: xy.y, stripLine: eventObjectMap.stripLine._options, axis: eventObjectMap.axis._options, stripLineIndex: eventObjectMap.stripLineIndex };
    //	eventObjectMap.eventContext = { context: eventObjectMap.stripLine, userContext: eventObjectMap.stripLine._options, mouseover: "mouseover", mousemove: "mousemove", mouseout: "mouseout", click: "click" };

    //	eventObjectMaps.push(eventObjectMap);
    //}
    else if (eventObjectMap.objectType === "legendItem") {

        var dataSeries = this.chart.data[eventObjectMap.dataSeriesIndex];
        var dataPoint = eventObjectMap.dataPointIndex !== null ? dataSeries.dataPoints[eventObjectMap.dataPointIndex] : null;

        //Event Parameter should not contain reference to DataSeries directly. But to its options.
        eventObjectMap.eventParameter = {
          x: xy.x, y: xy.y,
          dataSeries: dataSeries._options, dataPoint: dataPoint, dataPointIndex: eventObjectMap.dataPointIndex, dataSeriesIndex: eventObjectMap.dataSeriesIndex,
          chart: this.chart._publicChartReference
        };
        eventObjectMap.eventContext = {
          context: this.chart.legend, userContext: this.chart.legend._options, mouseover: "itemmouseover", mousemove: "itemmousemove", mouseout: "itemmouseout", click: "itemclick"
        };
        eventObjectMaps.push(eventObjectMap);
      }
  }

  //Fire mouseout if existing mouseovered objects are not present in the objectmap.
  var mouseOutObjectMapsExcluded = [];
  for (var i = 0; i < this.mouseoveredObjectMaps.length; i++) {
    var mouseOut = true;

    for (var j = 0; j < eventObjectMaps.length; j++) {
      if (eventObjectMaps[j].id === this.mouseoveredObjectMaps[i].id) {
        mouseOut = false;
        break;
      }
    }

    if (mouseOut) {
      this.fireEvent(this.mouseoveredObjectMaps[i], "mouseout", ev);
    } else {
      mouseOutObjectMapsExcluded.push(this.mouseoveredObjectMaps[i]);
    }
  }

  this.mouseoveredObjectMaps = mouseOutObjectMapsExcluded;

  //Process new eventObectMaps
  //If they already don't exist, add them and fire mouseover
  //If ev.type is mousemove, then just fire mousemove
  //If ev.type is click, then fire two events - click followed by mousemove
  for (var i = 0; i < eventObjectMaps.length; i++) {

    var existing = false;

    for (var j = 0; j < this.mouseoveredObjectMaps.length; j++) {
      if (eventObjectMaps[i].id === this.mouseoveredObjectMaps[j].id) {
        existing = true;
        break;
      }
    }

    if (!existing) {
      this.fireEvent(eventObjectMaps[i], "mouseover", ev);
      this.mouseoveredObjectMaps.push(eventObjectMaps[i]);
    }

    if (ev.type === "click") {
      this.fireEvent(eventObjectMaps[i], "click", ev);
    } else if (ev.type === "mousemove") {
      this.fireEvent(eventObjectMaps[i], "mousemove", ev);
    }
  }
};

EventManager.prototype.fireEvent = function (eventObjectMap, eventType, ev) {

  if (!eventObjectMap || !eventType) return;

  var eventParameter = eventObjectMap.eventParameter;
  var eventContext = eventObjectMap.eventContext;
  //var context = eventObjectMap.eventContext.context;
  var userContext = eventObjectMap.eventContext.userContext;

  if (userContext && eventContext && userContext[eventContext[eventType]]) userContext[eventContext[eventType]].call(userContext, eventParameter);

  if (eventType !== "mouseout") {
    if (userContext.cursor && userContext.cursor !== ev.target.style.cursor) {
      ev.target.style.cursor = userContext.cursor;
    }
  } else {
    ev.target.style.cursor = this.chart._defaultCursor;
    delete eventObjectMap.eventParameter; // reference no longer required.
    delete eventObjectMap.eventContext; // reference no longer required.
  }

  //This is just a quick fix. Need to find a better way of calling internal event handlers.
  if (eventType === "click" && eventObjectMap.objectType === "dataPoint" && this.chart.pieDoughnutClickHandler) {
    this.chart.pieDoughnutClickHandler.call(this.chart.data[eventObjectMap.dataSeriesIndex], eventParameter);
  }
};

exports.default = EventManager;

},{"../helpers/utils":39}],32:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
function LayoutManager(x1, y1, x2, y2, padding) {

  if (typeof padding === "undefined") padding = 0;

  this._padding = padding;

  this._x1 = x1;
  this._y1 = y1;
  this._x2 = x2;
  this._y2 = y2;

  this._topOccupied = this._padding;
  this._bottomOccupied = this._padding;
  this._leftOccupied = this._padding;
  this._rightOccupied = this._padding;
}

LayoutManager.prototype.registerSpace = function (position, size) {
  if (position === "top") {
    this._topOccupied += size.height;
  } else if (position === "bottom") {
    this._bottomOccupied += size.height;
  } else if (position === "left") {
    this._leftOccupied += size.width; // this is width when seen upright/vertically
  } else if (position === "right") {
    this._rightOccupied += size.width; // this is width when seen upright/vertically
  }
};

LayoutManager.prototype.unRegisterSpace = function (position, size) {
  if (position === "top") {
    this._topOccupied -= size.height;
  } else if (position === "bottom") {
    this._bottomOccupied -= size.height;
  } else if (position === "left") {
    this._leftOccupied -= size.width; // this is width when seen upright/vertically
  } else if (position === "right") {
    this._rightOccupied -= size.width; // this is width when seen upright/vertically
  }
};

LayoutManager.prototype.getFreeSpace = function () {
  ///<signature>
  ///<summary>Returns available free space {x1:number, y1:number, x2:number, y2:number}</summary>
  ///</signature>

  return {
    x1: this._x1 + this._leftOccupied,
    y1: this._y1 + this._topOccupied,
    x2: this._x2 - this._rightOccupied,
    y2: this._y2 - this._bottomOccupied,
    width: this._x2 - this._x1 - this._rightOccupied - this._leftOccupied,
    height: this._y2 - this._y1 - this._bottomOccupied - this._topOccupied
  };
};

LayoutManager.prototype.reset = function () {
  //so that there is enough padding.
  this._topOccupied = this._padding;
  this._bottomOccupied = this._padding;
  this._leftOccupied = this._padding;
  this._rightOccupied = this._padding;
};

exports.default = LayoutManager;

},{}],33:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _data_series = require('./data_series');

var _data_series2 = _interopRequireDefault(_data_series);

var _canvasjs = require('./canvasjs');

var _canvasjs2 = _interopRequireDefault(_canvasjs);

var _text_block = require('./text_block');

var _text_block2 = _interopRequireDefault(_text_block);

var _render = require('../helpers/render');

var _render2 = _interopRequireDefault(_render);

var _utils = require('../helpers/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Legend(chart, options, theme) {
  Legend.base.constructor.call(this, "Legend", options, theme);

  this.chart = chart;
  this.canvas = chart.canvas;
  this.ctx = this.chart.ctx;
  this.ghostCtx = this.chart._eventManager.ghostCtx;
  this.items = [];

  this.width = 0,
  //this.fontSize = 12,
  this.height = 0, this.orientation = null, this.dataSeries = [];
  this.bounds = {
    x1: null, y1: null, x2: null, y2: null
  };

  if (typeof this._options.fontSize === "undefined") {
    this.fontSize = this.chart.getAutoFontSize(this.fontSize);
    //window.console.log("fontSize: " + this.fontSize);
  }

  this.lineHeight = (0, _utils.getFontHeightInPixels)(this.fontFamily, this.fontSize, this.fontWeight);

  this.horizontalSpacing = this.fontSize;
}

(0, _utils.extend)(Legend, _canvasjs2.default);

Legend.prototype.render = function () {

  var container = !this.dockInsidePlotArea ? this.chart : this.chart.plotArea;
  var freeSpace = container.layoutManager.getFreeSpace();
  var position = null;
  var top = 0;
  var left = 0;
  var maxWidth = 0;
  var maxHeight = 0;
  var itemMargin = 5;

  var items = [];
  var rows = [];

  //this.ctx.font = getFontString("", this, null);
  //this.ctx.fontColor = this.fontColor;

  if (this.verticalAlign === "top" || this.verticalAlign === "bottom") {
    this.orientation = "horizontal";
    position = this.verticalAlign;

    maxWidth = this.maxWidth !== null ? this.maxWidth : freeSpace.width * .7;
    maxHeight = this.maxHeight !== null ? this.maxHeight : freeSpace.height * .5;
  } else if (this.verticalAlign === "center") {
    this.orientation = "vertical";
    position = this.horizontalAlign;

    maxWidth = this.maxWidth !== null ? this.maxWidth : freeSpace.width * .5;
    maxHeight = this.maxHeight !== null ? this.maxHeight : freeSpace.height * .7;
  }

  for (var i = 0; i < this.dataSeries.length; i++) {
    var dataSeries = this.dataSeries[i];

    if (dataSeries.type !== "pie" && dataSeries.type !== "doughnut" && dataSeries.type !== "funnel") {

      var markerType = dataSeries.legendMarkerType ? dataSeries.legendMarkerType : (dataSeries.type === "line" || dataSeries.type === "stepLine" || dataSeries.type === "spline" || dataSeries.type === "scatter" || dataSeries.type === "bubble") && dataSeries.markerType ? dataSeries.markerType : _data_series2.default.getDefaultLegendMarker(dataSeries.type);
      var legendText = dataSeries.legendText ? dataSeries.legendText : this.itemTextFormatter ? this.itemTextFormatter({ chart: this.chart, legend: this._options, dataSeries: dataSeries, dataPoint: null }) : dataSeries.name;
      var markerColor = dataSeries.legendMarkerColor ? dataSeries.legendMarkerColor : dataSeries.markerColor ? dataSeries.markerColor : dataSeries._colorSet[0];
      var markerSize = !dataSeries.markerSize && (dataSeries.type === "line" || dataSeries.type === "stepLine" || dataSeries.type === "spline") ? 0 : this.lineHeight * .6;
      var markerBorderColor = dataSeries.legendMarkerBorderColor ? dataSeries.legendMarkerBorderColor : dataSeries.markerBorderColor;
      var markerBorderThickness = dataSeries.legendMarkerBorderThickness ? dataSeries.legendMarkerBorderThickness : dataSeries.markerBorderThickness ? Math.max(1, Math.round(markerSize * .2)) : 0;
      var lineColor = dataSeries._colorSet[0];

      legendText = this.chart.replaceKeywordsWithValue(legendText, dataSeries.dataPoints[0], dataSeries, i);
      var item = {
        markerType: markerType, markerColor: markerColor, text: legendText, textBlock: null, chartType: dataSeries.type, markerSize: markerSize, lineColor: dataSeries._colorSet[0],
        dataSeriesIndex: dataSeries.index, dataPointIndex: null, markerBorderColor: markerBorderColor, markerBorderThickness: markerBorderThickness
      };

      items.push(item);
    } else {
      for (var dataPointIndex = 0; dataPointIndex < dataSeries.dataPoints.length; dataPointIndex++) {

        var dataPoint = dataSeries.dataPoints[dataPointIndex];

        var markerType = dataPoint.legendMarkerType ? dataPoint.legendMarkerType : dataSeries.legendMarkerType ? dataSeries.legendMarkerType : _data_series2.default.getDefaultLegendMarker(dataSeries.type);
        var legendText = dataPoint.legendText ? dataPoint.legendText : dataSeries.legendText ? dataSeries.legendText : this.itemTextFormatter ? this.itemTextFormatter({ chart: this.chart, legend: this._options, dataSeries: dataSeries, dataPoint: dataPoint }) : dataPoint.name ? dataPoint.name : "DataPoint: " + (dataPointIndex + 1);
        var markerColor = dataPoint.legendMarkerColor ? dataPoint.legendMarkerColor : dataSeries.legendMarkerColor ? dataSeries.legendMarkerColor : dataPoint.color ? dataPoint.color : dataSeries.color ? dataSeries.color : dataSeries._colorSet[dataPointIndex % dataSeries._colorSet.length];
        var markerSize = this.lineHeight * .6;
        var markerBorderColor = dataPoint.legendMarkerBorderColor ? dataPoint.legendMarkerBorderColor : dataSeries.legendMarkerBorderColor ? dataSeries.legendMarkerBorderColor : dataPoint.markerBorderColor ? dataPoint.markerBorderColor : dataSeries.markerBorderColor;
        var markerBorderThickness = dataPoint.legendMarkerBorderThickness ? dataPoint.legendMarkerBorderThickness : dataSeries.legendMarkerBorderThickness ? dataSeries.legendMarkerBorderThickness : dataPoint.markerBorderThickness || dataSeries.markerBorderThickness ? Math.max(1, Math.round(markerSize * .2)) : 0;

        legendText = this.chart.replaceKeywordsWithValue(legendText, dataPoint, dataSeries, dataPointIndex);

        var item = {
          markerType: markerType, markerColor: markerColor, text: legendText, textBlock: null, chartType: dataSeries.type, markerSize: markerSize,
          dataSeriesIndex: i, dataPointIndex: dataPointIndex, markerBorderColor: markerBorderColor, markerBorderThickness: markerBorderThickness
        };

        if (dataPoint.showInLegend || dataSeries.showInLegend && dataPoint.showInLegend !== false) {
          items.push(item);
        }
      }
    }
    item = null;
  }
  if (this.reversed === true) {
    items.reverse();
  }

  // Find out the required width and height of Legend and position the items relative to the container
  if (items.length > 0) {
    var row = null;
    var rowIndex = 0; // required for vertical orientation
    var textMaxWidth = 0;
    var columnHeight = 0;

    if (this.itemWidth !== null) {
      if (this.itemMaxWidth !== null) {
        textMaxWidth = Math.min(this.itemWidth, this.itemMaxWidth, maxWidth);
      } else {
        textMaxWidth = Math.min(this.itemWidth, maxWidth);
      }
    } else {
      if (this.itemMaxWidth !== null) {
        textMaxWidth = Math.min(this.itemMaxWidth, maxWidth);
      } else {
        textMaxWidth = maxWidth;
      }
    }

    markerSize = markerSize === 0 ? this.lineHeight * .6 : markerSize;
    textMaxWidth = textMaxWidth - (markerSize + this.horizontalSpacing * .1);

    for (var i = 0; i < items.length; i++) {
      var item = items[i];

      if (item.chartType === "line" || item.chartType === "spline" || item.chartType === "stepLine") {
        textMaxWidth = textMaxWidth - 2 * (this.lineHeight * .1);
      }

      if (maxHeight <= 0 || typeof maxHeight === "undefined" || textMaxWidth <= 0 || typeof textMaxWidth === "undefined") {
        continue;
      }

      if (this.orientation === "horizontal") {

        item.textBlock = new _text_block2.default(this.ctx, {
          x: 0,
          y: 0, //TBI
          maxWidth: textMaxWidth,
          maxHeight: this.itemWrap ? maxHeight : this.lineHeight, //TBI: FontSize
          angle: 0,
          text: item.text,
          horizontalAlign: "left", //left, center, right
          fontSize: this.fontSize, //in pixels
          fontFamily: this.fontFamily,
          fontWeight: this.fontWeight, //normal, bold, bolder, lighter,
          fontColor: this.fontColor,
          fontStyle: this.fontStyle, // normal, italic, oblique
          textBaseline: "top"
        });
        item.textBlock.measureText();

        if (this.itemWidth !== null) {
          item.textBlock.width = this.itemWidth - (markerSize + this.horizontalSpacing * .1 + (item.chartType === "line" || item.chartType === "spline" || item.chartType === "stepLine" ? 2 * (this.lineHeight * .1) : 0));
        }

        if (!row || row.width + Math.round(item.textBlock.width + this.horizontalSpacing * .1 + markerSize + (row.width === 0 ? 0 : this.horizontalSpacing) + (item.chartType === "line" || item.chartType === "spline" || item.chartType === "stepLine" ? 2 * (this.lineHeight * .1) : 0)) > maxWidth) {
          row = {
            items: [], width: 0
          };
          rows.push(row);
          this.height += columnHeight;
          columnHeight = 0;
        }

        columnHeight = Math.max(columnHeight, item.textBlock.height);

        item.textBlock.x = row.width;
        item.textBlock.y = 0;

        row.width += Math.round(item.textBlock.width + this.horizontalSpacing * .1 + markerSize + (row.width === 0 ? 0 : this.horizontalSpacing) + (item.chartType === "line" || item.chartType === "spline" || item.chartType === "stepLine" ? 2 * (this.lineHeight * .1) : 0));
        row.items.push(item);

        this.width = Math.max(row.width, this.width);
      } else {

        item.textBlock = new _text_block2.default(this.ctx, {
          x: 0,
          y: 0, //TBI
          maxWidth: textMaxWidth,
          maxHeight: this.itemWrap === true ? maxHeight : this.fontSize * 1.5, //TBI: FontSize
          angle: 0,
          text: item.text,
          horizontalAlign: "left", //left, center, right
          fontSize: this.fontSize, //in pixels
          fontFamily: this.fontFamily,
          fontWeight: this.fontWeight, //normal, bold, bolder, lighter,
          fontColor: this.fontColor,
          fontStyle: this.fontStyle, // normal, italic, oblique
          textBaseline: "top"
        });

        item.textBlock.measureText();

        if (this.itemWidth !== null) {
          item.textBlock.width = this.itemWidth - (markerSize + this.horizontalSpacing * .1 + (item.chartType === "line" || item.chartType === "spline" || item.chartType === "stepLine" ? 2 * (this.lineHeight * .1) : 0));
        }

        if (this.height <= maxHeight) {
          row = {
            items: [], width: 0
          };
          rows.push(row);
        } else {
          row = rows[rowIndex];
          rowIndex = (rowIndex + 1) % rows.length;
        }

        this.height += item.textBlock.height;

        item.textBlock.x = row.width; // relative to the row
        item.textBlock.y = 0; // relative to the row

        row.width += Math.round(item.textBlock.width + this.horizontalSpacing * .1 + markerSize + (row.width === 0 ? 0 : this.horizontalSpacing) + (item.chartType === "line" || item.chartType === "spline" || item.chartType === "stepLine" ? 2 * (this.lineHeight * .1) : 0));
        row.items.push(item);

        this.width = Math.max(row.width, this.width);
      }
    }

    if (this.itemWrap === false) {
      this.height = rows.length * this.lineHeight;
    } else {
      this.height += columnHeight;
    }

    this.height = Math.min(maxHeight, this.height);
    this.width = Math.min(maxWidth, this.width);
  }

  if (this.verticalAlign === "top") {
    if (this.horizontalAlign === "left") left = freeSpace.x1;else if (this.horizontalAlign === "right") left = freeSpace.x2 - this.width;else left = freeSpace.x1 + freeSpace.width / 2 - this.width / 2;

    top = freeSpace.y1;
  } else if (this.verticalAlign === "center") {
    if (this.horizontalAlign === "left") left = freeSpace.x1;else if (this.horizontalAlign === "right") left = freeSpace.x2 - this.width;else left = freeSpace.x1 + freeSpace.width / 2 - this.width / 2;

    top = freeSpace.y1 + freeSpace.height / 2 - this.height / 2;
  } else if (this.verticalAlign === "bottom") {
    if (this.horizontalAlign === "left") left = freeSpace.x1;else if (this.horizontalAlign === "right") left = freeSpace.x2 - this.width;else left = freeSpace.x1 + freeSpace.width / 2 - this.width / 2;

    top = freeSpace.y2 - this.height;
  }

  this.items = items;

  //Assign ids to all legendItems
  for (var i = 0; i < this.items.length; i++) {

    var item = items[i];

    item.id = ++this.chart._eventManager.lastObjectId;
    this.chart._eventManager.objectMap[item.id] = {
      id: item.id, objectType: "legendItem", legendItemIndex: i, dataSeriesIndex: item.dataSeriesIndex, dataPointIndex: item.dataPointIndex
    };
    //delete item.textBlock;// Not Required anymore
  }

  var rowHeight = 0;
  for (var i = 0; i < rows.length; i++) {
    var row = rows[i];
    var columnHeight = 0;
    for (var itemIndex = 0; itemIndex < row.items.length; itemIndex++) {
      var item = row.items[itemIndex];

      var itemX = item.textBlock.x + left + (itemIndex === 0 ? markerSize * .2 : this.horizontalSpacing);
      var itemY = top + rowHeight;

      var ghostX = itemX;

      if (!this.chart.data[item.dataSeriesIndex].visible) this.ctx.globalAlpha = .5;

      this.ctx.save();
      this.ctx.rect(left, top, maxWidth, maxHeight);
      this.ctx.clip();

      if (item.chartType === "line" || item.chartType === "stepLine" || item.chartType === "spline") {
        this.ctx.strokeStyle = item.lineColor;
        this.ctx.lineWidth = Math.ceil(this.lineHeight / 8);
        this.ctx.beginPath();
        this.ctx.moveTo(itemX - this.lineHeight * .1, itemY + this.lineHeight / 2);
        this.ctx.lineTo(itemX + this.lineHeight * .7, itemY + this.lineHeight / 2);
        this.ctx.stroke();

        ghostX -= this.lineHeight * .1;
      }

      _render2.default.drawMarker(itemX + markerSize / 2, itemY + this.lineHeight / 2, this.ctx, item.markerType, item.markerSize, item.markerColor, item.markerBorderColor, item.markerBorderThickness);

      item.textBlock.x = itemX + this.horizontalSpacing * .1 + markerSize;

      if (item.chartType === "line" || item.chartType === "stepLine" || item.chartType === "spline") {
        item.textBlock.x = item.textBlock.x + this.lineHeight * .1;
      }

      item.textBlock.y = itemY;

      item.textBlock.render(true);

      this.ctx.restore();

      if (itemIndex > 0) {
        columnHeight = Math.max(columnHeight, item.textBlock.height);
      } else {
        columnHeight = item.textBlock.height;
      }

      if (!this.chart.data[item.dataSeriesIndex].visible) this.ctx.globalAlpha = 1;

      var hexColor = intToHexColorString(item.id);
      this.ghostCtx.fillStyle = hexColor;
      this.ghostCtx.beginPath();
      this.ghostCtx.fillRect(ghostX, item.textBlock.y, item.textBlock.x + item.textBlock.width - ghostX, item.textBlock.height);

      item.x1 = this.chart._eventManager.objectMap[item.id].x1 = ghostX;
      item.y1 = this.chart._eventManager.objectMap[item.id].y1 = item.textBlock.y;
      item.x2 = this.chart._eventManager.objectMap[item.id].x2 = item.textBlock.x + item.textBlock.width;
      item.y2 = this.chart._eventManager.objectMap[item.id].y2 = item.textBlock.y + item.textBlock.height;
    }
    rowHeight = rowHeight + columnHeight;
  }

  //this.ctx.beginPath();
  //this.ctx.lineWidth = 2;
  //this.ctx.strokeStyle = "red";
  //this.ctx.rect(left, top, this.width, this.height);
  //this.ctx.stroke();

  container.layoutManager.registerSpace(position, { width: this.width + 2 + 2, height: this.height + 5 + 5 });

  this.bounds = {
    x1: left, y1: top, x2: left + this.width, y2: top + this.height
  };
};

exports.default = Legend;

},{"../helpers/render":38,"../helpers/utils":39,"./canvasjs":27,"./data_series":30,"./text_block":34}],34:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _canvasjs = require('./canvasjs');

var _canvasjs2 = _interopRequireDefault(_canvasjs);

var _utils = require('../helpers/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function TextBlock(ctx, options) {

  TextBlock.base.constructor.call(this, "TextBlock", options);

  this.ctx = ctx;
  this._isDirty = true;
  this._wrappedText = null;
  this._lineHeight = (0, _utils.getFontHeightInPixels)(this.fontFamily, this.fontSize, this.fontWeight);
}

(0, _utils.extend)(TextBlock, _canvasjs2.default);

TextBlock.prototype.render = function (preserveContext) {
  if (preserveContext) this.ctx.save();

  var font = this.ctx.font;
  this.ctx.textBaseline = this.textBaseline;

  var offsetY = 0;

  if (this._isDirty) this.measureText(this.ctx);

  this.ctx.translate(this.x, this.y + offsetY);

  if (this.textBaseline === "middle") {
    offsetY = -this._lineHeight / 2;
  }

  this.ctx.font = this._getFontString();

  this.ctx.rotate(Math.PI / 180 * this.angle);

  var textLeft = 0;
  var textTop = this.padding;
  //var textTop = this.padding;
  var line = null;

  if (this.borderThickness > 0 && this.borderColor || this.backgroundColor) {
    this.ctx.roundRect(0, offsetY, this.width, this.height, this.cornerRadius, this.borderThickness, this.backgroundColor, this.borderColor);

    //if (this.textBaseline === "middle") {
    //	//textTop += this.fontSize / 2;
    //	textTop += this._lineHeight / 2;
    //}
  }

  this.ctx.fillStyle = this.fontColor;

  for (var i = 0; i < this._wrappedText.lines.length; i++) {

    line = this._wrappedText.lines[i];
    if (this.horizontalAlign === "right") textLeft = this.width - line.width - this.padding;else if (this.horizontalAlign === "left") textLeft = this.padding;else if (this.horizontalAlign === "center") textLeft = (this.width - this.padding * 2) / 2 - line.width / 2 + this.padding;

    this.ctx.fillText(line.text, textLeft, textTop);

    textTop += line.height;
  }

  this.ctx.font = font;

  if (preserveContext) this.ctx.restore();
};

TextBlock.prototype.setText = function (text) {
  this.text = text;
  this._isDirty = true;
  this._wrappedText = null;
};

TextBlock.prototype.measureText = function () {
  if (this.maxWidth === null) {
    throw "Please set maxWidth and height for TextBlock";
  }

  this._wrapText(this.ctx);
  this._isDirty = false;

  return {
    width: this.width, height: this.height
  };
};

TextBlock.prototype._getLineWithWidth = function (text, width, clipWord) {
  text = String(text);
  clipWord = clipWord || false;

  if (!text) return {
    text: "", width: 0
  };

  var textWidth = 0,
      min = 0,
      max = text.length - 1,
      mid = Infinity;

  this.ctx.font = this._getFontString();

  while (min <= max) {
    mid = Math.floor((min + max) / 2);
    var tempText = text.substr(0, mid + 1);

    textWidth = this.ctx.measureText(tempText).width;

    if (textWidth < width) {
      min = mid + 1;
    } else if (textWidth > width) {
      max = mid - 1;
    } else {
      break;
    }
  }

  //edge cases
  if (textWidth > width && tempText.length > 1) {
    tempText = tempText.substr(0, tempText.length - 1);
    textWidth = this.ctx.measureText(tempText).width;
  }

  var isClipped = true;

  if (tempText.length === text.length || text[tempText.length] === " ") isClipped = false;

  if (isClipped) {
    var resultWords = tempText.split(" ");
    if (resultWords.length > 1) resultWords.pop();

    tempText = resultWords.join(" ");
    textWidth = this.ctx.measureText(tempText).width;
  }

  return {
    text: tempText, width: textWidth
  };
};

TextBlock.prototype._wrapText = function wrapText() {
  //this.ctx.save();
  var text = new String((0, _utils.trimString)(String(this.text)));
  var lines = [];
  var font = this.ctx.font; // Save the current Font
  var height = 0;
  var width = 0;

  this.ctx.font = this._getFontString();

  while (text.length > 0) {

    var maxWidth = this.maxWidth - this.padding * 2;
    var maxHeight = this.maxHeight - this.padding * 2;

    var line = this._getLineWithWidth(text, maxWidth, false);
    line.height = this._lineHeight;

    lines.push(line);

    width = Math.max(width, line.width);
    height += line.height;
    text = (0, _utils.trimString)(text.slice(line.text.length, text.length));

    if (maxHeight && height > maxHeight) {
      var line = lines.pop();
      height -= line.height;
    }
  }

  this._wrappedText = {
    lines: lines, width: width, height: height
  };
  this.width = width + this.padding * 2;
  this.height = height + this.padding * 2;

  this.ctx.font = font; // Restore the font
};

TextBlock.prototype._getFontString = function () {
  //return this.fontStyle + " " + this.fontWeight + " " + this.fontSize + "px " + this.fontFamily
  return (0, _utils.getFontString)("", this, null);
};

exports.default = TextBlock;

},{"../helpers/utils":39,"./canvasjs":27}],35:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _canvasjs = require('./canvasjs');

var _canvasjs2 = _interopRequireDefault(_canvasjs);

var _text_block = require('./text_block');

var _text_block2 = _interopRequireDefault(_text_block);

var _utils = require('../helpers/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Title(chart, options) {
	Title.base.constructor.call(this, "Title", options, chart.theme);

	this.chart = chart;
	this.canvas = chart.canvas;
	this.ctx = this.chart.ctx;

	if (typeof this._options.fontSize === "undefined") {

		this.fontSize = this.chart.getAutoFontSize(this.fontSize);

		//window.console.log("Chart Title fontSize: " + this.fontSize);
	}

	this.width = null, //read only
	this.height = null; //read only
	this.bounds = {
		x1: null, y1: null, x2: null, y2: null
	};
}

(0, _utils.extend)(Title, _canvasjs2.default);

Title.prototype.render = function () {

	if (!this.text) return;

	var container = !this.dockInsidePlotArea ? this.chart : this.chart.plotArea;
	var freespace = container.layoutManager.getFreeSpace();
	var left = freespace.x1;
	var top = freespace.y1;
	var angle = 0;
	var maxHeight = 0;
	var containerMargin = 2; //Margin towards the container
	var rightOffset = this.chart._menuButton && this.chart.exportEnabled && this.verticalAlign === "top" ? 22 : 0; //So that Title doesn't overlap menu button.

	var textBlockHorizontalAlign;
	var position;

	if (this.verticalAlign === "top" || this.verticalAlign === "bottom") {
		if (this.maxWidth === null) this.maxWidth = freespace.width - containerMargin * 2 - rightOffset * (this.horizontalAlign === "center" ? 2 : 1);

		maxHeight = freespace.height * .5 - this.margin - containerMargin;
		angle = 0;
	} else if (this.verticalAlign === "center") {

		if (this.horizontalAlign === "left" || this.horizontalAlign === "right") {
			if (this.maxWidth === null) this.maxWidth = freespace.height - containerMargin * 2;

			maxHeight = freespace.width * .5 - this.margin - containerMargin;
		} else if (this.horizontalAlign === "center") {
			if (this.maxWidth === null) this.maxWidth = freespace.width - containerMargin * 2;

			maxHeight = freespace.height * .5 - containerMargin * 2;
		}
	}

	if (!this.wrap) maxHeight = Math.min(maxHeight, Math.max(this.fontSize * 1.5, this.fontSize + this.padding * 2.5));
	//console.log(this.maxWidth);

	var textBlock = new _text_block2.default(this.ctx, {
		fontSize: this.fontSize, fontFamily: this.fontFamily, fontColor: this.fontColor,
		fontStyle: this.fontStyle, fontWeight: this.fontWeight,
		horizontalAlign: this.horizontalAlign, verticalAlign: this.verticalAlign,
		borderColor: this.borderColor, borderThickness: this.borderThickness,
		backgroundColor: this.backgroundColor,
		maxWidth: this.maxWidth, maxHeight: maxHeight,
		cornerRadius: this.cornerRadius,
		text: this.text,
		padding: this.padding,
		textBaseline: "top"
	});

	var textBlockSize = textBlock.measureText();

	if (this.verticalAlign === "top" || this.verticalAlign === "bottom") {

		if (this.verticalAlign === "top") {
			top = freespace.y1 + containerMargin;
			position = "top";
		} else if (this.verticalAlign === "bottom") {
			top = freespace.y2 - containerMargin - textBlockSize.height;
			position = "bottom";
		}

		if (this.horizontalAlign === "left") {
			left = freespace.x1 + containerMargin;
		} else if (this.horizontalAlign === "center") {
			left = freespace.x1 + freespace.width / 2 - textBlockSize.width / 2;
		} else if (this.horizontalAlign === "right") {
			left = freespace.x2 - containerMargin - textBlockSize.width - rightOffset;
		}

		textBlockHorizontalAlign = this.horizontalAlign;

		this.width = textBlockSize.width;
		this.height = textBlockSize.height;
	} else if (this.verticalAlign === "center") {

		if (this.horizontalAlign === "left") {

			left = freespace.x1 + containerMargin;
			top = freespace.y2 - containerMargin - (this.maxWidth / 2 - textBlockSize.width / 2);
			angle = -90;

			position = "left";
			this.width = textBlockSize.height;
			this.height = textBlockSize.width;
		} else if (this.horizontalAlign === "right") {
			left = freespace.x2 - containerMargin;
			top = freespace.y1 + containerMargin + (this.maxWidth / 2 - textBlockSize.width / 2);
			angle = 90;

			position = "right";
			this.width = textBlockSize.height;
			this.height = textBlockSize.width;
		} else if (this.horizontalAlign === "center") {
			top = container.y1 + (container.height / 2 - textBlockSize.height / 2);
			left = container.x1 + (container.width / 2 - textBlockSize.width / 2);

			position = "center";
			this.width = textBlockSize.width;
			this.height = textBlockSize.height;
		}

		textBlockHorizontalAlign = "center";
	}

	textBlock.x = left;
	textBlock.y = top;
	textBlock.angle = angle;
	textBlock.horizontalAlign = textBlockHorizontalAlign;
	textBlock.render(true);

	container.layoutManager.registerSpace(position, {
		width: this.width + (position === "left" || position === "right" ? this.margin + containerMargin : 0),
		height: this.height + (position === "top" || position === "bottom" ? this.margin + containerMargin : 0)
	});

	this.bounds = {
		x1: left, y1: top, x2: left + this.width, y2: top + this.height
	};

	this.ctx.textBaseline = "top";
};

exports.default = Title;

},{"../helpers/utils":39,"./canvasjs":27,"./text_block":34}],36:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _animator = require('../helpers/animator');

var _animator2 = _interopRequireDefault(_animator);

var _render = require('../helpers/render');

var _render2 = _interopRequireDefault(_render);

var _canvasjs = require('./canvasjs');

var _canvasjs2 = _interopRequireDefault(_canvasjs);

var _utils = require('../helpers/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function ToolTip(chart, options, theme) {

  ToolTip.base.constructor.call(this, "ToolTip", options, theme);

  this.chart = chart;
  this.canvas = chart.canvas;
  this.ctx = this.chart.ctx;
  this.currentSeriesIndex = -1;
  this.currentDataPointIndex = -1;
  this._timerId = 0;
  this._prevX = NaN;
  this._prevY = NaN;

  this._initialize();
}

(0, _utils.extend)(ToolTip, _canvasjs2.default);

ToolTip.prototype._initialize = function () {

  if (this.enabled) {
    this.container = document.createElement("div");
    this.container.setAttribute("class", "canvasjs-chart-tooltip");
    this.container.style.position = "absolute";
    this.container.style.height = "auto";
    this.container.style.boxShadow = "1px 1px 2px 2px rgba(0,0,0,0.1)";
    this.container.style.zIndex = "1000";
    //this.container.style.pointerEvents = "none";
    this.container.style.display = "none";
    //this.container.style.whiteSpace = "no-wrap";

    var toolTipHtml = "<div style=\" width: auto;";
    toolTipHtml += "height: auto;";
    toolTipHtml += "min-width: 50px;";
    toolTipHtml += "line-height: auto;";
    toolTipHtml += "margin: 0px 0px 0px 0px;";
    toolTipHtml += "padding: 5px;";
    toolTipHtml += "font-family: Calibri, Arial, Georgia, serif;";
    toolTipHtml += "font-weight: normal;";
    toolTipHtml += "font-style: " + (_utils.isCanvasSupported ? "italic;" : "normal;");
    toolTipHtml += "font-size: 14px;";
    toolTipHtml += "color: #000000;";
    toolTipHtml += "text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);";
    toolTipHtml += "text-align: left;";
    toolTipHtml += "border: 2px solid gray;";

    //Older browsers like IE8- don't support alpha values
    toolTipHtml += _utils.isCanvasSupported ? "background: rgba(255,255,255,.9);" : "background: rgb(255,255,255);";

    toolTipHtml += "text-indent: 0px;";
    toolTipHtml += "white-space: nowrap;";
    //toolTipHtml += "pointer-events:none;";
    toolTipHtml += "border-radius: 5px;";

    //Disable Text Selection
    toolTipHtml += "-moz-user-select:none;";
    toolTipHtml += "-khtml-user-select: none;";
    toolTipHtml += "-webkit-user-select: none;";
    toolTipHtml += "-ms-user-select: none;";
    toolTipHtml += "user-select: none;";

    //toolTipHtml += "opacity: 0;";
    //toolTipHtml += "filter: progid: DXImageTransform.Microsoft.gradient(GradientType = 0, startColorstr = '#4cffffff', endColorstr = '#4cffffff');";

    if (!_utils.isCanvasSupported) {
      //toolTipHtml += "-ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=90)'";
      //-ms-filter: "progid:DXImageTransform.Microsoft.Shadow(Strength=4, Direction=135, Color='#000000')";
      /* For IE 5.5 - 7 */
      toolTipHtml += "filter: alpha(opacity = 90);";
      toolTipHtml += "filter: progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666');";
    }

    toolTipHtml += "} \"> Sample Tooltip</div>";

    this.container.innerHTML = toolTipHtml;
    this.contentDiv = this.container.firstChild;

    this.container.style.borderRadius = this.contentDiv.style.borderRadius;
    this.chart._canvasJSContainer.appendChild(this.container);
  }
};

ToolTip.prototype.mouseMoveHandler = function (x, y) {

  if (!(this._lastUpdated && new Date().getTime() - this._lastUpdated < 40)) {
    this._lastUpdated = new Date().getTime();
    this._updateToolTip(x, y);
  }
};

ToolTip.prototype._updateToolTip = function (mouseX, mouseY) {
  //return;

  if (this.chart.disableToolTip) // Disabled during animation, etc
    return;

  if (typeof mouseX === "undefined" || typeof mouseY === "undefined") {
    if (isNaN(this._prevX) || isNaN(this._prevY)) return;else {
      mouseX = this._prevX;
      mouseY = this._prevY;
    }
  } else {
    this._prevX = mouseX;
    this._prevY = mouseY;
  }

  var dataPoint = null;
  var dataSeries = null;
  var toolTipContent = "";
  var entries = [];
  var toolTipRight;
  var toolTipBottom;
  var x = 0;

  if (this.shared && this.enabled && this.chart.plotInfo.axisPlacement !== "none") {
    // && this.chart.plotInfo.axisPlacement !== "none"
    if (this.chart.plotInfo.axisPlacement === "xySwapped") {
      x = (this.chart.axisX.viewportMaximum - this.chart.axisX.viewportMinimum) / this.chart.axisX.lineCoordinates.height * (this.chart.axisX.lineCoordinates.y2 - mouseY) + this.chart.axisX.viewportMinimum;
    } else {
      x = (this.chart.axisX.viewportMaximum - this.chart.axisX.viewportMinimum) / this.chart.axisX.lineCoordinates.width * (mouseX - this.chart.axisX.lineCoordinates.x1) + this.chart.axisX.viewportMinimum;
    }

    var nearbyEntries = [];

    for (var i = 0; i < this.chart.data.length; i++) {
      var entry = this.chart.data[i].getDataPointAtX(x, true);

      if (entry && entry.index >= 0) {
        entry.dataSeries = this.chart.data[i];

        if (entry.dataPoint.y !== null) nearbyEntries.push(entry);
      }
    }

    if (nearbyEntries.length === 0) return;

    nearbyEntries.sort(function (entry1, entry2) {
      return entry1.distance - entry2.distance;
    });

    var closest = nearbyEntries[0];

    for (i = 0; i < nearbyEntries.length; i++) {

      if (nearbyEntries[i].dataPoint.x.valueOf() === closest.dataPoint.x.valueOf()) entries.push(nearbyEntries[i]);
    }

    nearbyEntries = null;
  } else {

    var dataPointInfo = this.chart.getDataPointAtXY(mouseX, mouseY, true);
    //dataPointInfo = null;

    if (dataPointInfo) {
      this.currentDataPointIndex = dataPointInfo.dataPointIndex;
      this.currentSeriesIndex = dataPointInfo.dataSeries.index;
    } else if (_utils.isCanvasSupported) {

      var id = (0, _utils.getObjectId)(mouseX, mouseY, this.chart._eventManager.ghostCtx);
      if (id > 0 && typeof this.chart._eventManager.objectMap[id] !== "undefined") {
        //DataPoint/DataSeries event
        var eventObject = this.chart._eventManager.objectMap[id];

        if (eventObject.objectType === "legendItem") return;

        //if (this.currentSeriesIndex === eventObject.dataSeriesIndex && this.currentDataPointIndex === eventObject.dataPointIndex)
        //  return;
        //else {
        this.currentSeriesIndex = eventObject.dataSeriesIndex;
        this.currentDataPointIndex = eventObject.dataPointIndex >= 0 ? eventObject.dataPointIndex : -1;
        //}

        //window.console.log("id: " + id + "; hex: " + intToHexColorString(id));
      } else this.currentDataPointIndex = -1;
    } else this.currentDataPointIndex = -1;

    if (this.currentSeriesIndex >= 0) {

      dataSeries = this.chart.data[this.currentSeriesIndex];

      var entry = {};

      if (this.currentDataPointIndex >= 0) {
        dataPoint = dataSeries.dataPoints[this.currentDataPointIndex];

        entry.dataSeries = dataSeries;
        entry.dataPoint = dataPoint;
        entry.index = this.currentDataPointIndex;
        entry.distance = Math.abs(dataPoint.x - x);
      } else if (this.enabled && (dataSeries.type === "line" || dataSeries.type === "stepLine" || dataSeries.type === "spline" || dataSeries.type === "area" || dataSeries.type === "stepArea" || dataSeries.type === "splineArea" || dataSeries.type === "stackedArea" || dataSeries.type === "stackedArea100" || dataSeries.type === "rangeArea" || dataSeries.type === "rangeSplineArea" || dataSeries.type === "candlestick" || dataSeries.type === "ohlc")) {

        //var x = (this.chart.axisX.viewportMaximum - this.chart.axisX.viewportMinimum) / this.chart.axisX.lineCoordinates.width * (mouseX - this.chart.axisX.lineCoordinates.x1) + this.chart.axisX.viewportMinimum.valueOf();
        var x = dataSeries.axisX.conversionParameters.minimum + (mouseX - dataSeries.axisX.conversionParameters.reference) / dataSeries.axisX.conversionParameters.pixelPerUnit;

        entry = dataSeries.getDataPointAtX(x, true);
        entry.dataSeries = dataSeries;
        this.currentDataPointIndex = entry.index;
        dataPoint = entry.dataPoint;
      } else {
        //this.hide();
        return;
      }

      if (entry.dataPoint.y !== null) {
        if (entry.dataSeries.axisY) {
          if (entry.dataPoint.y.length > 0) {
            var unboundToViewport = 0;
            for (var i = 0; i < entry.dataPoint.y.length; i++) {
              if (entry.dataPoint.y[i] < entry.dataSeries.axisY.viewportMinimum) unboundToViewport--;else if (entry.dataPoint.y[i] > entry.dataSeries.axisY.viewportMaximum) unboundToViewport++;
            }if (unboundToViewport < entry.dataPoint.y.length && unboundToViewport > -entry.dataPoint.y.length) entries.push(entry);
          } else {
            if (entry.dataPoint.y >= entry.dataSeries.axisY.viewportMinimum && entry.dataPoint.y <= entry.dataSeries.axisY.viewportMaximum) entries.push(entry);
          }
        } else entries.push(entry);
      }
    }
  }

  if (entries.length > 0) {

    this.highlightObjects(entries);

    if (this.enabled) {

      var toolTipInnerHtml = "";

      toolTipInnerHtml = this.getToolTipInnerHTML({ entries: entries });

      if (toolTipInnerHtml !== null) {
        this.contentDiv.innerHTML = toolTipInnerHtml;

        this.contentDiv.innerHTML = toolTipInnerHtml;

        var previouslyHidden = false;
        if (this.container.style.display === "none") {
          previouslyHidden = true;
          this.container.style.display = "block";
        }

        try {
          this.contentDiv.style.background = this.backgroundColor ? this.backgroundColor : _utils.isCanvasSupported ? "rgba(255,255,255,.9)" : "rgb(255,255,255)";

          this.contentDiv.style.borderRightColor = this.contentDiv.style.borderLeftColor = this.contentDiv.style.borderColor = this.borderColor ? this.borderColor : entries[0].dataPoint.color ? entries[0].dataPoint.color : entries[0].dataSeries.color ? entries[0].dataSeries.color : entries[0].dataSeries._colorSet[entries[0].index % entries[0].dataSeries._colorSet.length];

          this.contentDiv.style.borderWidth = this.borderThickness || this.borderThickness === 0 ? this.borderThickness + "px" : 2 + "px";

          this.contentDiv.style.borderRadius = this.cornerRadius || this.cornerRadius === 0 ? this.cornerRadius + "px" : 5 + "px";
          this.container.style.borderRadius = this.contentDiv.style.borderRadius;

          this.contentDiv.style.fontSize = this.fontSize || this.fontSize === 0 ? this.fontSize + "px" : 14 + "px";
          this.contentDiv.style.color = this.fontColor ? this.fontColor : "#000000";
          this.contentDiv.style.fontFamily = this.fontFamily ? this.fontFamily : "Calibri, Arial, Georgia, serif;";
          this.contentDiv.style.fontWeight = this.fontWeight ? this.fontWeight : "normal";
          this.contentDiv.style.fontStyle = this.fontStyle ? this.fontStyle : _utils.isCanvasSupported ? "italic" : "normal";
        } catch (e) {}

        var toolTipLeft;

        if (entries[0].dataSeries.type === "pie" || entries[0].dataSeries.type === "doughnut" || entries[0].dataSeries.type === "funnel" || entries[0].dataSeries.type === "bar" || entries[0].dataSeries.type === "rangeBar" || entries[0].dataSeries.type === "stackedBar" || entries[0].dataSeries.type === "stackedBar100") {
          toolTipLeft = mouseX - 10 - this.container.clientWidth;
        } else {
          //toolTipLeft = (((this.chart.axisX.lineCoordinates.width / Math.abs(this.chart.axisX.viewportMaximum - this.chart.axisX.viewportMinimum)) * Math.abs(entries[0].dataPoint.x - this.chart.axisX.viewportMinimum)) + this.chart.axisX.lineCoordinates.x1 + .5) - this.container.clientWidth << 0;
          toolTipLeft = entries[0].dataSeries.axisX.conversionParameters.reference + entries[0].dataSeries.axisX.conversionParameters.pixelPerUnit * (entries[0].dataPoint.x - entries[0].dataSeries.axisX.conversionParameters.minimum) - this.container.clientWidth << 0;
          toolTipLeft -= 10;
        }

        if (toolTipLeft < 0) {
          toolTipLeft += this.container.clientWidth + 20;
        }

        if (toolTipLeft + this.container.clientWidth > this.chart._container.clientWidth) toolTipLeft = Math.max(0, this.chart._container.clientWidth - this.container.clientWidth);

        toolTipLeft += "px";

        if (entries.length === 1 && !this.shared && (entries[0].dataSeries.type === "line" || entries[0].dataSeries.type === "stepLine" || entries[0].dataSeries.type === "spline" || entries[0].dataSeries.type === "area" || entries[0].dataSeries.type === "stepArea" || entries[0].dataSeries.type === "splineArea" || entries[0].dataSeries.type === "stackedArea" || entries[0].dataSeries.type === "stackedArea100")) {
          //toolTipBottom = (entries[0].dataSeries.axisY.lineCoordinates.y2 - entries[0].dataSeries.axisY.lineCoordinates.height / Math.abs(entries[0].dataSeries.axisY.maximum - entries[0].dataSeries.axisY.viewportMinimum) * Math.abs(entries[0].dataPoint.y - entries[0].dataSeries.axisY.viewportMinimum) + .5) << 0;
          toolTipBottom = entries[0].dataSeries.axisY.conversionParameters.reference + entries[0].dataSeries.axisY.conversionParameters.pixelPerUnit * (entries[0].dataPoint.y - entries[0].dataSeries.axisY.viewportMinimum) + .5 << 0;
        } else if (entries[0].dataSeries.type === "bar" || entries[0].dataSeries.type === "rangeBar" || entries[0].dataSeries.type === "stackedBar" || entries[0].dataSeries.type === "stackedBar100") {
          //toolTipBottom = (entries[0].dataSeries.axisX.lineCoordinates.y2 - entries[0].dataSeries.axisX.lineCoordinates.height / Math.abs(entries[0].dataSeries.axisX.maximum - entries[0].dataSeries.axisX.viewportMinimum) * Math.abs(entries[0].dataPoint.x - entries[0].dataSeries.axisX.viewportMinimum) + .5) << 0;
          toolTipBottom = entries[0].dataSeries.axisX.conversionParameters.reference + entries[0].dataSeries.axisX.conversionParameters.pixelPerUnit * (entries[0].dataPoint.x - entries[0].dataSeries.axisX.viewportMinimum) + .5 << 0;
        } else {
          toolTipBottom = mouseY;
        }

        toolTipBottom = -toolTipBottom + 10;

        if (toolTipBottom + this.container.clientHeight + 5 > 0) {
          toolTipBottom -= toolTipBottom + this.container.clientHeight + 5 - 0;
        }

        toolTipBottom += "px";

        //this.container.style.right = toolTipRight;
        this.container.style.left = toolTipLeft;
        this.container.style.bottom = toolTipBottom;

        if (!this.animationEnabled || previouslyHidden) {
          this.disableAnimation();
        } else this.enableAnimation();
      } else {
        this.hide(false);
      }
    }

    //if (isDebugMode)
    //  console.log("searchX: " + x + " x: " + searchResult.dataPoint.x + "; y: " + searchResult.dataPoint.y + "; distance: " + searchResult.distance + "; steps: " + steps);
  }
};

ToolTip.prototype.highlightObjects = function (entries) {
  //if (!this.enabled)
  //	return;

  //this.chart.overlaidCanvasCtx.clearRect(0, 0, this.chart.overlaidCanvas.width, this.chart.overlaidCanvas.height);
  var overlaidCanvasCtx = this.chart.overlaidCanvasCtx;
  this.chart.resetOverlayedCanvas();

  overlaidCanvasCtx.clearRect(0, 0, this.chart.width, this.chart.height);
  overlaidCanvasCtx.save();

  var plotArea = this.chart.plotArea;
  var offset = 0;

  overlaidCanvasCtx.rect(plotArea.x1, plotArea.y1, plotArea.x2 - plotArea.x1, plotArea.y2 - plotArea.y1);
  overlaidCanvasCtx.clip();

  for (var i = 0; i < entries.length; i++) {

    var entry = entries[i];

    var eventObject = this.chart._eventManager.objectMap[entry.dataSeries.dataPointIds[entry.index]];

    if (!eventObject || !eventObject.objectType || eventObject.objectType !== "dataPoint") continue;

    var dataSeries = this.chart.data[eventObject.dataSeriesIndex];
    var dataPoint = dataSeries.dataPoints[eventObject.dataPointIndex];
    var index = eventObject.dataPointIndex;

    if (dataPoint.highlightEnabled !== false && (dataSeries.highlightEnabled === true || dataPoint.highlightEnabled === true)) {

      if (dataSeries.type === "line" || dataSeries.type === "stepLine" || dataSeries.type === "spline" || dataSeries.type === "scatter" || dataSeries.type === "area" || dataSeries.type === "stepArea" || dataSeries.type === "splineArea" || dataSeries.type === "stackedArea" || dataSeries.type === "stackedArea100" || dataSeries.type === "rangeArea" || dataSeries.type === "rangeSplineArea") {
        var markerProps = dataSeries.getMarkerProperties(index, eventObject.x1, eventObject.y1, this.chart.overlaidCanvasCtx);
        markerProps.size = Math.max(markerProps.size * 1.5 << 0, 10);

        markerProps.borderColor = markerProps.borderColor || "#FFFFFF";
        markerProps.borderThickness = markerProps.borderThickness || Math.ceil(markerProps.size * .1);

        //overlaidCanvasCtx.globalAlpha = .8;
        _render2.default.drawMarkers([markerProps]);
        //overlaidCanvasCtx.globalAlpha = .8;

        if (typeof eventObject.y2 !== "undefined") {

          var markerProps = dataSeries.getMarkerProperties(index, eventObject.x1, eventObject.y2, this.chart.overlaidCanvasCtx);
          markerProps.size = Math.max(markerProps.size * 1.5 << 0, 10);

          markerProps.borderColor = markerProps.borderColor || "#FFFFFF";
          markerProps.borderThickness = markerProps.borderThickness || Math.ceil(markerProps.size * .1);

          //overlaidCanvasCtx.globalAlpha = .8;
          _render2.default.drawMarkers([markerProps]);
          //overlaidCanvasCtx.globalAlpha = .8;
        }
      } else if (dataSeries.type === "bubble") {
        var markerProps = dataSeries.getMarkerProperties(index, eventObject.x1, eventObject.y1, this.chart.overlaidCanvasCtx);
        markerProps.size = eventObject.size;
        markerProps.color = "white";
        markerProps.borderColor = "white";
        //markerProps.borderThickness = 2;
        overlaidCanvasCtx.globalAlpha = .3;
        _render2.default.drawMarkers([markerProps]);
        overlaidCanvasCtx.globalAlpha = 1;
      } else if (dataSeries.type === "column" || dataSeries.type === "stackedColumn" || dataSeries.type === "stackedColumn100" || dataSeries.type === "bar" || dataSeries.type === "rangeBar" || dataSeries.type === "stackedBar" || dataSeries.type === "stackedBar100" || dataSeries.type === "rangeColumn") {
        (0, _utils.drawRect)(overlaidCanvasCtx, eventObject.x1, eventObject.y1, eventObject.x2, eventObject.y2, "white", 0, null, false, false, false, false, .3);
      } else if (dataSeries.type === "pie" || dataSeries.type === "doughnut") {
        (0, _utils.drawSegment)(overlaidCanvasCtx, eventObject.center, eventObject.radius, "white", dataSeries.type, eventObject.startAngle, eventObject.endAngle, .3, eventObject.percentInnerRadius);
      } else if (dataSeries.type === "candlestick") {

        overlaidCanvasCtx.globalAlpha = 1;
        overlaidCanvasCtx.strokeStyle = eventObject.color;
        overlaidCanvasCtx.lineWidth = eventObject.borderThickness * 2;
        offset = overlaidCanvasCtx.lineWidth % 2 === 0 ? 0 : .5;

        overlaidCanvasCtx.beginPath();
        overlaidCanvasCtx.moveTo(eventObject.x3 - offset, eventObject.y2);
        overlaidCanvasCtx.lineTo(eventObject.x3 - offset, Math.min(eventObject.y1, eventObject.y4));
        overlaidCanvasCtx.stroke();

        overlaidCanvasCtx.beginPath();
        overlaidCanvasCtx.moveTo(eventObject.x3 - offset, Math.max(eventObject.y1, eventObject.y4));
        overlaidCanvasCtx.lineTo(eventObject.x3 - offset, eventObject.y3);
        overlaidCanvasCtx.stroke();

        (0, _utils.drawRect)(overlaidCanvasCtx, eventObject.x1, Math.min(eventObject.y1, eventObject.y4), eventObject.x2, Math.max(eventObject.y1, eventObject.y4), "transparent", eventObject.borderThickness * 2, eventObject.color, false, false, false, false);
        overlaidCanvasCtx.globalAlpha = 1;
      } else if (dataSeries.type === "ohlc") {
        overlaidCanvasCtx.globalAlpha = 1;

        overlaidCanvasCtx.strokeStyle = eventObject.color;
        overlaidCanvasCtx.lineWidth = eventObject.borderThickness * 2;

        offset = overlaidCanvasCtx.lineWidth % 2 === 0 ? 0 : .5;

        overlaidCanvasCtx.beginPath();
        overlaidCanvasCtx.moveTo(eventObject.x3 - offset, eventObject.y2);
        overlaidCanvasCtx.lineTo(eventObject.x3 - offset, eventObject.y3);
        overlaidCanvasCtx.stroke();

        overlaidCanvasCtx.beginPath();
        overlaidCanvasCtx.moveTo(eventObject.x3, eventObject.y1);
        overlaidCanvasCtx.lineTo(eventObject.x1, eventObject.y1);
        overlaidCanvasCtx.stroke();

        overlaidCanvasCtx.beginPath();
        overlaidCanvasCtx.moveTo(eventObject.x3, eventObject.y4);
        overlaidCanvasCtx.lineTo(eventObject.x2, eventObject.y4);
        overlaidCanvasCtx.stroke();

        overlaidCanvasCtx.globalAlpha = 1;
      }
    }
  }

  overlaidCanvasCtx.restore();
  overlaidCanvasCtx.globalAlpha = 1;
  overlaidCanvasCtx.beginPath();

  return;
};

ToolTip.prototype.getToolTipInnerHTML = function (e) {
  var entries = e.entries;
  var toolTipInnerHtml = null;
  var dataSeries = null;
  var dataPoint = null;
  var index = 0;
  var color = null;
  var toolTipContent = "";

  var isToolTipDefinedInData = true;
  for (var i = 0; i < entries.length; i++) {
    if (entries[i].dataSeries.toolTipContent || entries[i].dataPoint.toolTipContent) {
      isToolTipDefinedInData = false;
      break;
    }
  }

  if (isToolTipDefinedInData && (this.content && typeof this.content === "function" || this.contentFormatter)) {

    var param = {
      chart: this.chart, toolTip: this._options, entries: entries
    };
    toolTipInnerHtml = this.contentFormatter ? this.contentFormatter(param) : this.content(param);
  } else {

    if (this.shared && this.chart.plotInfo.axisPlacement !== "none") {

      var toolTipInnerHtmlPrefix = "";

      for (var i = 0; i < entries.length; i++) {
        dataSeries = entries[i].dataSeries;
        dataPoint = entries[i].dataPoint;
        index = entries[i].index;

        toolTipContent = "";

        if (i === 0 && isToolTipDefinedInData && !this.content) {
          toolTipInnerHtmlPrefix += typeof this.chart.axisX.labels[dataPoint.x] !== "undefined" ? this.chart.axisX.labels[dataPoint.x] : "{x}";
          toolTipInnerHtmlPrefix += "</br>";
          toolTipInnerHtmlPrefix = this.chart.replaceKeywordsWithValue(toolTipInnerHtmlPrefix, dataPoint, dataSeries, index);
        }

        //Allows disabling of toolTip for individual dataPoints/dataSeries
        if (dataPoint.toolTipContent === null || typeof dataPoint.toolTipContent === "undefined" && dataSeries._options.toolTipContent === null) continue;

        if (dataSeries.type === "line" || dataSeries.type === "stepLine" || dataSeries.type === "spline" || dataSeries.type === "area" || dataSeries.type === "stepArea" || dataSeries.type === "splineArea" || dataSeries.type === "column" || dataSeries.type === "bar" || dataSeries.type === "scatter" || dataSeries.type === "stackedColumn" || dataSeries.type === "stackedColumn100" || dataSeries.type === "stackedBar" || dataSeries.type === "stackedBar100" || dataSeries.type === "stackedArea" || dataSeries.type === "stackedArea100") {
          toolTipContent += dataPoint.toolTipContent ? dataPoint.toolTipContent : dataSeries.toolTipContent ? dataSeries.toolTipContent : this.content && typeof this.content !== "function" ? this.content : "<span style='\"'color:{color};'\"'>{name}:</span>&nbsp;&nbsp;{y}";
        } else if (dataSeries.type === "bubble") {
          toolTipContent += dataPoint.toolTipContent ? dataPoint.toolTipContent : dataSeries.toolTipContent ? dataSeries.toolTipContent : this.content && typeof this.content !== "function" ? this.content : "<span style='\"'color:{color};'\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}";
        } else if (dataSeries.type === "pie" || dataSeries.type === "doughnut" || dataSeries.type === "funnel") {
          toolTipContent += dataPoint.toolTipContent ? dataPoint.toolTipContent : dataSeries.toolTipContent ? dataSeries.toolTipContent : this.content && typeof this.content !== "function" ? this.content : "&nbsp;&nbsp;{y}";
        } else if (dataSeries.type === "rangeColumn" || dataSeries.type === "rangeBar" || dataSeries.type === "rangeArea" || dataSeries.type === "rangeSplineArea") {
          toolTipContent += dataPoint.toolTipContent ? dataPoint.toolTipContent : dataSeries.toolTipContent ? dataSeries.toolTipContent : this.content && typeof this.content !== "function" ? this.content : "<span style='\"'color:{color};'\"'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}";
        } else if (dataSeries.type === "candlestick" || dataSeries.type === "ohlc") {
          toolTipContent += dataPoint.toolTipContent ? dataPoint.toolTipContent : dataSeries.toolTipContent ? dataSeries.toolTipContent : this.content && typeof this.content !== "function" ? this.content : "<span style='\"'color:{color};'\"'>{name}:</span>" + "<br/>Open: &nbsp;&nbsp;{y[0]}" + "<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}" + "<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}" + "<br/>Close: &nbsp;&nbsp;{y[3]}";
        }

        if (toolTipInnerHtml === null) toolTipInnerHtml = "";

        if (this.reversed === true) {

          toolTipInnerHtml = this.chart.replaceKeywordsWithValue(toolTipContent, dataPoint, dataSeries, index) + toolTipInnerHtml;

          if (i < entries.length - 1) toolTipInnerHtml = "</br>" + toolTipInnerHtml;
        } else {

          toolTipInnerHtml += this.chart.replaceKeywordsWithValue(toolTipContent, dataPoint, dataSeries, index);

          if (i < entries.length - 1) toolTipInnerHtml += "</br>";
        }
      }

      if (toolTipInnerHtml !== null) toolTipInnerHtml = toolTipInnerHtmlPrefix + toolTipInnerHtml;
    } else {

      dataSeries = entries[0].dataSeries;
      dataPoint = entries[0].dataPoint;
      index = entries[0].index;

      //Allows disabling of toolTip for individual dataPoints/dataSeries
      if (dataPoint.toolTipContent === null || typeof dataPoint.toolTipContent === "undefined" && dataSeries._options.toolTipContent === null) return null;

      if (dataSeries.type === "line" || dataSeries.type === "stepLine" || dataSeries.type === "spline" || dataSeries.type === "area" || dataSeries.type === "stepArea" || dataSeries.type === "splineArea" || dataSeries.type === "column" || dataSeries.type === "bar" || dataSeries.type === "scatter" || dataSeries.type === "stackedColumn" || dataSeries.type === "stackedColumn100" || dataSeries.type === "stackedBar" || dataSeries.type === "stackedBar100" || dataSeries.type === "stackedArea" || dataSeries.type === "stackedArea100") {
        toolTipContent = dataPoint.toolTipContent ? dataPoint.toolTipContent : dataSeries.toolTipContent ? dataSeries.toolTipContent : this.content && typeof this.content !== "function" ? this.content : "<span style='\"'color:{color};'\"'>" + (dataPoint.label ? "{label}" : "{x}") + " :</span>&nbsp;&nbsp;{y}";
      } else if (dataSeries.type === "bubble") {
        toolTipContent = dataPoint.toolTipContent ? dataPoint.toolTipContent : dataSeries.toolTipContent ? dataSeries.toolTipContent : this.content && typeof this.content !== "function" ? this.content : "<span style='\"'color:{color};'\"'>" + (dataPoint.label ? "{label}" : "{x}") + ":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}";
      } else if (dataSeries.type === "pie" || dataSeries.type === "doughnut" || dataSeries.type === "funnel") {
        toolTipContent = dataPoint.toolTipContent ? dataPoint.toolTipContent : dataSeries.toolTipContent ? dataSeries.toolTipContent : this.content && typeof this.content !== "function" ? this.content : (dataPoint.name ? "{name}:&nbsp;&nbsp;" : dataPoint.label ? "{label}:&nbsp;&nbsp;" : "") + "{y}";
      } else if (dataSeries.type === "rangeColumn" || dataSeries.type === "rangeBar" || dataSeries.type === "rangeArea" || dataSeries.type === "rangeSplineArea") {
        toolTipContent = dataPoint.toolTipContent ? dataPoint.toolTipContent : dataSeries.toolTipContent ? dataSeries.toolTipContent : this.content && typeof this.content !== "function" ? this.content : "<span style='\"'color:{color};'\"'>" + (dataPoint.label ? "{label}" : "{x}") + " :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}";
      } else if (dataSeries.type === "candlestick" || dataSeries.type === "ohlc") {
        toolTipContent = dataPoint.toolTipContent ? dataPoint.toolTipContent : dataSeries.toolTipContent ? dataSeries.toolTipContent : this.content && typeof this.content !== "function" ? this.content : "<span style='\"'color:{color};'\"'>" + (dataPoint.label ? "{label}" : "{x}") + "</span>" + "<br/>Open: &nbsp;&nbsp;{y[0]}" + "<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}" + "<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}" + "<br/>Close: &nbsp;&nbsp;{y[3]}";
      }

      if (toolTipInnerHtml === null) toolTipInnerHtml = "";

      toolTipInnerHtml += this.chart.replaceKeywordsWithValue(toolTipContent, dataPoint, dataSeries, index);
    }
  }

  return toolTipInnerHtml;
};

ToolTip.prototype.enableAnimation = function () {
  if (this.container.style.WebkitTransition) return;

  this.container.style.WebkitTransition = "left .2s ease-out, bottom .2s ease-out";
  this.container.style.MozTransition = "left .2s ease-out, bottom .2s ease-out";
  this.container.style.MsTransition = "left .2s ease-out, bottom .2s ease-out";
  this.container.style.transition = "left .2s ease-out, bottom .2s ease-out";
};

ToolTip.prototype.disableAnimation = function () {
  if (!this.container.style.WebkitTransition) return;

  this.container.style.WebkitTransition = "";
  this.container.style.MozTransition = "";
  this.container.style.MsTransition = "";
  this.container.style.transition = "";
};

ToolTip.prototype.hide = function (resetOverlayedCanvas) {
  if (!this.enabled) return;

  resetOverlayedCanvas = typeof resetOverlayedCanvas === "undefined" ? true : resetOverlayedCanvas;

  this.container.style.display = "none";
  this.currentSeriesIndex = -1;
  this._prevX = NaN;
  this._prevY = NaN;
  //this.chart.overlaidCanvasCtx.clearRect(0, 0, this.chart.overlaidCanvas.width, this.chart.overlaidCanvas.height);
  if (resetOverlayedCanvas) this.chart.resetOverlayedCanvas();
};

exports.default = ToolTip;

},{"../helpers/animator":37,"../helpers/render":38,"../helpers/utils":39,"./canvasjs":27}],37:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

function yScaleAnimation(fractionComplete, animationInfo) {

  if (fractionComplete === 0) return;

  var ctx = animationInfo.dest;
  var sourceCanvas = animationInfo.source.canvas;
  var base = animationInfo.animationBase;

  var offsetY = base - base * fractionComplete;

  ctx.drawImage(sourceCanvas, 0, 0, sourceCanvas.width, sourceCanvas.height, 0, offsetY, ctx.canvas.width / devicePixelBackingStoreRatio, fractionComplete * ctx.canvas.height / devicePixelBackingStoreRatio);
}

function xScaleAnimation(fractionComplete, animationInfo) {

  if (fractionComplete === 0) return;

  var ctx = animationInfo.dest;
  var sourceCanvas = animationInfo.source.canvas;
  var base = animationInfo.animationBase;

  var offsetX = base - base * fractionComplete;

  ctx.drawImage(sourceCanvas, 0, 0, sourceCanvas.width, sourceCanvas.height, offsetX, 0, fractionComplete * ctx.canvas.width / devicePixelBackingStoreRatio, ctx.canvas.height / devicePixelBackingStoreRatio);
}

function xClipAnimation(fractionComplete, animationInfo) {

  if (fractionComplete === 0) return;

  var ctx = animationInfo.dest;
  var sourceCanvas = animationInfo.source.canvas;

  ctx.save();

  if (fractionComplete > 0) ctx.drawImage(sourceCanvas, 0, 0, sourceCanvas.width * fractionComplete, sourceCanvas.height, 0, 0, sourceCanvas.width * fractionComplete / devicePixelBackingStoreRatio, sourceCanvas.height / devicePixelBackingStoreRatio);

  ctx.restore();
}

function fadeInAnimation(fractionComplete, animationInfo) {

  if (fractionComplete === 0) return;

  var ctx = animationInfo.dest;
  var sourceCanvas = animationInfo.source.canvas;

  ctx.save();

  ctx.globalAlpha = fractionComplete;

  ctx.drawImage(sourceCanvas, 0, 0, sourceCanvas.width, sourceCanvas.height, 0, 0, ctx.canvas.width / devicePixelBackingStoreRatio, ctx.canvas.height / devicePixelBackingStoreRatio);

  ctx.restore();
}

var easing = {
  linear: function linear(t, b, c, d) {
    return c * t / d + b;
  },
  easeOutQuad: function easeOutQuad(t, b, c, d) {
    return -c * (t /= d) * (t - 2) + b;
  },
  easeOutQuart: function easeOutQuart(t, b, c, d) {
    return -c * ((t = t / d - 1) * t * t * t - 1) + b;
  },
  easeInQuad: function easeInQuad(t, b, c, d) {
    return c * (t /= d) * t + b;
  },
  easeInQuart: function easeInQuart(t, b, c, d) {
    return c * (t /= d) * t * t * t + b;
  }
};

exports.default = {

  yScaleAnimation: yScaleAnimation,
  xScaleAnimation: xScaleAnimation,
  xClipAnimation: xClipAnimation,
  fadeInAnimation: fadeInAnimation,
  easing: easing

};

},{}],38:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
      value: true
});
var RenderHelper = {

      drawMarker: function drawMarker(x, y, ctx, markerType, markerSize, markerColor, markerBorderColor, markerBorderThickness) {

            if (!ctx) return;

            var alpha = 1;

            ctx.fillStyle = markerColor ? markerColor : "#000000";
            ctx.strokeStyle = markerBorderColor ? markerBorderColor : "#000000";
            ctx.lineWidth = markerBorderThickness ? markerBorderThickness : 0;

            if (markerType === "circle") {

                  ctx.moveTo(x, y);
                  ctx.beginPath();
                  //return;

                  ctx.arc(x, y, markerSize / 2, 0, Math.PI * 2, false);

                  if (markerColor) ctx.fill();

                  if (markerBorderThickness) {

                        if (!markerBorderColor) {
                              alpha = ctx.globalAlpha;
                              ctx.globalAlpha = .15;
                              ctx.strokeStyle = "black";
                              ctx.stroke();
                              ctx.globalAlpha = alpha;
                        } else ctx.stroke();
                  }
            } else if (markerType === "square") {

                  //ctx.moveTo(x - markerSize / 2, y - markerSize / 2);
                  ctx.beginPath();
                  ctx.rect(x - markerSize / 2, y - markerSize / 2, markerSize, markerSize);

                  if (markerColor) ctx.fill();

                  if (markerBorderThickness) {

                        if (!markerBorderColor) {
                              alpha = ctx.globalAlpha;
                              ctx.globalAlpha = .15;
                              ctx.strokeStyle = "black";
                              ctx.stroke();
                              ctx.globalAlpha = alpha;
                        } else ctx.stroke();
                  }
            } else if (markerType === "triangle") {

                  ctx.beginPath();
                  ctx.moveTo(x - markerSize / 2, y + markerSize / 2);
                  ctx.lineTo(x + markerSize / 2, y + markerSize / 2);
                  ctx.lineTo(x, y - markerSize / 2);
                  ctx.closePath();

                  if (markerColor) ctx.fill();

                  if (markerBorderThickness) {

                        if (!markerBorderColor) {
                              alpha = ctx.globalAlpha;
                              ctx.globalAlpha = .15;
                              ctx.strokeStyle = "black";
                              ctx.stroke();
                              ctx.globalAlpha = alpha;
                        } else ctx.stroke();
                  }
                  ctx.beginPath();
            } else if (markerType === "cross") {

                  ctx.strokeStyle = markerColor;
                  markerBorderThickness = markerSize / 4;
                  ctx.lineWidth = markerBorderThickness;

                  ctx.beginPath();
                  ctx.moveTo(x - markerSize / 2, y - markerSize / 2);
                  ctx.lineTo(x + markerSize / 2, y + markerSize / 2);
                  ctx.stroke();

                  ctx.moveTo(x + markerSize / 2, y - markerSize / 2);
                  ctx.lineTo(x - markerSize / 2, y + markerSize / 2);
                  ctx.stroke();
            }
      },
      drawMarkers: function drawMarkers(markers) {
            for (var i = 0; i < markers.length; i++) {
                  var marker = markers[i];

                  RenderHelper.drawMarker(marker.x, marker.y, marker.ctx, marker.type, marker.size, marker.color, marker.borderColor, marker.borderThickness);
            }
      }
      //,
      //draw1pxLine: function (x1, y1, x2, y2, color, ctx) {
      //	ctx.beginPath();
      //	ctx.drawRect(x1, y1, x2 - x1, y2 - y1);
      //	ctx.stroke();
      //}
};

exports.default = RenderHelper;

},{}],39:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.extend = extend;
exports.inherit = inherit;
exports.addToDateTime = addToDateTime;
exports.convertToNumber = convertToNumber;
exports.pad = pad;
exports.trimString = trimString;
exports.extendCtx = extendCtx;
exports.compareNumbers = compareNumbers;
exports.compareDataPointX = compareDataPointX;
exports.intToHexColorString = intToHexColorString;
exports.RGBToInt = RGBToInt;
exports.intToRGB = intToRGB;
exports.arrayIndexOf = arrayIndexOf;
exports.addArrayIndexOf = addArrayIndexOf;
exports.getFontHeightInPixels = getFontHeightInPixels;
exports.getLineDashArray = getLineDashArray;
exports.addEvent = addEvent;
exports.dateFormat = dateFormat;
exports.numberFormat = numberFormat;
exports.getObjectId = getObjectId;
exports.getMouseCoordinates = getMouseCoordinates;
exports.getFontString = getFontString;
exports.getProperty = getProperty;
exports.getDevicePixelBackingStoreRatio = getDevicePixelBackingStoreRatio;
exports.setCanvasSize = setCanvasSize;
exports.createCanvas = createCanvas;
exports.exportCanvas = exportCanvas;
exports.setButtonState = setButtonState;
exports.show = show;
exports.hide = hide;
exports.getBezierPoints = getBezierPoints;
exports.convertPercentToValue = convertPercentToValue;
exports.drawRect = drawRect;
exports.drawSegment = drawSegment;
function extend(derived, base) {
  derived.prototype = inherit(base.prototype);
  derived.prototype.constructor = derived;
  derived.base = base.prototype;
}

function inherit(proto) {
  function F() {}
  F.prototype = proto;
  return new F();
}

function addToDateTime(dateTime, num, type) {
  if (type === "millisecond") dateTime.setMilliseconds(dateTime.getMilliseconds() + 1 * num);else if (type === "second") dateTime.setSeconds(dateTime.getSeconds() + 1 * num);else if (type === "minute") dateTime.setMinutes(dateTime.getMinutes() + 1 * num);else if (type === "hour") dateTime.setHours(dateTime.getHours() + 1 * num);else if (type === "day") dateTime.setDate(dateTime.getDate() + 1 * num);else if (type === "week") dateTime.setDate(dateTime.getDate() + 7 * num);else if (type === "month") dateTime.setMonth(dateTime.getMonth() + 1 * num);else if (type === "year") dateTime.setFullYear(dateTime.getFullYear() + 1 * num);

  return dateTime;
}

function convertToNumber(num, type) {
  return constants[type + "Duration"] * num;
}

function pad(value, length) {
  var isNegative = false;
  if (value < 0) {
    isNegative = true;
    value *= -1;
  }

  value = "" + value;
  length = !length ? 1 : length;

  while (value.length < length) {
    value = "0" + value;
  }return isNegative ? "-" + value : value;
}

function trimString(str) {
  if (!str) return str;

  str = str.replace(/^\s\s*/, "");
  var ws = /\s/;
  var i = str.length;
  while (ws.test(str.charAt(--i))) {}
  return str.slice(0, i + 1);
}

function extendCtx(context) {
  context.roundRect = function (x, y, width, height, radius, borderThickness, backgroundColor, borderColor) {
    ///<signature>
    ///<summary>Creates a rounded rectangle with given fill/stroke parameters</summary>
    ///<param name="x" type="number">x value</param>
    ///<param name="y" type="number">y value</param>
    ///<param name="width" type="number">Border Width</param>
    ///<param name="height" type="number">Border Height</param>
    ///<param name="radius" type="number">Border CornerRadius</param>
    ///<param name="borderThickness" type="number">Border Thickess</param>
    ///<param name="backgroundColor" type="number">Background Color</param>
    ///<param name="borderColor" type="number">Border Color</param>
    ///</signature>

    if (backgroundColor) {
      this.fillStyle = backgroundColor;
    }

    if (borderColor) {
      this.strokeStyle = borderColor;
    }

    //if (typeof stroke == "undefined") {
    //	stroke = true;
    //}

    if (typeof radius === "undefined") {
      radius = 5;
    }

    this.lineWidth = borderThickness;

    this.beginPath();
    this.moveTo(x + radius, y);
    this.lineTo(x + width - radius, y);
    this.quadraticCurveTo(x + width, y, x + width, y + radius);
    this.lineTo(x + width, y + height - radius);
    this.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
    this.lineTo(x + radius, y + height);
    this.quadraticCurveTo(x, y + height, x, y + height - radius);
    this.lineTo(x, y + radius);
    this.quadraticCurveTo(x, y, x + radius, y);
    this.closePath();

    if (backgroundColor) {
      this.fill();
    }

    if (borderColor && borderThickness > 0) {
      this.stroke();
    }
  };
}

function compareNumbers(a, b) {
  return a - b;
}

function compareDataPointX(dataPoint1, dataPoint2) {
  return dataPoint1.x - dataPoint2.x;
}

function intToHexColorString(num) {
  var r = ((num & 0xff0000) >> 16).toString(16);
  var g = ((num & 0x00ff00) >> 8).toString(16);
  var b = ((num & 0x0000ff) >> 0).toString(16);

  r = r.length < 2 ? "0" + r : r;
  g = g.length < 2 ? "0" + g : g;
  b = b.length < 2 ? "0" + b : b;

  return "#" + r + g + b;
}

function RGBToInt(r, g, b) {
  var num = r << 16 | g << 8 | b;

  return num;
}

function intToRGB(num) {
  var rgb = [];
  var r = (num & 0xff0000) >> 16;
  var g = (num & 0x00ff00) >> 8;
  var b = (num & 0x0000ff) >> 0;

  //r = r.length < 2 ? "0" + r : r;
  //g = g.length < 2 ? "0" + g : g;
  //b = b.length < 2 ? "0" + b : b;

  rgb[0] = r;
  rgb[1] = g;
  rgb[2] = b;

  return rgb;
}

function arrayIndexOf(elt /*, from*/) {
  var len = this.length >>> 0;

  var from = Number(arguments[1]) || 0;
  from = from < 0 ? Math.ceil(from) : Math.floor(from);
  if (from < 0) from += len;

  for (; from < len; from++) {
    if (from in this && this[from] === elt) return from;
  }
  return -1;
}

//IE8- Fix: indexOf is not supported in IE8- for arrays
function addArrayIndexOf(obj) {
  if (!obj.indexOf) {
    obj.indexOf = arrayIndexOf;
  }

  return obj;
}

var fontHeightInPixels = {};
var textMeasureEl = null;

function getFontHeightInPixels(fontFamily, fontSize, fontWeight) {
  //return fontSize;

  fontWeight = fontWeight || "normal";

  var entry = fontFamily + "_" + fontSize + "_" + fontWeight;
  var height = fontHeightInPixels[entry];

  if (isNaN(height)) {
    try {
      var style = "position:absolute; left:0px; top:-20000px; padding:0px;margin:0px;border:none;white-space:pre;line-height:normal;" + "font-family:" + fontFamily + "; " + "font-size:" + fontSize + "px; font-weight:" + fontWeight + ";";
      //console.log(style);
      if (!textMeasureEl) {
        var body = document.body;
        textMeasureEl = document.createElement("span");
        textMeasureEl.innerHTML = "";
        var textNode = document.createTextNode("Mpgyi");
        textMeasureEl.appendChild(textNode);
        body.appendChild(textMeasureEl);
      }

      textMeasureEl.style.display = "";
      textMeasureEl.setAttribute("style", style);

      height = Math.round(textMeasureEl.offsetHeight);
      textMeasureEl.style.display = "none";
      //body.removeChild(tempDiv);

      //if (window.console)
      //	window.console.log(fontSize + ": " + height);
    } catch (e) {
      height = Math.ceil(fontSize * 1.1);
    }

    height = Math.max(height, fontSize);

    fontHeightInPixels[entry] = height;
  }

  return height;
}

function getLineDashArray(lineDashType, lineThickness) {
  lineDashType = lineDashType || "solid";

  var lineDashArray = [];

  var lineDashTypeMap = {
    solid: [],
    shortDash: [3, 1],
    shortDot: [1, 1],
    shortDashDot: [3, 1, 1, 1],
    shortDashDotDot: [3, 1, 1, 1, 1, 1],
    dot: [1, 2],
    dash: [4, 2],
    dashDot: [4, 2, 1, 2],
    longDash: [8, 2],
    longDashDot: [8, 2, 1, 2],
    longDashDotDot: [8, 2, 1, 2, 1, 2]
  };

  lineDashArray = lineDashTypeMap[lineDashType];

  if (lineDashArray) {
    for (var i = 0; i < lineDashArray.length; i++) {
      lineDashArray[i] *= lineThickness;
    }
  } else lineDashArray = [];

  return lineDashArray;
}

//userCapture is optional. Defaults to false
function addEvent(obj, eventType, fn, useCapture) {
  if (obj.addEventListener) {
    obj.addEventListener(eventType, fn, useCapture || false);
  } else if (obj.attachEvent) {
    obj.attachEvent("on" + eventType, function (e) {
      e = e || window.event;
      e.preventDefault = e.preventDefault || function () {
        e.returnValue = false;
      };
      e.stopPropagation = e.stopPropagation || function () {
        e.cancelBubble = true;
      };
      fn.call(obj, e);
    });
  } else return false;
}

//#region formatting functions/methods
function dateFormat() {
  var reg = /D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g;

  var defDays = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
  var defShortDays = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];

  var defMonths = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
  var defShortMonths = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];

  var timezone = /\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g;
  var timezoneClip = /[^-+\dA-Z]/g;

  return function (dt, formatString, cultureInfo) {
    var days = cultureInfo ? cultureInfo.days : defDays;
    var months = cultureInfo ? cultureInfo.months : defMonths;

    var shortDays = cultureInfo ? cultureInfo.shortDays : defShortDays;
    var shortMonths = cultureInfo ? cultureInfo.shortMonths : defShortMonths;

    var result = "";
    var utc = false;

    dt = dt && dt.getTime ? dt : dt ? new Date(dt) : new Date();
    if (isNaN(dt)) throw SyntaxError("invalid date");

    if (formatString.slice(0, 4) === "UTC:") {
      formatString = formatString.slice(4);
      utc = true;
    }

    var pre = utc ? "getUTC" : "get";
    var date = dt[pre + "Date"]();
    var day = dt[pre + "Day"]();
    var month = dt[pre + "Month"]();
    var year = dt[pre + "FullYear"]();
    var hours = dt[pre + "Hours"]();
    var minutes = dt[pre + "Minutes"]();
    var seconds = dt[pre + "Seconds"]();
    var milliseconds = dt[pre + "Milliseconds"]();
    var offset = utc ? 0 : dt.getTimezoneOffset();

    result = formatString.replace(reg, function (key) {
      switch (key) {
        case "D":
          return date;
        case "DD":
          return pad(date, 2);
        case "DDD":
          return shortDays[day];
        case "DDDD":
          return days[day];

        case "M":
          return month + 1;
        case "MM":
          return pad(month + 1, 2);
        case "MMM":
          return shortMonths[month];
        case "MMMM":
          return months[month];

        case "Y":
          return parseInt(String(year).slice(-2));
        case "YY":
          return pad(String(year).slice(-2), 2);
        case "YYY":
          return pad(String(year).slice(-3), 3);
        case "YYYY":
          return pad(year, 4);

        case "h":
          return hours % 12 || 12;
        case "hh":
          return pad(hours % 12 || 12, 2);

        case "H":
          return hours;
        case "HH":
          return pad(hours, 2);

        case "m":
          return minutes;
        case "mm":
          return pad(minutes, 2);

        case "s":
          return seconds;
        case "ss":
          return pad(seconds, 2);

        case "f":
          return String(milliseconds).slice(0, 1);
        case "ff":
          return pad(String(milliseconds).slice(0, 2), 2);
        case "fff":
          return pad(String(milliseconds).slice(0, 3), 3);

        case "t":
          return hours < 12 ? "a" : "p";
        case "tt":
          return hours < 12 ? "am" : "pm";
        case "T":
          return hours < 12 ? "A" : "P";
        case "TT":
          return hours < 12 ? "AM" : "PM";

        case "K":
          return utc ? "UTC" : (String(dt).match(timezone) || [""]).pop().replace(timezoneClip, ""); // Time Zone;
        case "z":
          return (offset > 0 ? "-" : "+") + Math.floor(Math.abs(offset) / 60); // Hour Offset from UTC without padding
        case "zz":
          return (offset > 0 ? "-" : "+") + pad(Math.floor(Math.abs(offset) / 60), 2); // Hour Offset from UTC with padding
        case "zzz":
          return (offset > 0 ? "-" : "+") + pad(Math.floor(Math.abs(offset) / 60), 2) + pad(Math.abs(offset) % 60, 2); // Hour and Minute Offset from UTC with padding

        default:
          return key.slice(1, key.length - 1);
      }
    });

    return result;
  };
}

function numberFormat(v, fs, cultureInfo) {
  if (v === null) return "";

  v = Number(v);
  var isNegative = v < 0 ? true : false;
  if (isNegative) v *= -1;

  var decimalSeparator = cultureInfo ? cultureInfo.decimalSeparator : ".";
  var digitGroupSeparator = cultureInfo ? cultureInfo.digitGroupSeparator : ",";

  var vString = "";
  fs = String(fs);
  var multiplier = 1;
  var temp;
  var result = "";

  var matches = "";
  var decimalPosition = -1;
  var fsBeforeDecimal = [];
  var fsAfterDecimal = [];
  var noPhBeforeDecimal = 0; // Number of Placeholders before Decimal
  var noPhAfterDecimal = 0; // Number of Placeholders after Decimal
  var noComma = 0;
  var isScientificNotation = false;
  var exponent = 0;

  matches = fs.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]||./g);
  //window.console.log(matches + " = " + matches.length);
  var match = null;

  for (var i = 0; matches && i < matches.length; i++) {
    match = matches[i];

    if (match === "." && decimalPosition < 0) {
      decimalPosition = i;
      continue;
    } else if (match === "%") {
      multiplier *= 100;
    } else if (match === "") {
      multiplier *= 1000;
      continue;
    } else if (match[0] === "," && match[match.length - 1] === ".") {
      multiplier /= Math.pow(1000, match.length - 1);
      decimalPosition = i + match.length - 1;
      continue;
    } else if ((match[0] === "E" || match[0] === "e") && match[match.length - 1] === "0") {
      isScientificNotation = true;
    }

    if (decimalPosition < 0) {
      fsBeforeDecimal.push(match);
      if (match === "#" || match === "0") noPhBeforeDecimal++;else if (match === ",") noComma++;
    } else {
      fsAfterDecimal.push(match);
      if (match === "#" || match === "0") noPhAfterDecimal++;
    }
  }

  if (isScientificNotation) {
    var integer = Math.floor(v);
    exponent = (integer === 0 ? "" : String(integer)).length - noPhBeforeDecimal;
    multiplier /= Math.pow(10, exponent);
  }

  v *= multiplier;

  if (decimalPosition < 0) decimalPosition = i;

  vString = v.toFixed(noPhAfterDecimal);
  var split = vString.split(".");
  //window.console.log(split);
  var vStringBeforeDecimal = (split[0] + "").split("");
  var vStringAfterDecimal = (split[1] + "").split("");

  if (vStringBeforeDecimal && vStringBeforeDecimal[0] === "0") vStringBeforeDecimal.shift();

  //window.console.log(fsBeforeDecimal + "<---------->" + fsAfterDecimal + " &        " + vStringBeforeDecimal + "<---------->" + vStringAfterDecimal);

  var noPhProcessed = 0;
  var noDigitsAdded = 0;
  var noCommaAdded = 0;
  var commaDistance = 0;
  var distanceFromLastComma = 0;

  while (fsBeforeDecimal.length > 0) {
    match = fsBeforeDecimal.pop();

    if (match === "#" || match === "0") {
      noPhProcessed++;

      if (noPhProcessed === noPhBeforeDecimal) {
        var digits = vStringBeforeDecimal;
        vStringBeforeDecimal = [];

        if (match === "0") {
          //var totalDigits = result.match(/[0-9]/g).length;
          var toPad = noPhBeforeDecimal - noDigitsAdded - (digits ? digits.length : 0);

          while (toPad > 0) {
            digits.unshift("0");
            toPad--;
          }
        }

        while (digits.length > 0) {
          result = digits.pop() + result;
          distanceFromLastComma++;

          if (distanceFromLastComma % commaDistance === 0 && noCommaAdded === noComma && digits.length > 0) result = digitGroupSeparator + result;
        }

        if (isNegative) result = "-" + result;
      } else {
        if (vStringBeforeDecimal.length > 0) {
          result = vStringBeforeDecimal.pop() + result;
          noDigitsAdded++;
          distanceFromLastComma++;
        } else if (match === "0") {
          result = "0" + result;
          noDigitsAdded++;
          distanceFromLastComma++;
        }

        if (distanceFromLastComma % commaDistance === 0 && noCommaAdded === noComma && vStringBeforeDecimal.length > 0) result = digitGroupSeparator + result;
      }
    } else if ((match[0] === "E" || match[0] === "e") && match[match.length - 1] === "0" && /[eE][+-]*[0]+/.test(match)) {
      if (exponent < 0) match = match.replace("+", "").replace("-", "");else match = match.replace("-", "");

      result += match.replace(/[0]+/, function ($0) {
        return pad(exponent, $0.length);
      });
    } else {
      if (match === ",") {
        noCommaAdded++;
        commaDistance = distanceFromLastComma;
        distanceFromLastComma = 0;

        if (vStringBeforeDecimal.length > 0) result = digitGroupSeparator + result;
      } else if (match.length > 1 && (match[0] === '"' && match[match.length - 1] === '"' || match[0] === "'" && match[match.length - 1] === "'")) {
        result = match.slice(1, match.length - 1) + result;
      } else result = match + result;
    }
  }

  var charCount = 0;
  var resultAfterDecimal = "";
  var addDecimalSeparator = false;

  while (fsAfterDecimal.length > 0) {
    match = fsAfterDecimal.shift();

    if (match === "#" || match === "0") {
      if (vStringAfterDecimal.length > 0 && Number(vStringAfterDecimal.join("")) !== 0) {
        resultAfterDecimal += vStringAfterDecimal.shift();
        addDecimalSeparator = true;
      } else if (match === "0") {
        resultAfterDecimal += "0";
        addDecimalSeparator = true;
      }
    } else if (match.length > 1 && (match[0] === '"' && match[match.length - 1] === '"' || match[0] === "'" && match[match.length - 1] === "'")) {
      resultAfterDecimal += match.slice(1, match.length - 1);
      //addDecimalSeparator = true;
    } else if ((match[0] === "E" || match[0] === "e") && match[match.length - 1] === "0" && /[eE][+-]*[0]+/.test(match)) {
      if (exponent < 0) match = match.replace("+", "").replace("-", "");else match = match.replace("-", "");
      resultAfterDecimal += match.replace(/[0]+/, function ($0) {
        return pad(exponent, $0.length);
      });
    } else {
      resultAfterDecimal += match;
      //addDecimalSeparator = true;
    }
  }

  result += (addDecimalSeparator ? decimalSeparator : "") + resultAfterDecimal;
  //window.console.log(result);
  return result;
}

//#endregion formatting functions/methods

function getObjectId(x, y, ctx) {
  x *= devicePixelBackingStoreRatio;
  y *= devicePixelBackingStoreRatio;
  var pixels = ctx.getImageData(x, y, 2, 2).data;
  var isObject = true;

  for (var i = 0; i < 4; i++) {
    if (pixels[i] !== pixels[i + 4] | pixels[i] !== pixels[i + 8] | pixels[i] !== pixels[i + 12]) {
      isObject = false;
      break;
    }
  }

  if (isObject) {
    return RGBToInt(pixels[0], pixels[1], pixels[2]);
  } else {
    return 0;
  }

  //window.console.log(pixels);
}

//extracts mouse coordinates from the event parameters
function getMouseCoordinates(ev) {
  var x = 0;
  var y = 0;

  ev = ev || window.event;

  if (ev.offsetX || ev.offsetX === 0) {
    x = ev.offsetX;
    y = ev.offsetY;
  } else if (ev.layerX || ev.layerX == 0) {
    // Firefox
    x = ev.layerX;
    y = ev.layerY;
  } else {
    x = ev.pageX - ev.target.offsetLeft;
    y = ev.pageY - ev.target.offsetTop;
  }

  return { x: x, y: y };
}

function getFontString(prefix, object, fallbackObject) {
  var fontString = "";

  var fontStyleString = prefix ? prefix + "FontStyle" : "fontStyle";
  var fontWeightString = prefix ? prefix + "FontWeight" : "fontWeight";
  var fontSizeString = prefix ? prefix + "FontSize" : "fontSize";
  var fontFamilyString = prefix ? prefix + "FontFamily" : "fontFamily";

  fontString += object[fontStyleString] ? object[fontStyleString] + " " : fallbackObject && fallbackObject[fontStyleString] ? fallbackObject[fontStyleString] + " " : "";
  fontString += object[fontWeightString] ? object[fontWeightString] + " " : fallbackObject && fallbackObject[fontWeightString] ? fallbackObject[fontWeightString] + " " : "";
  fontString += object[fontSizeString] ? object[fontSizeString] + "px " : fallbackObject && fallbackObject[fontSizeString] ? fallbackObject[fontSizeString] + "px " : "";

  var fontFamily = object[fontFamilyString] ? object[fontFamilyString] + "" : fallbackObject && fallbackObject[fontFamilyString] ? fallbackObject[fontFamilyString] + "" : "";

  if (!isCanvasSupported && fontFamily) {
    var firstFontFamily = fontFamily.split(",")[0];

    if (firstFontFamily[0] !== "'" && firstFontFamily[0] !== '"') firstFontFamily = "'" + firstFontFamily + "'";

    fontString += firstFontFamily;
  } else fontString += fontFamily;

  return fontString;
}

function getProperty(propertyName, object, fallbackObject) {
  var value = propertyName in object ? object[propertyName] : fallbackObject[propertyName];

  return value;
}

var optimizeForHiDPI = true;
//optimizeForHiDPI = false;
var devicePixelRatio = window.devicePixelRatio || 1;
var backingStoreRatio = 1;

function getDevicePixelBackingStoreRatio() {
  return optimizeForHiDPI ? devicePixelRatio / backingStoreRatio : 1;
}

var devicePixelBackingStoreRatio = getDevicePixelBackingStoreRatio();

function setCanvasSize(canvas, width, height) {
  if (isCanvasSupported && !!optimizeForHiDPI) {
    var ctx = canvas.getContext("2d");
    backingStoreRatio = ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1;

    devicePixelBackingStoreRatio = getDevicePixelBackingStoreRatio();

    canvas.width = width * devicePixelBackingStoreRatio;
    canvas.height = height * devicePixelBackingStoreRatio;

    if (devicePixelRatio !== backingStoreRatio) {
      canvas.style.width = width + "px";
      canvas.style.height = height + "px";

      ctx.scale(devicePixelBackingStoreRatio, devicePixelBackingStoreRatio);
    }

    //window.alert(backingStoreRatio);
    //window.alert(devicePixelRatio);
  } else {
    canvas.width = width;
    canvas.height = height;
  }
}

function createCanvas(width, height) {
  var canvas = document.createElement("canvas");
  canvas.setAttribute("class", "canvasjs-chart-canvas");

  setCanvasSize(canvas, width, height);

  if (!isCanvasSupported && typeof G_vmlCanvasManager !== "undefined") {
    G_vmlCanvasManager.initElement(canvas);
  }

  return canvas;
}

function exportCanvas(canvas, format, fileName) {
  if (!canvas || !format || !fileName) return;

  var fullFileName = fileName + "." + (format === "jpeg" ? "jpg" : format);
  var mimeType = "image/" + format;
  var img = canvas.toDataURL(mimeType);
  var saved = false;

  var downloadLink = document.createElement("a");
  downloadLink.download = fullFileName;
  downloadLink.href = img;
  downloadLink.target = "_blank";
  var e;

  if (typeof Blob !== "undefined" && !!new Blob()) {
    //alert("blob");
    var imgData = img.replace(/^data:[a-z/]*;base64,/, "");

    var byteString = atob(imgData);
    var buffer = new ArrayBuffer(byteString.length);
    var intArray = new Uint8Array(buffer);
    for (var i = 0; i < byteString.length; i++) {
      intArray[i] = byteString.charCodeAt(i);
    }

    var blob = new Blob([buffer], { type: "image/" + format });

    // Save the blob
    try {
      window.navigator.msSaveBlob(blob, fullFileName);
      saved = true;
    } catch (e) {
      downloadLink.dataset.downloadurl = [mimeType, downloadLink.download, downloadLink.href].join(":");
      downloadLink.href = window.URL.createObjectURL(blob);
    }
  }

  if (!saved) {
    try {
      event = document.createEvent("MouseEvents");

      event.initMouseEvent("click", true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);

      if (downloadLink.dispatchEvent) {
        //alert("dispatchEvent");
        downloadLink.dispatchEvent(event);
      } else if (downloadLink.fireEvent) {
        //alert("fireEvent");
        downloadLink.fireEvent("onclick");
      }
    } catch (e) {
      var win = window.open();
      //alert("<IE10");
      //window.console.log("IE");
      win.document.write("<img src='" + img + "'></img><div>Please right click on the image and save it to your device</div>");
      win.document.close();
    }
  }
}

var base64Images = {
  reset: {
    image: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAcCAYAAAAAwr0iAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAKRSURBVEiJrdY/iF1FFMfxzwnZrGISUSR/JLGIhoh/QiRNBLWxMLIWEkwbgiAoFgoW2mhlY6dgpY2IlRBRxBSKhSAKIklWJRYuMZKAhiyopAiaTY7FvRtmZ+/ed9/zHRjezLw5v/O9d86cuZGZpmURAfdn5o9DfdZNLXpjz+LziPgyIl6MiG0jPTJzZBuyDrP4BVm0P/AKbljTb4ToY/gGewYA7KyCl+1b3DUYANvwbiHw0gCAGRzBOzjTAXEOu0cC4Ch+r5x/HrpdrcZmvIDFSucMtnYCYC++6HmNDw8FKDT34ETrf639/azOr5vwRk/g5fbeuABtgC04XWk9VQLciMP4EH/3AFzErRNC7MXlQmsesSoHsGPE23hmEoBW+61K66HMXFmIMvN8myilXS36R01ub+KfYvw43ZXwYDX+AHP4BAci4pFJomfmr/ihmNofESsBImJGk7mlncrM45n5JPbhz0kAWpsv+juxaX21YIPmVJS2uNzJMS6ZNexC0d+I7fUWXLFyz2kSZlpWPvASlmqAf/FXNXf3FAF2F/1LuFifAlionB6dRuSI2IwHi6lzmXmp6xR8XY0fiIh7psAwh+3FuDkRHQVjl+a8lkXjo0kLUKH7XaV5oO86PmZ1FTzyP4K/XGl9v/zwfbW7BriiuETGCP5ch9bc9f97HF/vcFzCa5gdEPgWq+t/4v0V63oE1uF4h0DiFJ7HnSWMppDdh1dxtsPvJ2wcBNAKbsJXa0Ck5opdaBPsRNu/usba09i1KsaAVzmLt3sghrRjuK1Tf4xkegInxwy8gKf7dKMVH2QRsV5zXR/Cftyu+aKaKbbkQrsdH+PTzLzcqzkOQAVzM+7FHdiqqe2/YT4zF/t8S/sPmawyvC974vcAAAAASUVORK5CYII="
  },
  pan: {
    image: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAJVSURBVFiFvZe7a1RBGMV/x2hWI4JpfKCIiSBKOoOCkID/wP4BFqIIFkE02ChIiC8QDKlSiI3YqRBsBVGwUNAUdiIEUgjiAzQIIsuKJsfizsXr5t7d+8jmwLDfzHz3nLOzc7+ZxTZlGyDgZiWOCuJ9wH2gCUyuqQFgF/AGcKJNrYkBYBj40CIet+muGQi/96kM4WS7C/Tm5VUg7whJg8BkEGkCR4BDYfodsADUgP6wErO5iCtswsuJb32hdbXy8qzL5TIdmzJinHdZoZIBZcSFkGlAKs1Z3YCketZcBtouuaQNkrblMiBpBrhme7mAgU4wMCvpcFsDkq4C54DFVRTH9h+i6vlE0r5UA5ImgCuh28jB28iIs7BIVCOeStoZD64P4uPAjUTygKSx2FsK2TIwkugfk9Qkfd/E+yMWHQCeSRqx/R3gOp3LazfaS2C4B5gHDgD7U9x3E3uAH7KNpC3AHHAwTL4FHgM9GQ8vAaPA0dB/Abxqk2/gBLA9MXba9r1k/d4LfA3JtwueBeM58ucS+edXnAW23wP10N3advEi9CXizTnyN4bPS7Zn4sH/dq3t18AY4e1YLYSy3g/csj2VnFshZPuOpOeSKHCodUINuGj7YetE6je1PV9QoNPJ9StNHKodx7nRbiWrGHBGXAi5DUiqtQwtpcWK0Jubt8CltA5MEV1IfwO7+VffPwGfia5m34CT4bXujIIX0Qna1/cGMNqV/wUJE2czxD8CQ4X5Sl7Jz7SILwCDpbjKPBRMHAd+EtX4HWV5Spdc2w8kDQGPbH8py/MXMygM69/FKz4AAAAASUVORK5CYII="
  },
  zoom: {
    image: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAMqSURBVFiFvdfbj91TFMDxz57U6GUEMS1aYzyMtCSSDhWjCZMInpAI3khE/QHtgzdRkXgSCS8SES9epKLi0oRKNETjRahREq2KS1stdRujtDPtbA97n5zdn9+5zJxTK9k5v3POXmt991p7r71+IcaoGwkhTOIebMRqzOBTvIG3Y4zTXRmqSoyx5cAKbMJOHMFJnMZ8/jyFaXyMR7G6nb1aH22cP4BvcBxziG3GKfyTIR9D6BYg1KUghPBCDveFlb/24Av8iuUYw41YVsz5G7uxKcZ4aMEpwGt5NY3V/YbHsQ6rcAHOw/kYxigewr5CZw4fYGxBKcCLOFEYehXrMdRhr5yLETxVScsOLOkKAPfn1TYMPIvLFrShUlS2FDZm8XRHACzFAWl3R2xbqPMCYhmeLCAOYEMngAczbcTvuHYxzguIy/FesR9e6gSwU/OoPYHBHgHgviIKX2Flq7k34KhmcVnbi/PC8JX4MgMcxb118wZwdz5aISscqx7VRcox7MrPQ7i+btIAJrAkf9+bI9EPmZY2IAxiTSuAldLq4Y9+AcSUh78KP0tbAcwU35cXMD1JCIFUoGiehlqAz6TNB1f1C0DK+0h+nsNPrQC2a4bqGmlD9kOGcWt+Po6pVgDvSxfJaSkFd4UQBvoAsBYbCoB3a2flM7slA0R8iyt6rAFDeDPbm8eOTpVwGD9qVq7nLbIaZnmksPU1JtsCZMXNmpdRxFasWITzh6Xj3LCzra1OxcD2QjHiGVzdpfORnMqZio2PcF23ABdJF1Np4BPptlyPi6WzPYBzpJZtHe7A6xW9cnyP8TqA//SEIYRL8Bxul7rihvwgtVn78WcGGZXa9HGd5TDujDHuOePXNiHdKjWgZX/YbsxLx/ktqbjVzTlcjUSnvI5JrdlUVp6WesZZ6R1hRrpq9+EVTGS9jTjYAuKIouGpbcurEkIYxC051KNSamazsc+xK8b4S0VnEi/j0hqTP+M27O258egQwZuzs7pI7Mf4WQXIEDc5s9sux+5+1Py2EmP8UOq6GvWhIScxfdYjUERiAt9Jd84J6a16zf8JEKT3yCm8g1UxRv8CC4pyRhzR1uUAAAAASUVORK5CYII="
  },
  menu: {
    image: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAgCAYAAAAbifjMAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDcvMTUvMTTPsvU0AAAAP0lEQVRIie2SMQoAIBDDUvH/X667g8sJJ9KOhYYOkW0qGaU1MPdC0vGSbV19EACo3YMPAFH5BUBUjsqfAPpVXtNgGDfxEDCtAAAAAElFTkSuQmCC"
  }
};

function setButtonState(chart, button, state) {
  if (button.getAttribute("state") !== state) {
    button.setAttribute("state", state);
    button.setAttribute("type", "button");
    button.style.position = "relative";
    button.style.margin = "0px 0px 0px 0px";
    button.style.padding = "3px 4px 0px 4px";
    button.style.cssFloat = "left";
    button.setAttribute("title", chart._cultureInfo[state + "Text"]);
    button.innerHTML = "<img style='height:16px;' src='" + base64Images[state].image + "' alt='" + chart._cultureInfo[state + "Text"] + "' />";
  }
}

function show() {
  var element = null;

  for (var i = 0; i < arguments.length; i++) {
    element = arguments[i];
    if (element.style) element.style.display = "inline";
  }
}

function hide() {
  var element = null;

  for (var i = 0; i < arguments.length; i++) {
    element = arguments[i];
    if (element && element.style) element.style.display = "none";
  }
}

var isCanvasSupported = exports.isCanvasSupported = !!document.createElement("canvas").getContext;

function getBezierPoints(points, tension) {
  var bezierPoints = [];

  for (var i = 0; i < points.length; i++) {
    if (i == 0) {
      bezierPoints.push(points[0]);
      continue;
    }

    var i1, i2, pointIndex;

    pointIndex = i - 1;
    i1 = pointIndex === 0 ? 0 : pointIndex - 1;
    i2 = pointIndex === points.length - 1 ? pointIndex : pointIndex + 1;

    var drv1 = {
      x: (points[i2].x - points[i1].x) / tension,
      y: (points[i2].y - points[i1].y) / tension
    };
    var cp1 = {
      x: points[pointIndex].x + drv1.x / 3,
      y: points[pointIndex].y + drv1.y / 3
    };
    bezierPoints[bezierPoints.length] = cp1;

    pointIndex = i;
    i1 = pointIndex === 0 ? 0 : pointIndex - 1;
    i2 = pointIndex === points.length - 1 ? pointIndex : pointIndex + 1;

    var drv2 = {
      x: (points[i2].x - points[i1].x) / tension,
      y: (points[i2].y - points[i1].y) / tension
    };
    var cp2 = {
      x: points[pointIndex].x - drv2.x / 3,
      y: points[pointIndex].y - drv2.y / 3
    };
    bezierPoints[bezierPoints.length] = cp2;

    bezierPoints[bezierPoints.length] = points[i];
  }

  return bezierPoints;
}

function convertPercentToValue(input, referenceValue) {
  //input can be a number or string
  if (input === null || typeof input === "undefined") return referenceValue;

  var result = parseFloat(input.toString()) * (input.toString().indexOf("%") >= 0 ? referenceValue / 100 : 1);

  // limit to plot area
  if (!isNaN(result) && result <= referenceValue && result >= 0) return result;

  return referenceValue;
}

function drawRect(ctx, x1, y1, x2, y2, color, borderThickness, borderColor, top, bottom, left, right, fillOpacity) {
  if (typeof fillOpacity === "undefined") fillOpacity = 1;

  borderThickness = borderThickness || 0;
  borderColor = borderColor || "black";
  //alert("top"+ top + "bottom" + bottom + " lt" + left+ "rt" + right )
  var a1 = x1,
      a2 = x2,
      b1 = y1,
      b2 = y2,
      edgeY,
      edgeX;
  if (x2 - x1 > 15 && y2 - y1 > 15) var bevelDepth = 8;else var bevelDepth = 0.35 * Math.min(x2 - x1, y2 - y1);
  //alert(a1 + "" + a2);
  var color2 = "rgba(255, 255, 255, .4)";
  var color3 = "rgba(255, 255, 255, 0.1)";
  //color1 = "rgba(" + r + "," + g + ", " + b + ",1)";
  var color1 = color;

  ctx.beginPath();
  ctx.moveTo(x1, y1);
  ctx.save();
  ctx.fillStyle = color1;

  ctx.globalAlpha = fillOpacity;
  ctx.fillRect(x1, y1, x2 - x1, y2 - y1);
  ctx.globalAlpha = 1;

  if (borderThickness > 0) {
    var offset = borderThickness % 2 === 0 ? 0 : 0.5;
    ctx.beginPath();
    ctx.lineWidth = borderThickness;
    ctx.strokeStyle = borderColor;
    ctx.moveTo(x1, y1);
    ctx.rect(x1 - offset, y1 - offset, x2 - x1 + 2 * offset, y2 - y1 + 2 * offset);
    ctx.stroke();
  }

  ctx.restore();
  //   ctx.beginPath();
  if (top === true) {
    // alert(x1 + "" + x2 + " " + bevelDepth);
    ctx.save();
    ctx.beginPath();
    ctx.moveTo(x1, y1);
    ctx.lineTo(x1 + bevelDepth, y1 + bevelDepth);
    ctx.lineTo(x2 - bevelDepth, y1 + bevelDepth);
    ctx.lineTo(x2, y1);
    ctx.closePath();
    var grd = ctx.createLinearGradient((x2 + x1) / 2, b1 + bevelDepth, (x2 + x1) / 2, b1);
    grd.addColorStop(0, color1);
    grd.addColorStop(1, color2);
    ctx.fillStyle = grd;
    ctx.fill();
    //              ctx.stroke();
    ctx.restore();
  }

  if (bottom === true) {
    ctx.save();
    ctx.beginPath();
    ctx.moveTo(x1, y2);
    ctx.lineTo(x1 + bevelDepth, y2 - bevelDepth);
    ctx.lineTo(x2 - bevelDepth, y2 - bevelDepth);
    ctx.lineTo(x2, y2);
    ctx.closePath();
    var grd = ctx.createLinearGradient((x2 + x1) / 2, b2 - bevelDepth, (x2 + x1) / 2, b2);
    grd.addColorStop(0, color1);
    grd.addColorStop(1, color2);
    ctx.fillStyle = grd;
    //       ctx.stroke();
    ctx.fill();
    ctx.restore();
  }

  if (left === true) {
    //   alert(x1)
    ctx.save();
    ctx.beginPath();
    ctx.moveTo(x1, y1);
    ctx.lineTo(x1 + bevelDepth, y1 + bevelDepth);
    ctx.lineTo(x1 + bevelDepth, y2 - bevelDepth);
    ctx.lineTo(x1, y2);
    ctx.closePath();
    var grd = ctx.createLinearGradient(a1 + bevelDepth, (y2 + y1) / 2, a1, (y2 + y1) / 2);
    grd.addColorStop(0, color1);
    grd.addColorStop(1, color3);
    ctx.fillStyle = grd;
    ctx.fill();
    //     ctx.stroke();
    ctx.restore();
  }

  if (right === true) {
    ctx.save();
    ctx.beginPath();
    ctx.moveTo(x2, y1);
    ctx.lineTo(x2 - bevelDepth, y1 + bevelDepth);
    ctx.lineTo(x2 - bevelDepth, y2 - bevelDepth);
    ctx.lineTo(x2, y2);
    var grd = ctx.createLinearGradient(a2 - bevelDepth, (y2 + y1) / 2, a2, (y2 + y1) / 2);
    grd.addColorStop(0, color1);
    grd.addColorStop(1, color3);
    ctx.fillStyle = grd;
    grd.addColorStop(0, color1);
    grd.addColorStop(1, color3);
    ctx.fillStyle = grd;
    ctx.fill();
    ctx.closePath();
    //          ctx.stroke();
    ctx.restore();
  }
  //
}

function drawSegment(ctx, center, radius, color, type, theta1, theta2, fillOpacity, percentInnerRadius) {
  if (typeof fillOpacity === "undefined") fillOpacity = 1;

  //IE8- FIX: In IE8- segment doesn't get draw if theta2 is equal to theta1 + 2*PI.
  if (!isCanvasSupported) {
    var theta2Mod = Number((theta2 % (2 * Math.PI)).toFixed(8));
    var theta1Mod = Number((theta1 % (2 * Math.PI)).toFixed(8));
    if (theta1Mod === theta2Mod) theta2 -= 0.0001;
  }

  ctx.save();
  ctx.globalAlpha = fillOpacity;

  if (type === "pie") {
    ctx.beginPath();
    ctx.moveTo(center.x, center.y);
    ctx.arc(center.x, center.y, radius, theta1, theta2, false);
    ctx.fillStyle = color;
    ctx.strokeStyle = "white";
    ctx.lineWidth = 2;
    //    ctx.shadowOffsetX = 2;
    //    ctx.shadowOffsetY = 1;
    //     ctx.shadowBlur = 2;
    //    ctx.shadowColor = '#BFBFBF';
    ctx.closePath();
    //ctx.stroke();
    ctx.fill();
  } else if (type === "doughnut") {
    ctx.beginPath();
    ctx.arc(center.x, center.y, radius, theta1, theta2, false);
    ctx.arc(center.x, center.y, percentInnerRadius * radius, theta2, theta1, true);
    ctx.closePath();
    ctx.fillStyle = color;
    ctx.strokeStyle = "white";
    ctx.lineWidth = 2;
    // shadow properties
    //     ctx.shadowOffsetX = 1;
    //    ctx.shadowOffsetY = 1;
    //     ctx.shadowBlur = 1;
    //    ctx.shadowColor = '#BFBFBF';  //grey shadow
    //ctx.stroke();
    ctx.fill();
  }

  ctx.globalAlpha = 1;

  ctx.restore();
}

},{}],40:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.formatDate = exports.formatNumber = exports.addCultureInfo = exports.addColorSet = undefined;
exports.Chart = Chart;

var _charts = require('../core/charts');

var _charts2 = _interopRequireDefault(_charts);

var _culture_info = require('../core/culture_info');

var _culture_info2 = _interopRequireDefault(_culture_info);

var _themes = require('../constants/themes');

var _culture = require('../constants/culture');

var _utils = require('../helpers/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Chart(containerId, options) {
    var _this = this;

    var _chart = new _charts2.default(containerId, options, this);

    this.render = function () {
        return _chart.render(_this.options);
    };

    this.options = _chart._options;
} /**
  * @preserve CanvasJS HTML5 & JavaScript Charts - v1.8.0 Beta 2 - http://canvasjs.com/
  * CanvasJS Charts follows Dual Licensing Model as mentioned below.
  *
  * ---------------------Free for Non-Commercial Use--------------------
  *
  * For non-commercial purposes you can use the software for free under Creative Commons Attribution-NonCommercial 3.0 License. Refer to the following link for further details on the same.
  * http://creativecommons.org/licenses/by-nc/3.0/deed.en_US
  *
  * ---------------------Commercial License--------------------
  * Commercial use of CanvasJS requires you to purchase a license. Without a commercial license you can use it for evaluation purposes only. Please refer to the following link for further details.
  * http://canvasjs.com/
  *
  **/
;

var addColorSet = exports.addColorSet = function addColorSet(name, colorSet) {

    _themes.colorSets[name] = colorSet;
};

var addCultureInfo = exports.addCultureInfo = function addCultureInfo(name, cultureInfo) {

    _culture.cultures[name] = cultureInfo;
};

var formatNumber = exports.formatNumber = function formatNumber(number, formatString, culture) {

    culture = culture || "en";
    formatString = formatString || "#,##0.##";

    if (!_culture.cultures[culture]) throw "Unknown Culture Name";else (0, _utils.numberFormat)(number, formatString, new _culture_info2.default(culture));
};

var formatDate = exports.formatDate = function formatDate(date, formatString, culture) {

    culture = culture || "en";
    formatString = formatString || "DD MMM YYYY";

    if (!_culture.cultures[culture]) throw "Unknown Culture Name";else (0, _utils.dateFormat)(date, formatString, new _culture_info2.default(culture));
};

Chart.version = "v1.8.2";

},{"../constants/culture":22,"../constants/themes":24,"../core/charts":28,"../core/culture_info":29,"../helpers/utils":39}]},{},[40])(40)
});

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvY2hhcnRzL2FyZWEuanMiLCJzcmMvY2hhcnRzL2Jhci5qcyIsInNyYy9jaGFydHMvYnViYmxlLmpzIiwic3JjL2NoYXJ0cy9jYW5kbGVzdGljay5qcyIsInNyYy9jaGFydHMvY29sdW1uLmpzIiwic3JjL2NoYXJ0cy9pbmRleC5qcyIsInNyYy9jaGFydHMvcGllLmpzIiwic3JjL2NoYXJ0cy9yYW5nZV9hcmVhLmpzIiwic3JjL2NoYXJ0cy9yYW5nZV9iYXIuanMiLCJzcmMvY2hhcnRzL3JhbmdlX2NvbHVtbi5qcyIsInNyYy9jaGFydHMvcmFuZ2Vfc3BsaW5lX2FyZWEuanMiLCJzcmMvY2hhcnRzL3NjYXR0ZXIuanMiLCJzcmMvY2hhcnRzL3NwbGluZS5qcyIsInNyYy9jaGFydHMvc3BsaW5lX2FyZWEuanMiLCJzcmMvY2hhcnRzL3N0YWNrZWRfYXJlYS5qcyIsInNyYy9jaGFydHMvc3RhY2tlZF9hcmVhXzEwMC5qcyIsInNyYy9jaGFydHMvc3RhY2tlZF9iYXIuanMiLCJzcmMvY2hhcnRzL3N0YWNrZWRfYmFyXzEwMC5qcyIsInNyYy9jaGFydHMvc3RhY2tlZF9jb2x1bW4uanMiLCJzcmMvY2hhcnRzL3N0YWNrZWRfY29sdW1uXzEwMC5qcyIsInNyYy9jaGFydHMvc3RlcF9hcmVhLmpzIiwic3JjL2NvbnN0YW50cy9jdWx0dXJlLmpzIiwic3JjL2NvbnN0YW50cy9vcHRpb25zLmpzIiwic3JjL2NvbnN0YW50cy90aGVtZXMuanMiLCJzcmMvY29yZS9hbmltYXRvci5qcyIsInNyYy9jb3JlL2F4aXMuanMiLCJzcmMvY29yZS9jYW52YXNqcy5qcyIsInNyYy9jb3JlL2NoYXJ0cy5qcyIsInNyYy9jb3JlL2N1bHR1cmVfaW5mby5qcyIsInNyYy9jb3JlL2RhdGFfc2VyaWVzLmpzIiwic3JjL2NvcmUvZXZlbnRfbWFuYWdlci5qcyIsInNyYy9jb3JlL2xheW91dF9tYW5hZ2VyLmpzIiwic3JjL2NvcmUvbGVnZW5kLmpzIiwic3JjL2NvcmUvdGV4dF9ibG9jay5qcyIsInNyYy9jb3JlL3RpdGxlLmpzIiwic3JjL2NvcmUvdG9vbHRpcC5qcyIsInNyYy9oZWxwZXJzL2FuaW1hdG9yLmpzIiwic3JjL2hlbHBlcnMvcmVuZGVyLmpzIiwic3JjL2hlbHBlcnMvdXRpbHMuanMiLCJzcmMvbWFpbi9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7OztrQkNLZSxVQUFVLFFBQVYsRUFBb0I7QUFDbEMsS0FBSSxNQUFNLFNBQVMsZUFBVCxJQUE0QixLQUFLLFFBQUwsQ0FBYyxHQUFwRDs7QUFFQSxLQUFJLGtCQUFrQixTQUFTLGlCQUFULENBQTJCLE1BQWpEOztBQUVBLEtBQUksbUJBQW1CLENBQXZCLEVBQ0M7O0FBRUQsS0FBSSxXQUFXLEtBQUssYUFBTCxDQUFtQixRQUFsQzs7QUFFQSxLQUFJLGFBQWEsU0FBUyxLQUFULENBQWUsZUFBaEM7QUFDQSxLQUFJLGFBQWEsU0FBUyxLQUFULENBQWUsZUFBaEM7QUFDQSxLQUFJLFVBQVUsRUFBZDs7QUFFQSxLQUFJLFdBQVcsS0FBSyxRQUFwQjtBQUNBLEtBQUksSUFBSjs7QUFFQSxLQUFJLHdCQUFKLEVBQ0MsU0FBUyxJQUFUOztBQUVELEtBQUksU0FBSjtBQUNBLEtBQUksSUFBSixDQUFTLFNBQVMsRUFBbEIsRUFBc0IsU0FBUyxFQUEvQixFQUFtQyxTQUFTLEtBQTVDLEVBQW1ELFNBQVMsTUFBNUQ7QUFDQSxLQUFJLElBQUo7O0FBRUEsS0FBSSx3QkFBSixFQUF1QjtBQUN0QixXQUFTLFNBQVQ7QUFDQSxXQUFTLElBQVQsQ0FBYyxTQUFTLEVBQXZCLEVBQTJCLFNBQVMsRUFBcEMsRUFBd0MsU0FBUyxLQUFqRCxFQUF3RCxTQUFTLE1BQWpFO0FBQ0EsV0FBUyxJQUFUO0FBQ0E7O0FBRUQsTUFBSyxJQUFJLElBQUksQ0FBYixFQUFnQixJQUFJLFNBQVMsaUJBQVQsQ0FBMkIsTUFBL0MsRUFBdUQsR0FBdkQsRUFBNEQ7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QUhNLE1BR0EsSUFBSSxTQUFTLFVBQVUsY0FBVixHQUEyQixFQUFwQyxLQUEyQyxPQUEvQyxFQUF3RDtBQUM5RCxTQUFLLFFBQUwsR0FBZ0IsRUFBaEI7QUFDQSxTQUFLLFlBQUwsR0FBb0IsUUFBcEI7QUFDQSxJQUhNLE1BR0EsSUFBSSxTQUFTLFVBQVUsY0FBVixHQUEyQixFQUFwQyxLQUEyQyxPQUEvQyxFQUF3RDtBQUM5RCxTQUFLLFFBQUwsR0FBZ0IsRUFBaEI7QUFDQSxTQUFLLFlBQUwsR0FBb0IsUUFBcEI7QUFDQSxJQUhNLE1BR0EsSUFBSSxTQUFTLFVBQVUsY0FBVixHQUEyQixFQUFwQyxLQUEyQyxPQUEvQyxFQUF3RDtBQUM5RCxTQUFLLFFBQUwsR0FBZ0IsRUFBaEI7QUFDQSxTQUFLLFlBQUwsR0FBb0IsUUFBcEI7QUFDQSxJQUhNLE1BR0EsSUFBSSxTQUFTLFVBQVUsY0FBVixHQUEyQixFQUFwQyxLQUEyQyxPQUEvQyxFQUF3RDtBQUM5RCxTQUFLLFFBQUwsR0FBZ0IsRUFBaEI7QUFDQSxTQUFLLFlBQUwsR0FBb0IsUUFBcEI7QUFDQSxJQUhNLE1BR0EsSUFBSSxTQUFTLFVBQVUsY0FBVixHQUEyQixDQUFwQyxLQUEwQyxPQUE5QyxFQUF1RDtBQUM3RCxTQUFLLFFBQUwsR0FBZ0IsQ0FBaEI7QUFDQSxTQUFLLFlBQUwsR0FBb0IsUUFBcEI7QUFDQSxJQUhNLE1BR0EsSUFBSSxTQUFTLFVBQVUsY0FBVixHQUEyQixDQUFwQyxLQUEwQyxPQUE5QyxFQUF1RDtBQUM3RCxTQUFLLFFBQUwsR0FBZ0IsQ0FBaEI7QUFDQSxTQUFLLFlBQUwsR0FBb0IsUUFBcEI7QUFDQSxJQUhNLE1BR0EsSUFBSSxTQUFTLFVBQVUsY0FBVixHQUEyQixDQUFwQyxLQUEwQyxPQUE5QyxFQUF1RDtBQUM3RCxTQUFLLFFBQUwsR0FBZ0IsQ0FBaEI7QUFDQSxTQUFLLFlBQUwsR0FBb0IsUUFBcEI7QUFDQSxJQUhNLE1BR0EsSUFBSSxTQUFTLFVBQVUsY0FBVixHQUEyQixFQUFwQyxLQUEyQyxPQUEvQyxFQUF3RDtBQUM5RCxTQUFLLFFBQUwsR0FBZ0IsRUFBaEI7QUFDQSxTQUFLLFlBQUwsR0FBb0IsUUFBcEI7QUFDQSxJQUhNLE1BR0EsSUFBSSxTQUFTLFVBQVUsY0FBVixHQUEyQixFQUFwQyxLQUEyQyxPQUEvQyxFQUF3RDtBQUM5RCxTQUFLLFFBQUwsR0FBZ0IsRUFBaEI7QUFDQSxTQUFLLFlBQUwsR0FBb0IsUUFBcEI7QUFDQSxJQUhNLE1BR0EsSUFBSSxTQUFTLFVBQVUsY0FBVixHQUEyQixFQUFwQyxLQUEyQyxPQUEvQyxFQUF3RDtBQUM5RCxTQUFLLFFBQUwsR0FBZ0IsRUFBaEI7QUFDQSxTQUFLLFlBQUwsR0FBb0IsUUFBcEI7QUFDQSxJQUhNLE1BR0EsSUFBSSxTQUFTLFVBQVUsY0FBVixHQUEyQixFQUFwQyxLQUEyQyxPQUEvQyxFQUF3RDtBQUM5RCxTQUFLLFFBQUwsR0FBZ0IsRUFBaEI7QUFDQSxTQUFLLFlBQUwsR0FBb0IsUUFBcEI7QUFDQSxJQUhNLE1BR0EsSUFBSSxTQUFTLFVBQVUsWUFBVixHQUF5QixDQUFsQyxLQUF3QyxPQUE1QyxFQUFxRDtBQUMzRCxTQUFLLFFBQUwsR0FBZ0IsQ0FBaEI7QUFDQSxTQUFLLFlBQUwsR0FBb0IsTUFBcEI7QUFDQSxJQUhNLE1BR0EsSUFBSSxTQUFTLFVBQVUsWUFBVixHQUF5QixDQUFsQyxLQUF3QyxPQUE1QyxFQUFxRDtBQUMzRCxTQUFLLFFBQUwsR0FBZ0IsQ0FBaEI7QUFDQSxTQUFLLFlBQUwsR0FBb0IsTUFBcEI7QUFDQSxJQUhNLE1BR0EsSUFBSSxTQUFTLFVBQVUsWUFBVixHQUF5QixDQUFsQyxLQUF3QyxPQUE1QyxFQUFxRDtBQUMzRCxTQUFLLFFBQUwsR0FBZ0IsQ0FBaEI7QUFDQSxTQUFLLFlBQUwsR0FBb0IsTUFBcEI7QUFDQSxJQUhNLE1BR0EsSUFBSSxTQUFTLFVBQVUsWUFBVixHQUF5QixDQUFsQyxLQUF3QyxPQUE1QyxFQUFxRDtBQUMzRCxTQUFLLFFBQUwsR0FBZ0IsQ0FBaEI7QUFDQSxTQUFLLFlBQUwsR0FBb0IsTUFBcEI7QUFDQSxJ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RDs7Ozs7Ozs7Ozs7Ozs7QUEyQkM7O0FBR00sSUFBTSxvQ0FBYyxTQUFkLFdBQWMsQ0FBQyxJQUFELEVBQU8sUUFBUCxFQUFvQjs7QUFFM0Msc0JBQVUsSUFBVixJQUFrQixRQUFsQjtBQUVILENBSk07O0FBTUEsSUFBTSwwQ0FBaUIsU0FBakIsY0FBaUIsQ0FBQyxJQUFELEVBQU8sV0FBUCxFQUF1Qjs7QUFFakQsc0JBQVMsSUFBVCxJQUFpQixXQUFqQjtBQUVILENBSk07O0FBTUEsSUFBTSxzQ0FBZSxTQUFmLFlBQWUsQ0FBQyxNQUFELEVBQVMsWUFBVCxFQUF1QixPQUF2QixFQUFtQzs7QUFFM0QsY0FBVSxXQUFXLElBQXJCO0FBQ0EsbUJBQWUsZ0JBQWdCLFVBQS9COztBQUVBLFFBQUksQ0FBQyxrQkFBUyxPQUFULENBQUwsRUFBdUIsTUFBTSxzQkFBTixDQUF2QixLQUNLLHlCQUFhLE1BQWIsRUFBcUIsWUFBckIsRUFBbUMsSUFBSSxzQkFBSixDQUFnQixPQUFoQixDQUFuQztBQUVSLENBUk07O0FBVUEsSUFBTSxrQ0FBYSxTQUFiLFVBQWEsQ0FBQyxJQUFELEVBQU8sWUFBUCxFQUFxQixPQUFyQixFQUFpQzs7QUFFdkQsY0FBVSxXQUFXLElBQXJCO0FBQ0EsbUJBQWUsZ0JBQWdCLGFBQS9COztBQUVBLFFBQUksQ0FBQyxrQkFBUyxPQUFULENBQUwsRUFBdUIsTUFBTSxzQkFBTixDQUF2QixLQUNLLHVCQUFXLElBQVgsRUFBaUIsWUFBakIsRUFBK0IsSUFBSSxzQkFBSixDQUFnQixPQUFoQixDQUEvQjtBQUVSLENBUk07O0FBVVAsTUFBTSxPQUFOLEdBQWdCLFFBQWhCIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiXHJcbmltcG9ydCBSZW5kZXJIZWxwZXIgZnJvbSAnLi4vaGVscGVycy9yZW5kZXInO1xyXG5pbXBvcnQgQW5pbWF0aW9uSGVscGVyIGZyb20gJy4uL2hlbHBlcnMvYW5pbWF0b3InO1xyXG5pbXBvcnQge2lzQ2FudmFzU3VwcG9ydGVkLCBnZXRMaW5lRGFzaEFycmF5LCBpbnRUb0hleENvbG9yU3RyaW5nfSBmcm9tICcuLi9oZWxwZXJzL3V0aWxzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChwbG90VW5pdCkge1xyXG5cdHZhciBjdHggPSBwbG90VW5pdC50YXJnZXRDYW52YXNDdHggfHwgdGhpcy5wbG90QXJlYS5jdHg7XHJcblxyXG5cdHZhciB0b3RhbERhdGFTZXJpZXMgPSBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7XHJcblxyXG5cdGlmICh0b3RhbERhdGFTZXJpZXMgPD0gMClcclxuXHRcdHJldHVybjtcclxuXHJcblx0dmFyIGdob3N0Q3R4ID0gdGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4O1xyXG5cclxuXHR2YXIgYXhpc1hQcm9wcyA9IHBsb3RVbml0LmF4aXNYLmxpbmVDb29yZGluYXRlcztcclxuXHR2YXIgYXhpc1lQcm9wcyA9IHBsb3RVbml0LmF4aXNZLmxpbmVDb29yZGluYXRlcztcclxuXHR2YXIgbWFya2VycyA9IFtdO1xyXG5cclxuXHR2YXIgcGxvdEFyZWEgPSB0aGlzLnBsb3RBcmVhO1xyXG5cdGN0eC5zYXZlKCk7XHJcblxyXG5cdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcclxuXHRcdGdob3N0Q3R4LnNhdmUoKTtcclxuXHJcblx0Y3R4LmJlZ2luUGF0aCgpO1xyXG5cdGN0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XHJcblx0Y3R4LmNsaXAoKTtcclxuXHJcblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XHJcblx0XHRnaG9zdEN0eC5iZWdpblBhdGgoKTtcclxuXHRcdGdob3N0Q3R4LnJlY3QocGxvdEFyZWEueDEsIHBsb3RBcmVhLnkxLCBwbG90QXJlYS53aWR0aCwgcGxvdEFyZWEuaGVpZ2h0KTtcclxuXHRcdGdob3N0Q3R4LmNsaXAoKTtcclxuXHR9XHJcblxyXG5cdGZvciAodmFyIGogPSAwOyBqIDwgcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoOyBqKyspIHtcclxuXHJcblx0XHR2YXIgZGF0YVNlcmllc0luZGV4ID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXNbal07XHJcblxyXG5cdFx0dmFyIGRhdGFTZXJpZXMgPSB0aGlzLmRhdGFbZGF0YVNlcmllc0luZGV4XTtcclxuXHJcblx0XHR2YXIgZGF0YVBvaW50cyA9IGRhdGFTZXJpZXMuZGF0YVBvaW50cztcclxuXHJcblx0XHR2YXIgc2VyaWVzSWQgPSBkYXRhU2VyaWVzLmlkO1xyXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtzZXJpZXNJZF0gPSB7XHJcblx0XHRcdG9iamVjdFR5cGU6IFwiZGF0YVNlcmllc1wiLCBkYXRhU2VyaWVzSW5kZXg6IGRhdGFTZXJpZXNJbmRleFxyXG5cdFx0fTtcclxuXHJcblx0XHR2YXIgaGV4Q29sb3IgPSBpbnRUb0hleENvbG9yU3RyaW5nKHNlcmllc0lkKTtcclxuXHRcdGdob3N0Q3R4LmZpbGxTdHlsZSA9IGhleENvbG9yO1xyXG5cdFx0Ly9naG9zdEN0eC5saW5lV2lkdGggPSBkYXRhU2VyaWVzLmxpbmVUaGlja25lc3M7XHJcblx0XHQvL2dob3N0Q3R4LmxpbmVXaWR0aCA9IDIwO1xyXG5cclxuXHRcdG1hcmtlcnMgPSBbXTtcclxuXHJcblx0XHR2YXIgaXNGaXJzdERhdGFQb2ludEluUGxvdEFyZWEgPSB0cnVlO1xyXG5cdFx0dmFyIGkgPSAwLCB4LCB5O1xyXG5cdFx0dmFyIGRhdGFQb2ludFg7IC8vVXNlZCBzbyB0aGF0IHdoZW4gZGF0YVBvaW50LnggaXMgYSBEYXRlVGltZSB2YWx1ZSwgaXQgZG9lc24ndCBnZXQgY29udmVydGVkIHRvIG51bWJlciBiYWNrIGFuZCBmb3J0aC5cclxuXHJcblx0XHR2YXIgeVplcm9Ub1BpeGVsID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqICgwIC0gcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkgKyAuNSkgPDwgMDtcclxuXHRcdHZhciBiYXNlWTtcclxuXHJcblx0XHR2YXIgc3RhcnRQb2ludCA9IG51bGw7XHJcblxyXG5cdFx0aWYgKGRhdGFQb2ludHMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHQvL2N0eC5zdHJva2VTdHlsZSA9IFwiIzQ1NzJBNyBcIjtcclxuXHRcdFx0dmFyIGNvbG9yID0gZGF0YVNlcmllcy5fY29sb3JTZXRbaSAlIGRhdGFTZXJpZXMuX2NvbG9yU2V0Lmxlbmd0aF07XHJcblx0XHRcdC8vY3R4LnN0cm9rZVN0eWxlID0gXCJyZWRcIjtcclxuXHRcdFx0Y3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xyXG5cdFx0XHRjdHguc3Ryb2tlU3R5bGUgPSBjb2xvcjtcclxuXHRcdFx0Y3R4LmxpbmVXaWR0aCA9IGRhdGFTZXJpZXMubGluZVRoaWNrbmVzcztcclxuXHJcblx0XHRcdGlmIChjdHguc2V0TGluZURhc2gpIHtcclxuXHRcdFx0XHRjdHguc2V0TGluZURhc2goZ2V0TGluZURhc2hBcnJheShkYXRhU2VyaWVzLmxpbmVEYXNoVHlwZSwgZGF0YVNlcmllcy5saW5lVGhpY2tuZXNzKSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZhciBwcmV2RGF0YU51bGwgPSB0cnVlO1xyXG5cdFx0XHRmb3IgKDsgaSA8IGRhdGFQb2ludHMubGVuZ3RoOyBpKyspIHtcclxuXHJcblx0XHRcdFx0ZGF0YVBvaW50WCA9IGRhdGFQb2ludHNbaV0ueC5nZXRUaW1lID8gZGF0YVBvaW50c1tpXS54LmdldFRpbWUoKSA6IGRhdGFQb2ludHNbaV0ueDtcclxuXHJcblx0XHRcdFx0aWYgKGRhdGFQb2ludFggPCBwbG90VW5pdC5heGlzWC5kYXRhSW5mby52aWV3UG9ydE1pbiB8fCBkYXRhUG9pbnRYID4gcGxvdFVuaXQuYXhpc1guZGF0YUluZm8udmlld1BvcnRNYXgpIHtcclxuXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKHR5cGVvZiAoZGF0YVBvaW50c1tpXS55KSAhPT0gXCJudW1iZXJcIikge1xyXG5cdFx0XHRcdFx0Y2xvc2VBcmVhKCk7XHJcblxyXG5cdFx0XHRcdFx0cHJldkRhdGFOdWxsID0gdHJ1ZTtcclxuXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0eCA9IChwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoZGF0YVBvaW50WCAtIHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XHJcblx0XHRcdFx0eSA9IChwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoZGF0YVBvaW50c1tpXS55IC0gcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkgKyAuNSkgPDwgMDtcclxuXHJcblx0XHRcdFx0aWYgKGlzRmlyc3REYXRhUG9pbnRJblBsb3RBcmVhIHx8IHByZXZEYXRhTnVsbCkge1xyXG5cdFx0XHRcdFx0Y3R4LmJlZ2luUGF0aCgpO1xyXG5cdFx0XHRcdFx0Y3R4Lm1vdmVUbyh4LCB5KTtcclxuXHRcdFx0XHRcdHN0YXJ0UG9pbnQgPSB7XHJcblx0XHRcdFx0XHRcdHg6IHgsIHk6IHlcclxuXHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XHJcblx0XHRcdFx0XHRcdGdob3N0Q3R4LmJlZ2luUGF0aCgpO1xyXG5cdFx0XHRcdFx0XHRnaG9zdEN0eC5tb3ZlVG8oeCwgeSk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0aXNGaXJzdERhdGFQb2ludEluUGxvdEFyZWEgPSBmYWxzZTtcclxuXHRcdFx0XHRcdHByZXZEYXRhTnVsbCA9IGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIHtcclxuXHJcblx0XHRcdFx0XHRjdHgubGluZVRvKHgsIHkpO1xyXG5cclxuXHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcclxuXHRcdFx0XHRcdFx0Z2hvc3RDdHgubGluZVRvKHgsIHkpO1xyXG5cclxuXHRcdFx0XHRcdGlmIChpICUgMjUwID09IDApIHtcclxuXHRcdFx0XHRcdFx0Y2xvc2VBcmVhKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdFx0dmFyIGlkID0gZGF0YVNlcmllcy5kYXRhUG9pbnRJZHNbaV07XHJcblx0XHRcdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtpZF0gPSB7XHJcblx0XHRcdFx0XHRpZDogaWQsIG9iamVjdFR5cGU6IFwiZGF0YVBvaW50XCIsIGRhdGFTZXJpZXNJbmRleDogZGF0YVNlcmllc0luZGV4LCBkYXRhUG9pbnRJbmRleDogaSwgeDE6IHgsIHkxOiB5XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0Ly9SZW5kZXIgTWFya2VyXHJcblx0XHRcdFx0aWYgKGRhdGFQb2ludHNbaV0ubWFya2VyU2l6ZSAhPT0gMCkge1xyXG5cdFx0XHRcdFx0aWYgKGRhdGFQb2ludHNbaV0ubWFya2VyU2l6ZSA+IDAgfHwgZGF0YVNlcmllcy5tYXJrZXJTaXplID4gMCkge1xyXG5cdFx0XHRcdFx0XHR2YXIgbWFya2VyUHJvcHMgPSBkYXRhU2VyaWVzLmdldE1hcmtlclByb3BlcnRpZXMoaSwgeCwgeSwgY3R4KTtcclxuXHRcdFx0XHRcdFx0bWFya2Vycy5wdXNoKG1hcmtlclByb3BzKTtcclxuXHJcblx0XHRcdFx0XHRcdC8vaWYgKCFkYXRhU2VyaWVzLm1heFdpZHRoSW5YIHx8IG1hcmtlclByb3BzLnNpemUgPiBkYXRhU2VyaWVzLm1heFdpZHRoSW5YKSB7XHJcblx0XHRcdFx0XHRcdC8vXHRkYXRhU2VyaWVzLm1heFdpZHRoSW5YID0gbWFya2VyUHJvcHMuc2l6ZSAvIChwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgPiAxID8gcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0IC0gMSA6IHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCk7XHJcblx0XHRcdFx0XHRcdC8vfVxyXG5cclxuXHRcdFx0XHRcdFx0dmFyIG1hcmtlckNvbG9yID0gaW50VG9IZXhDb2xvclN0cmluZyhpZCk7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpIHtcclxuXHRcdFx0XHRcdFx0XHRtYXJrZXJzLnB1c2goe1xyXG5cdFx0XHRcdFx0XHRcdFx0eDogeCwgeTogeSwgY3R4OiBnaG9zdEN0eCxcclxuXHRcdFx0XHRcdFx0XHRcdHR5cGU6IG1hcmtlclByb3BzLnR5cGUsXHJcblx0XHRcdFx0XHRcdFx0XHRzaXplOiBtYXJrZXJQcm9wcy5zaXplLFxyXG5cdFx0XHRcdFx0XHRcdFx0Y29sb3I6IG1hcmtlckNvbG9yLFxyXG5cdFx0XHRcdFx0XHRcdFx0Ym9yZGVyQ29sb3I6IG1hcmtlckNvbG9yLFxyXG5cdFx0XHRcdFx0XHRcdFx0Ym9yZGVyVGhpY2tuZXNzOiBtYXJrZXJQcm9wcy5ib3JkZXJUaGlja25lc3NcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKGRhdGFQb2ludHNbaV0uaW5kZXhMYWJlbCB8fCBkYXRhU2VyaWVzLmluZGV4TGFiZWwgfHwgZGF0YVBvaW50c1tpXS5pbmRleExhYmVsRm9ybWF0dGVyIHx8IGRhdGFTZXJpZXMuaW5kZXhMYWJlbEZvcm1hdHRlcikge1xyXG5cclxuXHRcdFx0XHRcdHRoaXMuX2luZGV4TGFiZWxzLnB1c2goe1xyXG5cdFx0XHRcdFx0XHRjaGFydFR5cGU6IFwiYXJlYVwiLFxyXG5cdFx0XHRcdFx0XHRkYXRhUG9pbnQ6IGRhdGFQb2ludHNbaV0sXHJcblx0XHRcdFx0XHRcdGRhdGFTZXJpZXM6IGRhdGFTZXJpZXMsXHJcblx0XHRcdFx0XHRcdHBvaW50OiB7XHJcblx0XHRcdFx0XHRcdFx0eDogeCwgeTogeVxyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRkaXJlY3Rpb246IGRhdGFQb2ludHNbaV0ueSA+PSAwID8gMSA6IC0xLFxyXG5cdFx0XHRcdFx0XHRjb2xvcjogY29sb3JcclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNsb3NlQXJlYSgpO1xyXG5cclxuXHRcdFx0Ly9zdGFydFBvaW50ID0geyB4OiB4LCB5OiB5IH07XHJcblx0XHRcdFJlbmRlckhlbHBlci5kcmF3TWFya2VycyhtYXJrZXJzKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGN0eC5yZXN0b3JlKCk7XHJcblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxyXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnJlc3RvcmUoKTtcclxuXHJcblx0ZnVuY3Rpb24gY2xvc2VBcmVhKCkge1xyXG5cclxuXHRcdGlmICghc3RhcnRQb2ludClcclxuXHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdGlmIChkYXRhU2VyaWVzLmxpbmVUaGlja25lc3MgPiAwKVxyXG5cdFx0XHRjdHguc3Ryb2tlKCk7XHJcblxyXG5cdFx0aWYgKHBsb3RVbml0LmF4aXNZLnZpZXdwb3J0TWluaW11bSA8PSAwICYmIHBsb3RVbml0LmF4aXNZLnZpZXdwb3J0TWF4aW11bSA+PSAwKSB7XHJcblx0XHRcdGJhc2VZID0geVplcm9Ub1BpeGVsO1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSBpZiAocGxvdFVuaXQuYXhpc1kudmlld3BvcnRNYXhpbXVtIDwgMClcclxuXHRcdFx0YmFzZVkgPSBheGlzWVByb3BzLnkxO1xyXG5cdFx0ZWxzZSBpZiAocGxvdFVuaXQuYXhpc1kudmlld3BvcnRNaW5pbXVtID4gMClcclxuXHRcdFx0YmFzZVkgPSBheGlzWFByb3BzLnkyO1xyXG5cclxuXHRcdGN0eC5saW5lVG8oeCwgYmFzZVkpO1xyXG5cdFx0Y3R4LmxpbmVUbyhzdGFydFBvaW50LngsIGJhc2VZKTtcclxuXHRcdGN0eC5jbG9zZVBhdGgoKTtcclxuXHJcblx0XHRjdHguZ2xvYmFsQWxwaGEgPSBkYXRhU2VyaWVzLmZpbGxPcGFjaXR5O1xyXG5cdFx0Y3R4LmZpbGwoKTtcclxuXHRcdGN0eC5nbG9iYWxBbHBoYSA9IDE7XHJcblxyXG5cdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XHJcblx0XHRcdGdob3N0Q3R4LmxpbmVUbyh4LCBiYXNlWSk7XHJcblx0XHRcdGdob3N0Q3R4LmxpbmVUbyhzdGFydFBvaW50LngsIGJhc2VZKTtcclxuXHRcdFx0Z2hvc3RDdHguY2xvc2VQYXRoKCk7XHJcblx0XHRcdGdob3N0Q3R4LmZpbGwoKTtcclxuXHRcdH1cclxuXHJcblx0XHRjdHguYmVnaW5QYXRoKCk7XHJcblx0XHRjdHgubW92ZVRvKHgsIHkpO1xyXG5cdFx0Z2hvc3RDdHguYmVnaW5QYXRoKCk7XHJcblx0XHRnaG9zdEN0eC5tb3ZlVG8oeCwgeSk7XHJcblxyXG5cdFx0c3RhcnRQb2ludCA9IHtcclxuXHRcdFx0eDogeCwgeTogeVxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdC8vc291cmNlIGFuZCBkZXN0IHdvdWxkIGJlIHNhbWUgd2hlbiBhbmltYXRpb24gaXMgbm90IGVuYWJsZWRcclxuXHR2YXIgYW5pbWF0aW9uSW5mbyA9IHtcclxuXHRcdHNvdXJjZTogY3R4LCBkZXN0OiB0aGlzLnBsb3RBcmVhLmN0eCwgYW5pbWF0aW9uQ2FsbGJhY2s6IEFuaW1hdGlvbkhlbHBlci54Q2xpcEFuaW1hdGlvbiwgZWFzaW5nRnVuY3Rpb246IEFuaW1hdGlvbkhlbHBlci5lYXNpbmcubGluZWFyLCBhbmltYXRpb25CYXNlOiAwXHJcblx0fTtcclxuXHRyZXR1cm4gYW5pbWF0aW9uSW5mbztcclxufVxyXG4iLCJcclxuaW1wb3J0IEFuaW1hdGlvbkhlbHBlciBmcm9tICcuLi9oZWxwZXJzL2FuaW1hdG9yJztcclxuaW1wb3J0IHtpc0NhbnZhc1N1cHBvcnRlZCwgZHJhd1JlY3QsIGludFRvSGV4Q29sb3JTdHJpbmd9IGZyb20gJy4uL2hlbHBlcnMvdXRpbHMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHBsb3RVbml0KSB7XHJcblx0dmFyIGN0eCA9IHBsb3RVbml0LnRhcmdldENhbnZhc0N0eCB8fCB0aGlzLnBsb3RBcmVhLmN0eDtcclxuXHR2YXIgdG90YWxEYXRhU2VyaWVzID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoO1xyXG5cclxuXHRpZiAodG90YWxEYXRhU2VyaWVzIDw9IDApXHJcblx0XHRyZXR1cm47XHJcblxyXG5cdHZhciBjb2xvciA9IG51bGw7XHJcblxyXG5cdHZhciBwbG90QXJlYSA9IHRoaXMucGxvdEFyZWE7XHJcblxyXG5cdHZhciBpID0gMCwgeCwgeTtcclxuXHR2YXIgZGF0YVBvaW50WDsgLy9Vc2VkIHNvIHRoYXQgd2hlbiBkYXRhUG9pbnQueCBpcyBhIERhdGVUaW1lIHZhbHVlLCBpdCBkb2Vzbid0IGdldCBjb252ZXJ0ZWQgdG8gbnVtYmVyIGZyb20gZGF0YVRpbWUgZXZlcnl0aW1lIGl0IGlzIHVzZWQuXHJcblxyXG5cdC8vSW4gY2FzZSBvZiBCYXIgQ2hhcnQsIHlaZXJvVG9QaXhlbCBpcyB4IGNvLW9yZGluYXRlIVxyXG5cdHZhciB5WmVyb1RvUGl4ZWwgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKDAgLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSkgPDwgMDtcclxuXHJcblx0dmFyIG1heEJhcldpZHRoID0gdGhpcy5kYXRhUG9pbnRNYXhXaWR0aCA/IHRoaXMuZGF0YVBvaW50TWF4V2lkdGggOiBNYXRoLm1pbigodGhpcy5oZWlnaHQgKiAuMTUpLCB0aGlzLnBsb3RBcmVhLmhlaWdodCAvIHBsb3RVbml0LnBsb3RUeXBlLnRvdGFsRGF0YVNlcmllcyAqIC45KSA8PCAwO1xyXG5cdHZhciB4TWluRGlmZiA9IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLm1pbkRpZmY7XHJcblx0Ly92YXIgYmFyV2lkdGggPSAoKChwbG90QXJlYS5oZWlnaHQgLyBNYXRoLmFicyhwbG90VW5pdC5heGlzWC52aWV3cG9ydE1heGltdW0gLSBwbG90VW5pdC5heGlzWC52aWV3cG9ydE1pbmltdW0pKSAqIE1hdGguYWJzKHhNaW5EaWZmKSkgLyB0b3RhbERhdGFTZXJpZXMgKiAuOSkgPDwgMDtcclxuXHJcblx0dmFyIGJhcldpZHRoID0gKCgocGxvdEFyZWEuaGVpZ2h0IC8gTWF0aC5hYnMocGxvdFVuaXQuYXhpc1gudmlld3BvcnRNYXhpbXVtIC0gcGxvdFVuaXQuYXhpc1gudmlld3BvcnRNaW5pbXVtKSkgKiBNYXRoLmFicyh4TWluRGlmZikpIC8gcGxvdFVuaXQucGxvdFR5cGUudG90YWxEYXRhU2VyaWVzICogLjkpIDw8IDA7XHJcblxyXG5cdGlmIChiYXJXaWR0aCA+IG1heEJhcldpZHRoKVxyXG5cdFx0YmFyV2lkdGggPSBtYXhCYXJXaWR0aDtcclxuXHRlbHNlIGlmICh4TWluRGlmZiA9PT0gSW5maW5pdHkpIHtcclxuXHRcdGJhcldpZHRoID0gbWF4QmFyV2lkdGggLyBwbG90VW5pdC5wbG90VHlwZS50b3RhbERhdGFTZXJpZXMgKiAuOTtcclxuXHR9IGVsc2UgaWYgKGJhcldpZHRoIDwgMSlcclxuXHRcdGJhcldpZHRoID0gMTtcclxuXHJcblx0Y3R4LnNhdmUoKTtcclxuXHJcblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxyXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnNhdmUoKTtcclxuXHJcblx0Y3R4LmJlZ2luUGF0aCgpO1xyXG5cdGN0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XHJcblx0Y3R4LmNsaXAoKTtcclxuXHJcblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XHJcblx0XHR0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHgucmVjdChwbG90QXJlYS54MSwgcGxvdEFyZWEueTEsIHBsb3RBcmVhLndpZHRoLCBwbG90QXJlYS5oZWlnaHQpO1xyXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LmNsaXAoKTtcclxuXHR9XHJcblxyXG5cdGZvciAodmFyIGogPSAwOyBqIDwgcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoOyBqKyspIHtcclxuXHJcblx0XHR2YXIgZGF0YVNlcmllc0luZGV4ID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXNbal07XHJcblxyXG5cdFx0dmFyIGRhdGFTZXJpZXMgPSB0aGlzLmRhdGFbZGF0YVNlcmllc0luZGV4XTtcclxuXHRcdHZhciBkYXRhUG9pbnRzID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzO1xyXG5cdFx0dmFyIGlzRmlyc3REYXRhUG9pbnRJblBsb3RBcmVhID0gdHJ1ZTtcclxuXHJcblxyXG5cdFx0Ly9kYXRhU2VyaWVzLm1heFdpZHRoSW5YID0gYmFyV2lkdGggLyAocGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ID4gMSA/IHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAtIDEgOiBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQpO1xyXG5cclxuXHJcblx0XHRpZiAoZGF0YVBvaW50cy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdC8vdmFyIHh5ID0gdGhpcy5nZXRQaXhlbENvb3JkaW5hdGVzT25QbG90QXJlYShkYXRhUG9pbnRzWzBdLngsIGRhdGFQb2ludHNbMF0ueSk7XHJcblxyXG5cdFx0XHR2YXIgYmV2ZWxFbmFibGVkID0gKGJhcldpZHRoID4gNSkgJiYgZGF0YVNlcmllcy5iZXZlbEVuYWJsZWQgPyB0cnVlIDogZmFsc2U7XHJcblxyXG5cdFx0XHRjdHguc3Ryb2tlU3R5bGUgPSBcIiM0NTcyQTcgXCI7XHJcblxyXG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgZGF0YVBvaW50cy5sZW5ndGg7IGkrKykge1xyXG5cclxuXHRcdFx0XHRkYXRhUG9pbnRzW2ldLmdldFRpbWUgPyBkYXRhUG9pbnRYID0gZGF0YVBvaW50c1tpXS54LmdldFRpbWUoKSA6IGRhdGFQb2ludFggPSBkYXRhUG9pbnRzW2ldLng7XHJcblxyXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRYIDwgcGxvdFVuaXQuYXhpc1guZGF0YUluZm8udmlld1BvcnRNaW4gfHwgZGF0YVBvaW50WCA+IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLnZpZXdQb3J0TWF4KSB7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmICh0eXBlb2YgKGRhdGFQb2ludHNbaV0ueSkgIT09IFwibnVtYmVyXCIpXHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHJcblx0XHRcdFx0Ly94IGFuZCB5IGFyZSBwaXhlbCBjby1vcmRpbmF0ZXMgb2YgcG9pbnQgYW5kIHNob3VsZCBub3QgYmUgY29uZnVzZWQgd2l0aCBYIGFuZCBZIHZhbHVlc1xyXG5cdFx0XHRcdHkgPSAocGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludFggLSBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xyXG5cdFx0XHRcdHggPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludHNbaV0ueSAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XHJcblxyXG5cclxuXHRcdFx0XHR2YXIgeTEgPSAoeSAtIChwbG90VW5pdC5wbG90VHlwZS50b3RhbERhdGFTZXJpZXMgKiBiYXJXaWR0aCAvIDIpICsgKChwbG90VW5pdC5wcmV2aW91c0RhdGFTZXJpZXNDb3VudCArIGopICogYmFyV2lkdGgpKSA8PCAwO1xyXG5cdFx0XHRcdHZhciB5MiA9IHkxICsgYmFyV2lkdGggPDwgMDtcclxuXHRcdFx0XHR2YXIgeDE7XHJcblx0XHRcdFx0dmFyIHgyO1xyXG5cclxuXHRcdFx0XHRpZiAoZGF0YVBvaW50c1tpXS55ID49IDApIHtcclxuXHRcdFx0XHRcdHgxID0geVplcm9Ub1BpeGVsO1xyXG5cdFx0XHRcdFx0eDIgPSB4O1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHR4MSA9IHg7XHJcblx0XHRcdFx0XHR4MiA9IHlaZXJvVG9QaXhlbDtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vZHJhd1JlY3QoY3R4LCB4MSwgeTEsIHBsb3RBcmVhLngyLCB5MiwgXCIjRUVFRUVFXCIsIDAsIG51bGwsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcclxuXHRcdFx0XHQvL2RyYXdSZWN0KGN0eCwgeDEsIHkxLCBwbG90QXJlYS54MiwgeTIsIFwiI0JEQ0VEM1wiLCAwLCBudWxsLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XHJcblxyXG5cdFx0XHRcdGNvbG9yID0gZGF0YVBvaW50c1tpXS5jb2xvciA/IGRhdGFQb2ludHNbaV0uY29sb3IgOiBkYXRhU2VyaWVzLl9jb2xvclNldFtpICUgZGF0YVNlcmllcy5fY29sb3JTZXQubGVuZ3RoXTtcclxuXHRcdFx0XHQvL2NvbG9yID0gXCIjMUI0OTYyXCI7XHJcblx0XHRcdFx0ZHJhd1JlY3QoY3R4LCB4MSwgeTEsIHgyLCB5MiwgY29sb3IsIDAsIG51bGwsIGJldmVsRW5hYmxlZCwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZGF0YVNlcmllcy5maWxsT3BhY2l0eSk7XHJcblxyXG5cclxuXHRcdFx0XHR2YXIgaWQgPSBkYXRhU2VyaWVzLmRhdGFQb2ludElkc1tpXTtcclxuXHRcdFx0XHR0aGlzLl9ldmVudE1hbmFnZXIub2JqZWN0TWFwW2lkXSA9IHtcclxuXHRcdFx0XHRcdGlkOiBpZCwgb2JqZWN0VHlwZTogXCJkYXRhUG9pbnRcIiwgZGF0YVNlcmllc0luZGV4OiBkYXRhU2VyaWVzSW5kZXgsIGRhdGFQb2ludEluZGV4OiBpLCB4MTogeDEsIHkxOiB5MSwgeDI6IHgyLCB5MjogeTJcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdGNvbG9yID0gaW50VG9IZXhDb2xvclN0cmluZyhpZCk7XHJcblxyXG5cdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcclxuXHRcdFx0XHRcdGRyYXdSZWN0KHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eCwgeDEsIHkxLCB4MiwgeTIsIGNvbG9yLCAwLCBudWxsLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XHJcblxyXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLmluZGV4TGFiZWwgfHwgZGF0YVNlcmllcy5pbmRleExhYmVsIHx8IGRhdGFQb2ludHNbaV0uaW5kZXhMYWJlbEZvcm1hdHRlciB8fCBkYXRhU2VyaWVzLmluZGV4TGFiZWxGb3JtYXR0ZXIpXHJcblx0XHRcdFx0XHR0aGlzLl9pbmRleExhYmVscy5wdXNoKHtcclxuXHRcdFx0XHRcdFx0Y2hhcnRUeXBlOiBcImJhclwiLFxyXG5cdFx0XHRcdFx0XHRkYXRhUG9pbnQ6IGRhdGFQb2ludHNbaV0sXHJcblx0XHRcdFx0XHRcdGRhdGFTZXJpZXM6IGRhdGFTZXJpZXMsXHJcblx0XHRcdFx0XHRcdHBvaW50OiB7XHJcblx0XHRcdFx0XHRcdFx0eDogZGF0YVBvaW50c1tpXS55ID49IDAgPyB4MiA6IHgxLCB5OiB5MSArICh5MiAtIHkxKSAvIDJcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0ZGlyZWN0aW9uOiBkYXRhUG9pbnRzW2ldLnkgPj0gMCA/IDEgOiAtMSxcclxuXHRcdFx0XHRcdFx0Ym91bmRzOiB7XHJcblx0XHRcdFx0XHRcdFx0eDE6IE1hdGgubWluKHgxLCB4MiksIHkxOiB5MSwgeDI6IE1hdGgubWF4KHgxLCB4MiksIHkyOiB5MlxyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRjb2xvcjogY29sb3JcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRjdHgucmVzdG9yZSgpO1xyXG5cclxuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXHJcblx0XHR0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHgucmVzdG9yZSgpO1xyXG5cclxuXHQvL3NvdXJjZSBhbmQgZGVzdCB3b3VsZCBiZSBzYW1lIHdoZW4gYW5pbWF0aW9uIGlzIG5vdCBlbmFibGVkXHJcblx0dmFyIGFuaW1hdGlvbkJhc2UgPSBNYXRoLm1heCh5WmVyb1RvUGl4ZWwsIHBsb3RVbml0LmF4aXNYLmJvdW5kaW5nUmVjdC54Mik7XHJcblx0dmFyIGFuaW1hdGlvbkluZm8gPSB7XHJcblx0XHRzb3VyY2U6IGN0eCwgZGVzdDogdGhpcy5wbG90QXJlYS5jdHgsIGFuaW1hdGlvbkNhbGxiYWNrOiBBbmltYXRpb25IZWxwZXIueFNjYWxlQW5pbWF0aW9uLCBlYXNpbmdGdW5jdGlvbjogQW5pbWF0aW9uSGVscGVyLmVhc2luZy5lYXNlT3V0UXVhcnQsIGFuaW1hdGlvbkJhc2U6IGFuaW1hdGlvbkJhc2VcclxuXHR9O1xyXG5cdHJldHVybiBhbmltYXRpb25JbmZvO1xyXG59XHJcbiIsIlxyXG5pbXBvcnQgUmVuZGVySGVscGVyIGZyb20gJy4uL2hlbHBlcnMvcmVuZGVyJztcclxuaW1wb3J0IEFuaW1hdGlvbkhlbHBlciBmcm9tICcuLi9oZWxwZXJzL2FuaW1hdG9yJztcclxuaW1wb3J0IHtpc0NhbnZhc1N1cHBvcnRlZCwgaW50VG9IZXhDb2xvclN0cmluZ30gZnJvbSAnLi4vaGVscGVycy91dGlscyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAocGxvdFVuaXQpIHtcclxuXHJcblx0dmFyIGN0eCA9IHBsb3RVbml0LnRhcmdldENhbnZhc0N0eCB8fCB0aGlzLnBsb3RBcmVhLmN0eDtcclxuXHJcblx0dmFyIHRvdGFsRGF0YVNlcmllcyA9IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDtcclxuXHJcblx0aWYgKHRvdGFsRGF0YVNlcmllcyA8PSAwKVxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHR2YXIgY29sb3IgPSBudWxsO1xyXG5cclxuXHR2YXIgcGxvdEFyZWEgPSB0aGlzLnBsb3RBcmVhO1xyXG5cclxuXHR2YXIgaSA9IDAsIHgsIHk7XHJcblx0dmFyIGRhdGFQb2ludFg7IC8vVXNlZCBzbyB0aGF0IHdoZW4gZGF0YVBvaW50LnggaXMgYSBEYXRlVGltZSB2YWx1ZSwgaXQgZG9lc24ndCBnZXQgY29udmVydGVkIHRvIG51bWJlciBmcm9tIGRhdGFUaW1lIGV2ZXJ5dGltZSBpdCBpcyB1c2VkLlxyXG5cclxuXHR2YXIgeVplcm9Ub1BpeGVsID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqICgwIC0gcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkpIDw8IDA7XHJcblxyXG5cdHZhciBtYXhCYXJXaWR0aCA9IHRoaXMuZGF0YVBvaW50TWF4V2lkdGggPyB0aGlzLmRhdGFQb2ludE1heFdpZHRoIDogdGhpcy53aWR0aCAqIC4xNSA8PCAwO1xyXG5cdHZhciB4TWluRGlmZiA9IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLm1pbkRpZmY7XHJcblx0dmFyIGJhcldpZHRoID0gKCgocGxvdEFyZWEud2lkdGggLyBNYXRoLmFicyhwbG90VW5pdC5heGlzWC52aWV3cG9ydE1heGltdW0gLSBwbG90VW5pdC5heGlzWC52aWV3cG9ydE1pbmltdW0pKSAqIE1hdGguYWJzKHhNaW5EaWZmKSkgLyB0b3RhbERhdGFTZXJpZXMgKiAuOSkgPDwgMDtcclxuXHJcblxyXG5cdGN0eC5zYXZlKCk7XHJcblxyXG5cdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcclxuXHRcdHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eC5zYXZlKCk7XHJcblxyXG5cdGN0eC5iZWdpblBhdGgoKTtcclxuXHRjdHgucmVjdChwbG90QXJlYS54MSwgcGxvdEFyZWEueTEsIHBsb3RBcmVhLndpZHRoLCBwbG90QXJlYS5oZWlnaHQpO1xyXG5cdGN0eC5jbGlwKCk7XHJcblxyXG5cdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xyXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnJlY3QocGxvdEFyZWEueDEsIHBsb3RBcmVhLnkxLCBwbG90QXJlYS53aWR0aCwgcGxvdEFyZWEuaGVpZ2h0KTtcclxuXHRcdHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eC5jbGlwKCk7XHJcblx0fVxyXG5cclxuXHR2YXIgbWF4WiA9IC1JbmZpbml0eTtcclxuXHR2YXIgbWluWiA9IEluZmluaXR5O1xyXG5cclxuXHRmb3IgKHZhciBqID0gMDsgaiA8IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDsgaisrKSB7XHJcblxyXG5cdFx0dmFyIGRhdGFTZXJpZXNJbmRleCA9IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzW2pdO1xyXG5cdFx0dmFyIGRhdGFTZXJpZXMgPSB0aGlzLmRhdGFbZGF0YVNlcmllc0luZGV4XTtcclxuXHRcdHZhciBkYXRhUG9pbnRzID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzO1xyXG5cdFx0dmFyIHogPSAwO1xyXG5cclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YVBvaW50cy5sZW5ndGg7IGkrKykge1xyXG5cclxuXHRcdFx0ZGF0YVBvaW50WCA9IGRhdGFQb2ludHNbaV0uZ2V0VGltZSA/IGRhdGFQb2ludFggPSBkYXRhUG9pbnRzW2ldLnguZ2V0VGltZSgpIDogZGF0YVBvaW50WCA9IGRhdGFQb2ludHNbaV0ueDtcclxuXHJcblx0XHRcdGlmIChkYXRhUG9pbnRYIDwgcGxvdFVuaXQuYXhpc1guZGF0YUluZm8udmlld1BvcnRNaW4gfHwgZGF0YVBvaW50WCA+IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLnZpZXdQb3J0TWF4KSB7XHJcblx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICh0eXBlb2YgKGRhdGFQb2ludHNbaV0ueikgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuXHJcblx0XHRcdFx0eiA9IGRhdGFQb2ludHNbaV0uejtcclxuXHJcblx0XHRcdFx0aWYgKHogPiBtYXhaKVxyXG5cdFx0XHRcdFx0bWF4WiA9IHo7XHJcblxyXG5cdFx0XHRcdGlmICh6IDwgbWluWilcclxuXHRcdFx0XHRcdG1pblogPSB6O1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHR2YXIgbWluQXJlYSA9IE1hdGguUEkgKiA1ICogNTtcclxuXHR2YXIgbWF4QXJlYSA9IE1hdGgubWF4KE1hdGgucG93KE1hdGgubWluKHBsb3RBcmVhLmhlaWdodCwgcGxvdEFyZWEud2lkdGgpICogLjI1IC8gMiwgMikgKiBNYXRoLlBJLCBtaW5BcmVhKTtcclxuXHJcblx0Zm9yICh2YXIgaiA9IDA7IGogPCBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7IGorKykge1xyXG5cclxuXHRcdHZhciBkYXRhU2VyaWVzSW5kZXggPSBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlc1tqXTtcclxuXHJcblx0XHR2YXIgZGF0YVNlcmllcyA9IHRoaXMuZGF0YVtkYXRhU2VyaWVzSW5kZXhdO1xyXG5cdFx0dmFyIGRhdGFQb2ludHMgPSBkYXRhU2VyaWVzLmRhdGFQb2ludHM7XHJcblx0XHR2YXIgaXNGaXJzdERhdGFQb2ludEluUGxvdEFyZWEgPSB0cnVlO1xyXG5cclxuXHRcdGlmIChkYXRhUG9pbnRzLmxlbmd0aCA9PSAxKVxyXG5cdFx0XHRiYXJXaWR0aCA9IG1heEJhcldpZHRoO1xyXG5cclxuXHRcdGlmIChiYXJXaWR0aCA8IDEpXHJcblx0XHRcdGJhcldpZHRoID0gMTtcclxuXHRcdGVsc2UgaWYgKGJhcldpZHRoID4gbWF4QmFyV2lkdGgpXHJcblx0XHRcdGJhcldpZHRoID0gbWF4QmFyV2lkdGg7XHJcblxyXG5cdFx0aWYgKGRhdGFQb2ludHMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHQvL3ZhciB4eSA9IHRoaXMuZ2V0UGl4ZWxDb29yZGluYXRlc09uUGxvdEFyZWEoZGF0YVBvaW50c1swXS54LCBkYXRhUG9pbnRzWzBdLnkpO1xyXG5cdFx0XHQvL3ZhciBiZXZlbEVuYWJsZWQgPSAoYmFyV2lkdGggPiA1KSA/IGZhbHNlIDogZmFsc2U7XHJcblxyXG5cdFx0XHRjdHguc3Ryb2tlU3R5bGUgPSBcIiM0NTcyQTcgXCI7XHJcblxyXG5cclxuXHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YVBvaW50cy5sZW5ndGg7IGkrKykge1xyXG5cclxuXHRcdFx0XHRkYXRhUG9pbnRYID0gZGF0YVBvaW50c1tpXS5nZXRUaW1lID8gZGF0YVBvaW50WCA9IGRhdGFQb2ludHNbaV0ueC5nZXRUaW1lKCkgOiBkYXRhUG9pbnRYID0gZGF0YVBvaW50c1tpXS54O1xyXG5cclxuXHRcdFx0XHRpZiAoZGF0YVBvaW50WCA8IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLnZpZXdQb3J0TWluIHx8IGRhdGFQb2ludFggPiBwbG90VW5pdC5heGlzWC5kYXRhSW5mby52aWV3UG9ydE1heCkge1xyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAodHlwZW9mIChkYXRhUG9pbnRzW2ldLnkpICE9PSBcIm51bWJlclwiKVxyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblxyXG5cdFx0XHRcdHggPSAocGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludFggLSBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xyXG5cdFx0XHRcdHkgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludHNbaV0ueSAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XHJcblxyXG5cdFx0XHRcdHZhciB6ID0gZGF0YVBvaW50c1tpXS56O1xyXG5cclxuXHRcdFx0XHR2YXIgYXJlYSA9IChtYXhaID09PSBtaW5aKSA/IG1heEFyZWEgLyAyIDogbWluQXJlYSArIChtYXhBcmVhIC0gbWluQXJlYSkgLyAobWF4WiAtIG1pblopICogKHogLSBtaW5aKTtcclxuXHRcdFx0XHR2YXIgcmFkaXVzID0gTWF0aC5tYXgoTWF0aC5zcXJ0KGFyZWEgLyBNYXRoLlBJKSA8PCAwLCAxKTtcclxuXHJcblx0XHRcdFx0dmFyIG1hcmtlclNpemUgPSByYWRpdXMgKiAyO1xyXG5cdFx0XHRcdHZhciBtYXJrZXJQcm9wcyA9IGRhdGFTZXJpZXMuZ2V0TWFya2VyUHJvcGVydGllcyhpLCBjdHgpO1xyXG5cdFx0XHRcdG1hcmtlclByb3BzLnNpemUgPSBtYXJrZXJTaXplO1xyXG5cclxuXHJcblx0XHRcdFx0Y3R4Lmdsb2JhbEFscGhhID0gZGF0YVNlcmllcy5maWxsT3BhY2l0eTtcclxuXHRcdFx0XHRSZW5kZXJIZWxwZXIuZHJhd01hcmtlcih4LCB5LCBjdHgsIG1hcmtlclByb3BzLnR5cGUsIG1hcmtlclByb3BzLnNpemUsIG1hcmtlclByb3BzLmNvbG9yLCBtYXJrZXJQcm9wcy5ib3JkZXJDb2xvciwgbWFya2VyUHJvcHMuYm9yZGVyVGhpY2tuZXNzKTtcclxuXHRcdFx0XHRjdHguZ2xvYmFsQWxwaGEgPSAxO1xyXG5cclxuXHRcdFx0XHR2YXIgaWQgPSBkYXRhU2VyaWVzLmRhdGFQb2ludElkc1tpXTtcclxuXHRcdFx0XHR0aGlzLl9ldmVudE1hbmFnZXIub2JqZWN0TWFwW2lkXSA9IHtcclxuXHRcdFx0XHRcdGlkOiBpZCwgb2JqZWN0VHlwZTogXCJkYXRhUG9pbnRcIiwgZGF0YVNlcmllc0luZGV4OiBkYXRhU2VyaWVzSW5kZXgsIGRhdGFQb2ludEluZGV4OiBpLCB4MTogeCwgeTE6IHksIHNpemU6IG1hcmtlclNpemVcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdHZhciBtYXJrZXJDb2xvciA9IGludFRvSGV4Q29sb3JTdHJpbmcoaWQpO1xyXG5cdFx0XHRcdC8vUmVuZGVySGVscGVyLmRyYXdNYXJrZXIoeCwgeSwgdGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LCBtYXJrZXJUeXBlLCBtYXJrZXJTaXplLCBtYXJrZXJDb2xvciwgbWFya2VyQ29sb3IsIGRhdGFTZXJpZXMubWFya2VyQm9yZGVyVGhpY2tuZXNzKTtcclxuXHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXHJcblx0XHRcdFx0XHRSZW5kZXJIZWxwZXIuZHJhd01hcmtlcih4LCB5LCB0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHgsIG1hcmtlclByb3BzLnR5cGUsIG1hcmtlclByb3BzLnNpemUsIG1hcmtlckNvbG9yLCBtYXJrZXJDb2xvciwgbWFya2VyUHJvcHMuYm9yZGVyVGhpY2tuZXNzKTtcclxuXHJcblxyXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLmluZGV4TGFiZWwgfHwgZGF0YVNlcmllcy5pbmRleExhYmVsIHx8IGRhdGFQb2ludHNbaV0uaW5kZXhMYWJlbEZvcm1hdHRlciB8fCBkYXRhU2VyaWVzLmluZGV4TGFiZWxGb3JtYXR0ZXIpIHtcclxuXHJcblx0XHRcdFx0XHR0aGlzLl9pbmRleExhYmVscy5wdXNoKHtcclxuXHRcdFx0XHRcdFx0Y2hhcnRUeXBlOiBcImJ1YmJsZVwiLFxyXG5cdFx0XHRcdFx0XHRkYXRhUG9pbnQ6IGRhdGFQb2ludHNbaV0sXHJcblx0XHRcdFx0XHRcdGRhdGFTZXJpZXM6IGRhdGFTZXJpZXMsXHJcblx0XHRcdFx0XHRcdHBvaW50OiB7XHJcblx0XHRcdFx0XHRcdFx0eDogeCwgeTogeVxyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRkaXJlY3Rpb246IDEsXHJcblx0XHRcdFx0XHRcdGJvdW5kczoge1xyXG5cdFx0XHRcdFx0XHRcdHgxOiB4IC0gbWFya2VyUHJvcHMuc2l6ZSAvIDIsIHkxOiB5IC0gbWFya2VyUHJvcHMuc2l6ZSAvIDIsIHgyOiB4ICsgbWFya2VyUHJvcHMuc2l6ZSAvIDIsIHkyOiB5ICsgbWFya2VyUHJvcHMuc2l6ZSAvIDJcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0Y29sb3I6IGNvbG9yXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGN0eC5yZXN0b3JlKCk7XHJcblxyXG5cdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcclxuXHRcdHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eC5yZXN0b3JlKCk7XHJcblxyXG5cdC8vc291cmNlIGFuZCBkZXN0IHdvdWxkIGJlIHNhbWUgd2hlbiBhbmltYXRpb24gaXMgbm90IGVuYWJsZWRcclxuXHR2YXIgYW5pbWF0aW9uSW5mbyA9IHtcclxuXHRcdHNvdXJjZTogY3R4LCBkZXN0OiB0aGlzLnBsb3RBcmVhLmN0eCwgYW5pbWF0aW9uQ2FsbGJhY2s6IEFuaW1hdGlvbkhlbHBlci5mYWRlSW5BbmltYXRpb24sIGVhc2luZ0Z1bmN0aW9uOiBBbmltYXRpb25IZWxwZXIuZWFzaW5nLmVhc2VJblF1YWQsIGFuaW1hdGlvbkJhc2U6IDBcclxuXHR9O1xyXG5cdHJldHVybiBhbmltYXRpb25JbmZvO1xyXG59XHJcbiIsIlxyXG5pbXBvcnQge2lzQ2FudmFzU3VwcG9ydGVkfSBmcm9tICcuLi9oZWxwZXJzL3V0aWxzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChwbG90VW5pdCkge1xyXG5cdHZhciBjdHggPSBwbG90VW5pdC50YXJnZXRDYW52YXNDdHggfHwgdGhpcy5wbG90QXJlYS5jdHg7XHJcblx0dmFyIGdob3N0Q3R4ID0gdGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4O1xyXG5cclxuXHR2YXIgdG90YWxEYXRhU2VyaWVzID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoO1xyXG5cdGlmICh0b3RhbERhdGFTZXJpZXMgPD0gMClcclxuXHRcdHJldHVybjtcclxuXHJcblx0dmFyIGNvbG9yID0gbnVsbDtcclxuXHJcblx0dmFyIHBsb3RBcmVhID0gdGhpcy5wbG90QXJlYTtcclxuXHJcblx0dmFyIGkgPSAwLCB4LCB5MSwgeTIsIHkzLCB5NDtcclxuXHR2YXIgZGF0YVBvaW50WDsgLy9Vc2VkIHNvIHRoYXQgd2hlbiBkYXRhUG9pbnQueCBpcyBhIERhdGVUaW1lIHZhbHVlLCBpdCBkb2Vzbid0IGdldCBjb252ZXJ0ZWQgdG8gbnVtYmVyIGZyb20gZGF0YVRpbWUgZXZlcnl0aW1lIGl0IGlzIHVzZWQuXHJcblxyXG5cdHZhciB5WmVyb1RvUGl4ZWwgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKDAgLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSkgPDwgMDtcclxuXHJcblx0dmFyIG1heEJhcldpZHRoID0gdGhpcy5kYXRhUG9pbnRNYXhXaWR0aCA/IHRoaXMuZGF0YVBvaW50TWF4V2lkdGggOiAodGhpcy53aWR0aCAqIC4wMTUpO1xyXG5cdHZhciB4TWluRGlmZiA9IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLm1pbkRpZmY7XHJcblx0dmFyIGJhcldpZHRoID0gKCgocGxvdEFyZWEud2lkdGggLyBNYXRoLmFicyhwbG90VW5pdC5heGlzWC52aWV3cG9ydE1heGltdW0gLSBwbG90VW5pdC5heGlzWC52aWV3cG9ydE1pbmltdW0pKSAqIE1hdGguYWJzKHhNaW5EaWZmKSkgKiAuNykgPDwgMDtcclxuXHJcblx0aWYgKGJhcldpZHRoID4gbWF4QmFyV2lkdGgpXHJcblx0XHRiYXJXaWR0aCA9IG1heEJhcldpZHRoO1xyXG5cdGVsc2UgaWYgKHhNaW5EaWZmID09PSBJbmZpbml0eSkge1xyXG5cdFx0YmFyV2lkdGggPSBtYXhCYXJXaWR0aDtcclxuXHR9IGVsc2UgaWYgKGJhcldpZHRoIDwgMSlcclxuXHRcdGJhcldpZHRoID0gMTtcclxuXHJcblx0Y3R4LnNhdmUoKTtcclxuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXHJcblx0XHRnaG9zdEN0eC5zYXZlKCk7XHJcblxyXG5cdGN0eC5iZWdpblBhdGgoKTtcclxuXHRjdHgucmVjdChwbG90QXJlYS54MSwgcGxvdEFyZWEueTEsIHBsb3RBcmVhLndpZHRoLCBwbG90QXJlYS5oZWlnaHQpO1xyXG5cdGN0eC5jbGlwKCk7XHJcblxyXG5cdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xyXG5cdFx0Z2hvc3RDdHgucmVjdChwbG90QXJlYS54MSwgcGxvdEFyZWEueTEsIHBsb3RBcmVhLndpZHRoLCBwbG90QXJlYS5oZWlnaHQpO1xyXG5cdFx0Z2hvc3RDdHguY2xpcCgpO1xyXG5cdH1cclxuXHQvL2N0eC5iZWdpblBhdGgoKTtcclxuXHJcblx0Zm9yICh2YXIgaiA9IDA7IGogPCBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7IGorKykge1xyXG5cclxuXHRcdHZhciBkYXRhU2VyaWVzSW5kZXggPSBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlc1tqXTtcclxuXHJcblx0XHR2YXIgZGF0YVNlcmllcyA9IHRoaXMuZGF0YVtkYXRhU2VyaWVzSW5kZXhdO1xyXG5cdFx0dmFyIGRhdGFQb2ludHMgPSBkYXRhU2VyaWVzLmRhdGFQb2ludHM7XHJcblx0XHR2YXIgaXNGaXJzdERhdGFQb2ludEluUGxvdEFyZWEgPSB0cnVlO1xyXG5cclxuXHJcblx0XHQvLyBSZWR1Y2luZyBwaXhlbFBlclVuaXQgYnkgMSBqdXN0IHRvIG92ZXJjb21lIGFueSBwcm9ibGVtcyBkdWUgdG8gcm91bmRpbmcgb2ZmIG9mIHBpeGVscy5cclxuXHRcdC8vZGF0YVNlcmllcy5tYXhXaWR0aEluWCA9IGJhcldpZHRoIC8gKHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCA+IDEgPyBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgLSAxIDogcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0KTtcclxuXHJcblx0XHQvL3ZhciBvZmZzZXRYID0gYmFyV2lkdGggKiBwbG90VW5pdC5pbmRleCA8PCAwO1xyXG5cclxuXHJcblx0XHRpZiAoZGF0YVBvaW50cy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdC8vdmFyIHh5ID0gdGhpcy5nZXRQaXhlbENvb3JkaW5hdGVzT25QbG90QXJlYShkYXRhUG9pbnRzWzBdLngsIGRhdGFQb2ludHNbMF0ueSk7XHJcblxyXG5cdFx0XHR2YXIgYmV2ZWxFbmFibGVkID0gKGJhcldpZHRoID4gNSkgJiYgZGF0YVNlcmllcy5iZXZlbEVuYWJsZWQgPyB0cnVlIDogZmFsc2U7XHJcblxyXG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgZGF0YVBvaW50cy5sZW5ndGg7IGkrKykge1xyXG5cclxuXHRcdFx0XHRkYXRhUG9pbnRzW2ldLmdldFRpbWUgPyBkYXRhUG9pbnRYID0gZGF0YVBvaW50c1tpXS54LmdldFRpbWUoKSA6IGRhdGFQb2ludFggPSBkYXRhUG9pbnRzW2ldLng7XHJcblxyXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRYIDwgcGxvdFVuaXQuYXhpc1guZGF0YUluZm8udmlld1BvcnRNaW4gfHwgZGF0YVBvaW50WCA+IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLnZpZXdQb3J0TWF4KSB7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLnkgPT09IG51bGwgfHwgIWRhdGFQb2ludHNbaV0ueS5sZW5ndGhcclxuXHRcdFx0XHRcdHx8IHR5cGVvZiAoZGF0YVBvaW50c1tpXS55WzBdKSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgKGRhdGFQb2ludHNbaV0ueVsxXSkgIT09IFwibnVtYmVyXCJcclxuXHRcdFx0XHRcdHx8IHR5cGVvZiAoZGF0YVBvaW50c1tpXS55WzJdKSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgKGRhdGFQb2ludHNbaV0ueVszXSkgIT09IFwibnVtYmVyXCIpXHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHJcblx0XHRcdFx0eCA9IChwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoZGF0YVBvaW50WCAtIHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XHJcblx0XHRcdFx0eTEgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludHNbaV0ueVswXSAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XHJcblx0XHRcdFx0eTIgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludHNbaV0ueVsxXSAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XHJcblxyXG5cdFx0XHRcdHkzID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqIChkYXRhUG9pbnRzW2ldLnlbMl0gLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xyXG5cdFx0XHRcdHk0ID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqIChkYXRhUG9pbnRzW2ldLnlbM10gLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xyXG5cclxuXHRcdFx0XHR2YXIgeDEgPSAoeCAtIGJhcldpZHRoIC8gMikgPDwgMDtcclxuXHRcdFx0XHR2YXIgeDIgPSAoeDEgKyBiYXJXaWR0aCkgPDwgMDtcclxuXHJcblxyXG5cdFx0XHRcdGNvbG9yID0gZGF0YVBvaW50c1tpXS5jb2xvciA/IGRhdGFQb2ludHNbaV0uY29sb3IgOiBkYXRhU2VyaWVzLl9jb2xvclNldFswXTtcclxuXHJcblxyXG5cdFx0XHRcdC8vdmFyIGJvcmRlclRoaWNrbmVzcyA9IE1hdGgubWF4KDIsICgoYmFyV2lkdGggKiAuMSkgLyAyIDw8IDApICogMik7IC8vIFNldCBvbmx5IGV2ZW4gbnVtYmVycyBmb3IgYm9yZGVyXHJcblx0XHRcdFx0dmFyIGJvcmRlclRoaWNrbmVzcyA9IE1hdGgucm91bmQoTWF0aC5tYXgoMSwgKGJhcldpZHRoICogLjE1KSkpO1xyXG5cdFx0XHRcdC8vYm9yZGVyVGhpY2tuZXNzID0gKGJvcmRlclRoaWNrbmVzcyAvIDIgPDwgMCkgKiAyO1xyXG5cdFx0XHRcdC8vYm9yZGVyVGhpY2tuZXNzID0gMjtcclxuXHRcdFx0XHR2YXIgb2Zmc2V0ID0gYm9yZGVyVGhpY2tuZXNzICUgMiA9PT0gMCA/IDAgOiAuNTtcclxuXHJcblxyXG5cdFx0XHRcdHZhciBpZCA9IGRhdGFTZXJpZXMuZGF0YVBvaW50SWRzW2ldO1xyXG5cdFx0XHRcdHRoaXMuX2V2ZW50TWFuYWdlci5vYmplY3RNYXBbaWRdID0ge1xyXG5cdFx0XHRcdFx0aWQ6IGlkLCBvYmplY3RUeXBlOiBcImRhdGFQb2ludFwiLCBkYXRhU2VyaWVzSW5kZXg6IGRhdGFTZXJpZXNJbmRleCwgZGF0YVBvaW50SW5kZXg6IGksIHgxOiB4MSwgeTE6IHkxLCB4MjogeDIsIHkyOiB5MixcclxuXHRcdFx0XHRcdHgzOiB4LCB5MzogeTMsIHg0OiB4LCB5NDogeTQsIGJvcmRlclRoaWNrbmVzczogYm9yZGVyVGhpY2tuZXNzLCBjb2xvcjogY29sb3JcclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRjdHguc3Ryb2tlU3R5bGUgPSBjb2xvcjtcclxuXHRcdFx0XHRjdHguYmVnaW5QYXRoKCk7XHJcblx0XHRcdFx0Y3R4LmxpbmVXaWR0aCA9IGJvcmRlclRoaWNrbmVzcztcclxuXHRcdFx0XHRnaG9zdEN0eC5saW5lV2lkdGggPSBNYXRoLm1heChib3JkZXJUaGlja25lc3MsIDQpO1xyXG5cclxuXHRcdFx0XHRpZiAoZGF0YVNlcmllcy50eXBlID09PSBcImNhbmRsZXN0aWNrXCIpIHtcclxuXHJcblx0XHRcdFx0XHRjdHgubW92ZVRvKHggLSBvZmZzZXQsIHkyKTtcclxuXHRcdFx0XHRcdGN0eC5saW5lVG8oeCAtIG9mZnNldCwgTWF0aC5taW4oeTEsIHk0KSk7XHJcblx0XHRcdFx0XHRjdHguc3Ryb2tlKCk7XHJcblx0XHRcdFx0XHRjdHgubW92ZVRvKHggLSBvZmZzZXQsIE1hdGgubWF4KHkxLCB5NCkpO1xyXG5cdFx0XHRcdFx0Y3R4LmxpbmVUbyh4IC0gb2Zmc2V0LCB5Myk7XHJcblx0XHRcdFx0XHRjdHguc3Ryb2tlKCk7XHJcblxyXG5cdFx0XHRcdFx0ZHJhd1JlY3QoY3R4LCB4MSwgTWF0aC5taW4oeTEsIHk0KSwgeDIsIE1hdGgubWF4KHkxLCB5NCksIGRhdGFQb2ludHNbaV0ueVswXSA8PSBkYXRhUG9pbnRzW2ldLnlbM10gPyBkYXRhU2VyaWVzLnJpc2luZ0NvbG9yIDogY29sb3IsIGJvcmRlclRoaWNrbmVzcywgY29sb3IsIGJldmVsRW5hYmxlZCwgYmV2ZWxFbmFibGVkLCBmYWxzZSwgZmFsc2UsIGRhdGFTZXJpZXMuZmlsbE9wYWNpdHkpO1xyXG5cclxuXHJcblx0XHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpIHtcclxuXHRcdFx0XHRcdFx0Y29sb3IgPSBpbnRUb0hleENvbG9yU3RyaW5nKGlkKTtcclxuXHRcdFx0XHRcdFx0Z2hvc3RDdHguc3Ryb2tlU3R5bGUgPSBjb2xvcjtcclxuXHJcblx0XHRcdFx0XHRcdGdob3N0Q3R4Lm1vdmVUbyh4IC0gb2Zmc2V0LCB5Mik7XHJcblx0XHRcdFx0XHRcdGdob3N0Q3R4LmxpbmVUbyh4IC0gb2Zmc2V0LCBNYXRoLm1pbih5MSwgeTQpKTtcclxuXHRcdFx0XHRcdFx0Z2hvc3RDdHguc3Ryb2tlKCk7XHJcblx0XHRcdFx0XHRcdGdob3N0Q3R4Lm1vdmVUbyh4IC0gb2Zmc2V0LCBNYXRoLm1heCh5MSwgeTQpKTtcclxuXHRcdFx0XHRcdFx0Z2hvc3RDdHgubGluZVRvKHggLSBvZmZzZXQsIHkzKTtcclxuXHRcdFx0XHRcdFx0Z2hvc3RDdHguc3Ryb2tlKCk7XHJcblx0XHRcdFx0XHRcdGRyYXdSZWN0KGdob3N0Q3R4LCB4MSwgTWF0aC5taW4oeTEsIHk0KSwgeDIsIE1hdGgubWF4KHkxLCB5NCksIGNvbG9yLCAwLCBudWxsLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2UgaWYgKGRhdGFTZXJpZXMudHlwZSA9PT0gXCJvaGxjXCIpIHtcclxuXHJcblx0XHRcdFx0XHRjdHgubW92ZVRvKHggLSBvZmZzZXQsIHkyKTtcclxuXHRcdFx0XHRcdGN0eC5saW5lVG8oeCAtIG9mZnNldCwgeTMpO1xyXG5cdFx0XHRcdFx0Y3R4LnN0cm9rZSgpO1xyXG5cclxuXHRcdFx0XHRcdGN0eC5iZWdpblBhdGgoKTtcclxuXHRcdFx0XHRcdGN0eC5tb3ZlVG8oeCwgeTEpO1xyXG5cdFx0XHRcdFx0Y3R4LmxpbmVUbyh4MSwgeTEpO1xyXG5cdFx0XHRcdFx0Y3R4LnN0cm9rZSgpO1xyXG5cclxuXHRcdFx0XHRcdGN0eC5iZWdpblBhdGgoKTtcclxuXHRcdFx0XHRcdGN0eC5tb3ZlVG8oeCwgeTQpO1xyXG5cdFx0XHRcdFx0Y3R4LmxpbmVUbyh4MiwgeTQpO1xyXG5cdFx0XHRcdFx0Y3R4LnN0cm9rZSgpO1xyXG5cclxuXHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xyXG5cclxuXHRcdFx0XHRcdFx0Y29sb3IgPSBpbnRUb0hleENvbG9yU3RyaW5nKGlkKTtcclxuXHRcdFx0XHRcdFx0Z2hvc3RDdHguc3Ryb2tlU3R5bGUgPSBjb2xvcjtcclxuXHJcblx0XHRcdFx0XHRcdGdob3N0Q3R4Lm1vdmVUbyh4IC0gb2Zmc2V0LCB5Mik7XHJcblx0XHRcdFx0XHRcdGdob3N0Q3R4LmxpbmVUbyh4IC0gb2Zmc2V0LCB5Myk7XHJcblx0XHRcdFx0XHRcdGdob3N0Q3R4LnN0cm9rZSgpO1xyXG5cclxuXHRcdFx0XHRcdFx0Z2hvc3RDdHguYmVnaW5QYXRoKCk7XHJcblx0XHRcdFx0XHRcdGdob3N0Q3R4Lm1vdmVUbyh4LCB5MSk7XHJcblx0XHRcdFx0XHRcdGdob3N0Q3R4LmxpbmVUbyh4MSwgeTEpO1xyXG5cdFx0XHRcdFx0XHRnaG9zdEN0eC5zdHJva2UoKTtcclxuXHJcblx0XHRcdFx0XHRcdGdob3N0Q3R4LmJlZ2luUGF0aCgpO1xyXG5cdFx0XHRcdFx0XHRnaG9zdEN0eC5tb3ZlVG8oeCwgeTQpO1xyXG5cdFx0XHRcdFx0XHRnaG9zdEN0eC5saW5lVG8oeDIsIHk0KTtcclxuXHRcdFx0XHRcdFx0Z2hvc3RDdHguc3Ryb2tlKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoZGF0YVBvaW50c1tpXS5pbmRleExhYmVsIHx8IGRhdGFTZXJpZXMuaW5kZXhMYWJlbCB8fCBkYXRhUG9pbnRzW2ldLmluZGV4TGFiZWxGb3JtYXR0ZXIgfHwgZGF0YVNlcmllcy5pbmRleExhYmVsRm9ybWF0dGVyKSB7XHJcblxyXG5cdFx0XHRcdFx0dGhpcy5faW5kZXhMYWJlbHMucHVzaCh7XHJcblx0XHRcdFx0XHRcdGNoYXJ0VHlwZTogZGF0YVNlcmllcy50eXBlLFxyXG5cdFx0XHRcdFx0XHRkYXRhUG9pbnQ6IGRhdGFQb2ludHNbaV0sXHJcblx0XHRcdFx0XHRcdGRhdGFTZXJpZXM6IGRhdGFTZXJpZXMsXHJcblx0XHRcdFx0XHRcdHBvaW50OiB7XHJcblx0XHRcdFx0XHRcdFx0eDogeDEgKyAoeDIgLSB4MSkgLyAyLCB5OiB5MlxyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRkaXJlY3Rpb246IDEsXHJcblx0XHRcdFx0XHRcdGJvdW5kczoge1xyXG5cdFx0XHRcdFx0XHRcdHgxOiB4MSwgeTE6IE1hdGgubWluKHkyLCB5MyksIHgyOiB4MiwgeTI6IE1hdGgubWF4KHkyLCB5MylcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0Y29sb3I6IGNvbG9yXHJcblx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRjdHgucmVzdG9yZSgpO1xyXG5cclxuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXHJcblx0XHRnaG9zdEN0eC5yZXN0b3JlKCk7XHJcblxyXG5cdC8vc291cmNlIGFuZCBkZXN0IHdvdWxkIGJlIHNhbWUgd2hlbiBhbmltYXRpb24gaXMgbm90IGVuYWJsZWRcclxuXHR2YXIgYW5pbWF0aW9uSW5mbyA9IHtcclxuXHRcdHNvdXJjZTogY3R4LCBkZXN0OiB0aGlzLnBsb3RBcmVhLmN0eCwgYW5pbWF0aW9uQ2FsbGJhY2s6IEFuaW1hdGlvbkhlbHBlci5mYWRlSW5BbmltYXRpb24sIGVhc2luZ0Z1bmN0aW9uOiBBbmltYXRpb25IZWxwZXIuZWFzaW5nLmVhc2VJblF1YWQsIGFuaW1hdGlvbkJhc2U6IDBcclxuXHR9O1xyXG5cdHJldHVybiBhbmltYXRpb25JbmZvO1xyXG59XHJcbiIsIlxyXG5pbXBvcnQgQW5pbWF0aW9uSGVscGVyIGZyb20gJy4uL2hlbHBlcnMvYW5pbWF0b3InO1xyXG5pbXBvcnQge2lzQ2FudmFzU3VwcG9ydGVkLCBkcmF3UmVjdCwgaW50VG9IZXhDb2xvclN0cmluZ30gZnJvbSAnLi4vaGVscGVycy91dGlscyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAocGxvdFVuaXQpIHtcclxuXHJcblx0dmFyIGN0eCA9IHBsb3RVbml0LnRhcmdldENhbnZhc0N0eCB8fCB0aGlzLnBsb3RBcmVhLmN0eDtcclxuXHJcblx0dmFyIHRvdGFsRGF0YVNlcmllcyA9IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDtcclxuXHJcblx0aWYgKHRvdGFsRGF0YVNlcmllcyA8PSAwKVxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHR2YXIgY29sb3IgPSBudWxsO1xyXG5cclxuXHR2YXIgcGxvdEFyZWEgPSB0aGlzLnBsb3RBcmVhO1xyXG5cclxuXHR2YXIgaSA9IDAsIHgsIHk7XHJcblx0dmFyIGRhdGFQb2ludFg7IC8vVXNlZCBzbyB0aGF0IHdoZW4gZGF0YVBvaW50LnggaXMgYSBEYXRlVGltZSB2YWx1ZSwgaXQgZG9lc24ndCBnZXQgY29udmVydGVkIHRvIG51bWJlciBmcm9tIGRhdGFUaW1lIGV2ZXJ5dGltZSBpdCBpcyB1c2VkLlxyXG5cclxuXHR2YXIgeVplcm9Ub1BpeGVsID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqICgwIC0gcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkpIDw8IDA7XHJcblxyXG5cdHZhciBtYXhCYXJXaWR0aCA9IHRoaXMuZGF0YVBvaW50TWF4V2lkdGggPyB0aGlzLmRhdGFQb2ludE1heFdpZHRoIDogTWF0aC5taW4oKHRoaXMud2lkdGggKiAuMTUpLCB0aGlzLnBsb3RBcmVhLndpZHRoIC8gcGxvdFVuaXQucGxvdFR5cGUudG90YWxEYXRhU2VyaWVzICogLjkpIDw8IDA7XHJcblx0dmFyIHhNaW5EaWZmID0gcGxvdFVuaXQuYXhpc1guZGF0YUluZm8ubWluRGlmZjtcclxuXHR2YXIgYmFyV2lkdGggPSAoKChwbG90QXJlYS53aWR0aCAvIE1hdGguYWJzKHBsb3RVbml0LmF4aXNYLnZpZXdwb3J0TWF4aW11bSAtIHBsb3RVbml0LmF4aXNYLnZpZXdwb3J0TWluaW11bSkpICogTWF0aC5hYnMoeE1pbkRpZmYpKSAvIHBsb3RVbml0LnBsb3RUeXBlLnRvdGFsRGF0YVNlcmllcyAqIC45KSA8PCAwO1xyXG5cclxuXHRpZiAoYmFyV2lkdGggPiBtYXhCYXJXaWR0aClcclxuXHRcdGJhcldpZHRoID0gbWF4QmFyV2lkdGg7XHJcblx0ZWxzZSBpZiAoeE1pbkRpZmYgPT09IEluZmluaXR5KSB7XHJcblx0XHRiYXJXaWR0aCA9IG1heEJhcldpZHRoIC8gcGxvdFVuaXQucGxvdFR5cGUudG90YWxEYXRhU2VyaWVzICogLjk7XHJcblx0fSBlbHNlIGlmIChiYXJXaWR0aCA8IDEpXHJcblx0XHRiYXJXaWR0aCA9IDE7XHJcblxyXG5cdGN0eC5zYXZlKCk7XHJcblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxyXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnNhdmUoKTtcclxuXHJcblx0Y3R4LmJlZ2luUGF0aCgpO1xyXG5cdGN0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XHJcblx0Y3R4LmNsaXAoKTtcclxuXHJcblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XHJcblx0XHR0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHgucmVjdChwbG90QXJlYS54MSwgcGxvdEFyZWEueTEsIHBsb3RBcmVhLndpZHRoLCBwbG90QXJlYS5oZWlnaHQpO1xyXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LmNsaXAoKTtcclxuXHR9XHJcblx0Ly9jdHguYmVnaW5QYXRoKCk7XHJcblxyXG5cdGZvciAodmFyIGogPSAwOyBqIDwgcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoOyBqKyspIHtcclxuXHJcblx0XHR2YXIgZGF0YVNlcmllc0luZGV4ID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXNbal07XHJcblxyXG5cdFx0dmFyIGRhdGFTZXJpZXMgPSB0aGlzLmRhdGFbZGF0YVNlcmllc0luZGV4XTtcclxuXHRcdHZhciBkYXRhUG9pbnRzID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzO1xyXG5cdFx0dmFyIGlzRmlyc3REYXRhUG9pbnRJblBsb3RBcmVhID0gdHJ1ZTtcclxuXHJcblxyXG5cdFx0Ly8gUmVkdWNpbmcgcGl4ZWxQZXJVbml0IGJ5IDEganVzdCB0byBvdmVyY29tZSBhbnkgcHJvYmxlbXMgZHVlIHRvIHJvdW5kaW5nIG9mZiBvZiBwaXhlbHMuXHJcblx0XHQvL2RhdGFTZXJpZXMubWF4V2lkdGhJblggPSBiYXJXaWR0aCAvIChwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgPiAxID8gcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0IC0gMSA6IHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCk7XHJcblxyXG5cdFx0Ly92YXIgb2Zmc2V0WCA9IGJhcldpZHRoICogcGxvdFVuaXQuaW5kZXggPDwgMDtcclxuXHJcblxyXG5cdFx0aWYgKGRhdGFQb2ludHMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHQvL3ZhciB4eSA9IHRoaXMuZ2V0UGl4ZWxDb29yZGluYXRlc09uUGxvdEFyZWEoZGF0YVBvaW50c1swXS54LCBkYXRhUG9pbnRzWzBdLnkpO1xyXG5cclxuXHRcdFx0dmFyIGJldmVsRW5hYmxlZCA9IChiYXJXaWR0aCA+IDUpICYmIGRhdGFTZXJpZXMuYmV2ZWxFbmFibGVkID8gdHJ1ZSA6IGZhbHNlO1xyXG5cclxuXHRcdFx0Zm9yIChpID0gMDsgaSA8IGRhdGFQb2ludHMubGVuZ3RoOyBpKyspIHtcclxuXHJcblx0XHRcdFx0ZGF0YVBvaW50c1tpXS5nZXRUaW1lID8gZGF0YVBvaW50WCA9IGRhdGFQb2ludHNbaV0ueC5nZXRUaW1lKCkgOiBkYXRhUG9pbnRYID0gZGF0YVBvaW50c1tpXS54O1xyXG5cclxuXHRcdFx0XHRpZiAoZGF0YVBvaW50WCA8IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLnZpZXdQb3J0TWluIHx8IGRhdGFQb2ludFggPiBwbG90VW5pdC5heGlzWC5kYXRhSW5mby52aWV3UG9ydE1heCkge1xyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAodHlwZW9mIChkYXRhUG9pbnRzW2ldLnkpICE9PSBcIm51bWJlclwiKVxyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblxyXG5cdFx0XHRcdHggPSAocGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludFggLSBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xyXG5cdFx0XHRcdHkgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludHNbaV0ueSAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XHJcblxyXG5cdFx0XHRcdHZhciB4MSA9IHggLSAocGxvdFVuaXQucGxvdFR5cGUudG90YWxEYXRhU2VyaWVzICogYmFyV2lkdGggLyAyKSArICgocGxvdFVuaXQucHJldmlvdXNEYXRhU2VyaWVzQ291bnQgKyBqKSAqIGJhcldpZHRoKSA8PCAwO1xyXG5cdFx0XHRcdHZhciB4MiA9IHgxICsgYmFyV2lkdGggPDwgMDtcclxuXHRcdFx0XHR2YXIgeTE7XHJcblx0XHRcdFx0dmFyIHkyO1xyXG5cclxuXHRcdFx0XHRpZiAoZGF0YVBvaW50c1tpXS55ID49IDApIHtcclxuXHRcdFx0XHRcdHkxID0geTtcclxuXHJcblx0XHRcdFx0XHR5MiA9IHlaZXJvVG9QaXhlbDtcclxuXHJcblx0XHRcdFx0XHRpZiAoeTEgPiB5Mikge1xyXG5cdFx0XHRcdFx0XHR2YXIgdGVtcCA9IHkxO1xyXG5cdFx0XHRcdFx0XHR5MSA9IHkyO1xyXG5cdFx0XHRcdFx0XHR5MiA9IHkxO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0eTIgPSB5O1xyXG5cclxuXHRcdFx0XHRcdHkxID0geVplcm9Ub1BpeGVsO1xyXG5cclxuXHRcdFx0XHRcdGlmICh5MSA+IHkyKSB7XHJcblx0XHRcdFx0XHRcdHZhciB0ZW1wID0geTE7XHJcblx0XHRcdFx0XHRcdHkxID0geTI7XHJcblx0XHRcdFx0XHRcdHkyID0geTE7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRjb2xvciA9IGRhdGFQb2ludHNbaV0uY29sb3IgPyBkYXRhUG9pbnRzW2ldLmNvbG9yIDogZGF0YVNlcmllcy5fY29sb3JTZXRbaSAlIGRhdGFTZXJpZXMuX2NvbG9yU2V0Lmxlbmd0aF07XHJcblx0XHRcdFx0ZHJhd1JlY3QoY3R4LCB4MSwgeTEsIHgyLCB5MiwgY29sb3IsIDAsIG51bGwsIGJldmVsRW5hYmxlZCAmJiAoZGF0YVBvaW50c1tpXS55ID49IDApLCAoZGF0YVBvaW50c1tpXS55IDwgMCkgJiYgYmV2ZWxFbmFibGVkLCBmYWxzZSwgZmFsc2UsIGRhdGFTZXJpZXMuZmlsbE9wYWNpdHkpO1xyXG5cclxuXHRcdFx0XHQvL2lmIChkYXRhU2VyaWVzLm1hcmtlclR5cGUgJiYgZGF0YVNlcmllcy5tYXJrZXJTaXplID4gMCkge1xyXG5cdFx0XHRcdC8vICAgIFJlbmRlckhlbHBlci5kcmF3TWFya2VyKHgxICsgKHgyIC0geDEpIC8gMiwgeSwgY3R4LCBkYXRhU2VyaWVzLm1hcmtlclR5cGUsIGRhdGFTZXJpZXMubWFya2VyU2l6ZSwgY29sb3IsIGRhdGFTZXJpZXMubWFya2VyQm9yZGVyQ29sb3IsIGRhdGFTZXJpZXMubWFya2VyQm9yZGVyVGhpY2tuZXNzID8gZGF0YVNlcmllcy5tYXJrZXJCb3JkZXJUaGlja25lc3MgOiAxKTtcclxuXHRcdFx0XHQvL31cclxuXHJcblx0XHRcdFx0dmFyIGlkID0gZGF0YVNlcmllcy5kYXRhUG9pbnRJZHNbaV07XHJcblx0XHRcdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtpZF0gPSB7XHJcblx0XHRcdFx0XHRpZDogaWQsIG9iamVjdFR5cGU6IFwiZGF0YVBvaW50XCIsIGRhdGFTZXJpZXNJbmRleDogZGF0YVNlcmllc0luZGV4LCBkYXRhUG9pbnRJbmRleDogaSwgeDE6IHgxLCB5MTogeTEsIHgyOiB4MiwgeTI6IHkyXHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0Y29sb3IgPSBpbnRUb0hleENvbG9yU3RyaW5nKGlkKTtcclxuXHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXHJcblx0XHRcdFx0XHRkcmF3UmVjdCh0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHgsIHgxLCB5MSwgeDIsIHkyLCBjb2xvciwgMCwgbnVsbCwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xyXG5cclxuXHRcdFx0XHRpZiAoZGF0YVBvaW50c1tpXS5pbmRleExhYmVsIHx8IGRhdGFTZXJpZXMuaW5kZXhMYWJlbCB8fCBkYXRhUG9pbnRzW2ldLmluZGV4TGFiZWxGb3JtYXR0ZXIgfHwgZGF0YVNlcmllcy5pbmRleExhYmVsRm9ybWF0dGVyKSB7XHJcblxyXG5cdFx0XHRcdFx0dGhpcy5faW5kZXhMYWJlbHMucHVzaCh7XHJcblx0XHRcdFx0XHRcdGNoYXJ0VHlwZTogXCJjb2x1bW5cIixcclxuXHRcdFx0XHRcdFx0ZGF0YVBvaW50OiBkYXRhUG9pbnRzW2ldLFxyXG5cdFx0XHRcdFx0XHRkYXRhU2VyaWVzOiBkYXRhU2VyaWVzLFxyXG5cdFx0XHRcdFx0XHRwb2ludDoge1xyXG5cdFx0XHRcdFx0XHRcdHg6IHgxICsgKHgyIC0geDEpIC8gMiwgeTogZGF0YVBvaW50c1tpXS55ID49IDAgPyB5MSA6IHkyXHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdGRpcmVjdGlvbjogZGF0YVBvaW50c1tpXS55ID49IDAgPyAxIDogLTEsXHJcblx0XHRcdFx0XHRcdGJvdW5kczoge1xyXG5cdFx0XHRcdFx0XHRcdHgxOiB4MSwgeTE6IE1hdGgubWluKHkxLCB5MiksIHgyOiB4MiwgeTI6IE1hdGgubWF4KHkxLCB5MilcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0Y29sb3I6IGNvbG9yXHJcblx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRjdHgucmVzdG9yZSgpO1xyXG5cclxuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXHJcblx0XHR0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHgucmVzdG9yZSgpO1xyXG5cclxuXHQvL3NvdXJjZSBhbmQgZGVzdCB3b3VsZCBiZSBzYW1lIHdoZW4gYW5pbWF0aW9uIGlzIG5vdCBlbmFibGVkXHJcblx0dmFyIGFuaW1hdGlvbkJhc2UgPSBNYXRoLm1pbih5WmVyb1RvUGl4ZWwsIHBsb3RVbml0LmF4aXNZLmJvdW5kaW5nUmVjdC55Mik7XHJcblx0dmFyIGFuaW1hdGlvbkluZm8gPSB7XHJcblx0XHRzb3VyY2U6IGN0eCwgZGVzdDogdGhpcy5wbG90QXJlYS5jdHgsIGFuaW1hdGlvbkNhbGxiYWNrOiBBbmltYXRpb25IZWxwZXIueVNjYWxlQW5pbWF0aW9uLCBlYXNpbmdGdW5jdGlvbjogQW5pbWF0aW9uSGVscGVyLmVhc2luZy5lYXNlT3V0UXVhcnQsIGFuaW1hdGlvbkJhc2U6IGFuaW1hdGlvbkJhc2VcclxuXHR9O1xyXG5cdHJldHVybiBhbmltYXRpb25JbmZvO1xyXG59XHJcbiIsImV4cG9ydCBTcGxpbmVDaGFydCBmcm9tICcuLi9jaGFydHMvc3BsaW5lJztcclxuZXhwb3J0IENvbHVtbkNoYXJ0IGZyb20gJy4uL2NoYXJ0cy9jb2x1bW4nO1xyXG5leHBvcnQgU3RhY2tlZENvbHVtbkNoYXJ0IGZyb20gJy4uL2NoYXJ0cy9zdGFja2VkX2NvbHVtbic7XHJcbmV4cG9ydCBTdGFja2VkQ29sdW1uMTAwQ2hhcnQgZnJvbSAnLi4vY2hhcnRzL3N0YWNrZWRfY29sdW1uXzEwMCc7XHJcbmV4cG9ydCBCYXJDaGFydCBmcm9tICcuLi9jaGFydHMvYmFyJztcclxuZXhwb3J0IFN0YWNrZWRCYXJDaGFydCBmcm9tICcuLi9jaGFydHMvc3RhY2tlZF9iYXInO1xyXG5leHBvcnQgU3RhY2tlZEJhcjEwMENoYXJ0IGZyb20gJy4uL2NoYXJ0cy9zdGFja2VkX2Jhcl8xMDAnO1xyXG5leHBvcnQgQXJlYUNoYXJ0IGZyb20gJy4uL2NoYXJ0cy9hcmVhJztcclxuZXhwb3J0IFNwbGluZUFyZWFDaGFydCBmcm9tICcuLi9jaGFydHMvc3BsaW5lX2FyZWEnO1xyXG5leHBvcnQgU3RlcEFyZWFDaGFydCBmcm9tICcuLi9jaGFydHMvc3RlcF9hcmVhJztcclxuZXhwb3J0IFN0YWNrZWRBcmVhQ2hhcnQgZnJvbSAnLi4vY2hhcnRzL3N0YWNrZWRfYXJlYSc7XHJcbmV4cG9ydCBTdGFja2VkQXJlYTEwMENoYXJ0IGZyb20gJy4uL2NoYXJ0cy9zdGFja2VkX2FyZWFfMTAwJztcclxuZXhwb3J0IEJ1YmJsZUNoYXJ0IGZyb20gJy4uL2NoYXJ0cy9idWJibGUnO1xyXG5leHBvcnQgU2NhdHRlckNoYXJ0IGZyb20gJy4uL2NoYXJ0cy9zY2F0dGVyJztcclxuZXhwb3J0IENhbmRsZXN0aWNrQ2hhcnQgZnJvbSAnLi4vY2hhcnRzL2NhbmRsZXN0aWNrJztcclxuZXhwb3J0IFJhbmdlQ29sdW1uQ2hhcnQgZnJvbSAnLi4vY2hhcnRzL3JhbmdlX2NvbHVtbic7XHJcbmV4cG9ydCBSYW5nZUJhckNoYXJ0IGZyb20gJy4uL2NoYXJ0cy9yYW5nZV9iYXInO1xyXG5leHBvcnQgUmFuZ2VBcmVhQ2hhcnQgZnJvbSAnLi4vY2hhcnRzL3JhbmdlX2FyZWEnO1xyXG5leHBvcnQgUmFuZ2VTcGxpbmVBcmVhQ2hhcnQgZnJvbSAnLi4vY2hhcnRzL3JhbmdlX3NwbGluZV9hcmVhJztcclxuZXhwb3J0IFBpZUNoYXJ0IGZyb20gJy4uL2NoYXJ0cy9waWUnO1xyXG4iLCJcclxuaW1wb3J0IFRleHRCbG9jayBmcm9tICcuLi9jb3JlL3RleHRfYmxvY2snO1xyXG5pbXBvcnQge2NvbnZlcnRQZXJjZW50VG9WYWx1ZSwgaXNDYW52YXNTdXBwb3J0ZWQsIGRyYXdTZWdtZW50LCBnZXRMaW5lRGFzaEFycmF5fSBmcm9tICcuLi9oZWxwZXJzL3V0aWxzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChwbG90VW5pdCkge1xyXG5cclxuXHR2YXIgX3RoaXMgPSB0aGlzO1xyXG5cdHZhciB0b3RhbERhdGFTZXJpZXMgPSBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7XHJcblxyXG5cdGlmICh0b3RhbERhdGFTZXJpZXMgPD0gMClcclxuXHRcdHJldHVybjtcclxuXHJcblx0dmFyIGRhdGFTZXJpZXNJbmRleCA9IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzWzBdO1xyXG5cdHZhciBkYXRhU2VyaWVzID0gdGhpcy5kYXRhW2RhdGFTZXJpZXNJbmRleF07XHJcblx0dmFyIGRhdGFQb2ludHMgPSBkYXRhU2VyaWVzLmRhdGFQb2ludHM7XHJcblx0dmFyIGluZGV4TGFiZWxMaW5lRWRnZUxlbmd0aCA9IDEwO1xyXG5cdHZhciBleHBsb2RlRHVyYXRpb24gPSA1MDA7XHJcblxyXG5cdHZhciBwbG90QXJlYSA9IHRoaXMucGxvdEFyZWE7XHJcblxyXG5cdC8vdmFyIG1heEZyYW1lID0gaXNDYW52YXNTdXBwb3J0ZWQgPyAzMDAgOiA0O1xyXG5cdC8vdmFyIHRvdGFsUmVjdXJzaW9ucyA9IDA7XHJcblx0dmFyIGRhdGFQb2ludEVPcyA9IFtdOyAvL2RhdGFQb2ludCBFeHRlbnNpb24gT2JqZWN0cyBCZWhhdmVzIGxpa2UgYSBzdG9yYWdlIHBsYWNlIGZvciBhbGwgYWRkaXRpb25hbCBkYXRhIHJlbGF0aW5nIHRvIGRhdGFQb2ludHMuIFJlcXVyZWQgYmVjYXVzZSBhY3R1YWwgZGF0YVBvaW50cyBzaG91bGQgbm90IGJlIG1vZGlmaWVkLlxyXG5cclxuXHR2YXIgbWluRGlzdGFuY2VCZXR3ZWVuTGFiZWxzID0gMjtcclxuXHR2YXIgaW5kZXhMYWJlbFJhZGl1c1RvUmFkaXVzUmF0aW8gPSAxLjM7XHJcblx0dmFyIHBvbGVBbmdsdWxhckRpc3RhbmNlID0gKDIwIC8gMTgwKSAqIE1hdGguUEk7IC8vQW5nbHVsYXIgRGlzdGFuY2UgZnJvbSA5MCAmIDI3MCB0byBiZSBjb25zaWRlcmVkIHBvbGVcclxuXHR2YXIgcHJlY2lzaW9uID0gNjtcclxuXHJcblx0dmFyIGNlbnRlciA9IHtcclxuXHRcdHg6IChwbG90QXJlYS54MiArIHBsb3RBcmVhLngxKSAvIDIsIHk6IChwbG90QXJlYS55MiArIHBsb3RBcmVhLnkxKSAvIDJcclxuXHR9O1xyXG5cclxuXHR2YXIgc3VtID0gMDtcclxuXHR2YXIgaXNJbmRleExhYmVsUHJlc2VudCA9IGZhbHNlO1xyXG5cdGZvciAodmFyIGogPSAwOyBqIDwgZGF0YVBvaW50cy5sZW5ndGg7IGorKykge1xyXG5cdFx0c3VtICs9IE1hdGguYWJzKGRhdGFQb2ludHNbal0ueSk7XHJcblxyXG5cdFx0aWYgKCFpc0luZGV4TGFiZWxQcmVzZW50ICYmIHR5cGVvZiAoZGF0YVBvaW50c1tqXS5pbmRleExhYmVsKSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhUG9pbnRzW2pdLmluZGV4TGFiZWwgIT09IG51bGwgJiYgZGF0YVBvaW50c1tqXS5pbmRleExhYmVsLnRvU3RyaW5nKCkubGVuZ3RoID4gMClcclxuXHRcdFx0aXNJbmRleExhYmVsUHJlc2VudCA9IHRydWU7XHJcblxyXG5cdFx0aWYgKCFpc0luZGV4TGFiZWxQcmVzZW50ICYmIHR5cGVvZiAoZGF0YVBvaW50c1tqXS5sYWJlbCkgIT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YVBvaW50c1tqXS5sYWJlbCAhPT0gbnVsbCAmJiBkYXRhUG9pbnRzW2pdLmxhYmVsLnRvU3RyaW5nKCkubGVuZ3RoID4gMClcclxuXHRcdFx0aXNJbmRleExhYmVsUHJlc2VudCA9IHRydWU7XHJcblx0fVxyXG5cclxuXHRpZiAoc3VtID09PSAwKVxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHRpc0luZGV4TGFiZWxQcmVzZW50ID0gaXNJbmRleExhYmVsUHJlc2VudCB8fCAodHlwZW9mIChkYXRhU2VyaWVzLmluZGV4TGFiZWwpICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGFTZXJpZXMuaW5kZXhMYWJlbCAhPT0gbnVsbCAmJiBkYXRhU2VyaWVzLmluZGV4TGFiZWwudG9TdHJpbmcoKS5sZW5ndGggPiAwKTtcclxuXHJcblx0dmFyIG91dGVyUmFkaXVzID0gZGF0YVNlcmllcy5pbmRleExhYmVsUGxhY2VtZW50ICE9PSBcImluc2lkZVwiICYmIGlzSW5kZXhMYWJlbFByZXNlbnQgPyAoTWF0aC5taW4ocGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCkgKiAwLjc1KSAvIDIgOiAoTWF0aC5taW4ocGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCkgKiAuOTIpIC8gMjtcclxuXHJcblx0aWYgKGRhdGFTZXJpZXMucmFkaXVzKVxyXG5cdFx0b3V0ZXJSYWRpdXMgPSBjb252ZXJ0UGVyY2VudFRvVmFsdWUoZGF0YVNlcmllcy5yYWRpdXMsIG91dGVyUmFkaXVzKTtcclxuXHJcblxyXG5cdHZhciBpbm5lclJhZGl1cyA9ICh0eXBlb2YgZGF0YVNlcmllcy5pbm5lclJhZGl1cyAhPT0gJ3VuZGVmaW5lZCcgJiYgZGF0YVNlcmllcy5pbm5lclJhZGl1cyAhPT0gbnVsbCkgPyBjb252ZXJ0UGVyY2VudFRvVmFsdWUoZGF0YVNlcmllcy5pbm5lclJhZGl1cywgb3V0ZXJSYWRpdXMpIDogMC43ICogb3V0ZXJSYWRpdXM7XHJcblxyXG5cdHZhciBwZXJjZW50SW5uZXJSYWRpdXMgPSBNYXRoLm1pbihpbm5lclJhZGl1cyAvIG91dGVyUmFkaXVzLCAob3V0ZXJSYWRpdXMgLSAxKSAvIG91dGVyUmFkaXVzKTtcclxuXHJcblx0ZnVuY3Rpb24gaW5pdExhYmVscygpIHtcclxuXHJcblx0XHRpZiAoIWRhdGFTZXJpZXMgfHwgIWRhdGFQb2ludHMpXHJcblx0XHRcdHJldHVybjtcclxuXHJcblxyXG5cdFx0dmFyIG5vRFBOZWFyU291dGhQb2xlID0gMDtcclxuXHRcdHZhciBub0RQTmVhck5vcnRoUG9sZSA9IDA7XHJcblx0XHR2YXIgZmlyc3REUENsb3NlVG9Tb3V0aCA9IDA7XHJcblx0XHR2YXIgZmlyc3REUENsb3NlVG9Ob3J0aCA9IDA7XHJcblxyXG5cdFx0Zm9yIChqID0gMDsgaiA8IGRhdGFQb2ludHMubGVuZ3RoOyBqKyspIHtcclxuXHJcblx0XHRcdHZhciBkYXRhUG9pbnQgPSBkYXRhUG9pbnRzW2pdO1xyXG5cdFx0XHR2YXIgaWQgPSBkYXRhU2VyaWVzLmRhdGFQb2ludElkc1tqXTtcclxuXHJcblx0XHRcdHZhciBkYXRhUG9pbnRFTyA9IHtcclxuXHRcdFx0XHRpZDogaWQsIG9iamVjdFR5cGU6IFwiZGF0YVBvaW50XCIsIGRhdGFQb2ludEluZGV4OiBqLCBkYXRhU2VyaWVzSW5kZXg6IDBcclxuXHRcdFx0fTtcclxuXHRcdFx0ZGF0YVBvaW50RU9zLnB1c2goZGF0YVBvaW50RU8pO1xyXG5cclxuXHRcdFx0dmFyIHBlcmNlbnRBbmRUb3RhbCA9IHtcclxuXHRcdFx0XHRwZXJjZW50OiBudWxsLCB0b3RhbDogbnVsbFxyXG5cdFx0XHR9O1xyXG5cdFx0XHR2YXIgZm9ybWF0dGVyUGFyYW1ldGVyID0gbnVsbDtcclxuXHJcblx0XHRcdHBlcmNlbnRBbmRUb3RhbCA9IF90aGlzLmdldFBlcmNlbnRBbmRUb3RhbChkYXRhU2VyaWVzLCBkYXRhUG9pbnQpO1xyXG5cclxuXHRcdFx0aWYgKGRhdGFTZXJpZXMuaW5kZXhMYWJlbEZvcm1hdHRlciB8fCBkYXRhUG9pbnQuaW5kZXhMYWJlbEZvcm1hdHRlcilcclxuXHRcdFx0XHRmb3JtYXR0ZXJQYXJhbWV0ZXIgPSB7XHJcblx0XHRcdFx0XHRjaGFydDogX3RoaXMuX29wdGlvbnMsIGRhdGFTZXJpZXM6IGRhdGFTZXJpZXMsIGRhdGFQb2ludDogZGF0YVBvaW50LCB0b3RhbDogcGVyY2VudEFuZFRvdGFsLnRvdGFsLCBwZXJjZW50OiBwZXJjZW50QW5kVG90YWwucGVyY2VudFxyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHR2YXIgaW5kZXhMYWJlbFRleHQgPSBkYXRhUG9pbnQuaW5kZXhMYWJlbEZvcm1hdHRlciA/IGRhdGFQb2ludC5pbmRleExhYmVsRm9ybWF0dGVyKGZvcm1hdHRlclBhcmFtZXRlcilcclxuXHRcdFx0XHRcdFx0XHRcdFx0OiBkYXRhUG9pbnQuaW5kZXhMYWJlbCA/IF90aGlzLnJlcGxhY2VLZXl3b3Jkc1dpdGhWYWx1ZShkYXRhUG9pbnQuaW5kZXhMYWJlbCwgZGF0YVBvaW50LCBkYXRhU2VyaWVzLCBqKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ6IGRhdGFTZXJpZXMuaW5kZXhMYWJlbEZvcm1hdHRlciA/IGRhdGFTZXJpZXMuaW5kZXhMYWJlbEZvcm1hdHRlcihmb3JtYXR0ZXJQYXJhbWV0ZXIpXHJcblx0XHRcdFx0XHRcdFx0XHRcdDogZGF0YVNlcmllcy5pbmRleExhYmVsID8gX3RoaXMucmVwbGFjZUtleXdvcmRzV2l0aFZhbHVlKGRhdGFTZXJpZXMuaW5kZXhMYWJlbCwgZGF0YVBvaW50LCBkYXRhU2VyaWVzLCBqKSA6IGRhdGFQb2ludC5sYWJlbCA/IGRhdGFQb2ludC5sYWJlbCA6ICcnO1xyXG5cclxuXHJcblx0XHRcdF90aGlzLl9ldmVudE1hbmFnZXIub2JqZWN0TWFwW2lkXSA9IGRhdGFQb2ludEVPO1xyXG5cclxuXHRcdFx0Ly9kYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dCA9IGoudG9TdHJpbmcoKSArIFwiIFwiICsgXCJraW5nZmlzaGVyOiBcIiArIGRhdGFQb2ludC55LnRvU3RyaW5nKCk7O1xyXG5cdFx0XHRkYXRhUG9pbnRFTy5jZW50ZXIgPSB7XHJcblx0XHRcdFx0eDogY2VudGVyLngsIHk6IGNlbnRlci55XHJcblx0XHRcdH07XHJcblx0XHRcdGRhdGFQb2ludEVPLnkgPSBkYXRhUG9pbnQueTtcclxuXHRcdFx0ZGF0YVBvaW50RU8ucmFkaXVzID0gb3V0ZXJSYWRpdXM7XHJcblx0XHRcdGRhdGFQb2ludEVPLnBlcmNlbnRJbm5lclJhZGl1cyA9IHBlcmNlbnRJbm5lclJhZGl1cztcclxuXHRcdFx0ZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHQgPSBpbmRleExhYmVsVGV4dDtcclxuXHRcdFx0ZGF0YVBvaW50RU8uaW5kZXhMYWJlbFBsYWNlbWVudCA9IGRhdGFTZXJpZXMuaW5kZXhMYWJlbFBsYWNlbWVudDtcclxuXHRcdFx0ZGF0YVBvaW50RU8uaW5kZXhMYWJlbExpbmVDb2xvciA9IGRhdGFQb2ludC5pbmRleExhYmVsTGluZUNvbG9yID8gZGF0YVBvaW50LmluZGV4TGFiZWxMaW5lQ29sb3IgOiBkYXRhU2VyaWVzLmluZGV4TGFiZWxMaW5lQ29sb3IgPyBkYXRhU2VyaWVzLmluZGV4TGFiZWxMaW5lQ29sb3IgOiBkYXRhUG9pbnQuY29sb3IgPyBkYXRhUG9pbnQuY29sb3IgOiBkYXRhU2VyaWVzLl9jb2xvclNldFtqICUgZGF0YVNlcmllcy5fY29sb3JTZXQubGVuZ3RoXTtcclxuXHRcdFx0ZGF0YVBvaW50RU8uaW5kZXhMYWJlbExpbmVUaGlja25lc3MgPSBkYXRhUG9pbnQuaW5kZXhMYWJlbExpbmVUaGlja25lc3MgPyBkYXRhUG9pbnQuaW5kZXhMYWJlbExpbmVUaGlja25lc3MgOiBkYXRhU2VyaWVzLmluZGV4TGFiZWxMaW5lVGhpY2tuZXNzO1xyXG5cdFx0XHRkYXRhUG9pbnRFTy5pbmRleExhYmVsTGluZURhc2hUeXBlID0gZGF0YVBvaW50LmluZGV4TGFiZWxMaW5lRGFzaFR5cGUgPyBkYXRhUG9pbnQuaW5kZXhMYWJlbExpbmVEYXNoVHlwZSA6IGRhdGFTZXJpZXMuaW5kZXhMYWJlbExpbmVEYXNoVHlwZTtcclxuXHRcdFx0ZGF0YVBvaW50RU8uaW5kZXhMYWJlbEZvbnRDb2xvciA9IGRhdGFQb2ludC5pbmRleExhYmVsRm9udENvbG9yID8gZGF0YVBvaW50LmluZGV4TGFiZWxGb250Q29sb3IgOiBkYXRhU2VyaWVzLmluZGV4TGFiZWxGb250Q29sb3I7XHJcblx0XHRcdGRhdGFQb2ludEVPLmluZGV4TGFiZWxGb250U3R5bGUgPSBkYXRhUG9pbnQuaW5kZXhMYWJlbEZvbnRTdHlsZSA/IGRhdGFQb2ludC5pbmRleExhYmVsRm9udFN0eWxlIDogZGF0YVNlcmllcy5pbmRleExhYmVsRm9udFN0eWxlO1xyXG5cdFx0XHRkYXRhUG9pbnRFTy5pbmRleExhYmVsRm9udFdlaWdodCA9IGRhdGFQb2ludC5pbmRleExhYmVsRm9udFdlaWdodCA/IGRhdGFQb2ludC5pbmRleExhYmVsRm9udFdlaWdodCA6IGRhdGFTZXJpZXMuaW5kZXhMYWJlbEZvbnRXZWlnaHQ7XHJcblx0XHRcdGRhdGFQb2ludEVPLmluZGV4TGFiZWxGb250U2l6ZSA9IGRhdGFQb2ludC5pbmRleExhYmVsRm9udFNpemUgPyBkYXRhUG9pbnQuaW5kZXhMYWJlbEZvbnRTaXplIDogZGF0YVNlcmllcy5pbmRleExhYmVsRm9udFNpemU7XHJcblx0XHRcdGRhdGFQb2ludEVPLmluZGV4TGFiZWxGb250RmFtaWx5ID0gZGF0YVBvaW50LmluZGV4TGFiZWxGb250RmFtaWx5ID8gZGF0YVBvaW50LmluZGV4TGFiZWxGb250RmFtaWx5IDogZGF0YVNlcmllcy5pbmRleExhYmVsRm9udEZhbWlseTtcclxuXHRcdFx0ZGF0YVBvaW50RU8uaW5kZXhMYWJlbEJhY2tncm91bmRDb2xvciA9IGRhdGFQb2ludC5pbmRleExhYmVsQmFja2dyb3VuZENvbG9yID8gZGF0YVBvaW50LmluZGV4TGFiZWxCYWNrZ3JvdW5kQ29sb3IgOiBkYXRhU2VyaWVzLmluZGV4TGFiZWxCYWNrZ3JvdW5kQ29sb3IgPyBkYXRhU2VyaWVzLmluZGV4TGFiZWxCYWNrZ3JvdW5kQ29sb3IgOiBudWxsO1xyXG5cdFx0XHRkYXRhUG9pbnRFTy5pbmRleExhYmVsTWF4V2lkdGggPSBkYXRhUG9pbnQuaW5kZXhMYWJlbE1heFdpZHRoID8gZGF0YVBvaW50LmluZGV4TGFiZWxNYXhXaWR0aCA6IGRhdGFTZXJpZXMuaW5kZXhMYWJlbE1heFdpZHRoID8gZGF0YVNlcmllcy5pbmRleExhYmVsTWF4V2lkdGggOiBwbG90QXJlYS53aWR0aCAqIC4zMztcclxuXHRcdFx0ZGF0YVBvaW50RU8uaW5kZXhMYWJlbFdyYXAgPSB0eXBlb2YgKGRhdGFQb2ludC5pbmRleExhYmVsV3JhcCkgIT09IFwidW5kZWZpbmVkXCIgPyBkYXRhUG9pbnQuaW5kZXhMYWJlbFdyYXAgOiBkYXRhU2VyaWVzLmluZGV4TGFiZWxXcmFwO1xyXG5cclxuXHRcdFx0ZGF0YVBvaW50RU8uc3RhcnRBbmdsZSA9IGogPT09IDAgPyBkYXRhU2VyaWVzLnN0YXJ0QW5nbGUgPyAoZGF0YVNlcmllcy5zdGFydEFuZ2xlIC8gMTgwKSAqIE1hdGguUEkgOiAwIDogZGF0YVBvaW50RU9zW2ogLSAxXS5lbmRBbmdsZTtcclxuXHJcblx0XHRcdGRhdGFQb2ludEVPLnN0YXJ0QW5nbGUgPSAoZGF0YVBvaW50RU8uc3RhcnRBbmdsZSArICgyICogTWF0aC5QSSkpICUgKDIgKiBNYXRoLlBJKTtcclxuXHJcblx0XHRcdGRhdGFQb2ludEVPLmVuZEFuZ2xlID0gZGF0YVBvaW50RU8uc3RhcnRBbmdsZSArICgoMiAqIE1hdGguUEkgLyBzdW0pICogTWF0aC5hYnMoZGF0YVBvaW50LnkpKTtcclxuXHJcblx0XHRcdC8vdmFyIG1pZEFuZ2xlID0gZGF0YVBvaW50RU8uc3RhcnRBbmdsZSArIE1hdGguYWJzKGRhdGFQb2ludEVPLmVuZEFuZ2xlIC0gZGF0YVBvaW50RU8uc3RhcnRBbmdsZSkgLyAyO1xyXG5cdFx0XHR2YXIgbWlkQW5nbGUgPSAoZGF0YVBvaW50RU8uZW5kQW5nbGUgKyBkYXRhUG9pbnRFTy5zdGFydEFuZ2xlKSAvIDI7XHJcblxyXG5cdFx0XHQvL3ZhciBtaWRBbmdsZSA9ICgxODAgLyBNYXRoLlBJICogbWlkQW5nbGUpO1xyXG5cclxuXHRcdFx0bWlkQW5nbGUgPSAobWlkQW5nbGUgKyAoMiAqIE1hdGguUEkpKSAlICgyICogTWF0aC5QSSk7XHJcblxyXG5cdFx0XHRkYXRhUG9pbnRFTy5taWRBbmdsZSA9IG1pZEFuZ2xlO1xyXG5cclxuXHRcdFx0aWYgKGRhdGFQb2ludEVPLm1pZEFuZ2xlID4gKE1hdGguUEkgLyAyKSAtIHBvbGVBbmdsdWxhckRpc3RhbmNlICYmIGRhdGFQb2ludEVPLm1pZEFuZ2xlIDwgKE1hdGguUEkgLyAyKSArIHBvbGVBbmdsdWxhckRpc3RhbmNlKSB7XHJcblx0XHRcdFx0aWYgKG5vRFBOZWFyU291dGhQb2xlID09PSAwIHx8IGRhdGFQb2ludEVPc1tmaXJzdERQQ2xvc2VUb1NvdXRoXS5taWRBbmdsZSA+IGRhdGFQb2ludEVPLm1pZEFuZ2xlKVxyXG5cdFx0XHRcdFx0Zmlyc3REUENsb3NlVG9Tb3V0aCA9IGo7XHJcblxyXG5cdFx0XHRcdG5vRFBOZWFyU291dGhQb2xlKys7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSBpZiAoZGF0YVBvaW50RU8ubWlkQW5nbGUgPiAoMyAqIE1hdGguUEkgLyAyKSAtIHBvbGVBbmdsdWxhckRpc3RhbmNlICYmIGRhdGFQb2ludEVPLm1pZEFuZ2xlIDwgKDMgKiBNYXRoLlBJIC8gMikgKyBwb2xlQW5nbHVsYXJEaXN0YW5jZSkge1xyXG5cdFx0XHRcdGlmIChub0RQTmVhck5vcnRoUG9sZSA9PT0gMCB8fCBkYXRhUG9pbnRFT3NbZmlyc3REUENsb3NlVG9Ob3J0aF0ubWlkQW5nbGUgPiBkYXRhUG9pbnRFTy5taWRBbmdsZSlcclxuXHRcdFx0XHRcdGZpcnN0RFBDbG9zZVRvTm9ydGggPSBqO1xyXG5cclxuXHRcdFx0XHRub0RQTmVhck5vcnRoUG9sZSsrO1xyXG5cdFx0XHR9XHJcblxyXG5cclxuXHRcdFx0aWYgKG1pZEFuZ2xlID4gKE1hdGguUEkgLyAyKSAmJiBtaWRBbmdsZSA8PSAoMyAqIE1hdGguUEkgLyAyKSlcclxuXHRcdFx0XHRkYXRhUG9pbnRFTy5oZW1pc3BoZXJlID0gXCJsZWZ0XCI7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRkYXRhUG9pbnRFTy5oZW1pc3BoZXJlID0gXCJyaWdodFwiO1xyXG5cclxuXHRcdFx0Ly9kYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dCA9IGoudG9TdHJpbmcoKSArIFwiOyBcIiArIGRhdGFQb2ludC55LnRvU3RyaW5nKCkgKyBcIjsgXCIgKyBtaWRBbmdsZS50b1N0cmluZygpICsgXCI7IGp1bmtcIjtcclxuXHRcdFx0ZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jayA9IG5ldyBUZXh0QmxvY2soX3RoaXMucGxvdEFyZWEuY3R4LCB7XHJcblx0XHRcdFx0Zm9udFNpemU6IGRhdGFQb2ludEVPLmluZGV4TGFiZWxGb250U2l6ZSwgZm9udEZhbWlseTogZGF0YVBvaW50RU8uaW5kZXhMYWJlbEZvbnRGYW1pbHksIGZvbnRDb2xvcjogZGF0YVBvaW50RU8uaW5kZXhMYWJlbEZvbnRDb2xvcixcclxuXHRcdFx0XHRmb250U3R5bGU6IGRhdGFQb2ludEVPLmluZGV4TGFiZWxGb250U3R5bGUsIGZvbnRXZWlnaHQ6IGRhdGFQb2ludEVPLmluZGV4TGFiZWxGb250V2VpZ2h0LFxyXG5cdFx0XHRcdGhvcml6b250YWxBbGlnbjogXCJsZWZ0XCIsXHJcblx0XHRcdFx0YmFja2dyb3VuZENvbG9yOiBkYXRhUG9pbnRFTy5pbmRleExhYmVsQmFja2dyb3VuZENvbG9yLFxyXG5cdFx0XHRcdG1heFdpZHRoOiBkYXRhUG9pbnRFTy5pbmRleExhYmVsTWF4V2lkdGgsIG1heEhlaWdodDogZGF0YVBvaW50RU8uaW5kZXhMYWJlbFdyYXAgPyBkYXRhUG9pbnRFTy5pbmRleExhYmVsRm9udFNpemUgKiA1IDogZGF0YVBvaW50RU8uaW5kZXhMYWJlbEZvbnRTaXplICogMS41LFxyXG5cdFx0XHRcdHRleHQ6IGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0LFxyXG5cdFx0XHRcdHBhZGRpbmc6IDAsXHJcblx0XHRcdFx0Ly90ZXh0QmFzZWxpbmU6IGRhdGFQb2ludEVPLmluZGV4TGFiZWxCYWNrZ3JvdW5kQ29sb3IgPyBcIm1pZGRsZVwiIDogXCJ0b3BcIlxyXG5cdFx0XHRcdHRleHRCYXNlbGluZTogXCJ0b3BcIlxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2subWVhc3VyZVRleHQoKTtcclxuXHJcblx0XHRcdC8vZGF0YVBvaW50LmxhYmVsV2lkdGggPSBjdHgubWVhc3VyZVRleHQoai50b1N0cmluZygpICsgXCI7IFwiICsgZGF0YVBvaW50LmxhYmVsKS53aWR0aDtcclxuXHJcblx0XHRcdC8vY29uc29sZS5sb2coZGF0YVBvaW50LmxhYmVsKTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgbm9PZkRQVG9SaWdodE9mU291dGhQb2xlID0gMDtcclxuXHRcdHZhciBub09mRFBUb0xlZnRPZk5vcnRoUG9sZSA9IDA7XHJcblx0XHR2YXIga2VlcFNhbWVEaXJlY3Rpb24gPSBmYWxzZTsgLy8gb25jZSBhIGRhdGFQb2ludCdzIGhlbWlzcGhlcmUgaXMgY2hhbmdlZCwgb3RoZXJzIHNob3VsZCBmb2xsb3cgdGhlIHNhbWUgc28gdGhhdCB0aGVyZSBhcmUgbm8gbGFiZXMgbmVhciBwb2xlIHBvaW50aW5nIGluIG9wcG9zaXRlIGRpcmVjdGlvbi5cclxuXHJcblx0XHRmb3IgKGogPSAwOyBqIDwgZGF0YVBvaW50cy5sZW5ndGg7IGorKykge1xyXG5cclxuXHRcdFx0dmFyIGRhdGFQb2ludEVPID0gZGF0YVBvaW50RU9zWyhmaXJzdERQQ2xvc2VUb1NvdXRoICsgaikgJSBkYXRhUG9pbnRzLmxlbmd0aF07XHJcblxyXG5cdFx0XHRpZiAobm9EUE5lYXJTb3V0aFBvbGUgPiAxICYmIGRhdGFQb2ludEVPLm1pZEFuZ2xlID4gKE1hdGguUEkgLyAyKSAtIHBvbGVBbmdsdWxhckRpc3RhbmNlICYmIGRhdGFQb2ludEVPLm1pZEFuZ2xlIDwgKE1hdGguUEkgLyAyKSArIHBvbGVBbmdsdWxhckRpc3RhbmNlKSB7XHJcblxyXG5cdFx0XHRcdGlmIChub09mRFBUb1JpZ2h0T2ZTb3V0aFBvbGUgPD0gbm9EUE5lYXJTb3V0aFBvbGUgLyAyICYmICFrZWVwU2FtZURpcmVjdGlvbikge1xyXG5cdFx0XHRcdFx0ZGF0YVBvaW50RU8uaGVtaXNwaGVyZSA9IFwicmlnaHRcIjtcclxuXHRcdFx0XHRcdG5vT2ZEUFRvUmlnaHRPZlNvdXRoUG9sZSsrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdGRhdGFQb2ludEVPLmhlbWlzcGhlcmUgPSBcImxlZnRcIjtcclxuXHRcdFx0XHRcdGtlZXBTYW1lRGlyZWN0aW9uID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRrZWVwU2FtZURpcmVjdGlvbiA9IGZhbHNlO1xyXG5cdFx0Zm9yIChqID0gMDsgaiA8IGRhdGFQb2ludHMubGVuZ3RoOyBqKyspIHtcclxuXHJcblx0XHRcdHZhciBkYXRhUG9pbnRFTyA9IGRhdGFQb2ludEVPc1soZmlyc3REUENsb3NlVG9Ob3J0aCArIGopICUgZGF0YVBvaW50cy5sZW5ndGhdO1xyXG5cclxuXHRcdFx0Ly9pZiAoZGF0YVBvaW50LmhlbWlzcGhlcmUgPSBcInJpZ2h0XCIpXHJcblx0XHRcdC8vXHRicmVhaztcclxuXHJcblx0XHRcdGlmIChub0RQTmVhck5vcnRoUG9sZSA+IDEgJiYgZGF0YVBvaW50RU8ubWlkQW5nbGUgPiAoMyAqIE1hdGguUEkgLyAyKSAtIHBvbGVBbmdsdWxhckRpc3RhbmNlICYmIGRhdGFQb2ludEVPLm1pZEFuZ2xlIDwgKDMgKiBNYXRoLlBJIC8gMikgKyBwb2xlQW5nbHVsYXJEaXN0YW5jZSkge1xyXG5cclxuXHRcdFx0XHRpZiAobm9PZkRQVG9MZWZ0T2ZOb3J0aFBvbGUgPD0gbm9EUE5lYXJOb3J0aFBvbGUgLyAyICYmICFrZWVwU2FtZURpcmVjdGlvbikge1xyXG5cdFx0XHRcdFx0ZGF0YVBvaW50RU8uaGVtaXNwaGVyZSA9IFwibGVmdFwiO1xyXG5cdFx0XHRcdFx0bm9PZkRQVG9MZWZ0T2ZOb3J0aFBvbGUrKztcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRkYXRhUG9pbnRFTy5oZW1pc3BoZXJlID0gXCJyaWdodFwiO1xyXG5cdFx0XHRcdFx0a2VlcFNhbWVEaXJlY3Rpb24gPSB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0vL0VuZCBvZiBpbml0TGFiZWxzKClcclxuXHJcblx0ZnVuY3Rpb24gcmVuZGVyTGFiZWxzKCkge1xyXG5cclxuXHRcdHZhciBjdHggPSBfdGhpcy5wbG90QXJlYS5jdHg7XHJcblx0XHRjdHguZmlsbFN0eWxlID0gXCJibGFja1wiO1xyXG5cdFx0Y3R4LnN0cm9rZVN0eWxlID0gXCJncmV5XCI7XHJcblx0XHR2YXIgZm9udFNpemUgPSAxNjtcclxuXHRcdC8vY3R4LmZvbnQgPSBmb250U2l6ZSArIFwicHggQXJpYWxcIjtcclxuXHRcdGN0eC50ZXh0QmFzZWxpbmUgPSBcIm1pZGRsZVwiO1xyXG5cdFx0Y3R4LmxpbmVKb2luID0gXCJyb3VuZFwiO1xyXG5cdFx0dmFyIGkgPSAwLCBqID0gMDtcclxuXHJcblx0XHRmb3IgKGkgPSAwOyBpIDwgZGF0YVBvaW50cy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgZGF0YVBvaW50RU8gPSBkYXRhUG9pbnRFT3NbaV07XHJcblxyXG5cdFx0XHRpZiAoIWRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0KVxyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cclxuXHRcdFx0ZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay55IC09IGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2suaGVpZ2h0IC8gMjtcclxuXHJcblx0XHRcdHZhciB4T2Zmc2V0ID0gMDtcclxuXHJcblx0XHRcdGlmIChkYXRhUG9pbnRFTy5oZW1pc3BoZXJlID09PSBcImxlZnRcIikge1xyXG5cdFx0XHRcdHZhciB4T2Zmc2V0ID0gZGF0YVNlcmllcy5pbmRleExhYmVsUGxhY2VtZW50ICE9PSBcImluc2lkZVwiID8gLShkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLndpZHRoICsgaW5kZXhMYWJlbExpbmVFZGdlTGVuZ3RoKSA6IC1kYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLndpZHRoIC8gMjtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHR2YXIgeE9mZnNldCA9IGRhdGFTZXJpZXMuaW5kZXhMYWJlbFBsYWNlbWVudCAhPT0gXCJpbnNpZGVcIiA/IGluZGV4TGFiZWxMaW5lRWRnZUxlbmd0aCA6IC1kYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLndpZHRoIC8gMjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay54ICs9IHhPZmZzZXQ7XHJcblx0XHRcdGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sucmVuZGVyKHRydWUpO1xyXG5cdFx0XHRkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLnggLT0geE9mZnNldDtcclxuXHJcblx0XHRcdC8vaWYgKGkgPCA0KVxyXG5cdFx0XHQvL1x0Y3VzdG9tUHJvbXB0KGkgKyBcIjsgXCIgKyBjZW50ZXIueSArIFwiOyBcIiArIGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sueS50b0ZpeGVkKDIpKTtcclxuXHJcblx0XHRcdGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sueSArPSBkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLmhlaWdodCAvIDI7XHJcblxyXG5cdFx0XHRpZiAoZGF0YVBvaW50RU8uaW5kZXhMYWJlbFBsYWNlbWVudCAhPT0gXCJpbnNpZGVcIikge1xyXG5cdFx0XHRcdHZhciBpbmRleExhYmVsTGluZVN0YXJ0WCA9IGRhdGFQb2ludEVPLmNlbnRlci54ICsgb3V0ZXJSYWRpdXMgKiBNYXRoLmNvcyhkYXRhUG9pbnRFTy5taWRBbmdsZSk7XHJcblx0XHRcdFx0dmFyIGluZGV4TGFiZWxMaW5lU3RhcnRZID0gZGF0YVBvaW50RU8uY2VudGVyLnkgKyBvdXRlclJhZGl1cyAqIE1hdGguc2luKGRhdGFQb2ludEVPLm1pZEFuZ2xlKTtcclxuXHJcblx0XHRcdFx0Ly9jdHguc3Ryb2tlU3R5bGUgPSBkYXRhUG9pbnRzW2ldLmNvbG9yID8gZGF0YVBvaW50c1tpXS5jb2xvciA6IGRhdGFTZXJpZXMuX2NvbG9yU2V0W2kgJSBkYXRhU2VyaWVzLl9jb2xvclNldC5sZW5ndGhdO1xyXG5cdFx0XHRcdGN0eC5zdHJva2VTdHlsZSA9IGRhdGFQb2ludEVPLmluZGV4TGFiZWxMaW5lQ29sb3I7XHJcblx0XHRcdFx0Y3R4LmxpbmVXaWR0aCA9IGRhdGFQb2ludEVPLmluZGV4TGFiZWxMaW5lVGhpY2tuZXNzO1xyXG5cclxuXHRcdFx0XHRpZiAoY3R4LnNldExpbmVEYXNoKSB7XHJcblx0XHRcdFx0XHRjdHguc2V0TGluZURhc2goZ2V0TGluZURhc2hBcnJheShkYXRhUG9pbnRFTy5pbmRleExhYmVsTGluZURhc2hUeXBlLCBkYXRhUG9pbnRFTy5pbmRleExhYmVsTGluZVRoaWNrbmVzcykpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly9jdHgubGluZVdpZHRoID0gNDtcclxuXHRcdFx0XHRjdHguYmVnaW5QYXRoKCk7XHJcblx0XHRcdFx0Y3R4Lm1vdmVUbyhpbmRleExhYmVsTGluZVN0YXJ0WCwgaW5kZXhMYWJlbExpbmVTdGFydFkpO1xyXG5cdFx0XHRcdGN0eC5saW5lVG8oZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay54LCBkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLnkpO1xyXG5cdFx0XHRcdGN0eC5saW5lVG8oZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay54ICsgKGRhdGFQb2ludEVPLmhlbWlzcGhlcmUgPT09IFwibGVmdFwiID8gLWluZGV4TGFiZWxMaW5lRWRnZUxlbmd0aCA6IGluZGV4TGFiZWxMaW5lRWRnZUxlbmd0aCksIGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sueSk7XHJcblx0XHRcdFx0Y3R4LnN0cm9rZSgpO1xyXG5cdFx0XHRcdC8vY3R4LmNsb3NlUGF0aCgpO1xyXG5cdFx0XHRcdC8vd2luZG93LmFsZXJ0KFwiY29udGluZT8/XCIpO1xyXG5cdFx0XHRcdC8vYW5pbWF0ZSgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjdHgubGluZUpvaW4gPSBcIm1pdGVyXCI7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBhbmltYXRlKGZyYWN0aW9uQ29tcGxldGUpIHtcclxuXHJcblx0XHR2YXIgY3R4ID0gX3RoaXMucGxvdEFyZWEuY3R4O1xyXG5cclxuXHRcdGN0eC5jbGVhclJlY3QocGxvdEFyZWEueDEsIHBsb3RBcmVhLnkxLCBwbG90QXJlYS53aWR0aCwgcGxvdEFyZWEuaGVpZ2h0KTtcclxuXHRcdGN0eC5maWxsU3R5bGUgPSBfdGhpcy5iYWNrZ3JvdW5kQ29sb3I7XHJcblx0XHRjdHguZmlsbFJlY3QocGxvdEFyZWEueDEsIHBsb3RBcmVhLnkxLCBwbG90QXJlYS53aWR0aCwgcGxvdEFyZWEuaGVpZ2h0KTtcclxuXHJcblx0XHR2YXIgbWF4QW5nbGUgPSBkYXRhUG9pbnRFT3NbMF0uc3RhcnRBbmdsZSArICgyICogTWF0aC5QSSAqIGZyYWN0aW9uQ29tcGxldGUpO1xyXG5cclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YVBvaW50cy5sZW5ndGg7IGkrKykge1xyXG5cclxuXHRcdFx0dmFyIHN0YXJ0QW5nbGUgPSBpID09PSAwID8gZGF0YVBvaW50RU9zW2ldLnN0YXJ0QW5nbGUgOiBlbmRBbmdsZTtcclxuXHRcdFx0dmFyIGVuZEFuZ2xlID0gc3RhcnRBbmdsZSArIChkYXRhUG9pbnRFT3NbaV0uZW5kQW5nbGUgLSBkYXRhUG9pbnRFT3NbaV0uc3RhcnRBbmdsZSk7XHJcblxyXG5cdFx0XHR2YXIgc2hvdWxkQnJlYWsgPSBmYWxzZTtcclxuXHJcblx0XHRcdGlmIChlbmRBbmdsZSA+IG1heEFuZ2xlKSB7XHJcblx0XHRcdFx0ZW5kQW5nbGUgPSBtYXhBbmdsZTtcclxuXHRcdFx0XHRzaG91bGRCcmVhayA9IHRydWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZhciBjb2xvciA9IGRhdGFQb2ludHNbaV0uY29sb3IgPyBkYXRhUG9pbnRzW2ldLmNvbG9yIDogZGF0YVNlcmllcy5fY29sb3JTZXRbaSAlIGRhdGFTZXJpZXMuX2NvbG9yU2V0Lmxlbmd0aF07XHJcblxyXG5cdFx0XHRpZiAoZW5kQW5nbGUgPiBzdGFydEFuZ2xlKVxyXG5cdFx0XHRcdGRyYXdTZWdtZW50KF90aGlzLnBsb3RBcmVhLmN0eCwgZGF0YVBvaW50RU9zW2ldLmNlbnRlciwgZGF0YVBvaW50RU9zW2ldLnJhZGl1cywgY29sb3IsIGRhdGFTZXJpZXMudHlwZSwgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGRhdGFTZXJpZXMuZmlsbE9wYWNpdHksIGRhdGFQb2ludEVPc1tpXS5wZXJjZW50SW5uZXJSYWRpdXMpO1xyXG5cclxuXHRcdFx0aWYgKHNob3VsZEJyZWFrKVxyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gZXhwbG9kZVRvZ2dsZShmcmFjdGlvbkNvbXBsZXRlKSB7XHJcblxyXG5cdFx0dmFyIGN0eCA9IF90aGlzLnBsb3RBcmVhLmN0eDtcclxuXHJcblx0XHRjdHguY2xlYXJSZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XHJcblx0XHRjdHguZmlsbFN0eWxlID0gX3RoaXMuYmFja2dyb3VuZENvbG9yO1xyXG5cdFx0Y3R4LmZpbGxSZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XHJcblxyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhUG9pbnRzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG5cdFx0XHR2YXIgc3RhcnRBbmdsZSA9IGRhdGFQb2ludEVPc1tpXS5zdGFydEFuZ2xlO1xyXG5cdFx0XHR2YXIgZW5kQW5nbGUgPSBkYXRhUG9pbnRFT3NbaV0uZW5kQW5nbGU7XHJcblxyXG5cdFx0XHRpZiAoZW5kQW5nbGUgPiBzdGFydEFuZ2xlKSB7XHJcblxyXG5cclxuXHRcdFx0XHR2YXIgb2Zmc2V0WCA9IChvdXRlclJhZGl1cyAqIC4wNyAqIE1hdGguY29zKGRhdGFQb2ludEVPc1tpXS5taWRBbmdsZSkpO1xyXG5cdFx0XHRcdHZhciBvZmZzZXRZID0gKG91dGVyUmFkaXVzICogLjA3ICogTWF0aC5zaW4oZGF0YVBvaW50RU9zW2ldLm1pZEFuZ2xlKSk7XHJcblx0XHRcdFx0dmFyIGlzSW5UcmFuc2l0aW9uID0gZmFsc2U7XHJcblxyXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLmV4cGxvZGVkKSB7XHJcblx0XHRcdFx0XHRpZiAoTWF0aC5hYnMoZGF0YVBvaW50RU9zW2ldLmNlbnRlci54IC0gKGNlbnRlci54ICsgb2Zmc2V0WCkpID4gMC4wMDAwMDAwMDEgfHwgTWF0aC5hYnMoZGF0YVBvaW50RU9zW2ldLmNlbnRlci55IC0gKGNlbnRlci55ICsgb2Zmc2V0WSkpID4gMC4wMDAwMDAwMDEpIHtcclxuXHJcblx0XHRcdFx0XHRcdGRhdGFQb2ludEVPc1tpXS5jZW50ZXIueCA9IGNlbnRlci54ICsgb2Zmc2V0WCAqIGZyYWN0aW9uQ29tcGxldGU7XHJcblx0XHRcdFx0XHRcdGRhdGFQb2ludEVPc1tpXS5jZW50ZXIueSA9IGNlbnRlci55ICsgb2Zmc2V0WSAqIGZyYWN0aW9uQ29tcGxldGU7XHJcblxyXG5cdFx0XHRcdFx0XHRpc0luVHJhbnNpdGlvbiA9IHRydWU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIGlmIChNYXRoLmFicyhkYXRhUG9pbnRFT3NbaV0uY2VudGVyLnggLSBjZW50ZXIueCkgPiAwIHx8IE1hdGguYWJzKGRhdGFQb2ludEVPc1tpXS5jZW50ZXIueSAtIGNlbnRlci55KSA+IDApIHtcclxuXHRcdFx0XHRcdGRhdGFQb2ludEVPc1tpXS5jZW50ZXIueCA9IGNlbnRlci54ICsgb2Zmc2V0WCAqICgxIC0gZnJhY3Rpb25Db21wbGV0ZSk7XHJcblx0XHRcdFx0XHRkYXRhUG9pbnRFT3NbaV0uY2VudGVyLnkgPSBjZW50ZXIueSArIG9mZnNldFkgKiAoMSAtIGZyYWN0aW9uQ29tcGxldGUpO1xyXG5cclxuXHRcdFx0XHRcdGlzSW5UcmFuc2l0aW9uID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmIChpc0luVHJhbnNpdGlvbikge1xyXG5cdFx0XHRcdFx0dmFyIGVudHJ5ID0ge1xyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdGVudHJ5LmRhdGFTZXJpZXMgPSBkYXRhU2VyaWVzO1xyXG5cdFx0XHRcdFx0ZW50cnkuZGF0YVBvaW50ID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzW2ldO1xyXG5cdFx0XHRcdFx0ZW50cnkuaW5kZXggPSBpO1xyXG5cdFx0XHRcdFx0X3RoaXMuX3Rvb2xUaXAuaGlnaGxpZ2h0T2JqZWN0cyhbZW50cnldKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHZhciBjb2xvciA9IGRhdGFQb2ludHNbaV0uY29sb3IgPyBkYXRhUG9pbnRzW2ldLmNvbG9yIDogZGF0YVNlcmllcy5fY29sb3JTZXRbaSAlIGRhdGFTZXJpZXMuX2NvbG9yU2V0Lmxlbmd0aF07XHJcblxyXG5cdFx0XHRcdGRyYXdTZWdtZW50KF90aGlzLnBsb3RBcmVhLmN0eCwgZGF0YVBvaW50RU9zW2ldLmNlbnRlciwgZGF0YVBvaW50RU9zW2ldLnJhZGl1cywgY29sb3IsIGRhdGFTZXJpZXMudHlwZSwgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGRhdGFTZXJpZXMuZmlsbE9wYWNpdHksIGRhdGFQb2ludEVPc1tpXS5wZXJjZW50SW5uZXJSYWRpdXMpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly93aW5kb3cuYWxlcnQoXCJuZXh0Pz9cIik7XHJcblx0XHRyZW5kZXJMYWJlbHMoKTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGFyZURhdGFQb2ludHNUb29DbG9zZShmaXJzdCwgc2Vjb25kKSB7XHJcblxyXG5cdFx0dmFyIGxhYmVsMSA9IHtcclxuXHRcdFx0eDE6IGZpcnN0LmluZGV4TGFiZWxUZXh0QmxvY2sueCwgeTE6IGZpcnN0LmluZGV4TGFiZWxUZXh0QmxvY2sueSAtIGZpcnN0LmluZGV4TGFiZWxUZXh0QmxvY2suaGVpZ2h0IC8gMiwgeDI6IGZpcnN0LmluZGV4TGFiZWxUZXh0QmxvY2sueCArIGZpcnN0LmluZGV4TGFiZWxUZXh0QmxvY2sud2lkdGgsIHkyOiBmaXJzdC5pbmRleExhYmVsVGV4dEJsb2NrLnkgKyBmaXJzdC5pbmRleExhYmVsVGV4dEJsb2NrLmhlaWdodCAvIDJcclxuXHRcdH07XHJcblx0XHR2YXIgbGFiZWwyID0ge1xyXG5cdFx0XHR4MTogc2Vjb25kLmluZGV4TGFiZWxUZXh0QmxvY2sueCwgeTE6IHNlY29uZC5pbmRleExhYmVsVGV4dEJsb2NrLnkgLSBzZWNvbmQuaW5kZXhMYWJlbFRleHRCbG9jay5oZWlnaHQgLyAyLCB4Mjogc2Vjb25kLmluZGV4TGFiZWxUZXh0QmxvY2sueCArIHNlY29uZC5pbmRleExhYmVsVGV4dEJsb2NrLndpZHRoLCB5Mjogc2Vjb25kLmluZGV4TGFiZWxUZXh0QmxvY2sueSArIHNlY29uZC5pbmRleExhYmVsVGV4dEJsb2NrLmhlaWdodCAvIDJcclxuXHRcdH07XHJcblxyXG5cdFx0aWYgKGxhYmVsMS54MiA8IGxhYmVsMi54MSAtIGluZGV4TGFiZWxMaW5lRWRnZUxlbmd0aCB8fCBsYWJlbDEueDEgPiBsYWJlbDIueDIgKyBpbmRleExhYmVsTGluZUVkZ2VMZW5ndGggfHwgbGFiZWwxLnkxID4gbGFiZWwyLnkyICsgaW5kZXhMYWJlbExpbmVFZGdlTGVuZ3RoIHx8IGxhYmVsMS55MiA8IGxhYmVsMi55MSAtIGluZGV4TGFiZWxMaW5lRWRnZUxlbmd0aClcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gZ2V0VmVydGljYWxEaXN0YW5jZUJldHdlZW5MYWJlbHMoZmlyc3QsIHNlY29uZCkge1xyXG5cclxuXHRcdHZhciBkaXN0YW5jZSA9IDA7XHJcblx0XHR2YXIgbGFiZWwxID0ge1xyXG5cdFx0XHR5OiBmaXJzdC5pbmRleExhYmVsVGV4dEJsb2NrLnksIHkxOiBmaXJzdC5pbmRleExhYmVsVGV4dEJsb2NrLnkgLSBmaXJzdC5pbmRleExhYmVsVGV4dEJsb2NrLmhlaWdodCAvIDIsIHkyOiBmaXJzdC5pbmRleExhYmVsVGV4dEJsb2NrLnkgKyBmaXJzdC5pbmRleExhYmVsVGV4dEJsb2NrLmhlaWdodCAvIDJcclxuXHRcdH07XHJcblx0XHR2YXIgbGFiZWwyID0ge1xyXG5cdFx0XHR5OiBzZWNvbmQuaW5kZXhMYWJlbFRleHRCbG9jay55LCB5MTogc2Vjb25kLmluZGV4TGFiZWxUZXh0QmxvY2sueSAtIHNlY29uZC5pbmRleExhYmVsVGV4dEJsb2NrLmhlaWdodCAvIDIsIHkyOiBzZWNvbmQuaW5kZXhMYWJlbFRleHRCbG9jay55ICsgc2Vjb25kLmluZGV4TGFiZWxUZXh0QmxvY2suaGVpZ2h0IC8gMlxyXG5cdFx0fTtcclxuXHJcblx0XHRpZiAobGFiZWwyLnkgPiBsYWJlbDEueSkge1xyXG5cdFx0XHRkaXN0YW5jZSA9IGxhYmVsMi55MSAtIGxhYmVsMS55MjtcclxuXHRcdH1cclxuXHRcdGVsc2Uge1xyXG5cdFx0XHRkaXN0YW5jZSA9IGxhYmVsMS55MSAtIGxhYmVsMi55MjtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gZGlzdGFuY2U7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBnZXROZXh0TGFiZWxJbmRleChjdXJyZW50TGFiZWxJbmRleCkge1xyXG5cdFx0dmFyIG5leHRMYWJlbEluZGV4ID0gbnVsbDtcclxuXHJcblx0XHRmb3IgKHZhciBpID0gMTsgaSA8IGRhdGFQb2ludHMubGVuZ3RoOyBpKyspIHtcclxuXHJcblx0XHRcdG5leHRMYWJlbEluZGV4ID0gKGN1cnJlbnRMYWJlbEluZGV4ICsgaSArIGRhdGFQb2ludEVPcy5sZW5ndGgpICUgZGF0YVBvaW50RU9zLmxlbmd0aDtcclxuXHJcblx0XHRcdGlmIChkYXRhUG9pbnRFT3NbbmV4dExhYmVsSW5kZXhdLmhlbWlzcGhlcmUgIT09IGRhdGFQb2ludEVPc1tjdXJyZW50TGFiZWxJbmRleF0uaGVtaXNwaGVyZSkge1xyXG5cdFx0XHRcdG5leHRMYWJlbEluZGV4ID0gbnVsbDtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIGlmICgoZGF0YVBvaW50RU9zW25leHRMYWJlbEluZGV4XS5pbmRleExhYmVsVGV4dCkgJiYgKG5leHRMYWJlbEluZGV4ICE9PSBjdXJyZW50TGFiZWxJbmRleClcclxuXHRcdFx0XHQmJiAoKGdldFZlcnRpY2FsRGlzdGFuY2VCZXR3ZWVuTGFiZWxzKGRhdGFQb2ludEVPc1tuZXh0TGFiZWxJbmRleF0sIGRhdGFQb2ludEVPc1tjdXJyZW50TGFiZWxJbmRleF0pIDwgMCkgfHwgKGRhdGFQb2ludEVPc1tjdXJyZW50TGFiZWxJbmRleF0uaGVtaXNwaGVyZSA9PT0gXCJyaWdodFwiID8gZGF0YVBvaW50RU9zW25leHRMYWJlbEluZGV4XS5pbmRleExhYmVsVGV4dEJsb2NrLnkgPj0gZGF0YVBvaW50RU9zW2N1cnJlbnRMYWJlbEluZGV4XS5pbmRleExhYmVsVGV4dEJsb2NrLnkgOiBkYXRhUG9pbnRFT3NbbmV4dExhYmVsSW5kZXhdLmluZGV4TGFiZWxUZXh0QmxvY2sueSA8PSBkYXRhUG9pbnRFT3NbY3VycmVudExhYmVsSW5kZXhdLmluZGV4TGFiZWxUZXh0QmxvY2sueSkpKVxyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRuZXh0TGFiZWxJbmRleCA9IG51bGw7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gbmV4dExhYmVsSW5kZXg7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBnZXRQcmV2aW91c0xhYmVsSW5kZXgoY3VycmVudExhYmVsSW5kZXgpIHtcclxuXHRcdHZhciBwcmV2TGFiZWxJbmRleCA9IG51bGw7XHJcblxyXG5cdFx0Zm9yICh2YXIgaSA9IDE7IGkgPCBkYXRhUG9pbnRzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG5cdFx0XHRwcmV2TGFiZWxJbmRleCA9IChjdXJyZW50TGFiZWxJbmRleCAtIGkgKyBkYXRhUG9pbnRFT3MubGVuZ3RoKSAlIGRhdGFQb2ludEVPcy5sZW5ndGg7XHJcblxyXG5cdFx0XHRpZiAoZGF0YVBvaW50RU9zW3ByZXZMYWJlbEluZGV4XS5oZW1pc3BoZXJlICE9PSBkYXRhUG9pbnRFT3NbY3VycmVudExhYmVsSW5kZXhdLmhlbWlzcGhlcmUpIHtcclxuXHRcdFx0XHRwcmV2TGFiZWxJbmRleCA9IG51bGw7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSBpZiAoKGRhdGFQb2ludEVPc1twcmV2TGFiZWxJbmRleF0uaW5kZXhMYWJlbFRleHQpICYmIChkYXRhUG9pbnRFT3NbcHJldkxhYmVsSW5kZXhdLmhlbWlzcGhlcmUgPT09IGRhdGFQb2ludEVPc1tjdXJyZW50TGFiZWxJbmRleF0uaGVtaXNwaGVyZSkgJiYgKHByZXZMYWJlbEluZGV4ICE9PSBjdXJyZW50TGFiZWxJbmRleClcclxuXHRcdFx0XHQmJiAoKGdldFZlcnRpY2FsRGlzdGFuY2VCZXR3ZWVuTGFiZWxzKGRhdGFQb2ludEVPc1twcmV2TGFiZWxJbmRleF0sIGRhdGFQb2ludEVPc1tjdXJyZW50TGFiZWxJbmRleF0pIDwgMCkgfHwgKGRhdGFQb2ludEVPc1tjdXJyZW50TGFiZWxJbmRleF0uaGVtaXNwaGVyZSA9PT0gXCJyaWdodFwiID8gZGF0YVBvaW50RU9zW3ByZXZMYWJlbEluZGV4XS5pbmRleExhYmVsVGV4dEJsb2NrLnkgPD0gZGF0YVBvaW50RU9zW2N1cnJlbnRMYWJlbEluZGV4XS5pbmRleExhYmVsVGV4dEJsb2NrLnkgOiBkYXRhUG9pbnRFT3NbcHJldkxhYmVsSW5kZXhdLmluZGV4TGFiZWxUZXh0QmxvY2sueSA+PSBkYXRhUG9pbnRFT3NbY3VycmVudExhYmVsSW5kZXhdLmluZGV4TGFiZWxUZXh0QmxvY2sueSkpKVxyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRwcmV2TGFiZWxJbmRleCA9IG51bGw7XHJcblx0XHRcdH1cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHByZXZMYWJlbEluZGV4O1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gcmVQb3NpdGlvbkxhYmVscyhkYXRhUG9pbnRJbmRleCwgb2Zmc2V0KSB7XHJcblx0XHRvZmZzZXQgPSBvZmZzZXQgfHwgMDtcclxuXHJcblx0XHR2YXIgYWN0dWFsT2Zmc2V0ID0gMDtcclxuXHJcblx0XHQvL3ZhciBsYWJlbFlNaW4gPSAyO1xyXG5cdFx0Ly92YXIgbGFiZWxZTWF4ID0gY3R4LmNhbnZhcy5oZWlnaHQgLSAyO1xyXG5cdFx0Ly92YXIgbGFiZWxZTWluID0gX3RoaXMucGxvdEFyZWEuY3R4LmNhbnZhcy5oZWlnaHQgLyAyIC0gaW5kZXhMYWJlbFJhZGl1cyAqIDE7XHJcblx0XHQvL3ZhciBsYWJlbFlNYXggPSBfdGhpcy5wbG90QXJlYS5jdHguY2FudmFzLmhlaWdodCAvIDIgKyBpbmRleExhYmVsUmFkaXVzICogMTtcclxuXHJcblx0XHR2YXIgbGFiZWxZTWluID0gY2VudGVyLnkgLSBpbmRleExhYmVsUmFkaXVzICogMTtcclxuXHRcdHZhciBsYWJlbFlNYXggPSBjZW50ZXIueSArIGluZGV4TGFiZWxSYWRpdXMgKiAxO1xyXG5cclxuXHRcdC8vY29uc29sZS5sb2codG90YWxSZWN1cnNpb25zKTtcclxuXHJcblx0XHRpZiAoZGF0YVBvaW50SW5kZXggPj0gMCAmJiBkYXRhUG9pbnRJbmRleCA8IGRhdGFQb2ludHMubGVuZ3RoKSB7XHJcblxyXG5cdFx0XHR2YXIgZGF0YVBvaW50RU8gPSBkYXRhUG9pbnRFT3NbZGF0YVBvaW50SW5kZXhdO1xyXG5cdFx0XHQvL2lmIChkYXRhUG9pbnRJbmRleCA9PT0gMClcclxuXHRcdFx0Ly9cdGN1c3RvbVByb21wdChsYWJlbFlNaW4udG9GaXhlZCgyKSArIFwiOyBcIiArIGxhYmVsWU1heC50b0ZpeGVkKDIpICsgXCI7IFwiICsgZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay55LnRvRml4ZWQoMikpO1xyXG5cclxuXHRcdFx0Ly8gSWYgbGFiZWwgaXMgYWxyZWFkeSBvdXRzaWRlIHRoZSBib3VuZHMsIHJldHVyblxyXG5cdFx0XHRpZiAoKG9mZnNldCA8IDAgJiYgZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay55IDwgbGFiZWxZTWluKSB8fCAob2Zmc2V0ID4gMCAmJiBkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLnkgPiBsYWJlbFlNYXgpKVxyXG5cdFx0XHRcdHJldHVybiAwO1xyXG5cclxuXHJcblx0XHRcdHZhciB2YWxpZE9mZnNldCA9IG9mZnNldDtcclxuXHJcblxyXG5cdFx0XHQvL0NoZWNrIGlmIHRoZSBvZmZzZXQgZmFsbHMgd2l0aGluIHRoZSBib3VuZHMgKGxhYmVsWU1pbiwgbGFiZWxZTWF4LCB0YW5nZW50aWFsIGJvdW5kcykgd2l0aG91dCBjb25zaWRlcmluZyBvdmVybGFwLiBFbHNlIHVzZSB0aGUgY2xvc2VzdCBvZmZzZXQgdGhhdCBpcyBwb3NzaWJsZSAtIHZhbGlkT2Zmc2V0LlxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dmFyIGRpc3RGcm9tSW5kZXhMaW5lU3RhcnQgPSAwO1xyXG5cdFx0XHRcdHZhciBpbmRleExhYmVsTGluZVN0YXJ0WCA9IDA7XHJcblx0XHRcdFx0dmFyIGluZGV4TGFiZWxMaW5lU3RhcnRZID0gMDtcclxuXHRcdFx0XHR2YXIgaW5kZXhMYWJlbEFuZ2xlID0gMDtcclxuXHRcdFx0XHR2YXIgaW5kZXhMYWJlbEFuZ2xlV2hlblRhbmdlbnQgPSAwO1xyXG5cclxuXHRcdFx0XHRpZiAodmFsaWRPZmZzZXQgPCAwKSB7XHJcblx0XHRcdFx0XHRpZiAoZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay55IC0gZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay5oZWlnaHQgLyAyID4gbGFiZWxZTWluICYmIGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sueSAtIGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2suaGVpZ2h0IC8gMiArIHZhbGlkT2Zmc2V0IDwgbGFiZWxZTWluKVxyXG5cdFx0XHRcdFx0XHR2YWxpZE9mZnNldCA9IC0obGFiZWxZTWluIC0gKGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sueSAtIGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2suaGVpZ2h0IC8gMiArIHZhbGlkT2Zmc2V0KSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGlmIChkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLnkgKyBkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLmhlaWdodCAvIDIgPCBsYWJlbFlNaW4gJiYgZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay55ICsgZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay5oZWlnaHQgLyAyICsgdmFsaWRPZmZzZXQgPiBsYWJlbFlNYXgpXHJcblx0XHRcdFx0XHRcdHZhbGlkT2Zmc2V0ID0gKGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sueSArIGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2suaGVpZ2h0IC8gMiArIHZhbGlkT2Zmc2V0KSAtIGxhYmVsWU1heDtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHZhciBuZXdsYWJlbFkgPSBkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLnkgKyB2YWxpZE9mZnNldDtcclxuXHRcdFx0XHR2YXIgbmV3bGFiZWxYID0gMDtcclxuXHJcblx0XHRcdFx0aWYgKGRhdGFQb2ludEVPLmhlbWlzcGhlcmUgPT09IFwicmlnaHRcIikge1xyXG5cdFx0XHRcdFx0bmV3bGFiZWxYID0gY2VudGVyLnggKyBNYXRoLnNxcnQoTWF0aC5wb3coaW5kZXhMYWJlbFJhZGl1cywgMikgLSBNYXRoLnBvdyhuZXdsYWJlbFkgLSBjZW50ZXIueSwgMikpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRuZXdsYWJlbFggPSBjZW50ZXIueCAtIE1hdGguc3FydChNYXRoLnBvdyhpbmRleExhYmVsUmFkaXVzLCAyKSAtIE1hdGgucG93KG5ld2xhYmVsWSAtIGNlbnRlci55LCAyKSk7XHJcblxyXG5cclxuXHRcdFx0XHRpbmRleExhYmVsTGluZVN0YXJ0WCA9IGNlbnRlci54ICsgb3V0ZXJSYWRpdXMgKiBNYXRoLmNvcyhkYXRhUG9pbnRFTy5taWRBbmdsZSk7XHJcblx0XHRcdFx0aW5kZXhMYWJlbExpbmVTdGFydFkgPSBjZW50ZXIueSArIG91dGVyUmFkaXVzICogTWF0aC5zaW4oZGF0YVBvaW50RU8ubWlkQW5nbGUpO1xyXG5cclxuXHRcdFx0XHRkaXN0RnJvbUluZGV4TGluZVN0YXJ0ID0gTWF0aC5zcXJ0KE1hdGgucG93KG5ld2xhYmVsWCAtIGluZGV4TGFiZWxMaW5lU3RhcnRYLCAyKSArIE1hdGgucG93KG5ld2xhYmVsWSAtIGluZGV4TGFiZWxMaW5lU3RhcnRZLCAyKSk7XHJcblxyXG5cdFx0XHRcdGluZGV4TGFiZWxBbmdsZVdoZW5UYW5nZW50ID0gTWF0aC5hY29zKG91dGVyUmFkaXVzIC8gaW5kZXhMYWJlbFJhZGl1cyk7XHJcblxyXG5cdFx0XHRcdC8vaW5kZXhMYWJlbEFuZ2xlID0gTWF0aC5hY29zKChvdXRlclJhZGl1cyAqIG91dGVyUmFkaXVzICsgZGlzdEZyb21JbmRleExpbmVTdGFydCAqIGRpc3RGcm9tSW5kZXhMaW5lU3RhcnQgLSBpbmRleExhYmVsUmFkaXVzICogaW5kZXhMYWJlbFJhZGl1cykgLyAoMiAqIG91dGVyUmFkaXVzICogZGlzdEZyb21JbmRleExpbmVTdGFydCkpO1xyXG5cdFx0XHRcdGluZGV4TGFiZWxBbmdsZSA9IE1hdGguYWNvcygoaW5kZXhMYWJlbFJhZGl1cyAqIGluZGV4TGFiZWxSYWRpdXMgKyBvdXRlclJhZGl1cyAqIG91dGVyUmFkaXVzIC0gZGlzdEZyb21JbmRleExpbmVTdGFydCAqIGRpc3RGcm9tSW5kZXhMaW5lU3RhcnQpIC8gKDIgKiBvdXRlclJhZGl1cyAqIGluZGV4TGFiZWxSYWRpdXMpKTtcclxuXHJcblx0XHRcdFx0aWYgKGluZGV4TGFiZWxBbmdsZSA8IGluZGV4TGFiZWxBbmdsZVdoZW5UYW5nZW50KSB7XHJcblx0XHRcdFx0XHR2YWxpZE9mZnNldCA9IG5ld2xhYmVsWSAtIGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sueTtcclxuXHRcdFx0XHRcdC8vZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay54ID0gbmV3bGFiZWxYO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIHtcclxuXHJcblx0XHRcdFx0XHR2YWxpZE9mZnNldCA9IDA7XHJcblxyXG5cdFx0XHRcdFx0Ly9kYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLnggPSBuZXdsYWJlbFg7XHJcblxyXG5cdFx0XHRcdFx0Ly9JbmRleCBMaW5lIGlzIG92ZXJsYXBwaW5nIHRoZSBwaWUuIFNvIGxldHMgZmluZCBvdXQgdGhlIHBvaW50IHdoZXJlIGluZGV4bGluZSBiZWNvbWVzIGEgdGFuZ2VudC5cclxuXHJcblx0XHRcdFx0XHQvL2Rpc3RGcm9tSW5kZXhMaW5lU3RhcnQgPSBNYXRoLnNxcnQoaW5kZXhMYWJlbFJhZGl1cyAqIGluZGV4TGFiZWxSYWRpdXMgLSBvdXRlclJhZGl1cyAqIG91dGVyUmFkaXVzKTtcclxuXHRcdFx0XHRcdC8vLy9kaXN0RnJvbUluZGV4TGluZVN0YXJ0ICo9IG9mZnNldCA8IDAgPyAtMSA6IDE7XHJcblx0XHRcdFx0XHQvLy8vaW5kZXhMYWJlbEFuZ2xlID0gTWF0aC5hY29zKChpbmRleExhYmVsUmFkaXVzICogaW5kZXhMYWJlbFJhZGl1cyArIG91dGVyUmFkaXVzICogb3V0ZXJSYWRpdXMgLSBkaXN0RnJvbUluZGV4TGluZVN0YXJ0ICogZGlzdEZyb21JbmRleExpbmVTdGFydCkgLyAoMiAqIG91dGVyUmFkaXVzICogaW5kZXhMYWJlbFJhZGl1cykpO1xyXG5cdFx0XHRcdFx0Ly9pbmRleExhYmVsQW5nbGUgPSBNYXRoLmF0YW4yKGRpc3RGcm9tSW5kZXhMaW5lU3RhcnQsIG91dGVyUmFkaXVzKTtcclxuXHJcblx0XHRcdFx0XHQvL25ld2xhYmVsWCA9IGNlbnRlci54ICsgaW5kZXhMYWJlbFJhZGl1cyAqIE1hdGguY29zKGluZGV4TGFiZWxBbmdsZSk7XHJcblx0XHRcdFx0XHQvL25ld2xhYmVsWSA9IGNlbnRlci55ICsgaW5kZXhMYWJlbFJhZGl1cyAqIE1hdGguc2luKGluZGV4TGFiZWxBbmdsZSk7XHJcblxyXG5cdFx0XHRcdFx0Ly9hY3R1YWxPZmZzZXQgPSBuZXdsYWJlbFkgLSBkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLnk7XHJcblxyXG5cdFx0XHRcdFx0Ly9kYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLnkgPSBuZXdsYWJlbFk7XHJcblx0XHRcdFx0XHQvL2RhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sueCA9IG5ld2xhYmVsWDtcclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly92YXIgdGVtcEluZGV4ID0gKGRhdGFQb2ludEluZGV4ICsgZGF0YVBvaW50RU9zLmxlbmd0aCAtIDEpICUgZGF0YVBvaW50RU9zLmxlbmd0aDtcclxuXHJcblx0XHRcdC8vdmFyIHByZXZEYXRhUG9pbnRJbmRleCA9IGRhdGFQb2ludEVPc1t0ZW1wSW5kZXhdLmhlbWlzcGhlcmUgPT09IGRhdGFQb2ludEVPLmhlbWlzcGhlcmUgPyB0ZW1wSW5kZXggOiBudWxsO1xyXG5cclxuXHRcdFx0dmFyIHByZXZEYXRhUG9pbnRJbmRleCA9IGdldFByZXZpb3VzTGFiZWxJbmRleChkYXRhUG9pbnRJbmRleCk7XHJcblxyXG5cdFx0XHQvL3RlbXBJbmRleCA9IChkYXRhUG9pbnRJbmRleCArIGRhdGFQb2ludEVPcy5sZW5ndGggKyAxKSAlIGRhdGFQb2ludEVPcy5sZW5ndGg7XHJcblxyXG5cdFx0XHQvL3ZhciBuZXh0RGF0YVBvaW50SW5kZXggPSBkYXRhUG9pbnRFT3NbdGVtcEluZGV4XS5oZW1pc3BoZXJlID09PSBkYXRhUG9pbnRFTy5oZW1pc3BoZXJlID8gdGVtcEluZGV4IDogbnVsbDtcclxuXHJcblx0XHRcdHZhciBuZXh0RGF0YVBvaW50SW5kZXggPSBnZXROZXh0TGFiZWxJbmRleChkYXRhUG9pbnRJbmRleCk7XHJcblxyXG5cdFx0XHR2YXIgb3RoZXJkYXRhUG9pbnRFTywgb3RoZXJEYXRhUG9pbnRJbmRleCwgZGlzdGFuY2VGcm9tT3RoZXJMYWJlbDtcclxuXHRcdFx0dmFyIG90aGVyRGF0YVBvaW50T2Zmc2V0ID0gMDtcclxuXHRcdFx0dmFyIG90aGVyRGF0YVBvaW50QWN0dWFsT2Zmc2V0ID0gMDtcclxuXHJcblxyXG5cdFx0XHRpZiAodmFsaWRPZmZzZXQgPCAwKSB7XHJcblxyXG5cdFx0XHRcdG90aGVyRGF0YVBvaW50SW5kZXggPSBkYXRhUG9pbnRFTy5oZW1pc3BoZXJlID09PSBcInJpZ2h0XCIgPyBwcmV2RGF0YVBvaW50SW5kZXggOiBuZXh0RGF0YVBvaW50SW5kZXg7XHJcblxyXG5cdFx0XHRcdGFjdHVhbE9mZnNldCA9IHZhbGlkT2Zmc2V0O1xyXG5cclxuXHRcdFx0XHRpZiAob3RoZXJEYXRhUG9pbnRJbmRleCAhPT0gbnVsbCkge1xyXG5cclxuXHRcdFx0XHRcdC8vaWYgKGRhdGFQb2ludEluZGV4IDwgNClcclxuXHRcdFx0XHRcdC8vXHRjdXN0b21Qcm9tcHQoXCJ2YWxpZDogXCIgKyB2YWxpZE9mZnNldCk7XHJcblxyXG5cdFx0XHRcdFx0dmFyIHRlbXBPZmZzZXQgPSAtdmFsaWRPZmZzZXQ7XHJcblxyXG5cdFx0XHRcdFx0dmFyIGRpc3RhbmNlRnJvbU90aGVyTGFiZWwgPSAoZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay55IC0gZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay5oZWlnaHQgLyAyKSAtIChkYXRhUG9pbnRFT3Nbb3RoZXJEYXRhUG9pbnRJbmRleF0uaW5kZXhMYWJlbFRleHRCbG9jay55ICsgZGF0YVBvaW50RU9zW290aGVyRGF0YVBvaW50SW5kZXhdLmluZGV4TGFiZWxUZXh0QmxvY2suaGVpZ2h0IC8gMik7XHJcblxyXG5cdFx0XHRcdFx0aWYgKGRpc3RhbmNlRnJvbU90aGVyTGFiZWwgLSB0ZW1wT2Zmc2V0IDwgbWluRGlzdGFuY2VCZXR3ZWVuTGFiZWxzKSB7XHJcblx0XHRcdFx0XHRcdG90aGVyRGF0YVBvaW50T2Zmc2V0ID0gLXRlbXBPZmZzZXQ7XHJcblx0XHRcdFx0XHRcdC8vdG90YWxSZWN1cnNpb25zKys7XHJcblx0XHRcdFx0XHRcdG90aGVyRGF0YVBvaW50QWN0dWFsT2Zmc2V0ID0gcmVQb3NpdGlvbkxhYmVscyhvdGhlckRhdGFQb2ludEluZGV4LCBvdGhlckRhdGFQb2ludE9mZnNldCwgcmVjdXJzaW9uQ291bnQgKyAxKTtcclxuXHJcblx0XHRcdFx0XHRcdC8vaWYgKGRhdGFQb2ludEluZGV4IDwgNClcclxuXHRcdFx0XHRcdFx0Ly9cdGN1c3RvbVByb21wdChkYXRhUG9pbnRJbmRleCArIFwiOyBcIiArIFwib2Zmc2V0OiBcIiArIG90aGVyRGF0YVBvaW50T2Zmc2V0KTtcclxuXHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoK290aGVyRGF0YVBvaW50QWN0dWFsT2Zmc2V0LnRvRml4ZWQocHJlY2lzaW9uKSA+ICtvdGhlckRhdGFQb2ludE9mZnNldC50b0ZpeGVkKHByZWNpc2lvbikpIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0aWYgKGRpc3RhbmNlRnJvbU90aGVyTGFiZWwgPiBtaW5EaXN0YW5jZUJldHdlZW5MYWJlbHMpXHJcblx0XHRcdFx0XHRcdFx0XHRhY3R1YWxPZmZzZXQgPSAtKGRpc3RhbmNlRnJvbU90aGVyTGFiZWwgLSBtaW5EaXN0YW5jZUJldHdlZW5MYWJlbHMpO1xyXG5cdFx0XHRcdFx0XHRcdFx0Ly9lbHNlXHJcblx0XHRcdFx0XHRcdFx0XHQvL1x0YWN0dWFsT2Zmc2V0ID0gMDtcclxuXHRcdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0XHRhY3R1YWxPZmZzZXQgPSAtKHRlbXBPZmZzZXQgLSAob3RoZXJEYXRhUG9pbnRBY3R1YWxPZmZzZXQgLSBvdGhlckRhdGFQb2ludE9mZnNldCkpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHQvL2lmIChkYXRhUG9pbnRJbmRleCA8IDQpXHJcblx0XHRcdFx0XHRcdC8vXHRjdXN0b21Qcm9tcHQoXCJhY3R1YWw6IFwiICsgYWN0dWFsT2Zmc2V0KTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fSBlbHNlIGlmICh2YWxpZE9mZnNldCA+IDApIHtcclxuXHJcblx0XHRcdFx0b3RoZXJEYXRhUG9pbnRJbmRleCA9IGRhdGFQb2ludEVPLmhlbWlzcGhlcmUgPT09IFwicmlnaHRcIiA/IG5leHREYXRhUG9pbnRJbmRleCA6IHByZXZEYXRhUG9pbnRJbmRleDtcclxuXHJcblx0XHRcdFx0YWN0dWFsT2Zmc2V0ID0gdmFsaWRPZmZzZXQ7XHJcblxyXG5cdFx0XHRcdGlmIChvdGhlckRhdGFQb2ludEluZGV4ICE9PSBudWxsKSB7XHJcblxyXG5cdFx0XHRcdFx0dmFyIHRlbXBPZmZzZXQgPSB2YWxpZE9mZnNldDtcclxuXHJcblx0XHRcdFx0XHR2YXIgZGlzdGFuY2VGcm9tT3RoZXJMYWJlbCA9IChkYXRhUG9pbnRFT3Nbb3RoZXJEYXRhUG9pbnRJbmRleF0uaW5kZXhMYWJlbFRleHRCbG9jay55IC0gZGF0YVBvaW50RU9zW290aGVyRGF0YVBvaW50SW5kZXhdLmluZGV4TGFiZWxUZXh0QmxvY2suaGVpZ2h0IC8gMikgLSAoZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay55ICsgZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay5oZWlnaHQgLyAyKTtcclxuXHJcblx0XHRcdFx0XHRpZiAoZGlzdGFuY2VGcm9tT3RoZXJMYWJlbCAtIHRlbXBPZmZzZXQgPCBtaW5EaXN0YW5jZUJldHdlZW5MYWJlbHMpIHtcclxuXHRcdFx0XHRcdFx0b3RoZXJEYXRhUG9pbnRPZmZzZXQgPSB0ZW1wT2Zmc2V0O1xyXG5cdFx0XHRcdFx0XHQvL3RvdGFsUmVjdXJzaW9ucysrO1xyXG5cdFx0XHRcdFx0XHRvdGhlckRhdGFQb2ludEFjdHVhbE9mZnNldCA9IHJlUG9zaXRpb25MYWJlbHMob3RoZXJEYXRhUG9pbnRJbmRleCwgb3RoZXJEYXRhUG9pbnRPZmZzZXQsIHJlY3Vyc2lvbkNvdW50ICsgMSk7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoK290aGVyRGF0YVBvaW50QWN0dWFsT2Zmc2V0LnRvRml4ZWQocHJlY2lzaW9uKSA8ICtvdGhlckRhdGFQb2ludE9mZnNldC50b0ZpeGVkKHByZWNpc2lvbikpIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0aWYgKGRpc3RhbmNlRnJvbU90aGVyTGFiZWwgPiBtaW5EaXN0YW5jZUJldHdlZW5MYWJlbHMpXHJcblx0XHRcdFx0XHRcdFx0XHRhY3R1YWxPZmZzZXQgPSBkaXN0YW5jZUZyb21PdGhlckxhYmVsIC0gbWluRGlzdGFuY2VCZXR3ZWVuTGFiZWxzO1xyXG5cdFx0XHRcdFx0XHRcdFx0Ly9lbHNlXHJcblx0XHRcdFx0XHRcdFx0XHQvL1x0YWN0dWFsT2Zmc2V0ID0gMDtcclxuXHRcdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0XHRhY3R1YWxPZmZzZXQgPSB0ZW1wT2Zmc2V0IC0gKG90aGVyRGF0YVBvaW50T2Zmc2V0IC0gb3RoZXJEYXRhUG9pbnRBY3R1YWxPZmZzZXQpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly9pZiAoIShkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLnkgKyBkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLmhlaWdodCAvIDIgKyBhY3R1YWxPZmZzZXQgPCBsYWJlbFlNYXgpKSB7XHJcblx0XHRcdFx0Ly9cdGlmIChkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLnkgKyBkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLmhlaWdodCAvIDIgPCBsYWJlbFlNYXgpIHtcclxuXHRcdFx0XHQvL1x0XHRhY3R1YWxPZmZzZXQgPSBsYWJlbFlNYXggLSAoZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay55ICsgZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay5oZWlnaHQgLyAyKTtcclxuXHRcdFx0XHQvL1x0fVxyXG5cdFx0XHRcdC8vXHRlbHNlIHtcclxuXHRcdFx0XHQvL1x0XHRhY3R1YWxPZmZzZXQgPSAwO1xyXG5cdFx0XHRcdC8vXHR9XHJcblx0XHRcdFx0Ly99XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoYWN0dWFsT2Zmc2V0KSB7XHJcblxyXG5cdFx0XHRcdHZhciBuZXdMYWJlbFkgPSBkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLnkgKyBhY3R1YWxPZmZzZXQ7XHJcblxyXG5cclxuXHJcblxyXG5cdFx0XHRcdHZhciBuZXdMYWJlbFggPSAwO1xyXG5cclxuXHRcdFx0XHRpZiAoZGF0YVBvaW50RU8uaGVtaXNwaGVyZSA9PT0gXCJyaWdodFwiKSB7XHJcblx0XHRcdFx0XHRuZXdMYWJlbFggPSBjZW50ZXIueCArIE1hdGguc3FydChNYXRoLnBvdyhpbmRleExhYmVsUmFkaXVzLCAyKSAtIE1hdGgucG93KG5ld0xhYmVsWSAtIGNlbnRlci55LCAyKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdG5ld0xhYmVsWCA9IGNlbnRlci54IC0gTWF0aC5zcXJ0KE1hdGgucG93KGluZGV4TGFiZWxSYWRpdXMsIDIpIC0gTWF0aC5wb3cobmV3TGFiZWxZIC0gY2VudGVyLnksIDIpKTtcclxuXHJcblx0XHRcdFx0aWYgKGRhdGFQb2ludEVPLm1pZEFuZ2xlID4gKE1hdGguUEkgLyAyKSAtIHBvbGVBbmdsdWxhckRpc3RhbmNlICYmIGRhdGFQb2ludEVPLm1pZEFuZ2xlIDwgKE1hdGguUEkgLyAyKSArIHBvbGVBbmdsdWxhckRpc3RhbmNlKSB7XHJcblxyXG5cdFx0XHRcdFx0dmFyIHByZXZEUEluZGV4ID0gKGRhdGFQb2ludEluZGV4IC0gMSArIGRhdGFQb2ludEVPcy5sZW5ndGgpICUgZGF0YVBvaW50RU9zLmxlbmd0aDtcclxuXHRcdFx0XHRcdHZhciBwcmV2RFAgPSBkYXRhUG9pbnRFT3NbcHJldkRQSW5kZXhdO1xyXG5cdFx0XHRcdFx0dmFyIG5leHREUCA9IGRhdGFQb2ludEVPc1soZGF0YVBvaW50SW5kZXggKyAxICsgZGF0YVBvaW50RU9zLmxlbmd0aCkgJSBkYXRhUG9pbnRFT3MubGVuZ3RoXTtcclxuXHJcblx0XHRcdFx0XHRpZiAoZGF0YVBvaW50RU8uaGVtaXNwaGVyZSA9PT0gXCJsZWZ0XCIgJiYgcHJldkRQLmhlbWlzcGhlcmUgPT09IFwicmlnaHRcIiAmJiBuZXdMYWJlbFggPiBwcmV2RFAuaW5kZXhMYWJlbFRleHRCbG9jay54KSB7XHJcblx0XHRcdFx0XHRcdG5ld0xhYmVsWCA9IHByZXZEUC5pbmRleExhYmVsVGV4dEJsb2NrLnggLSAxNTtcclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoZGF0YVBvaW50RU8uaGVtaXNwaGVyZSA9PT0gXCJyaWdodFwiICYmIG5leHREUC5oZW1pc3BoZXJlID09PSBcImxlZnRcIiAmJiBuZXdMYWJlbFggPCBuZXh0RFAuaW5kZXhMYWJlbFRleHRCbG9jay54KSB7XHJcblx0XHRcdFx0XHRcdG5ld0xhYmVsWCA9IG5leHREUC5pbmRleExhYmVsVGV4dEJsb2NrLnggKyAxNTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2UgaWYgKGRhdGFQb2ludEVPLm1pZEFuZ2xlID4gKDMgKiBNYXRoLlBJIC8gMikgLSBwb2xlQW5nbHVsYXJEaXN0YW5jZSAmJiBkYXRhUG9pbnRFTy5taWRBbmdsZSA8ICgzICogTWF0aC5QSSAvIDIpICsgcG9sZUFuZ2x1bGFyRGlzdGFuY2UpIHtcclxuXHJcblx0XHRcdFx0XHR2YXIgcHJldkRQSW5kZXggPSAoZGF0YVBvaW50SW5kZXggLSAxICsgZGF0YVBvaW50RU9zLmxlbmd0aCkgJSBkYXRhUG9pbnRFT3MubGVuZ3RoO1xyXG5cdFx0XHRcdFx0dmFyIHByZXZEUCA9IGRhdGFQb2ludEVPc1twcmV2RFBJbmRleF07XHJcblx0XHRcdFx0XHR2YXIgbmV4dERQID0gZGF0YVBvaW50RU9zWyhkYXRhUG9pbnRJbmRleCArIDEgKyBkYXRhUG9pbnRFT3MubGVuZ3RoKSAlIGRhdGFQb2ludEVPcy5sZW5ndGhdO1xyXG5cclxuXHRcdFx0XHRcdGlmIChkYXRhUG9pbnRFTy5oZW1pc3BoZXJlID09PSBcInJpZ2h0XCIgJiYgcHJldkRQLmhlbWlzcGhlcmUgPT09IFwibGVmdFwiICYmIG5ld0xhYmVsWCA8IHByZXZEUC5pbmRleExhYmVsVGV4dEJsb2NrLngpIHtcclxuXHRcdFx0XHRcdFx0bmV3TGFiZWxYID0gcHJldkRQLmluZGV4TGFiZWxUZXh0QmxvY2sueCArIDE1O1xyXG5cdFx0XHRcdFx0fSBlbHNlIGlmIChkYXRhUG9pbnRFTy5oZW1pc3BoZXJlID09PSBcImxlZnRcIiAmJiBuZXh0RFAuaGVtaXNwaGVyZSA9PT0gXCJyaWdodFwiICYmIG5ld0xhYmVsWCA+IG5leHREUC5pbmRleExhYmVsVGV4dEJsb2NrLngpIHtcclxuXHRcdFx0XHRcdFx0bmV3TGFiZWxYID0gbmV4dERQLmluZGV4TGFiZWxUZXh0QmxvY2sueCAtIDE1O1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly9pZiAoYWN0dWFsT2Zmc2V0IDwgMCAmJiBkYXRhUG9pbnRJbmRleCA8IDQpXHJcblx0XHRcdFx0Ly9cdGN1c3RvbVByb21wdChhY3R1YWxPZmZzZXQudG9GaXhlZCgyKSArIFwiOyBcIiArIGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sueS50b0ZpeGVkKDIpICsgXCI7IFwiICsgbmV3TGFiZWxZLnRvRml4ZWQoMikpO1xyXG5cclxuXHRcdFx0XHRkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLnkgPSBuZXdMYWJlbFk7XHJcblxyXG5cdFx0XHRcdGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sueCA9IG5ld0xhYmVsWDtcclxuXHJcblx0XHRcdFx0ZGF0YVBvaW50RU8uaW5kZXhMYWJlbEFuZ2xlID0gTWF0aC5hdGFuMigoZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay55IC0gY2VudGVyLnkpLCAoZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay54IC0gY2VudGVyLngpKTtcclxuXHJcblx0XHRcdH1cclxuXHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBhY3R1YWxPZmZzZXQ7XHJcblx0fVxyXG5cclxuXHJcblx0ZnVuY3Rpb24gcG9zaXRpb25MYWJlbHMoKSB7XHJcblx0XHR2YXIgY3R4ID0gX3RoaXMucGxvdEFyZWEuY3R4O1xyXG5cclxuXHRcdGN0eC5maWxsU3R5bGUgPSBcImdyZXlcIjtcclxuXHRcdGN0eC5zdHJva2VTdHlsZSA9IFwiZ3JleVwiO1xyXG5cdFx0dmFyIGZvbnRTaXplID0gMTY7XHJcblx0XHRjdHguZm9udCA9IGZvbnRTaXplICsgXCJweCBBcmlhbFwiO1xyXG5cdFx0Y3R4LnRleHRCYXNlbGluZSA9IFwibWlkZGxlXCI7XHJcblx0XHR2YXIgaSA9IDAsIGogPSAwO1xyXG5cdFx0dmFyIGRlbHRhUiA9IDA7XHJcblxyXG5cdFx0dmFyIHJlc2l6ZUZsYWcgPSB0cnVlO1xyXG5cclxuXHRcdGZvciAoaiA9IDA7IGogPCAxMCAmJiAoaiA8IDEgfHwgZGVsdGFSID4gMCkgOyBqKyspIHtcclxuXHJcblx0XHRcdGlmIChkYXRhU2VyaWVzLnJhZGl1cyB8fCAoIWRhdGFTZXJpZXMucmFkaXVzICYmIHR5cGVvZiBkYXRhU2VyaWVzLmlubmVyUmFkaXVzICE9PSAndW5kZWZpbmVkJyAmJiBkYXRhU2VyaWVzLmlubmVyUmFkaXVzICE9PSBudWxsICYmIG91dGVyUmFkaXVzIC0gZGVsdGFSIDw9IGlubmVyUmFkaXVzKSlcclxuXHRcdFx0XHRyZXNpemVGbGFnID0gZmFsc2U7XHJcblxyXG5cdFx0XHRpZiAocmVzaXplRmxhZylcclxuXHRcdFx0b3V0ZXJSYWRpdXMgLT0gZGVsdGFSO1xyXG5cclxuXHRcdFx0ZGVsdGFSID0gMDtcclxuXHJcblx0XHRcdGlmIChkYXRhU2VyaWVzLmluZGV4TGFiZWxQbGFjZW1lbnQgIT09IFwiaW5zaWRlXCIpIHtcclxuXHJcblx0XHRcdFx0dmFyIGluZGV4TGFiZWxSYWRpdXMgPSBvdXRlclJhZGl1cyAqIGluZGV4TGFiZWxSYWRpdXNUb1JhZGl1c1JhdGlvO1xyXG5cclxuXHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgZGF0YVBvaW50cy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0dmFyIGRhdGFQb2ludEVPID0gZGF0YVBvaW50RU9zW2ldO1xyXG5cclxuXHRcdFx0XHRcdGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sueCA9IGNlbnRlci54ICsgaW5kZXhMYWJlbFJhZGl1cyAqIE1hdGguY29zKGRhdGFQb2ludEVPLm1pZEFuZ2xlKTtcclxuXHRcdFx0XHRcdGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sueSA9IGNlbnRlci55ICsgaW5kZXhMYWJlbFJhZGl1cyAqIE1hdGguc2luKGRhdGFQb2ludEVPLm1pZEFuZ2xlKTtcclxuXHJcblx0XHRcdFx0XHRkYXRhUG9pbnRFTy5pbmRleExhYmVsQW5nbGUgPSBkYXRhUG9pbnRFTy5taWRBbmdsZTtcclxuXHRcdFx0XHRcdGRhdGFQb2ludEVPLnJhZGl1cyA9IG91dGVyUmFkaXVzO1xyXG5cdFx0XHRcdFx0ZGF0YVBvaW50RU8ucGVyY2VudElubmVyUmFkaXVzID0gcGVyY2VudElubmVyUmFkaXVzO1xyXG5cdFx0XHRcdFx0Ly9kYXRhUG9pbnRFTy5pbmRleExhYmVsRm9udFNpemUgPSBkYXRhUG9pbnQuaW5kZXhMYWJlbEZvbnRTaXplID8gZGF0YVBvaW50LmluZGV4TGFiZWxGb250U2l6ZSA6IGRhdGFTZXJpZXMuaW5kZXhMYWJlbEZvbnRTaXplO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0dmFyIGN1cnJlbnREYXRhUG9pbnQsIG5leHREYXRhUG9pbnQ7XHJcblx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGRhdGFQb2ludHMubGVuZ3RoOyBpKyspIHtcclxuXHJcblx0XHRcdFx0XHR2YXIgZGF0YVBvaW50RU8gPSBkYXRhUG9pbnRFT3NbaV07XHJcblx0XHRcdFx0XHQvL2RhdGFQb2ludEVPLmxhYlxyXG5cdFx0XHRcdFx0Ly9yZXNldEFuaW1hdGlvbkZyYW1lKCk7XHJcblx0XHRcdFx0XHQvL2FuaW1hdGUoKTtcclxuXHRcdFx0XHRcdC8vcmVuZGVyTGFiZWxzKCk7XHJcblxyXG5cdFx0XHRcdFx0Ly92YXIgcHJldkRhdGFQb2ludEluZGV4ID0gKGkgLSAxICsgZGF0YVBvaW50RU9zLmxlbmd0aCkgJSBkYXRhUG9pbnRFT3MubGVuZ3RoO1xyXG5cclxuXHRcdFx0XHRcdC8vdmFyIG5leHREYXRhUG9pbnRJbmRleCA9IChpICsgMSArIGRhdGFQb2ludEVPcy5sZW5ndGgpICUgZGF0YVBvaW50RU9zLmxlbmd0aDtcclxuXHRcdFx0XHRcdC8vbmV4dERhdGFQb2ludEluZGV4ID0gZGF0YVBvaW50RU9zW25leHREYXRhUG9pbnRJbmRleF0uaGVtaXNwaGVyZSA9PT0gZGF0YVBvaW50RU8uaGVtaXNwaGVyZSAmJiBuZXh0RGF0YVBvaW50SW5kZXggIT09IGkgPyBuZXh0RGF0YVBvaW50SW5kZXggOiBudWxsO1xyXG5cclxuXHRcdFx0XHRcdHZhciBuZXh0RGF0YVBvaW50SW5kZXggPSBnZXROZXh0TGFiZWxJbmRleChpKTtcclxuXHJcblx0XHRcdFx0XHRpZiAobmV4dERhdGFQb2ludEluZGV4ID09PSBudWxsKVxyXG5cdFx0XHRcdFx0XHRjb250aW51ZTtcclxuXHJcblx0XHRcdFx0XHRjdXJyZW50RGF0YVBvaW50ID0gZGF0YVBvaW50RU9zW2ldO1xyXG5cdFx0XHRcdFx0bmV4dERhdGFQb2ludCA9IGRhdGFQb2ludEVPc1tuZXh0RGF0YVBvaW50SW5kZXhdO1xyXG5cclxuXHJcblx0XHRcdFx0XHR2YXIgZGlzdGFuY2VGcm9tTmV4dExhYmVsID0gMDtcclxuXHJcblx0XHRcdFx0XHQvL2lmIChkYXRhUG9pbnRFTy5oZW1pc3BoZXJlID09PSBcInJpZ2h0XCIpXHJcblx0XHRcdFx0XHQvL1x0ZGlzdGFuY2VGcm9tTmV4dExhYmVsID0gKG5leHREYXRhUG9pbnQuaW5kZXhMYWJlbFRleHRCbG9jay55IC0gbmV4dERhdGFQb2ludC5pbmRleExhYmVsVGV4dEJsb2NrLmhlaWdodCAvIDIpIC0gKGN1cnJlbnREYXRhUG9pbnQuaW5kZXhMYWJlbFRleHRCbG9jay55ICsgY3VycmVudERhdGFQb2ludC5pbmRleExhYmVsVGV4dEJsb2NrLmhlaWdodCAvIDIpIC0gbWluRGlzdGFuY2VCZXR3ZWVuTGFiZWxzO1xyXG5cdFx0XHRcdFx0Ly9lbHNlXHJcblx0XHRcdFx0XHQvL1x0ZGlzdGFuY2VGcm9tTmV4dExhYmVsID0gKGN1cnJlbnREYXRhUG9pbnQuaW5kZXhMYWJlbFRleHRCbG9jay55IC0gY3VycmVudERhdGFQb2ludC5pbmRleExhYmVsVGV4dEJsb2NrLmhlaWdodCAvIDIpIC0gKG5leHREYXRhUG9pbnQuaW5kZXhMYWJlbFRleHRCbG9jay55ICsgbmV4dERhdGFQb2ludC5pbmRleExhYmVsVGV4dEJsb2NrLmhlaWdodCAvIDIpIC0gbWluRGlzdGFuY2VCZXR3ZWVuTGFiZWxzO1xyXG5cclxuXHRcdFx0XHRcdGRpc3RhbmNlRnJvbU5leHRMYWJlbCA9IGdldFZlcnRpY2FsRGlzdGFuY2VCZXR3ZWVuTGFiZWxzKGN1cnJlbnREYXRhUG9pbnQsIG5leHREYXRhUG9pbnQpIC0gbWluRGlzdGFuY2VCZXR3ZWVuTGFiZWxzO1xyXG5cclxuXHJcblx0XHRcdFx0XHRpZiAoZGlzdGFuY2VGcm9tTmV4dExhYmVsIDwgMCkge1xyXG5cclxuXHRcdFx0XHRcdFx0dmFyIGRhdGFQb2ludHNBYm92ZSA9IDA7XHJcblx0XHRcdFx0XHRcdHZhciBkYXRhUG9pbnRzQmVsb3cgPSAwO1xyXG5cdFx0XHRcdFx0XHQvL3ZhciBpbmRleExhYmVsQW5nbGVXaGVuVGFuZ2VudCA9IE1hdGguYWNvcyhvdXRlclJhZGl1cyAvIGluZGV4TGFiZWxSYWRpdXMpIC8gTWF0aC5QSSAqIDE4MDtcclxuXHJcblxyXG5cdFx0XHRcdFx0XHRmb3IgKHZhciBrID0gMDsgayA8IGRhdGFQb2ludHMubGVuZ3RoOyBrKyspIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0aWYgKGsgPT09IGkpXHJcblx0XHRcdFx0XHRcdFx0XHRjb250aW51ZTtcclxuXHJcblx0XHRcdFx0XHRcdFx0Ly9pZiAoZGF0YVBvaW50RU9zW2tdLmhlbWlzcGhlcmUgIT09IGRhdGFQb2ludEVPLmhlbWlzcGhlcmUgfHwgTWF0aC5hYnMoZGF0YVBvaW50RU9zW2tdLm1pZEFuZ2xlIC0gZGF0YVBvaW50RU8ubWlkQW5nbGUpID4gMzApXHJcblx0XHRcdFx0XHRcdFx0Ly9cdGNvbnRpbnVlO1xyXG5cdFx0XHRcdFx0XHRcdC8vaWYgKGRhdGFQb2ludEVPc1trXS5oZW1pc3BoZXJlICE9PSBkYXRhUG9pbnRFTy5oZW1pc3BoZXJlIHx8IE1hdGguYWJzKGRhdGFQb2ludEVPc1trXS5sYWJlbEFuZ2xlIC0gZGF0YVBvaW50RU8uaW5kZXhMYWJlbEFuZ2xlKSA+IDMwKVxyXG5cdFx0XHRcdFx0XHRcdC8vXHRjb250aW51ZTtcclxuXHRcdFx0XHRcdFx0XHQvL2lmIChkYXRhUG9pbnRFT3Nba10uaGVtaXNwaGVyZSAhPT0gZGF0YVBvaW50RU8uaGVtaXNwaGVyZSB8fCBNYXRoLmFicyhkYXRhUG9pbnRFT3Nba10ubWlkQW5nbGUgLSBkYXRhUG9pbnRFTy5taWRBbmdsZSkgPiBpbmRleExhYmVsQW5nbGVXaGVuVGFuZ2VudClcclxuXHRcdFx0XHRcdFx0XHQvL1x0Y29udGludWU7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGRhdGFQb2ludEVPc1trXS5oZW1pc3BoZXJlICE9PSBkYXRhUG9pbnRFTy5oZW1pc3BoZXJlKVxyXG5cdFx0XHRcdFx0XHRcdFx0Y29udGludWU7XHJcblxyXG5cdFx0XHRcdFx0XHRcdGlmIChkYXRhUG9pbnRFT3Nba10uaW5kZXhMYWJlbFRleHRCbG9jay55IDwgZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay55KVxyXG5cdFx0XHRcdFx0XHRcdFx0ZGF0YVBvaW50c0Fib3ZlKys7XHJcblx0XHRcdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0ZGF0YVBvaW50c0JlbG93Kys7XHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdC8vdmFyIHVwV2FyZHNPZmZzZXQgPSAoZGlzdGFuY2VGcm9tTmV4dExhYmVsKSAvIGRhdGFQb2ludHMubGVuZ3RoICogKGRhdGFQb2ludHNCZWxvdyk7XHJcblx0XHRcdFx0XHRcdHZhciB1cFdhcmRzT2Zmc2V0ID0gKGRpc3RhbmNlRnJvbU5leHRMYWJlbCkgLyAoZGF0YVBvaW50c0Fib3ZlICsgZGF0YVBvaW50c0JlbG93IHx8IDEpICogKGRhdGFQb2ludHNCZWxvdyk7XHJcblx0XHRcdFx0XHRcdHZhciBkb3duV2FyZHNPZmZzZXQgPSAtMSAqIChkaXN0YW5jZUZyb21OZXh0TGFiZWwgLSB1cFdhcmRzT2Zmc2V0KTtcclxuXHJcblx0XHRcdFx0XHRcdHZhciBhY3R1YWxVcHdhcmRPZmZzZXQgPSAwO1xyXG5cdFx0XHRcdFx0XHR2YXIgYWN0dWFsRG93bndhcmRPZmZzZXQgPSAwO1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgKGRhdGFQb2ludEVPLmhlbWlzcGhlcmUgPT09IFwicmlnaHRcIikge1xyXG5cdFx0XHRcdFx0XHRcdGFjdHVhbFVwd2FyZE9mZnNldCA9IHJlUG9zaXRpb25MYWJlbHMoaSwgdXBXYXJkc09mZnNldCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdC8vaWYgKGkgPCA0ICYmIGFjdHVhbERvd253YXJkT2Zmc2V0ICE9PSB1cFdhcmRzT2Zmc2V0KVxyXG5cdFx0XHRcdFx0XHRcdC8vXHRjdXN0b21Qcm9tcHQoaSArIFwiOyBcIiArIHVwV2FyZHNPZmZzZXQudG9GaXhlZCgyKSArIFwiOyBcIiArIGFjdHVhbFVwd2FyZE9mZnNldC50b0ZpeGVkKDIpKTtcclxuXHJcblxyXG5cdFx0XHRcdFx0XHRcdGRvd25XYXJkc09mZnNldCA9IC0xICogKGRpc3RhbmNlRnJvbU5leHRMYWJlbCAtIGFjdHVhbFVwd2FyZE9mZnNldCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdGFjdHVhbERvd253YXJkT2Zmc2V0ID0gcmVQb3NpdGlvbkxhYmVscyhuZXh0RGF0YVBvaW50SW5kZXgsIGRvd25XYXJkc09mZnNldCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdC8vd2luZG93LmFsZXJ0KHR5cGVvZiArZG93bldhcmRzT2Zmc2V0LnRvRml4ZWQocHJlY2lzaW9uKSk7XHJcblx0XHRcdFx0XHRcdFx0Ly9TZXR0aW5nIHByZWNpc2lvbiB0byBtYWtlIHN1cmUgdGhhdCB0aGV5IGRvbid0IGJlY29tZSBub3QgZXF1YWwgYmVjb21lIG9mIG1pbm9yIGRpZmZlcmVuY2VzIC0gbGlrZSBhIGRpZmZlcmVuY2Ugb2YgLjAwMDAwMVxyXG5cdFx0XHRcdFx0XHRcdGlmICgrYWN0dWFsRG93bndhcmRPZmZzZXQudG9GaXhlZChwcmVjaXNpb24pIDwgK2Rvd25XYXJkc09mZnNldC50b0ZpeGVkKHByZWNpc2lvbikgJiYgK2FjdHVhbFVwd2FyZE9mZnNldC50b0ZpeGVkKHByZWNpc2lvbikgPD0gK3VwV2FyZHNPZmZzZXQudG9GaXhlZChwcmVjaXNpb24pKVxyXG5cdFx0XHRcdFx0XHRcdFx0cmVQb3NpdGlvbkxhYmVscyhpLCAtKGRvd25XYXJkc09mZnNldCAtIGFjdHVhbERvd253YXJkT2Zmc2V0KSk7XHJcblxyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGFjdHVhbFVwd2FyZE9mZnNldCA9IHJlUG9zaXRpb25MYWJlbHMobmV4dERhdGFQb2ludEluZGV4LCB1cFdhcmRzT2Zmc2V0KTtcclxuXHJcblx0XHRcdFx0XHRcdFx0ZG93bldhcmRzT2Zmc2V0ID0gLTEgKiAoZGlzdGFuY2VGcm9tTmV4dExhYmVsIC0gYWN0dWFsVXB3YXJkT2Zmc2V0KTtcclxuXHJcblx0XHRcdFx0XHRcdFx0YWN0dWFsRG93bndhcmRPZmZzZXQgPSByZVBvc2l0aW9uTGFiZWxzKGksIGRvd25XYXJkc09mZnNldCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdC8vU2V0dGluZyBwcmVjaXNpb24gdG8gbWFrZSBzdXJlIHRoYXQgdGhleSBkb24ndCBiZWNvbWUgbm90IGVxdWFsIGJlY29tZSBvZiBtaW5vciBkaWZmZXJlbmNlcyAtIGxpa2UgYSBkaWZmZXJlbmNlIG9mIC4wMDAwMDFcclxuXHRcdFx0XHRcdFx0XHRpZiAoK2FjdHVhbERvd253YXJkT2Zmc2V0LnRvRml4ZWQocHJlY2lzaW9uKSA8ICtkb3duV2FyZHNPZmZzZXQudG9GaXhlZChwcmVjaXNpb24pICYmICthY3R1YWxVcHdhcmRPZmZzZXQudG9GaXhlZChwcmVjaXNpb24pIDw9ICt1cFdhcmRzT2Zmc2V0LnRvRml4ZWQocHJlY2lzaW9uKSlcclxuXHRcdFx0XHRcdFx0XHRcdHJlUG9zaXRpb25MYWJlbHMobmV4dERhdGFQb2ludEluZGV4LCAtKGRvd25XYXJkc09mZnNldCAtIGFjdHVhbERvd253YXJkT2Zmc2V0KSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHRcdFx0Ly9yZXNldEFuaW1hdGlvbkZyYW1lKCk7XHJcblx0XHRcdFx0XHQvL2FuaW1hdGUoKTtcclxuXHRcdFx0XHRcdC8vcmVuZGVyTGFiZWxzKCk7XHJcblx0XHRcdFx0XHQvL3dpbmRvdy5hbGVydChcIm5leHQ/P1wiKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGRhdGFQb2ludHMubGVuZ3RoOyBpKyspIHtcclxuXHJcblx0XHRcdFx0XHR2YXIgZGF0YVBvaW50RU8gPSBkYXRhUG9pbnRFT3NbaV07XHJcblx0XHRcdFx0XHRpbmRleExhYmVsUmFkaXVzID0gZGF0YVNlcmllcy50eXBlID09PSBcInBpZVwiID8gb3V0ZXJSYWRpdXMgKiAuNyA6IG91dGVyUmFkaXVzICogLjg7XHJcblxyXG5cclxuXHRcdFx0XHRcdHZhciBkeCA9IGNlbnRlci54ICsgaW5kZXhMYWJlbFJhZGl1cyAqIChNYXRoLmNvcygoZGF0YVBvaW50RU8ubWlkQW5nbGUpKSk7XHJcblx0XHRcdFx0XHR2YXIgZHkgPSBjZW50ZXIueSArIGluZGV4TGFiZWxSYWRpdXMgKiAoTWF0aC5zaW4oKGRhdGFQb2ludEVPLm1pZEFuZ2xlKSkpO1xyXG5cclxuXHRcdFx0XHRcdGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sueCA9IGR4O1xyXG5cdFx0XHRcdFx0ZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay55ID0gZHk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBSZXNpemUgUGllIGJhc2VkIG9uIHRoZSBsYWJlbCBsZW5ndGguXHJcblx0XHRcdGZvciAoaSA9IDA7IGkgPCBkYXRhUG9pbnRzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG5cdFx0XHRcdGRhdGFQb2ludEVPID0gZGF0YVBvaW50RU9zW2ldO1xyXG5cclxuXHRcdFx0XHR2YXIgc2l6ZSA9IGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2subWVhc3VyZVRleHQoKTtcclxuXHRcdFx0XHQvLyBUbyBtYWtlIHN1cmUgdGhhdCBudWxsIHRleHQgb3IgZW1wdHkgc3RyaW5ncyBkb24ndCBhZmZlY3QgdGhlIHJhZGl1cy4gUmVxdWlyZWQgd2hlbiB1c2VyIGlzIG5vdCBzaG93aW5nIGFueSBsYWJlbHNcclxuXHRcdFx0XHRpZiAoc2l6ZS5oZWlnaHQgPT09IDAgfHwgc2l6ZS53aWR0aCA9PT0gMClcclxuXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cclxuXHRcdFx0XHR2YXIgeE92ZXJmbG93ID0gMDtcclxuXHRcdFx0XHR2YXIgeGRyID0gMDtcclxuXHJcblx0XHRcdFx0aWYgKGRhdGFQb2ludEVPLmhlbWlzcGhlcmUgPT09IFwicmlnaHRcIikge1xyXG5cdFx0XHRcdFx0eE92ZXJmbG93ID0gcGxvdEFyZWEueDIgLSAoZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay54ICsgZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay53aWR0aCArIGluZGV4TGFiZWxMaW5lRWRnZUxlbmd0aCk7XHJcblx0XHRcdFx0XHR4T3ZlcmZsb3cgKj0gLTE7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHhPdmVyZmxvdyA9IHBsb3RBcmVhLngxIC0gKGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sueCAtIGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sud2lkdGggLSBpbmRleExhYmVsTGluZUVkZ2VMZW5ndGgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoeE92ZXJmbG93ID4gMCkge1xyXG5cdFx0XHRcdFx0aWYgKCFyZXNpemVGbGFnICYmIGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0KSB7XHJcblx0XHRcdFx0XHRcdHZhciBuZXdJbmRleExhYmVsTWF4V2lkdGggPSBkYXRhUG9pbnRFTy5oZW1pc3BoZXJlID09PSBcInJpZ2h0XCIgPyBwbG90QXJlYS54MiAtIGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sueCA6IGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sueCAtIHBsb3RBcmVhLngxO1xyXG5cdFx0XHRcdFx0XHRkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLm1heFdpZHRoICogLjMgPiBuZXdJbmRleExhYmVsTWF4V2lkdGggPyBkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dCA9IFwiXCIgOiBkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLm1heFdpZHRoID0gbmV3SW5kZXhMYWJlbE1heFdpZHRoICogLjg1O1xyXG5cdFx0XHRcdFx0XHRpZiAoZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay5tYXhXaWR0aCAqIC4zIDwgbmV3SW5kZXhMYWJlbE1heFdpZHRoKSBkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLnggLT0gZGF0YVBvaW50RU8uaGVtaXNwaGVyZSA9PT0gXCJyaWdodFwiID8gMiA6IC0yO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpZiAoTWF0aC5hYnMoZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay55IC0gZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay5oZWlnaHQgLyAyIC0gY2VudGVyLnkpIDwgb3V0ZXJSYWRpdXNcclxuXHRcdFx0XHRcdFx0fHwgTWF0aC5hYnMoZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay55ICsgZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay5oZWlnaHQgLyAyIC0gY2VudGVyLnkpIDwgb3V0ZXJSYWRpdXMpIHtcclxuXHJcblx0XHRcdFx0XHRcdHhkciA9IHhPdmVyZmxvdyAvIE1hdGguYWJzKE1hdGguY29zKGRhdGFQb2ludEVPLmluZGV4TGFiZWxBbmdsZSkpO1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgKHhkciA+IDkpXHJcblx0XHRcdFx0XHRcdFx0eGRyID0geGRyICogLjM7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoeGRyID4gZGVsdGFSKVxyXG5cdFx0XHRcdFx0XHRcdGRlbHRhUiA9IHhkcjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHZhciB5T3ZlcmZsb3cgPSAwO1xyXG5cdFx0XHRcdHZhciB5ZHIgPSAwO1xyXG5cclxuXHRcdFx0XHRpZiAoZGF0YVBvaW50RU8uaW5kZXhMYWJlbEFuZ2xlID4gMCAmJiBkYXRhUG9pbnRFTy5pbmRleExhYmVsQW5nbGUgPCBNYXRoLlBJKSB7XHJcblx0XHRcdFx0XHR5T3ZlcmZsb3cgPSBwbG90QXJlYS55MiAtIChkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLnkgKyBkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLmhlaWdodCAvIDIgKyA1KTtcclxuXHRcdFx0XHRcdHlPdmVyZmxvdyAqPSAtMTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0eU92ZXJmbG93ID0gcGxvdEFyZWEueTEgLSAoZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay55IC0gZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay5oZWlnaHQgLyAyIC0gNSk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoeU92ZXJmbG93ID4gMCkge1xyXG5cdFx0XHRcdFx0aWYgKCFyZXNpemVGbGFnICYmIGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0KSB7XHJcblx0XHRcdFx0XHRcdHZhciBwb3NpdGlvbk11bHRpcGxpZXIgPSBkYXRhUG9pbnRFTy5pbmRleExhYmVsQW5nbGUgPiAwICYmIGRhdGFQb2ludEVPLmluZGV4TGFiZWxBbmdsZSA8IE1hdGguUEkgPyAtMSA6IDE7XHJcblx0XHRcdFx0XHRcdGlmIChyZVBvc2l0aW9uTGFiZWxzKGksIHlPdmVyZmxvdyAqIHBvc2l0aW9uTXVsdGlwbGllcikgPT09IDApXHJcblx0XHRcdFx0XHRcdFx0cmVQb3NpdGlvbkxhYmVscyhpLCAyICogcG9zaXRpb25NdWx0aXBsaWVyKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGlmIChNYXRoLmFicyhkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLnggLSBjZW50ZXIueCkgPCBvdXRlclJhZGl1cykge1xyXG5cclxuXHRcdFx0XHRcdFx0eWRyID0geU92ZXJmbG93IC8gTWF0aC5hYnMoTWF0aC5zaW4oZGF0YVBvaW50RU8uaW5kZXhMYWJlbEFuZ2xlKSk7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoeWRyID4gOSlcclxuXHRcdFx0XHRcdFx0XHR5ZHIgPSB5ZHIgKiAuMztcclxuXHJcblx0XHRcdFx0XHRcdGlmICh5ZHIgPiBkZWx0YVIpXHJcblx0XHRcdFx0XHRcdFx0ZGVsdGFSID0geWRyO1xyXG5cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiByZW1vdmVMYWJlbHNGb3JTbWFsbFNlZ21lbnRzKHRvdGFsT3ZlcmxhcCwgc3RhcnRJbmRleCwgZW5kSW5kZXgpIHtcclxuXHJcblx0XHRcdFx0dmFyIGRwRU9zID0gW107XHJcblx0XHRcdFx0dmFyIHRvdGFsUmVtb3ZlZExhYmVsSGVpZ2h0ID0gMDtcclxuXHJcblx0XHRcdFx0Zm9yICh2YXIgaSA9IHN0YXJ0SW5kZXg7IHRydWU7IGkgPSAoaSArIDEgKyBkYXRhUG9pbnRzLmxlbmd0aCkgJSBkYXRhUG9pbnRzLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0ZHBFT3MucHVzaChkYXRhUG9pbnRFT3NbaV0pO1xyXG5cclxuXHRcdFx0XHRcdGlmIChpID09PSBlbmRJbmRleClcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRkcEVPcy5zb3J0KGZ1bmN0aW9uIChlbnRyeTEsIGVudHJ5Mikge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGVudHJ5MS55IC0gZW50cnkyLnk7XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBkcEVPcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0dmFyIGRwRU8gPSBkcEVPc1tpXTtcclxuXHJcblx0XHRcdFx0XHRpZiAodG90YWxSZW1vdmVkTGFiZWxIZWlnaHQgPCB0b3RhbE92ZXJsYXAgKiAuNykge1xyXG5cdFx0XHRcdFx0XHR0b3RhbFJlbW92ZWRMYWJlbEhlaWdodCArPSBkcEVPLmluZGV4TGFiZWxUZXh0QmxvY2suaGVpZ2h0O1xyXG5cdFx0XHRcdFx0XHRkcEVPLmluZGV4TGFiZWxUZXh0QmxvY2sudGV4dCA9IFwiXCI7XHJcblx0XHRcdFx0XHRcdGRwRU8uaW5kZXhMYWJlbFRleHQgPSBcIlwiO1xyXG5cdFx0XHRcdFx0XHRkcEVPLmluZGV4TGFiZWxUZXh0QmxvY2subWVhc3VyZVRleHQoKTtcclxuXHRcdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvL3Jlc2V0QW5pbWF0aW9uRnJhbWUoMSk7XHJcblx0XHRcdC8vYW5pbWF0ZSgpO1xyXG5cdFx0XHQvL3dpbmRvdy5hbGVydChcIm5leHQ/P1wiKTtcclxuXHRcdFx0ZnVuY3Rpb24gc2tpcExhYmVscygpIHtcclxuXHRcdFx0dmFyIG92ZXJsYXBTdGFydEluZGV4ID0gLTE7XHJcblx0XHRcdHZhciBvdmVybGFwRW5kSW5kZXggPSAtMTtcclxuXHRcdFx0dmFyIHRvdGFsT3ZlcmxhcCA9IDA7XHJcblx0XHRcdFx0dmFyIHJlbW92ZUxhYmVscyA9IGZhbHNlO1xyXG5cclxuXHRcdFx0Zm9yICh2YXIgayA9IDA7IGsgPCBkYXRhUG9pbnRzLmxlbmd0aDsgaysrKSB7XHJcblx0XHRcdFx0XHRyZW1vdmVMYWJlbHMgPSBmYWxzZTtcclxuXHRcdFx0XHRjdXJyZW50RGF0YVBvaW50ID0gZGF0YVBvaW50RU9zW2tdO1xyXG5cclxuXHRcdFx0XHRpZiAoIWN1cnJlbnREYXRhUG9pbnQuaW5kZXhMYWJlbFRleHQpXHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHJcblx0XHRcdFx0dmFyIG5leHRMYWJlbEluZGV4ID0gZ2V0TmV4dExhYmVsSW5kZXgoayk7XHJcblx0XHRcdFx0aWYgKG5leHRMYWJlbEluZGV4ID09PSBudWxsKVxyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblxyXG5cdFx0XHRcdHZhciBuZXh0RGF0YVBvaW50ID0gZGF0YVBvaW50RU9zW25leHRMYWJlbEluZGV4XTtcclxuXHJcblx0XHRcdFx0ZGlzdGFuY2VGcm9tTmV4dExhYmVsID0gMDtcclxuXHJcblx0XHRcdFx0Ly9pZiAobmV4dERhdGFQb2ludC5pbmRleExhYmVsVGV4dEJsb2NrLnkgPiBjdXJyZW50RGF0YVBvaW50LmluZGV4TGFiZWxUZXh0QmxvY2sueSlcclxuXHRcdFx0XHQvL1x0ZGlzdGFuY2VGcm9tTmV4dExhYmVsID0gKG5leHREYXRhUG9pbnQuaW5kZXhMYWJlbFRleHRCbG9jay55IC0gKG5leHREYXRhUG9pbnQuaW5kZXhMYWJlbFRleHRCbG9jay5oZWlnaHQgLyAyKSkgLSAoY3VycmVudERhdGFQb2ludC5pbmRleExhYmVsVGV4dEJsb2NrLnkgKyAoY3VycmVudERhdGFQb2ludC5pbmRleExhYmVsVGV4dEJsb2NrLmhlaWdodCAvIDIpKTtcclxuXHRcdFx0XHQvL2Vsc2VcclxuXHRcdFx0XHQvL1x0ZGlzdGFuY2VGcm9tTmV4dExhYmVsID0gKGN1cnJlbnREYXRhUG9pbnQuaW5kZXhMYWJlbFRleHRCbG9jay55IC0gKGN1cnJlbnREYXRhUG9pbnQuaW5kZXhMYWJlbFRleHRCbG9jay5oZWlnaHQgLyAyKSkgLSAobmV4dERhdGFQb2ludC5pbmRleExhYmVsVGV4dEJsb2NrLnkgKyAobmV4dERhdGFQb2ludC5pbmRleExhYmVsVGV4dEJsb2NrLmhlaWdodCAvIDIpKTtcclxuXHJcblx0XHRcdFx0ZGlzdGFuY2VGcm9tTmV4dExhYmVsID0gZ2V0VmVydGljYWxEaXN0YW5jZUJldHdlZW5MYWJlbHMoY3VycmVudERhdGFQb2ludCwgbmV4dERhdGFQb2ludCk7XHJcblxyXG5cdFx0XHRcdGlmIChkaXN0YW5jZUZyb21OZXh0TGFiZWwgPCAwICYmIGFyZURhdGFQb2ludHNUb29DbG9zZShjdXJyZW50RGF0YVBvaW50LCBuZXh0RGF0YVBvaW50KSkge1xyXG5cdFx0XHRcdFx0XHQvL2lmIChkaXN0YW5jZUZyb21OZXh0TGFiZWwgPCAwICYmIGFyZURhdGFQb2ludHNUb29DbG9zZShjdXJyZW50RGF0YVBvaW50LCBuZXh0RGF0YVBvaW50KSApIHtcclxuXHRcdFx0XHRcdGlmIChvdmVybGFwU3RhcnRJbmRleCA8IDApXHJcblx0XHRcdFx0XHRcdG92ZXJsYXBTdGFydEluZGV4ID0gaztcclxuXHJcblx0XHRcdFx0XHRcdGlmIChuZXh0TGFiZWxJbmRleCAhPT0gb3ZlcmxhcFN0YXJ0SW5kZXgpIHtcclxuXHRcdFx0XHRcdFx0b3ZlcmxhcEVuZEluZGV4ID0gbmV4dExhYmVsSW5kZXg7XHJcblxyXG5cdFx0XHRcdFx0dG90YWxPdmVybGFwICs9IC1kaXN0YW5jZUZyb21OZXh0TGFiZWw7XHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdGlmIChrICUgTWF0aC5tYXgoZGF0YVBvaW50cy5sZW5ndGggLyAxMCwgMykgPT09IDApXHJcblx0XHRcdFx0XHRcdFx0cmVtb3ZlTGFiZWxzID0gdHJ1ZTtcclxuXHJcblx0XHRcdFx0XHQvL25leHREYXRhUG9pbnQuaW5kZXhMYWJlbFRleHQgPSBcIlwiO1xyXG5cdFx0XHRcdFx0Ly9uZXh0RGF0YVBvaW50LmluZGV4TGFiZWxUZXh0QmxvY2sudGV4dCA9IFwiXCI7XHJcblx0XHRcdFx0XHQvL25leHREYXRhUG9pbnQuaW5kZXhMYWJlbFRleHRCbG9jay5tZWFzdXJlVGV4dCgpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdFx0XHRyZW1vdmVMYWJlbHMgPSB0cnVlO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGlmIChyZW1vdmVMYWJlbHMpIHtcclxuXHJcblx0XHRcdFx0XHRcdGlmICh0b3RhbE92ZXJsYXAgPiAwICYmIG92ZXJsYXBTdGFydEluZGV4ID49IDAgJiYgb3ZlcmxhcEVuZEluZGV4ID49IDApIHtcclxuXHRcdFx0XHRcdFx0cmVtb3ZlTGFiZWxzRm9yU21hbGxTZWdtZW50cyh0b3RhbE92ZXJsYXAsIG92ZXJsYXBTdGFydEluZGV4LCBvdmVybGFwRW5kSW5kZXgpO1xyXG5cclxuXHRcdFx0XHRcdFx0b3ZlcmxhcFN0YXJ0SW5kZXggPSAtMTtcclxuXHRcdFx0XHRcdFx0b3ZlcmxhcEVuZEluZGV4ID0gLTE7XHJcblx0XHRcdFx0XHRcdHRvdGFsT3ZlcmxhcCA9IDA7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAodG90YWxPdmVybGFwID4gMClcclxuXHRcdFx0XHRyZW1vdmVMYWJlbHNGb3JTbWFsbFNlZ21lbnRzKHRvdGFsT3ZlcmxhcCwgb3ZlcmxhcFN0YXJ0SW5kZXgsIG92ZXJsYXBFbmRJbmRleCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHNraXBMYWJlbHMoKTtcclxuXHJcblxyXG5cdFx0fVxyXG5cdFx0Ly93aW5kb3cuYWxlcnQoXCJuZXh0Pz9cIik7XHJcblxyXG5cclxuXHRcdC8vcmVzZXRBbmltYXRpb25GcmFtZShfdGhpcy5hbmltYXRpb25FbmFibGVkICYmIF90aGlzLnJlbmRlckNvdW50ID09PSAwID8gaXNDYW52YXNTdXBwb3J0ZWQgPyA2MCA6IDMwIDogMSk7XHJcblx0XHQvL2FuaW1hdGUoKTtcclxuXHJcblx0XHQvL2NvbnNvbGUubG9nKFwidG90YWxSZWN1cnNpb25zOiBcIiArIHRvdGFsUmVjdXJzaW9ucyk7XHJcblx0fVxyXG5cclxuXHJcblx0dGhpcy5waWVEb3VnaG51dENsaWNrSGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7XHJcblxyXG5cdFx0aWYgKF90aGlzLmlzQW5pbWF0aW5nKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgaSA9IGUuZGF0YVBvaW50SW5kZXg7XHJcblx0XHR2YXIgZGF0YVBvaW50ID0gZS5kYXRhUG9pbnQ7XHJcblx0XHR2YXIgZGF0YVNlcmllcyA9IHRoaXM7XHJcblxyXG5cclxuXHRcdHZhciBpZCA9IGRhdGFTZXJpZXMuZGF0YVBvaW50SWRzW2ldO1xyXG5cclxuXHRcdC8vZGF0YVBvaW50RU8gPSBfdGhpcy5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtpZF07XHJcblxyXG5cdFx0aWYgKGRhdGFQb2ludC5leHBsb2RlZClcclxuXHRcdFx0ZGF0YVBvaW50LmV4cGxvZGVkID0gZmFsc2U7XHJcblx0XHRlbHNlXHJcblx0XHRcdGRhdGFQb2ludC5leHBsb2RlZCA9IHRydWU7XHJcblxyXG5cclxuXHRcdC8vIFNvIHRoYXQgaXQgZG9lc24ndCB0cnkgdG8gZXhwbG9kZSB3aGVuIHRoZXJlIGlzIG9ubHkgb25lIHNlZ21lbnRcclxuXHRcdGlmIChkYXRhU2VyaWVzLmRhdGFQb2ludHMubGVuZ3RoID4gMSkge1xyXG5cdFx0XHRfdGhpcy5fYW5pbWF0b3IuYW5pbWF0ZSgwLCBleHBsb2RlRHVyYXRpb24sIGZ1bmN0aW9uIChmcmFjdGlvbkNvbXBsZXRlKSB7XHJcblxyXG5cdFx0XHRcdGV4cGxvZGVUb2dnbGUoZnJhY3Rpb25Db21wbGV0ZSk7XHJcblx0XHRcdFx0cmVuZGVyQ2hhcnRFbGVtZW50c0luUGxvdEFyZWEoKTtcclxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKFwiRXhwbG9kZSBTdGFydFwiKTtcclxuXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdGluaXRMYWJlbHMoKTtcclxuXHJcblx0cG9zaXRpb25MYWJlbHMoKTtcclxuXHRwb3NpdGlvbkxhYmVscygpO1xyXG5cdHBvc2l0aW9uTGFiZWxzKCk7XHJcblx0cG9zaXRpb25MYWJlbHMoKTtcclxuXHJcblx0dGhpcy5kaXNhYmxlVG9vbFRpcCA9IHRydWU7XHJcblx0dGhpcy5fYW5pbWF0b3IuYW5pbWF0ZSgwLCB0aGlzLmFuaW1hdGVkUmVuZGVyID8gdGhpcy5hbmltYXRpb25EdXJhdGlvbiA6IDAsIGZ1bmN0aW9uIChmcmFjdGlvbkNvbXBsZXRlKSB7XHJcblxyXG5cdFx0YW5pbWF0ZShmcmFjdGlvbkNvbXBsZXRlKTtcclxuXHRcdHJlbmRlckNoYXJ0RWxlbWVudHNJblBsb3RBcmVhKCk7XHJcblxyXG5cdH0sIGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHRfdGhpcy5kaXNhYmxlVG9vbFRpcCA9IGZhbHNlO1xyXG5cdFx0X3RoaXMuX2FuaW1hdG9yLmFuaW1hdGUoMCwgX3RoaXMuYW5pbWF0ZWRSZW5kZXIgPyBleHBsb2RlRHVyYXRpb24gOiAwLCBmdW5jdGlvbiAoZnJhY3Rpb25Db21wbGV0ZSkge1xyXG5cclxuXHRcdFx0ZXhwbG9kZVRvZ2dsZShmcmFjdGlvbkNvbXBsZXRlKTtcclxuXHRcdFx0cmVuZGVyQ2hhcnRFbGVtZW50c0luUGxvdEFyZWEoKTtcclxuXHJcblx0XHR9KTtcclxuXHJcblx0XHQvL2NvbnNvbGUubG9nKFwiQW5pbWF0aW9uIENvbXBsZXRlXCIpO1xyXG5cdH0pO1xyXG5cclxuXHRmdW5jdGlvbiByZW5kZXJDaGFydEVsZW1lbnRzSW5QbG90QXJlYSgpIHtcclxuXHJcblx0XHRfdGhpcy5wbG90QXJlYS5sYXlvdXRNYW5hZ2VyLnJlc2V0KCk7XHJcblxyXG5cdFx0aWYgKF90aGlzLl90aXRsZSkge1xyXG5cdFx0XHRpZiAoX3RoaXMuX3RpdGxlLmRvY2tJbnNpZGVQbG90QXJlYSB8fCAoX3RoaXMuX3RpdGxlLmhvcml6b250YWxBbGlnbiA9PT0gXCJjZW50ZXJcIiAmJiBfdGhpcy5fdGl0bGUudmVydGljYWxBbGlnbiA9PT0gXCJjZW50ZXJcIikpXHJcblx0XHRcdFx0X3RoaXMuX3RpdGxlLnJlbmRlcigpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoX3RoaXMuc3VidGl0bGVzKVxyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IF90aGlzLnN1YnRpdGxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBzdWJ0aXRsZSA9IF90aGlzLnN1YnRpdGxlc1tpXTtcclxuXHRcdFx0XHRpZiAoc3VidGl0bGUuZG9ja0luc2lkZVBsb3RBcmVhIHx8IChzdWJ0aXRsZS5ob3Jpem9udGFsQWxpZ24gPT09IFwiY2VudGVyXCIgJiYgc3VidGl0bGUudmVydGljYWxBbGlnbiA9PT0gXCJjZW50ZXJcIikpXHJcblx0XHRcdFx0XHRzdWJ0aXRsZS5yZW5kZXIoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdGlmIChfdGhpcy5sZWdlbmQpIHtcclxuXHRcdFx0aWYgKF90aGlzLmxlZ2VuZC5kb2NrSW5zaWRlUGxvdEFyZWEgfHwgKF90aGlzLmxlZ2VuZC5ob3Jpem9udGFsQWxpZ24gPT09IFwiY2VudGVyXCIgJiYgX3RoaXMubGVnZW5kLnZlcnRpY2FsQWxpZ24gPT09IFwiY2VudGVyXCIpKVxyXG5cdFx0XHRcdF90aGlzLmxlZ2VuZC5yZW5kZXIoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vdGhpcy5jdHguc3Ryb2tlUmVjdChwbG90QXJlYS54MSArIDEsIHBsb3RBcmVhLnkxLCBwbG90QXJlYS53aWR0aCAtIDIsIHBsb3RBcmVhLmhlaWdodCk7XHJcbn1cclxuIiwiXHJcbmltcG9ydCB7aXNDYW52YXNTdXBwb3J0ZWR9IGZyb20gJy4uL2hlbHBlcnMvdXRpbHMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHBsb3RVbml0KSB7XHJcblx0dmFyIGN0eCA9IHBsb3RVbml0LnRhcmdldENhbnZhc0N0eCB8fCB0aGlzLnBsb3RBcmVhLmN0eDtcclxuXHR2YXIgdG90YWxEYXRhU2VyaWVzID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoO1xyXG5cclxuXHRpZiAodG90YWxEYXRhU2VyaWVzIDw9IDApXHJcblx0XHRyZXR1cm47XHJcblxyXG5cdHZhciBnaG9zdEN0eCA9IHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eDtcclxuXHJcblx0dmFyIGF4aXNYUHJvcHMgPSBwbG90VW5pdC5heGlzWC5saW5lQ29vcmRpbmF0ZXM7XHJcblx0dmFyIGF4aXNZUHJvcHMgPSBwbG90VW5pdC5heGlzWS5saW5lQ29vcmRpbmF0ZXM7XHJcblx0dmFyIG1hcmtlcnMgPSBbXTtcclxuXHJcblx0dmFyIHBsb3RBcmVhID0gdGhpcy5wbG90QXJlYTtcclxuXHRjdHguc2F2ZSgpO1xyXG5cclxuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXHJcblx0XHRnaG9zdEN0eC5zYXZlKCk7XHJcblxyXG5cdGN0eC5iZWdpblBhdGgoKTtcclxuXHRjdHgucmVjdChwbG90QXJlYS54MSwgcGxvdEFyZWEueTEsIHBsb3RBcmVhLndpZHRoLCBwbG90QXJlYS5oZWlnaHQpO1xyXG5cdGN0eC5jbGlwKCk7XHJcblxyXG5cdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xyXG5cdFx0Z2hvc3RDdHguYmVnaW5QYXRoKCk7XHJcblx0XHRnaG9zdEN0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XHJcblx0XHRnaG9zdEN0eC5jbGlwKCk7XHJcblx0fVxyXG5cclxuXHRmb3IgKHZhciBqID0gMDsgaiA8IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDsgaisrKSB7XHJcblxyXG5cdFx0dmFyIGNsb3NpbmdQYXRoID0gW107XHJcblxyXG5cdFx0dmFyIGRhdGFTZXJpZXNJbmRleCA9IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzW2pdO1xyXG5cclxuXHRcdHZhciBkYXRhU2VyaWVzID0gdGhpcy5kYXRhW2RhdGFTZXJpZXNJbmRleF07XHJcblxyXG5cdFx0dmFyIGRhdGFQb2ludHMgPSBkYXRhU2VyaWVzLmRhdGFQb2ludHM7XHJcblxyXG5cdFx0dmFyIHNlcmllc0lkID0gZGF0YVNlcmllcy5pZDtcclxuXHRcdHRoaXMuX2V2ZW50TWFuYWdlci5vYmplY3RNYXBbc2VyaWVzSWRdID0ge1xyXG5cdFx0XHRvYmplY3RUeXBlOiBcImRhdGFTZXJpZXNcIiwgZGF0YVNlcmllc0luZGV4OiBkYXRhU2VyaWVzSW5kZXhcclxuXHRcdH07XHJcblxyXG5cdFx0dmFyIGhleENvbG9yID0gaW50VG9IZXhDb2xvclN0cmluZyhzZXJpZXNJZCk7XHJcblx0XHRnaG9zdEN0eC5maWxsU3R5bGUgPSBoZXhDb2xvcjtcclxuXHRcdC8vZ2hvc3RDdHgubGluZVdpZHRoID0gZGF0YVNlcmllcy5saW5lVGhpY2tuZXNzO1xyXG5cdFx0Ly9naG9zdEN0eC5saW5lV2lkdGggPSAyMDtcclxuXHJcblx0XHRtYXJrZXJzID0gW107XHJcblxyXG5cdFx0dmFyIGlzRmlyc3REYXRhUG9pbnRJblBsb3RBcmVhID0gdHJ1ZTtcclxuXHRcdHZhciBpID0gMCwgeCwgeTEsIHkyO1xyXG5cdFx0dmFyIGRhdGFQb2ludFg7IC8vVXNlZCBzbyB0aGF0IHdoZW4gZGF0YVBvaW50LnggaXMgYSBEYXRlVGltZSB2YWx1ZSwgaXQgZG9lc24ndCBnZXQgY29udmVydGVkIHRvIG51bWJlciBiYWNrIGFuZCBmb3J0aC5cclxuXHJcblx0XHR2YXIgeVplcm9Ub1BpeGVsID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqICgwIC0gcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkgKyAuNSkgPDwgMDtcclxuXHRcdHZhciBiYXNlWTtcclxuXHJcblx0XHR2YXIgc3RhcnRQb2ludCA9IG51bGw7XHJcblxyXG5cdFx0aWYgKGRhdGFQb2ludHMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHQvL2N0eC5zdHJva2VTdHlsZSA9IFwiIzQ1NzJBNyBcIjtcclxuXHRcdFx0dmFyIGNvbG9yID0gZGF0YVNlcmllcy5fY29sb3JTZXRbaSAlIGRhdGFTZXJpZXMuX2NvbG9yU2V0Lmxlbmd0aF07XHJcblx0XHRcdC8vY3R4LnN0cm9rZVN0eWxlID0gXCJyZWRcIjtcclxuXHRcdFx0Y3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xyXG5cdFx0XHRjdHguc3Ryb2tlU3R5bGUgPSBjb2xvcjtcclxuXHRcdFx0Y3R4LmxpbmVXaWR0aCA9IGRhdGFTZXJpZXMubGluZVRoaWNrbmVzcztcclxuXHJcblx0XHRcdGlmIChjdHguc2V0TGluZURhc2gpIHtcclxuXHRcdFx0XHRjdHguc2V0TGluZURhc2goZ2V0TGluZURhc2hBcnJheShkYXRhU2VyaWVzLmxpbmVEYXNoVHlwZSwgZGF0YVNlcmllcy5saW5lVGhpY2tuZXNzKSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZhciBwcmV2RGF0YU51bGwgPSB0cnVlO1xyXG5cdFx0XHRmb3IgKDsgaSA8IGRhdGFQb2ludHMubGVuZ3RoOyBpKyspIHtcclxuXHJcblx0XHRcdFx0ZGF0YVBvaW50WCA9IGRhdGFQb2ludHNbaV0ueC5nZXRUaW1lID8gZGF0YVBvaW50c1tpXS54LmdldFRpbWUoKSA6IGRhdGFQb2ludHNbaV0ueDtcclxuXHJcblx0XHRcdFx0aWYgKGRhdGFQb2ludFggPCBwbG90VW5pdC5heGlzWC5kYXRhSW5mby52aWV3UG9ydE1pbiB8fCBkYXRhUG9pbnRYID4gcGxvdFVuaXQuYXhpc1guZGF0YUluZm8udmlld1BvcnRNYXgpIHtcclxuXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKGRhdGFQb2ludHNbaV0ueSA9PT0gbnVsbCB8fCAhZGF0YVBvaW50c1tpXS55Lmxlbmd0aFxyXG5cdFx0XHRcdFx0fHwgdHlwZW9mIChkYXRhUG9pbnRzW2ldLnlbMF0pICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiAoZGF0YVBvaW50c1tpXS55WzFdKSAhPT0gXCJudW1iZXJcIikge1xyXG5cclxuXHRcdFx0XHRcdGNsb3NlQXJlYSgpO1xyXG5cclxuXHRcdFx0XHRcdHByZXZEYXRhTnVsbCA9IHRydWU7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHggPSAocGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludFggLSBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xyXG5cclxuXHRcdFx0XHR5MSA9IChwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoZGF0YVBvaW50c1tpXS55WzBdIC0gcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkgKyAuNSkgPDwgMDtcclxuXHRcdFx0XHR5MiA9IChwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoZGF0YVBvaW50c1tpXS55WzFdIC0gcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkgKyAuNSkgPDwgMDtcclxuXHJcblx0XHRcdFx0aWYgKGlzRmlyc3REYXRhUG9pbnRJblBsb3RBcmVhIHx8IHByZXZEYXRhTnVsbCkge1xyXG5cdFx0XHRcdFx0Y3R4LmJlZ2luUGF0aCgpO1xyXG5cdFx0XHRcdFx0Y3R4Lm1vdmVUbyh4LCB5MSk7XHJcblx0XHRcdFx0XHRzdGFydFBvaW50ID0ge1xyXG5cdFx0XHRcdFx0XHR4OiB4LCB5OiB5MVxyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdGNsb3NpbmdQYXRoID0gW107XHJcblx0XHRcdFx0XHRjbG9zaW5nUGF0aC5wdXNoKHsgeDogeCwgeTogeTIgfSk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XHJcblx0XHRcdFx0XHRcdGdob3N0Q3R4LmJlZ2luUGF0aCgpO1xyXG5cdFx0XHRcdFx0XHRnaG9zdEN0eC5tb3ZlVG8oeCwgeTEpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGlzRmlyc3REYXRhUG9pbnRJblBsb3RBcmVhID0gZmFsc2U7XHJcblx0XHRcdFx0XHRwcmV2RGF0YU51bGwgPSBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblxyXG5cdFx0XHRcdFx0Y3R4LmxpbmVUbyh4LCB5MSk7XHJcblx0XHRcdFx0XHRjbG9zaW5nUGF0aC5wdXNoKHsgeDogeCwgeTogeTIgfSk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxyXG5cdFx0XHRcdFx0XHRnaG9zdEN0eC5saW5lVG8oeCwgeTEpO1xyXG5cclxuXHRcdFx0XHRcdGlmIChpICUgMjUwID09IDApIHtcclxuXHRcdFx0XHRcdFx0Y2xvc2VBcmVhKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdFx0dmFyIGlkID0gZGF0YVNlcmllcy5kYXRhUG9pbnRJZHNbaV07XHJcblx0XHRcdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtpZF0gPSB7XHJcblx0XHRcdFx0XHRpZDogaWQsIG9iamVjdFR5cGU6IFwiZGF0YVBvaW50XCIsIGRhdGFTZXJpZXNJbmRleDogZGF0YVNlcmllc0luZGV4LCBkYXRhUG9pbnRJbmRleDogaSwgeDE6IHgsIHkxOiB5MSwgeTI6IHkyXHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0Ly9SZW5kZXIgTWFya2VyXHJcblx0XHRcdFx0aWYgKGRhdGFQb2ludHNbaV0ubWFya2VyU2l6ZSAhPT0gMCkge1xyXG5cdFx0XHRcdFx0aWYgKGRhdGFQb2ludHNbaV0ubWFya2VyU2l6ZSA+IDAgfHwgZGF0YVNlcmllcy5tYXJrZXJTaXplID4gMCkge1xyXG5cdFx0XHRcdFx0XHR2YXIgbWFya2VyUHJvcHMgPSBkYXRhU2VyaWVzLmdldE1hcmtlclByb3BlcnRpZXMoaSwgeCwgeTIsIGN0eCk7XHJcblx0XHRcdFx0XHRcdG1hcmtlcnMucHVzaChtYXJrZXJQcm9wcyk7XHJcblxyXG5cdFx0XHRcdFx0XHQvL2lmICghZGF0YVNlcmllcy5tYXhXaWR0aEluWCB8fCBtYXJrZXJQcm9wcy5zaXplID4gZGF0YVNlcmllcy5tYXhXaWR0aEluWCkge1xyXG5cdFx0XHRcdFx0XHQvL1x0ZGF0YVNlcmllcy5tYXhXaWR0aEluWCA9IG1hcmtlclByb3BzLnNpemUgLyAocGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ID4gMSA/IHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAtIDEgOiBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQpO1xyXG5cdFx0XHRcdFx0XHQvL31cclxuXHJcblx0XHRcdFx0XHRcdHZhciBtYXJrZXJDb2xvciA9IGludFRvSGV4Q29sb3JTdHJpbmcoaWQpO1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XHJcblx0XHRcdFx0XHRcdFx0bWFya2Vycy5wdXNoKHtcclxuXHRcdFx0XHRcdFx0XHRcdHg6IHgsIHk6IHkyLCBjdHg6IGdob3N0Q3R4LFxyXG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogbWFya2VyUHJvcHMudHlwZSxcclxuXHRcdFx0XHRcdFx0XHRcdHNpemU6IG1hcmtlclByb3BzLnNpemUsXHJcblx0XHRcdFx0XHRcdFx0XHRjb2xvcjogbWFya2VyQ29sb3IsXHJcblx0XHRcdFx0XHRcdFx0XHRib3JkZXJDb2xvcjogbWFya2VyQ29sb3IsXHJcblx0XHRcdFx0XHRcdFx0XHRib3JkZXJUaGlja25lc3M6IG1hcmtlclByb3BzLmJvcmRlclRoaWNrbmVzc1xyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRtYXJrZXJQcm9wcyA9IGRhdGFTZXJpZXMuZ2V0TWFya2VyUHJvcGVydGllcyhpLCB4LCB5MSwgY3R4KTtcclxuXHRcdFx0XHRcdFx0bWFya2Vycy5wdXNoKG1hcmtlclByb3BzKTtcclxuXHJcblxyXG5cclxuXHRcdFx0XHRcdFx0dmFyIG1hcmtlckNvbG9yID0gaW50VG9IZXhDb2xvclN0cmluZyhpZCk7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpIHtcclxuXHRcdFx0XHRcdFx0XHRtYXJrZXJzLnB1c2goe1xyXG5cdFx0XHRcdFx0XHRcdFx0eDogeCwgeTogeTEsIGN0eDogZ2hvc3RDdHgsXHJcblx0XHRcdFx0XHRcdFx0XHR0eXBlOiBtYXJrZXJQcm9wcy50eXBlLFxyXG5cdFx0XHRcdFx0XHRcdFx0c2l6ZTogbWFya2VyUHJvcHMuc2l6ZSxcclxuXHRcdFx0XHRcdFx0XHRcdGNvbG9yOiBtYXJrZXJDb2xvcixcclxuXHRcdFx0XHRcdFx0XHRcdGJvcmRlckNvbG9yOiBtYXJrZXJDb2xvcixcclxuXHRcdFx0XHRcdFx0XHRcdGJvcmRlclRoaWNrbmVzczogbWFya2VyUHJvcHMuYm9yZGVyVGhpY2tuZXNzXHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLmluZGV4TGFiZWwgfHwgZGF0YVNlcmllcy5pbmRleExhYmVsIHx8IGRhdGFQb2ludHNbaV0uaW5kZXhMYWJlbEZvcm1hdHRlciB8fCBkYXRhU2VyaWVzLmluZGV4TGFiZWxGb3JtYXR0ZXIpIHtcclxuXHJcblx0XHRcdFx0XHR0aGlzLl9pbmRleExhYmVscy5wdXNoKHtcclxuXHRcdFx0XHRcdFx0Y2hhcnRUeXBlOiBcInJhbmdlQXJlYVwiLFxyXG5cdFx0XHRcdFx0XHRkYXRhUG9pbnQ6IGRhdGFQb2ludHNbaV0sXHJcblx0XHRcdFx0XHRcdGRhdGFTZXJpZXM6IGRhdGFTZXJpZXMsXHJcblx0XHRcdFx0XHRcdGluZGV4S2V5d29yZDogMCxcclxuXHRcdFx0XHRcdFx0cG9pbnQ6IHtcclxuXHRcdFx0XHRcdFx0XHR4OiB4LCB5OiB5MVxyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRkaXJlY3Rpb246IGRhdGFQb2ludHNbaV0ueVswXSA8PSBkYXRhUG9pbnRzW2ldLnlbMV0gPyAtMSA6IDEsXHJcblx0XHRcdFx0XHRcdGNvbG9yOiBjb2xvclxyXG5cdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0dGhpcy5faW5kZXhMYWJlbHMucHVzaCh7XHJcblx0XHRcdFx0XHRcdGNoYXJ0VHlwZTogXCJyYW5nZUFyZWFcIixcclxuXHRcdFx0XHRcdFx0ZGF0YVBvaW50OiBkYXRhUG9pbnRzW2ldLFxyXG5cdFx0XHRcdFx0XHRkYXRhU2VyaWVzOiBkYXRhU2VyaWVzLFxyXG5cdFx0XHRcdFx0XHRpbmRleEtleXdvcmQ6IDEsXHJcblx0XHRcdFx0XHRcdHBvaW50OiB7XHJcblx0XHRcdFx0XHRcdFx0eDogeCwgeTogeTJcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0ZGlyZWN0aW9uOiBkYXRhUG9pbnRzW2ldLnlbMF0gPD0gZGF0YVBvaW50c1tpXS55WzFdID8gMSA6IC0xLFxyXG5cdFx0XHRcdFx0XHRjb2xvcjogY29sb3JcclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vYWxlcnQoXCJoaVwiKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y2xvc2VBcmVhKCk7XHJcblxyXG5cdFx0XHQvL3N0YXJ0UG9pbnQgPSB7IHg6IHgsIHk6IHkgfTtcclxuXHRcdFx0UmVuZGVySGVscGVyLmRyYXdNYXJrZXJzKG1hcmtlcnMpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Y3R4LnJlc3RvcmUoKTtcclxuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXHJcblx0XHR0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHgucmVzdG9yZSgpO1xyXG5cclxuXHRmdW5jdGlvbiBjbG9zZUFyZWEoKSB7XHJcblxyXG5cdFx0aWYgKCFzdGFydFBvaW50KVxyXG5cdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0dmFyIHBvaW50ID0gbnVsbDtcclxuXHJcblx0XHRpZiAoZGF0YVNlcmllcy5saW5lVGhpY2tuZXNzID4gMClcclxuXHRcdFx0Y3R4LnN0cm9rZSgpO1xyXG5cclxuXHRcdGZvciAodmFyIGkgPSBjbG9zaW5nUGF0aC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG5cdFx0XHRwb2ludCA9IGNsb3NpbmdQYXRoW2ldO1xyXG5cdFx0XHRjdHgubGluZVRvKHBvaW50LngsIHBvaW50LnkpO1xyXG5cdFx0XHRnaG9zdEN0eC5saW5lVG8ocG9pbnQueCwgcG9pbnQueSk7XHJcblx0XHR9XHJcblxyXG5cclxuXHJcblx0XHRjdHguY2xvc2VQYXRoKCk7XHJcblx0XHQvL2N0eC5saW5lVG8oc3RhcnRQb2ludC54LCBzdGFydFBvaW50LnkpO1xyXG5cclxuXHRcdGN0eC5nbG9iYWxBbHBoYSA9IGRhdGFTZXJpZXMuZmlsbE9wYWNpdHk7XHJcblx0XHRjdHguZmlsbCgpO1xyXG5cdFx0Y3R4Lmdsb2JhbEFscGhhID0gMTtcclxuXHJcblx0XHRnaG9zdEN0eC5maWxsKCk7XHJcblxyXG5cdFx0Ly9pZiAoaXNDYW52YXNTdXBwb3J0ZWQpIHtcclxuXHRcdC8vXHRnaG9zdEN0eC5saW5lVG8oeCwgYmFzZVkpO1xyXG5cdFx0Ly9cdGdob3N0Q3R4LmxpbmVUbyhzdGFydFBvaW50LngsIGJhc2VZKTtcclxuXHRcdC8vXHRnaG9zdEN0eC5jbG9zZVBhdGgoKTtcclxuXHRcdC8vXHRnaG9zdEN0eC5maWxsKCk7XHJcblx0XHQvL31cclxuXHJcblx0XHRpZiAoZGF0YVNlcmllcy5saW5lVGhpY2tuZXNzID4gMCkge1xyXG5cdFx0XHRjdHguYmVnaW5QYXRoKCk7XHJcblx0XHRcdGN0eC5tb3ZlVG8ocG9pbnQueCwgcG9pbnQueSk7XHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgY2xvc2luZ1BhdGgubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRwb2ludCA9IGNsb3NpbmdQYXRoW2ldO1xyXG5cdFx0XHRcdGN0eC5saW5lVG8ocG9pbnQueCwgcG9pbnQueSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGN0eC5zdHJva2UoKTtcclxuXHRcdH1cclxuXHJcblxyXG5cdFx0Y3R4LmJlZ2luUGF0aCgpO1xyXG5cdFx0Y3R4Lm1vdmVUbyh4LCB5MSk7XHJcblx0XHRnaG9zdEN0eC5iZWdpblBhdGgoKTtcclxuXHRcdGdob3N0Q3R4Lm1vdmVUbyh4LCB5MSk7XHJcblxyXG5cdFx0c3RhcnRQb2ludCA9IHtcclxuXHRcdFx0eDogeCwgeTogeTFcclxuXHRcdH07XHJcblx0XHRjbG9zaW5nUGF0aCA9IFtdO1xyXG5cdFx0Y2xvc2luZ1BhdGgucHVzaCh7IHg6IHgsIHk6IHkyIH0pO1xyXG5cdH1cclxuXHJcblx0Ly9jdHguYmVnaW5QYXRoKCk7XHJcblx0Ly9zb3VyY2UgYW5kIGRlc3Qgd291bGQgYmUgc2FtZSB3aGVuIGFuaW1hdGlvbiBpcyBub3QgZW5hYmxlZFxyXG5cdHZhciBhbmltYXRpb25JbmZvID0ge1xyXG5cdFx0c291cmNlOiBjdHgsIGRlc3Q6IHRoaXMucGxvdEFyZWEuY3R4LCBhbmltYXRpb25DYWxsYmFjazogQW5pbWF0aW9uSGVscGVyLnhDbGlwQW5pbWF0aW9uLCBlYXNpbmdGdW5jdGlvbjogQW5pbWF0aW9uSGVscGVyLmVhc2luZy5saW5lYXIsIGFuaW1hdGlvbkJhc2U6IDBcclxuXHR9O1xyXG5cdHJldHVybiBhbmltYXRpb25JbmZvO1xyXG59XHJcbiIsIlxyXG5pbXBvcnQge2lzQ2FudmFzU3VwcG9ydGVkfSBmcm9tICcuLi9oZWxwZXJzL3V0aWxzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChwbG90VW5pdCkge1xyXG5cdHZhciBjdHggPSBwbG90VW5pdC50YXJnZXRDYW52YXNDdHggfHwgdGhpcy5wbG90QXJlYS5jdHg7XHJcblx0dmFyIHRvdGFsRGF0YVNlcmllcyA9IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDtcclxuXHJcblx0aWYgKHRvdGFsRGF0YVNlcmllcyA8PSAwKVxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHR2YXIgY29sb3IgPSBudWxsO1xyXG5cclxuXHR2YXIgcGxvdEFyZWEgPSB0aGlzLnBsb3RBcmVhO1xyXG5cclxuXHR2YXIgaSA9IDAsIHgxLCB4MiwgeTtcclxuXHR2YXIgZGF0YVBvaW50WDsgLy9Vc2VkIHNvIHRoYXQgd2hlbiBkYXRhUG9pbnQueCBpcyBhIERhdGVUaW1lIHZhbHVlLCBpdCBkb2Vzbid0IGdldCBjb252ZXJ0ZWQgdG8gbnVtYmVyIGZyb20gZGF0YVRpbWUgZXZlcnl0aW1lIGl0IGlzIHVzZWQuXHJcblxyXG5cdC8vSW4gY2FzZSBvZiBCYXIgQ2hhcnQsIHlaZXJvVG9QaXhlbCBpcyB4IGNvLW9yZGluYXRlIVxyXG5cdHZhciB5WmVyb1RvUGl4ZWwgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKDAgLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSkgPDwgMDtcclxuXHJcblx0dmFyIG1heEJhcldpZHRoID0gdGhpcy5kYXRhUG9pbnRNYXhXaWR0aCA/IHRoaXMuZGF0YVBvaW50TWF4V2lkdGggOiBNYXRoLm1pbigodGhpcy5oZWlnaHQgKiAuMTUpLCB0aGlzLnBsb3RBcmVhLmhlaWdodCAvIHBsb3RVbml0LnBsb3RUeXBlLnRvdGFsRGF0YVNlcmllcyAqIC45KSA8PCAwO1xyXG5cdHZhciB4TWluRGlmZiA9IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLm1pbkRpZmY7XHJcblx0Ly92YXIgYmFyV2lkdGggPSAoKChwbG90QXJlYS5oZWlnaHQgLyBNYXRoLmFicyhwbG90VW5pdC5heGlzWC52aWV3cG9ydE1heGltdW0gLSBwbG90VW5pdC5heGlzWC52aWV3cG9ydE1pbmltdW0pKSAqIE1hdGguYWJzKHhNaW5EaWZmKSkgLyB0b3RhbERhdGFTZXJpZXMgKiAuOSkgPDwgMDtcclxuXHJcblx0dmFyIGJhcldpZHRoID0gKCgocGxvdEFyZWEuaGVpZ2h0IC8gTWF0aC5hYnMocGxvdFVuaXQuYXhpc1gudmlld3BvcnRNYXhpbXVtIC0gcGxvdFVuaXQuYXhpc1gudmlld3BvcnRNaW5pbXVtKSkgKiBNYXRoLmFicyh4TWluRGlmZikpIC8gcGxvdFVuaXQucGxvdFR5cGUudG90YWxEYXRhU2VyaWVzICogLjkpIDw8IDA7XHJcblxyXG5cdGlmIChiYXJXaWR0aCA+IG1heEJhcldpZHRoKVxyXG5cdFx0YmFyV2lkdGggPSBtYXhCYXJXaWR0aDtcclxuXHRlbHNlIGlmICh4TWluRGlmZiA9PT0gSW5maW5pdHkpIHtcclxuXHRcdGJhcldpZHRoID0gbWF4QmFyV2lkdGggLyBwbG90VW5pdC5wbG90VHlwZS50b3RhbERhdGFTZXJpZXMgKiAuOTtcclxuXHR9IGVsc2UgaWYgKGJhcldpZHRoIDwgMSlcclxuXHRcdGJhcldpZHRoID0gMTtcclxuXHJcblx0Y3R4LnNhdmUoKTtcclxuXHJcblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxyXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnNhdmUoKTtcclxuXHJcblx0Y3R4LmJlZ2luUGF0aCgpO1xyXG5cdGN0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XHJcblx0Y3R4LmNsaXAoKTtcclxuXHJcblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XHJcblx0XHR0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHgucmVjdChwbG90QXJlYS54MSwgcGxvdEFyZWEueTEsIHBsb3RBcmVhLndpZHRoLCBwbG90QXJlYS5oZWlnaHQpO1xyXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LmNsaXAoKTtcclxuXHR9XHJcblxyXG5cdGZvciAodmFyIGogPSAwOyBqIDwgcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoOyBqKyspIHtcclxuXHJcblx0XHR2YXIgZGF0YVNlcmllc0luZGV4ID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXNbal07XHJcblxyXG5cdFx0dmFyIGRhdGFTZXJpZXMgPSB0aGlzLmRhdGFbZGF0YVNlcmllc0luZGV4XTtcclxuXHRcdHZhciBkYXRhUG9pbnRzID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzO1xyXG5cdFx0dmFyIGlzRmlyc3REYXRhUG9pbnRJblBsb3RBcmVhID0gdHJ1ZTtcclxuXHJcblxyXG5cdFx0Ly9kYXRhU2VyaWVzLm1heFdpZHRoSW5YID0gYmFyV2lkdGggLyAocGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ID4gMSA/IHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAtIDEgOiBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQpO1xyXG5cclxuXHJcblx0XHRpZiAoZGF0YVBvaW50cy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdC8vdmFyIHh5ID0gdGhpcy5nZXRQaXhlbENvb3JkaW5hdGVzT25QbG90QXJlYShkYXRhUG9pbnRzWzBdLngsIGRhdGFQb2ludHNbMF0ueSk7XHJcblxyXG5cdFx0XHR2YXIgYmV2ZWxFbmFibGVkID0gKGJhcldpZHRoID4gNSkgJiYgZGF0YVNlcmllcy5iZXZlbEVuYWJsZWQgPyB0cnVlIDogZmFsc2U7XHJcblxyXG5cdFx0XHRjdHguc3Ryb2tlU3R5bGUgPSBcIiM0NTcyQTcgXCI7XHJcblxyXG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgZGF0YVBvaW50cy5sZW5ndGg7IGkrKykge1xyXG5cclxuXHRcdFx0XHRkYXRhUG9pbnRzW2ldLmdldFRpbWUgPyBkYXRhUG9pbnRYID0gZGF0YVBvaW50c1tpXS54LmdldFRpbWUoKSA6IGRhdGFQb2ludFggPSBkYXRhUG9pbnRzW2ldLng7XHJcblxyXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRYIDwgcGxvdFVuaXQuYXhpc1guZGF0YUluZm8udmlld1BvcnRNaW4gfHwgZGF0YVBvaW50WCA+IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLnZpZXdQb3J0TWF4KSB7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLnkgPT09IG51bGwgfHwgIWRhdGFQb2ludHNbaV0ueS5sZW5ndGhcclxuXHRcdFx0XHRcdHx8IHR5cGVvZiAoZGF0YVBvaW50c1tpXS55WzBdKSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgKGRhdGFQb2ludHNbaV0ueVsxXSkgIT09IFwibnVtYmVyXCIpXHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHJcblx0XHRcdFx0Ly94IGFuZCB5IGFyZSBwaXhlbCBjby1vcmRpbmF0ZXMgb2YgcG9pbnQgYW5kIHNob3VsZCBub3QgYmUgY29uZnVzZWQgd2l0aCBYIGFuZCBZIHZhbHVlc1xyXG5cdFx0XHRcdHgxID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqIChkYXRhUG9pbnRzW2ldLnlbMF0gLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xyXG5cdFx0XHRcdHgyID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqIChkYXRhUG9pbnRzW2ldLnlbMV0gLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xyXG5cclxuXHRcdFx0XHR5ID0gKHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqIChkYXRhUG9pbnRYIC0gcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkgKyAuNSkgPDwgMDtcclxuXHJcblxyXG5cdFx0XHRcdHZhciB5MSA9ICh5IC0gKHBsb3RVbml0LnBsb3RUeXBlLnRvdGFsRGF0YVNlcmllcyAqIGJhcldpZHRoIC8gMikgKyAoKHBsb3RVbml0LnByZXZpb3VzRGF0YVNlcmllc0NvdW50ICsgaikgKiBiYXJXaWR0aCkpIDw8IDA7XHJcblx0XHRcdFx0dmFyIHkyID0geTEgKyBiYXJXaWR0aCA8PCAwO1xyXG5cclxuXHRcdFx0XHRpZiAoeDEgPiB4Mikge1xyXG5cdFx0XHRcdFx0dmFyIHRlbXAgPSB4MTtcclxuXHRcdFx0XHRcdHgxID0geDI7XHJcblx0XHRcdFx0XHR4MiA9IHRlbXA7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvL2RyYXdSZWN0KGN0eCwgeDEsIHkxLCBwbG90QXJlYS54MiwgeTIsIFwiI0VFRUVFRVwiLCAwLCBudWxsLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XHJcblx0XHRcdFx0Ly9kcmF3UmVjdChjdHgsIHgxLCB5MSwgcGxvdEFyZWEueDIsIHkyLCBcIiNCRENFRDNcIiwgMCwgbnVsbCwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xyXG5cclxuXHRcdFx0XHRjb2xvciA9IGRhdGFQb2ludHNbaV0uY29sb3IgPyBkYXRhUG9pbnRzW2ldLmNvbG9yIDogZGF0YVNlcmllcy5fY29sb3JTZXRbaSAlIGRhdGFTZXJpZXMuX2NvbG9yU2V0Lmxlbmd0aF07XHJcblx0XHRcdFx0Ly9jb2xvciA9IFwiIzFCNDk2MlwiO1xyXG5cdFx0XHRcdGRyYXdSZWN0KGN0eCwgeDEsIHkxLCB4MiwgeTIsIGNvbG9yLCAwLCBudWxsLCBiZXZlbEVuYWJsZWQsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGRhdGFTZXJpZXMuZmlsbE9wYWNpdHkpO1xyXG5cclxuXHJcblx0XHRcdFx0dmFyIGlkID0gZGF0YVNlcmllcy5kYXRhUG9pbnRJZHNbaV07XHJcblx0XHRcdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtpZF0gPSB7XHJcblx0XHRcdFx0XHRpZDogaWQsIG9iamVjdFR5cGU6IFwiZGF0YVBvaW50XCIsIGRhdGFTZXJpZXNJbmRleDogZGF0YVNlcmllc0luZGV4LCBkYXRhUG9pbnRJbmRleDogaSwgeDE6IHgxLCB5MTogeTEsIHgyOiB4MiwgeTI6IHkyXHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHRjb2xvciA9IGludFRvSGV4Q29sb3JTdHJpbmcoaWQpO1xyXG5cclxuXHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXHJcblx0XHRcdFx0XHRkcmF3UmVjdCh0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHgsIHgxLCB5MSwgeDIsIHkyLCBjb2xvciwgMCwgbnVsbCwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xyXG5cclxuXHJcblx0XHRcdFx0aWYgKGRhdGFQb2ludHNbaV0uaW5kZXhMYWJlbCB8fCBkYXRhU2VyaWVzLmluZGV4TGFiZWwgfHwgZGF0YVBvaW50c1tpXS5pbmRleExhYmVsRm9ybWF0dGVyIHx8IGRhdGFTZXJpZXMuaW5kZXhMYWJlbEZvcm1hdHRlcikge1xyXG5cclxuXHRcdFx0XHRcdHRoaXMuX2luZGV4TGFiZWxzLnB1c2goe1xyXG5cdFx0XHRcdFx0XHRjaGFydFR5cGU6IFwicmFuZ2VCYXJcIixcclxuXHRcdFx0XHRcdFx0ZGF0YVBvaW50OiBkYXRhUG9pbnRzW2ldLFxyXG5cdFx0XHRcdFx0XHRkYXRhU2VyaWVzOiBkYXRhU2VyaWVzLFxyXG5cdFx0XHRcdFx0XHRpbmRleEtleXdvcmQ6IDAsXHJcblx0XHRcdFx0XHRcdHBvaW50OiB7XHJcblx0XHRcdFx0XHRcdFx0eDogZGF0YVBvaW50c1tpXS55WzFdID49IGRhdGFQb2ludHNbaV0ueVswXSA/IHgxIDogeDIsIHk6IHkxICsgKHkyIC0geTEpIC8gMlxyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRkaXJlY3Rpb246IGRhdGFQb2ludHNbaV0ueVsxXSA+PSBkYXRhUG9pbnRzW2ldLnlbMF0gPyAtMSA6IDEsXHJcblx0XHRcdFx0XHRcdGJvdW5kczoge1xyXG5cdFx0XHRcdFx0XHRcdHgxOiBNYXRoLm1pbih4MSwgeDIpLCB5MTogeTEsIHgyOiBNYXRoLm1heCh4MSwgeDIpLCB5MjogeTJcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0Y29sb3I6IGNvbG9yXHJcblx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHR0aGlzLl9pbmRleExhYmVscy5wdXNoKHtcclxuXHRcdFx0XHRcdFx0Y2hhcnRUeXBlOiBcInJhbmdlQmFyXCIsXHJcblx0XHRcdFx0XHRcdGRhdGFQb2ludDogZGF0YVBvaW50c1tpXSxcclxuXHRcdFx0XHRcdFx0ZGF0YVNlcmllczogZGF0YVNlcmllcyxcclxuXHRcdFx0XHRcdFx0aW5kZXhLZXl3b3JkOiAxLFxyXG5cdFx0XHRcdFx0XHRwb2ludDoge1xyXG5cdFx0XHRcdFx0XHRcdHg6IGRhdGFQb2ludHNbaV0ueVsxXSA+PSBkYXRhUG9pbnRzW2ldLnlbMF0gPyB4MiA6IHgxLCB5OiB5MSArICh5MiAtIHkxKSAvIDJcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0ZGlyZWN0aW9uOiBkYXRhUG9pbnRzW2ldLnlbMV0gPj0gZGF0YVBvaW50c1tpXS55WzBdID8gMSA6IC0xLFxyXG5cdFx0XHRcdFx0XHRib3VuZHM6IHtcclxuXHRcdFx0XHRcdFx0XHR4MTogTWF0aC5taW4oeDEsIHgyKSwgeTE6IHkxLCB4MjogTWF0aC5tYXgoeDEsIHgyKSwgeTI6IHkyXHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdGNvbG9yOiBjb2xvclxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRjdHgucmVzdG9yZSgpO1xyXG5cclxuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXHJcblx0XHR0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHgucmVzdG9yZSgpO1xyXG5cclxuXHQvL3NvdXJjZSBhbmQgZGVzdCB3b3VsZCBiZSBzYW1lIHdoZW4gYW5pbWF0aW9uIGlzIG5vdCBlbmFibGVkXHJcblx0dmFyIGFuaW1hdGlvbkluZm8gPSB7XHJcblx0XHRzb3VyY2U6IGN0eCwgZGVzdDogdGhpcy5wbG90QXJlYS5jdHgsIGFuaW1hdGlvbkNhbGxiYWNrOiBBbmltYXRpb25IZWxwZXIuZmFkZUluQW5pbWF0aW9uLCBlYXNpbmdGdW5jdGlvbjogQW5pbWF0aW9uSGVscGVyLmVhc2luZy5lYXNlSW5RdWFkLCBhbmltYXRpb25CYXNlOiAwXHJcblx0fTtcclxuXHRyZXR1cm4gYW5pbWF0aW9uSW5mbztcclxufVxyXG4iLCJcclxuaW1wb3J0IHtpc0NhbnZhc1N1cHBvcnRlZH0gZnJvbSAnLi4vaGVscGVycy91dGlscyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAocGxvdFVuaXQpIHtcclxuXHR2YXIgY3R4ID0gcGxvdFVuaXQudGFyZ2V0Q2FudmFzQ3R4IHx8IHRoaXMucGxvdEFyZWEuY3R4O1xyXG5cdHZhciB0b3RhbERhdGFTZXJpZXMgPSBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7XHJcblxyXG5cdGlmICh0b3RhbERhdGFTZXJpZXMgPD0gMClcclxuXHRcdHJldHVybjtcclxuXHJcblx0dmFyIGNvbG9yID0gbnVsbDtcclxuXHJcblx0dmFyIHBsb3RBcmVhID0gdGhpcy5wbG90QXJlYTtcclxuXHJcblx0dmFyIGkgPSAwLCB4LCB5MSwgeTI7XHJcblx0dmFyIGRhdGFQb2ludFg7IC8vVXNlZCBzbyB0aGF0IHdoZW4gZGF0YVBvaW50LnggaXMgYSBEYXRlVGltZSB2YWx1ZSwgaXQgZG9lc24ndCBnZXQgY29udmVydGVkIHRvIG51bWJlciBmcm9tIGRhdGFUaW1lIGV2ZXJ5dGltZSBpdCBpcyB1c2VkLlxyXG5cclxuXHR2YXIgeVplcm9Ub1BpeGVsID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqICgwIC0gcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkpIDw8IDA7XHJcblxyXG5cdHZhciBtYXhCYXJXaWR0aCA9IHRoaXMuZGF0YVBvaW50TWF4V2lkdGggPyB0aGlzLmRhdGFQb2ludE1heFdpZHRoIDogKHRoaXMud2lkdGggKiAuMDMpO1xyXG5cdC8vdmFyIG1heEJhcldpZHRoID0gKHRoaXMud2lkdGggKiAuMDE1KTtcclxuXHR2YXIgeE1pbkRpZmYgPSBwbG90VW5pdC5heGlzWC5kYXRhSW5mby5taW5EaWZmO1xyXG5cdC8vdmFyIGJhcldpZHRoID0gKCgocGxvdEFyZWEud2lkdGggLyBNYXRoLmFicyhwbG90VW5pdC5heGlzWC52aWV3cG9ydE1heGltdW0gLSBwbG90VW5pdC5heGlzWC52aWV3cG9ydE1pbmltdW0pKSAqIE1hdGguYWJzKHhNaW5EaWZmKSkgKiAuOSkgPDwgMDtcclxuXHR2YXIgYmFyV2lkdGggPSAoKChwbG90QXJlYS53aWR0aCAvIE1hdGguYWJzKHBsb3RVbml0LmF4aXNYLnZpZXdwb3J0TWF4aW11bSAtIHBsb3RVbml0LmF4aXNYLnZpZXdwb3J0TWluaW11bSkpICogTWF0aC5hYnMoeE1pbkRpZmYpKSAvIHBsb3RVbml0LnBsb3RUeXBlLnRvdGFsRGF0YVNlcmllcyAqIC45KSA8PCAwO1xyXG5cclxuXHRpZiAoYmFyV2lkdGggPiBtYXhCYXJXaWR0aClcclxuXHRcdGJhcldpZHRoID0gbWF4QmFyV2lkdGg7XHJcblx0ZWxzZSBpZiAoeE1pbkRpZmYgPT09IEluZmluaXR5KSB7XHJcblx0XHRiYXJXaWR0aCA9IG1heEJhcldpZHRoIC8gcGxvdFVuaXQucGxvdFR5cGUudG90YWxEYXRhU2VyaWVzICogLjk7XHJcblx0fSBlbHNlIGlmIChiYXJXaWR0aCA8IDEpXHJcblx0XHRiYXJXaWR0aCA9IDE7XHJcblxyXG5cdGN0eC5zYXZlKCk7XHJcblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxyXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnNhdmUoKTtcclxuXHJcblx0Y3R4LmJlZ2luUGF0aCgpO1xyXG5cdGN0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XHJcblx0Y3R4LmNsaXAoKTtcclxuXHJcblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XHJcblx0XHR0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHgucmVjdChwbG90QXJlYS54MSwgcGxvdEFyZWEueTEsIHBsb3RBcmVhLndpZHRoLCBwbG90QXJlYS5oZWlnaHQpO1xyXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LmNsaXAoKTtcclxuXHR9XHJcblx0Ly9jdHguYmVnaW5QYXRoKCk7XHJcblxyXG5cdGZvciAodmFyIGogPSAwOyBqIDwgcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoOyBqKyspIHtcclxuXHJcblx0XHR2YXIgZGF0YVNlcmllc0luZGV4ID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXNbal07XHJcblxyXG5cdFx0dmFyIGRhdGFTZXJpZXMgPSB0aGlzLmRhdGFbZGF0YVNlcmllc0luZGV4XTtcclxuXHRcdHZhciBkYXRhUG9pbnRzID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzO1xyXG5cdFx0dmFyIGlzRmlyc3REYXRhUG9pbnRJblBsb3RBcmVhID0gdHJ1ZTtcclxuXHJcblxyXG5cdFx0Ly8gUmVkdWNpbmcgcGl4ZWxQZXJVbml0IGJ5IDEganVzdCB0byBvdmVyY29tZSBhbnkgcHJvYmxlbXMgZHVlIHRvIHJvdW5kaW5nIG9mZiBvZiBwaXhlbHMuXHJcblx0XHQvL2RhdGFTZXJpZXMubWF4V2lkdGhJblggPSBiYXJXaWR0aCAvIChwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgPiAxID8gcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0IC0gMSA6IHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCk7XHJcblxyXG5cdFx0Ly92YXIgb2Zmc2V0WCA9IGJhcldpZHRoICogcGxvdFVuaXQuaW5kZXggPDwgMDtcclxuXHJcblxyXG5cdFx0aWYgKGRhdGFQb2ludHMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHQvL3ZhciB4eSA9IHRoaXMuZ2V0UGl4ZWxDb29yZGluYXRlc09uUGxvdEFyZWEoZGF0YVBvaW50c1swXS54LCBkYXRhUG9pbnRzWzBdLnkpO1xyXG5cclxuXHRcdFx0dmFyIGJldmVsRW5hYmxlZCA9IChiYXJXaWR0aCA+IDUpICYmIGRhdGFTZXJpZXMuYmV2ZWxFbmFibGVkID8gdHJ1ZSA6IGZhbHNlO1xyXG5cclxuXHRcdFx0Zm9yIChpID0gMDsgaSA8IGRhdGFQb2ludHMubGVuZ3RoOyBpKyspIHtcclxuXHJcblx0XHRcdFx0ZGF0YVBvaW50c1tpXS5nZXRUaW1lID8gZGF0YVBvaW50WCA9IGRhdGFQb2ludHNbaV0ueC5nZXRUaW1lKCkgOiBkYXRhUG9pbnRYID0gZGF0YVBvaW50c1tpXS54O1xyXG5cclxuXHRcdFx0XHRpZiAoZGF0YVBvaW50WCA8IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLnZpZXdQb3J0TWluIHx8IGRhdGFQb2ludFggPiBwbG90VW5pdC5heGlzWC5kYXRhSW5mby52aWV3UG9ydE1heCkge1xyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoZGF0YVBvaW50c1tpXS55ID09PSBudWxsIHx8ICFkYXRhUG9pbnRzW2ldLnkubGVuZ3RoXHJcblx0XHRcdFx0XHR8fCB0eXBlb2YgKGRhdGFQb2ludHNbaV0ueVswXSkgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIChkYXRhUG9pbnRzW2ldLnlbMV0pICE9PSBcIm51bWJlclwiKVxyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblxyXG5cdFx0XHRcdHggPSAocGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludFggLSBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xyXG5cdFx0XHRcdHkxID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqIChkYXRhUG9pbnRzW2ldLnlbMF0gLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xyXG5cdFx0XHRcdHkyID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqIChkYXRhUG9pbnRzW2ldLnlbMV0gLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xyXG5cclxuXHRcdFx0XHQvL3ZhciB4MSA9IHggLSBiYXJXaWR0aCAvIDIgPDwgMDtcclxuXHRcdFx0XHR2YXIgeDEgPSB4IC0gKHBsb3RVbml0LnBsb3RUeXBlLnRvdGFsRGF0YVNlcmllcyAqIGJhcldpZHRoIC8gMikgKyAoKHBsb3RVbml0LnByZXZpb3VzRGF0YVNlcmllc0NvdW50ICsgaikgKiBiYXJXaWR0aCkgPDwgMDtcclxuXHRcdFx0XHR2YXIgeDIgPSB4MSArIGJhcldpZHRoIDw8IDA7XHJcblx0XHRcdFx0dmFyIHkxO1xyXG5cdFx0XHRcdHZhciB5MjtcclxuXHJcblxyXG5cdFx0XHRcdGNvbG9yID0gZGF0YVBvaW50c1tpXS5jb2xvciA/IGRhdGFQb2ludHNbaV0uY29sb3IgOiBkYXRhU2VyaWVzLl9jb2xvclNldFtpICUgZGF0YVNlcmllcy5fY29sb3JTZXQubGVuZ3RoXTtcclxuXHJcblx0XHRcdFx0aWYgKHkxID4geTIpIHtcclxuXHRcdFx0XHRcdHZhciB0ZW1wID0geTE7XHJcblx0XHRcdFx0XHR5MSA9IHkyO1xyXG5cdFx0XHRcdFx0eTIgPSB0ZW1wO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0dmFyIGlkID0gZGF0YVNlcmllcy5kYXRhUG9pbnRJZHNbaV07XHJcblx0XHRcdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtpZF0gPSB7XHJcblx0XHRcdFx0XHRpZDogaWQsIG9iamVjdFR5cGU6IFwiZGF0YVBvaW50XCIsIGRhdGFTZXJpZXNJbmRleDogZGF0YVNlcmllc0luZGV4LCBkYXRhUG9pbnRJbmRleDogaSwgeDE6IHgxLCB5MTogeTEsIHgyOiB4MiwgeTI6IHkyXHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0Ly92YXIgYm9yZGVyVGhpY2tuZXNzID0gTWF0aC5tYXgoMSwgKGJhcldpZHRoICogLjEgPDwgMCkpO1xyXG5cdFx0XHRcdHZhciBib3JkZXJUaGlja25lc3MgPSAwO1xyXG5cclxuXHRcdFx0XHRkcmF3UmVjdChjdHgsIHgxLCB5MSwgeDIsIHkyLCBjb2xvciwgYm9yZGVyVGhpY2tuZXNzLCBjb2xvciwgYmV2ZWxFbmFibGVkLCBiZXZlbEVuYWJsZWQsIGZhbHNlLCBmYWxzZSwgZGF0YVNlcmllcy5maWxsT3BhY2l0eSk7XHJcblx0XHRcdFx0Y29sb3IgPSBpbnRUb0hleENvbG9yU3RyaW5nKGlkKTtcclxuXHJcblx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxyXG5cdFx0XHRcdFx0ZHJhd1JlY3QodGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LCB4MSwgeTEsIHgyLCB5MiwgY29sb3IsIDAsIG51bGwsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcclxuXHJcblxyXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLmluZGV4TGFiZWwgfHwgZGF0YVNlcmllcy5pbmRleExhYmVsIHx8IGRhdGFQb2ludHNbaV0uaW5kZXhMYWJlbEZvcm1hdHRlciB8fCBkYXRhU2VyaWVzLmluZGV4TGFiZWxGb3JtYXR0ZXIpIHtcclxuXHJcblx0XHRcdFx0XHR0aGlzLl9pbmRleExhYmVscy5wdXNoKHtcclxuXHRcdFx0XHRcdFx0Y2hhcnRUeXBlOiBcInJhbmdlQ29sdW1uXCIsXHJcblx0XHRcdFx0XHRcdGRhdGFQb2ludDogZGF0YVBvaW50c1tpXSxcclxuXHRcdFx0XHRcdFx0ZGF0YVNlcmllczogZGF0YVNlcmllcyxcclxuXHRcdFx0XHRcdFx0aW5kZXhLZXl3b3JkOiAwLFxyXG5cdFx0XHRcdFx0XHRwb2ludDoge1xyXG5cdFx0XHRcdFx0XHRcdHg6IHgxICsgKHgyIC0geDEpIC8gMiwgeTogZGF0YVBvaW50c1tpXS55WzFdID49IGRhdGFQb2ludHNbaV0ueVswXSA/IHkyIDogeTFcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0ZGlyZWN0aW9uOiBkYXRhUG9pbnRzW2ldLnlbMV0gPj0gZGF0YVBvaW50c1tpXS55WzBdID8gLTEgOiAxLFxyXG5cdFx0XHRcdFx0XHRib3VuZHM6IHtcclxuXHRcdFx0XHRcdFx0XHR4MTogeDEsIHkxOiBNYXRoLm1pbih5MSwgeTIpLCB4MjogeDIsIHkyOiBNYXRoLm1heCh5MSwgeTIpXHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdGNvbG9yOiBjb2xvclxyXG5cdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0dGhpcy5faW5kZXhMYWJlbHMucHVzaCh7XHJcblx0XHRcdFx0XHRcdGNoYXJ0VHlwZTogXCJyYW5nZUNvbHVtblwiLFxyXG5cdFx0XHRcdFx0XHRkYXRhUG9pbnQ6IGRhdGFQb2ludHNbaV0sXHJcblx0XHRcdFx0XHRcdGRhdGFTZXJpZXM6IGRhdGFTZXJpZXMsXHJcblx0XHRcdFx0XHRcdGluZGV4S2V5d29yZDogMSxcclxuXHRcdFx0XHRcdFx0cG9pbnQ6IHtcclxuXHRcdFx0XHRcdFx0XHR4OiB4MSArICh4MiAtIHgxKSAvIDIsIHk6IGRhdGFQb2ludHNbaV0ueVsxXSA+PSBkYXRhUG9pbnRzW2ldLnlbMF0gPyB5MSA6IHkyXHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdGRpcmVjdGlvbjogZGF0YVBvaW50c1tpXS55WzFdID49IGRhdGFQb2ludHNbaV0ueVswXSA/IDEgOiAtMSxcclxuXHRcdFx0XHRcdFx0Ym91bmRzOiB7XHJcblx0XHRcdFx0XHRcdFx0eDE6IHgxLCB5MTogTWF0aC5taW4oeTEsIHkyKSwgeDI6IHgyLCB5MjogTWF0aC5tYXgoeTEsIHkyKVxyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRjb2xvcjogY29sb3JcclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGN0eC5yZXN0b3JlKCk7XHJcblxyXG5cdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcclxuXHRcdHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eC5yZXN0b3JlKCk7XHJcblxyXG5cclxuXHQvL3NvdXJjZSBhbmQgZGVzdCB3b3VsZCBiZSBzYW1lIHdoZW4gYW5pbWF0aW9uIGlzIG5vdCBlbmFibGVkXHJcblx0dmFyIGFuaW1hdGlvbkluZm8gPSB7XHJcblx0XHRzb3VyY2U6IGN0eCwgZGVzdDogdGhpcy5wbG90QXJlYS5jdHgsIGFuaW1hdGlvbkNhbGxiYWNrOiBBbmltYXRpb25IZWxwZXIuZmFkZUluQW5pbWF0aW9uLCBlYXNpbmdGdW5jdGlvbjogQW5pbWF0aW9uSGVscGVyLmVhc2luZy5lYXNlSW5RdWFkLCBhbmltYXRpb25CYXNlOiAwXHJcblx0fTtcclxuXHRyZXR1cm4gYW5pbWF0aW9uSW5mbztcclxufVxyXG4iLCJcclxuaW1wb3J0IHtpc0NhbnZhc1N1cHBvcnRlZH0gZnJvbSAnLi4vaGVscGVycy91dGlscyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwbG90VW5pdCkge1xyXG5cdHZhciBjdHggPSBwbG90VW5pdC50YXJnZXRDYW52YXNDdHggfHwgdGhpcy5wbG90QXJlYS5jdHg7XHJcblx0dmFyIHRvdGFsRGF0YVNlcmllcyA9IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDtcclxuXHJcblx0aWYgKHRvdGFsRGF0YVNlcmllcyA8PSAwKVxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHR2YXIgZ2hvc3RDdHggPSB0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHg7XHJcblxyXG5cdHZhciBheGlzWFByb3BzID0gcGxvdFVuaXQuYXhpc1gubGluZUNvb3JkaW5hdGVzO1xyXG5cdHZhciBheGlzWVByb3BzID0gcGxvdFVuaXQuYXhpc1kubGluZUNvb3JkaW5hdGVzO1xyXG5cdHZhciBtYXJrZXJzID0gW107XHJcblxyXG5cdHZhciBwbG90QXJlYSA9IHRoaXMucGxvdEFyZWE7XHJcblx0Y3R4LnNhdmUoKTtcclxuXHJcblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxyXG5cdFx0Z2hvc3RDdHguc2F2ZSgpO1xyXG5cclxuXHRjdHguYmVnaW5QYXRoKCk7XHJcblx0Y3R4LnJlY3QocGxvdEFyZWEueDEsIHBsb3RBcmVhLnkxLCBwbG90QXJlYS53aWR0aCwgcGxvdEFyZWEuaGVpZ2h0KTtcclxuXHRjdHguY2xpcCgpO1xyXG5cclxuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpIHtcclxuXHRcdGdob3N0Q3R4LmJlZ2luUGF0aCgpO1xyXG5cdFx0Z2hvc3RDdHgucmVjdChwbG90QXJlYS54MSwgcGxvdEFyZWEueTEsIHBsb3RBcmVhLndpZHRoLCBwbG90QXJlYS5oZWlnaHQpO1xyXG5cdFx0Z2hvc3RDdHguY2xpcCgpO1xyXG5cdH1cclxuXHJcblx0Zm9yICh2YXIgaiA9IDA7IGogPCBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7IGorKykge1xyXG5cclxuXHRcdHZhciBkYXRhU2VyaWVzSW5kZXggPSBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlc1tqXTtcclxuXHJcblx0XHR2YXIgZGF0YVNlcmllcyA9IHRoaXMuZGF0YVtkYXRhU2VyaWVzSW5kZXhdO1xyXG5cclxuXHRcdHZhciBkYXRhUG9pbnRzID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzO1xyXG5cclxuXHRcdHZhciBzZXJpZXNJZCA9IGRhdGFTZXJpZXMuaWQ7XHJcblx0XHR0aGlzLl9ldmVudE1hbmFnZXIub2JqZWN0TWFwW3Nlcmllc0lkXSA9IHtcclxuXHRcdFx0b2JqZWN0VHlwZTogXCJkYXRhU2VyaWVzXCIsIGRhdGFTZXJpZXNJbmRleDogZGF0YVNlcmllc0luZGV4XHJcblx0XHR9O1xyXG5cclxuXHRcdHZhciBoZXhDb2xvciA9IGludFRvSGV4Q29sb3JTdHJpbmcoc2VyaWVzSWQpO1xyXG5cdFx0Z2hvc3RDdHguZmlsbFN0eWxlID0gaGV4Q29sb3I7XHJcblx0XHQvL2dob3N0Q3R4LmxpbmVXaWR0aCA9IGRhdGFTZXJpZXMubGluZVRoaWNrbmVzcztcclxuXHRcdC8vZ2hvc3RDdHgubGluZVdpZHRoID0gMjA7XHJcblxyXG5cdFx0bWFya2VycyA9IFtdO1xyXG5cclxuXHRcdHZhciBpc0ZpcnN0RGF0YVBvaW50SW5QbG90QXJlYSA9IHRydWU7XHJcblx0XHR2YXIgaSA9IDAsIHgsIHkxLCB5MjtcclxuXHRcdHZhciBkYXRhUG9pbnRYOyAvL1VzZWQgc28gdGhhdCB3aGVuIGRhdGFQb2ludC54IGlzIGEgRGF0ZVRpbWUgdmFsdWUsIGl0IGRvZXNuJ3QgZ2V0IGNvbnZlcnRlZCB0byBudW1iZXIgYmFjayBhbmQgZm9ydGguXHJcblxyXG5cdFx0dmFyIHlaZXJvVG9QaXhlbCA9IChwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoMCAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XHJcblx0XHR2YXIgYmFzZVk7XHJcblxyXG5cdFx0dmFyIHN0YXJ0UG9pbnQgPSBudWxsO1xyXG5cclxuXHRcdHZhciBwaXhlbHNZMSA9IFtdO1xyXG5cdFx0dmFyIHBpeGVsc1kyID0gW107XHJcblxyXG5cdFx0aWYgKGRhdGFQb2ludHMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHQvL2N0eC5zdHJva2VTdHlsZSA9IFwiIzQ1NzJBNyBcIjtcclxuXHRcdFx0Y29sb3IgPSBkYXRhU2VyaWVzLl9jb2xvclNldFtpICUgZGF0YVNlcmllcy5fY29sb3JTZXQubGVuZ3RoXTtcclxuXHRcdFx0Ly9jdHguc3Ryb2tlU3R5bGUgPSBcInJlZFwiO1xyXG5cdFx0XHRjdHguZmlsbFN0eWxlID0gY29sb3I7XHJcblx0XHRcdGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yO1xyXG5cdFx0XHRjdHgubGluZVdpZHRoID0gZGF0YVNlcmllcy5saW5lVGhpY2tuZXNzO1xyXG5cclxuXHRcdFx0aWYgKGN0eC5zZXRMaW5lRGFzaCkge1xyXG5cdFx0XHRcdGN0eC5zZXRMaW5lRGFzaChnZXRMaW5lRGFzaEFycmF5KGRhdGFTZXJpZXMubGluZURhc2hUeXBlLCBkYXRhU2VyaWVzLmxpbmVUaGlja25lc3MpKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Zm9yICg7IGkgPCBkYXRhUG9pbnRzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG5cdFx0XHRcdGRhdGFQb2ludFggPSBkYXRhUG9pbnRzW2ldLnguZ2V0VGltZSA/IGRhdGFQb2ludHNbaV0ueC5nZXRUaW1lKCkgOiBkYXRhUG9pbnRzW2ldLng7XHJcblxyXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRYIDwgcGxvdFVuaXQuYXhpc1guZGF0YUluZm8udmlld1BvcnRNaW4gfHwgZGF0YVBvaW50WCA+IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLnZpZXdQb3J0TWF4KSB7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLnkgPT09IG51bGwgfHwgIWRhdGFQb2ludHNbaV0ueS5sZW5ndGggfHwgdHlwZW9mIChkYXRhUG9pbnRzW2ldLnlbMF0pICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiAoZGF0YVBvaW50c1tpXS55WzFdKSAhPT0gXCJudW1iZXJcIikge1xyXG5cdFx0XHRcdFx0aWYgKGkgPiAwKSB7XHJcblx0XHRcdFx0XHRcdHJlbmRlckJlemllckFyZWEoKTtcclxuXHRcdFx0XHRcdFx0cGl4ZWxzWTEgPSBbXTtcclxuXHRcdFx0XHRcdFx0cGl4ZWxzWTIgPSBbXTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0eCA9IChwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoZGF0YVBvaW50WCAtIHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XHJcblx0XHRcdFx0eTEgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludHNbaV0ueVswXSAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XHJcblx0XHRcdFx0eTIgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludHNbaV0ueVsxXSAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XHJcblxyXG5cclxuXHRcdFx0XHR2YXIgaWQgPSBkYXRhU2VyaWVzLmRhdGFQb2ludElkc1tpXTtcclxuXHRcdFx0XHR0aGlzLl9ldmVudE1hbmFnZXIub2JqZWN0TWFwW2lkXSA9IHtcclxuXHRcdFx0XHRcdGlkOiBpZCwgb2JqZWN0VHlwZTogXCJkYXRhUG9pbnRcIiwgZGF0YVNlcmllc0luZGV4OiBkYXRhU2VyaWVzSW5kZXgsIGRhdGFQb2ludEluZGV4OiBpLCB4MTogeCwgeTE6IHkxLCB5MjogeTJcclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRwaXhlbHNZMVtwaXhlbHNZMS5sZW5ndGhdID0ge1xyXG5cdFx0XHRcdFx0eDogeCwgeTogeTFcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdHBpeGVsc1kyW3BpeGVsc1kyLmxlbmd0aF0gPSB7XHJcblx0XHRcdFx0XHR4OiB4LCB5OiB5MlxyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdC8vUmVuZGVyIE1hcmtlclxyXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLm1hcmtlclNpemUgIT09IDApIHtcclxuXHRcdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLm1hcmtlclNpemUgPiAwIHx8IGRhdGFTZXJpZXMubWFya2VyU2l6ZSA+IDApIHtcclxuXHRcdFx0XHRcdFx0dmFyIG1hcmtlclByb3BzID0gZGF0YVNlcmllcy5nZXRNYXJrZXJQcm9wZXJ0aWVzKGksIHgsIHkxLCBjdHgpO1xyXG5cdFx0XHRcdFx0XHRtYXJrZXJzLnB1c2gobWFya2VyUHJvcHMpO1xyXG5cclxuXHRcdFx0XHRcdFx0Ly9pZiAoIWRhdGFTZXJpZXMubWF4V2lkdGhJblggfHwgbWFya2VyUHJvcHMuc2l6ZSA+IGRhdGFTZXJpZXMubWF4V2lkdGhJblgpIHtcclxuXHRcdFx0XHRcdFx0Ly9cdGRhdGFTZXJpZXMubWF4V2lkdGhJblggPSBtYXJrZXJQcm9wcy5zaXplIC8gKHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCA+IDEgPyBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgLSAxIDogcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0KTtcclxuXHRcdFx0XHRcdFx0Ly99XHJcblxyXG5cdFx0XHRcdFx0XHR2YXIgbWFya2VyQ29sb3IgPSBpbnRUb0hleENvbG9yU3RyaW5nKGlkKTtcclxuXHJcblx0XHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xyXG5cdFx0XHRcdFx0XHRcdG1hcmtlcnMucHVzaCh7XHJcblx0XHRcdFx0XHRcdFx0XHR4OiB4LCB5OiB5MSwgY3R4OiBnaG9zdEN0eCxcclxuXHRcdFx0XHRcdFx0XHRcdHR5cGU6IG1hcmtlclByb3BzLnR5cGUsXHJcblx0XHRcdFx0XHRcdFx0XHRzaXplOiBtYXJrZXJQcm9wcy5zaXplLFxyXG5cdFx0XHRcdFx0XHRcdFx0Y29sb3I6IG1hcmtlckNvbG9yLFxyXG5cdFx0XHRcdFx0XHRcdFx0Ym9yZGVyQ29sb3I6IG1hcmtlckNvbG9yLFxyXG5cdFx0XHRcdFx0XHRcdFx0Ym9yZGVyVGhpY2tuZXNzOiBtYXJrZXJQcm9wcy5ib3JkZXJUaGlja25lc3NcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0dmFyIG1hcmtlclByb3BzID0gZGF0YVNlcmllcy5nZXRNYXJrZXJQcm9wZXJ0aWVzKGksIHgsIHkyLCBjdHgpO1xyXG5cdFx0XHRcdFx0XHRtYXJrZXJzLnB1c2gobWFya2VyUHJvcHMpO1xyXG5cclxuXHRcdFx0XHRcdFx0Ly9pZiAoIWRhdGFTZXJpZXMubWF4V2lkdGhJblggfHwgbWFya2VyUHJvcHMuc2l6ZSA+IGRhdGFTZXJpZXMubWF4V2lkdGhJblgpIHtcclxuXHRcdFx0XHRcdFx0Ly9cdGRhdGFTZXJpZXMubWF4V2lkdGhJblggPSBtYXJrZXJQcm9wcy5zaXplIC8gKHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCA+IDEgPyBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgLSAxIDogcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0KTtcclxuXHRcdFx0XHRcdFx0Ly99XHJcblxyXG5cdFx0XHRcdFx0XHR2YXIgbWFya2VyQ29sb3IgPSBpbnRUb0hleENvbG9yU3RyaW5nKGlkKTtcclxuXHJcblx0XHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xyXG5cdFx0XHRcdFx0XHRcdG1hcmtlcnMucHVzaCh7XHJcblx0XHRcdFx0XHRcdFx0XHR4OiB4LCB5OiB5MiwgY3R4OiBnaG9zdEN0eCxcclxuXHRcdFx0XHRcdFx0XHRcdHR5cGU6IG1hcmtlclByb3BzLnR5cGUsXHJcblx0XHRcdFx0XHRcdFx0XHRzaXplOiBtYXJrZXJQcm9wcy5zaXplLFxyXG5cdFx0XHRcdFx0XHRcdFx0Y29sb3I6IG1hcmtlckNvbG9yLFxyXG5cdFx0XHRcdFx0XHRcdFx0Ym9yZGVyQ29sb3I6IG1hcmtlckNvbG9yLFxyXG5cdFx0XHRcdFx0XHRcdFx0Ym9yZGVyVGhpY2tuZXNzOiBtYXJrZXJQcm9wcy5ib3JkZXJUaGlja25lc3NcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHRcdC8vUmVuZGVyIEluZGV4IExhYmVsc1xyXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLmluZGV4TGFiZWwgfHwgZGF0YVNlcmllcy5pbmRleExhYmVsIHx8IGRhdGFQb2ludHNbaV0uaW5kZXhMYWJlbEZvcm1hdHRlciB8fCBkYXRhU2VyaWVzLmluZGV4TGFiZWxGb3JtYXR0ZXIpIHtcclxuXHJcblx0XHRcdFx0XHR0aGlzLl9pbmRleExhYmVscy5wdXNoKHtcclxuXHRcdFx0XHRcdFx0Y2hhcnRUeXBlOiBcInNwbGluZUFyZWFcIixcclxuXHRcdFx0XHRcdFx0ZGF0YVBvaW50OiBkYXRhUG9pbnRzW2ldLFxyXG5cdFx0XHRcdFx0XHRkYXRhU2VyaWVzOiBkYXRhU2VyaWVzLFxyXG5cdFx0XHRcdFx0XHRpbmRleEtleXdvcmQ6IDAsXHJcblx0XHRcdFx0XHRcdHBvaW50OiB7XHJcblx0XHRcdFx0XHRcdFx0eDogeCwgeTogeTFcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0ZGlyZWN0aW9uOiBkYXRhUG9pbnRzW2ldLnlbMF0gPD0gZGF0YVBvaW50c1tpXS55WzFdID8gLTEgOiAxLFxyXG5cdFx0XHRcdFx0XHRjb2xvcjogY29sb3JcclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdHRoaXMuX2luZGV4TGFiZWxzLnB1c2goe1xyXG5cdFx0XHRcdFx0XHRjaGFydFR5cGU6IFwic3BsaW5lQXJlYVwiLFxyXG5cdFx0XHRcdFx0XHRkYXRhUG9pbnQ6IGRhdGFQb2ludHNbaV0sXHJcblx0XHRcdFx0XHRcdGRhdGFTZXJpZXM6IGRhdGFTZXJpZXMsXHJcblx0XHRcdFx0XHRcdGluZGV4S2V5d29yZDogMSxcclxuXHRcdFx0XHRcdFx0cG9pbnQ6IHtcclxuXHRcdFx0XHRcdFx0XHR4OiB4LCB5OiB5MlxyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRkaXJlY3Rpb246IGRhdGFQb2ludHNbaV0ueVswXSA8PSBkYXRhUG9pbnRzW2ldLnlbMV0gPyAxIDogLTEsXHJcblx0XHRcdFx0XHRcdGNvbG9yOiBjb2xvclxyXG5cdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmVuZGVyQmV6aWVyQXJlYSgpO1xyXG5cclxuXHRcdFx0UmVuZGVySGVscGVyLmRyYXdNYXJrZXJzKG1hcmtlcnMpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Y3R4LnJlc3RvcmUoKTtcclxuXHJcblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxyXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnJlc3RvcmUoKTtcclxuXHJcblx0ZnVuY3Rpb24gcmVuZGVyQmV6aWVyQXJlYSgpIHtcclxuXHRcdHZhciBicCA9IGdldEJlemllclBvaW50cyhwaXhlbHNZMSwgMik7XHJcblxyXG5cdFx0aWYgKGJwLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0Y3R4LmJlZ2luUGF0aCgpO1xyXG5cdFx0XHRjdHgubW92ZVRvKGJwWzBdLngsIGJwWzBdLnkpO1xyXG5cclxuXHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XHJcblx0XHRcdFx0Z2hvc3RDdHguYmVnaW5QYXRoKCk7XHJcblx0XHRcdFx0Z2hvc3RDdHgubW92ZVRvKGJwWzBdLngsIGJwWzBdLnkpO1xyXG5cdFx0XHR9XHJcblxyXG5cclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBicC5sZW5ndGggLSAzOyBpICs9IDMpIHtcclxuXHJcblx0XHRcdFx0Y3R4LmJlemllckN1cnZlVG8oYnBbaSArIDFdLngsIGJwW2kgKyAxXS55LCBicFtpICsgMl0ueCwgYnBbaSArIDJdLnksIGJwW2kgKyAzXS54LCBicFtpICsgM10ueSk7XHJcblxyXG5cdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcclxuXHRcdFx0XHRcdGdob3N0Q3R4LmJlemllckN1cnZlVG8oYnBbaSArIDFdLngsIGJwW2kgKyAxXS55LCBicFtpICsgMl0ueCwgYnBbaSArIDJdLnksIGJwW2kgKyAzXS54LCBicFtpICsgM10ueSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChkYXRhU2VyaWVzLmxpbmVUaGlja25lc3MgPiAwKVxyXG5cdFx0XHRcdGN0eC5zdHJva2UoKTtcclxuXHJcblx0XHRcdGJwID0gZ2V0QmV6aWVyUG9pbnRzKHBpeGVsc1kyLCAyKTtcclxuXHJcblx0XHRcdGN0eC5saW5lVG8ocGl4ZWxzWTJbcGl4ZWxzWTIubGVuZ3RoIC0gMV0ueCwgcGl4ZWxzWTJbcGl4ZWxzWTIubGVuZ3RoIC0gMV0ueSk7XHJcblxyXG5cdFx0XHRmb3IgKHZhciBpID0gYnAubGVuZ3RoIC0gMTsgaSA+IDI7IGkgLT0gMykge1xyXG5cclxuXHRcdFx0XHRjdHguYmV6aWVyQ3VydmVUbyhicFtpIC0gMV0ueCwgYnBbaSAtIDFdLnksIGJwW2kgLSAyXS54LCBicFtpIC0gMl0ueSwgYnBbaSAtIDNdLngsIGJwW2kgLSAzXS55KTtcclxuXHJcblx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxyXG5cdFx0XHRcdFx0Z2hvc3RDdHguYmV6aWVyQ3VydmVUbyhicFtpIC0gMV0ueCwgYnBbaSAtIDFdLnksIGJwW2kgLSAyXS54LCBicFtpIC0gMl0ueSwgYnBbaSAtIDNdLngsIGJwW2kgLSAzXS55KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y3R4LmNsb3NlUGF0aCgpO1xyXG5cclxuXHRcdFx0Y3R4Lmdsb2JhbEFscGhhID0gZGF0YVNlcmllcy5maWxsT3BhY2l0eTtcclxuXHRcdFx0Y3R4LmZpbGwoKTtcclxuXHRcdFx0Y3R4Lmdsb2JhbEFscGhhID0gMTtcclxuXHJcblxyXG5cdFx0XHRpZiAoZGF0YVNlcmllcy5saW5lVGhpY2tuZXNzID4gMCkge1xyXG5cdFx0XHRcdGN0eC5iZWdpblBhdGgoKTtcclxuXHRcdFx0XHRjdHgubW92ZVRvKHBpeGVsc1kyW3BpeGVsc1kyLmxlbmd0aCAtIDFdLngsIHBpeGVsc1kyW3BpeGVsc1kyLmxlbmd0aCAtIDFdLnkpO1xyXG5cclxuXHRcdFx0XHRmb3IgKHZhciBpID0gYnAubGVuZ3RoIC0gMTsgaSA+IDI7IGkgLT0gMykge1xyXG5cclxuXHRcdFx0XHRcdGN0eC5iZXppZXJDdXJ2ZVRvKGJwW2kgLSAxXS54LCBicFtpIC0gMV0ueSwgYnBbaSAtIDJdLngsIGJwW2kgLSAyXS55LCBicFtpIC0gM10ueCwgYnBbaSAtIDNdLnkpO1xyXG5cclxuXHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcclxuXHRcdFx0XHRcdFx0Z2hvc3RDdHguYmV6aWVyQ3VydmVUbyhicFtpIC0gMV0ueCwgYnBbaSAtIDFdLnksIGJwW2kgLSAyXS54LCBicFtpIC0gMl0ueSwgYnBbaSAtIDNdLngsIGJwW2kgLSAzXS55KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Y3R4LnN0cm9rZSgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjdHguYmVnaW5QYXRoKCk7XHJcblxyXG5cclxuXHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XHJcblx0XHRcdFx0Z2hvc3RDdHguY2xvc2VQYXRoKCk7XHJcblx0XHRcdFx0Z2hvc3RDdHguZmlsbCgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvL3NvdXJjZSBhbmQgZGVzdCB3b3VsZCBiZSBzYW1lIHdoZW4gYW5pbWF0aW9uIGlzIG5vdCBlbmFibGVkXHJcblx0dmFyIGFuaW1hdGlvbkluZm8gPSB7XHJcblx0XHRzb3VyY2U6IGN0eCwgZGVzdDogdGhpcy5wbG90QXJlYS5jdHgsIGFuaW1hdGlvbkNhbGxiYWNrOiBBbmltYXRpb25IZWxwZXIueENsaXBBbmltYXRpb24sIGVhc2luZ0Z1bmN0aW9uOiBBbmltYXRpb25IZWxwZXIuZWFzaW5nLmxpbmVhciwgYW5pbWF0aW9uQmFzZTogMFxyXG5cdH07XHJcblx0cmV0dXJuIGFuaW1hdGlvbkluZm87XHJcbn1cclxuLy8jcmVnaW9uIHBpZUNoYXJ0XHJcblxyXG52YXIgZHJhd1NlZ21lbnQgPSBmdW5jdGlvbiAoY3R4LCBjZW50ZXIsIHJhZGl1cywgY29sb3IsIHR5cGUsIHRoZXRhMSwgdGhldGEyLCBmaWxsT3BhY2l0eSwgcGVyY2VudElubmVyUmFkaXVzKSB7XHJcblxyXG5cdGlmICh0eXBlb2YgKGZpbGxPcGFjaXR5KSA9PT0gXCJ1bmRlZmluZWRcIilcclxuXHRcdGZpbGxPcGFjaXR5ID0gMTtcclxuXHJcblx0Ly9JRTgtIEZJWDogSW4gSUU4LSBzZWdtZW50IGRvZXNuJ3QgZ2V0IGRyYXcgaWYgdGhldGEyIGlzIGVxdWFsIHRvIHRoZXRhMSArIDIqUEkuXHJcblx0aWYgKCFpc0NhbnZhc1N1cHBvcnRlZCkge1xyXG5cdFx0dmFyIHRoZXRhMk1vZCA9IE51bWJlcigodGhldGEyICUgKDIgKiBNYXRoLlBJKSkudG9GaXhlZCg4KSk7XHJcblx0XHR2YXIgdGhldGExTW9kID0gTnVtYmVyKCh0aGV0YTEgJSAoMiAqIE1hdGguUEkpKS50b0ZpeGVkKDgpKTtcclxuXHRcdGlmICh0aGV0YTFNb2QgPT09IHRoZXRhMk1vZClcclxuXHRcdFx0dGhldGEyIC09IC4wMDAxO1xyXG5cdH1cclxuXHJcblx0Y3R4LnNhdmUoKTtcclxuXHRjdHguZ2xvYmFsQWxwaGEgPSBmaWxsT3BhY2l0eTtcclxuXHJcblx0aWYgKHR5cGUgPT09IFwicGllXCIpIHtcclxuXHRcdGN0eC5iZWdpblBhdGgoKTtcclxuXHRcdGN0eC5tb3ZlVG8oY2VudGVyLngsIGNlbnRlci55KTtcclxuXHRcdGN0eC5hcmMoY2VudGVyLngsIGNlbnRlci55LCByYWRpdXMsIHRoZXRhMSwgdGhldGEyLCBmYWxzZSk7XHJcblx0XHRjdHguZmlsbFN0eWxlID0gY29sb3I7XHJcblx0XHRjdHguc3Ryb2tlU3R5bGUgPSBcIndoaXRlXCI7XHJcblx0XHRjdHgubGluZVdpZHRoID0gMjtcclxuXHRcdC8vICAgIGN0eC5zaGFkb3dPZmZzZXRYID0gMjtcclxuXHRcdC8vICAgIGN0eC5zaGFkb3dPZmZzZXRZID0gMTtcclxuXHRcdC8vICAgICBjdHguc2hhZG93Qmx1ciA9IDI7XHJcblx0XHQvLyAgICBjdHguc2hhZG93Q29sb3IgPSAnI0JGQkZCRic7XHJcblx0XHRjdHguY2xvc2VQYXRoKCk7XHJcblx0XHQvL2N0eC5zdHJva2UoKTtcclxuXHRcdGN0eC5maWxsKCk7XHJcblx0fVxyXG5cdGVsc2UgaWYgKHR5cGUgPT09IFwiZG91Z2hudXRcIikge1xyXG5cdFx0Y3R4LmJlZ2luUGF0aCgpO1xyXG5cdFx0Y3R4LmFyYyhjZW50ZXIueCwgY2VudGVyLnksIHJhZGl1cywgdGhldGExLCB0aGV0YTIsIGZhbHNlKTtcclxuXHRcdGN0eC5hcmMoY2VudGVyLngsIGNlbnRlci55LCBwZXJjZW50SW5uZXJSYWRpdXMgKiByYWRpdXMsIHRoZXRhMiwgdGhldGExLCB0cnVlKTtcclxuXHRcdGN0eC5jbG9zZVBhdGgoKTtcclxuXHRcdGN0eC5maWxsU3R5bGUgPSBjb2xvcjtcclxuXHRcdGN0eC5zdHJva2VTdHlsZSA9IFwid2hpdGVcIjtcclxuXHRcdGN0eC5saW5lV2lkdGggPSAyO1xyXG5cdFx0Ly8gc2hhZG93IHByb3BlcnRpZXNcclxuXHRcdC8vICAgICBjdHguc2hhZG93T2Zmc2V0WCA9IDE7XHJcblx0XHQvLyAgICBjdHguc2hhZG93T2Zmc2V0WSA9IDE7XHJcblx0XHQvLyAgICAgY3R4LnNoYWRvd0JsdXIgPSAxO1xyXG5cdFx0Ly8gICAgY3R4LnNoYWRvd0NvbG9yID0gJyNCRkJGQkYnOyAgLy9ncmV5IHNoYWRvd1xyXG5cdFx0Ly9jdHguc3Ryb2tlKCk7XHJcblx0XHRjdHguZmlsbCgpO1xyXG5cdH1cclxuXHJcblx0Y3R4Lmdsb2JhbEFscGhhID0gMTtcclxuXHJcblx0Y3R4LnJlc3RvcmUoKTtcclxufTtcclxuIiwiXHJcbmltcG9ydCBSZW5kZXJIZWxwZXIgZnJvbSAnLi4vaGVscGVycy9yZW5kZXInO1xyXG5pbXBvcnQgQW5pbWF0aW9uSGVscGVyIGZyb20gJy4uL2hlbHBlcnMvYW5pbWF0b3InO1xyXG5pbXBvcnQge2lzQ2FudmFzU3VwcG9ydGVkLCBpbnRUb0hleENvbG9yU3RyaW5nfSBmcm9tICcuLi9oZWxwZXJzL3V0aWxzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChwbG90VW5pdCkge1xyXG5cdHZhciBjdHggPSBwbG90VW5pdC50YXJnZXRDYW52YXNDdHggfHwgdGhpcy5wbG90QXJlYS5jdHg7XHJcblx0dmFyIHRvdGFsRGF0YVNlcmllcyA9IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDtcclxuXHJcblx0aWYgKHRvdGFsRGF0YVNlcmllcyA8PSAwKVxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHR2YXIgY29sb3IgPSBudWxsO1xyXG5cclxuXHR2YXIgcGxvdEFyZWEgPSB0aGlzLnBsb3RBcmVhO1xyXG5cclxuXHR2YXIgaSA9IDAsIHgsIHk7XHJcblx0dmFyIGRhdGFQb2ludFg7IC8vVXNlZCBzbyB0aGF0IHdoZW4gZGF0YVBvaW50LnggaXMgYSBEYXRlVGltZSB2YWx1ZSwgaXQgZG9lc24ndCBnZXQgY29udmVydGVkIHRvIG51bWJlciBmcm9tIGRhdGFUaW1lIGV2ZXJ5dGltZSBpdCBpcyB1c2VkLlxyXG5cclxuXHR2YXIgeVplcm9Ub1BpeGVsID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqICgwIC0gcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkpIDw8IDA7XHJcblxyXG5cdHZhciBtYXhCYXJXaWR0aCA9IHRoaXMuZGF0YVBvaW50TWF4V2lkdGggPyB0aGlzLmRhdGFQb2ludE1heFdpZHRoIDogdGhpcy53aWR0aCAqIC4xNSA8PCAwO1xyXG5cdHZhciB4TWluRGlmZiA9IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLm1pbkRpZmY7XHJcblx0dmFyIGJhcldpZHRoID0gKCgocGxvdEFyZWEud2lkdGggLyBNYXRoLmFicyhwbG90VW5pdC5heGlzWC52aWV3cG9ydE1heGltdW0gLSBwbG90VW5pdC5heGlzWC52aWV3cG9ydE1pbmltdW0pKSAqIE1hdGguYWJzKHhNaW5EaWZmKSkgLyB0b3RhbERhdGFTZXJpZXMgKiAuOSkgPDwgMDtcclxuXHJcblxyXG5cdGN0eC5zYXZlKCk7XHJcblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxyXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnNhdmUoKTtcclxuXHJcblx0Y3R4LmJlZ2luUGF0aCgpO1xyXG5cdGN0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XHJcblx0Y3R4LmNsaXAoKTtcclxuXHJcblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XHJcblx0XHR0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHgucmVjdChwbG90QXJlYS54MSwgcGxvdEFyZWEueTEsIHBsb3RBcmVhLndpZHRoLCBwbG90QXJlYS5oZWlnaHQpO1xyXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LmNsaXAoKTtcclxuXHR9XHJcblxyXG5cdGZvciAodmFyIGogPSAwOyBqIDwgcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoOyBqKyspIHtcclxuXHJcblx0XHR2YXIgZGF0YVNlcmllc0luZGV4ID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXNbal07XHJcblxyXG5cdFx0dmFyIGRhdGFTZXJpZXMgPSB0aGlzLmRhdGFbZGF0YVNlcmllc0luZGV4XTtcclxuXHRcdHZhciBkYXRhUG9pbnRzID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzO1xyXG5cdFx0dmFyIGlzRmlyc3REYXRhUG9pbnRJblBsb3RBcmVhID0gdHJ1ZTtcclxuXHJcblx0XHRpZiAoZGF0YVBvaW50cy5sZW5ndGggPT0gMSlcclxuXHRcdFx0YmFyV2lkdGggPSBtYXhCYXJXaWR0aDtcclxuXHJcblx0XHRpZiAoYmFyV2lkdGggPCAxKVxyXG5cdFx0XHRiYXJXaWR0aCA9IDE7XHJcblx0XHRlbHNlIGlmIChiYXJXaWR0aCA+IG1heEJhcldpZHRoKVxyXG5cdFx0XHRiYXJXaWR0aCA9IG1heEJhcldpZHRoO1xyXG5cclxuXHRcdGlmIChkYXRhUG9pbnRzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0Ly92YXIgYmV2ZWxFbmFibGVkID0gKGJhcldpZHRoID4gNSkgPyBmYWxzZSA6IGZhbHNlO1xyXG5cclxuXHRcdFx0Y3R4LnN0cm9rZVN0eWxlID0gXCIjNDU3MkE3IFwiO1xyXG5cclxuXHRcdFx0dmFyIG1heEFyZWEgPSBNYXRoLnBvdyhNYXRoLm1pbihwbG90QXJlYS5oZWlnaHQsIHBsb3RBcmVhLndpZHRoKSAqIC4zIC8gMiwgMikgKiBNYXRoLlBJO1xyXG5cclxuXHRcdFx0dmFyIHByZXZEYXRhUG9pbnRYID0gMDtcclxuXHRcdFx0dmFyIHByZXZEYXRhUG9pbnRZID0gMDtcclxuXHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YVBvaW50cy5sZW5ndGg7IGkrKykge1xyXG5cclxuXHRcdFx0XHRkYXRhUG9pbnRYID0gZGF0YVBvaW50c1tpXS5nZXRUaW1lID8gZGF0YVBvaW50WCA9IGRhdGFQb2ludHNbaV0ueC5nZXRUaW1lKCkgOiBkYXRhUG9pbnRYID0gZGF0YVBvaW50c1tpXS54O1xyXG5cclxuXHRcdFx0XHRpZiAoZGF0YVBvaW50WCA8IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLnZpZXdQb3J0TWluIHx8IGRhdGFQb2ludFggPiBwbG90VW5pdC5heGlzWC5kYXRhSW5mby52aWV3UG9ydE1heCkge1xyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAodHlwZW9mIChkYXRhUG9pbnRzW2ldLnkpICE9PSBcIm51bWJlclwiKVxyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblxyXG5cdFx0XHRcdHggPSAocGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludFggLSBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xyXG5cdFx0XHRcdHkgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludHNbaV0ueSAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XHJcblxyXG5cdFx0XHRcdHZhciBtYXJrZXJQcm9wcyA9IGRhdGFTZXJpZXMuZ2V0TWFya2VyUHJvcGVydGllcyhpLCB4LCB5LCBjdHgpO1xyXG5cclxuXHRcdFx0XHRjdHguZ2xvYmFsQWxwaGEgPSBkYXRhU2VyaWVzLmZpbGxPcGFjaXR5O1xyXG5cdFx0XHRcdFJlbmRlckhlbHBlci5kcmF3TWFya2VyKG1hcmtlclByb3BzLngsIG1hcmtlclByb3BzLnksIG1hcmtlclByb3BzLmN0eCwgbWFya2VyUHJvcHMudHlwZSwgbWFya2VyUHJvcHMuc2l6ZSwgbWFya2VyUHJvcHMuY29sb3IsIG1hcmtlclByb3BzLmJvcmRlckNvbG9yLCBtYXJrZXJQcm9wcy5ib3JkZXJUaGlja25lc3MpO1xyXG5cdFx0XHRcdGN0eC5nbG9iYWxBbHBoYSA9IDE7XHJcblxyXG5cclxuXHRcdFx0XHQvL2lmIChNYXRoLmFicyhwcmV2RGF0YVBvaW50WCAtIHgpIDwgbWFya2VyUHJvcHMuc2l6ZSAvIDIgJiYgTWF0aC5hYnMocHJldkRhdGFQb2ludFkgLSB5KSA8IG1hcmtlclByb3BzLnNpemUgLyAyKSB7XHJcblx0XHRcdFx0Ly8gICAgY29udGludWU7XHJcblx0XHRcdFx0Ly99XHJcblxyXG5cdFx0XHRcdC8vaWYgKCFkYXRhU2VyaWVzLm1heFdpZHRoSW5YIHx8IG1hcmtlclByb3BzLnNpemUgPiBkYXRhU2VyaWVzLm1heFdpZHRoSW5YKSB7XHJcblx0XHRcdFx0Ly9cdGRhdGFTZXJpZXMubWF4V2lkdGhJblggPSBtYXJrZXJQcm9wcy5zaXplIC8gKHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCA+IDEgPyBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgLSAxIDogcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0KTtcclxuXHRcdFx0XHQvL31cclxuXHJcblx0XHRcdFx0aWYgKChNYXRoLnNxcnQoKHByZXZEYXRhUG9pbnRYIC0geCkgKiAocHJldkRhdGFQb2ludFggLSB4KSArIChwcmV2RGF0YVBvaW50WSAtIHkpICogKHByZXZEYXRhUG9pbnRZIC0geSkpIDwgTWF0aC5taW4obWFya2VyUHJvcHMuc2l6ZSwgNSkpXHJcblx0XHRcdFx0XHQmJiBkYXRhUG9pbnRzLmxlbmd0aCA+IChNYXRoLm1pbih0aGlzLnBsb3RBcmVhLndpZHRoLCB0aGlzLnBsb3RBcmVhLmhlaWdodCkpKSB7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vUmVuZGVyIElEIG9uIEdob3N0IENhbnZhcyAtIGZvciBldmVudCBoYW5kbGluZ1xyXG5cdFx0XHRcdHZhciBpZCA9IGRhdGFTZXJpZXMuZGF0YVBvaW50SWRzW2ldO1xyXG5cdFx0XHRcdHRoaXMuX2V2ZW50TWFuYWdlci5vYmplY3RNYXBbaWRdID0ge1xyXG5cdFx0XHRcdFx0aWQ6IGlkLCBvYmplY3RUeXBlOiBcImRhdGFQb2ludFwiLCBkYXRhU2VyaWVzSW5kZXg6IGRhdGFTZXJpZXNJbmRleCwgZGF0YVBvaW50SW5kZXg6IGksIHgxOiB4LCB5MTogeVxyXG5cdFx0XHRcdH07XHJcblx0XHRcdFx0dmFyIG1hcmtlckNvbG9yID0gaW50VG9IZXhDb2xvclN0cmluZyhpZCk7XHJcblxyXG5cdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xyXG5cdFx0XHRcdFx0UmVuZGVySGVscGVyLmRyYXdNYXJrZXIoXHJcblx0XHRcdFx0XHRcdFx0bWFya2VyUHJvcHMueCwgbWFya2VyUHJvcHMueSwgdGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LFxyXG5cdFx0XHRcdFx0XHRcdG1hcmtlclByb3BzLnR5cGUsXHJcblx0XHRcdFx0XHRcdFx0bWFya2VyUHJvcHMuc2l6ZSxcclxuXHRcdFx0XHRcdFx0XHRtYXJrZXJDb2xvcixcclxuXHRcdFx0XHRcdFx0XHRtYXJrZXJDb2xvcixcclxuXHRcdFx0XHRcdFx0XHRtYXJrZXJQcm9wcy5ib3JkZXJUaGlja25lc3NcclxuXHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly9tYXJrZXJzLnB1c2goKTtcclxuXHJcblx0XHRcdFx0aWYgKGRhdGFQb2ludHNbaV0uaW5kZXhMYWJlbCB8fCBkYXRhU2VyaWVzLmluZGV4TGFiZWwgfHwgZGF0YVBvaW50c1tpXS5pbmRleExhYmVsRm9ybWF0dGVyIHx8IGRhdGFTZXJpZXMuaW5kZXhMYWJlbEZvcm1hdHRlcikge1xyXG5cclxuXHRcdFx0XHRcdHRoaXMuX2luZGV4TGFiZWxzLnB1c2goe1xyXG5cdFx0XHRcdFx0XHRjaGFydFR5cGU6IFwic2NhdHRlclwiLFxyXG5cdFx0XHRcdFx0XHRkYXRhUG9pbnQ6IGRhdGFQb2ludHNbaV0sXHJcblx0XHRcdFx0XHRcdGRhdGFTZXJpZXM6IGRhdGFTZXJpZXMsXHJcblx0XHRcdFx0XHRcdHBvaW50OiB7XHJcblx0XHRcdFx0XHRcdFx0eDogeCwgeTogeVxyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRkaXJlY3Rpb246IDEsXHJcblx0XHRcdFx0XHRcdGJvdW5kczoge1xyXG5cdFx0XHRcdFx0XHRcdHgxOiB4IC0gbWFya2VyUHJvcHMuc2l6ZSAvIDIsIHkxOiB5IC0gbWFya2VyUHJvcHMuc2l6ZSAvIDIsIHgyOiB4ICsgbWFya2VyUHJvcHMuc2l6ZSAvIDIsIHkyOiB5ICsgbWFya2VyUHJvcHMuc2l6ZSAvIDJcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0Y29sb3I6IGNvbG9yXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHByZXZEYXRhUG9pbnRYID0geDtcclxuXHRcdFx0XHRwcmV2RGF0YVBvaW50WSA9IHk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGN0eC5yZXN0b3JlKCk7XHJcblxyXG5cdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcclxuXHRcdHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eC5yZXN0b3JlKCk7XHJcblxyXG5cdC8vc291cmNlIGFuZCBkZXN0IHdvdWxkIGJlIHNhbWUgd2hlbiBhbmltYXRpb24gaXMgbm90IGVuYWJsZWRcclxuXHR2YXIgYW5pbWF0aW9uSW5mbyA9IHtcclxuXHRcdHNvdXJjZTogY3R4LCBkZXN0OiB0aGlzLnBsb3RBcmVhLmN0eCwgYW5pbWF0aW9uQ2FsbGJhY2s6IEFuaW1hdGlvbkhlbHBlci5mYWRlSW5BbmltYXRpb24sIGVhc2luZ0Z1bmN0aW9uOiBBbmltYXRpb25IZWxwZXIuZWFzaW5nLmVhc2VJblF1YWQsIGFuaW1hdGlvbkJhc2U6IDBcclxuXHR9O1xyXG5cdHJldHVybiBhbmltYXRpb25JbmZvO1xyXG59XHJcbiIsIlxyXG5pbXBvcnQge2lzQ2FudmFzU3VwcG9ydGVkfSBmcm9tICcuLi9oZWxwZXJzL3V0aWxzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChwbG90VW5pdCkge1xyXG5cdFx0dmFyIGN0eCA9IHBsb3RVbml0LnRhcmdldENhbnZhc0N0eCB8fCB0aGlzLnBsb3RBcmVhLmN0eDtcclxuXHJcblx0XHR2YXIgdG90YWxEYXRhU2VyaWVzID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoO1xyXG5cdFx0aWYgKHRvdGFsRGF0YVNlcmllcyA8PSAwKVxyXG5cdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0dmFyIGdob3N0Q3R4ID0gdGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4O1xyXG5cclxuXHRcdGN0eC5zYXZlKCk7XHJcblxyXG5cdFx0dmFyIHBsb3RBcmVhID0gdGhpcy5wbG90QXJlYTtcclxuXHJcblx0XHRjdHguYmVnaW5QYXRoKCk7XHJcblx0XHRjdHgucmVjdChwbG90QXJlYS54MSwgcGxvdEFyZWEueTEsIHBsb3RBcmVhLndpZHRoLCBwbG90QXJlYS5oZWlnaHQpO1xyXG5cdFx0Y3R4LmNsaXAoKTtcclxuXHJcblx0XHR2YXIgbWFya2VycyA9IFtdO1xyXG5cclxuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoOyBqKyspIHtcclxuXHJcblx0XHRcdHZhciBkYXRhU2VyaWVzSW5kZXggPSBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlc1tqXTtcclxuXHJcblx0XHRcdHZhciBkYXRhU2VyaWVzID0gdGhpcy5kYXRhW2RhdGFTZXJpZXNJbmRleF07XHJcblx0XHRcdGN0eC5saW5lV2lkdGggPSBkYXRhU2VyaWVzLmxpbmVUaGlja25lc3M7XHJcblx0XHRcdHZhciBkYXRhUG9pbnRzID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzO1xyXG5cclxuXHRcdFx0aWYgKGN0eC5zZXRMaW5lRGFzaCkge1xyXG5cdFx0XHRcdGN0eC5zZXRMaW5lRGFzaChnZXRMaW5lRGFzaEFycmF5KGRhdGFTZXJpZXMubGluZURhc2hUeXBlLCBkYXRhU2VyaWVzLmxpbmVUaGlja25lc3MpKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dmFyIHNlcmllc0lkID0gZGF0YVNlcmllcy5pZDtcclxuXHRcdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtzZXJpZXNJZF0gPSB7XHJcblx0XHRcdFx0b2JqZWN0VHlwZTogXCJkYXRhU2VyaWVzXCIsIGRhdGFTZXJpZXNJbmRleDogZGF0YVNlcmllc0luZGV4XHJcblx0XHRcdH07XHJcblx0XHRcdHZhciBoZXhDb2xvciA9IGludFRvSGV4Q29sb3JTdHJpbmcoc2VyaWVzSWQpO1xyXG5cdFx0XHRnaG9zdEN0eC5zdHJva2VTdHlsZSA9IGhleENvbG9yO1xyXG5cdFx0XHQvL2dob3N0Q3R4LmxpbmVXaWR0aCA9IGRhdGFTZXJpZXMubGluZVRoaWNrbmVzcztcclxuXHRcdFx0Z2hvc3RDdHgubGluZVdpZHRoID0gZGF0YVNlcmllcy5saW5lVGhpY2tuZXNzID4gMCA/IE1hdGgubWF4KGRhdGFTZXJpZXMubGluZVRoaWNrbmVzcywgNCkgOiAwO1xyXG5cclxuXHRcdFx0dmFyIGNvbG9yU2V0ID0gZGF0YVNlcmllcy5fY29sb3JTZXQ7XHJcblx0XHRcdHZhciBjb2xvciA9IGNvbG9yU2V0WzBdO1xyXG5cdFx0XHRjdHguc3Ryb2tlU3R5bGUgPSBjb2xvcjtcclxuXHJcblx0XHRcdHZhciBpc0ZpcnN0RGF0YVBvaW50SW5QbG90QXJlYSA9IHRydWU7XHJcblx0XHRcdHZhciBpID0gMCwgeCwgeTtcclxuXHRcdFx0dmFyIGRhdGFQb2ludFg7IC8vVXNlZCBzbyB0aGF0IHdoZW4gZGF0YVBvaW50LnggaXMgYSBEYXRlVGltZSB2YWx1ZSwgaXQgZG9lc24ndCBnZXQgY29udmVydGVkIHRvIG51bWJlciBiYWNrIGFuZCBmb3J0aC5cclxuXHJcblx0XHRcdC8vaWYgKCFkYXRhU2VyaWVzLl9vcHRpb25zLm1hcmtlclNpemUgJiYgZGF0YVNlcmllcy5kYXRhUG9pbnRzLmxlbmd0aCA8IDEwMDApXHJcblx0XHRcdC8vICAgIGRhdGFTZXJpZXMubWFya2VyU2l6ZSA9IDg7XHJcblxyXG5cdFx0XHR2YXIgcGl4ZWxzID0gW107XHJcblxyXG5cdFx0XHRjdHguYmVnaW5QYXRoKCk7XHJcblx0XHRcdGlmIChkYXRhUG9pbnRzLmxlbmd0aCA+IDApIHtcclxuXHJcblx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGRhdGFQb2ludHMubGVuZ3RoOyBpKyspIHtcclxuXHJcblx0XHRcdFx0XHRkYXRhUG9pbnRYID0gZGF0YVBvaW50c1tpXS5nZXRUaW1lID8gZGF0YVBvaW50c1tpXS54LmdldFRpbWUoKSA6IGRhdGFQb2ludHNbaV0ueDtcclxuXHJcblx0XHRcdFx0XHRpZiAoZGF0YVBvaW50WCA8IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLnZpZXdQb3J0TWluIHx8IGRhdGFQb2ludFggPiBwbG90VW5pdC5heGlzWC5kYXRhSW5mby52aWV3UG9ydE1heClcclxuXHRcdFx0XHRcdFx0Y29udGludWU7XHJcblxyXG5cdFx0XHRcdFx0Ly9pZiAoIWlzRmluaXRlKGRhdGFQb2ludHNbaV0ueSkpXHJcblx0XHRcdFx0XHQvLyAgICBjb250aW51ZTtcclxuXHJcblx0XHRcdFx0XHRpZiAodHlwZW9mIChkYXRhUG9pbnRzW2ldLnkpICE9PSBcIm51bWJlclwiKSB7XHJcblx0XHRcdFx0XHRcdGlmIChpID4gMCkgey8vIGlmIGZpcnN0IGRhdGFQb2ludCBpcyBudWxsIHRoZW4gbm8gbmVlZCB0byBjYWxsIHN0cm9rZSBtZXRob2RcclxuXHRcdFx0XHRcdFx0XHRyZW5kZXJCZXppZXIocGl4ZWxzKTtcclxuXHRcdFx0XHRcdFx0XHRwaXhlbHMgPSBbXTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0eCA9IChwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoZGF0YVBvaW50WCAtIHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XHJcblx0XHRcdFx0XHR5ID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqIChkYXRhUG9pbnRzW2ldLnkgLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xyXG5cclxuXHRcdFx0XHRcdHZhciBpZCA9IGRhdGFTZXJpZXMuZGF0YVBvaW50SWRzW2ldO1xyXG5cdFx0XHRcdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtpZF0gPSB7XHJcblx0XHRcdFx0XHRcdGlkOiBpZCwgb2JqZWN0VHlwZTogXCJkYXRhUG9pbnRcIiwgZGF0YVNlcmllc0luZGV4OiBkYXRhU2VyaWVzSW5kZXgsIGRhdGFQb2ludEluZGV4OiBpLCB4MTogeCwgeTE6IHlcclxuXHRcdFx0XHRcdH07XHJcblxyXG5cclxuXHRcdFx0XHRcdHBpeGVsc1twaXhlbHMubGVuZ3RoXSA9IHtcclxuXHRcdFx0XHRcdFx0eDogeCwgeTogeVxyXG5cdFx0XHRcdFx0fTtcclxuXHJcblxyXG5cdFx0XHRcdFx0Ly9BZGQgTWFya2Vyc1xyXG5cdFx0XHRcdFx0aWYgKGRhdGFQb2ludHNbaV0ubWFya2VyU2l6ZSA+IDAgfHwgZGF0YVNlcmllcy5tYXJrZXJTaXplID4gMCkge1xyXG5cclxuXHRcdFx0XHRcdFx0dmFyIG1hcmtlclByb3BzID0gZGF0YVNlcmllcy5nZXRNYXJrZXJQcm9wZXJ0aWVzKGksIHgsIHksIGN0eCk7XHJcblx0XHRcdFx0XHRcdG1hcmtlcnMucHVzaChtYXJrZXJQcm9wcyk7XHJcblxyXG5cdFx0XHRcdFx0XHQvL2lmICghZGF0YVNlcmllcy5tYXhXaWR0aEluWCB8fCBtYXJrZXJQcm9wcy5zaXplID4gZGF0YVNlcmllcy5tYXhXaWR0aEluWCkge1xyXG5cdFx0XHRcdFx0XHQvL1x0ZGF0YVNlcmllcy5tYXhXaWR0aEluWCA9IG1hcmtlclByb3BzLnNpemUgLyAocGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ID4gMSA/IHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAtIDEgOiBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQpO1xyXG5cdFx0XHRcdFx0XHQvL31cclxuXHJcblx0XHRcdFx0XHRcdHZhciBtYXJrZXJDb2xvciA9IGludFRvSGV4Q29sb3JTdHJpbmcoaWQpO1xyXG5cclxuXHRcdFx0XHRcdFx0Ly93aW5kb3cuY29uc29sZS5sb2coXCJpbmRleDogXCIgKyBpICsgXCI7IGlkOiBcIiArIGlkICsgXCI7IGhleDogXCIgKyBtYXJrZXJDb2xvcik7XHJcblx0XHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xyXG5cdFx0XHRcdFx0XHRcdG1hcmtlcnMucHVzaCh7XHJcblx0XHRcdFx0XHRcdFx0XHR4OiB4LCB5OiB5LCBjdHg6IGdob3N0Q3R4LFxyXG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogbWFya2VyUHJvcHMudHlwZSxcclxuXHRcdFx0XHRcdFx0XHRcdHNpemU6IG1hcmtlclByb3BzLnNpemUsXHJcblx0XHRcdFx0XHRcdFx0XHRjb2xvcjogbWFya2VyQ29sb3IsXHJcblx0XHRcdFx0XHRcdFx0XHRib3JkZXJDb2xvcjogbWFya2VyQ29sb3IsXHJcblx0XHRcdFx0XHRcdFx0XHRib3JkZXJUaGlja25lc3M6IG1hcmtlclByb3BzLmJvcmRlclRoaWNrbmVzc1xyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly9BZGQgTGFiZWxzXHJcblx0XHRcdFx0XHRpZiAoZGF0YVBvaW50c1tpXS5pbmRleExhYmVsIHx8IGRhdGFTZXJpZXMuaW5kZXhMYWJlbCB8fCBkYXRhUG9pbnRzW2ldLmluZGV4TGFiZWxGb3JtYXR0ZXIgfHwgZGF0YVNlcmllcy5pbmRleExhYmVsRm9ybWF0dGVyKSB7XHJcblxyXG5cdFx0XHRcdFx0XHR0aGlzLl9pbmRleExhYmVscy5wdXNoKHtcclxuXHRcdFx0XHRcdFx0XHRjaGFydFR5cGU6IFwic3BsaW5lXCIsXHJcblx0XHRcdFx0XHRcdFx0ZGF0YVBvaW50OiBkYXRhUG9pbnRzW2ldLFxyXG5cdFx0XHRcdFx0XHRcdGRhdGFTZXJpZXM6IGRhdGFTZXJpZXMsXHJcblx0XHRcdFx0XHRcdFx0cG9pbnQ6IHtcclxuXHRcdFx0XHRcdFx0XHRcdHg6IHgsIHk6IHlcclxuXHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRcdGRpcmVjdGlvbjogZGF0YVBvaW50c1tpXS55ID49IDAgPyAxIDogLTEsXHJcblx0XHRcdFx0XHRcdFx0Y29sb3I6IGNvbG9yXHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZW5kZXJCZXppZXIocGl4ZWxzKTtcclxuXHRcdH1cclxuXHJcblx0XHRSZW5kZXJIZWxwZXIuZHJhd01hcmtlcnMobWFya2Vycyk7XHJcblx0XHRjdHgucmVzdG9yZSgpO1xyXG5cclxuXHRcdGN0eC5iZWdpblBhdGgoKTtcclxuXHJcblx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXHJcblx0XHRcdGdob3N0Q3R4LmJlZ2luUGF0aCgpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIHJlbmRlckJlemllcihwaXhlbHMpIHtcclxuXHJcblx0XHRcdHZhciBicCA9IGdldEJlemllclBvaW50cyhwaXhlbHMsIDIpO1xyXG5cclxuXHRcdFx0aWYgKGJwLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRjdHguYmVnaW5QYXRoKCk7XHJcblx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxyXG5cdFx0XHRcdFx0Z2hvc3RDdHguYmVnaW5QYXRoKCk7XHJcblxyXG5cdFx0XHRcdGN0eC5tb3ZlVG8oYnBbMF0ueCwgYnBbMF0ueSk7XHJcblx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxyXG5cdFx0XHRcdFx0Z2hvc3RDdHgubW92ZVRvKGJwWzBdLngsIGJwWzBdLnkpO1xyXG5cclxuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGJwLmxlbmd0aCAtIDM7IGkgKz0gMykge1xyXG5cclxuXHRcdFx0XHRcdGN0eC5iZXppZXJDdXJ2ZVRvKGJwW2kgKyAxXS54LCBicFtpICsgMV0ueSwgYnBbaSArIDJdLngsIGJwW2kgKyAyXS55LCBicFtpICsgM10ueCwgYnBbaSArIDNdLnkpO1xyXG5cclxuXHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcclxuXHRcdFx0XHRcdFx0Z2hvc3RDdHguYmV6aWVyQ3VydmVUbyhicFtpICsgMV0ueCwgYnBbaSArIDFdLnksIGJwW2kgKyAyXS54LCBicFtpICsgMl0ueSwgYnBbaSArIDNdLngsIGJwW2kgKyAzXS55KTtcclxuXHJcblx0XHRcdFx0XHRpZiAoaSA+IDAgJiYgaSAlIDMwMDAgPT09IDApIHtcclxuXHRcdFx0XHRcdFx0Y3R4LnN0cm9rZSgpO1xyXG5cdFx0XHRcdFx0XHRjdHguYmVnaW5QYXRoKCk7XHJcblx0XHRcdFx0XHRcdGN0eC5tb3ZlVG8oYnBbaSArIDNdLngsIGJwW2kgKyAzXS55KTtcclxuXHJcblx0XHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xyXG5cdFx0XHRcdFx0XHRcdGdob3N0Q3R4LnN0cm9rZSgpO1xyXG5cdFx0XHRcdFx0XHRcdGdob3N0Q3R4LmJlZ2luUGF0aCgpO1xyXG5cdFx0XHRcdFx0XHRcdGdob3N0Q3R4Lm1vdmVUbyhicFtpICsgM10ueCwgYnBbaSArIDNdLnkpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRjdHguc3Ryb2tlKCk7XHJcblxyXG5cdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcclxuXHRcdFx0XHRcdGdob3N0Q3R4LnN0cm9rZSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly9zb3VyY2UgYW5kIGRlc3Qgd291bGQgYmUgc2FtZSB3aGVuIGFuaW1hdGlvbiBpcyBub3QgZW5hYmxlZFxyXG5cdFx0dmFyIGFuaW1hdGlvbkluZm8gPSB7XHJcblx0XHRcdHNvdXJjZTogY3R4LCBkZXN0OiB0aGlzLnBsb3RBcmVhLmN0eCwgYW5pbWF0aW9uQ2FsbGJhY2s6IEFuaW1hdGlvbkhlbHBlci54Q2xpcEFuaW1hdGlvbiwgZWFzaW5nRnVuY3Rpb246IEFuaW1hdGlvbkhlbHBlci5lYXNpbmcubGluZWFyLCBhbmltYXRpb25CYXNlOiAwXHJcblx0XHR9O1xyXG5cdFx0cmV0dXJuIGFuaW1hdGlvbkluZm87XHJcblx0fVxyXG5cclxuXHR2YXIgZHJhd1JlY3QgPSBmdW5jdGlvbiAoY3R4LCB4MSwgeTEsIHgyLCB5MiwgY29sb3IsIGJvcmRlclRoaWNrbmVzcywgYm9yZGVyQ29sb3IsIHRvcCwgYm90dG9tLCBsZWZ0LCByaWdodCwgZmlsbE9wYWNpdHkpIHtcclxuXHRcdGlmICh0eXBlb2YgKGZpbGxPcGFjaXR5KSA9PT0gXCJ1bmRlZmluZWRcIilcclxuXHRcdFx0ZmlsbE9wYWNpdHkgPSAxO1xyXG5cclxuXHRcdGJvcmRlclRoaWNrbmVzcyA9IGJvcmRlclRoaWNrbmVzcyB8fCAwO1xyXG5cdFx0Ym9yZGVyQ29sb3IgPSBib3JkZXJDb2xvciB8fCBcImJsYWNrXCI7XHJcblx0XHQvL2FsZXJ0KFwidG9wXCIrIHRvcCArIFwiYm90dG9tXCIgKyBib3R0b20gKyBcIiBsdFwiICsgbGVmdCsgXCJydFwiICsgcmlnaHQgKVxyXG5cdFx0dmFyIGExID0geDEsIGEyID0geDIsIGIxID0geTEsIGIyID0geTIsIGVkZ2VZLCBlZGdlWDtcclxuXHRcdGlmICh4MiAtIHgxID4gMTUgJiYgeTIgLSB5MSA+IDE1KVxyXG5cdFx0XHR2YXIgYmV2ZWxEZXB0aCA9IDg7XHJcblx0XHRlbHNlXHJcblx0XHRcdHZhciBiZXZlbERlcHRoID0gMC4zNSAqIE1hdGgubWluKCh4MiAtIHgxKSwgKHkyIC0geTEpKTtcclxuXHRcdC8vYWxlcnQoYTEgKyBcIlwiICsgYTIpO1xyXG5cdFx0dmFyIGNvbG9yMiA9IFwicmdiYSgyNTUsIDI1NSwgMjU1LCAuNClcIjtcclxuXHRcdHZhciBjb2xvcjMgPSBcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKVwiO1xyXG5cdFx0Ly9jb2xvcjEgPSBcInJnYmEoXCIgKyByICsgXCIsXCIgKyBnICsgXCIsIFwiICsgYiArIFwiLDEpXCI7XHJcblx0XHR2YXIgY29sb3IxID0gY29sb3I7XHJcblxyXG5cdFx0Y3R4LmJlZ2luUGF0aCgpO1xyXG5cdFx0Y3R4Lm1vdmVUbyh4MSwgeTEpO1xyXG5cdFx0Y3R4LnNhdmUoKTtcclxuXHRcdGN0eC5maWxsU3R5bGUgPSBjb2xvcjE7XHJcblxyXG5cdFx0Y3R4Lmdsb2JhbEFscGhhID0gZmlsbE9wYWNpdHk7XHJcblx0XHRjdHguZmlsbFJlY3QoeDEsIHkxLCB4MiAtIHgxLCB5MiAtIHkxKTtcclxuXHRcdGN0eC5nbG9iYWxBbHBoYSA9IDE7XHJcblxyXG5cdFx0aWYgKGJvcmRlclRoaWNrbmVzcyA+IDApIHtcclxuXHRcdFx0dmFyIG9mZnNldCA9IGJvcmRlclRoaWNrbmVzcyAlIDIgPT09IDAgPyAwIDogLjU7XHJcblx0XHRcdGN0eC5iZWdpblBhdGgoKTtcclxuXHRcdFx0Y3R4LmxpbmVXaWR0aCA9IGJvcmRlclRoaWNrbmVzcztcclxuXHRcdFx0Y3R4LnN0cm9rZVN0eWxlID0gYm9yZGVyQ29sb3I7XHJcblx0XHRcdGN0eC5tb3ZlVG8oeDEsIHkxKTtcclxuXHRcdFx0Y3R4LnJlY3QoeDEgLSBvZmZzZXQsIHkxIC0gb2Zmc2V0LCB4MiAtIHgxICsgMiAqIG9mZnNldCwgeTIgLSB5MSArIDIgKiBvZmZzZXQpO1xyXG5cdFx0XHRjdHguc3Ryb2tlKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Y3R4LnJlc3RvcmUoKTtcclxuXHRcdC8vICAgY3R4LmJlZ2luUGF0aCgpO1xyXG5cdFx0aWYgKHRvcCA9PT0gdHJ1ZSkge1xyXG5cdFx0XHQvLyBhbGVydCh4MSArIFwiXCIgKyB4MiArIFwiIFwiICsgYmV2ZWxEZXB0aCk7XHJcblx0XHRcdGN0eC5zYXZlKCk7XHJcblx0XHRcdGN0eC5iZWdpblBhdGgoKTtcclxuXHRcdFx0Y3R4Lm1vdmVUbyh4MSwgeTEpO1xyXG5cdFx0XHRjdHgubGluZVRvKHgxICsgYmV2ZWxEZXB0aCwgeTEgKyBiZXZlbERlcHRoKTtcclxuXHRcdFx0Y3R4LmxpbmVUbyh4MiAtIGJldmVsRGVwdGgsIHkxICsgYmV2ZWxEZXB0aCk7XHJcblx0XHRcdGN0eC5saW5lVG8oeDIsIHkxKTtcclxuXHRcdFx0Y3R4LmNsb3NlUGF0aCgpO1xyXG5cdFx0XHR2YXIgZ3JkID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KCh4MiArIHgxKSAvIDIsIGIxICsgYmV2ZWxEZXB0aCwgKHgyICsgeDEpIC8gMiwgYjEpO1xyXG5cdFx0XHRncmQuYWRkQ29sb3JTdG9wKDAsIGNvbG9yMSk7XHJcblx0XHRcdGdyZC5hZGRDb2xvclN0b3AoMSwgY29sb3IyKTtcclxuXHRcdFx0Y3R4LmZpbGxTdHlsZSA9IGdyZDtcclxuXHRcdFx0Y3R4LmZpbGwoKTtcclxuXHRcdFx0Ly8gICAgICAgICAgICAgIGN0eC5zdHJva2UoKTtcclxuXHRcdFx0Y3R4LnJlc3RvcmUoKTtcclxuXHRcdH1cclxuXHJcblxyXG5cdFx0aWYgKGJvdHRvbSA9PT0gdHJ1ZSkge1xyXG5cdFx0XHRjdHguc2F2ZSgpO1xyXG5cdFx0XHRjdHguYmVnaW5QYXRoKCk7XHJcblx0XHRcdGN0eC5tb3ZlVG8oeDEsIHkyKTtcclxuXHRcdFx0Y3R4LmxpbmVUbyh4MSArIGJldmVsRGVwdGgsIHkyIC0gYmV2ZWxEZXB0aCk7XHJcblx0XHRcdGN0eC5saW5lVG8oeDIgLSBiZXZlbERlcHRoLCB5MiAtIGJldmVsRGVwdGgpO1xyXG5cdFx0XHRjdHgubGluZVRvKHgyLCB5Mik7XHJcblx0XHRcdGN0eC5jbG9zZVBhdGgoKTtcclxuXHRcdFx0dmFyIGdyZCA9IGN0eC5jcmVhdGVMaW5lYXJHcmFkaWVudCgoeDIgKyB4MSkgLyAyLCBiMiAtIGJldmVsRGVwdGgsICh4MiArIHgxKSAvIDIsIGIyKTtcclxuXHRcdFx0Z3JkLmFkZENvbG9yU3RvcCgwLCBjb2xvcjEpO1xyXG5cdFx0XHRncmQuYWRkQ29sb3JTdG9wKDEsIGNvbG9yMik7XHJcblx0XHRcdGN0eC5maWxsU3R5bGUgPSBncmQ7XHJcblx0XHRcdC8vICAgICAgIGN0eC5zdHJva2UoKTtcclxuXHRcdFx0Y3R4LmZpbGwoKTtcclxuXHRcdFx0Y3R4LnJlc3RvcmUoKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAobGVmdCA9PT0gdHJ1ZSkge1xyXG5cdFx0XHQvLyAgIGFsZXJ0KHgxKVxyXG5cdFx0XHRjdHguc2F2ZSgpO1xyXG5cdFx0XHRjdHguYmVnaW5QYXRoKCk7XHJcblx0XHRcdGN0eC5tb3ZlVG8oeDEsIHkxKVxyXG5cdFx0XHRjdHgubGluZVRvKHgxICsgYmV2ZWxEZXB0aCwgeTEgKyBiZXZlbERlcHRoKTtcclxuXHRcdFx0Y3R4LmxpbmVUbyh4MSArIGJldmVsRGVwdGgsIHkyIC0gYmV2ZWxEZXB0aCk7XHJcblx0XHRcdGN0eC5saW5lVG8oeDEsIHkyKTtcclxuXHRcdFx0Y3R4LmNsb3NlUGF0aCgpO1xyXG5cdFx0XHR2YXIgZ3JkID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KGExICsgYmV2ZWxEZXB0aCwgKHkyICsgeTEpIC8gMiwgYTEsICh5MiArIHkxKSAvIDIpO1xyXG5cdFx0XHRncmQuYWRkQ29sb3JTdG9wKDAsIGNvbG9yMSk7XHJcblx0XHRcdGdyZC5hZGRDb2xvclN0b3AoMSwgY29sb3IzKTtcclxuXHRcdFx0Y3R4LmZpbGxTdHlsZSA9IGdyZDtcclxuXHRcdFx0Y3R4LmZpbGwoKTtcclxuXHRcdFx0Ly8gICAgIGN0eC5zdHJva2UoKTtcclxuXHRcdFx0Y3R4LnJlc3RvcmUoKTtcclxuXHRcdH1cclxuXHJcblxyXG5cdFx0aWYgKHJpZ2h0ID09PSB0cnVlKSB7XHJcblx0XHRcdGN0eC5zYXZlKCk7XHJcblx0XHRcdGN0eC5iZWdpblBhdGgoKTtcclxuXHRcdFx0Y3R4Lm1vdmVUbyh4MiwgeTEpXHJcblx0XHRcdGN0eC5saW5lVG8oeDIgLSBiZXZlbERlcHRoLCB5MSArIGJldmVsRGVwdGgpO1xyXG5cdFx0XHRjdHgubGluZVRvKHgyIC0gYmV2ZWxEZXB0aCwgeTIgLSBiZXZlbERlcHRoKTtcclxuXHRcdFx0Y3R4LmxpbmVUbyh4MiwgeTIpO1xyXG5cdFx0XHR2YXIgZ3JkID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KGEyIC0gYmV2ZWxEZXB0aCwgKHkyICsgeTEpIC8gMiwgYTIsICh5MiArIHkxKSAvIDIpO1xyXG5cdFx0XHRncmQuYWRkQ29sb3JTdG9wKDAsIGNvbG9yMSk7XHJcblx0XHRcdGdyZC5hZGRDb2xvclN0b3AoMSwgY29sb3IzKTtcclxuXHRcdFx0Y3R4LmZpbGxTdHlsZSA9IGdyZDtcclxuXHRcdFx0Z3JkLmFkZENvbG9yU3RvcCgwLCBjb2xvcjEpO1xyXG5cdFx0XHRncmQuYWRkQ29sb3JTdG9wKDEsIGNvbG9yMyk7XHJcblx0XHRcdGN0eC5maWxsU3R5bGUgPSBncmQ7XHJcblx0XHRcdGN0eC5maWxsKCk7XHJcblx0XHRcdGN0eC5jbG9zZVBhdGgoKTtcclxuXHRcdFx0Ly8gICAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG5cdFx0XHRjdHgucmVzdG9yZSgpO1xyXG5cdFx0fVxyXG5cdFx0Ly9cclxuXHJcblx0fVxyXG4iLCJcclxuaW1wb3J0IHtpc0NhbnZhc1N1cHBvcnRlZH0gZnJvbSAnLi4vaGVscGVycy91dGlscyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAocGxvdFVuaXQpIHtcclxuXHR2YXIgY3R4ID0gcGxvdFVuaXQudGFyZ2V0Q2FudmFzQ3R4IHx8IHRoaXMucGxvdEFyZWEuY3R4O1xyXG5cclxuXHR2YXIgdG90YWxEYXRhU2VyaWVzID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoO1xyXG5cclxuXHRpZiAodG90YWxEYXRhU2VyaWVzIDw9IDApXHJcblx0XHRyZXR1cm47XHJcblxyXG5cdHZhciBnaG9zdEN0eCA9IHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eDtcclxuXHJcblx0dmFyIGF4aXNYUHJvcHMgPSBwbG90VW5pdC5heGlzWC5saW5lQ29vcmRpbmF0ZXM7XHJcblx0dmFyIGF4aXNZUHJvcHMgPSBwbG90VW5pdC5heGlzWS5saW5lQ29vcmRpbmF0ZXM7XHJcblx0dmFyIG1hcmtlcnMgPSBbXTtcclxuXHJcblx0dmFyIHBsb3RBcmVhID0gdGhpcy5wbG90QXJlYTtcclxuXHRjdHguc2F2ZSgpO1xyXG5cclxuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXHJcblx0XHRnaG9zdEN0eC5zYXZlKCk7XHJcblxyXG5cdGN0eC5iZWdpblBhdGgoKTtcclxuXHRjdHgucmVjdChwbG90QXJlYS54MSwgcGxvdEFyZWEueTEsIHBsb3RBcmVhLndpZHRoLCBwbG90QXJlYS5oZWlnaHQpO1xyXG5cdGN0eC5jbGlwKCk7XHJcblxyXG5cdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xyXG5cdFx0Z2hvc3RDdHguYmVnaW5QYXRoKCk7XHJcblx0XHRnaG9zdEN0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XHJcblx0XHRnaG9zdEN0eC5jbGlwKCk7XHJcblx0fVxyXG5cclxuXHRmb3IgKHZhciBqID0gMDsgaiA8IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDsgaisrKSB7XHJcblxyXG5cdFx0dmFyIGRhdGFTZXJpZXNJbmRleCA9IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzW2pdO1xyXG5cclxuXHRcdHZhciBkYXRhU2VyaWVzID0gdGhpcy5kYXRhW2RhdGFTZXJpZXNJbmRleF07XHJcblxyXG5cdFx0dmFyIGRhdGFQb2ludHMgPSBkYXRhU2VyaWVzLmRhdGFQb2ludHM7XHJcblxyXG5cdFx0dmFyIHNlcmllc0lkID0gZGF0YVNlcmllcy5pZDtcclxuXHRcdHRoaXMuX2V2ZW50TWFuYWdlci5vYmplY3RNYXBbc2VyaWVzSWRdID0ge1xyXG5cdFx0XHRvYmplY3RUeXBlOiBcImRhdGFTZXJpZXNcIiwgZGF0YVNlcmllc0luZGV4OiBkYXRhU2VyaWVzSW5kZXhcclxuXHRcdH07XHJcblxyXG5cdFx0dmFyIGhleENvbG9yID0gaW50VG9IZXhDb2xvclN0cmluZyhzZXJpZXNJZCk7XHJcblx0XHRnaG9zdEN0eC5maWxsU3R5bGUgPSBoZXhDb2xvcjtcclxuXHRcdC8vZ2hvc3RDdHgubGluZVdpZHRoID0gZGF0YVNlcmllcy5saW5lVGhpY2tuZXNzO1xyXG5cdFx0Ly9naG9zdEN0eC5saW5lV2lkdGggPSAyMDtcclxuXHJcblx0XHRtYXJrZXJzID0gW107XHJcblxyXG5cdFx0dmFyIGlzRmlyc3REYXRhUG9pbnRJblBsb3RBcmVhID0gdHJ1ZTtcclxuXHRcdHZhciBpID0gMCwgeCwgeTtcclxuXHRcdHZhciBkYXRhUG9pbnRYOyAvL1VzZWQgc28gdGhhdCB3aGVuIGRhdGFQb2ludC54IGlzIGEgRGF0ZVRpbWUgdmFsdWUsIGl0IGRvZXNuJ3QgZ2V0IGNvbnZlcnRlZCB0byBudW1iZXIgYmFjayBhbmQgZm9ydGguXHJcblxyXG5cdFx0dmFyIHlaZXJvVG9QaXhlbCA9IChwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoMCAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XHJcblx0XHR2YXIgYmFzZVk7XHJcblxyXG5cdFx0dmFyIHN0YXJ0UG9pbnQgPSBudWxsO1xyXG5cclxuXHRcdHZhciBwaXhlbHMgPSBbXTtcclxuXHJcblx0XHRpZiAoZGF0YVBvaW50cy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdC8vY3R4LnN0cm9rZVN0eWxlID0gXCIjNDU3MkE3IFwiO1xyXG5cdFx0XHRjb2xvciA9IGRhdGFTZXJpZXMuX2NvbG9yU2V0W2kgJSBkYXRhU2VyaWVzLl9jb2xvclNldC5sZW5ndGhdO1xyXG5cdFx0XHRjdHguZmlsbFN0eWxlID0gY29sb3I7XHJcblx0XHRcdGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yO1xyXG5cdFx0XHRjdHgubGluZVdpZHRoID0gZGF0YVNlcmllcy5saW5lVGhpY2tuZXNzO1xyXG5cclxuXHRcdFx0aWYgKGN0eC5zZXRMaW5lRGFzaCkge1xyXG5cdFx0XHRcdGN0eC5zZXRMaW5lRGFzaChnZXRMaW5lRGFzaEFycmF5KGRhdGFTZXJpZXMubGluZURhc2hUeXBlLCBkYXRhU2VyaWVzLmxpbmVUaGlja25lc3MpKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Zm9yICg7IGkgPCBkYXRhUG9pbnRzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG5cdFx0XHRcdGRhdGFQb2ludFggPSBkYXRhUG9pbnRzW2ldLnguZ2V0VGltZSA/IGRhdGFQb2ludHNbaV0ueC5nZXRUaW1lKCkgOiBkYXRhUG9pbnRzW2ldLng7XHJcblxyXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRYIDwgcGxvdFVuaXQuYXhpc1guZGF0YUluZm8udmlld1BvcnRNaW4gfHwgZGF0YVBvaW50WCA+IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLnZpZXdQb3J0TWF4KSB7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmICh0eXBlb2YgKGRhdGFQb2ludHNbaV0ueSkgIT09IFwibnVtYmVyXCIpIHtcclxuXHRcdFx0XHRcdGlmIChpID4gMCkge1xyXG5cdFx0XHRcdFx0XHRyZW5kZXJCZXppZXJBcmVhKCk7XHJcblx0XHRcdFx0XHRcdHBpeGVscyA9IFtdO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR4ID0gKHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqIChkYXRhUG9pbnRYIC0gcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkgKyAuNSkgPDwgMDtcclxuXHRcdFx0XHR5ID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqIChkYXRhUG9pbnRzW2ldLnkgLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xyXG5cclxuXHJcblx0XHRcdFx0dmFyIGlkID0gZGF0YVNlcmllcy5kYXRhUG9pbnRJZHNbaV07XHJcblx0XHRcdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtpZF0gPSB7XHJcblx0XHRcdFx0XHRpZDogaWQsIG9iamVjdFR5cGU6IFwiZGF0YVBvaW50XCIsIGRhdGFTZXJpZXNJbmRleDogZGF0YVNlcmllc0luZGV4LCBkYXRhUG9pbnRJbmRleDogaSwgeDE6IHgsIHkxOiB5XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0cGl4ZWxzW3BpeGVscy5sZW5ndGhdID0ge1xyXG5cdFx0XHRcdFx0eDogeCwgeTogeVxyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdC8vUmVuZGVyIE1hcmtlclxyXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLm1hcmtlclNpemUgIT09IDApIHtcclxuXHRcdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLm1hcmtlclNpemUgPiAwIHx8IGRhdGFTZXJpZXMubWFya2VyU2l6ZSA+IDApIHtcclxuXHRcdFx0XHRcdFx0dmFyIG1hcmtlclByb3BzID0gZGF0YVNlcmllcy5nZXRNYXJrZXJQcm9wZXJ0aWVzKGksIHgsIHksIGN0eCk7XHJcblx0XHRcdFx0XHRcdG1hcmtlcnMucHVzaChtYXJrZXJQcm9wcyk7XHJcblxyXG5cdFx0XHRcdFx0XHQvL2lmICghZGF0YVNlcmllcy5tYXhXaWR0aEluWCB8fCBtYXJrZXJQcm9wcy5zaXplID4gZGF0YVNlcmllcy5tYXhXaWR0aEluWCkge1xyXG5cdFx0XHRcdFx0XHQvL1x0ZGF0YVNlcmllcy5tYXhXaWR0aEluWCA9IG1hcmtlclByb3BzLnNpemUgLyAocGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ID4gMSA/IHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAtIDEgOiBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQpO1xyXG5cdFx0XHRcdFx0XHQvL31cclxuXHJcblx0XHRcdFx0XHRcdHZhciBtYXJrZXJDb2xvciA9IGludFRvSGV4Q29sb3JTdHJpbmcoaWQpO1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XHJcblx0XHRcdFx0XHRcdFx0bWFya2Vycy5wdXNoKHtcclxuXHRcdFx0XHRcdFx0XHRcdHg6IHgsIHk6IHksIGN0eDogZ2hvc3RDdHgsXHJcblx0XHRcdFx0XHRcdFx0XHR0eXBlOiBtYXJrZXJQcm9wcy50eXBlLFxyXG5cdFx0XHRcdFx0XHRcdFx0c2l6ZTogbWFya2VyUHJvcHMuc2l6ZSxcclxuXHRcdFx0XHRcdFx0XHRcdGNvbG9yOiBtYXJrZXJDb2xvcixcclxuXHRcdFx0XHRcdFx0XHRcdGJvcmRlckNvbG9yOiBtYXJrZXJDb2xvcixcclxuXHRcdFx0XHRcdFx0XHRcdGJvcmRlclRoaWNrbmVzczogbWFya2VyUHJvcHMuYm9yZGVyVGhpY2tuZXNzXHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cclxuXHRcdFx0XHQvL1JlbmRlciBJbmRleCBMYWJlbHNcclxuXHRcdFx0XHRpZiAoZGF0YVBvaW50c1tpXS5pbmRleExhYmVsIHx8IGRhdGFTZXJpZXMuaW5kZXhMYWJlbCB8fCBkYXRhUG9pbnRzW2ldLmluZGV4TGFiZWxGb3JtYXR0ZXIgfHwgZGF0YVNlcmllcy5pbmRleExhYmVsRm9ybWF0dGVyKSB7XHJcblxyXG5cdFx0XHRcdFx0dGhpcy5faW5kZXhMYWJlbHMucHVzaCh7XHJcblx0XHRcdFx0XHRcdGNoYXJ0VHlwZTogXCJzcGxpbmVBcmVhXCIsXHJcblx0XHRcdFx0XHRcdGRhdGFQb2ludDogZGF0YVBvaW50c1tpXSxcclxuXHRcdFx0XHRcdFx0ZGF0YVNlcmllczogZGF0YVNlcmllcyxcclxuXHRcdFx0XHRcdFx0cG9pbnQ6IHtcclxuXHRcdFx0XHRcdFx0XHR4OiB4LCB5OiB5XHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdGRpcmVjdGlvbjogZGF0YVBvaW50c1tpXS55ID49IDAgPyAxIDogLTEsXHJcblx0XHRcdFx0XHRcdGNvbG9yOiBjb2xvclxyXG5cdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmVuZGVyQmV6aWVyQXJlYSgpO1xyXG5cclxuXHRcdFx0UmVuZGVySGVscGVyLmRyYXdNYXJrZXJzKG1hcmtlcnMpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Y3R4LnJlc3RvcmUoKTtcclxuXHJcblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxyXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnJlc3RvcmUoKTtcclxuXHJcblx0ZnVuY3Rpb24gcmVuZGVyQmV6aWVyQXJlYSgpIHtcclxuXHRcdHZhciBicCA9IGdldEJlemllclBvaW50cyhwaXhlbHMsIDIpO1xyXG5cclxuXHRcdGlmIChicC5sZW5ndGggPiAwKSB7XHJcblx0XHRcdGN0eC5iZWdpblBhdGgoKTtcclxuXHRcdFx0Y3R4Lm1vdmVUbyhicFswXS54LCBicFswXS55KTtcclxuXHJcblx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xyXG5cdFx0XHRcdGdob3N0Q3R4LmJlZ2luUGF0aCgpO1xyXG5cdFx0XHRcdGdob3N0Q3R4Lm1vdmVUbyhicFswXS54LCBicFswXS55KTtcclxuXHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYnAubGVuZ3RoIC0gMzsgaSArPSAzKSB7XHJcblxyXG5cdFx0XHRcdGN0eC5iZXppZXJDdXJ2ZVRvKGJwW2kgKyAxXS54LCBicFtpICsgMV0ueSwgYnBbaSArIDJdLngsIGJwW2kgKyAyXS55LCBicFtpICsgM10ueCwgYnBbaSArIDNdLnkpO1xyXG5cclxuXHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXHJcblx0XHRcdFx0XHRnaG9zdEN0eC5iZXppZXJDdXJ2ZVRvKGJwW2kgKyAxXS54LCBicFtpICsgMV0ueSwgYnBbaSArIDJdLngsIGJwW2kgKyAyXS55LCBicFtpICsgM10ueCwgYnBbaSArIDNdLnkpO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKGRhdGFTZXJpZXMubGluZVRoaWNrbmVzcyA+IDApXHJcblx0XHRcdFx0Y3R4LnN0cm9rZSgpO1xyXG5cclxuXHRcdFx0aWYgKHBsb3RVbml0LmF4aXNZLnZpZXdwb3J0TWluaW11bSA8PSAwICYmIHBsb3RVbml0LmF4aXNZLnZpZXdwb3J0TWF4aW11bSA+PSAwKSB7XHJcblx0XHRcdFx0YmFzZVkgPSB5WmVyb1RvUGl4ZWw7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSBpZiAocGxvdFVuaXQuYXhpc1kudmlld3BvcnRNYXhpbXVtIDwgMClcclxuXHRcdFx0XHRiYXNlWSA9IGF4aXNZUHJvcHMueTE7XHJcblx0XHRcdGVsc2UgaWYgKHBsb3RVbml0LmF4aXNZLnZpZXdwb3J0TWluaW11bSA+IDApXHJcblx0XHRcdFx0YmFzZVkgPSBheGlzWFByb3BzLnkyO1xyXG5cclxuXHRcdFx0c3RhcnRQb2ludCA9IHtcclxuXHRcdFx0XHR4OiBicFswXS54LCB5OiBicFswXS55XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRjdHgubGluZVRvKGJwW2JwLmxlbmd0aCAtIDFdLngsIGJhc2VZKTtcclxuXHRcdFx0Y3R4LmxpbmVUbyhzdGFydFBvaW50LngsIGJhc2VZKTtcclxuXHRcdFx0Y3R4LmNsb3NlUGF0aCgpO1xyXG5cclxuXHRcdFx0Y3R4Lmdsb2JhbEFscGhhID0gZGF0YVNlcmllcy5maWxsT3BhY2l0eTtcclxuXHRcdFx0Y3R4LmZpbGwoKTtcclxuXHRcdFx0Y3R4Lmdsb2JhbEFscGhhID0gMTtcclxuXHJcblx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xyXG5cdFx0XHRcdGdob3N0Q3R4LmxpbmVUbyhicFticC5sZW5ndGggLSAxXS54LCBiYXNlWSk7XHJcblx0XHRcdFx0Z2hvc3RDdHgubGluZVRvKHN0YXJ0UG9pbnQueCwgYmFzZVkpO1xyXG5cdFx0XHRcdGdob3N0Q3R4LmNsb3NlUGF0aCgpO1xyXG5cdFx0XHRcdGdob3N0Q3R4LmZpbGwoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly9zb3VyY2UgYW5kIGRlc3Qgd291bGQgYmUgc2FtZSB3aGVuIGFuaW1hdGlvbiBpcyBub3QgZW5hYmxlZFxyXG5cdHZhciBhbmltYXRpb25JbmZvID0ge1xyXG5cdFx0c291cmNlOiBjdHgsIGRlc3Q6IHRoaXMucGxvdEFyZWEuY3R4LCBhbmltYXRpb25DYWxsYmFjazogQW5pbWF0aW9uSGVscGVyLnhDbGlwQW5pbWF0aW9uLCBlYXNpbmdGdW5jdGlvbjogQW5pbWF0aW9uSGVscGVyLmVhc2luZy5saW5lYXIsIGFuaW1hdGlvbkJhc2U6IDBcclxuXHR9O1xyXG5cdHJldHVybiBhbmltYXRpb25JbmZvO1xyXG59XHJcbiIsIlxyXG5pbXBvcnQgUmVuZGVySGVscGVyIGZyb20gJy4uL2hlbHBlcnMvcmVuZGVyJztcclxuaW1wb3J0IEFuaW1hdGlvbkhlbHBlciBmcm9tICcuLi9oZWxwZXJzL2FuaW1hdG9yJztcclxuaW1wb3J0IHtpc0NhbnZhc1N1cHBvcnRlZCwgY29tcGFyZU51bWJlcnMsIGludFRvSGV4Q29sb3JTdHJpbmcsIGdldExpbmVEYXNoQXJyYXl9IGZyb20gJy4uL2hlbHBlcnMvdXRpbHMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHBsb3RVbml0KSB7XHJcblx0dmFyIGN0eCA9IHBsb3RVbml0LnRhcmdldENhbnZhc0N0eCB8fCB0aGlzLnBsb3RBcmVhLmN0eDtcclxuXHJcblx0dmFyIHRvdGFsRGF0YVNlcmllcyA9IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDtcclxuXHJcblx0aWYgKHRvdGFsRGF0YVNlcmllcyA8PSAwKVxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHR2YXIgY29sb3IgPSBudWxsO1xyXG5cdHZhciBtYXJrZXJzID0gW107XHJcblxyXG5cdHZhciBwbG90QXJlYSA9IHRoaXMucGxvdEFyZWE7XHJcblxyXG5cdHZhciBvZmZzZXRZID0gW107XHJcblxyXG5cdHZhciBhbGxYVmFsdWVzID0gW107XHJcblx0Ly92YXIgb2Zmc2V0TmVnYXRpdmVZID0gW107XHJcblxyXG5cdHZhciBpID0gMCwgeCwgeTtcclxuXHR2YXIgZGF0YVBvaW50WDsgLy9Vc2VkIHNvIHRoYXQgd2hlbiBkYXRhUG9pbnQueCBpcyBhIERhdGVUaW1lIHZhbHVlLCBpdCBkb2Vzbid0IGdldCBjb252ZXJ0ZWQgdG8gbnVtYmVyIGV2ZXJ5dGltZSBpdCBpcyBhY2Nlc3NlZC5cclxuXHJcblx0Ly92YXIgeVplcm9Ub1BpeGVsID0gKGF4aXNZUHJvcHMueTIgLSBheGlzWVByb3BzLmhlaWdodCAvIHJhbmdlWSAqIE1hdGguYWJzKDAgLSBwbG90VW5pdC5heGlzWS52aWV3cG9ydE1pbmltdW0pICsgLjUpIDw8IDA7XHJcblx0dmFyIHlaZXJvVG9QaXhlbCA9IChwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoMCAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pKSA8PCAwO1xyXG5cclxuXHR2YXIgeE1pbkRpZmYgPSBwbG90VW5pdC5heGlzWC5kYXRhSW5mby5taW5EaWZmO1xyXG5cclxuXHR2YXIgZ2hvc3RDdHggPSB0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHg7XHJcblxyXG5cdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcclxuXHRcdGdob3N0Q3R4LmJlZ2luUGF0aCgpO1xyXG5cclxuXHRjdHguc2F2ZSgpO1xyXG5cclxuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXHJcblx0XHRnaG9zdEN0eC5zYXZlKCk7XHJcblxyXG5cdGN0eC5iZWdpblBhdGgoKTtcclxuXHRjdHgucmVjdChwbG90QXJlYS54MSwgcGxvdEFyZWEueTEsIHBsb3RBcmVhLndpZHRoLCBwbG90QXJlYS5oZWlnaHQpO1xyXG5cdGN0eC5jbGlwKCk7XHJcblxyXG5cdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xyXG5cdFx0Z2hvc3RDdHguYmVnaW5QYXRoKCk7XHJcblx0XHRnaG9zdEN0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XHJcblx0XHRnaG9zdEN0eC5jbGlwKCk7XHJcblx0fVxyXG5cclxuXHR2YXIgeFZhbHVlUHJlc2VudCA9IFtdO1xyXG5cdGZvciAodmFyIGogPSAwOyBqIDwgcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoOyBqKyspIHtcclxuXHJcblx0XHR2YXIgZGF0YVNlcmllc0luZGV4ID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXNbal07XHJcblx0XHR2YXIgZGF0YVNlcmllcyA9IHRoaXMuZGF0YVtkYXRhU2VyaWVzSW5kZXhdO1xyXG5cdFx0dmFyIGRhdGFQb2ludHMgPSBkYXRhU2VyaWVzLmRhdGFQb2ludHM7XHJcblx0XHR2YXIgeFZhbHVlO1xyXG5cclxuXHRcdGRhdGFTZXJpZXMuZGF0YVBvaW50SW5kZXhlcyA9IFtdO1xyXG5cclxuXHRcdGZvciAoaSA9IDA7IGkgPCBkYXRhUG9pbnRzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHhWYWx1ZSA9IGRhdGFQb2ludHNbaV0ueC5nZXRUaW1lID8gZGF0YVBvaW50c1tpXS54LmdldFRpbWUoKSA6IGRhdGFQb2ludHNbaV0ueDtcclxuXHRcdFx0ZGF0YVNlcmllcy5kYXRhUG9pbnRJbmRleGVzW3hWYWx1ZV0gPSBpO1xyXG5cclxuXHRcdFx0aWYgKCF4VmFsdWVQcmVzZW50W3hWYWx1ZV0pIHtcclxuXHRcdFx0XHRhbGxYVmFsdWVzLnB1c2goeFZhbHVlKTtcclxuXHRcdFx0XHR4VmFsdWVQcmVzZW50W3hWYWx1ZV0gPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0YWxsWFZhbHVlcy5zb3J0KGNvbXBhcmVOdW1iZXJzKTtcclxuXHR9XHJcblxyXG5cdGZvciAodmFyIGogPSAwOyBqIDwgcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoOyBqKyspIHtcclxuXHJcblx0XHR2YXIgZGF0YVNlcmllc0luZGV4ID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXNbal07XHJcblxyXG5cdFx0dmFyIGRhdGFTZXJpZXMgPSB0aGlzLmRhdGFbZGF0YVNlcmllc0luZGV4XTtcclxuXHRcdHZhciBkYXRhUG9pbnRzID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzO1xyXG5cdFx0dmFyIGlzRmlyc3REYXRhUG9pbnRJblBsb3RBcmVhID0gdHJ1ZTtcclxuXHJcblx0XHR2YXIgY3VycmVudEJhc2VWYWx1ZXMgPSBbXTtcclxuXHJcblxyXG5cdFx0dmFyIHNlcmllc0lkID0gZGF0YVNlcmllcy5pZDtcclxuXHRcdHRoaXMuX2V2ZW50TWFuYWdlci5vYmplY3RNYXBbc2VyaWVzSWRdID0ge1xyXG5cdFx0XHRvYmplY3RUeXBlOiBcImRhdGFTZXJpZXNcIiwgZGF0YVNlcmllc0luZGV4OiBkYXRhU2VyaWVzSW5kZXhcclxuXHRcdH07XHJcblx0XHR2YXIgaGV4Q29sb3IgPSBpbnRUb0hleENvbG9yU3RyaW5nKHNlcmllc0lkKTtcclxuXHRcdGdob3N0Q3R4LmZpbGxTdHlsZSA9IGhleENvbG9yO1xyXG5cclxuXHJcblxyXG5cdFx0aWYgKGFsbFhWYWx1ZXMubGVuZ3RoID4gMCkge1xyXG5cclxuXHRcdFx0Y29sb3IgPSBkYXRhU2VyaWVzLl9jb2xvclNldFswXTtcclxuXHRcdFx0Ly9jdHguc3Ryb2tlU3R5bGUgPSBcInJlZFwiO1xyXG5cdFx0XHRjdHguZmlsbFN0eWxlID0gY29sb3I7XHJcblx0XHRcdGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yO1xyXG5cdFx0XHRjdHgubGluZVdpZHRoID0gZGF0YVNlcmllcy5saW5lVGhpY2tuZXNzO1xyXG5cclxuXHRcdFx0aWYgKGN0eC5zZXRMaW5lRGFzaCkge1xyXG5cdFx0XHRcdGN0eC5zZXRMaW5lRGFzaChnZXRMaW5lRGFzaEFycmF5KGRhdGFTZXJpZXMubGluZURhc2hUeXBlLCBkYXRhU2VyaWVzLmxpbmVUaGlja25lc3MpKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Zm9yIChpID0gMDsgaSA8IGFsbFhWYWx1ZXMubGVuZ3RoOyBpKyspIHtcclxuXHJcblx0XHRcdFx0ZGF0YVBvaW50WCA9IGFsbFhWYWx1ZXNbaV07XHJcblx0XHRcdFx0dmFyIGRhdGFQb2ludCA9IG51bGw7XHJcblxyXG5cdFx0XHRcdGlmIChkYXRhU2VyaWVzLmRhdGFQb2ludEluZGV4ZXNbZGF0YVBvaW50WF0gPj0gMClcclxuXHRcdFx0XHRcdGRhdGFQb2ludCA9IGRhdGFQb2ludHNbZGF0YVNlcmllcy5kYXRhUG9pbnRJbmRleGVzW2RhdGFQb2ludFhdXTtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRkYXRhUG9pbnQgPSB7XHJcblx0XHRcdFx0XHRcdHg6IGRhdGFQb2ludFgsIHk6IDBcclxuXHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRYIDwgcGxvdFVuaXQuYXhpc1guZGF0YUluZm8udmlld1BvcnRNaW4gfHwgZGF0YVBvaW50WCA+IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLnZpZXdQb3J0TWF4KSB7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmICh0eXBlb2YgKGRhdGFQb2ludC55KSAhPT0gXCJudW1iZXJcIilcclxuXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cclxuXHRcdFx0XHR2YXIgeCA9IChwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoZGF0YVBvaW50WCAtIHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XHJcblx0XHRcdFx0Ly92YXIgeSA9IChwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoZGF0YVBvaW50LnkgLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xyXG5cdFx0XHRcdHZhciB5ID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqIChkYXRhUG9pbnQueSAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pKTtcclxuXHJcblx0XHRcdFx0dmFyIG9mZnNldCA9IG9mZnNldFlbZGF0YVBvaW50WF0gPyBvZmZzZXRZW2RhdGFQb2ludFhdIDogMDtcclxuXHJcblx0XHRcdFx0eSA9IHkgLSBvZmZzZXQ7XHJcblx0XHRcdFx0Y3VycmVudEJhc2VWYWx1ZXMucHVzaCh7IHg6IHgsIHk6IHlaZXJvVG9QaXhlbCAtIG9mZnNldCB9KTtcclxuXHRcdFx0XHRvZmZzZXRZW2RhdGFQb2ludFhdID0geVplcm9Ub1BpeGVsIC0geTtcclxuXHJcblx0XHRcdFx0aWYgKGlzRmlyc3REYXRhUG9pbnRJblBsb3RBcmVhKSB7XHJcblx0XHRcdFx0XHRjdHguYmVnaW5QYXRoKCk7XHJcblx0XHRcdFx0XHRjdHgubW92ZVRvKHgsIHkpO1xyXG5cclxuXHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xyXG5cdFx0XHRcdFx0XHRnaG9zdEN0eC5iZWdpblBhdGgoKTtcclxuXHRcdFx0XHRcdFx0Z2hvc3RDdHgubW92ZVRvKHgsIHkpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGlzRmlyc3REYXRhUG9pbnRJblBsb3RBcmVhID0gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2Uge1xyXG5cclxuXHRcdFx0XHRcdGN0eC5saW5lVG8oeCwgeSk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxyXG5cdFx0XHRcdFx0XHRnaG9zdEN0eC5saW5lVG8oeCwgeSk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKGkgJSAyNTAgPT0gMCkge1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgKGRhdGFTZXJpZXMubGluZVRoaWNrbmVzcyA+IDApXHJcblx0XHRcdFx0XHRcdFx0Y3R4LnN0cm9rZSgpO1xyXG5cclxuXHRcdFx0XHRcdFx0d2hpbGUgKGN1cnJlbnRCYXNlVmFsdWVzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRcdFx0XHR2YXIgcG9pbnQgPSBjdXJyZW50QmFzZVZhbHVlcy5wb3AoKTtcclxuXHRcdFx0XHRcdFx0XHRjdHgubGluZVRvKHBvaW50LngsIHBvaW50LnkpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXHJcblx0XHRcdFx0XHRcdFx0XHRnaG9zdEN0eC5saW5lVG8ocG9pbnQueCwgcG9pbnQueSk7XHJcblxyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRjdHguY2xvc2VQYXRoKCk7XHJcblxyXG5cdFx0XHRcdFx0XHRjdHguZ2xvYmFsQWxwaGEgPSBkYXRhU2VyaWVzLmZpbGxPcGFjaXR5O1xyXG5cdFx0XHRcdFx0XHRjdHguZmlsbCgpO1xyXG5cdFx0XHRcdFx0XHRjdHguZ2xvYmFsQWxwaGEgPSAxO1xyXG5cclxuXHRcdFx0XHRcdFx0Y3R4LmJlZ2luUGF0aCgpO1xyXG5cdFx0XHRcdFx0XHRjdHgubW92ZVRvKHgsIHkpO1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XHJcblx0XHRcdFx0XHRcdFx0Z2hvc3RDdHguY2xvc2VQYXRoKCk7XHJcblx0XHRcdFx0XHRcdFx0Z2hvc3RDdHguZmlsbCgpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRnaG9zdEN0eC5iZWdpblBhdGgoKTtcclxuXHRcdFx0XHRcdFx0XHRnaG9zdEN0eC5tb3ZlVG8oeCwgeSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdGN1cnJlbnRCYXNlVmFsdWVzLnB1c2goeyB4OiB4LCB5OiB5WmVyb1RvUGl4ZWwgLSBvZmZzZXQgfSk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKGRhdGFTZXJpZXMuZGF0YVBvaW50SW5kZXhlc1tkYXRhUG9pbnRYXSA+PSAwKSB7XHJcblx0XHRcdFx0XHR2YXIgaWQgPSBkYXRhU2VyaWVzLmRhdGFQb2ludElkc1tkYXRhU2VyaWVzLmRhdGFQb2ludEluZGV4ZXNbZGF0YVBvaW50WF1dO1xyXG5cdFx0XHRcdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtpZF0gPSB7XHJcblx0XHRcdFx0XHRcdGlkOiBpZCwgb2JqZWN0VHlwZTogXCJkYXRhUG9pbnRcIiwgZGF0YVNlcmllc0luZGV4OiBkYXRhU2VyaWVzSW5kZXgsIGRhdGFQb2ludEluZGV4OiBkYXRhU2VyaWVzLmRhdGFQb2ludEluZGV4ZXNbZGF0YVBvaW50WF0sIHgxOiB4LCB5MTogeVxyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vUmVuZGVyIE1hcmtlclxyXG5cdFx0XHRcdGlmIChkYXRhU2VyaWVzLmRhdGFQb2ludEluZGV4ZXNbZGF0YVBvaW50WF0gPj0gMCAmJiBkYXRhUG9pbnQubWFya2VyU2l6ZSAhPT0gMCkge1xyXG5cdFx0XHRcdFx0aWYgKGRhdGFQb2ludC5tYXJrZXJTaXplID4gMCB8fCBkYXRhU2VyaWVzLm1hcmtlclNpemUgPiAwKSB7XHJcblxyXG5cdFx0XHRcdFx0XHR2YXIgbWFya2VyUHJvcHMgPSBkYXRhU2VyaWVzLmdldE1hcmtlclByb3BlcnRpZXMoaSwgeCwgeSwgY3R4KTtcclxuXHRcdFx0XHRcdFx0bWFya2Vycy5wdXNoKG1hcmtlclByb3BzKTtcclxuXHJcblx0XHRcdFx0XHRcdC8vaWYgKCFkYXRhU2VyaWVzLm1heFdpZHRoSW5YIHx8IG1hcmtlclByb3BzLnNpemUgPiBkYXRhU2VyaWVzLm1heFdpZHRoSW5YKSB7XHJcblx0XHRcdFx0XHRcdC8vXHRkYXRhU2VyaWVzLm1heFdpZHRoSW5YID0gbWFya2VyUHJvcHMuc2l6ZSAvIChwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgPiAxID8gcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0IC0gMSA6IHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCk7XHJcblx0XHRcdFx0XHRcdC8vfVxyXG5cclxuXHRcdFx0XHRcdFx0bWFya2VyQ29sb3IgPSBpbnRUb0hleENvbG9yU3RyaW5nKGlkKTtcclxuXHJcblx0XHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xyXG5cdFx0XHRcdFx0XHRcdG1hcmtlcnMucHVzaCh7XHJcblx0XHRcdFx0XHRcdFx0XHR4OiB4LCB5OiB5LCBjdHg6IGdob3N0Q3R4LFxyXG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogbWFya2VyUHJvcHMudHlwZSxcclxuXHRcdFx0XHRcdFx0XHRcdHNpemU6IG1hcmtlclByb3BzLnNpemUsXHJcblx0XHRcdFx0XHRcdFx0XHRjb2xvcjogbWFya2VyQ29sb3IsXHJcblx0XHRcdFx0XHRcdFx0XHRib3JkZXJDb2xvcjogbWFya2VyQ29sb3IsXHJcblx0XHRcdFx0XHRcdFx0XHRib3JkZXJUaGlja25lc3M6IG1hcmtlclByb3BzLmJvcmRlclRoaWNrbmVzc1xyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoZGF0YVBvaW50LmluZGV4TGFiZWwgfHwgZGF0YVNlcmllcy5pbmRleExhYmVsIHx8IGRhdGFQb2ludC5pbmRleExhYmVsRm9ybWF0dGVyIHx8IGRhdGFTZXJpZXMuaW5kZXhMYWJlbEZvcm1hdHRlcikge1xyXG5cclxuXHRcdFx0XHRcdHRoaXMuX2luZGV4TGFiZWxzLnB1c2goe1xyXG5cdFx0XHRcdFx0XHRjaGFydFR5cGU6IFwic3RhY2tlZEFyZWFcIixcclxuXHRcdFx0XHRcdFx0ZGF0YVBvaW50OiBkYXRhUG9pbnQsXHJcblx0XHRcdFx0XHRcdGRhdGFTZXJpZXM6IGRhdGFTZXJpZXMsXHJcblx0XHRcdFx0XHRcdHBvaW50OiB7XHJcblx0XHRcdFx0XHRcdFx0eDogeCwgeTogeVxyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRkaXJlY3Rpb246IGRhdGFQb2ludHNbaV0ueSA+PSAwID8gMSA6IC0xLFxyXG5cdFx0XHRcdFx0XHRjb2xvcjogY29sb3JcclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChkYXRhU2VyaWVzLmxpbmVUaGlja25lc3MgPiAwKVxyXG5cdFx0XHRcdGN0eC5zdHJva2UoKTtcclxuXHJcblx0XHRcdHdoaWxlIChjdXJyZW50QmFzZVZhbHVlcy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0dmFyIHBvaW50ID0gY3VycmVudEJhc2VWYWx1ZXMucG9wKCk7XHJcblx0XHRcdFx0Y3R4LmxpbmVUbyhwb2ludC54LCBwb2ludC55KTtcclxuXHJcblx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxyXG5cdFx0XHRcdFx0Z2hvc3RDdHgubGluZVRvKHBvaW50LngsIHBvaW50LnkpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjdHguY2xvc2VQYXRoKCk7XHJcblxyXG5cdFx0XHRjdHguZ2xvYmFsQWxwaGEgPSBkYXRhU2VyaWVzLmZpbGxPcGFjaXR5O1xyXG5cdFx0XHRjdHguZmlsbCgpO1xyXG5cdFx0XHRjdHguZ2xvYmFsQWxwaGEgPSAxO1xyXG5cclxuXHRcdFx0Y3R4LmJlZ2luUGF0aCgpO1xyXG5cdFx0XHRjdHgubW92ZVRvKHgsIHkpO1xyXG5cclxuXHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XHJcblx0XHRcdFx0Z2hvc3RDdHguY2xvc2VQYXRoKCk7XHJcblx0XHRcdFx0Z2hvc3RDdHguZmlsbCgpO1xyXG5cdFx0XHRcdGdob3N0Q3R4LmJlZ2luUGF0aCgpO1xyXG5cdFx0XHRcdGdob3N0Q3R4Lm1vdmVUbyh4LCB5KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGRlbGV0ZSAoZGF0YVNlcmllcy5kYXRhUG9pbnRJbmRleGVzKTtcclxuXHR9XHJcblxyXG5cdFJlbmRlckhlbHBlci5kcmF3TWFya2VycyhtYXJrZXJzKTtcclxuXHJcblxyXG5cdGN0eC5yZXN0b3JlKCk7XHJcblxyXG5cdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcclxuXHRcdGdob3N0Q3R4LnJlc3RvcmUoKTtcclxuXHJcblx0Ly9zb3VyY2UgYW5kIGRlc3Qgd291bGQgYmUgc2FtZSB3aGVuIGFuaW1hdGlvbiBpcyBub3QgZW5hYmxlZFxyXG5cdHZhciBhbmltYXRpb25JbmZvID0ge1xyXG5cdFx0c291cmNlOiBjdHgsIGRlc3Q6IHRoaXMucGxvdEFyZWEuY3R4LCBhbmltYXRpb25DYWxsYmFjazogQW5pbWF0aW9uSGVscGVyLnhDbGlwQW5pbWF0aW9uLCBlYXNpbmdGdW5jdGlvbjogQW5pbWF0aW9uSGVscGVyLmVhc2luZy5saW5lYXIsIGFuaW1hdGlvbkJhc2U6IDBcclxuXHR9O1xyXG5cdHJldHVybiBhbmltYXRpb25JbmZvO1xyXG59XHJcbiIsIlxyXG5pbXBvcnQgUmVuZGVySGVscGVyIGZyb20gJy4uL2hlbHBlcnMvcmVuZGVyJztcclxuaW1wb3J0IEFuaW1hdGlvbkhlbHBlciBmcm9tICcuLi9oZWxwZXJzL2FuaW1hdG9yJztcclxuaW1wb3J0IHtpc0NhbnZhc1N1cHBvcnRlZCwgY29tcGFyZU51bWJlcnMsIGludFRvSGV4Q29sb3JTdHJpbmcsIGdldExpbmVEYXNoQXJyYXl9IGZyb20gJy4uL2hlbHBlcnMvdXRpbHMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocGxvdFVuaXQpIHtcclxuXHR2YXIgY3R4ID0gcGxvdFVuaXQudGFyZ2V0Q2FudmFzQ3R4IHx8IHRoaXMucGxvdEFyZWEuY3R4O1xyXG5cclxuXHR2YXIgdG90YWxEYXRhU2VyaWVzID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoO1xyXG5cclxuXHRpZiAodG90YWxEYXRhU2VyaWVzIDw9IDApXHJcblx0XHRyZXR1cm47XHJcblxyXG5cdHZhciBjb2xvciA9IG51bGw7XHJcblxyXG5cdHZhciBwbG90QXJlYSA9IHRoaXMucGxvdEFyZWE7XHJcblx0dmFyIG1hcmtlcnMgPSBbXTtcclxuXHJcblx0dmFyIG9mZnNldFkgPSBbXTtcclxuXHJcblx0dmFyIGFsbFhWYWx1ZXMgPSBbXTtcclxuXHQvL3ZhciBvZmZzZXROZWdhdGl2ZVkgPSBbXTtcclxuXHJcblx0dmFyIGkgPSAwLCB4LCB5O1xyXG5cdHZhciBkYXRhUG9pbnRYOyAvL1VzZWQgc28gdGhhdCB3aGVuIGRhdGFQb2ludC54IGlzIGEgRGF0ZVRpbWUgdmFsdWUsIGl0IGRvZXNuJ3QgZ2V0IGNvbnZlcnRlZCB0byBudW1iZXIgZXZlcnl0aW1lIGl0IGlzIGFjY2Vzc2VkLlxyXG5cclxuXHJcblx0Ly92YXIgeVplcm9Ub1BpeGVsID0gKGF4aXNZUHJvcHMueTIgLSBheGlzWVByb3BzLmhlaWdodCAvIHJhbmdlWSAqIE1hdGguYWJzKDAgLSBwbG90VW5pdC5heGlzWS52aWV3cG9ydE1pbmltdW0pICsgLjUpIDw8IDA7XHJcblx0dmFyIHlaZXJvVG9QaXhlbCA9IChwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoMCAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pKSA8PCAwO1xyXG5cclxuXHR2YXIgbWF4QmFyV2lkdGggPSB0aGlzLmRhdGFQb2ludE1heFdpZHRoID8gdGhpcy5kYXRhUG9pbnRNYXhXaWR0aCA6IHRoaXMud2lkdGggKiAuMTUgPDwgMDtcclxuXHR2YXIgeE1pbkRpZmYgPSBwbG90VW5pdC5heGlzWC5kYXRhSW5mby5taW5EaWZmO1xyXG5cdHZhciBiYXJXaWR0aCA9ICgoKHBsb3RBcmVhLndpZHRoIC8gTWF0aC5hYnMocGxvdFVuaXQuYXhpc1gudmlld3BvcnRNYXhpbXVtIC0gcGxvdFVuaXQuYXhpc1gudmlld3BvcnRNaW5pbXVtKSkgKiBNYXRoLmFicyh4TWluRGlmZikpICogLjkpIDw8IDA7XHJcblxyXG5cdHZhciBnaG9zdEN0eCA9IHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eDtcclxuXHJcblx0Y3R4LnNhdmUoKTtcclxuXHJcblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxyXG5cdFx0Z2hvc3RDdHguc2F2ZSgpO1xyXG5cclxuXHJcblx0Y3R4LmJlZ2luUGF0aCgpO1xyXG5cdGN0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XHJcblx0Y3R4LmNsaXAoKTtcclxuXHJcblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XHJcblx0XHRnaG9zdEN0eC5iZWdpblBhdGgoKTtcclxuXHRcdGdob3N0Q3R4LnJlY3QocGxvdEFyZWEueDEsIHBsb3RBcmVhLnkxLCBwbG90QXJlYS53aWR0aCwgcGxvdEFyZWEuaGVpZ2h0KTtcclxuXHRcdGdob3N0Q3R4LmNsaXAoKTtcclxuXHR9XHJcblxyXG5cdHZhciB4VmFsdWVQcmVzZW50ID0gW107XHJcblx0Zm9yICh2YXIgaiA9IDA7IGogPCBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7IGorKykge1xyXG5cclxuXHRcdHZhciBkYXRhU2VyaWVzSW5kZXggPSBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlc1tqXTtcclxuXHRcdHZhciBkYXRhU2VyaWVzID0gdGhpcy5kYXRhW2RhdGFTZXJpZXNJbmRleF07XHJcblx0XHR2YXIgZGF0YVBvaW50cyA9IGRhdGFTZXJpZXMuZGF0YVBvaW50cztcclxuXHRcdHZhciB4VmFsdWU7XHJcblxyXG5cdFx0ZGF0YVNlcmllcy5kYXRhUG9pbnRJbmRleGVzID0gW107XHJcblxyXG5cdFx0Zm9yIChpID0gMDsgaSA8IGRhdGFQb2ludHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0eFZhbHVlID0gZGF0YVBvaW50c1tpXS54LmdldFRpbWUgPyBkYXRhUG9pbnRzW2ldLnguZ2V0VGltZSgpIDogZGF0YVBvaW50c1tpXS54O1xyXG5cdFx0XHRkYXRhU2VyaWVzLmRhdGFQb2ludEluZGV4ZXNbeFZhbHVlXSA9IGk7XHJcblxyXG5cdFx0XHRpZiAoIXhWYWx1ZVByZXNlbnRbeFZhbHVlXSkge1xyXG5cdFx0XHRcdGFsbFhWYWx1ZXMucHVzaCh4VmFsdWUpO1xyXG5cdFx0XHRcdHhWYWx1ZVByZXNlbnRbeFZhbHVlXSA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRhbGxYVmFsdWVzLnNvcnQoY29tcGFyZU51bWJlcnMpO1xyXG5cdH1cclxuXHJcblx0Zm9yICh2YXIgaiA9IDA7IGogPCBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7IGorKykge1xyXG5cclxuXHRcdHZhciBkYXRhU2VyaWVzSW5kZXggPSBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlc1tqXTtcclxuXHJcblx0XHR2YXIgZGF0YVNlcmllcyA9IHRoaXMuZGF0YVtkYXRhU2VyaWVzSW5kZXhdO1xyXG5cdFx0dmFyIGRhdGFQb2ludHMgPSBkYXRhU2VyaWVzLmRhdGFQb2ludHM7XHJcblx0XHR2YXIgaXNGaXJzdERhdGFQb2ludEluUGxvdEFyZWEgPSB0cnVlO1xyXG5cclxuXHJcblx0XHR2YXIgc2VyaWVzSWQgPSBkYXRhU2VyaWVzLmlkO1xyXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtzZXJpZXNJZF0gPSB7XHJcblx0XHRcdG9iamVjdFR5cGU6IFwiZGF0YVNlcmllc1wiLCBkYXRhU2VyaWVzSW5kZXg6IGRhdGFTZXJpZXNJbmRleFxyXG5cdFx0fTtcclxuXHRcdHZhciBoZXhDb2xvciA9IGludFRvSGV4Q29sb3JTdHJpbmcoc2VyaWVzSWQpO1xyXG5cdFx0Z2hvc3RDdHguZmlsbFN0eWxlID0gaGV4Q29sb3I7XHJcblxyXG5cdFx0aWYgKGRhdGFQb2ludHMubGVuZ3RoID09IDEpXHJcblx0XHRcdGJhcldpZHRoID0gbWF4QmFyV2lkdGg7XHJcblxyXG5cdFx0aWYgKGJhcldpZHRoIDwgMSlcclxuXHRcdFx0YmFyV2lkdGggPSAxO1xyXG5cdFx0ZWxzZSBpZiAoYmFyV2lkdGggPiBtYXhCYXJXaWR0aClcclxuXHRcdFx0YmFyV2lkdGggPSBtYXhCYXJXaWR0aDtcclxuXHJcblx0XHR2YXIgY3VycmVudEJhc2VWYWx1ZXMgPSBbXTtcclxuXHJcblx0XHRpZiAoYWxsWFZhbHVlcy5sZW5ndGggPiAwKSB7XHJcblxyXG5cdFx0XHRjb2xvciA9IGRhdGFTZXJpZXMuX2NvbG9yU2V0W2kgJSBkYXRhU2VyaWVzLl9jb2xvclNldC5sZW5ndGhdO1xyXG5cdFx0XHQvL2N0eC5zdHJva2VTdHlsZSA9IFwicmVkXCI7XHJcblx0XHRcdGN0eC5maWxsU3R5bGUgPSBjb2xvcjtcclxuXHRcdFx0Y3R4LnN0cm9rZVN0eWxlID0gY29sb3I7XHJcblx0XHRcdGN0eC5saW5lV2lkdGggPSBkYXRhU2VyaWVzLmxpbmVUaGlja25lc3M7XHJcblxyXG5cdFx0XHRpZiAoY3R4LnNldExpbmVEYXNoKSB7XHJcblx0XHRcdFx0Y3R4LnNldExpbmVEYXNoKGdldExpbmVEYXNoQXJyYXkoZGF0YVNlcmllcy5saW5lRGFzaFR5cGUsIGRhdGFTZXJpZXMubGluZVRoaWNrbmVzcykpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2YXIgYmV2ZWxFbmFibGVkID0gKGJhcldpZHRoID4gNSkgPyBmYWxzZSA6IGZhbHNlO1xyXG5cclxuXHRcdFx0Ly9jdHguc3Ryb2tlU3R5bGUgPSBcIiM0NTcyQTcgXCI7XHJcblxyXG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgYWxsWFZhbHVlcy5sZW5ndGg7IGkrKykge1xyXG5cclxuXHRcdFx0XHRkYXRhUG9pbnRYID0gYWxsWFZhbHVlc1tpXTtcclxuXHRcdFx0XHR2YXIgZGF0YVBvaW50ID0gbnVsbDtcclxuXHJcblx0XHRcdFx0aWYgKGRhdGFTZXJpZXMuZGF0YVBvaW50SW5kZXhlc1tkYXRhUG9pbnRYXSA+PSAwKVxyXG5cdFx0XHRcdFx0ZGF0YVBvaW50ID0gZGF0YVBvaW50c1tkYXRhU2VyaWVzLmRhdGFQb2ludEluZGV4ZXNbZGF0YVBvaW50WF1dO1xyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdGRhdGFQb2ludCA9IHtcclxuXHRcdFx0XHRcdFx0eDogZGF0YVBvaW50WCwgeTogMFxyXG5cdFx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0aWYgKGRhdGFQb2ludFggPCBwbG90VW5pdC5heGlzWC5kYXRhSW5mby52aWV3UG9ydE1pbiB8fCBkYXRhUG9pbnRYID4gcGxvdFVuaXQuYXhpc1guZGF0YUluZm8udmlld1BvcnRNYXgpIHtcclxuXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKHR5cGVvZiAoZGF0YVBvaW50LnkpICE9PSBcIm51bWJlclwiKVxyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblxyXG5cdFx0XHRcdHZhciB5UGVyY2VudDtcclxuXHRcdFx0XHRpZiAocGxvdFVuaXQuZGF0YVBvaW50WVN1bXNbZGF0YVBvaW50WF0gIT09IDApXHJcblx0XHRcdFx0XHR5UGVyY2VudCA9IGRhdGFQb2ludC55IC8gcGxvdFVuaXQuZGF0YVBvaW50WVN1bXNbZGF0YVBvaW50WF0gKiAxMDA7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0eVBlcmNlbnQgPSAwO1xyXG5cclxuXHRcdFx0XHR2YXIgeCA9IChwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoZGF0YVBvaW50WCAtIHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XHJcblx0XHRcdFx0dmFyIHkgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKHlQZXJjZW50IC0gcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkpO1xyXG5cclxuXHRcdFx0XHR2YXIgb2Zmc2V0ID0gb2Zmc2V0WVtkYXRhUG9pbnRYXSA/IG9mZnNldFlbZGF0YVBvaW50WF0gOiAwO1xyXG5cclxuXHRcdFx0XHR5ID0geSAtIG9mZnNldDtcclxuXHRcdFx0XHRjdXJyZW50QmFzZVZhbHVlcy5wdXNoKHsgeDogeCwgeTogeVplcm9Ub1BpeGVsIC0gb2Zmc2V0IH0pO1xyXG5cdFx0XHRcdG9mZnNldFlbZGF0YVBvaW50WF0gPSB5WmVyb1RvUGl4ZWwgLSB5O1xyXG5cclxuXHRcdFx0XHRpZiAoaXNGaXJzdERhdGFQb2ludEluUGxvdEFyZWEpIHtcclxuXHRcdFx0XHRcdGN0eC5iZWdpblBhdGgoKTtcclxuXHRcdFx0XHRcdGN0eC5tb3ZlVG8oeCwgeSk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XHJcblx0XHRcdFx0XHRcdGdob3N0Q3R4LmJlZ2luUGF0aCgpO1xyXG5cdFx0XHRcdFx0XHRnaG9zdEN0eC5tb3ZlVG8oeCwgeSk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0aXNGaXJzdERhdGFQb2ludEluUGxvdEFyZWEgPSBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblxyXG5cdFx0XHRcdFx0Y3R4LmxpbmVUbyh4LCB5KTtcclxuXHJcblx0XHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXHJcblx0XHRcdFx0XHRcdGdob3N0Q3R4LmxpbmVUbyh4LCB5KTtcclxuXHJcblx0XHRcdFx0XHRpZiAoaSAlIDI1MCA9PSAwKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoZGF0YVNlcmllcy5saW5lVGhpY2tuZXNzID4gMClcclxuXHRcdFx0XHRcdFx0XHRjdHguc3Ryb2tlKCk7XHJcblxyXG5cdFx0XHRcdFx0XHR3aGlsZSAoY3VycmVudEJhc2VWYWx1ZXMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0XHRcdHZhciBwb2ludCA9IGN1cnJlbnRCYXNlVmFsdWVzLnBvcCgpO1xyXG5cdFx0XHRcdFx0XHRcdGN0eC5saW5lVG8ocG9pbnQueCwgcG9pbnQueSk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcclxuXHRcdFx0XHRcdFx0XHRcdGdob3N0Q3R4LmxpbmVUbyhwb2ludC54LCBwb2ludC55KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0Y3R4LmNsb3NlUGF0aCgpO1xyXG5cclxuXHRcdFx0XHRcdFx0Y3R4Lmdsb2JhbEFscGhhID0gZGF0YVNlcmllcy5maWxsT3BhY2l0eTtcclxuXHRcdFx0XHRcdFx0Y3R4LmZpbGwoKTtcclxuXHRcdFx0XHRcdFx0Y3R4Lmdsb2JhbEFscGhhID0gMTtcclxuXHJcblx0XHRcdFx0XHRcdGN0eC5iZWdpblBhdGgoKTtcclxuXHRcdFx0XHRcdFx0Y3R4Lm1vdmVUbyh4LCB5KTtcclxuXHJcblx0XHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xyXG5cdFx0XHRcdFx0XHRcdGdob3N0Q3R4LmNsb3NlUGF0aCgpO1xyXG5cdFx0XHRcdFx0XHRcdGdob3N0Q3R4LmZpbGwoKTtcclxuXHRcdFx0XHRcdFx0XHRnaG9zdEN0eC5iZWdpblBhdGgoKTtcclxuXHRcdFx0XHRcdFx0XHRnaG9zdEN0eC5tb3ZlVG8oeCwgeSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdGN1cnJlbnRCYXNlVmFsdWVzLnB1c2goeyB4OiB4LCB5OiB5WmVyb1RvUGl4ZWwgLSBvZmZzZXQgfSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdFx0aWYgKGRhdGFTZXJpZXMuZGF0YVBvaW50SW5kZXhlc1tkYXRhUG9pbnRYXSA+PSAwKSB7XHJcblx0XHRcdFx0XHR2YXIgaWQgPSBkYXRhU2VyaWVzLmRhdGFQb2ludElkc1tkYXRhU2VyaWVzLmRhdGFQb2ludEluZGV4ZXNbZGF0YVBvaW50WF1dO1xyXG5cdFx0XHRcdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtpZF0gPSB7XHJcblx0XHRcdFx0XHRcdGlkOiBpZCwgb2JqZWN0VHlwZTogXCJkYXRhUG9pbnRcIiwgZGF0YVNlcmllc0luZGV4OiBkYXRhU2VyaWVzSW5kZXgsIGRhdGFQb2ludEluZGV4OiBkYXRhU2VyaWVzLmRhdGFQb2ludEluZGV4ZXNbZGF0YVBvaW50WF0sIHgxOiB4LCB5MTogeVxyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vUmVuZGVyIE1hcmtlclxyXG5cdFx0XHRcdGlmIChkYXRhU2VyaWVzLmRhdGFQb2ludEluZGV4ZXNbZGF0YVBvaW50WF0gPj0gMCAmJiBkYXRhUG9pbnQubWFya2VyU2l6ZSAhPT0gMCkge1xyXG5cdFx0XHRcdFx0aWYgKGRhdGFQb2ludC5tYXJrZXJTaXplID4gMCB8fCBkYXRhU2VyaWVzLm1hcmtlclNpemUgPiAwKSB7XHJcblx0XHRcdFx0XHRcdHZhciBtYXJrZXJQcm9wcyA9IGRhdGFTZXJpZXMuZ2V0TWFya2VyUHJvcGVydGllcyhpLCB4LCB5LCBjdHgpO1xyXG5cdFx0XHRcdFx0XHRtYXJrZXJzLnB1c2gobWFya2VyUHJvcHMpO1xyXG5cclxuXHRcdFx0XHRcdFx0Ly9pZiAoIWRhdGFTZXJpZXMubWF4V2lkdGhJblggfHwgbWFya2VyUHJvcHMuc2l6ZSA+IGRhdGFTZXJpZXMubWF4V2lkdGhJblgpIHtcclxuXHRcdFx0XHRcdFx0Ly9cdGRhdGFTZXJpZXMubWF4V2lkdGhJblggPSBtYXJrZXJQcm9wcy5zaXplIC8gKHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCA+IDEgPyBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgLSAxIDogcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0KTtcclxuXHRcdFx0XHRcdFx0Ly99XHJcblxyXG5cdFx0XHRcdFx0XHRtYXJrZXJDb2xvciA9IGludFRvSGV4Q29sb3JTdHJpbmcoaWQpO1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XHJcblx0XHRcdFx0XHRcdFx0bWFya2Vycy5wdXNoKHtcclxuXHRcdFx0XHRcdFx0XHRcdHg6IHgsIHk6IHksIGN0eDogZ2hvc3RDdHgsXHJcblx0XHRcdFx0XHRcdFx0XHR0eXBlOiBtYXJrZXJQcm9wcy50eXBlLFxyXG5cdFx0XHRcdFx0XHRcdFx0c2l6ZTogbWFya2VyUHJvcHMuc2l6ZSxcclxuXHRcdFx0XHRcdFx0XHRcdGNvbG9yOiBtYXJrZXJDb2xvcixcclxuXHRcdFx0XHRcdFx0XHRcdGJvcmRlckNvbG9yOiBtYXJrZXJDb2xvcixcclxuXHRcdFx0XHRcdFx0XHRcdGJvcmRlclRoaWNrbmVzczogbWFya2VyUHJvcHMuYm9yZGVyVGhpY2tuZXNzXHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmIChkYXRhUG9pbnQuaW5kZXhMYWJlbCB8fCBkYXRhU2VyaWVzLmluZGV4TGFiZWwgfHwgZGF0YVBvaW50LmluZGV4TGFiZWxGb3JtYXR0ZXIgfHwgZGF0YVNlcmllcy5pbmRleExhYmVsRm9ybWF0dGVyKSB7XHJcblxyXG5cdFx0XHRcdFx0dGhpcy5faW5kZXhMYWJlbHMucHVzaCh7XHJcblx0XHRcdFx0XHRcdGNoYXJ0VHlwZTogXCJzdGFja2VkQXJlYTEwMFwiLFxyXG5cdFx0XHRcdFx0XHRkYXRhUG9pbnQ6IGRhdGFQb2ludCxcclxuXHRcdFx0XHRcdFx0ZGF0YVNlcmllczogZGF0YVNlcmllcyxcclxuXHRcdFx0XHRcdFx0cG9pbnQ6IHtcclxuXHRcdFx0XHRcdFx0XHR4OiB4LCB5OiB5XHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdGRpcmVjdGlvbjogZGF0YVBvaW50c1tpXS55ID49IDAgPyAxIDogLTEsXHJcblx0XHRcdFx0XHRcdGNvbG9yOiBjb2xvclxyXG5cdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKGRhdGFTZXJpZXMubGluZVRoaWNrbmVzcyA+IDApXHJcblx0XHRcdFx0Y3R4LnN0cm9rZSgpO1xyXG5cclxuXHRcdFx0d2hpbGUgKGN1cnJlbnRCYXNlVmFsdWVzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHR2YXIgcG9pbnQgPSBjdXJyZW50QmFzZVZhbHVlcy5wb3AoKTtcclxuXHRcdFx0XHRjdHgubGluZVRvKHBvaW50LngsIHBvaW50LnkpO1xyXG5cclxuXHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXHJcblx0XHRcdFx0XHRnaG9zdEN0eC5saW5lVG8ocG9pbnQueCwgcG9pbnQueSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGN0eC5jbG9zZVBhdGgoKTtcclxuXHJcblx0XHRcdGN0eC5nbG9iYWxBbHBoYSA9IGRhdGFTZXJpZXMuZmlsbE9wYWNpdHk7XHJcblx0XHRcdGN0eC5maWxsKCk7XHJcblx0XHRcdGN0eC5nbG9iYWxBbHBoYSA9IDE7XHJcblxyXG5cdFx0XHRjdHguYmVnaW5QYXRoKCk7XHJcblx0XHRcdGN0eC5tb3ZlVG8oeCwgeSk7XHJcblxyXG5cdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpIHtcclxuXHRcdFx0XHRnaG9zdEN0eC5jbG9zZVBhdGgoKTtcclxuXHRcdFx0XHRnaG9zdEN0eC5maWxsKCk7XHJcblx0XHRcdFx0Z2hvc3RDdHguYmVnaW5QYXRoKCk7XHJcblx0XHRcdFx0Z2hvc3RDdHgubW92ZVRvKHgsIHkpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0ZGVsZXRlIChkYXRhU2VyaWVzLmRhdGFQb2ludEluZGV4ZXMpO1xyXG5cdH1cclxuXHJcblx0UmVuZGVySGVscGVyLmRyYXdNYXJrZXJzKG1hcmtlcnMpO1xyXG5cclxuXHRjdHgucmVzdG9yZSgpO1xyXG5cclxuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXHJcblx0XHRnaG9zdEN0eC5yZXN0b3JlKCk7XHJcblxyXG5cdC8vc291cmNlIGFuZCBkZXN0IHdvdWxkIGJlIHNhbWUgd2hlbiBhbmltYXRpb24gaXMgbm90IGVuYWJsZWRcclxuXHR2YXIgYW5pbWF0aW9uSW5mbyA9IHtcclxuXHRcdHNvdXJjZTogY3R4LCBkZXN0OiB0aGlzLnBsb3RBcmVhLmN0eCwgYW5pbWF0aW9uQ2FsbGJhY2s6IEFuaW1hdGlvbkhlbHBlci54Q2xpcEFuaW1hdGlvbiwgZWFzaW5nRnVuY3Rpb246IEFuaW1hdGlvbkhlbHBlci5lYXNpbmcubGluZWFyLCBhbmltYXRpb25CYXNlOiAwXHJcblx0fTtcclxuXHRyZXR1cm4gYW5pbWF0aW9uSW5mbztcclxufVxyXG4iLCJcclxuaW1wb3J0IHtpc0NhbnZhc1N1cHBvcnRlZH0gZnJvbSAnLi4vaGVscGVycy91dGlscyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAocGxvdFVuaXQpIHtcclxuXHR2YXIgY3R4ID0gcGxvdFVuaXQudGFyZ2V0Q2FudmFzQ3R4IHx8IHRoaXMucGxvdEFyZWEuY3R4O1xyXG5cdHZhciB0b3RhbERhdGFTZXJpZXMgPSBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7XHJcblxyXG5cdGlmICh0b3RhbERhdGFTZXJpZXMgPD0gMClcclxuXHRcdHJldHVybjtcclxuXHJcblx0dmFyIGNvbG9yID0gbnVsbDtcclxuXHJcblx0dmFyIHBsb3RBcmVhID0gdGhpcy5wbG90QXJlYTtcclxuXHJcblx0dmFyIG9mZnNldFBvc2l0aXZlWSA9IFtdO1xyXG5cdHZhciBvZmZzZXROZWdhdGl2ZVkgPSBbXTtcclxuXHJcblx0dmFyIGkgPSAwLCB4LCB5O1xyXG5cdHZhciBkYXRhUG9pbnRYOyAvL1VzZWQgc28gdGhhdCB3aGVuIGRhdGFQb2ludC54IGlzIGEgRGF0ZVRpbWUgdmFsdWUsIGl0IGRvZXNuJ3QgZ2V0IGNvbnZlcnRlZCB0byBudW1iZXIgZXZlcnl0aW1lIGl0IGlzIGFjY2Vzc2VkLlxyXG5cclxuXHQvL3ZhciB5WmVyb1RvUGl4ZWwgPSAoYXhpc1lQcm9wcy55MiAtIGF4aXNZUHJvcHMuaGVpZ2h0IC8gcmFuZ2VZICogTWF0aC5hYnMoMCAtIHBsb3RVbml0LmF4aXNZLnZpZXdwb3J0TWluaW11bSkgKyAuNSkgPDwgMDtcclxuXHR2YXIgeVplcm9Ub1BpeGVsID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqICgwIC0gcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkpIDw8IDA7XHJcblxyXG5cdHZhciBtYXhCYXJXaWR0aCA9IHRoaXMuZGF0YVBvaW50TWF4V2lkdGggPyB0aGlzLmRhdGFQb2ludE1heFdpZHRoIDogdGhpcy5oZWlnaHQgKiAuMTUgPDwgMDtcclxuXHR2YXIgeE1pbkRpZmYgPSBwbG90VW5pdC5heGlzWC5kYXRhSW5mby5taW5EaWZmO1xyXG5cdHZhciBiYXJXaWR0aCA9ICgoKHBsb3RBcmVhLmhlaWdodCAvIE1hdGguYWJzKHBsb3RVbml0LmF4aXNYLnZpZXdwb3J0TWF4aW11bSAtIHBsb3RVbml0LmF4aXNYLnZpZXdwb3J0TWluaW11bSkpICogTWF0aC5hYnMoeE1pbkRpZmYpKSAvIHBsb3RVbml0LnBsb3RUeXBlLnBsb3RVbml0cy5sZW5ndGggKiAuOSkgPDwgMDtcclxuXHJcblx0aWYgKGJhcldpZHRoID4gbWF4QmFyV2lkdGgpXHJcblx0XHRiYXJXaWR0aCA9IG1heEJhcldpZHRoO1xyXG5cdGVsc2UgaWYgKHhNaW5EaWZmID09PSBJbmZpbml0eSkge1xyXG5cdFx0YmFyV2lkdGggPSBtYXhCYXJXaWR0aDtcclxuXHR9IGVsc2UgaWYgKGJhcldpZHRoIDwgMSlcclxuXHRcdGJhcldpZHRoID0gMTtcclxuXHJcblx0Y3R4LnNhdmUoKTtcclxuXHJcblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxyXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnNhdmUoKTtcclxuXHJcblx0Y3R4LmJlZ2luUGF0aCgpO1xyXG5cdGN0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XHJcblx0Y3R4LmNsaXAoKTtcclxuXHJcblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XHJcblx0XHR0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHgucmVjdChwbG90QXJlYS54MSwgcGxvdEFyZWEueTEsIHBsb3RBcmVhLndpZHRoLCBwbG90QXJlYS5oZWlnaHQpO1xyXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LmNsaXAoKTtcclxuXHR9XHJcblxyXG5cdGZvciAodmFyIGogPSAwOyBqIDwgcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoOyBqKyspIHtcclxuXHJcblx0XHR2YXIgZGF0YVNlcmllc0luZGV4ID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXNbal07XHJcblxyXG5cdFx0dmFyIGRhdGFTZXJpZXMgPSB0aGlzLmRhdGFbZGF0YVNlcmllc0luZGV4XTtcclxuXHRcdHZhciBkYXRhUG9pbnRzID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzO1xyXG5cdFx0dmFyIGlzRmlyc3REYXRhUG9pbnRJblBsb3RBcmVhID0gdHJ1ZTtcclxuXHJcblx0XHQvL2RhdGFTZXJpZXMubWF4V2lkdGhJblggPSBiYXJXaWR0aCAvIChwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgPiAxID8gcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0IC0gMSA6IHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCk7XHJcblxyXG5cdFx0aWYgKGRhdGFQb2ludHMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHQvL3ZhciB4eSA9IHRoaXMuZ2V0UGl4ZWxDb29yZGluYXRlc09uUGxvdEFyZWEoZGF0YVBvaW50c1swXS54LCBkYXRhUG9pbnRzWzBdLnkpO1xyXG5cclxuXHRcdFx0dmFyIGJldmVsRW5hYmxlZCA9IChiYXJXaWR0aCA+IDUpICYmIGRhdGFTZXJpZXMuYmV2ZWxFbmFibGVkID8gdHJ1ZSA6IGZhbHNlO1xyXG5cclxuXHRcdFx0Y3R4LnN0cm9rZVN0eWxlID0gXCIjNDU3MkE3IFwiO1xyXG5cclxuXHRcdFx0Zm9yIChpID0gMDsgaSA8IGRhdGFQb2ludHMubGVuZ3RoOyBpKyspIHtcclxuXHJcblx0XHRcdFx0ZGF0YVBvaW50WCA9IGRhdGFQb2ludHNbaV0ueC5nZXRUaW1lID8gZGF0YVBvaW50c1tpXS54LmdldFRpbWUoKSA6IGRhdGFQb2ludHNbaV0ueDtcclxuXHJcblxyXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRYIDwgcGxvdFVuaXQuYXhpc1guZGF0YUluZm8udmlld1BvcnRNaW4gfHwgZGF0YVBvaW50WCA+IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLnZpZXdQb3J0TWF4KSB7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmICh0eXBlb2YgKGRhdGFQb2ludHNbaV0ueSkgIT09IFwibnVtYmVyXCIpXHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHJcblx0XHRcdFx0eSA9IChwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoZGF0YVBvaW50WCAtIHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XHJcblx0XHRcdFx0Ly94ID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqIChkYXRhUG9pbnRzW2ldLnkgLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xyXG5cdFx0XHRcdHggPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludHNbaV0ueSAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pKTtcclxuXHJcblx0XHRcdFx0Ly92YXIgeDEgPSB4IC0gKHBsb3RVbml0LnBsb3RUeXBlLnBsb3RVbml0cy5sZW5ndGggKiBiYXJXaWR0aCAvIDIpICsgKHBsb3RVbml0LmluZGV4ICogYmFyV2lkdGgpIDw8IDA7XHJcblxyXG5cdFx0XHRcdHZhciB5MSA9IHkgLSAocGxvdFVuaXQucGxvdFR5cGUucGxvdFVuaXRzLmxlbmd0aCAqIGJhcldpZHRoIC8gMikgKyAocGxvdFVuaXQuaW5kZXggKiBiYXJXaWR0aCkgPDwgMDtcclxuXHRcdFx0XHR2YXIgeTIgPSB5MSArIGJhcldpZHRoIDw8IDA7XHJcblx0XHRcdFx0dmFyIHgxO1xyXG5cdFx0XHRcdHZhciB4MjtcclxuXHJcblx0XHRcdFx0aWYgKGRhdGFQb2ludHNbaV0ueSA+PSAwKSB7XHJcblx0XHRcdFx0XHR2YXIgb2Zmc2V0ID0gb2Zmc2V0UG9zaXRpdmVZW2RhdGFQb2ludFhdID8gb2Zmc2V0UG9zaXRpdmVZW2RhdGFQb2ludFhdIDogMDtcclxuXHJcblx0XHRcdFx0XHR4MSA9IHlaZXJvVG9QaXhlbCArIG9mZnNldDtcclxuXHRcdFx0XHRcdHgyID0geCArIG9mZnNldDtcclxuXHJcblx0XHRcdFx0XHRvZmZzZXRQb3NpdGl2ZVlbZGF0YVBvaW50WF0gPSBvZmZzZXQgKyAoeDIgLSB4MSk7XHJcblxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHR2YXIgb2Zmc2V0ID0gb2Zmc2V0TmVnYXRpdmVZW2RhdGFQb2ludFhdID8gb2Zmc2V0TmVnYXRpdmVZW2RhdGFQb2ludFhdIDogMDtcclxuXHJcblx0XHRcdFx0XHR4MSA9IHggLSBvZmZzZXQ7XHJcblx0XHRcdFx0XHR4MiA9IHlaZXJvVG9QaXhlbCAtIG9mZnNldDtcclxuXHJcblx0XHRcdFx0XHRvZmZzZXROZWdhdGl2ZVlbZGF0YVBvaW50WF0gPSBvZmZzZXQgKyAoeDIgLSB4MSk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdFx0Y29sb3IgPSBkYXRhUG9pbnRzW2ldLmNvbG9yID8gZGF0YVBvaW50c1tpXS5jb2xvciA6IGRhdGFTZXJpZXMuX2NvbG9yU2V0W2kgJSBkYXRhU2VyaWVzLl9jb2xvclNldC5sZW5ndGhdO1xyXG5cdFx0XHRcdGRyYXdSZWN0KGN0eCwgeDEsIHkxLCB4MiwgeTIsIGNvbG9yLCAwLCBudWxsLCBiZXZlbEVuYWJsZWQsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGRhdGFTZXJpZXMuZmlsbE9wYWNpdHkpO1xyXG5cclxuXHRcdFx0XHR2YXIgaWQgPSBkYXRhU2VyaWVzLmRhdGFQb2ludElkc1tpXTtcclxuXHRcdFx0XHR0aGlzLl9ldmVudE1hbmFnZXIub2JqZWN0TWFwW2lkXSA9IHtcclxuXHRcdFx0XHRcdGlkOiBpZCwgb2JqZWN0VHlwZTogXCJkYXRhUG9pbnRcIiwgZGF0YVNlcmllc0luZGV4OiBkYXRhU2VyaWVzSW5kZXgsIGRhdGFQb2ludEluZGV4OiBpLCB4MTogeDEsIHkxOiB5MSwgeDI6IHgyLCB5MjogeTJcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdGNvbG9yID0gaW50VG9IZXhDb2xvclN0cmluZyhpZCk7XHJcblxyXG5cdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcclxuXHRcdFx0XHRcdGRyYXdSZWN0KHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eCwgeDEsIHkxLCB4MiwgeTIsIGNvbG9yLCAwLCBudWxsLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XHJcblxyXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLmluZGV4TGFiZWwgfHwgZGF0YVNlcmllcy5pbmRleExhYmVsIHx8IGRhdGFQb2ludHNbaV0uaW5kZXhMYWJlbEZvcm1hdHRlciB8fCBkYXRhU2VyaWVzLmluZGV4TGFiZWxGb3JtYXR0ZXIpXHJcblx0XHRcdFx0XHR0aGlzLl9pbmRleExhYmVscy5wdXNoKHtcclxuXHRcdFx0XHRcdFx0Y2hhcnRUeXBlOiBcInN0YWNrZWRCYXJcIixcclxuXHRcdFx0XHRcdFx0ZGF0YVBvaW50OiBkYXRhUG9pbnRzW2ldLFxyXG5cdFx0XHRcdFx0XHRkYXRhU2VyaWVzOiBkYXRhU2VyaWVzLFxyXG5cdFx0XHRcdFx0XHRwb2ludDoge1xyXG5cdFx0XHRcdFx0XHRcdHg6IGRhdGFQb2ludHNbaV0ueSA+PSAwID8geDIgOiB4MSwgeTogeVxyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRkaXJlY3Rpb246IGRhdGFQb2ludHNbaV0ueSA+PSAwID8gMSA6IC0xLFxyXG5cdFx0XHRcdFx0XHRib3VuZHM6IHtcclxuXHRcdFx0XHRcdFx0XHR4MTogTWF0aC5taW4oeDEsIHgyKSwgeTE6IHkxLCB4MjogTWF0aC5tYXgoeDEsIHgyKSwgeTI6IHkyXHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdGNvbG9yOiBjb2xvclxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGN0eC5yZXN0b3JlKCk7XHJcblxyXG5cdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcclxuXHRcdHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eC5yZXN0b3JlKCk7XHJcblxyXG5cdC8vc291cmNlIGFuZCBkZXN0IHdvdWxkIGJlIHNhbWUgd2hlbiBhbmltYXRpb24gaXMgbm90IGVuYWJsZWRcclxuXHR2YXIgYW5pbWF0aW9uQmFzZSA9IE1hdGgubWF4KHlaZXJvVG9QaXhlbCwgcGxvdFVuaXQuYXhpc1guYm91bmRpbmdSZWN0LngyKTtcclxuXHR2YXIgYW5pbWF0aW9uSW5mbyA9IHtcclxuXHRcdHNvdXJjZTogY3R4LCBkZXN0OiB0aGlzLnBsb3RBcmVhLmN0eCwgYW5pbWF0aW9uQ2FsbGJhY2s6IEFuaW1hdGlvbkhlbHBlci54U2NhbGVBbmltYXRpb24sIGVhc2luZ0Z1bmN0aW9uOiBBbmltYXRpb25IZWxwZXIuZWFzaW5nLmVhc2VPdXRRdWFydCwgYW5pbWF0aW9uQmFzZTogYW5pbWF0aW9uQmFzZVxyXG5cdH07XHJcblx0cmV0dXJuIGFuaW1hdGlvbkluZm87XHJcbn1cclxuIiwiXHJcbmltcG9ydCB7aXNDYW52YXNTdXBwb3J0ZWR9IGZyb20gJy4uL2hlbHBlcnMvdXRpbHMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHBsb3RVbml0KSB7XHJcblx0dmFyIGN0eCA9IHBsb3RVbml0LnRhcmdldENhbnZhc0N0eCB8fCB0aGlzLnBsb3RBcmVhLmN0eDtcclxuXHR2YXIgdG90YWxEYXRhU2VyaWVzID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoO1xyXG5cclxuXHRpZiAodG90YWxEYXRhU2VyaWVzIDw9IDApXHJcblx0XHRyZXR1cm47XHJcblxyXG5cdHZhciBjb2xvciA9IG51bGw7XHJcblxyXG5cdHZhciBwbG90QXJlYSA9IHRoaXMucGxvdEFyZWE7XHJcblxyXG5cdHZhciBvZmZzZXRQb3NpdGl2ZVkgPSBbXTtcclxuXHR2YXIgb2Zmc2V0TmVnYXRpdmVZID0gW107XHJcblxyXG5cdHZhciBpID0gMCwgeCwgeTtcclxuXHR2YXIgZGF0YVBvaW50WDsgLy9Vc2VkIHNvIHRoYXQgd2hlbiBkYXRhUG9pbnQueCBpcyBhIERhdGVUaW1lIHZhbHVlLCBpdCBkb2Vzbid0IGdldCBjb252ZXJ0ZWQgdG8gbnVtYmVyIGV2ZXJ5dGltZSBpdCBpcyBhY2Nlc3NlZC5cclxuXHJcblx0Ly92YXIgeVplcm9Ub1BpeGVsID0gKGF4aXNZUHJvcHMueTIgLSBheGlzWVByb3BzLmhlaWdodCAvIHJhbmdlWSAqIE1hdGguYWJzKDAgLSBwbG90VW5pdC5heGlzWS52aWV3cG9ydE1pbmltdW0pICsgLjUpIDw8IDA7XHJcblx0dmFyIHlaZXJvVG9QaXhlbCA9IChwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoMCAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pKSA8PCAwO1xyXG5cclxuXHR2YXIgbWF4QmFyV2lkdGggPSB0aGlzLmRhdGFQb2ludE1heFdpZHRoID8gdGhpcy5kYXRhUG9pbnRNYXhXaWR0aCA6IHRoaXMuaGVpZ2h0ICogLjE1IDw8IDA7XHJcblx0dmFyIHhNaW5EaWZmID0gcGxvdFVuaXQuYXhpc1guZGF0YUluZm8ubWluRGlmZjtcclxuXHR2YXIgYmFyV2lkdGggPSAoKChwbG90QXJlYS5oZWlnaHQgLyBNYXRoLmFicyhwbG90VW5pdC5heGlzWC52aWV3cG9ydE1heGltdW0gLSBwbG90VW5pdC5heGlzWC52aWV3cG9ydE1pbmltdW0pKSAqIE1hdGguYWJzKHhNaW5EaWZmKSkgLyBwbG90VW5pdC5wbG90VHlwZS5wbG90VW5pdHMubGVuZ3RoICogLjkpIDw8IDA7XHJcblxyXG5cdGlmIChiYXJXaWR0aCA+IG1heEJhcldpZHRoKVxyXG5cdFx0YmFyV2lkdGggPSBtYXhCYXJXaWR0aDtcclxuXHRlbHNlIGlmICh4TWluRGlmZiA9PT0gSW5maW5pdHkpIHtcclxuXHRcdGJhcldpZHRoID0gbWF4QmFyV2lkdGg7XHJcblx0fSBlbHNlIGlmIChiYXJXaWR0aCA8IDEpXHJcblx0XHRiYXJXaWR0aCA9IDE7XHJcblxyXG5cdGN0eC5zYXZlKCk7XHJcblxyXG5cdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcclxuXHRcdHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eC5zYXZlKCk7XHJcblxyXG5cdGN0eC5iZWdpblBhdGgoKTtcclxuXHRjdHgucmVjdChwbG90QXJlYS54MSwgcGxvdEFyZWEueTEsIHBsb3RBcmVhLndpZHRoLCBwbG90QXJlYS5oZWlnaHQpO1xyXG5cdGN0eC5jbGlwKCk7XHJcblxyXG5cdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xyXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnJlY3QocGxvdEFyZWEueDEsIHBsb3RBcmVhLnkxLCBwbG90QXJlYS53aWR0aCwgcGxvdEFyZWEuaGVpZ2h0KTtcclxuXHRcdHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eC5jbGlwKCk7XHJcblx0fVxyXG5cclxuXHRmb3IgKHZhciBqID0gMDsgaiA8IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDsgaisrKSB7XHJcblxyXG5cdFx0dmFyIGRhdGFTZXJpZXNJbmRleCA9IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzW2pdO1xyXG5cclxuXHRcdHZhciBkYXRhU2VyaWVzID0gdGhpcy5kYXRhW2RhdGFTZXJpZXNJbmRleF07XHJcblx0XHR2YXIgZGF0YVBvaW50cyA9IGRhdGFTZXJpZXMuZGF0YVBvaW50cztcclxuXHRcdHZhciBpc0ZpcnN0RGF0YVBvaW50SW5QbG90QXJlYSA9IHRydWU7XHJcblxyXG5cdFx0Ly9kYXRhU2VyaWVzLm1heFdpZHRoSW5YID0gYmFyV2lkdGggLyAocGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ID4gMSA/IHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAtIDEgOiBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQpO1xyXG5cclxuXHRcdGlmIChkYXRhUG9pbnRzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0Ly92YXIgeHkgPSB0aGlzLmdldFBpeGVsQ29vcmRpbmF0ZXNPblBsb3RBcmVhKGRhdGFQb2ludHNbMF0ueCwgZGF0YVBvaW50c1swXS55KTtcclxuXHJcblx0XHRcdHZhciBiZXZlbEVuYWJsZWQgPSAoYmFyV2lkdGggPiA1KSAmJiBkYXRhU2VyaWVzLmJldmVsRW5hYmxlZCA/IHRydWUgOiBmYWxzZTtcclxuXHJcblx0XHRcdGN0eC5zdHJva2VTdHlsZSA9IFwiIzQ1NzJBNyBcIjtcclxuXHJcblx0XHRcdGZvciAoaSA9IDA7IGkgPCBkYXRhUG9pbnRzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG5cdFx0XHRcdGRhdGFQb2ludFggPSBkYXRhUG9pbnRzW2ldLnguZ2V0VGltZSA/IGRhdGFQb2ludHNbaV0ueC5nZXRUaW1lKCkgOiBkYXRhUG9pbnRzW2ldLng7XHJcblxyXG5cclxuXHRcdFx0XHRpZiAoZGF0YVBvaW50WCA8IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLnZpZXdQb3J0TWluIHx8IGRhdGFQb2ludFggPiBwbG90VW5pdC5heGlzWC5kYXRhSW5mby52aWV3UG9ydE1heCkge1xyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAodHlwZW9mIChkYXRhUG9pbnRzW2ldLnkpICE9PSBcIm51bWJlclwiKVxyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblxyXG5cdFx0XHRcdHkgPSAocGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludFggLSBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xyXG5cclxuXHRcdFx0XHR2YXIgeVBlcmNlbnQ7XHJcblx0XHRcdFx0aWYgKHBsb3RVbml0LmRhdGFQb2ludFlTdW1zW2RhdGFQb2ludFhdICE9PSAwKVxyXG5cdFx0XHRcdFx0eVBlcmNlbnQgPSBkYXRhUG9pbnRzW2ldLnkgLyBwbG90VW5pdC5kYXRhUG9pbnRZU3Vtc1tkYXRhUG9pbnRYXSAqIDEwMDtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHR5UGVyY2VudCA9IDA7XHJcblxyXG5cdFx0XHRcdC8veCA9IChwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoeVBlcmNlbnQgLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xyXG5cdFx0XHRcdHggPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKHlQZXJjZW50IC0gcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkpO1xyXG5cclxuXHRcdFx0XHR2YXIgeTEgPSB5IC0gKHBsb3RVbml0LnBsb3RUeXBlLnBsb3RVbml0cy5sZW5ndGggKiBiYXJXaWR0aCAvIDIpICsgKHBsb3RVbml0LmluZGV4ICogYmFyV2lkdGgpIDw8IDA7XHJcblx0XHRcdFx0dmFyIHkyID0geTEgKyBiYXJXaWR0aCA8PCAwO1xyXG5cdFx0XHRcdHZhciB4MTtcclxuXHRcdFx0XHR2YXIgeDI7XHJcblxyXG5cclxuXHRcdFx0XHRpZiAoZGF0YVBvaW50c1tpXS55ID49IDApIHtcclxuXHRcdFx0XHRcdHZhciBvZmZzZXQgPSBvZmZzZXRQb3NpdGl2ZVlbZGF0YVBvaW50WF0gPyBvZmZzZXRQb3NpdGl2ZVlbZGF0YVBvaW50WF0gOiAwO1xyXG5cclxuXHRcdFx0XHRcdHgxID0geVplcm9Ub1BpeGVsICsgb2Zmc2V0O1xyXG5cdFx0XHRcdFx0eDIgPSB4ICsgb2Zmc2V0O1xyXG5cclxuXHRcdFx0XHRcdG9mZnNldFBvc2l0aXZlWVtkYXRhUG9pbnRYXSA9IG9mZnNldCArICh4MiAtIHgxKTtcclxuXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHZhciBvZmZzZXQgPSBvZmZzZXROZWdhdGl2ZVlbZGF0YVBvaW50WF0gPyBvZmZzZXROZWdhdGl2ZVlbZGF0YVBvaW50WF0gOiAwO1xyXG5cclxuXHRcdFx0XHRcdHgxID0geCAtIG9mZnNldDtcclxuXHRcdFx0XHRcdHgyID0geVplcm9Ub1BpeGVsIC0gb2Zmc2V0O1xyXG5cclxuXHRcdFx0XHRcdG9mZnNldE5lZ2F0aXZlWVtkYXRhUG9pbnRYXSA9IG9mZnNldCArICh4MiAtIHgxKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cclxuXHRcdFx0XHRjb2xvciA9IGRhdGFQb2ludHNbaV0uY29sb3IgPyBkYXRhUG9pbnRzW2ldLmNvbG9yIDogZGF0YVNlcmllcy5fY29sb3JTZXRbaSAlIGRhdGFTZXJpZXMuX2NvbG9yU2V0Lmxlbmd0aF07XHJcblx0XHRcdFx0ZHJhd1JlY3QoY3R4LCB4MSwgeTEsIHgyLCB5MiwgY29sb3IsIDAsIG51bGwsIGJldmVsRW5hYmxlZCwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZGF0YVNlcmllcy5maWxsT3BhY2l0eSk7XHJcblxyXG5cdFx0XHRcdHZhciBpZCA9IGRhdGFTZXJpZXMuZGF0YVBvaW50SWRzW2ldO1xyXG5cdFx0XHRcdHRoaXMuX2V2ZW50TWFuYWdlci5vYmplY3RNYXBbaWRdID0ge1xyXG5cdFx0XHRcdFx0aWQ6IGlkLCBvYmplY3RUeXBlOiBcImRhdGFQb2ludFwiLCBkYXRhU2VyaWVzSW5kZXg6IGRhdGFTZXJpZXNJbmRleCwgZGF0YVBvaW50SW5kZXg6IGksIHgxOiB4MSwgeTE6IHkxLCB4MjogeDIsIHkyOiB5MlxyXG5cdFx0XHRcdH07XHJcblx0XHRcdFx0Y29sb3IgPSBpbnRUb0hleENvbG9yU3RyaW5nKGlkKTtcclxuXHJcblx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxyXG5cdFx0XHRcdFx0ZHJhd1JlY3QodGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LCB4MSwgeTEsIHgyLCB5MiwgY29sb3IsIDAsIG51bGwsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcclxuXHJcblx0XHRcdFx0aWYgKGRhdGFQb2ludHNbaV0uaW5kZXhMYWJlbCB8fCBkYXRhU2VyaWVzLmluZGV4TGFiZWwgfHwgZGF0YVBvaW50c1tpXS5pbmRleExhYmVsRm9ybWF0dGVyIHx8IGRhdGFTZXJpZXMuaW5kZXhMYWJlbEZvcm1hdHRlcilcclxuXHRcdFx0XHRcdHRoaXMuX2luZGV4TGFiZWxzLnB1c2goe1xyXG5cdFx0XHRcdFx0XHRjaGFydFR5cGU6IFwic3RhY2tlZEJhcjEwMFwiLFxyXG5cdFx0XHRcdFx0XHRkYXRhUG9pbnQ6IGRhdGFQb2ludHNbaV0sXHJcblx0XHRcdFx0XHRcdGRhdGFTZXJpZXM6IGRhdGFTZXJpZXMsXHJcblx0XHRcdFx0XHRcdHBvaW50OiB7XHJcblx0XHRcdFx0XHRcdFx0eDogZGF0YVBvaW50c1tpXS55ID49IDAgPyB4MiA6IHgxLCB5OiB5XHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdGRpcmVjdGlvbjogZGF0YVBvaW50c1tpXS55ID49IDAgPyAxIDogLTEsXHJcblx0XHRcdFx0XHRcdGJvdW5kczoge1xyXG5cdFx0XHRcdFx0XHRcdHgxOiBNYXRoLm1pbih4MSwgeDIpLCB5MTogeTEsIHgyOiBNYXRoLm1heCh4MSwgeDIpLCB5MjogeTJcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0Y29sb3I6IGNvbG9yXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Y3R4LnJlc3RvcmUoKTtcclxuXHJcblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxyXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnJlc3RvcmUoKTtcclxuXHJcblx0Ly9zb3VyY2UgYW5kIGRlc3Qgd291bGQgYmUgc2FtZSB3aGVuIGFuaW1hdGlvbiBpcyBub3QgZW5hYmxlZFxyXG5cdHZhciBhbmltYXRpb25CYXNlID0gTWF0aC5tYXgoeVplcm9Ub1BpeGVsLCBwbG90VW5pdC5heGlzWC5ib3VuZGluZ1JlY3QueDIpO1xyXG5cdHZhciBhbmltYXRpb25JbmZvID0ge1xyXG5cdFx0c291cmNlOiBjdHgsIGRlc3Q6IHRoaXMucGxvdEFyZWEuY3R4LCBhbmltYXRpb25DYWxsYmFjazogQW5pbWF0aW9uSGVscGVyLnhTY2FsZUFuaW1hdGlvbiwgZWFzaW5nRnVuY3Rpb246IEFuaW1hdGlvbkhlbHBlci5lYXNpbmcuZWFzZU91dFF1YXJ0LCBhbmltYXRpb25CYXNlOiBhbmltYXRpb25CYXNlXHJcblx0fTtcclxuXHRyZXR1cm4gYW5pbWF0aW9uSW5mbztcclxufVxyXG4iLCJcclxuaW1wb3J0IHtpc0NhbnZhc1N1cHBvcnRlZH0gZnJvbSAnLi4vaGVscGVycy91dGlscyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAocGxvdFVuaXQpIHtcclxuXHJcblx0dmFyIGN0eCA9IHBsb3RVbml0LnRhcmdldENhbnZhc0N0eCB8fCB0aGlzLnBsb3RBcmVhLmN0eDtcclxuXHR2YXIgdG90YWxEYXRhU2VyaWVzID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoO1xyXG5cclxuXHRpZiAodG90YWxEYXRhU2VyaWVzIDw9IDApXHJcblx0XHRyZXR1cm47XHJcblxyXG5cdHZhciBjb2xvciA9IG51bGw7XHJcblxyXG5cdHZhciBwbG90QXJlYSA9IHRoaXMucGxvdEFyZWE7XHJcblxyXG5cdHZhciBvZmZzZXRQb3NpdGl2ZVkgPSBbXTtcclxuXHR2YXIgb2Zmc2V0TmVnYXRpdmVZID0gW107XHJcblxyXG5cdHZhciBpID0gMCwgeCwgeTtcclxuXHR2YXIgZGF0YVBvaW50WDsgLy9Vc2VkIHNvIHRoYXQgd2hlbiBkYXRhUG9pbnQueCBpcyBhIERhdGVUaW1lIHZhbHVlLCBpdCBkb2Vzbid0IGdldCBjb252ZXJ0ZWQgdG8gbnVtYmVyIGV2ZXJ5dGltZSBpdCBpcyBhY2Nlc3NlZC5cclxuXHJcblx0Ly92YXIgeVplcm9Ub1BpeGVsID0gKGF4aXNZUHJvcHMueTIgLSBheGlzWVByb3BzLmhlaWdodCAvIHJhbmdlWSAqIE1hdGguYWJzKDAgLSBwbG90VW5pdC5heGlzWS52aWV3cG9ydE1pbmltdW0pICsgLjUpIDw8IDA7XHJcblx0dmFyIHlaZXJvVG9QaXhlbCA9IChwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoMCAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pKSA8PCAwO1xyXG5cclxuXHR2YXIgbWF4QmFyV2lkdGggPSB0aGlzLmRhdGFQb2ludE1heFdpZHRoID8gdGhpcy5kYXRhUG9pbnRNYXhXaWR0aCA6IHRoaXMud2lkdGggKiAuMTUgPDwgMDtcclxuXHR2YXIgeE1pbkRpZmYgPSBwbG90VW5pdC5heGlzWC5kYXRhSW5mby5taW5EaWZmO1xyXG5cdHZhciBiYXJXaWR0aCA9ICgoKHBsb3RBcmVhLndpZHRoIC8gTWF0aC5hYnMocGxvdFVuaXQuYXhpc1gudmlld3BvcnRNYXhpbXVtIC0gcGxvdFVuaXQuYXhpc1gudmlld3BvcnRNaW5pbXVtKSkgKiBNYXRoLmFicyh4TWluRGlmZikpIC8gcGxvdFVuaXQucGxvdFR5cGUucGxvdFVuaXRzLmxlbmd0aCAqIC45KSA8PCAwO1xyXG5cclxuXHRpZiAoYmFyV2lkdGggPiBtYXhCYXJXaWR0aClcclxuXHRcdGJhcldpZHRoID0gbWF4QmFyV2lkdGg7XHJcblx0ZWxzZSBpZiAoeE1pbkRpZmYgPT09IEluZmluaXR5KSB7XHJcblx0XHRiYXJXaWR0aCA9IG1heEJhcldpZHRoO1xyXG5cdH0gZWxzZSBpZiAoYmFyV2lkdGggPCAxKVxyXG5cdFx0YmFyV2lkdGggPSAxO1xyXG5cclxuXHJcblxyXG5cdGN0eC5zYXZlKCk7XHJcblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxyXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnNhdmUoKTtcclxuXHJcblx0Y3R4LmJlZ2luUGF0aCgpO1xyXG5cdGN0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XHJcblx0Y3R4LmNsaXAoKTtcclxuXHJcblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XHJcblx0XHR0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHgucmVjdChwbG90QXJlYS54MSwgcGxvdEFyZWEueTEsIHBsb3RBcmVhLndpZHRoLCBwbG90QXJlYS5oZWlnaHQpO1xyXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LmNsaXAoKTtcclxuXHR9XHJcblxyXG5cdGZvciAodmFyIGogPSAwOyBqIDwgcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoOyBqKyspIHtcclxuXHJcblx0XHR2YXIgZGF0YVNlcmllc0luZGV4ID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXNbal07XHJcblx0XHR2YXIgZGF0YVNlcmllcyA9IHRoaXMuZGF0YVtkYXRhU2VyaWVzSW5kZXhdO1xyXG5cdFx0dmFyIGRhdGFQb2ludHMgPSBkYXRhU2VyaWVzLmRhdGFQb2ludHM7XHJcblx0XHR2YXIgaXNGaXJzdERhdGFQb2ludEluUGxvdEFyZWEgPSB0cnVlO1xyXG5cclxuXHRcdC8vIFJlZHVjaW5nIHBpeGVsUGVyVW5pdCBieSAxIGp1c3QgdG8gb3ZlcmNvbWUgYW55IHByb2JsZW1zIGR1ZSB0byByb3VuZGluZyBvZmYgb2YgcGl4ZWxzLlxyXG5cdFx0Ly9kYXRhU2VyaWVzLm1heFdpZHRoSW5YID0gYmFyV2lkdGggLyAocGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ID4gMSA/IHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAtIDEgOiBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQpO1xyXG5cclxuXHJcblx0XHRpZiAoZGF0YVBvaW50cy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdC8vdmFyIHh5ID0gdGhpcy5nZXRQaXhlbENvb3JkaW5hdGVzT25QbG90QXJlYShkYXRhUG9pbnRzWzBdLngsIGRhdGFQb2ludHNbMF0ueSk7XHJcblxyXG5cdFx0XHR2YXIgYmV2ZWxFbmFibGVkID0gKGJhcldpZHRoID4gNSkgJiYgZGF0YVNlcmllcy5iZXZlbEVuYWJsZWQgPyB0cnVlIDogZmFsc2U7XHJcblxyXG5cdFx0XHRjdHguc3Ryb2tlU3R5bGUgPSBcIiM0NTcyQTcgXCI7XHJcblxyXG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgZGF0YVBvaW50cy5sZW5ndGg7IGkrKykge1xyXG5cclxuXHRcdFx0XHRkYXRhUG9pbnRYID0gZGF0YVBvaW50c1tpXS54LmdldFRpbWUgPyBkYXRhUG9pbnRzW2ldLnguZ2V0VGltZSgpIDogZGF0YVBvaW50c1tpXS54O1xyXG5cclxuXHJcblx0XHRcdFx0aWYgKGRhdGFQb2ludFggPCBwbG90VW5pdC5heGlzWC5kYXRhSW5mby52aWV3UG9ydE1pbiB8fCBkYXRhUG9pbnRYID4gcGxvdFVuaXQuYXhpc1guZGF0YUluZm8udmlld1BvcnRNYXgpIHtcclxuXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKHR5cGVvZiAoZGF0YVBvaW50c1tpXS55KSAhPT0gXCJudW1iZXJcIilcclxuXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cclxuXHRcdFx0XHR4ID0gKHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqIChkYXRhUG9pbnRYIC0gcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkgKyAuNSkgPDwgMDtcclxuXHRcdFx0XHR5ID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqIChkYXRhUG9pbnRzW2ldLnkgLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSk7XHJcblxyXG5cdFx0XHRcdHZhciB4MSA9IHggLSAocGxvdFVuaXQucGxvdFR5cGUucGxvdFVuaXRzLmxlbmd0aCAqIGJhcldpZHRoIC8gMikgKyAocGxvdFVuaXQuaW5kZXggKiBiYXJXaWR0aCkgPDwgMDtcclxuXHRcdFx0XHR2YXIgeDIgPSB4MSArIGJhcldpZHRoIDw8IDA7XHJcblx0XHRcdFx0dmFyIHkxO1xyXG5cdFx0XHRcdHZhciB5MjtcclxuXHJcblxyXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLnkgPj0gMCkge1xyXG5cdFx0XHRcdFx0dmFyIG9mZnNldCA9IG9mZnNldFBvc2l0aXZlWVtkYXRhUG9pbnRYXSA/IG9mZnNldFBvc2l0aXZlWVtkYXRhUG9pbnRYXSA6IDA7XHJcblxyXG5cdFx0XHRcdFx0eTEgPSB5IC0gb2Zmc2V0O1xyXG5cdFx0XHRcdFx0eTIgPSB5WmVyb1RvUGl4ZWwgLSBvZmZzZXQ7XHJcblxyXG5cdFx0XHRcdFx0b2Zmc2V0UG9zaXRpdmVZW2RhdGFQb2ludFhdID0gb2Zmc2V0ICsgKHkyIC0geTEpO1xyXG5cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0dmFyIG9mZnNldCA9IG9mZnNldE5lZ2F0aXZlWVtkYXRhUG9pbnRYXSA/IG9mZnNldE5lZ2F0aXZlWVtkYXRhUG9pbnRYXSA6IDA7XHJcblxyXG5cdFx0XHRcdFx0eTIgPSB5ICsgb2Zmc2V0O1xyXG5cdFx0XHRcdFx0eTEgPSB5WmVyb1RvUGl4ZWwgKyBvZmZzZXQ7XHJcblxyXG5cdFx0XHRcdFx0b2Zmc2V0TmVnYXRpdmVZW2RhdGFQb2ludFhdID0gb2Zmc2V0ICsgKHkyIC0geTEpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Y29sb3IgPSBkYXRhUG9pbnRzW2ldLmNvbG9yID8gZGF0YVBvaW50c1tpXS5jb2xvciA6IGRhdGFTZXJpZXMuX2NvbG9yU2V0W2kgJSBkYXRhU2VyaWVzLl9jb2xvclNldC5sZW5ndGhdO1xyXG5cclxuXHRcdFx0XHRkcmF3UmVjdChjdHgsIHgxLCB5MSwgeDIsIHkyLCBjb2xvciwgMCwgbnVsbCwgYmV2ZWxFbmFibGVkICYmIChkYXRhUG9pbnRzW2ldLnkgPj0gMCksIChkYXRhUG9pbnRzW2ldLnkgPCAwKSAmJiBiZXZlbEVuYWJsZWQsIGZhbHNlLCBmYWxzZSwgZGF0YVNlcmllcy5maWxsT3BhY2l0eSk7XHJcblxyXG5cdFx0XHRcdC8vaWYgKGRhdGFTZXJpZXMubWFya2VyVHlwZSAmJiBkYXRhU2VyaWVzLm1hcmtlclNpemUgPiAwKSB7XHJcblx0XHRcdFx0Ly8gICAgUmVuZGVySGVscGVyLmRyYXdNYXJrZXIoeDEgKyAoeDIgLSB4MSkvMiwgeTEsIGN0eCwgZGF0YVNlcmllcy5tYXJrZXJUeXBlLCBkYXRhU2VyaWVzLm1hcmtlclNpemUsIGNvbG9yLCBkYXRhU2VyaWVzLm1hcmtlckJvcmRlckNvbG9yLCBkYXRhU2VyaWVzLm1hcmtlckJvcmRlclRoaWNrbmVzcyA/IGRhdGFTZXJpZXMubWFya2VyQm9yZGVyVGhpY2tuZXNzIDogMSk7XHJcblx0XHRcdFx0Ly99XHJcblxyXG5cdFx0XHRcdHZhciBpZCA9IGRhdGFTZXJpZXMuZGF0YVBvaW50SWRzW2ldO1xyXG5cdFx0XHRcdHRoaXMuX2V2ZW50TWFuYWdlci5vYmplY3RNYXBbaWRdID0ge1xyXG5cdFx0XHRcdFx0aWQ6IGlkLCBvYmplY3RUeXBlOiBcImRhdGFQb2ludFwiLCBkYXRhU2VyaWVzSW5kZXg6IGRhdGFTZXJpZXNJbmRleCwgZGF0YVBvaW50SW5kZXg6IGksIHgxOiB4MSwgeTE6IHkxLCB4MjogeDIsIHkyOiB5MlxyXG5cdFx0XHRcdH07XHJcblx0XHRcdFx0Y29sb3IgPSBpbnRUb0hleENvbG9yU3RyaW5nKGlkKTtcclxuXHJcblx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxyXG5cdFx0XHRcdFx0ZHJhd1JlY3QodGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LCB4MSwgeTEsIHgyLCB5MiwgY29sb3IsIDAsIG51bGwsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcclxuXHJcblxyXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLmluZGV4TGFiZWwgfHwgZGF0YVNlcmllcy5pbmRleExhYmVsIHx8IGRhdGFQb2ludHNbaV0uaW5kZXhMYWJlbEZvcm1hdHRlciB8fCBkYXRhU2VyaWVzLmluZGV4TGFiZWxGb3JtYXR0ZXIpIHtcclxuXHJcblx0XHRcdFx0XHR0aGlzLl9pbmRleExhYmVscy5wdXNoKHtcclxuXHRcdFx0XHRcdFx0Y2hhcnRUeXBlOiBcInN0YWNrZWRDb2x1bW5cIixcclxuXHRcdFx0XHRcdFx0ZGF0YVBvaW50OiBkYXRhUG9pbnRzW2ldLFxyXG5cdFx0XHRcdFx0XHRkYXRhU2VyaWVzOiBkYXRhU2VyaWVzLFxyXG5cdFx0XHRcdFx0XHRwb2ludDoge1xyXG5cdFx0XHRcdFx0XHRcdHg6IHgsIHk6IGRhdGFQb2ludHNbaV0ueSA+PSAwID8geTEgOiB5MlxyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRkaXJlY3Rpb246IGRhdGFQb2ludHNbaV0ueSA+PSAwID8gMSA6IC0xLFxyXG5cdFx0XHRcdFx0XHRib3VuZHM6IHtcclxuXHRcdFx0XHRcdFx0XHR4MTogeDEsIHkxOiBNYXRoLm1pbih5MSwgeTIpLCB4MjogeDIsIHkyOiBNYXRoLm1heCh5MSwgeTIpXHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdGNvbG9yOiBjb2xvclxyXG5cdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Y3R4LnJlc3RvcmUoKTtcclxuXHJcblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxyXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnJlc3RvcmUoKTtcclxuXHJcblx0Ly9zb3VyY2UgYW5kIGRlc3Qgd291bGQgYmUgc2FtZSB3aGVuIGFuaW1hdGlvbiBpcyBub3QgZW5hYmxlZFxyXG5cdHZhciBhbmltYXRpb25CYXNlID0gTWF0aC5taW4oeVplcm9Ub1BpeGVsLCBwbG90VW5pdC5heGlzWS5ib3VuZGluZ1JlY3QueTIpO1xyXG5cdHZhciBhbmltYXRpb25JbmZvID0ge1xyXG5cdFx0c291cmNlOiBjdHgsIGRlc3Q6IHRoaXMucGxvdEFyZWEuY3R4LCBhbmltYXRpb25DYWxsYmFjazogQW5pbWF0aW9uSGVscGVyLnlTY2FsZUFuaW1hdGlvbiwgZWFzaW5nRnVuY3Rpb246IEFuaW1hdGlvbkhlbHBlci5lYXNpbmcuZWFzZU91dFF1YXJ0LCBhbmltYXRpb25CYXNlOiBhbmltYXRpb25CYXNlXHJcblx0fTtcclxuXHRyZXR1cm4gYW5pbWF0aW9uSW5mbztcclxufVxyXG4iLCJcclxuaW1wb3J0IHtpc0NhbnZhc1N1cHBvcnRlZH0gZnJvbSAnLi4vaGVscGVycy91dGlscyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAocGxvdFVuaXQpIHtcclxuXHR2YXIgY3R4ID0gcGxvdFVuaXQudGFyZ2V0Q2FudmFzQ3R4IHx8IHRoaXMucGxvdEFyZWEuY3R4O1xyXG5cdHZhciB0b3RhbERhdGFTZXJpZXMgPSBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7XHJcblxyXG5cdGlmICh0b3RhbERhdGFTZXJpZXMgPD0gMClcclxuXHRcdHJldHVybjtcclxuXHJcblx0dmFyIGNvbG9yID0gbnVsbDtcclxuXHJcblx0dmFyIHBsb3RBcmVhID0gdGhpcy5wbG90QXJlYTtcclxuXHJcblx0dmFyIG9mZnNldFBvc2l0aXZlWSA9IFtdO1xyXG5cdHZhciBvZmZzZXROZWdhdGl2ZVkgPSBbXTtcclxuXHJcblx0dmFyIGkgPSAwLCB4LCB5O1xyXG5cdHZhciBkYXRhUG9pbnRYOyAvL1VzZWQgc28gdGhhdCB3aGVuIGRhdGFQb2ludC54IGlzIGEgRGF0ZVRpbWUgdmFsdWUsIGl0IGRvZXNuJ3QgZ2V0IGNvbnZlcnRlZCB0byBudW1iZXIgZXZlcnl0aW1lIGl0IGlzIGFjY2Vzc2VkLlxyXG5cclxuXHQvL3ZhciB5WmVyb1RvUGl4ZWwgPSAoYXhpc1lQcm9wcy55MiAtIGF4aXNZUHJvcHMuaGVpZ2h0IC8gcmFuZ2VZICogTWF0aC5hYnMoMCAtIHBsb3RVbml0LmF4aXNZLnZpZXdwb3J0TWluaW11bSkgKyAuNSkgPDwgMDtcclxuXHR2YXIgeVplcm9Ub1BpeGVsID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqICgwIC0gcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkpIDw8IDA7XHJcblxyXG5cdHZhciBtYXhCYXJXaWR0aCA9IHRoaXMuZGF0YVBvaW50TWF4V2lkdGggPyB0aGlzLmRhdGFQb2ludE1heFdpZHRoIDogdGhpcy53aWR0aCAqIC4xNSA8PCAwO1xyXG5cdHZhciB4TWluRGlmZiA9IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLm1pbkRpZmY7XHJcblx0dmFyIGJhcldpZHRoID0gKCgocGxvdEFyZWEud2lkdGggLyBNYXRoLmFicyhwbG90VW5pdC5heGlzWC52aWV3cG9ydE1heGltdW0gLSBwbG90VW5pdC5heGlzWC52aWV3cG9ydE1pbmltdW0pKSAqIE1hdGguYWJzKHhNaW5EaWZmKSkgLyBwbG90VW5pdC5wbG90VHlwZS5wbG90VW5pdHMubGVuZ3RoICogLjkpIDw8IDA7XHJcblxyXG5cdGlmIChiYXJXaWR0aCA+IG1heEJhcldpZHRoKVxyXG5cdFx0YmFyV2lkdGggPSBtYXhCYXJXaWR0aDtcclxuXHRlbHNlIGlmICh4TWluRGlmZiA9PT0gSW5maW5pdHkpIHtcclxuXHRcdGJhcldpZHRoID0gbWF4QmFyV2lkdGg7XHJcblx0fSBlbHNlIGlmIChiYXJXaWR0aCA8IDEpXHJcblx0XHRiYXJXaWR0aCA9IDE7XHJcblxyXG5cdGN0eC5zYXZlKCk7XHJcblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxyXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnNhdmUoKTtcclxuXHJcblx0Y3R4LmJlZ2luUGF0aCgpO1xyXG5cdGN0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XHJcblx0Y3R4LmNsaXAoKTtcclxuXHJcblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XHJcblx0XHR0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHgucmVjdChwbG90QXJlYS54MSwgcGxvdEFyZWEueTEsIHBsb3RBcmVhLndpZHRoLCBwbG90QXJlYS5oZWlnaHQpO1xyXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LmNsaXAoKTtcclxuXHR9XHJcblxyXG5cdGZvciAodmFyIGogPSAwOyBqIDwgcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoOyBqKyspIHtcclxuXHJcblx0XHR2YXIgZGF0YVNlcmllc0luZGV4ID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXNbal07XHJcblxyXG5cdFx0dmFyIGRhdGFTZXJpZXMgPSB0aGlzLmRhdGFbZGF0YVNlcmllc0luZGV4XTtcclxuXHRcdHZhciBkYXRhUG9pbnRzID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzO1xyXG5cdFx0dmFyIGlzRmlyc3REYXRhUG9pbnRJblBsb3RBcmVhID0gdHJ1ZTtcclxuXHJcblxyXG5cdFx0Ly9kYXRhU2VyaWVzLm1heFdpZHRoSW5YID0gYmFyV2lkdGggLyAocGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ID4gMSA/IHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAtIDEgOiBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQpO1xyXG5cclxuXHJcblx0XHRpZiAoZGF0YVBvaW50cy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdC8vdmFyIHh5ID0gdGhpcy5nZXRQaXhlbENvb3JkaW5hdGVzT25QbG90QXJlYShkYXRhUG9pbnRzWzBdLngsIGRhdGFQb2ludHNbMF0ueSk7XHJcblxyXG5cdFx0XHR2YXIgYmV2ZWxFbmFibGVkID0gKGJhcldpZHRoID4gNSkgJiYgZGF0YVNlcmllcy5iZXZlbEVuYWJsZWQgPyB0cnVlIDogZmFsc2U7XHJcblxyXG5cdFx0XHQvL2N0eC5zdHJva2VTdHlsZSA9IFwiIzQ1NzJBNyBcIjtcclxuXHJcblx0XHRcdGZvciAoaSA9IDA7IGkgPCBkYXRhUG9pbnRzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG5cdFx0XHRcdGRhdGFQb2ludFggPSBkYXRhUG9pbnRzW2ldLnguZ2V0VGltZSA/IGRhdGFQb2ludHNbaV0ueC5nZXRUaW1lKCkgOiBkYXRhUG9pbnRzW2ldLng7XHJcblxyXG5cclxuXHRcdFx0XHRpZiAoZGF0YVBvaW50WCA8IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLnZpZXdQb3J0TWluIHx8IGRhdGFQb2ludFggPiBwbG90VW5pdC5heGlzWC5kYXRhSW5mby52aWV3UG9ydE1heCkge1xyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAodHlwZW9mIChkYXRhUG9pbnRzW2ldLnkpICE9PSBcIm51bWJlclwiKVxyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblxyXG5cdFx0XHRcdHggPSAocGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludFggLSBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xyXG5cclxuXHRcdFx0XHR2YXIgeVBlcmNlbnQ7XHJcblx0XHRcdFx0aWYgKHBsb3RVbml0LmRhdGFQb2ludFlTdW1zW2RhdGFQb2ludFhdICE9PSAwKVxyXG5cdFx0XHRcdFx0eVBlcmNlbnQgPSBkYXRhUG9pbnRzW2ldLnkgLyBwbG90VW5pdC5kYXRhUG9pbnRZU3Vtc1tkYXRhUG9pbnRYXSAqIDEwMDtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHR5UGVyY2VudCA9IDA7XHJcblxyXG5cdFx0XHRcdC8veSA9IChwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoeVBlcmNlbnQgLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xyXG5cdFx0XHRcdHkgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKHlQZXJjZW50IC0gcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkpO1xyXG5cclxuXHRcdFx0XHR2YXIgeDEgPSB4IC0gKHBsb3RVbml0LnBsb3RUeXBlLnBsb3RVbml0cy5sZW5ndGggKiBiYXJXaWR0aCAvIDIpICsgKHBsb3RVbml0LmluZGV4ICogYmFyV2lkdGgpIDw8IDA7XHJcblx0XHRcdFx0dmFyIHgyID0geDEgKyBiYXJXaWR0aCA8PCAwO1xyXG5cdFx0XHRcdHZhciB5MTtcclxuXHRcdFx0XHR2YXIgeTI7XHJcblxyXG5cclxuXHRcdFx0XHRpZiAoZGF0YVBvaW50c1tpXS55ID49IDApIHtcclxuXHRcdFx0XHRcdHZhciBvZmZzZXQgPSBvZmZzZXRQb3NpdGl2ZVlbZGF0YVBvaW50WF0gPyBvZmZzZXRQb3NpdGl2ZVlbZGF0YVBvaW50WF0gOiAwO1xyXG5cclxuXHRcdFx0XHRcdHkxID0geSAtIG9mZnNldDtcclxuXHRcdFx0XHRcdHkyID0geVplcm9Ub1BpeGVsIC0gb2Zmc2V0O1xyXG5cclxuXHRcdFx0XHRcdG9mZnNldFBvc2l0aXZlWVtkYXRhUG9pbnRYXSA9IG9mZnNldCArICh5MiAtIHkxKTtcclxuXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHZhciBvZmZzZXQgPSBvZmZzZXROZWdhdGl2ZVlbZGF0YVBvaW50WF0gPyBvZmZzZXROZWdhdGl2ZVlbZGF0YVBvaW50WF0gOiAwO1xyXG5cclxuXHRcdFx0XHRcdHkyID0geSArIG9mZnNldDtcclxuXHRcdFx0XHRcdHkxID0geVplcm9Ub1BpeGVsICsgb2Zmc2V0O1xyXG5cclxuXHRcdFx0XHRcdG9mZnNldE5lZ2F0aXZlWVtkYXRhUG9pbnRYXSA9IG9mZnNldCArICh5MiAtIHkxKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cclxuXHRcdFx0XHRjb2xvciA9IGRhdGFQb2ludHNbaV0uY29sb3IgPyBkYXRhUG9pbnRzW2ldLmNvbG9yIDogZGF0YVNlcmllcy5fY29sb3JTZXRbaSAlIGRhdGFTZXJpZXMuX2NvbG9yU2V0Lmxlbmd0aF07XHJcblx0XHRcdFx0ZHJhd1JlY3QoY3R4LCB4MSwgeTEsIHgyLCB5MiwgY29sb3IsIDAsIG51bGwsIGJldmVsRW5hYmxlZCAmJiAoZGF0YVBvaW50c1tpXS55ID49IDApLCAoZGF0YVBvaW50c1tpXS55IDwgMCkgJiYgYmV2ZWxFbmFibGVkLCBmYWxzZSwgZmFsc2UsIGRhdGFTZXJpZXMuZmlsbE9wYWNpdHkpO1xyXG5cclxuXHRcdFx0XHR2YXIgaWQgPSBkYXRhU2VyaWVzLmRhdGFQb2ludElkc1tpXTtcclxuXHRcdFx0XHR0aGlzLl9ldmVudE1hbmFnZXIub2JqZWN0TWFwW2lkXSA9IHtcclxuXHRcdFx0XHRcdGlkOiBpZCwgb2JqZWN0VHlwZTogXCJkYXRhUG9pbnRcIiwgZGF0YVNlcmllc0luZGV4OiBkYXRhU2VyaWVzSW5kZXgsIGRhdGFQb2ludEluZGV4OiBpLCB4MTogeDEsIHkxOiB5MSwgeDI6IHgyLCB5MjogeTJcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdGNvbG9yID0gaW50VG9IZXhDb2xvclN0cmluZyhpZCk7XHJcblxyXG5cdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcclxuXHRcdFx0XHRcdGRyYXdSZWN0KHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eCwgeDEsIHkxLCB4MiwgeTIsIGNvbG9yLCAwLCBudWxsLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XHJcblxyXG5cclxuXHRcdFx0XHRpZiAoZGF0YVBvaW50c1tpXS5pbmRleExhYmVsIHx8IGRhdGFTZXJpZXMuaW5kZXhMYWJlbCB8fCBkYXRhUG9pbnRzW2ldLmluZGV4TGFiZWxGb3JtYXR0ZXIgfHwgZGF0YVNlcmllcy5pbmRleExhYmVsRm9ybWF0dGVyKSB7XHJcblxyXG5cdFx0XHRcdFx0dGhpcy5faW5kZXhMYWJlbHMucHVzaCh7XHJcblx0XHRcdFx0XHRcdGNoYXJ0VHlwZTogXCJzdGFja2VkQ29sdW1uMTAwXCIsXHJcblx0XHRcdFx0XHRcdGRhdGFQb2ludDogZGF0YVBvaW50c1tpXSxcclxuXHRcdFx0XHRcdFx0ZGF0YVNlcmllczogZGF0YVNlcmllcyxcclxuXHRcdFx0XHRcdFx0cG9pbnQ6IHtcclxuXHRcdFx0XHRcdFx0XHR4OiB4LCB5OiBkYXRhUG9pbnRzW2ldLnkgPj0gMCA/IHkxIDogeTJcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0ZGlyZWN0aW9uOiBkYXRhUG9pbnRzW2ldLnkgPj0gMCA/IDEgOiAtMSxcclxuXHRcdFx0XHRcdFx0Ym91bmRzOiB7XHJcblx0XHRcdFx0XHRcdFx0eDE6IHgxLCB5MTogTWF0aC5taW4oeTEsIHkyKSwgeDI6IHgyLCB5MjogTWF0aC5tYXgoeTEsIHkyKVxyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRjb2xvcjogY29sb3JcclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGN0eC5yZXN0b3JlKCk7XHJcblxyXG5cdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcclxuXHRcdHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eC5yZXN0b3JlKCk7XHJcblxyXG5cdC8vc291cmNlIGFuZCBkZXN0IHdvdWxkIGJlIHNhbWUgd2hlbiBhbmltYXRpb24gaXMgbm90IGVuYWJsZWRcclxuXHR2YXIgYW5pbWF0aW9uQmFzZSA9IE1hdGgubWluKHlaZXJvVG9QaXhlbCwgcGxvdFVuaXQuYXhpc1kuYm91bmRpbmdSZWN0LnkyKTtcclxuXHR2YXIgYW5pbWF0aW9uSW5mbyA9IHtcclxuXHRcdHNvdXJjZTogY3R4LCBkZXN0OiB0aGlzLnBsb3RBcmVhLmN0eCwgYW5pbWF0aW9uQ2FsbGJhY2s6IEFuaW1hdGlvbkhlbHBlci55U2NhbGVBbmltYXRpb24sIGVhc2luZ0Z1bmN0aW9uOiBBbmltYXRpb25IZWxwZXIuZWFzaW5nLmVhc2VPdXRRdWFydCwgYW5pbWF0aW9uQmFzZTogYW5pbWF0aW9uQmFzZVxyXG5cdH07XHJcblx0cmV0dXJuIGFuaW1hdGlvbkluZm87XHJcbn1cclxuIiwiXHJcbmltcG9ydCB7aXNDYW52YXNTdXBwb3J0ZWR9IGZyb20gJy4uL2hlbHBlcnMvdXRpbHMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHBsb3RVbml0KSB7XHJcblx0dmFyIGN0eCA9IHBsb3RVbml0LnRhcmdldENhbnZhc0N0eCB8fCB0aGlzLnBsb3RBcmVhLmN0eDtcclxuXHJcblx0dmFyIHRvdGFsRGF0YVNlcmllcyA9IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDtcclxuXHJcblx0aWYgKHRvdGFsRGF0YVNlcmllcyA8PSAwKVxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHR2YXIgZ2hvc3RDdHggPSB0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHg7XHJcblxyXG5cdHZhciBheGlzWFByb3BzID0gcGxvdFVuaXQuYXhpc1gubGluZUNvb3JkaW5hdGVzO1xyXG5cdHZhciBheGlzWVByb3BzID0gcGxvdFVuaXQuYXhpc1kubGluZUNvb3JkaW5hdGVzO1xyXG5cdHZhciBtYXJrZXJzID0gW107XHJcblxyXG5cdHZhciBwbG90QXJlYSA9IHRoaXMucGxvdEFyZWE7XHJcblx0Y3R4LnNhdmUoKTtcclxuXHJcblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxyXG5cdFx0Z2hvc3RDdHguc2F2ZSgpO1xyXG5cclxuXHRjdHguYmVnaW5QYXRoKCk7XHJcblx0Y3R4LnJlY3QocGxvdEFyZWEueDEsIHBsb3RBcmVhLnkxLCBwbG90QXJlYS53aWR0aCwgcGxvdEFyZWEuaGVpZ2h0KTtcclxuXHRjdHguY2xpcCgpO1xyXG5cclxuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpIHtcclxuXHRcdGdob3N0Q3R4LmJlZ2luUGF0aCgpO1xyXG5cdFx0Z2hvc3RDdHgucmVjdChwbG90QXJlYS54MSwgcGxvdEFyZWEueTEsIHBsb3RBcmVhLndpZHRoLCBwbG90QXJlYS5oZWlnaHQpO1xyXG5cdFx0Z2hvc3RDdHguY2xpcCgpO1xyXG5cdH1cclxuXHJcblx0Zm9yICh2YXIgaiA9IDA7IGogPCBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7IGorKykge1xyXG5cclxuXHRcdHZhciBkYXRhU2VyaWVzSW5kZXggPSBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlc1tqXTtcclxuXHJcblx0XHR2YXIgZGF0YVNlcmllcyA9IHRoaXMuZGF0YVtkYXRhU2VyaWVzSW5kZXhdO1xyXG5cclxuXHRcdHZhciBkYXRhUG9pbnRzID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzO1xyXG5cclxuXHRcdHZhciBzZXJpZXNJZCA9IGRhdGFTZXJpZXMuaWQ7XHJcblx0XHR0aGlzLl9ldmVudE1hbmFnZXIub2JqZWN0TWFwW3Nlcmllc0lkXSA9IHtcclxuXHRcdFx0b2JqZWN0VHlwZTogXCJkYXRhU2VyaWVzXCIsIGRhdGFTZXJpZXNJbmRleDogZGF0YVNlcmllc0luZGV4XHJcblx0XHR9O1xyXG5cclxuXHRcdHZhciBoZXhDb2xvciA9IGludFRvSGV4Q29sb3JTdHJpbmcoc2VyaWVzSWQpO1xyXG5cdFx0Z2hvc3RDdHguZmlsbFN0eWxlID0gaGV4Q29sb3I7XHJcblx0XHQvL2dob3N0Q3R4LmxpbmVXaWR0aCA9IGRhdGFTZXJpZXMubGluZVRoaWNrbmVzcztcclxuXHRcdC8vZ2hvc3RDdHgubGluZVdpZHRoID0gMjA7XHJcblxyXG5cdFx0bWFya2VycyA9IFtdO1xyXG5cclxuXHRcdHZhciBpc0ZpcnN0RGF0YVBvaW50SW5QbG90QXJlYSA9IHRydWU7XHJcblx0XHR2YXIgaSA9IDAsIHgsIHk7XHJcblx0XHR2YXIgZGF0YVBvaW50WDsgLy9Vc2VkIHNvIHRoYXQgd2hlbiBkYXRhUG9pbnQueCBpcyBhIERhdGVUaW1lIHZhbHVlLCBpdCBkb2Vzbid0IGdldCBjb252ZXJ0ZWQgdG8gbnVtYmVyIGJhY2sgYW5kIGZvcnRoLlxyXG5cclxuXHRcdHZhciB5WmVyb1RvUGl4ZWwgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKDAgLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xyXG5cdFx0dmFyIGJhc2VZO1xyXG5cclxuXHRcdHZhciBzdGFydFBvaW50ID0gbnVsbDtcclxuXHJcblx0XHR2YXIgcHJldkRhdGFOdWxsID0gZmFsc2U7XHJcblx0XHRpZiAoZGF0YVBvaW50cy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdC8vY3R4LnN0cm9rZVN0eWxlID0gXCIjNDU3MkE3IFwiO1xyXG5cdFx0XHR2YXIgY29sb3IgPSBkYXRhU2VyaWVzLl9jb2xvclNldFtpICUgZGF0YVNlcmllcy5fY29sb3JTZXQubGVuZ3RoXTtcclxuXHRcdFx0Ly9jdHguc3Ryb2tlU3R5bGUgPSBcInJlZFwiO1xyXG5cdFx0XHRjdHguZmlsbFN0eWxlID0gY29sb3I7XHJcblx0XHRcdGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yO1xyXG5cdFx0XHRjdHgubGluZVdpZHRoID0gZGF0YVNlcmllcy5saW5lVGhpY2tuZXNzO1xyXG5cclxuXHRcdFx0aWYgKGN0eC5zZXRMaW5lRGFzaCkge1xyXG5cdFx0XHRcdGN0eC5zZXRMaW5lRGFzaChnZXRMaW5lRGFzaEFycmF5KGRhdGFTZXJpZXMubGluZURhc2hUeXBlLCBkYXRhU2VyaWVzLmxpbmVUaGlja25lc3MpKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Zm9yICg7IGkgPCBkYXRhUG9pbnRzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG5cdFx0XHRcdGRhdGFQb2ludFggPSBkYXRhUG9pbnRzW2ldLnguZ2V0VGltZSA/IGRhdGFQb2ludHNbaV0ueC5nZXRUaW1lKCkgOiBkYXRhUG9pbnRzW2ldLng7XHJcblxyXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRYIDwgcGxvdFVuaXQuYXhpc1guZGF0YUluZm8udmlld1BvcnRNaW4gfHwgZGF0YVBvaW50WCA+IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLnZpZXdQb3J0TWF4KSB7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHZhciBwcmV2WSA9IHk7XHJcblxyXG5cdFx0XHRcdGlmICh0eXBlb2YgKGRhdGFQb2ludHNbaV0ueSkgIT09IFwibnVtYmVyXCIpIHtcclxuXHRcdFx0XHRcdGNsb3NlQXJlYSgpO1xyXG5cclxuXHRcdFx0XHRcdHByZXZEYXRhTnVsbCA9IHRydWU7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHggPSAocGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludFggLSBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xyXG5cdFx0XHRcdHkgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludHNbaV0ueSAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XHJcblxyXG5cclxuXHJcblx0XHRcdFx0aWYgKGlzRmlyc3REYXRhUG9pbnRJblBsb3RBcmVhIHx8IHByZXZEYXRhTnVsbCkge1xyXG5cdFx0XHRcdFx0Y3R4LmJlZ2luUGF0aCgpO1xyXG5cdFx0XHRcdFx0Y3R4Lm1vdmVUbyh4LCB5KTtcclxuXHRcdFx0XHRcdHN0YXJ0UG9pbnQgPSB7XHJcblx0XHRcdFx0XHRcdHg6IHgsIHk6IHlcclxuXHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XHJcblx0XHRcdFx0XHRcdGdob3N0Q3R4LmJlZ2luUGF0aCgpO1xyXG5cdFx0XHRcdFx0XHRnaG9zdEN0eC5tb3ZlVG8oeCwgeSk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0aXNGaXJzdERhdGFQb2ludEluUGxvdEFyZWEgPSBmYWxzZTtcclxuXHRcdFx0XHRcdHByZXZEYXRhTnVsbCA9IGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIHtcclxuXHJcblx0XHRcdFx0XHRjdHgubGluZVRvKHgsIHByZXZZKTtcclxuXHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcclxuXHRcdFx0XHRcdFx0Z2hvc3RDdHgubGluZVRvKHgsIHByZXZZKTtcclxuXHJcblx0XHRcdFx0XHRjdHgubGluZVRvKHgsIHkpO1xyXG5cclxuXHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcclxuXHRcdFx0XHRcdFx0Z2hvc3RDdHgubGluZVRvKHgsIHkpO1xyXG5cclxuXHRcdFx0XHRcdGlmIChpICUgMjUwID09IDApIHtcclxuXHRcdFx0XHRcdFx0Y2xvc2VBcmVhKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdFx0dmFyIGlkID0gZGF0YVNlcmllcy5kYXRhUG9pbnRJZHNbaV07XHJcblx0XHRcdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtpZF0gPSB7XHJcblx0XHRcdFx0XHRpZDogaWQsIG9iamVjdFR5cGU6IFwiZGF0YVBvaW50XCIsIGRhdGFTZXJpZXNJbmRleDogZGF0YVNlcmllc0luZGV4LCBkYXRhUG9pbnRJbmRleDogaSwgeDE6IHgsIHkxOiB5XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0Ly9SZW5kZXIgTWFya2VyXHJcblx0XHRcdFx0aWYgKGRhdGFQb2ludHNbaV0ubWFya2VyU2l6ZSAhPT0gMCkge1xyXG5cdFx0XHRcdFx0aWYgKGRhdGFQb2ludHNbaV0ubWFya2VyU2l6ZSA+IDAgfHwgZGF0YVNlcmllcy5tYXJrZXJTaXplID4gMCkge1xyXG5cdFx0XHRcdFx0XHR2YXIgbWFya2VyUHJvcHMgPSBkYXRhU2VyaWVzLmdldE1hcmtlclByb3BlcnRpZXMoaSwgeCwgeSwgY3R4KTtcclxuXHRcdFx0XHRcdFx0bWFya2Vycy5wdXNoKG1hcmtlclByb3BzKTtcclxuXHJcblx0XHRcdFx0XHRcdC8vaWYgKCFkYXRhU2VyaWVzLm1heFdpZHRoSW5YIHx8IG1hcmtlclByb3BzLnNpemUgPiBkYXRhU2VyaWVzLm1heFdpZHRoSW5YKSB7XHJcblx0XHRcdFx0XHRcdC8vXHRkYXRhU2VyaWVzLm1heFdpZHRoSW5YID0gbWFya2VyUHJvcHMuc2l6ZSAvIChwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgPiAxID8gcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0IC0gMSA6IHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCk7XHJcblx0XHRcdFx0XHRcdC8vfVxyXG5cclxuXHRcdFx0XHRcdFx0dmFyIG1hcmtlckNvbG9yID0gaW50VG9IZXhDb2xvclN0cmluZyhpZCk7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpIHtcclxuXHRcdFx0XHRcdFx0XHRtYXJrZXJzLnB1c2goe1xyXG5cdFx0XHRcdFx0XHRcdFx0eDogeCwgeTogeSwgY3R4OiBnaG9zdEN0eCxcclxuXHRcdFx0XHRcdFx0XHRcdHR5cGU6IG1hcmtlclByb3BzLnR5cGUsXHJcblx0XHRcdFx0XHRcdFx0XHRzaXplOiBtYXJrZXJQcm9wcy5zaXplLFxyXG5cdFx0XHRcdFx0XHRcdFx0Y29sb3I6IG1hcmtlckNvbG9yLFxyXG5cdFx0XHRcdFx0XHRcdFx0Ym9yZGVyQ29sb3I6IG1hcmtlckNvbG9yLFxyXG5cdFx0XHRcdFx0XHRcdFx0Ym9yZGVyVGhpY2tuZXNzOiBtYXJrZXJQcm9wcy5ib3JkZXJUaGlja25lc3NcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKGRhdGFQb2ludHNbaV0uaW5kZXhMYWJlbCB8fCBkYXRhU2VyaWVzLmluZGV4TGFiZWwgfHwgZGF0YVBvaW50c1tpXS5pbmRleExhYmVsRm9ybWF0dGVyIHx8IGRhdGFTZXJpZXMuaW5kZXhMYWJlbEZvcm1hdHRlcikge1xyXG5cclxuXHRcdFx0XHRcdHRoaXMuX2luZGV4TGFiZWxzLnB1c2goe1xyXG5cdFx0XHRcdFx0XHRjaGFydFR5cGU6IFwic3RlcEFyZWFcIixcclxuXHRcdFx0XHRcdFx0ZGF0YVBvaW50OiBkYXRhUG9pbnRzW2ldLFxyXG5cdFx0XHRcdFx0XHRkYXRhU2VyaWVzOiBkYXRhU2VyaWVzLFxyXG5cdFx0XHRcdFx0XHRwb2ludDoge1xyXG5cdFx0XHRcdFx0XHRcdHg6IHgsIHk6IHlcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0ZGlyZWN0aW9uOiBkYXRhUG9pbnRzW2ldLnkgPj0gMCA/IDEgOiAtMSxcclxuXHRcdFx0XHRcdFx0Y29sb3I6IGNvbG9yXHJcblx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjbG9zZUFyZWEoKTtcclxuXHJcblx0XHRcdFJlbmRlckhlbHBlci5kcmF3TWFya2VycyhtYXJrZXJzKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGN0eC5yZXN0b3JlKCk7XHJcblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxyXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnJlc3RvcmUoKTtcclxuXHJcblx0ZnVuY3Rpb24gY2xvc2VBcmVhKCkge1xyXG5cclxuXHRcdGlmICghc3RhcnRQb2ludClcclxuXHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdGlmIChkYXRhU2VyaWVzLmxpbmVUaGlja25lc3MgPiAwKVxyXG5cdFx0XHRjdHguc3Ryb2tlKCk7XHJcblxyXG5cdFx0aWYgKHBsb3RVbml0LmF4aXNZLnZpZXdwb3J0TWluaW11bSA8PSAwICYmIHBsb3RVbml0LmF4aXNZLnZpZXdwb3J0TWF4aW11bSA+PSAwKSB7XHJcblx0XHRcdGJhc2VZID0geVplcm9Ub1BpeGVsO1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSBpZiAocGxvdFVuaXQuYXhpc1kudmlld3BvcnRNYXhpbXVtIDwgMClcclxuXHRcdFx0YmFzZVkgPSBheGlzWVByb3BzLnkxO1xyXG5cdFx0ZWxzZSBpZiAocGxvdFVuaXQuYXhpc1kudmlld3BvcnRNaW5pbXVtID4gMClcclxuXHRcdFx0YmFzZVkgPSBheGlzWFByb3BzLnkyO1xyXG5cclxuXHRcdGN0eC5saW5lVG8oeCwgYmFzZVkpO1xyXG5cdFx0Y3R4LmxpbmVUbyhzdGFydFBvaW50LngsIGJhc2VZKTtcclxuXHRcdGN0eC5jbG9zZVBhdGgoKTtcclxuXHJcblx0XHRjdHguZ2xvYmFsQWxwaGEgPSBkYXRhU2VyaWVzLmZpbGxPcGFjaXR5O1xyXG5cdFx0Y3R4LmZpbGwoKTtcclxuXHRcdGN0eC5nbG9iYWxBbHBoYSA9IDE7XHJcblxyXG5cdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XHJcblx0XHRcdGdob3N0Q3R4LmxpbmVUbyh4LCBiYXNlWSk7XHJcblx0XHRcdGdob3N0Q3R4LmxpbmVUbyhzdGFydFBvaW50LngsIGJhc2VZKTtcclxuXHRcdFx0Z2hvc3RDdHguY2xvc2VQYXRoKCk7XHJcblx0XHRcdGdob3N0Q3R4LmZpbGwoKTtcclxuXHRcdH1cclxuXHJcblx0XHRjdHguYmVnaW5QYXRoKCk7XHJcblx0XHRjdHgubW92ZVRvKHgsIHkpO1xyXG5cdFx0Z2hvc3RDdHguYmVnaW5QYXRoKCk7XHJcblx0XHRnaG9zdEN0eC5tb3ZlVG8oeCwgeSk7XHJcblxyXG5cdFx0c3RhcnRQb2ludCA9IHtcclxuXHRcdFx0eDogeCwgeTogeVxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdC8vc291cmNlIGFuZCBkZXN0IHdvdWxkIGJlIHNhbWUgd2hlbiBhbmltYXRpb24gaXMgbm90IGVuYWJsZWRcclxuXHR2YXIgYW5pbWF0aW9uSW5mbyA9IHtcclxuXHRcdHNvdXJjZTogY3R4LCBkZXN0OiB0aGlzLnBsb3RBcmVhLmN0eCwgYW5pbWF0aW9uQ2FsbGJhY2s6IEFuaW1hdGlvbkhlbHBlci54Q2xpcEFuaW1hdGlvbiwgZWFzaW5nRnVuY3Rpb246IEFuaW1hdGlvbkhlbHBlci5lYXNpbmcubGluZWFyLCBhbmltYXRpb25CYXNlOiAwXHJcblx0fTtcclxuXHRyZXR1cm4gYW5pbWF0aW9uSW5mbztcclxufVxyXG4iLCJleHBvcnQgY29uc3QgY3VsdHVyZXMgPSB7XHJcbiAgXCJlblwiOiB7XHJcbiAgICAvL0Rlcml2ZXMgZnJvbSB0aGUgZGVmYXVsdCBvcHRpb25zXHJcbiAgfS8vLFxyXG4gIC8vXCJlc1wiOiB7XHJcbiAgLy8gICAgZGVjaW1hbFNlcGFyYXRvcjogXCIsXCIsXHJcbiAgLy8gICAgZGlnaXRHcm91cFNlcGFyYXRvcjogXCIuXCIsXHJcbiAgLy8gICAgem9vbVRleHQ6IFwiem9vbVwiLFxyXG4gIC8vICAgIHBhblRleHQ6IFwicGFuXCIsXHJcbiAgLy8gICAgcmVzZXRUZXh0OiBcInJlc2V0XCIsXHJcbiAgLy8gICAgZGF5czogW1wiZG9taW5nb1wiLCBcImx1bmVzXCIsIFwibWFydGVzXCIsIFwibWnDqXJjb2xlc1wiLCBcImp1ZXZlc1wiLCBcInZpZXJuZXNcIiwgXCJzw6FiYWRvXCJdLFxyXG4gIC8vfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNvbnN0YW50cyA9IHtcclxuICBudW1iZXJEdXJhdGlvbjogMSxcclxuICB5ZWFyRHVyYXRpb246IDEwMDAgKiA2MCAqIDYwICogMjQgKiAzNjQsXHJcbiAgbW9udGhEdXJhdGlvbjogMTAwMCAqIDYwICogNjAgKiAyNCAqIDMwLFxyXG4gIHdlZWtEdXJhdGlvbjogMTAwMCAqIDYwICogNjAgKiAyNCAqIDcsXHJcbiAgZGF5RHVyYXRpb246IDEwMDAgKiA2MCAqIDYwICogMjQsXHJcbiAgaG91ckR1cmF0aW9uOiAxMDAwICogNjAgKiA2MCxcclxuICBtaW51dGVEdXJhdGlvbjogMTAwMCAqIDYwLFxyXG4gIHNlY29uZER1cmF0aW9uOiAxMDAwLFxyXG4gIG1pbGxpc2Vjb25kRHVyYXRpb246IDEsXHJcblxyXG4gIGRheU9mV2Vla0Zyb21JbnQ6IFtcIlN1bmRheVwiLCBcIk1vbmRheVwiLCBcIlR1ZXNkYXlcIiwgXCJXZWRuZXNkYXlcIiwgXCJUaHVyc2RheVwiLCBcIkZyaWRheVwiLCBcIlNhdHVyZGF5XCJdXHJcbn07XHJcbiIsIlxyXG5leHBvcnQgY29uc3QgaXNEZWJ1Z01vZGUgPSBmYWxzZTtcclxuXHJcbmV4cG9ydCBjb25zdCBpc0NhbnZhc1N1cHBvcnRlZCA9ICEhZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKS5nZXRDb250ZXh0O1xyXG5cdC8vaXNDYW52YXNTdXBwb3J0ZWQgPSBmYWxzZTtcclxuXHJcblx0Ly9EZWZhdWx0IHZhbHVlcyBmb3IgYWxsIENoYXJ0IEVsZW1lbnRzIHRoYXQgY2FuIGJlIHNldCBieSB0aGUgdXNlci4gQ2FudmFzSlNPYmplY3Quc2V0T3B0aW9ucyBsb29rcyBpbnRvIHRoaXMgd2hpbGUgc2V0dGluZyB0aGUgZGVmYXVsdC91c2VyLWRlZmluZWQgdmFsdWVzLlxyXG5leHBvcnQgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XHJcblx0XHRDaGFydDoge1xyXG5cdFx0XHR3aWR0aDogNTAwLFxyXG5cdFx0XHRoZWlnaHQ6IDQwMCxcclxuXHRcdFx0em9vbUVuYWJsZWQ6IGZhbHNlLFxyXG5cdFx0XHR6b29tVHlwZTogXCJ4XCIsXHJcblx0XHRcdGJhY2tncm91bmRDb2xvcjogXCJ3aGl0ZVwiLFxyXG5cdFx0XHR0aGVtZTogXCJ0aGVtZTFcIixcclxuXHRcdFx0YW5pbWF0aW9uRW5hYmxlZDogZmFsc2UsXHJcblx0XHRcdGFuaW1hdGlvbkR1cmF0aW9uOiAxMjAwLFxyXG5cdFx0XHRkYXRhUG9pbnRNYXhXaWR0aDogbnVsbCxcclxuXHJcblx0XHRcdGNvbG9yU2V0OiBcImNvbG9yU2V0MVwiLFxyXG5cdFx0XHRjdWx0dXJlOiBcImVuXCIsXHJcblx0XHRcdGNyZWRpdFRleHQ6IFwiQ2FudmFzSlMuY29tXCIsXHJcblx0XHRcdGludGVyYWN0aXZpdHlFbmFibGVkOiB0cnVlLFxyXG5cdFx0XHRleHBvcnRFbmFibGVkOiBmYWxzZSxcclxuXHRcdFx0ZXhwb3J0RmlsZU5hbWU6IFwiQ2hhcnRcIixcclxuXHJcblx0XHRcdHJhbmdlQ2hhbmdpbmc6IG51bGwsXHJcblx0XHRcdHJhbmdlQ2hhbmdlZDogbnVsbFxyXG5cdFx0fSxcclxuXHJcblx0XHRUaXRsZToge1xyXG5cdFx0XHRwYWRkaW5nOiAwLFxyXG5cdFx0XHR0ZXh0OiBudWxsLFxyXG5cdFx0XHR2ZXJ0aWNhbEFsaWduOiBcInRvcFwiLC8vdG9wLCBjZW50ZXIsIGJvdHRvbVxyXG5cdFx0XHRob3Jpem9udGFsQWxpZ246IFwiY2VudGVyXCIsLy9sZWZ0LCBjZW50ZXIsIHJpZ2h0XHJcblx0XHRcdGZvbnRTaXplOiAyMCwvL2luIHBpeGVsc1xyXG5cdFx0XHRmb250RmFtaWx5OiBcIkNhbGlicmlcIixcclxuXHRcdFx0Zm9udFdlaWdodDogXCJub3JtYWxcIiwgLy9ub3JtYWwsIGJvbGQsIGJvbGRlciwgbGlnaHRlcixcclxuXHRcdFx0Zm9udENvbG9yOiBcImJsYWNrXCIsXHJcblx0XHRcdGZvbnRTdHlsZTogXCJub3JtYWxcIiwgLy8gbm9ybWFsLCBpdGFsaWMsIG9ibGlxdWVcclxuXHJcblx0XHRcdGJvcmRlclRoaWNrbmVzczogMCxcclxuXHRcdFx0Ym9yZGVyQ29sb3I6IFwiYmxhY2tcIixcclxuXHRcdFx0Y29ybmVyUmFkaXVzOiAwLFxyXG5cdFx0XHRiYWNrZ3JvdW5kQ29sb3I6IG51bGwsXHJcblx0XHRcdG1hcmdpbjogNSxcclxuXHRcdFx0d3JhcDogdHJ1ZSxcclxuXHRcdFx0bWF4V2lkdGg6IG51bGwsXHJcblxyXG5cdFx0XHRkb2NrSW5zaWRlUGxvdEFyZWE6IGZhbHNlXHJcblx0XHRcdC8vdG9vbFRpcENvbnRlbnQ6IG51bGwvL3N0cmluZyAtIFRvIGJlIGltcGxlbWVudGVkIChUQkkpXHJcblx0XHR9LFxyXG5cclxuXHRcdFN1YnRpdGxlOiB7XHJcblx0XHRcdHBhZGRpbmc6IDAsXHJcblx0XHRcdHRleHQ6IG51bGwsXHJcblx0XHRcdHZlcnRpY2FsQWxpZ246IFwidG9wXCIsLy90b3AsIGNlbnRlciwgYm90dG9tXHJcblx0XHRcdGhvcml6b250YWxBbGlnbjogXCJjZW50ZXJcIiwvL2xlZnQsIGNlbnRlciwgcmlnaHRcclxuXHRcdFx0Zm9udFNpemU6IDE0LC8vaW4gcGl4ZWxzXHJcblx0XHRcdGZvbnRGYW1pbHk6IFwiQ2FsaWJyaVwiLFxyXG5cdFx0XHRmb250V2VpZ2h0OiBcIm5vcm1hbFwiLCAvL25vcm1hbCwgYm9sZCwgYm9sZGVyLCBsaWdodGVyLFxyXG5cdFx0XHRmb250Q29sb3I6IFwiYmxhY2tcIixcclxuXHRcdFx0Zm9udFN0eWxlOiBcIm5vcm1hbFwiLCAvLyBub3JtYWwsIGl0YWxpYywgb2JsaXF1ZVxyXG5cclxuXHRcdFx0Ym9yZGVyVGhpY2tuZXNzOiAwLFxyXG5cdFx0XHRib3JkZXJDb2xvcjogXCJibGFja1wiLFxyXG5cdFx0XHRjb3JuZXJSYWRpdXM6IDAsXHJcblx0XHRcdGJhY2tncm91bmRDb2xvcjogbnVsbCxcclxuXHRcdFx0bWFyZ2luOiAyLFxyXG5cdFx0XHR3cmFwOiB0cnVlLFxyXG5cdFx0XHRtYXhXaWR0aDogbnVsbCxcclxuXHJcblx0XHRcdGRvY2tJbnNpZGVQbG90QXJlYTogZmFsc2VcclxuXHRcdFx0Ly90b29sVGlwQ29udGVudDogbnVsbC8vc3RyaW5nIC0gVG8gYmUgaW1wbGVtZW50ZWQgKFRCSSlcclxuXHRcdH0sXHJcblxyXG5cdFx0TGVnZW5kOiB7XHJcblx0XHRcdG5hbWU6IG51bGwsXHJcblx0XHRcdHZlcnRpY2FsQWxpZ246IFwiY2VudGVyXCIsXHJcblx0XHRcdGhvcml6b250YWxBbGlnbjogXCJyaWdodFwiLFxyXG5cclxuXHRcdFx0Zm9udFNpemU6IDE0LC8vaW4gcGl4ZWxzXHJcblx0XHRcdGZvbnRGYW1pbHk6IFwiY2FsaWJyaVwiLFxyXG5cdFx0XHRmb250V2VpZ2h0OiBcIm5vcm1hbFwiLCAvL25vcm1hbCwgYm9sZCwgYm9sZGVyLCBsaWdodGVyLFxyXG5cdFx0XHRmb250Q29sb3I6IFwiYmxhY2tcIixcclxuXHRcdFx0Zm9udFN0eWxlOiBcIm5vcm1hbFwiLCAvLyBub3JtYWwsIGl0YWxpYywgb2JsaXF1ZVxyXG5cclxuXHRcdFx0Y3Vyc29yOiBudWxsLFxyXG5cdFx0XHRpdGVtbW91c2VvdmVyOiBudWxsLFxyXG5cdFx0XHRpdGVtbW91c2VvdXQ6IG51bGwsXHJcblx0XHRcdGl0ZW1tb3VzZW1vdmU6IG51bGwsXHJcblx0XHRcdGl0ZW1jbGljazogbnVsbCxcclxuXHJcblx0XHRcdGRvY2tJbnNpZGVQbG90QXJlYTogZmFsc2UsXHJcblx0XHRcdHJldmVyc2VkOiBmYWxzZSxcclxuXHJcblx0XHRcdG1heFdpZHRoOiBudWxsLFxyXG5cdFx0XHRtYXhIZWlnaHQ6IG51bGwsXHJcblxyXG5cdFx0XHRpdGVtTWF4V2lkdGg6IG51bGwsXHJcblx0XHRcdGl0ZW1XaWR0aDogbnVsbCxcclxuXHRcdFx0aXRlbVdyYXA6IHRydWUsXHJcblx0XHRcdGl0ZW1UZXh0Rm9ybWF0dGVyOiBudWxsXHJcblx0XHR9LFxyXG5cclxuXHRcdFRvb2xUaXA6IHtcclxuXHRcdFx0ZW5hYmxlZDogdHJ1ZSxcclxuXHRcdFx0c2hhcmVkOiBmYWxzZSxcclxuXHRcdFx0YW5pbWF0aW9uRW5hYmxlZDogdHJ1ZSxcclxuXHRcdFx0Y29udGVudDogbnVsbCxcclxuXHRcdFx0Y29udGVudEZvcm1hdHRlcjogbnVsbCxcclxuXHJcblx0XHRcdHJldmVyc2VkOiBmYWxzZSxcclxuXHJcblx0XHRcdGJhY2tncm91bmRDb2xvcjogbnVsbCxcclxuXHJcblx0XHRcdGJvcmRlckNvbG9yOiBudWxsLFxyXG5cdFx0XHRib3JkZXJUaGlja25lc3M6IDIsIC8vaW4gcGl4ZWxzXHJcblx0XHRcdGNvcm5lclJhZGl1czogNSwgLy8gaW4gcGl4ZWxzXHJcblxyXG5cdFx0XHRmb250U2l6ZTogMTQsIC8vIGluIHBpeGVsc1xyXG5cdFx0XHRmb250Q29sb3I6IFwiIzAwMDAwMFwiLFxyXG5cdFx0XHRmb250RmFtaWx5OiBcIkNhbGlicmksIEFyaWFsLCBHZW9yZ2lhLCBzZXJpZjtcIixcclxuXHRcdFx0Zm9udFdlaWdodDogXCJub3JtYWxcIiwgLy9ub3JtYWwsIGJvbGQsIGJvbGRlciwgbGlnaHRlcixcclxuXHRcdFx0Zm9udFN0eWxlOiBcIml0YWxpY1wiICAvLyBub3JtYWwsIGl0YWxpYywgb2JsaXF1ZVxyXG5cdFx0fSxcclxuXHJcblx0XHRBeGlzOiB7XHJcblx0XHRcdG1pbmltdW06IG51bGwsIC8vTWluaW11bSB2YWx1ZSB0byBiZSBzaG93biBvbiB0aGUgQXhpc1xyXG5cdFx0XHRtYXhpbXVtOiBudWxsLCAvL01pbmltdW0gdmFsdWUgdG8gYmUgc2hvd24gb24gdGhlIEF4aXNcclxuXHRcdFx0dmlld3BvcnRNaW5pbXVtOiBudWxsLFxyXG5cdFx0XHR2aWV3cG9ydE1heGltdW06IG51bGwsXHJcblx0XHRcdGludGVydmFsOiBudWxsLCAvLyBJbnRlcnZhbCBmb3IgdGljayBtYXJrcyBhbmQgZ3JpZCBsaW5lc1xyXG5cdFx0XHRpbnRlcnZhbFR5cGU6IG51bGwsIC8vbnVtYmVyLCBtaWxsaXNlY29uZCwgc2Vjb25kLCBtaW51dGUsIGhvdXIsIGRheSwgbW9udGgsIHllYXJcclxuXHRcdFx0Ly9yZXZlcnNlZDogZmFsc2UsXHJcblxyXG5cdFx0XHR0aXRsZTogbnVsbCwgLy8gc3RyaW5nXHJcblx0XHRcdHRpdGxlRm9udENvbG9yOiBcImJsYWNrXCIsXHJcblx0XHRcdHRpdGxlRm9udFNpemU6IDIwLFxyXG5cdFx0XHR0aXRsZUZvbnRGYW1pbHk6IFwiYXJpYWxcIixcclxuXHRcdFx0dGl0bGVGb250V2VpZ2h0OiBcIm5vcm1hbFwiLFxyXG5cdFx0XHR0aXRsZUZvbnRTdHlsZTogXCJub3JtYWxcIixcclxuXHJcblx0XHRcdGxhYmVsQW5nbGU6IDAsXHJcblx0XHRcdGxhYmVsRm9udEZhbWlseTogXCJhcmlhbFwiLFxyXG5cdFx0XHRsYWJlbEZvbnRDb2xvcjogXCJibGFja1wiLFxyXG5cdFx0XHRsYWJlbEZvbnRTaXplOiAxMixcclxuXHRcdFx0bGFiZWxGb250V2VpZ2h0OiBcIm5vcm1hbFwiLFxyXG5cdFx0XHRsYWJlbEZvbnRTdHlsZTogXCJub3JtYWxcIixcclxuXHRcdFx0bGFiZWxBdXRvRml0OiBmYWxzZSxcclxuXHRcdFx0bGFiZWxXcmFwOiB0cnVlLFxyXG5cdFx0XHRsYWJlbE1heFdpZHRoOiBudWxsLC8vbnVsbCBmb3IgYXV0b1xyXG5cdFx0XHRsYWJlbEZvcm1hdHRlcjogbnVsbCxcclxuXHJcblx0XHRcdHByZWZpeDogXCJcIixcclxuXHRcdFx0c3VmZml4OiBcIlwiLFxyXG5cclxuXHRcdFx0aW5jbHVkZVplcm86IHRydWUsIC8vQXBwbGllcyBvbmx5IGZvciBheGlzWS4gSWdub3JlZCBpbiBheGlzWC5cclxuXHJcblx0XHRcdHRpY2tMZW5ndGg6IDUsXHJcblx0XHRcdHRpY2tDb2xvcjogXCJibGFja1wiLFxyXG5cdFx0XHR0aWNrVGhpY2tuZXNzOiAxLFxyXG5cclxuXHRcdFx0bGluZUNvbG9yOiBcImJsYWNrXCIsXHJcblx0XHRcdGxpbmVUaGlja25lc3M6IDEsXHJcblx0XHRcdGxpbmVEYXNoVHlwZTogXCJzb2xpZFwiLFxyXG5cclxuXHRcdFx0Z3JpZENvbG9yOiBcIkEwQTBBMFwiLFxyXG5cdFx0XHRncmlkVGhpY2tuZXNzOiAwLFxyXG5cdFx0XHRncmlkRGFzaFR5cGU6IFwic29saWRcIixcclxuXHJcblx0XHRcdGludGVybGFjZWRDb2xvcjogbnVsbCxcclxuXHJcblx0XHRcdHZhbHVlRm9ybWF0U3RyaW5nOiBudWxsLFxyXG5cclxuXHRcdFx0bWFyZ2luOiAyLFxyXG5cclxuXHRcdFx0c3RyaXBMaW5lczogW10gLy8gSnVzdCBhIHBsYWNlaG9sZGVyLiBEb2VzIG5vdCBoYXZlIGFueSBlZmZlY3Qgb24gdGhlIGFjdHVhbCBudW1iZXIgb2Ygc3RyaXBsaW5lc1xyXG5cdFx0fSxcclxuXHJcblx0XHRTdHJpcExpbmU6IHtcclxuXHRcdFx0dmFsdWU6IG51bGwsXHJcblx0XHRcdHN0YXJ0VmFsdWU6IG51bGwsXHJcblx0XHRcdGVuZFZhbHVlOiBudWxsLFxyXG5cclxuXHRcdFx0Y29sb3I6IFwib3JhbmdlXCIsXHJcblx0XHRcdG9wYWNpdHk6IG51bGwsXHJcblx0XHRcdHRoaWNrbmVzczogMixcclxuXHRcdFx0bGluZURhc2hUeXBlOiBcInNvbGlkXCIsXHJcblx0XHRcdGxhYmVsOiBcIlwiLFxyXG5cdFx0XHRsYWJlbEJhY2tncm91bmRDb2xvcjogXCIjRUVFRUVFXCIsXHJcblx0XHRcdGxhYmVsRm9udEZhbWlseTogXCJhcmlhbFwiLFxyXG5cdFx0XHRsYWJlbEZvbnRDb2xvcjogXCJvcmFuZ2VcIixcclxuXHRcdFx0bGFiZWxGb250U2l6ZTogMTIsXHJcblx0XHRcdGxhYmVsRm9udFdlaWdodDogXCJub3JtYWxcIixcclxuXHRcdFx0bGFiZWxGb250U3R5bGU6IFwibm9ybWFsXCIsXHJcblx0XHRcdGxhYmVsRm9ybWF0dGVyOiBudWxsLFxyXG5cclxuXHRcdFx0c2hvd09uVG9wOiBmYWxzZVxyXG5cdFx0fSxcclxuXHJcblx0XHREYXRhU2VyaWVzOiB7XHJcblx0XHRcdG5hbWU6IG51bGwsXHJcblx0XHRcdGRhdGFQb2ludHM6IG51bGwsXHJcblx0XHRcdGxhYmVsOiBcIlwiLFxyXG5cdFx0XHRiZXZlbEVuYWJsZWQ6IGZhbHNlLFxyXG5cdFx0XHRoaWdobGlnaHRFbmFibGVkOiB0cnVlLFxyXG5cclxuXHRcdFx0Y3Vyc29yOiBudWxsLFxyXG5cclxuXHRcdFx0aW5kZXhMYWJlbDogXCJcIixcclxuXHRcdFx0aW5kZXhMYWJlbFBsYWNlbWVudDogXCJhdXRvXCIsICAvL2luc2lkZSwgb3V0c2lkZSwgYXV0b1xyXG5cdFx0XHRpbmRleExhYmVsT3JpZW50YXRpb246IFwiaG9yaXpvbnRhbFwiLFxyXG5cdFx0XHRpbmRleExhYmVsRm9udENvbG9yOiBcImJsYWNrXCIsXHJcblx0XHRcdGluZGV4TGFiZWxGb250U2l6ZTogMTIsXHJcblx0XHRcdGluZGV4TGFiZWxGb250U3R5bGU6IFwibm9ybWFsXCIsIC8vICAgaXRhbGljICxvYmxpcXVlLCBub3JtYWxcclxuXHRcdFx0aW5kZXhMYWJlbEZvbnRGYW1pbHk6IFwiQXJpYWxcIiwgXHQvLyBmeDogQXJpYWwgVmVyZGFuYSBcIkNvdXJpZXIgTmV3XCIgU2VyaWZcclxuXHRcdFx0aW5kZXhMYWJlbEZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsIFx0Ly8gYm9sZCAsYm9sZGVyLCBsaWdodGVyLCBub3JtYWxcclxuXHRcdFx0aW5kZXhMYWJlbEJhY2tncm91bmRDb2xvcjogbnVsbCxcclxuXHRcdFx0aW5kZXhMYWJlbExpbmVDb2xvcjogbnVsbCxcclxuXHRcdFx0aW5kZXhMYWJlbExpbmVUaGlja25lc3M6IDEsXHJcblx0XHRcdGluZGV4TGFiZWxMaW5lRGFzaFR5cGU6IFwic29saWRcIixcclxuXHRcdFx0aW5kZXhMYWJlbE1heFdpZHRoOiBudWxsLFxyXG5cdFx0XHRpbmRleExhYmVsV3JhcDogdHJ1ZSxcclxuXHRcdFx0aW5kZXhMYWJlbEZvcm1hdHRlcjogbnVsbCxcclxuXHJcblx0XHRcdGxpbmVUaGlja25lc3M6IDIsXHJcblx0XHRcdGxpbmVEYXNoVHlwZTogXCJzb2xpZFwiLFxyXG5cclxuXHRcdFx0Y29sb3I6IG51bGwsXHJcblx0XHRcdHJpc2luZ0NvbG9yOiBcIndoaXRlXCIsXHJcblx0XHRcdGZpbGxPcGFjaXR5OiBudWxsLFxyXG5cclxuXHRcdFx0c3RhcnRBbmdsZTogMCxcclxuXHJcblx0XHRcdHJhZGl1czogbnVsbCxcclxuXHRcdFx0aW5uZXJSYWRpdXM6IG51bGwsXHJcblxyXG5cdFx0XHR0eXBlOiBcImNvbHVtblwiLCAvL2xpbmUsIGNvbHVtbiwgYmFyLCBhcmVhLCBzY2F0dGVyIHN0YWNrZWRDb2x1bW4sIHN0YWNrZWRCYXIsIHN0YWNrZWRBcmVhLCBzdGFja2VkQ29sdW1uMTAwLCBzdGFja2VkQmFyMTAwLCBzdGFja2VkQXJlYTEwMCwgcGllLCBkb3VnaG51dFxyXG5cdFx0XHR4VmFsdWVUeXBlOiBcIm51bWJlclwiLCAvL251bWJlciwgZGF0ZVRpbWVcclxuXHRcdFx0YXhpc1lUeXBlOiBcInByaW1hcnlcIixcclxuXHJcblx0XHRcdHhWYWx1ZUZvcm1hdFN0cmluZzogbnVsbCxcclxuXHRcdFx0eVZhbHVlRm9ybWF0U3RyaW5nOiBudWxsLFxyXG5cdFx0XHR6VmFsdWVGb3JtYXRTdHJpbmc6IG51bGwsXHJcblx0XHRcdHBlcmNlbnRGb3JtYXRTdHJpbmc6IG51bGwsXHJcblxyXG5cdFx0XHRzaG93SW5MZWdlbmQ6IG51bGwsXHJcblx0XHRcdGxlZ2VuZE1hcmtlclR5cGU6IG51bGwsXHJcblx0XHRcdGxlZ2VuZE1hcmtlckNvbG9yOiBudWxsLFxyXG5cdFx0XHRsZWdlbmRUZXh0OiBudWxsLFxyXG5cdFx0XHRsZWdlbmRNYXJrZXJCb3JkZXJDb2xvcjogbnVsbCxcclxuXHRcdFx0bGVnZW5kTWFya2VyQm9yZGVyVGhpY2tuZXNzOiBudWxsLFxyXG5cclxuXHRcdFx0bWFya2VyVHlwZTogXCJjaXJjbGVcIiwgLy9ub25lLCBjaXJjbGUsIHNxdWFyZSwgY3Jvc3MsIHRyaWFuZ2xlLCBsaW5lXHJcblx0XHRcdG1hcmtlckNvbG9yOiBudWxsLFxyXG5cdFx0XHRtYXJrZXJTaXplOiBudWxsLFxyXG5cdFx0XHRtYXJrZXJCb3JkZXJDb2xvcjogbnVsbCxcclxuXHRcdFx0bWFya2VyQm9yZGVyVGhpY2tuZXNzOiBudWxsLFxyXG5cdFx0XHQvL2FuaW1hdGlvbkVuYWJsZWQ6IHRydWUsXHJcblx0XHRcdG1vdXNlb3ZlcjogbnVsbCxcclxuXHRcdFx0bW91c2VvdXQ6IG51bGwsXHJcblx0XHRcdG1vdXNlbW92ZTogbnVsbCxcclxuXHRcdFx0Y2xpY2s6IG51bGwsXHJcblx0XHRcdHRvb2xUaXBDb250ZW50OiBudWxsLFxyXG5cclxuXHRcdFx0dmlzaWJsZTogdHJ1ZVxyXG5cdFx0fSxcclxuXHJcblx0XHQvL1ByaXZhdGVcclxuXHRcdFRleHRCbG9jazoge1xyXG5cdFx0XHR4OiAwLFxyXG5cdFx0XHR5OiAwLFxyXG5cdFx0XHR3aWR0aDogbnVsbCwvL3JlYWQgb25seVxyXG5cdFx0XHRoZWlnaHQ6IG51bGwsLy9yZWFkIG9ubHlcclxuXHRcdFx0bWF4V2lkdGg6IG51bGwsXHJcblx0XHRcdG1heEhlaWdodDogbnVsbCxcclxuXHRcdFx0cGFkZGluZzogMCxcclxuXHRcdFx0YW5nbGU6IDAsXHJcblx0XHRcdHRleHQ6IFwiXCIsXHJcblx0XHRcdGhvcml6b250YWxBbGlnbjogXCJjZW50ZXJcIiwvL2xlZnQsIGNlbnRlciwgcmlnaHRcclxuXHRcdFx0Zm9udFNpemU6IDEyLC8vaW4gcGl4ZWxzXHJcblx0XHRcdGZvbnRGYW1pbHk6IFwiY2FsaWJyaVwiLFxyXG5cdFx0XHRmb250V2VpZ2h0OiBcIm5vcm1hbFwiLCAvL25vcm1hbCwgYm9sZCwgYm9sZGVyLCBsaWdodGVyLFxyXG5cdFx0XHRmb250Q29sb3I6IFwiYmxhY2tcIixcclxuXHRcdFx0Zm9udFN0eWxlOiBcIm5vcm1hbFwiLCAvLyBub3JtYWwsIGl0YWxpYywgb2JsaXF1ZVxyXG5cclxuXHRcdFx0Ym9yZGVyVGhpY2tuZXNzOiAwLFxyXG5cdFx0XHRib3JkZXJDb2xvcjogXCJibGFja1wiLFxyXG5cdFx0XHRjb3JuZXJSYWRpdXM6IDAsXHJcblx0XHRcdGJhY2tncm91bmRDb2xvcjogbnVsbCxcclxuXHRcdFx0dGV4dEJhc2VsaW5lOiBcInRvcFwiXHJcblx0XHR9LFxyXG5cclxuXHRcdEN1bHR1cmVJbmZvOiB7XHJcblx0XHRcdGRlY2ltYWxTZXBhcmF0b3I6IFwiLlwiLFxyXG5cdFx0XHRkaWdpdEdyb3VwU2VwYXJhdG9yOiBcIixcIixcclxuXHRcdFx0em9vbVRleHQ6IFwiWm9vbVwiLFxyXG5cdFx0XHRwYW5UZXh0OiBcIlBhblwiLFxyXG5cdFx0XHRyZXNldFRleHQ6IFwiUmVzZXRcIixcclxuXHJcblx0XHRcdG1lbnVUZXh0OiBcIk1vcmUgT3B0aW9uc1wiLFxyXG5cdFx0XHRzYXZlSlBHVGV4dDogXCJTYXZlIGFzIEpQR1wiLFxyXG5cdFx0XHRzYXZlUE5HVGV4dDogXCJTYXZlIGFzIFBOR1wiLFxyXG5cclxuXHRcdFx0ZGF5czogW1wiU3VuZGF5XCIsIFwiTW9uZGF5XCIsIFwiVHVlc2RheVwiLCBcIldlZG5lc2RheVwiLCBcIlRodXJzZGF5XCIsIFwiRnJpZGF5XCIsIFwiU2F0dXJkYXlcIl0sXHJcblx0XHRcdHNob3J0RGF5czogW1wiU3VuXCIsIFwiTW9uXCIsIFwiVHVlXCIsIFwiV2VkXCIsIFwiVGh1XCIsIFwiRnJpXCIsIFwiU2F0XCJdLFxyXG5cclxuXHRcdFx0bW9udGhzOiBbXCJKYW51YXJ5XCIsIFwiRmVicnVhcnlcIiwgXCJNYXJjaFwiLCBcIkFwcmlsXCIsIFwiTWF5XCIsIFwiSnVuZVwiLCBcIkp1bHlcIiwgXCJBdWd1c3RcIiwgXCJTZXB0ZW1iZXJcIiwgXCJPY3RvYmVyXCIsIFwiTm92ZW1iZXJcIiwgXCJEZWNlbWJlclwiXSxcclxuXHRcdFx0c2hvcnRNb250aHM6IFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXVxyXG5cdFx0fVxyXG5cdH07XHJcbiIsIlxyXG5pbXBvcnQge2lzQ2FudmFzU3VwcG9ydGVkfSBmcm9tICcuLi9oZWxwZXJzL3V0aWxzJztcclxuXHJcbmV4cG9ydCBjb25zdCBjb2xvclNldHMgPSB7XHJcblxyXG5cdFx0XCJjb2xvclNldDFcIjogW1xyXG5cdFx0XHRcIiMzNjlFQURcIixcclxuXHRcdFx0XCIjQzI0NjQyXCIsXHJcblx0XHRcdFwiIzdGNjA4NFwiLFxyXG5cdFx0XHQvL1wiIzk2QzQxMlwiLFxyXG5cdFx0XHRcIiM4NkI0MDJcIixcclxuXHRcdFx0XCIjQTJEMUNGXCIsXHJcblx0XHRcdC8vXCIjRDhDNjQxXCIsXHJcblx0XHRcdFwiI0M4QjYzMVwiLFxyXG5cdFx0XHRcIiM2REJDRUJcIixcclxuXHRcdFx0Ly9cIiM0QTQ5NDZcIixcclxuXHRcdFx0XCIjNTI1MTRFXCIsXHJcblx0XHRcdFwiIzRGODFCQ1wiLFxyXG5cdFx0XHRcIiNBMDY0QTFcIixcclxuXHRcdFx0XCIjRjc5NjQ3XCJcclxuXHRcdF0sXHJcblx0XHRcImNvbG9yU2V0MlwiOiBbXHJcblx0XHRcdFwiIzRGODFCQ1wiLFxyXG5cdFx0XHRcIiNDMDUwNEVcIixcclxuXHRcdFx0XCIjOUJCQjU4XCIsXHJcblx0XHRcdFwiIzIzQkZBQVwiLFxyXG5cdFx0XHQvL1wiI0ZBQTU4NlwiLFxyXG5cdFx0XHRcIiM4MDY0QTFcIixcclxuXHRcdFx0XCIjNEFBQ0M1XCIsXHJcblx0XHRcdFwiI0Y3OTY0N1wiLFxyXG5cdFx0XHQvL1wiIzc3QUEzM1wiLFxyXG5cdFx0XHQvL1wiIzdGNjA4NFwiXHJcblx0XHRcdFwiIzMzNTU4QlwiXHJcblx0XHRdLFxyXG5cdFx0XCJjb2xvclNldDNcIjogW1xyXG5cdFx0XHRcIiM4Q0ExQkNcIixcclxuXHRcdFx0XCIjMzY4NDVDXCIsXHJcblx0XHRcdFwiIzAxN0U4MlwiLFxyXG5cdFx0XHRcIiM4Q0I5RDBcIixcclxuXHRcdFx0XCIjNzA4Qzk4XCIsXHJcblx0XHRcdFwiIzk0ODM4RFwiLFxyXG5cdFx0XHRcIiNGMDg4OTFcIixcclxuXHRcdFx0XCIjMDM2NkE3XCIsXHJcblx0XHRcdFwiIzAwODI3NlwiLFxyXG5cdFx0XHRcIiNFRTc3NTdcIixcclxuXHRcdFx0XCIjRTVCQTNBXCIsXHJcblx0XHRcdFwiI0YyOTkwQlwiLFxyXG5cdFx0XHRcIiMwMzU1N0JcIixcclxuXHRcdFx0XCIjNzgyOTcwXCJcclxuXHRcdF0vLyxcclxuXHRcdC8vXCJjb2xvclNldDRcIjogW1xyXG5cdFx0Ly8gICAgXCIjMzY5OEM1XCIsXHJcblx0XHQvLyAgICBcIiMwMDlCOERcIixcclxuXHRcdC8vICAgIFwiI0YxRDY5MVwiLFxyXG5cdFx0Ly8gICAgXCIjRjhCOTBDXCIsXHJcblx0XHQvLyAgICBcIiMwMDgxQjhcIixcclxuXHRcdC8vICAgIFwiIzVCNUE5NlwiLFxyXG5cdFx0Ly8gICAgXCIjQUNCREQxXCIsXHJcblx0XHQvLyAgICBcIiM4OEE4OTFcIixcclxuXHRcdC8vICAgIFwiIzM5OTY5RFwiLFxyXG5cdFx0Ly8gICAgXCIjQUVDRUREXCIsXHJcblx0XHQvLyAgICBcIiNBMEIyQkNcIixcclxuXHRcdC8vICAgIFwiI0JCQUVCN1wiLFxyXG5cdFx0Ly8gICAgXCIjQTBDNjVGXCIsXHJcblx0XHQvLyAgICBcIiNFRUE2QUFcIixcclxuXHRcdC8vICAgIFwiIzM3OThDNVwiXHJcblx0XHQvL10sXHJcblx0XHQvL1wiY29sb3JTZXQ1XCI6IFtcclxuXHRcdC8vICAgIFwiIzg4QURCRlwiLFxyXG5cdFx0Ly8gICAgXCIjODRDMzM2XCIsXHJcblx0XHQvLyAgICBcIiM3QjkxQzNcIixcclxuXHRcdC8vICAgIFwiIzQ2NjFFRVwiLFxyXG5cdFx0Ly8gICAgXCIjRUM1NjU3XCIsXHJcblx0XHQvLyAgICBcIiMxQkNERDFcIixcclxuXHRcdC8vICAgIFwiIzhGQUFCQlwiLFxyXG5cdFx0Ly8gICAgXCIjQjA4QkVCXCIsXHJcblx0XHQvLyAgICBcIiMzRUEwRERcIixcclxuXHRcdC8vICAgIFwiI0Y1QTUyQVwiLFxyXG5cdFx0Ly8gICAgXCIjMjNCRkFBXCIsXHJcblx0XHQvLyAgICBcIiNGQUE1ODZcIixcclxuXHRcdC8vICAgIFwiI0VCOENDNlwiXHJcblx0XHQvL11cclxuXHJcblx0fTtcclxuXHJcbmV4cG9ydCBjb25zdCB0aGVtZXMgPSB7XHJcblxyXG5cdFx0XHRcInRoZW1lMVwiOiB7XHJcblx0XHRcdFx0Q2hhcnQ6XHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGNvbG9yU2V0OiBcImNvbG9yU2V0MVwiXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFRpdGxlOiB7XHJcblx0XHRcdFx0XHRmb250RmFtaWx5OiBpc0NhbnZhc1N1cHBvcnRlZCA/IFwiQ2FsaWJyaSwgT3B0aW1hLCBDYW5kYXJhLCBWZXJkYW5hLCBHZW5ldmEsIHNhbnMtc2VyaWZcIiA6IFwiY2FsaWJyaVwiLFxyXG5cdFx0XHRcdFx0Zm9udFNpemU6IDMzLFxyXG5cdFx0XHRcdFx0Zm9udENvbG9yOiBcIiMzQTNBM0FcIixcclxuXHRcdFx0XHRcdGZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxyXG5cdFx0XHRcdFx0dmVydGljYWxBbGlnbjogXCJ0b3BcIixcclxuXHRcdFx0XHRcdG1hcmdpbjogNVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0U3VidGl0bGU6IHtcclxuXHRcdFx0XHRcdGZvbnRGYW1pbHk6IGlzQ2FudmFzU3VwcG9ydGVkID8gXCJDYWxpYnJpLCBPcHRpbWEsIENhbmRhcmEsIFZlcmRhbmEsIEdlbmV2YSwgc2Fucy1zZXJpZlwiIDogXCJjYWxpYnJpXCIsXHJcblx0XHRcdFx0XHRmb250U2l6ZTogMTYsXHJcblx0XHRcdFx0XHRmb250Q29sb3I6IFwiIzNBM0EzQVwiLFxyXG5cdFx0XHRcdFx0Zm9udFdlaWdodDogXCJib2xkXCIsXHJcblx0XHRcdFx0XHR2ZXJ0aWNhbEFsaWduOiBcInRvcFwiLFxyXG5cdFx0XHRcdFx0bWFyZ2luOiA1XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRBeGlzOiB7XHJcblx0XHRcdFx0XHR0aXRsZUZvbnRTaXplOiAyNixcclxuXHRcdFx0XHRcdC8vdGl0bGVGb250Q29sb3I6IFwicmdiKDk4LDk4LDk4KVwiLFxyXG5cdFx0XHRcdFx0dGl0bGVGb250Q29sb3I6IFwiIzY2NjY2NlwiLFxyXG5cdFx0XHRcdFx0Ly90aXRsZUZvbnRGYW1pbHk6IFwiYXJpYWwgYmxhY2tcIixcclxuXHRcdFx0XHRcdC8vdGl0bGVGb250RmFtaWx5OiBcIlZlcmRhbmEsIEdlbmV2YSwgQ2FsaWJyaSwgc2Fucy1zZXJpZlwiLFxyXG5cdFx0XHRcdFx0dGl0bGVGb250RmFtaWx5OiBpc0NhbnZhc1N1cHBvcnRlZCA/IFwiQ2FsaWJyaSwgT3B0aW1hLCBDYW5kYXJhLCBWZXJkYW5hLCBHZW5ldmEsIHNhbnMtc2VyaWZcIiA6IFwiY2FsaWJyaVwiLFxyXG5cdFx0XHRcdFx0Ly90aXRsZUZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxyXG5cclxuXHRcdFx0XHRcdC8vbGFiZWxGb250RmFtaWx5OiBcIlRpbWVzIE5ldyBSb21hbiwgVGltZXMsIHNlcmlmXCIsXHJcblx0XHRcdFx0XHRsYWJlbEZvbnRGYW1pbHk6IGlzQ2FudmFzU3VwcG9ydGVkID8gXCJDYWxpYnJpLCBPcHRpbWEsIENhbmRhcmEsIFZlcmRhbmEsIEdlbmV2YSwgc2Fucy1zZXJpZlwiIDogXCJjYWxpYnJpXCIsXHJcblx0XHRcdFx0XHQvL2xhYmVsRm9udEZhbWlseTogXCJIZWx2ZXRpY2EgTmV1ZSwgSGVsdmV0aWNhXCIsXHJcblx0XHRcdFx0XHRsYWJlbEZvbnRTaXplOiAxOCxcclxuXHRcdFx0XHRcdGxhYmVsRm9udENvbG9yOiBcImdyZXlcIixcclxuXHRcdFx0XHRcdC8vbGFiZWxGb250V2VpZ2h0OiBcImJvbGRcIixcclxuXHRcdFx0XHRcdHRpY2tDb2xvcjogXCIjQkJCQkJCXCIsXHJcblx0XHRcdFx0XHR0aWNrVGhpY2tuZXNzOiAyLFxyXG5cdFx0XHRcdFx0Z3JpZFRoaWNrbmVzczogMixcclxuXHRcdFx0XHRcdGdyaWRDb2xvcjogXCIjQkJCQkJCXCIsXHJcblx0XHRcdFx0XHRsaW5lVGhpY2tuZXNzOiAyLFxyXG5cdFx0XHRcdFx0bGluZUNvbG9yOiBcIiNCQkJCQkJcIlxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0TGVnZW5kOiB7XHJcblx0XHRcdFx0XHR2ZXJ0aWNhbEFsaWduOiBcImJvdHRvbVwiLFxyXG5cdFx0XHRcdFx0aG9yaXpvbnRhbEFsaWduOiBcImNlbnRlclwiLFxyXG5cdFx0XHRcdFx0Zm9udEZhbWlseTogaXNDYW52YXNTdXBwb3J0ZWQgPyBcIm1vbm9zcGFjZSwgc2Fucy1zZXJpZixhcmlhbCBibGFja1wiIDogXCJjYWxpYnJpXCJcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdERhdGFTZXJpZXM6IHtcclxuXHRcdFx0XHRcdC8vYmV2ZWxFbmFibGVkOiB0cnVlLFxyXG5cdFx0XHRcdFx0aW5kZXhMYWJlbEZvbnRDb2xvcjogXCJncmV5XCIsXHJcblx0XHRcdFx0XHQvL2luZGV4TGFiZWxGb250RmFtaWx5OiBcIlRyZWJ1Y2hldCBNUywgbW9ub3NwYWNlLCBDb3VyaWVyIE5ldywgQ291cmllclwiLFxyXG5cdFx0XHRcdFx0aW5kZXhMYWJlbEZvbnRGYW1pbHk6IGlzQ2FudmFzU3VwcG9ydGVkID8gXCJDYWxpYnJpLCBPcHRpbWEsIENhbmRhcmEsIFZlcmRhbmEsIEdlbmV2YSwgc2Fucy1zZXJpZlwiIDogXCJjYWxpYnJpXCIsXHJcblx0XHRcdFx0XHQvL2luZGV4TGFiZWxGb250V2VpZ2h0OiBcImJvbGRcIixcclxuXHRcdFx0XHRcdGluZGV4TGFiZWxGb250U2l6ZTogMTgsXHJcblx0XHRcdFx0XHQvL2luZGV4TGFiZWxMaW5lQ29sb3I6IFwibGlnaHRncmV5XCIsXHJcblx0XHRcdFx0XHRpbmRleExhYmVsTGluZVRoaWNrbmVzczogMVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdFwidGhlbWUyXCI6IHtcclxuXHRcdFx0XHRDaGFydDpcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0Y29sb3JTZXQ6IFwiY29sb3JTZXQyXCJcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0VGl0bGU6IHtcclxuXHRcdFx0XHRcdGZvbnRGYW1pbHk6IFwiaW1wYWN0LCBjaGFyY29hbCwgYXJpYWwgYmxhY2ssIHNhbnMtc2VyaWZcIixcclxuXHRcdFx0XHRcdGZvbnRTaXplOiAzMiwvL2ZvbnRDb2xvcjogXCJyZ2IoNTgsNTgsNTgpXCIsXHJcblx0XHRcdFx0XHRmb250Q29sb3I6IFwiIzMzMzMzM1wiLFxyXG5cdFx0XHRcdFx0dmVydGljYWxBbGlnbjogXCJ0b3BcIixcclxuXHRcdFx0XHRcdG1hcmdpbjogNVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0U3VidGl0bGU6IHtcclxuXHRcdFx0XHRcdGZvbnRGYW1pbHk6IFwiaW1wYWN0LCBjaGFyY29hbCwgYXJpYWwgYmxhY2ssIHNhbnMtc2VyaWZcIixcclxuXHRcdFx0XHRcdGZvbnRTaXplOiAxNCwvL2ZvbnRDb2xvcjogXCJyZ2IoNTgsNTgsNTgpXCIsXHJcblx0XHRcdFx0XHRmb250Q29sb3I6IFwiIzMzMzMzM1wiLFxyXG5cdFx0XHRcdFx0dmVydGljYWxBbGlnbjogXCJ0b3BcIixcclxuXHRcdFx0XHRcdG1hcmdpbjogNVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0QXhpczoge1xyXG5cdFx0XHRcdFx0dGl0bGVGb250U2l6ZTogMjIsXHJcblx0XHRcdFx0XHR0aXRsZUZvbnRDb2xvcjogXCJyZ2IoOTgsOTgsOTgpXCIsXHJcblx0XHRcdFx0XHQvL3RpdGxlRm9udEZhbWlseTogXCJhcmlhbCBibGFja1wiLFxyXG5cdFx0XHRcdFx0dGl0bGVGb250RmFtaWx5OiBpc0NhbnZhc1N1cHBvcnRlZCA/IFwibW9ub3NwYWNlLCBzYW5zLXNlcmlmLGFyaWFsIGJsYWNrXCIgOiBcImFyaWFsXCIsXHJcblx0XHRcdFx0XHR0aXRsZUZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxyXG5cclxuXHJcblx0XHRcdFx0XHRsYWJlbEZvbnRGYW1pbHk6IGlzQ2FudmFzU3VwcG9ydGVkID8gXCJtb25vc3BhY2UsIENvdXJpZXIgTmV3LCBDb3VyaWVyXCIgOiBcImFyaWFsXCIsXHJcblx0XHRcdFx0XHQvL2xhYmVsRm9udEZhbWlseTogXCJIZWx2ZXRpY2EgTmV1ZSwgSGVsdmV0aWNhXCIsXHJcblx0XHRcdFx0XHRsYWJlbEZvbnRTaXplOiAxNixcclxuXHRcdFx0XHRcdGxhYmVsRm9udENvbG9yOiBcImdyZXlcIixcclxuXHRcdFx0XHRcdGxhYmVsRm9udFdlaWdodDogXCJib2xkXCIsXHJcblx0XHRcdFx0XHR0aWNrQ29sb3I6IFwiZ3JleVwiLFxyXG5cdFx0XHRcdFx0dGlja1RoaWNrbmVzczogMixcclxuXHRcdFx0XHRcdGdyaWRUaGlja25lc3M6IDIsXHJcblx0XHRcdFx0XHRncmlkQ29sb3I6IFwiZ3JleVwiLFxyXG5cdFx0XHRcdFx0bGluZUNvbG9yOiBcImdyZXlcIixcclxuXHRcdFx0XHRcdGxpbmVUaGlja25lc3M6IDBcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdExlZ2VuZDoge1xyXG5cdFx0XHRcdFx0dmVydGljYWxBbGlnbjogXCJib3R0b21cIixcclxuXHRcdFx0XHRcdGhvcml6b250YWxBbGlnbjogXCJjZW50ZXJcIixcclxuXHRcdFx0XHRcdGZvbnRGYW1pbHk6IGlzQ2FudmFzU3VwcG9ydGVkID8gXCJtb25vc3BhY2UsIHNhbnMtc2VyaWYsYXJpYWwgYmxhY2tcIiA6IFwiYXJpYWxcIlxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0RGF0YVNlcmllczoge1xyXG5cdFx0XHRcdFx0aW5kZXhMYWJlbEZvbnRDb2xvcjogXCJncmV5XCIsXHJcblx0XHRcdFx0XHQvL2luZGV4TGFiZWxGb250RmFtaWx5OiBcIlRyZWJ1Y2hldCBNUywgbW9ub3NwYWNlLCBDb3VyaWVyIE5ldywgQ291cmllclwiLFxyXG5cdFx0XHRcdFx0aW5kZXhMYWJlbEZvbnRGYW1pbHk6IGlzQ2FudmFzU3VwcG9ydGVkID8gXCJDb3VyaWVyIE5ldywgQ291cmllciwgbW9ub3NwYWNlXCIgOiBcImFyaWFsXCIsXHJcblx0XHRcdFx0XHRpbmRleExhYmVsRm9udFdlaWdodDogXCJib2xkXCIsXHJcblx0XHRcdFx0XHRpbmRleExhYmVsRm9udFNpemU6IDE4LFxyXG5cdFx0XHRcdFx0Ly9pbmRleExhYmVsTGluZUNvbG9yOiBcImxpZ2h0Z3JleVwiLFxyXG5cdFx0XHRcdFx0aW5kZXhMYWJlbExpbmVUaGlja25lc3M6IDFcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHRcInRoZW1lM1wiOiB7XHJcblx0XHRcdFx0Q2hhcnQ6XHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGNvbG9yU2V0OiBcImNvbG9yU2V0MVwiXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFRpdGxlOiB7XHJcblx0XHRcdFx0XHRmb250RmFtaWx5OiBpc0NhbnZhc1N1cHBvcnRlZCA/IFwiQ2FuZGFyYSwgT3B0aW1hLCBUcmVidWNoZXQgTVMsIEhlbHZldGljYSBOZXVlLCBIZWx2ZXRpY2EsIFRyZWJ1Y2hldCBNUywgc2VyaWZcIiA6IFwiY2FsaWJyaVwiLFxyXG5cdFx0XHRcdFx0Zm9udFNpemU6IDMyLFxyXG5cdFx0XHRcdFx0Zm9udENvbG9yOiBcIiMzQTNBM0FcIixcclxuXHRcdFx0XHRcdGZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxyXG5cdFx0XHRcdFx0dmVydGljYWxBbGlnbjogXCJ0b3BcIixcclxuXHRcdFx0XHRcdG1hcmdpbjogNVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0U3VidGl0bGU6IHtcclxuXHRcdFx0XHRcdGZvbnRGYW1pbHk6IGlzQ2FudmFzU3VwcG9ydGVkID8gXCJDYW5kYXJhLCBPcHRpbWEsIFRyZWJ1Y2hldCBNUywgSGVsdmV0aWNhIE5ldWUsIEhlbHZldGljYSwgVHJlYnVjaGV0IE1TLCBzZXJpZlwiIDogXCJjYWxpYnJpXCIsXHJcblx0XHRcdFx0XHRmb250U2l6ZTogMTYsXHJcblx0XHRcdFx0XHRmb250Q29sb3I6IFwiIzNBM0EzQVwiLFxyXG5cdFx0XHRcdFx0Zm9udFdlaWdodDogXCJib2xkXCIsXHJcblx0XHRcdFx0XHR2ZXJ0aWNhbEFsaWduOiBcInRvcFwiLFxyXG5cdFx0XHRcdFx0bWFyZ2luOiA1XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRBeGlzOiB7XHJcblx0XHRcdFx0XHR0aXRsZUZvbnRTaXplOiAyMixcclxuXHRcdFx0XHRcdHRpdGxlRm9udENvbG9yOiBcInJnYig5OCw5OCw5OClcIixcclxuXHRcdFx0XHRcdC8vdGl0bGVGb250RmFtaWx5OiBcImFyaWFsIGJsYWNrXCIsXHJcblx0XHRcdFx0XHR0aXRsZUZvbnRGYW1pbHk6IGlzQ2FudmFzU3VwcG9ydGVkID8gXCJWZXJkYW5hLCBHZW5ldmEsIENhbGlicmksIHNhbnMtc2VyaWZcIiA6IFwiY2FsaWJyaVwiLFxyXG5cdFx0XHRcdFx0Ly90aXRsZUZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxyXG5cclxuXHRcdFx0XHRcdC8vbGFiZWxGb250RmFtaWx5OiBcIlRpbWVzIE5ldyBSb21hbiwgVGltZXMsIHNlcmlmXCIsXHJcblx0XHRcdFx0XHRsYWJlbEZvbnRGYW1pbHk6IGlzQ2FudmFzU3VwcG9ydGVkID8gXCJDYWxpYnJpLCBPcHRpbWEsIENhbmRhcmEsIFZlcmRhbmEsIEdlbmV2YSwgc2Fucy1zZXJpZlwiIDogXCJjYWxpYnJpXCIsXHJcblx0XHRcdFx0XHQvL2xhYmVsRm9udEZhbWlseTogXCJIZWx2ZXRpY2EgTmV1ZSwgSGVsdmV0aWNhXCIsXHJcblx0XHRcdFx0XHRsYWJlbEZvbnRTaXplOiAxOCxcclxuXHRcdFx0XHRcdGxhYmVsRm9udENvbG9yOiBcImdyZXlcIixcclxuXHRcdFx0XHRcdC8vbGFiZWxGb250V2VpZ2h0OiBcImJvbGRcIixcclxuXHRcdFx0XHRcdHRpY2tDb2xvcjogXCJncmV5XCIsXHJcblx0XHRcdFx0XHR0aWNrVGhpY2tuZXNzOiAyLFxyXG5cdFx0XHRcdFx0Z3JpZFRoaWNrbmVzczogMixcclxuXHRcdFx0XHRcdGdyaWRDb2xvcjogXCJncmV5XCIsXHJcblx0XHRcdFx0XHRsaW5lVGhpY2tuZXNzOiAyLFxyXG5cdFx0XHRcdFx0bGluZUNvbG9yOiBcImdyZXlcIlxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0TGVnZW5kOiB7XHJcblx0XHRcdFx0XHR2ZXJ0aWNhbEFsaWduOiBcImJvdHRvbVwiLFxyXG5cdFx0XHRcdFx0aG9yaXpvbnRhbEFsaWduOiBcImNlbnRlclwiLFxyXG5cdFx0XHRcdFx0Zm9udEZhbWlseTogaXNDYW52YXNTdXBwb3J0ZWQgPyBcIm1vbm9zcGFjZSwgc2Fucy1zZXJpZixhcmlhbCBibGFja1wiIDogXCJjYWxpYnJpXCJcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdERhdGFTZXJpZXM6IHtcclxuXHRcdFx0XHRcdGJldmVsRW5hYmxlZDogdHJ1ZSxcclxuXHRcdFx0XHRcdGluZGV4TGFiZWxGb250Q29sb3I6IFwiZ3JleVwiLFxyXG5cdFx0XHRcdFx0Ly9pbmRleExhYmVsRm9udEZhbWlseTogXCJUcmVidWNoZXQgTVMsIG1vbm9zcGFjZSwgQ291cmllciBOZXcsIENvdXJpZXJcIixcclxuXHRcdFx0XHRcdGluZGV4TGFiZWxGb250RmFtaWx5OiBpc0NhbnZhc1N1cHBvcnRlZCA/IFwiQ2FuZGFyYSwgT3B0aW1hLCBDYWxpYnJpLCBWZXJkYW5hLCBHZW5ldmEsIHNhbnMtc2VyaWZcIiA6IFwiY2FsaWJyaVwiLFxyXG5cdFx0XHRcdFx0Ly9pbmRleExhYmVsRm9udFdlaWdodDogXCJib2xkXCIsXHJcblx0XHRcdFx0XHRpbmRleExhYmVsRm9udFNpemU6IDE4LFxyXG5cdFx0XHRcdFx0aW5kZXhMYWJlbExpbmVDb2xvcjogXCJsaWdodGdyZXlcIixcclxuXHRcdFx0XHRcdGluZGV4TGFiZWxMaW5lVGhpY2tuZXNzOiAyXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG4iLCIvLyNyZWdpb24gQW5pbWF0b3JcclxuXHJcbmltcG9ydCBBbmltYXRpb25IZWxwZXIgZnJvbSAnLi4vaGVscGVycy9hbmltYXRvcic7XHJcblxyXG5mdW5jdGlvbiBBbmltYXRvcihjaGFydCkge1xyXG5cclxuICB0aGlzLmNoYXJ0ID0gY2hhcnQ7XHJcbiAgdGhpcy5jdHggPSB0aGlzLmNoYXJ0LnBsb3RBcmVhLmN0eDtcclxuICB0aGlzLmFuaW1hdGlvbnMgPSBbXTtcclxuICB0aGlzLmFuaW1hdGlvblJlcXVlc3RJZCA9IG51bGw7XHJcbn1cclxuXHJcbi8vQW5pbWF0b3IucHJvdG90eXBlLmFuaW1hdGUgPSBmdW5jdGlvbiAoZHVyYXRpb24sIGJhc2UsIGRlc3QsIHNvdXJjZSwgYW5pbWF0aW9uQ2FsbGJhY2ssIG9uQ29tcGxldGUpIHtcclxuQW5pbWF0b3IucHJvdG90eXBlLmFuaW1hdGUgPSBmdW5jdGlvbiAoc3RhcnREZWxheSwgZHVyYXRpb24sIGFuaW1hdGlvbkNhbGxiYWNrLCBvbkNvbXBsZXRlLCBlYXNpbmdGdW5jdGlvbikge1xyXG4gIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gIHRoaXMuY2hhcnQuaXNBbmltYXRpbmcgPSB0cnVlO1xyXG4gIGVhc2luZ0Z1bmN0aW9uID0gZWFzaW5nRnVuY3Rpb24gfHwgQW5pbWF0aW9uSGVscGVyLmVhc2luZy5saW5lYXI7XHJcblxyXG4gIGlmIChhbmltYXRpb25DYWxsYmFjaykge1xyXG5cclxuICAgIHRoaXMuYW5pbWF0aW9ucy5wdXNoKHtcclxuICAgICAgc3RhcnRUaW1lOiAobmV3IERhdGUoKSkuZ2V0VGltZSgpICsgKHN0YXJ0RGVsYXkgPyBzdGFydERlbGF5IDogMCksXHJcbiAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcclxuICAgICAgYW5pbWF0aW9uQ2FsbGJhY2s6IGFuaW1hdGlvbkNhbGxiYWNrLFxyXG4gICAgICBvbkNvbXBsZXRlOiBvbkNvbXBsZXRlXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHZhciByZW1haW5pbmdBbmltYXRpb25zID0gW107XHJcblxyXG4gIHdoaWxlICh0aGlzLmFuaW1hdGlvbnMubGVuZ3RoID4gMCkge1xyXG5cclxuICAgIHZhciBhbmltYXRpb24gPSB0aGlzLmFuaW1hdGlvbnMuc2hpZnQoKTtcclxuICAgIHZhciBub3cgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xyXG4gICAgdmFyIGZyYWN0aW9uQ29tcGxldGUgPSAwO1xyXG4gICAgLy92YXIgZnJhY3Rpb25Db21wbGV0ZSA9IE1hdGgubWluKCgobmV3IERhdGUoKSkuZ2V0VGltZSgpIC0gYW5pbWF0aW9uLnN0YXJ0VGltZSkgLyBhbmltYXRpb24uZHVyYXRpb24sIDEpO1xyXG5cclxuICAgIGlmIChhbmltYXRpb24uc3RhcnRUaW1lIDw9IG5vdykge1xyXG4gICAgICBmcmFjdGlvbkNvbXBsZXRlID0gZWFzaW5nRnVuY3Rpb24oTWF0aC5taW4oKG5vdyAtIGFuaW1hdGlvbi5zdGFydFRpbWUpLCBhbmltYXRpb24uZHVyYXRpb24pLCAwLCAxLCBhbmltYXRpb24uZHVyYXRpb24pO1xyXG4gICAgICAvL3ZhciBmcmFjdGlvbkNvbXBsZXRlID0gQW5pbWF0aW9uSGVscGVyLmVhc2luZy5lYXNlT3V0UXVhZChNYXRoLm1pbigoKG5ldyBEYXRlKCkpLmdldFRpbWUoKSAtIGFuaW1hdGlvbi5zdGFydFRpbWUpLCBhbmltYXRpb24uZHVyYXRpb24pLCAwLCAxLCBhbmltYXRpb24uZHVyYXRpb24pO1xyXG5cclxuICAgICAgZnJhY3Rpb25Db21wbGV0ZSA9IE1hdGgubWluKGZyYWN0aW9uQ29tcGxldGUsIDEpO1xyXG5cclxuICAgICAgaWYgKGlzTmFOKGZyYWN0aW9uQ29tcGxldGUpIHx8ICFpc0Zpbml0ZShmcmFjdGlvbkNvbXBsZXRlKSlcclxuICAgICAgICBmcmFjdGlvbkNvbXBsZXRlID0gMTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZnJhY3Rpb25Db21wbGV0ZSA8IDEpIHtcclxuICAgICAgcmVtYWluaW5nQW5pbWF0aW9ucy5wdXNoKGFuaW1hdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgYW5pbWF0aW9uLmFuaW1hdGlvbkNhbGxiYWNrKGZyYWN0aW9uQ29tcGxldGUpO1xyXG5cclxuICAgIGlmIChmcmFjdGlvbkNvbXBsZXRlID49IDEgJiYgYW5pbWF0aW9uLm9uQ29tcGxldGUpXHJcbiAgICAgIGFuaW1hdGlvbi5vbkNvbXBsZXRlKCk7XHJcbiAgfVxyXG5cclxuICB0aGlzLmFuaW1hdGlvbnMgPSByZW1haW5pbmdBbmltYXRpb25zO1xyXG5cclxuICBpZiAodGhpcy5hbmltYXRpb25zLmxlbmd0aCA+IDApIHtcclxuICAgIHRoaXMuYW5pbWF0aW9uUmVxdWVzdElkID0gdGhpcy5jaGFydC5yZXF1ZXN0QW5pbUZyYW1lLmNhbGwod2luZG93LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIF90aGlzLmFuaW1hdGUuY2FsbChfdGhpcyk7XHJcbiAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgdGhpcy5jaGFydC5pc0FuaW1hdGluZyA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbn1cclxuXHJcbkFuaW1hdG9yLnByb3RvdHlwZS5jYW5jZWxBbGxBbmltYXRpb25zID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICB0aGlzLmFuaW1hdGlvbnMgPSBbXTtcclxuXHJcbiAgaWYgKHRoaXMuYW5pbWF0aW9uUmVxdWVzdElkKSB7XHJcbiAgICB0aGlzLmNoYXJ0LmNhbmNlbFJlcXVlc3RBbmltRnJhbWUuY2FsbCh3aW5kb3csIHRoaXMuYW5pbWF0aW9uUmVxdWVzdElkKTtcclxuICB9XHJcblxyXG4gIHRoaXMuYW5pbWF0aW9uUmVxdWVzdElkID0gbnVsbDtcclxuICB0aGlzLmNoYXJ0LmlzQW5pbWF0aW5nID0gZmFsc2U7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEFuaW1hdG9yO1xyXG4iLCJcclxuaW1wb3J0IENhbnZhc0pTT2JqZWN0IGZyb20gJy4vY2FudmFzanMnO1xyXG5pbXBvcnQgVGV4dEJsb2NrIGZyb20gJy4vdGV4dF9ibG9jayc7XHJcbmltcG9ydCB7ZXh0ZW5kLCBudW1iZXJGb3JtYXQsIGdldExpbmVEYXNoQXJyYXl9IGZyb20gJy4uL2hlbHBlcnMvdXRpbHMnO1xyXG5cclxuZnVuY3Rpb24gQXhpcyhjaGFydCwgb3B0aW9ucywgdHlwZSwgcG9zaXRpb24pIHtcclxuXHJcblx0QXhpcy5iYXNlLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgXCJBeGlzXCIsIG9wdGlvbnMsIGNoYXJ0LnRoZW1lKTtcclxuXHJcblx0dGhpcy5jaGFydCA9IGNoYXJ0O1xyXG5cdHRoaXMuY2FudmFzID0gY2hhcnQuY2FudmFzO1xyXG5cdHRoaXMuY3R4ID0gY2hhcnQuY3R4O1xyXG5cdHRoaXMubWF4V2lkdGggPSAwO1xyXG5cdHRoaXMubWF4SGVpZ2h0ID0gMDtcclxuXHR0aGlzLmludGVydmFsU3RhcnRQb3NpdGlvbiA9IDA7XHJcblx0dGhpcy5sYWJlbHMgPSBbXTtcclxuXHR0aGlzLl9sYWJlbHMgPSBudWxsO1xyXG5cclxuXHQvL1Byb2Nlc3NlZCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZGF0YSB0aGF0IGdldHMgcGxvdHRlZCBhZ2FpbnN0IHRoaXMgYXhpc1xyXG5cdHRoaXMuZGF0YUluZm8gPSB7XHJcblx0XHRtaW46IEluZmluaXR5LFxyXG5cdFx0bWF4OiAtSW5maW5pdHksXHJcblx0XHR2aWV3UG9ydE1pbjogSW5maW5pdHksXHJcblx0XHR2aWV3UG9ydE1heDogLUluZmluaXR5LFxyXG5cdFx0bWluRGlmZjogSW5maW5pdHkgLy8gVXNlZCBvbmx5IGluIGNhc2Ugb2YgYXhpc1hcclxuXHR9O1xyXG5cclxuXHRpZiAodHlwZSA9PT0gXCJheGlzWFwiKSB7XHJcblx0XHR0aGlzLnNlc3Npb25WYXJpYWJsZXMgPSB0aGlzLmNoYXJ0LnNlc3Npb25WYXJpYWJsZXNbdHlwZV07XHJcblxyXG5cdFx0aWYgKCF0aGlzLl9vcHRpb25zLmludGVydmFsKVxyXG5cdFx0XHR0aGlzLmludGVydmFsVHlwZSA9IG51bGw7XHJcblx0fSBlbHNlIHtcclxuXHRcdGlmIChwb3NpdGlvbiA9PT0gXCJsZWZ0XCIgfHwgcG9zaXRpb24gPT09IFwidG9wXCIpXHJcblx0XHRcdHRoaXMuc2Vzc2lvblZhcmlhYmxlcyA9IHRoaXMuY2hhcnQuc2Vzc2lvblZhcmlhYmxlc1tcImF4aXNZXCJdO1xyXG5cdFx0ZWxzZSB7XHJcblx0XHRcdHRoaXMuc2Vzc2lvblZhcmlhYmxlcyA9IHRoaXMuY2hhcnQuc2Vzc2lvblZhcmlhYmxlc1tcImF4aXNZMlwiXTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cclxuXHJcblx0aWYgKHR5cGVvZiAodGhpcy5fb3B0aW9ucy50aXRsZUZvbnRTaXplKSA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG5cclxuXHRcdHRoaXMudGl0bGVGb250U2l6ZSA9IHRoaXMuY2hhcnQuZ2V0QXV0b0ZvbnRTaXplKHRoaXMudGl0bGVGb250U2l6ZSk7XHJcblxyXG5cdFx0Ly93aW5kb3cuY29uc29sZS5sb2coXCJ0aXRsZUZvbnRTaXplOiBcIiArIHRoaXMudGl0bGVGb250U2l6ZSk7XHJcblx0fVxyXG5cclxuXHRpZiAodHlwZW9mICh0aGlzLl9vcHRpb25zLmxhYmVsRm9udFNpemUpID09PSBcInVuZGVmaW5lZFwiKSB7XHJcblxyXG5cdFx0dGhpcy5sYWJlbEZvbnRTaXplID0gdGhpcy5jaGFydC5nZXRBdXRvRm9udFNpemUodGhpcy5sYWJlbEZvbnRTaXplKTtcclxuXHJcblx0XHQvL3dpbmRvdy5jb25zb2xlLmxvZyhcImxhYmVsRm9udFNpemU6IFwiICsgdGhpcy5sYWJlbEZvbnRTaXplKTtcclxuXHJcblx0fVxyXG5cclxuXHQvL0F4aXMgVHlwZSA6IGF4aXNYLCBheGlzWVxyXG5cdHRoaXMudHlwZSA9IHR5cGU7XHJcblx0aWYgKHR5cGUgPT09IFwiYXhpc1hcIiAmJiAoIW9wdGlvbnMgfHwgdHlwZW9mIChvcHRpb25zLmdyaWRUaGlja25lc3MpID09PSBcInVuZGVmaW5lZFwiKSlcclxuXHRcdHRoaXMuZ3JpZFRoaWNrbmVzcyA9IDA7XHJcblxyXG5cdHRoaXMuX3Bvc2l0aW9uID0gcG9zaXRpb247XHJcblxyXG5cdHRoaXMubGluZUNvb3JkaW5hdGVzID0ge1xyXG5cdFx0eDE6IG51bGwsIHkxOiBudWxsLCB4MjogbnVsbCwgeTI6IG51bGwsIHdpZHRoOiBudWxsXHJcblx0fTsvL3t4MTosIHkxOiwgeDI6LCB5MjosIHdpZHRoOn1cclxuXHQvL1xyXG5cdHtcclxuXHRcdHRoaXMubGFiZWxBbmdsZSA9ICgodGhpcy5sYWJlbEFuZ2xlICUgMzYwKSArIDM2MCkgJSAzNjA7XHJcblxyXG5cdFx0aWYgKHRoaXMubGFiZWxBbmdsZSA+IDkwICYmIHRoaXMubGFiZWxBbmdsZSA8PSAyNzApXHJcblx0XHRcdHRoaXMubGFiZWxBbmdsZSAtPSAxODA7XHJcblx0XHRlbHNlIGlmICh0aGlzLmxhYmVsQW5nbGUgPiAxODAgJiYgdGhpcy5sYWJlbEFuZ2xlIDw9IDI3MClcclxuXHRcdFx0dGhpcy5sYWJlbEFuZ2xlIC09IDE4MFxyXG5cdFx0ZWxzZSBpZiAodGhpcy5sYWJlbEFuZ2xlID4gMjcwICYmIHRoaXMubGFiZWxBbmdsZSA8PSAzNjApXHJcblx0XHRcdHRoaXMubGFiZWxBbmdsZSAtPSAzNjBcclxuXHR9XHJcblxyXG5cdGlmICh0aGlzLl9vcHRpb25zLnN0cmlwTGluZXMgJiYgdGhpcy5fb3B0aW9ucy5zdHJpcExpbmVzLmxlbmd0aCA+IDApIHtcclxuXHJcblx0XHR0aGlzLnN0cmlwTGluZXMgPSBbXTtcclxuXHJcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX29wdGlvbnMuc3RyaXBMaW5lcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR0aGlzLnN0cmlwTGluZXMucHVzaChuZXcgU3RyaXBMaW5lKHRoaXMuY2hhcnQsIHRoaXMuX29wdGlvbnMuc3RyaXBMaW5lc1tpXSwgY2hhcnQudGhlbWUsICsrdGhpcy5jaGFydC5fZXZlbnRNYW5hZ2VyLmxhc3RPYmplY3RJZCwgdGhpcykpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0dGhpcy5fdGl0bGVUZXh0QmxvY2sgPSBudWxsO1xyXG5cclxuXHRpZiAoIXRoaXMuaGFzT3B0aW9uQ2hhbmdlZChcInZpZXdwb3J0TWluaW11bVwiKSAmJiAhaXNOYU4odGhpcy5zZXNzaW9uVmFyaWFibGVzLm5ld1ZpZXdwb3J0TWluaW11bSkgJiYgdGhpcy5zZXNzaW9uVmFyaWFibGVzLm5ld1ZpZXdwb3J0TWluaW11bSAhPT0gbnVsbClcclxuXHRcdHRoaXMudmlld3BvcnRNaW5pbXVtID0gdGhpcy5zZXNzaW9uVmFyaWFibGVzLm5ld1ZpZXdwb3J0TWluaW11bTtcclxuXHRlbHNlXHJcblx0XHR0aGlzLnNlc3Npb25WYXJpYWJsZXMubmV3Vmlld3BvcnRNaW5pbXVtID0gbnVsbDtcclxuXHJcblx0aWYgKCF0aGlzLmhhc09wdGlvbkNoYW5nZWQoXCJ2aWV3cG9ydE1heGltdW1cIikgJiYgIWlzTmFOKHRoaXMuc2Vzc2lvblZhcmlhYmxlcy5uZXdWaWV3cG9ydE1heGltdW0pICYmIHRoaXMuc2Vzc2lvblZhcmlhYmxlcy5uZXdWaWV3cG9ydE1heGltdW0gIT09IG51bGwpXHJcblx0XHR0aGlzLnZpZXdwb3J0TWF4aW11bSA9IHRoaXMuc2Vzc2lvblZhcmlhYmxlcy5uZXdWaWV3cG9ydE1heGltdW07XHJcblx0ZWxzZVxyXG5cdFx0dGhpcy5zZXNzaW9uVmFyaWFibGVzLm5ld1ZpZXdwb3J0TWF4aW11bSA9IG51bGw7XHJcblxyXG5cdGlmICh0aGlzLm1pbmltdW0gIT09IG51bGwgJiYgdGhpcy52aWV3cG9ydE1pbmltdW0gIT09IG51bGwpXHJcblx0XHR0aGlzLnZpZXdwb3J0TWluaW11bSA9IE1hdGgubWF4KHRoaXMudmlld3BvcnRNaW5pbXVtLCB0aGlzLm1pbmltdW0pO1xyXG5cclxuXHRpZiAodGhpcy5tYXhpbXVtICE9PSBudWxsICYmIHRoaXMudmlld3BvcnRNYXhpbXVtICE9PSBudWxsKVxyXG5cdFx0dGhpcy52aWV3cG9ydE1heGltdW0gPSBNYXRoLm1pbih0aGlzLnZpZXdwb3J0TWF4aW11bSwgdGhpcy5tYXhpbXVtKTtcclxuXHJcblx0dGhpcy50cmFja0NoYW5nZXMoXCJ2aWV3cG9ydE1pbmltdW1cIik7XHJcblx0dGhpcy50cmFja0NoYW5nZXMoXCJ2aWV3cG9ydE1heGltdW1cIik7XHJcbn1cclxuXHJcbmV4dGVuZChBeGlzLCBDYW52YXNKU09iamVjdCk7XHJcblxyXG5BeGlzLnByb3RvdHlwZS5jcmVhdGVMYWJlbHMgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdHZhciB0ZXh0QmxvY2s7XHJcblx0dmFyIGkgPSAwO1xyXG5cdHZhciBlbmRQb2ludDtcclxuXHJcblx0dmFyIGxhYmVsTWF4V2lkdGggPSAwO1xyXG5cdHZhciBsYWJlbE1heEhlaWdodCA9IDA7XHJcblx0dmFyIGludGVydmFsSW5QaXhlbHMgPSAwO1xyXG5cclxuXHQvL3ZhciBpbnRlcnZhbEluUGl4ZWxzID0gdGhpcy5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiB0aGlzLmludGVydmFsO1xyXG5cclxuXHJcblx0aWYgKHRoaXMuX3Bvc2l0aW9uID09PSBcImJvdHRvbVwiIHx8IHRoaXMuX3Bvc2l0aW9uID09PSBcInRvcFwiKSB7XHJcblx0XHRpbnRlcnZhbEluUGl4ZWxzID0gdGhpcy5saW5lQ29vcmRpbmF0ZXMud2lkdGggLyBNYXRoLmFicyh0aGlzLnZpZXdwb3J0TWF4aW11bSAtIHRoaXMudmlld3BvcnRNaW5pbXVtKSAqIHRoaXMuaW50ZXJ2YWw7XHJcblxyXG5cdFx0aWYgKHRoaXMubGFiZWxBdXRvRml0KSB7XHJcblx0XHRcdGxhYmVsTWF4V2lkdGggPSB0eXBlb2YgKHRoaXMuX29wdGlvbnMubGFiZWxNYXhXaWR0aCkgPT09IFwidW5kZWZpbmVkXCIgPyBpbnRlcnZhbEluUGl4ZWxzICogLjkgPj4gMCA6IHRoaXMubGFiZWxNYXhXaWR0aDtcclxuXHRcdH1cclxuXHRcdGVsc2Uge1xyXG5cdFx0XHRsYWJlbE1heFdpZHRoID0gdHlwZW9mICh0aGlzLl9vcHRpb25zLmxhYmVsTWF4V2lkdGgpID09PSBcInVuZGVmaW5lZFwiID8gdGhpcy5jaGFydC53aWR0aCAqIC43ID4+IDAgOiB0aGlzLmxhYmVsTWF4V2lkdGg7XHJcblx0XHR9XHJcblxyXG5cdFx0bGFiZWxNYXhIZWlnaHQgPSB0eXBlb2YgKHRoaXMuX29wdGlvbnMubGFiZWxXcmFwKSA9PT0gXCJ1bmRlZmluZWRcIiB8fCB0aGlzLmxhYmVsV3JhcCA/IHRoaXMuY2hhcnQuaGVpZ2h0ICogLjUgPj4gMCA6IHRoaXMubGFiZWxGb250U2l6ZSAqIDEuNTtcclxuXHR9XHJcblx0ZWxzZSBpZiAodGhpcy5fcG9zaXRpb24gPT09IFwibGVmdFwiIHx8IHRoaXMuX3Bvc2l0aW9uID09PSBcInJpZ2h0XCIpIHtcclxuXHJcblx0XHRpbnRlcnZhbEluUGl4ZWxzID0gdGhpcy5saW5lQ29vcmRpbmF0ZXMuaGVpZ2h0IC8gTWF0aC5hYnModGhpcy52aWV3cG9ydE1heGltdW0gLSB0aGlzLnZpZXdwb3J0TWluaW11bSkgKiB0aGlzLmludGVydmFsO1xyXG5cclxuXHJcblx0XHRpZiAodGhpcy5sYWJlbEF1dG9GaXQpIHtcclxuXHRcdFx0bGFiZWxNYXhXaWR0aCA9IHR5cGVvZiAodGhpcy5fb3B0aW9ucy5sYWJlbE1heFdpZHRoKSA9PT0gXCJ1bmRlZmluZWRcIiA/IHRoaXMuY2hhcnQud2lkdGggKiAuMyA+PiAwIDogdGhpcy5sYWJlbE1heFdpZHRoO1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSB7XHJcblx0XHRcdGxhYmVsTWF4V2lkdGggPSB0eXBlb2YgKHRoaXMuX29wdGlvbnMubGFiZWxNYXhXaWR0aCkgPT09IFwidW5kZWZpbmVkXCIgPyB0aGlzLmNoYXJ0LndpZHRoICogLjUgPj4gMCA6IHRoaXMubGFiZWxNYXhXaWR0aDtcclxuXHRcdH1cclxuXHJcblx0XHRsYWJlbE1heEhlaWdodCA9IHR5cGVvZiAodGhpcy5fb3B0aW9ucy5sYWJlbFdyYXApID09PSBcInVuZGVmaW5lZFwiIHx8IHRoaXMubGFiZWxXcmFwID8gaW50ZXJ2YWxJblBpeGVscyAqIDIgPj4gMCA6IHRoaXMubGFiZWxGb250U2l6ZSAqIDEuNTtcclxuXHR9XHJcblxyXG5cdGlmICh0aGlzLnR5cGUgPT09IFwiYXhpc1hcIiAmJiB0aGlzLmNoYXJ0LnBsb3RJbmZvLmF4aXNYVmFsdWVUeXBlID09PSBcImRhdGVUaW1lXCIpIHtcclxuXHRcdGVuZFBvaW50ID0gYWRkVG9EYXRlVGltZShuZXcgRGF0ZSh0aGlzLnZpZXdwb3J0TWF4aW11bSksIHRoaXMuaW50ZXJ2YWwsIHRoaXMuaW50ZXJ2YWxUeXBlKVxyXG5cdFx0Ly9lbmRQb2ludCA9IHRoaXMudmlld3BvcnRNYXhpbXVtO1xyXG5cclxuXHRcdGZvciAoaSA9IHRoaXMuaW50ZXJ2YWxTdGFydFBvc2l0aW9uOyBpIDwgZW5kUG9pbnQ7IGFkZFRvRGF0ZVRpbWUoaSwgdGhpcy5pbnRlcnZhbCwgdGhpcy5pbnRlcnZhbFR5cGUpKSB7XHJcblxyXG5cdFx0XHQvL3ZhciB0ZXh0ID0gZGF0ZUZvcm1hdChpLCB0aGlzLnZhbHVlRm9ybWF0U3RyaW5nKTtcclxuXHRcdFx0dmFyIHRpbWVJbk1pbGxpc2Vjb25kcyA9IGkuZ2V0VGltZSgpO1xyXG5cdFx0XHR2YXIgdGV4dCA9IHRoaXMubGFiZWxGb3JtYXR0ZXIgPyB0aGlzLmxhYmVsRm9ybWF0dGVyKHsgY2hhcnQ6IHRoaXMuY2hhcnQsIGF4aXM6IHRoaXMuX29wdGlvbnMsIHZhbHVlOiBpLCBsYWJlbDogdGhpcy5sYWJlbHNbaV0gPyB0aGlzLmxhYmVsc1tpXSA6IG51bGwgfSlcclxuXHRcdFx0XHQ6IHRoaXMudHlwZSA9PT0gXCJheGlzWFwiICYmIHRoaXMubGFiZWxzW3RpbWVJbk1pbGxpc2Vjb25kc10gPyB0aGlzLmxhYmVsc1t0aW1lSW5NaWxsaXNlY29uZHNdIDogZGF0ZUZvcm1hdChpLCB0aGlzLnZhbHVlRm9ybWF0U3RyaW5nLCB0aGlzLmNoYXJ0Ll9jdWx0dXJlSW5mbyk7XHJcblxyXG5cdFx0XHR0ZXh0QmxvY2sgPSBuZXcgVGV4dEJsb2NrKHRoaXMuY3R4LCB7XHJcblx0XHRcdFx0eDogMCxcclxuXHRcdFx0XHR5OiAwLFxyXG5cdFx0XHRcdC8vbWF4V2lkdGg6IHRoaXMubWF4SGVpZ2h0LFxyXG5cdFx0XHRcdC8vbWF4SGVpZ2h0OiB0aGlzLmxhYmVsRm9udFNpemUsXHJcblx0XHRcdFx0bWF4V2lkdGg6IGxhYmVsTWF4V2lkdGgsXHJcblx0XHRcdFx0bWF4SGVpZ2h0OiBsYWJlbE1heEhlaWdodCxcclxuXHRcdFx0XHRhbmdsZTogdGhpcy5sYWJlbEFuZ2xlLFxyXG5cdFx0XHRcdHRleHQ6IHRoaXMucHJlZml4ICsgdGV4dCArIHRoaXMuc3VmZml4LFxyXG5cdFx0XHRcdGhvcml6b250YWxBbGlnbjogXCJsZWZ0XCIsLy9sZWZ0LCBjZW50ZXIsIHJpZ2h0XHJcblx0XHRcdFx0Zm9udFNpemU6IHRoaXMubGFiZWxGb250U2l6ZSwvL2luIHBpeGVsc1xyXG5cdFx0XHRcdGZvbnRGYW1pbHk6IHRoaXMubGFiZWxGb250RmFtaWx5LFxyXG5cdFx0XHRcdGZvbnRXZWlnaHQ6IHRoaXMubGFiZWxGb250V2VpZ2h0LCAvL25vcm1hbCwgYm9sZCwgYm9sZGVyLCBsaWdodGVyLFxyXG5cdFx0XHRcdGZvbnRDb2xvcjogdGhpcy5sYWJlbEZvbnRDb2xvcixcclxuXHRcdFx0XHRmb250U3R5bGU6IHRoaXMubGFiZWxGb250U3R5bGUsIC8vIG5vcm1hbCwgaXRhbGljLCBvYmxpcXVlXHJcblx0XHRcdFx0dGV4dEJhc2VsaW5lOiBcIm1pZGRsZVwiXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0dGhpcy5fbGFiZWxzLnB1c2goeyBwb3NpdGlvbjogaS5nZXRUaW1lKCksIHRleHRCbG9jazogdGV4dEJsb2NrLCBlZmZlY3RpdmVIZWlnaHQ6IG51bGwgfSk7XHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHRlbHNlIHtcclxuXHRcdGVuZFBvaW50ID0gdGhpcy52aWV3cG9ydE1heGltdW07XHJcblxyXG5cdFx0Ly9pZiAoKE1hdGguZmxvb3IodGhpcy5pbnRlcnZhbCkgPCB0aGlzLmludGVydmFsICYmICF0aGlzLl9vcHRpb25zLmludGVydmFsKSB8fCB0cnVlKSB7XHJcblxyXG5cdFx0Ly9DaGVjayBpZiBpdCBzaG91bGQgYmUgcmVuZGVyZWQgYXMgYSBjYXRlZ29yeSBheGlzLiBJZiB5ZXMsIHRoZW4gY2VpbCB0aGUgaW50ZXJ2YWxcclxuXHRcdGlmICh0aGlzLmxhYmVscyAmJiB0aGlzLmxhYmVscy5sZW5ndGgpIHtcclxuXHRcdFx0dmFyIHRlbXBJbnRlcnZhbCA9IE1hdGguY2VpbCh0aGlzLmludGVydmFsKTtcclxuXHRcdFx0dmFyIHRlbXBTdGFydFBvaW50ID0gTWF0aC5jZWlsKHRoaXMuaW50ZXJ2YWxTdGFydFBvc2l0aW9uKTtcclxuXHRcdFx0dmFyIGhhc0FsbExhYmVscyA9IGZhbHNlO1xyXG5cdFx0XHRmb3IgKGkgPSB0ZW1wU3RhcnRQb2ludDsgaSA8IHRoaXMudmlld3BvcnRNYXhpbXVtOyBpICs9IHRlbXBJbnRlcnZhbCkge1xyXG5cdFx0XHRcdGlmICh0aGlzLmxhYmVsc1tpXSkge1xyXG5cdFx0XHRcdFx0aGFzQWxsTGFiZWxzID0gdHJ1ZTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0aGFzQWxsTGFiZWxzID0gZmFsc2U7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChoYXNBbGxMYWJlbHMpIHtcclxuXHRcdFx0XHR0aGlzLmludGVydmFsID0gdGVtcEludGVydmFsO1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWxTdGFydFBvc2l0aW9uID0gdGVtcFN0YXJ0UG9pbnQ7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvL3BhcnNlRmxvYXQgJiB0b1ByZWNpc2lvbiBhcmUgYmVpbmcgdXNlZCB0byBhdm9pZCBpc3N1ZXMgcmVsYXRlZCB0byBwcmVjaXNpb24uXHJcblx0XHRmb3IgKGkgPSB0aGlzLmludGVydmFsU3RhcnRQb3NpdGlvbjsgaSA8PSBlbmRQb2ludDsgaSA9IHBhcnNlRmxvYXQoKGkgKyB0aGlzLmludGVydmFsKS50b0ZpeGVkKDE0KSkpIHtcclxuXHJcblx0XHRcdHZhciB0ZXh0ID0gdGhpcy5sYWJlbEZvcm1hdHRlciA/IHRoaXMubGFiZWxGb3JtYXR0ZXIoeyBjaGFydDogdGhpcy5jaGFydCwgYXhpczogdGhpcy5fb3B0aW9ucywgdmFsdWU6IGksIGxhYmVsOiB0aGlzLmxhYmVsc1tpXSA/IHRoaXMubGFiZWxzW2ldIDogbnVsbCB9KVxyXG5cdFx0XHRcdDogdGhpcy50eXBlID09PSBcImF4aXNYXCIgJiYgdGhpcy5sYWJlbHNbaV0gPyB0aGlzLmxhYmVsc1tpXSA6IG51bWJlckZvcm1hdChpLCB0aGlzLnZhbHVlRm9ybWF0U3RyaW5nLCB0aGlzLmNoYXJ0Ll9jdWx0dXJlSW5mbyk7XHJcblxyXG5cdFx0XHR0ZXh0QmxvY2sgPSBuZXcgVGV4dEJsb2NrKHRoaXMuY3R4LCB7XHJcblx0XHRcdFx0eDogMCxcclxuXHRcdFx0XHR5OiAwLFxyXG5cdFx0XHRcdC8vbWF4V2lkdGg6IHRoaXMubWF4SGVpZ2h0LFxyXG5cdFx0XHRcdC8vbWF4SGVpZ2h0OiB0aGlzLmxhYmVsRm9udFNpemUsXHJcblx0XHRcdFx0bWF4V2lkdGg6IGxhYmVsTWF4V2lkdGgsXHJcblx0XHRcdFx0bWF4SGVpZ2h0OiBsYWJlbE1heEhlaWdodCxcclxuXHRcdFx0XHRhbmdsZTogdGhpcy5sYWJlbEFuZ2xlLFxyXG5cdFx0XHRcdHRleHQ6IHRoaXMucHJlZml4ICsgdGV4dCArIHRoaXMuc3VmZml4LFxyXG5cdFx0XHRcdGhvcml6b250YWxBbGlnbjogXCJsZWZ0XCIsLy9sZWZ0LCBjZW50ZXIsIHJpZ2h0XHJcblx0XHRcdFx0Zm9udFNpemU6IHRoaXMubGFiZWxGb250U2l6ZSwvL2luIHBpeGVsc1xyXG5cdFx0XHRcdGZvbnRGYW1pbHk6IHRoaXMubGFiZWxGb250RmFtaWx5LFxyXG5cdFx0XHRcdGZvbnRXZWlnaHQ6IHRoaXMubGFiZWxGb250V2VpZ2h0LCAvL25vcm1hbCwgYm9sZCwgYm9sZGVyLCBsaWdodGVyLFxyXG5cdFx0XHRcdGZvbnRDb2xvcjogdGhpcy5sYWJlbEZvbnRDb2xvcixcclxuXHRcdFx0XHRmb250U3R5bGU6IHRoaXMubGFiZWxGb250U3R5bGUsIC8vIG5vcm1hbCwgaXRhbGljLCBvYmxpcXVlXHJcblx0XHRcdFx0dGV4dEJhc2VsaW5lOiBcIm1pZGRsZVwiLFxyXG5cdFx0XHRcdGJvcmRlclRoaWNrbmVzczogMFxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdHRoaXMuX2xhYmVscy5wdXNoKHsgcG9zaXRpb246IGksIHRleHRCbG9jazogdGV4dEJsb2NrLCBlZmZlY3RpdmVIZWlnaHQ6IG51bGwgfSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RyaXBMaW5lcy5sZW5ndGg7IGkrKykge1xyXG5cclxuXHRcdHZhciBzdHJpcExpbmUgPSB0aGlzLnN0cmlwTGluZXNbaV07XHJcblxyXG5cdFx0dGV4dEJsb2NrID0gbmV3IFRleHRCbG9jayh0aGlzLmN0eCwge1xyXG5cdFx0XHR4OiAwLFxyXG5cdFx0XHR5OiAwLFxyXG5cdFx0XHQvL21heFdpZHRoOiB0aGlzLm1heEhlaWdodCxcclxuXHRcdFx0Ly9tYXhIZWlnaHQ6IHRoaXMubGFiZWxGb250U2l6ZSxcclxuXHRcdFx0YmFja2dyb3VuZENvbG9yOiBzdHJpcExpbmUubGFiZWxCYWNrZ3JvdW5kQ29sb3IsXHJcblx0XHRcdG1heFdpZHRoOiBsYWJlbE1heFdpZHRoLFxyXG5cdFx0XHRtYXhIZWlnaHQ6IGxhYmVsTWF4SGVpZ2h0LFxyXG5cdFx0XHRhbmdsZTogdGhpcy5sYWJlbEFuZ2xlLFxyXG5cdFx0XHR0ZXh0OiBzdHJpcExpbmUubGFiZWxGb3JtYXR0ZXIgPyBzdHJpcExpbmUubGFiZWxGb3JtYXR0ZXIoeyBjaGFydDogdGhpcy5jaGFydCwgYXhpczogdGhpcywgc3RyaXBMaW5lOiBzdHJpcExpbmUgfSkgOiBzdHJpcExpbmUubGFiZWwsXHJcblx0XHRcdGhvcml6b250YWxBbGlnbjogXCJsZWZ0XCIsLy9sZWZ0LCBjZW50ZXIsIHJpZ2h0XHJcblx0XHRcdGZvbnRTaXplOiBzdHJpcExpbmUubGFiZWxGb250U2l6ZSwvL2luIHBpeGVsc1xyXG5cdFx0XHRmb250RmFtaWx5OiBzdHJpcExpbmUubGFiZWxGb250RmFtaWx5LFxyXG5cdFx0XHRmb250V2VpZ2h0OiBzdHJpcExpbmUubGFiZWxGb250V2VpZ2h0LCAvL25vcm1hbCwgYm9sZCwgYm9sZGVyLCBsaWdodGVyLFxyXG5cdFx0XHRmb250Q29sb3I6IHN0cmlwTGluZS5fb3B0aW9ucy5sYWJlbEZvbnRDb2xvciB8fCBzdHJpcExpbmUuY29sb3IsXHJcblx0XHRcdGZvbnRTdHlsZTogc3RyaXBMaW5lLmxhYmVsRm9udFN0eWxlLCAvLyBub3JtYWwsIGl0YWxpYywgb2JsaXF1ZVxyXG5cdFx0XHR0ZXh0QmFzZWxpbmU6IFwibWlkZGxlXCIsXHJcblx0XHRcdGJvcmRlclRoaWNrbmVzczogMFxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5fbGFiZWxzLnB1c2goeyBwb3NpdGlvbjogc3RyaXBMaW5lLnZhbHVlLCB0ZXh0QmxvY2s6IHRleHRCbG9jaywgZWZmZWN0aXZlSGVpZ2h0OiBudWxsLCBzdHJpcExpbmU6IHN0cmlwTGluZSB9KTtcclxuXHR9XHJcblxyXG59XHJcblxyXG5BeGlzLnByb3RvdHlwZS5jcmVhdGVMYWJlbHNBbmRDYWxjdWxhdGVXaWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcblx0dmFyIG1heExhYmVsRWZmZWN0aXZlV2lkdGggPSAwO1xyXG5cdHRoaXMuX2xhYmVscyA9IFtdO1xyXG5cclxuXHRpZiAodGhpcy5fcG9zaXRpb24gPT09IFwibGVmdFwiIHx8IHRoaXMuX3Bvc2l0aW9uID09PSBcInJpZ2h0XCIpIHtcclxuXHJcblx0XHR0aGlzLmNyZWF0ZUxhYmVscygpO1xyXG5cclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fbGFiZWxzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG5cdFx0XHR2YXIgdGV4dEJsb2NrID0gdGhpcy5fbGFiZWxzW2ldLnRleHRCbG9jaztcclxuXHJcblx0XHRcdHZhciBzaXplID0gdGV4dEJsb2NrLm1lYXN1cmVUZXh0KCk7XHJcblxyXG5cdFx0XHQvL3ZhciBoeXBvdGVudXNlID0gTWF0aC5zcXJ0KE1hdGgucG93KHNpemUuaGVpZ2h0IC8gMiwgMikgKyBNYXRoLnBvdyhzaXplLndpZHRoLCAyKSk7XHJcblx0XHRcdC8vbGFiZWxFZmZlY3RpdmVXaWR0aCA9IGh5cG90ZW51c2UgKiBNYXRoLmNvcyhNYXRoLmFicyhNYXRoLlBJIC8gMTgwICogdGhpcy5sYWJlbEFuZ2xlKSAtIE1hdGguYWJzKE1hdGguYWNvcyhzaXplLndpZHRoIC8gaHlwb3RlbnVzZSkpKTtcclxuXHJcblx0XHRcdHZhciBsYWJlbEVmZmVjdGl2ZVdpZHRoID0gMDtcclxuXHJcblx0XHRcdGlmICh0aGlzLmxhYmVsQW5nbGUgPT09IDApXHJcblx0XHRcdFx0bGFiZWxFZmZlY3RpdmVXaWR0aCA9IHNpemUud2lkdGg7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRsYWJlbEVmZmVjdGl2ZVdpZHRoID0gKHNpemUud2lkdGggKiBNYXRoLmNvcyhNYXRoLlBJIC8gMTgwICogTWF0aC5hYnModGhpcy5sYWJlbEFuZ2xlKSkpICsgKHNpemUuaGVpZ2h0IC8gMiAqIE1hdGguc2luKE1hdGguUEkgLyAxODAgKiBNYXRoLmFicyh0aGlzLmxhYmVsQW5nbGUpKSk7XHJcblxyXG5cclxuXHRcdFx0aWYgKG1heExhYmVsRWZmZWN0aXZlV2lkdGggPCBsYWJlbEVmZmVjdGl2ZVdpZHRoKVxyXG5cdFx0XHRcdG1heExhYmVsRWZmZWN0aXZlV2lkdGggPSBsYWJlbEVmZmVjdGl2ZVdpZHRoO1xyXG5cclxuXHRcdFx0dGhpcy5fbGFiZWxzW2ldLmVmZmVjdGl2ZVdpZHRoID0gbGFiZWxFZmZlY3RpdmVXaWR0aDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cclxuXHJcblx0dmFyIHRpdGxlSGVpZ2h0ID0gdGhpcy50aXRsZSA/IGdldEZvbnRIZWlnaHRJblBpeGVscyh0aGlzLnRpdGxlRm9udEZhbWlseSwgdGhpcy50aXRsZUZvbnRTaXplLCB0aGlzLnRpdGxlRm9udFdlaWdodCkgKyAyIDogMDtcclxuXHJcblx0dmFyIGF4aXNXaWR0aCA9IHRpdGxlSGVpZ2h0ICsgbWF4TGFiZWxFZmZlY3RpdmVXaWR0aCArIHRoaXMudGlja0xlbmd0aCArIDU7XHJcblxyXG5cdC8vaWYgKGlzRGVidWdNb2RlICYmIHdpbmRvdy5jb25zb2xlKSB7XHJcblx0Ly9cdHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLnR5cGUgKyBcIi0tLSBheGlzV2lkdGg6IFwiICsgYXhpc1dpZHRoKTtcclxuXHQvL31cclxuXHJcblx0cmV0dXJuIGF4aXNXaWR0aDtcclxufVxyXG5cclxuQXhpcy5wcm90b3R5cGUuY3JlYXRlTGFiZWxzQW5kQ2FsY3VsYXRlSGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xyXG5cdHZhciBtYXhMYWJlbEVmZmVjdGl2ZUhlaWdodCA9IDA7XHJcblx0dGhpcy5fbGFiZWxzID0gW107XHJcblx0dmFyIHRleHRCbG9jaztcclxuXHR2YXIgaSA9IDA7XHJcblxyXG5cdHRoaXMuY3JlYXRlTGFiZWxzKCk7XHJcblxyXG5cdGlmICh0aGlzLl9wb3NpdGlvbiA9PT0gXCJib3R0b21cIiB8fCB0aGlzLl9wb3NpdGlvbiA9PT0gXCJ0b3BcIikge1xyXG5cclxuXHRcdGZvciAoaSA9IDA7IGkgPCB0aGlzLl9sYWJlbHMubGVuZ3RoOyBpKyspIHtcclxuXHJcblx0XHRcdHRleHRCbG9jayA9IHRoaXMuX2xhYmVsc1tpXS50ZXh0QmxvY2s7XHJcblxyXG5cdFx0XHR2YXIgc2l6ZSA9IHRleHRCbG9jay5tZWFzdXJlVGV4dCgpO1xyXG5cdFx0XHQvL3ZhciBkaWFnb25hbCA9IE1hdGguc3FydChNYXRoLnBvdyhzaXplLmhlaWdodCwgMikgKyBNYXRoLnBvdyhzaXplLndpZHRoLCAyKSk7XHJcblxyXG5cdFx0XHQvL3ZhciBoeXBvdGVudXNlID0gTWF0aC5zcXJ0KE1hdGgucG93KHNpemUuaGVpZ2h0IC8gMiwgMikgKyBNYXRoLnBvdyhzaXplLndpZHRoLCAyKSk7XHJcblx0XHRcdC8vdmFyIGxhYmVsRWZmZWN0aXZlSGVpZ2h0ID0gaHlwb3RlbnVzZSAqIE1hdGguY29zKE1hdGguUEkgLyAyIC0gKE1hdGguYWJzKE1hdGguUEkgLyAxODAgKiB0aGlzLmxhYmVsQW5nbGUpICsgTWF0aC5hYnMoTWF0aC5hY29zKHNpemUud2lkdGggLyBoeXBvdGVudXNlKSkpKTtcclxuXHJcblx0XHRcdHZhciBsYWJlbEVmZmVjdGl2ZUhlaWdodCA9IDA7XHJcblxyXG5cdFx0XHRpZiAodGhpcy5sYWJlbEFuZ2xlID09PSAwKVxyXG5cdFx0XHRcdGxhYmVsRWZmZWN0aXZlSGVpZ2h0ID0gc2l6ZS5oZWlnaHQ7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRsYWJlbEVmZmVjdGl2ZUhlaWdodCA9IChzaXplLndpZHRoICogTWF0aC5zaW4oTWF0aC5QSSAvIDE4MCAqIE1hdGguYWJzKHRoaXMubGFiZWxBbmdsZSkpKSArIChzaXplLmhlaWdodCAvIDIgKiBNYXRoLmNvcyhNYXRoLlBJIC8gMTgwICogTWF0aC5hYnModGhpcy5sYWJlbEFuZ2xlKSkpO1xyXG5cclxuXHRcdFx0aWYgKG1heExhYmVsRWZmZWN0aXZlSGVpZ2h0IDwgbGFiZWxFZmZlY3RpdmVIZWlnaHQpXHJcblx0XHRcdFx0bWF4TGFiZWxFZmZlY3RpdmVIZWlnaHQgPSBsYWJlbEVmZmVjdGl2ZUhlaWdodDtcclxuXHJcblx0XHRcdHRoaXMuX2xhYmVsc1tpXS5lZmZlY3RpdmVIZWlnaHQgPSBsYWJlbEVmZmVjdGl2ZUhlaWdodDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vdmFyIHRpdGxlSGVpZ2h0ID0gdGhpcy50aXRsZSA/IHRoaXMudGl0bGVGb250U2l6ZSArIDUgOiAwO1xyXG5cdHZhciB0aXRsZUhlaWdodCA9IHRoaXMudGl0bGUgPyBnZXRGb250SGVpZ2h0SW5QaXhlbHModGhpcy50aXRsZUZvbnRGYW1pbHksIHRoaXMudGl0bGVGb250U2l6ZSwgdGhpcy50aXRsZUZvbnRXZWlnaHQpICsgMiA6IDA7XHJcblxyXG5cdHJldHVybiB0aXRsZUhlaWdodCArIG1heExhYmVsRWZmZWN0aXZlSGVpZ2h0ICsgdGhpcy50aWNrTGVuZ3RoICsgNTtcclxufVxyXG5cclxuLy9TdGF0aWMgTWV0aG9kIHRoYXQgY28tb3JkaW5hdGVzIGJldHdlZW4gYXhpc1gsIGF4aXNZIGFuZCByZW5kZXJzIHRoZW1cclxuQXhpcy5zZXRMYXlvdXRBbmRSZW5kZXIgPSBmdW5jdGlvbiAoYXhpc1gsIGF4aXNZLCBheGlzWTIsIGF4aXNQbGFjZW1lbnQsIGZyZWVTcGFjZSkge1xyXG5cdHZhciB4MSwgeTEsIHgyLCB5MjtcclxuXHR2YXIgY2hhcnQgPSBheGlzWC5jaGFydDtcclxuXHR2YXIgY3R4ID0gY2hhcnQuY3R4O1xyXG5cclxuXHRheGlzWC5jYWxjdWxhdGVBeGlzUGFyYW1ldGVycygpO1xyXG5cclxuXHRpZiAoYXhpc1kpXHJcblx0XHRheGlzWS5jYWxjdWxhdGVBeGlzUGFyYW1ldGVycygpO1xyXG5cclxuXHRpZiAoYXhpc1kyKVxyXG5cdFx0YXhpc1kyLmNhbGN1bGF0ZUF4aXNQYXJhbWV0ZXJzKCk7XHJcblxyXG5cdC8vaWYgKGF4aXNZICYmIGF4aXNZMiAmJiB0eXBlb2YgKGF4aXNZLl9vcHRpb25zLnZpZXdwb3J0TWF4aW11bSkgPT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIChheGlzWS5fb3B0aW9ucy52aWV3cG9ydE1pbmltdW0pID09PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiAoYXhpc1kuX29wdGlvbnMuaW50ZXJ2YWwpID09PSBcInVuZGVmaW5lZFwiXHJcblx0Ly9cdFx0JiYgdHlwZW9mIChheGlzWTIuX29wdGlvbnMudmlld3BvcnRNYXhpbXVtKSA9PT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgKGF4aXNZMi5fb3B0aW9ucy52aWV3cG9ydE1pbmltdW0pID09PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiAoYXhpc1kyLl9vcHRpb25zLmludGVydmFsKSA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG5cclxuXHQvL1x0dmFyIG5vVGlja3NZID0gKGF4aXNZLnZpZXdwb3J0TWF4aW11bSAtIGF4aXNZLnZpZXdwb3J0TWluaW11bSkgLyBheGlzWS5pbnRlcnZhbDtcclxuXHJcblx0Ly9cdHZhciBub1RpY2tzWTIgPSAoYXhpc1kyLnZpZXdwb3J0TWF4aW11bSAtIGF4aXNZMi52aWV3cG9ydE1pbmltdW0pIC8gYXhpc1kyLmludGVydmFsO1xyXG5cclxuXHQvL1x0aWYgKG5vVGlja3NZID4gbm9UaWNrc1kyKSB7XHJcblx0Ly9cdFx0YXhpc1kyLnZpZXdwb3J0TWF4aW11bSA9IGF4aXNZMi5pbnRlcnZhbCAqIG5vVGlja3NZICsgYXhpc1kyLnZpZXdwb3J0TWluaW11bTtcclxuXHQvL1x0fSBlbHNlIGlmIChub1RpY2tzWTIgPiBub1RpY2tzWSkge1xyXG5cdC8vXHRcdGF4aXNZLnZpZXdwb3J0TWF4aW11bSA9IGF4aXNZLmludGVydmFsICogbm9UaWNrc1kyICsgYXhpc1kudmlld3BvcnRNaW5pbXVtO1xyXG5cdC8vXHR9XHJcblx0Ly99XHJcblxyXG5cdHZhciBheGlzWWxpbmVUaGlja25lc3MgPSBheGlzWSA/IGF4aXNZLmxpbmVUaGlja25lc3MgPyBheGlzWS5saW5lVGhpY2tuZXNzIDogMCA6IDA7XHJcblx0dmFyIGF4aXNZMmxpbmVUaGlja25lc3MgPSBheGlzWTIgPyBheGlzWTIubGluZVRoaWNrbmVzcyA/IGF4aXNZMi5saW5lVGhpY2tuZXNzIDogMCA6IDA7XHJcblxyXG5cdHZhciBheGlzWUdyaWRUaGlja25lc3MgPSBheGlzWSA/IGF4aXNZLmdyaWRUaGlja25lc3MgPyBheGlzWS5ncmlkVGhpY2tuZXNzIDogMCA6IDA7XHJcblx0dmFyIGF4aXNZMkdyaWRUaGlja25lc3MgPSBheGlzWTIgPyBheGlzWTIuZ3JpZFRoaWNrbmVzcyA/IGF4aXNZMi5ncmlkVGhpY2tuZXNzIDogMCA6IDA7XHJcblxyXG5cdHZhciBheGlzWU1hcmdpbiA9IGF4aXNZID8gYXhpc1kubWFyZ2luIDogMDtcclxuXHR2YXIgYXhpc1kyTWFyZ2luID0gYXhpc1kgPyBheGlzWS5tYXJnaW4gOiAwO1xyXG5cclxuXHRpZiAoYXhpc1BsYWNlbWVudCA9PT0gXCJub3JtYWxcIikge1xyXG5cclxuXHRcdGF4aXNYLmxpbmVDb29yZGluYXRlcyA9IHtcclxuXHRcdH07XHJcblxyXG5cdFx0dmFyIGF4aXNZV2lkdGggPSBNYXRoLmNlaWwoYXhpc1kgPyBheGlzWS5jcmVhdGVMYWJlbHNBbmRDYWxjdWxhdGVXaWR0aCgpIDogMCk7XHJcblx0XHR4MSA9IE1hdGgucm91bmQoZnJlZVNwYWNlLngxICsgYXhpc1lXaWR0aCArIGF4aXNZTWFyZ2luKTtcclxuXHRcdGF4aXNYLmxpbmVDb29yZGluYXRlcy54MSA9IHgxO1xyXG5cclxuXHRcdHZhciBheGlzWTJXaWR0aCA9IE1hdGguY2VpbChheGlzWTIgPyBheGlzWTIuY3JlYXRlTGFiZWxzQW5kQ2FsY3VsYXRlV2lkdGgoKSA6IDApO1xyXG5cdFx0eDIgPSBNYXRoLnJvdW5kKGZyZWVTcGFjZS54MiAtIGF4aXNZMldpZHRoID4gYXhpc1guY2hhcnQud2lkdGggLSAxMCA/IGF4aXNYLmNoYXJ0LndpZHRoIC0gMTAgOiBmcmVlU3BhY2UueDIgLSBheGlzWTJXaWR0aCk7XHJcblx0XHRheGlzWC5saW5lQ29vcmRpbmF0ZXMueDIgPSB4MjtcclxuXHJcblx0XHRheGlzWC5saW5lQ29vcmRpbmF0ZXMud2lkdGggPSBNYXRoLmFicyh4MiAtIHgxKTsgLy8gcmVxdWlyZWQgZWFybHkgb24gaW5zaWRlIGNyZWF0ZUxhYmVscyBvZiBheGlzWFxyXG5cclxuXHRcdHZhciBheGlzWEhlaWdodCA9IE1hdGguY2VpbChheGlzWC5jcmVhdGVMYWJlbHNBbmRDYWxjdWxhdGVIZWlnaHQoKSk7XHJcblxyXG5cdFx0Ly8gUG9zaXRpb24gYXhpc1ggYmFzZWQgb24gdGhlIGF2YWlsYWJsZSBmcmVlIHNwYWNlLCBNYXJnaW4gYW5kIGl0cyBoZWlnaHRcclxuXHRcdC8veDEgPSBmcmVlU3BhY2UueDEgKyBheGlzWVdpZHRoICsgYXhpc1lNYXJnaW4gKyBheGlzWWxpbmVUaGlja25lc3MgLyAyO1xyXG5cdFx0eTEgPSBNYXRoLnJvdW5kKGZyZWVTcGFjZS55MiAtIGF4aXNYSGVpZ2h0IC0gYXhpc1gubWFyZ2luKTtcclxuXHRcdHkyID0gTWF0aC5yb3VuZChmcmVlU3BhY2UueTIgLSBheGlzWC5tYXJnaW4pO1xyXG5cclxuXHRcdC8vYXhpc1gubGluZUNvb3JkaW5hdGVzID0geyB4MTogeDEsIHkxOiB5MSwgeDI6IHgyLCB5MjogeTEsIHdpZHRoOiBNYXRoLmFicyh4MiAtIHgxKSB9XHJcblx0XHRheGlzWC5saW5lQ29vcmRpbmF0ZXMueTEgPSB5MTtcclxuXHRcdGF4aXNYLmxpbmVDb29yZGluYXRlcy55MiA9IHkxO1xyXG5cclxuXHRcdGF4aXNYLmJvdW5kaW5nUmVjdCA9IHtcclxuXHRcdFx0eDE6IHgxLCB5MTogeTEsIHgyOiB4MiwgeTI6IHkyLCB3aWR0aDogeDIgLSB4MSwgaGVpZ2h0OiB5MiAtIHkxXHJcblx0XHR9O1xyXG5cclxuXHRcdC8vaWYgKGlzRGVidWdNb2RlKSB7XHJcblx0XHQvL1x0YXhpc1guY3R4LnJlY3QoYXhpc1guYm91bmRpbmdSZWN0LngxLCBheGlzWC5ib3VuZGluZ1JlY3QueTEsIGF4aXNYLmJvdW5kaW5nUmVjdC53aWR0aCwgYXhpc1guYm91bmRpbmdSZWN0LmhlaWdodCk7XHJcblx0XHQvL1x0YXhpc1guY3R4LnN0cm9rZSgpO1xyXG5cdFx0Ly99XHJcblxyXG5cdFx0Ly8gUG9zaXRpb24gYXhpc1kgYmFzZWQgb24gdGhlIGF2YWlsYWJsZSBmcmVlIHNwYWNlLCBNYXJnaW4gYW5kIGl0cyBoZWlnaHRcclxuXHRcdGlmIChheGlzWSkge1xyXG5cdFx0XHR4MSA9IE1hdGgucm91bmQoZnJlZVNwYWNlLngxICsgYXhpc1kubWFyZ2luKTtcclxuXHRcdFx0eTEgPSBNYXRoLnJvdW5kKGZyZWVTcGFjZS55MSA8IDEwID8gMTAgOiBmcmVlU3BhY2UueTEpO1xyXG5cdFx0XHR4MiA9IE1hdGgucm91bmQoZnJlZVNwYWNlLngxICsgYXhpc1lXaWR0aCArIGF4aXNZLm1hcmdpbik7XHJcblx0XHRcdC8veTIgPSBmcmVlU3BhY2UueTIgLSBheGlzWEhlaWdodCAtIGF4aXNYLm1hcmdpbiAtIGF4aXNYLmxpbmVUaGlja25lc3MgLyAyO1xyXG5cdFx0XHR5MiA9IE1hdGgucm91bmQoZnJlZVNwYWNlLnkyIC0gYXhpc1hIZWlnaHQgLSBheGlzWC5tYXJnaW4pO1xyXG5cclxuXHRcdFx0YXhpc1kubGluZUNvb3JkaW5hdGVzID0ge1xyXG5cdFx0XHRcdHgxOiB4MiwgeTE6IHkxLCB4MjogeDIsIHkyOiB5MiwgaGVpZ2h0OiBNYXRoLmFicyh5MiAtIHkxKVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRheGlzWS5ib3VuZGluZ1JlY3QgPSB7XHJcblx0XHRcdFx0eDE6IHgxLCB5MTogeTEsIHgyOiB4MiwgeTI6IHkyLCB3aWR0aDogeDIgLSB4MSwgaGVpZ2h0OiB5MiAtIHkxXHJcblx0XHRcdH07XHJcblx0XHR9XHJcblxyXG5cdFx0Ly9pZiAoaXNEZWJ1Z01vZGUgJiYgYXhpc1kpIHtcclxuXHRcdC8vXHRheGlzWS5jdHgucmVjdChheGlzWS5ib3VuZGluZ1JlY3QueDEsIGF4aXNZLmJvdW5kaW5nUmVjdC55MSwgYXhpc1kuYm91bmRpbmdSZWN0LndpZHRoLCBheGlzWS5ib3VuZGluZ1JlY3QuaGVpZ2h0KTtcclxuXHRcdC8vXHRheGlzWS5jdHguc3Ryb2tlKCk7XHJcblx0XHQvL31cclxuXHJcblx0XHQvLyBQb3NpdGlvbiBheGlzWTIgYmFzZWQgb24gdGhlIGF2YWlsYWJsZSBmcmVlIHNwYWNlLCBNYXJnaW4gYW5kIGl0cyBoZWlnaHRcclxuXHRcdGlmIChheGlzWTIpIHtcclxuXHRcdFx0eDEgPSBNYXRoLnJvdW5kKGF4aXNYLmxpbmVDb29yZGluYXRlcy54Mik7XHJcblx0XHRcdHkxID0gTWF0aC5yb3VuZChmcmVlU3BhY2UueTEgPCAxMCA/IDEwIDogZnJlZVNwYWNlLnkxKTtcclxuXHRcdFx0eDIgPSBNYXRoLnJvdW5kKHgxICsgYXhpc1kyV2lkdGggKyBheGlzWTIubWFyZ2luKTtcclxuXHRcdFx0Ly95MiA9IGZyZWVTcGFjZS55MiAtIGF4aXNYSGVpZ2h0IC0gYXhpc1gubWFyZ2luIC0gYXhpc1gubGluZVRoaWNrbmVzcyAvIDI7XHJcblx0XHRcdHkyID0gTWF0aC5yb3VuZChmcmVlU3BhY2UueTIgLSBheGlzWEhlaWdodCAtIGF4aXNYLm1hcmdpbik7XHJcblxyXG5cdFx0XHRheGlzWTIubGluZUNvb3JkaW5hdGVzID0ge1xyXG5cdFx0XHRcdHgxOiB4MSwgeTE6IHkxLCB4MjogeDEsIHkyOiB5MiwgaGVpZ2h0OiBNYXRoLmFicyh5MiAtIHkxKVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRheGlzWTIuYm91bmRpbmdSZWN0ID0ge1xyXG5cdFx0XHRcdHgxOiB4MSwgeTE6IHkxLCB4MjogeDIsIHkyOiB5Miwgd2lkdGg6IHgyIC0geDEsIGhlaWdodDogeTIgLSB5MVxyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cclxuXHJcblx0XHRheGlzWC5jYWxjdWxhdGVWYWx1ZVRvUGl4ZWxDb252ZXJzaW9uUGFyYW1ldGVycygpO1xyXG5cclxuXHRcdGlmIChheGlzWSlcclxuXHRcdFx0YXhpc1kuY2FsY3VsYXRlVmFsdWVUb1BpeGVsQ29udmVyc2lvblBhcmFtZXRlcnMoKTtcclxuXHJcblx0XHRpZiAoYXhpc1kyKVxyXG5cdFx0XHRheGlzWTIuY2FsY3VsYXRlVmFsdWVUb1BpeGVsQ29udmVyc2lvblBhcmFtZXRlcnMoKTtcclxuXHJcblxyXG5cdFx0Y3R4LnNhdmUoKTtcclxuXHRcdGN0eC5yZWN0KDUsIGF4aXNYLmJvdW5kaW5nUmVjdC55MSwgYXhpc1guY2hhcnQud2lkdGggLSAxMCwgYXhpc1guYm91bmRpbmdSZWN0LmhlaWdodCk7XHJcblx0XHRjdHguY2xpcCgpO1xyXG5cclxuXHRcdGF4aXNYLnJlbmRlckxhYmVsc1RpY2tzQW5kVGl0bGUoKTtcclxuXHRcdGN0eC5yZXN0b3JlKCk7XHJcblxyXG5cdFx0aWYgKGF4aXNZKVxyXG5cdFx0XHRheGlzWS5yZW5kZXJMYWJlbHNUaWNrc0FuZFRpdGxlKCk7XHJcblxyXG5cdFx0aWYgKGF4aXNZMilcclxuXHRcdFx0YXhpc1kyLnJlbmRlckxhYmVsc1RpY2tzQW5kVGl0bGUoKTtcclxuXHJcblxyXG5cdFx0Y2hhcnQucHJlcGFyZVBsb3RBcmVhKCk7XHJcblx0XHR2YXIgcGxvdEFyZWEgPSBheGlzWC5jaGFydC5wbG90QXJlYTtcclxuXHJcblx0XHRjdHguc2F2ZSgpO1xyXG5cclxuXHRcdGN0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgTWF0aC5hYnMocGxvdEFyZWEueDIgLSBwbG90QXJlYS54MSksIE1hdGguYWJzKHBsb3RBcmVhLnkyIC0gcGxvdEFyZWEueTEpKTtcclxuXHJcblx0XHRjdHguY2xpcCgpO1xyXG5cclxuXHRcdGF4aXNYLnJlbmRlclN0cmlwTGluZXNPZlRoaWNrbmVzc1R5cGUoXCJ2YWx1ZVwiKTtcclxuXHJcblx0XHRpZiAoYXhpc1kpXHJcblx0XHRcdGF4aXNZLnJlbmRlclN0cmlwTGluZXNPZlRoaWNrbmVzc1R5cGUoXCJ2YWx1ZVwiKTtcclxuXHJcblx0XHRpZiAoYXhpc1kyKVxyXG5cdFx0XHRheGlzWTIucmVuZGVyU3RyaXBMaW5lc09mVGhpY2tuZXNzVHlwZShcInZhbHVlXCIpO1xyXG5cclxuXHJcblx0XHRheGlzWC5yZW5kZXJJbnRlcmxhY2VkQ29sb3JzKCk7XHJcblxyXG5cdFx0aWYgKGF4aXNZKVxyXG5cdFx0XHRheGlzWS5yZW5kZXJJbnRlcmxhY2VkQ29sb3JzKCk7XHJcblxyXG5cdFx0aWYgKGF4aXNZMilcclxuXHRcdFx0YXhpc1kyLnJlbmRlckludGVybGFjZWRDb2xvcnMoKTtcclxuXHJcblx0XHRjdHgucmVzdG9yZSgpO1xyXG5cclxuXHJcblx0XHRheGlzWC5yZW5kZXJHcmlkKCk7XHJcblxyXG5cdFx0aWYgKGF4aXNZKVxyXG5cdFx0XHRheGlzWS5yZW5kZXJHcmlkKCk7XHJcblxyXG5cdFx0aWYgKGF4aXNZMilcclxuXHRcdFx0YXhpc1kyLnJlbmRlckdyaWQoKTtcclxuXHJcblxyXG5cdFx0YXhpc1gucmVuZGVyQXhpc0xpbmUoKTtcclxuXHJcblx0XHRpZiAoYXhpc1kpXHJcblx0XHRcdGF4aXNZLnJlbmRlckF4aXNMaW5lKCk7XHJcblxyXG5cdFx0aWYgKGF4aXNZMilcclxuXHRcdFx0YXhpc1kyLnJlbmRlckF4aXNMaW5lKCk7XHJcblxyXG5cclxuXHRcdC8vTm8gbmVlZCB0byBjbGlwIHRvIHBsb3RBcmVhIGJlY2F1c2Ugc3RyaXBMaW5lcyBuZWVkIHRvIHJlbmRlciBvbiB0b3Agb2YgZ3JpZGxpbmVzXHJcblx0XHRheGlzWC5yZW5kZXJTdHJpcExpbmVzT2ZUaGlja25lc3NUeXBlKFwicGl4ZWxcIik7XHJcblxyXG5cdFx0aWYgKGF4aXNZKVxyXG5cdFx0XHRheGlzWS5yZW5kZXJTdHJpcExpbmVzT2ZUaGlja25lc3NUeXBlKFwicGl4ZWxcIik7XHJcblxyXG5cdFx0aWYgKGF4aXNZMilcclxuXHRcdFx0YXhpc1kyLnJlbmRlclN0cmlwTGluZXNPZlRoaWNrbmVzc1R5cGUoXCJwaXhlbFwiKTtcclxuXHR9XHJcblx0ZWxzZSB7XHJcblx0XHR2YXIgYXhpc1hXaWR0aCA9IE1hdGguY2VpbChheGlzWC5jcmVhdGVMYWJlbHNBbmRDYWxjdWxhdGVXaWR0aCgpKTtcclxuXHJcblx0XHRpZiAoYXhpc1kpIHtcclxuXHRcdFx0YXhpc1kubGluZUNvb3JkaW5hdGVzID0ge1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0eDEgPSBNYXRoLnJvdW5kKGZyZWVTcGFjZS54MSArIGF4aXNYV2lkdGggKyBheGlzWC5tYXJnaW4pO1xyXG5cdFx0XHR4MiA9IE1hdGgucm91bmQoZnJlZVNwYWNlLngyID4gYXhpc1kuY2hhcnQud2lkdGggLSAxMCA/IGF4aXNZLmNoYXJ0LndpZHRoIC0gMTAgOiBmcmVlU3BhY2UueDIpO1xyXG5cclxuXHRcdFx0YXhpc1kubGluZUNvb3JkaW5hdGVzLngxID0geDE7XHJcblx0XHRcdGF4aXNZLmxpbmVDb29yZGluYXRlcy54MiA9IHgyO1xyXG5cdFx0XHRheGlzWS5saW5lQ29vcmRpbmF0ZXMud2lkdGggPSBNYXRoLmFicyh4MiAtIHgxKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoYXhpc1kyKSB7XHJcblx0XHRcdGF4aXNZMi5saW5lQ29vcmRpbmF0ZXMgPSB7XHJcblx0XHRcdH07XHJcblx0XHRcdHgxID0gTWF0aC5yb3VuZChmcmVlU3BhY2UueDEgKyBheGlzWFdpZHRoICsgYXhpc1gubWFyZ2luKTtcclxuXHRcdFx0eDIgPSBNYXRoLnJvdW5kKGZyZWVTcGFjZS54MiA+IGF4aXNZMi5jaGFydC53aWR0aCAtIDEwID8gYXhpc1kyLmNoYXJ0LndpZHRoIC0gMTAgOiBmcmVlU3BhY2UueDIpO1xyXG5cclxuXHRcdFx0YXhpc1kyLmxpbmVDb29yZGluYXRlcy54MSA9IHgxO1xyXG5cdFx0XHRheGlzWTIubGluZUNvb3JkaW5hdGVzLngyID0geDI7XHJcblx0XHRcdGF4aXNZMi5saW5lQ29vcmRpbmF0ZXMud2lkdGggPSBNYXRoLmFicyh4MiAtIHgxKTtcclxuXHRcdH1cclxuXHJcblxyXG5cclxuXHRcdHZhciBheGlzWUhlaWdodCA9IE1hdGguY2VpbChheGlzWSA/IGF4aXNZLmNyZWF0ZUxhYmVsc0FuZENhbGN1bGF0ZUhlaWdodCgpIDogMCk7XHJcblx0XHR2YXIgYXhpc1kySGVpZ2h0ID0gTWF0aC5jZWlsKGF4aXNZMiA/IGF4aXNZMi5jcmVhdGVMYWJlbHNBbmRDYWxjdWxhdGVIZWlnaHQoKSA6IDApO1xyXG5cclxuXHJcblx0XHQvLyBQb3NpdGlvbiBheGlzWSBiYXNlZCBvbiB0aGUgYXZhaWxhYmxlIGZyZWUgc3BhY2UsIE1hcmdpbiBhbmQgaXRzIGhlaWdodFxyXG5cdFx0aWYgKGF4aXNZKSB7XHJcblx0XHRcdC8veDEgPSBmcmVlU3BhY2UueDEgKyBheGlzWFdpZHRoICsgYXhpc1gubWFyZ2luICsgYXhpc1gubGluZVRoaWNrbmVzcyAvIDI7XHJcblx0XHRcdC8veDIgPSBmcmVlU3BhY2UueDIgPiBheGlzWS5jaGFydC53aWR0aCAtIDEwID8gYXhpc1kuY2hhcnQud2lkdGggLSAxMCA6IGZyZWVTcGFjZS54MjtcclxuXHJcblx0XHRcdHkxID0gTWF0aC5yb3VuZChmcmVlU3BhY2UueTIgLSBheGlzWUhlaWdodCAtIGF4aXNZLm1hcmdpbik7XHJcblx0XHRcdHkyID0gTWF0aC5yb3VuZChmcmVlU3BhY2UueTIgLSBheGlzWU1hcmdpbiA+IGF4aXNZLmNoYXJ0LmhlaWdodCAtIDEwID8gYXhpc1kuY2hhcnQuaGVpZ2h0IC0gMTAgOiBmcmVlU3BhY2UueTIgLSBheGlzWU1hcmdpbik7XHJcblxyXG5cdFx0XHQvL2F4aXNZLmxpbmVDb29yZGluYXRlcyA9IHsgeDE6IHgxLCB5MTogeTEsIHgyOiB4MiwgeTI6IHkxLCB3aWR0aDogTWF0aC5hYnMoeDIgLSB4MSkgfVxyXG5cdFx0XHRheGlzWS5saW5lQ29vcmRpbmF0ZXMueTEgPSB5MTtcclxuXHRcdFx0YXhpc1kubGluZUNvb3JkaW5hdGVzLnkyID0geTE7XHJcblxyXG5cdFx0XHRheGlzWS5ib3VuZGluZ1JlY3QgPSB7XHJcblx0XHRcdFx0eDE6IHgxLCB5MTogeTEsIHgyOiB4MiwgeTI6IHkyLCB3aWR0aDogeDIgLSB4MSwgaGVpZ2h0OiBheGlzWUhlaWdodFxyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFBvc2l0aW9uIGF4aXNZIGJhc2VkIG9uIHRoZSBhdmFpbGFibGUgZnJlZSBzcGFjZSwgTWFyZ2luIGFuZCBpdHMgaGVpZ2h0XHJcblx0XHRpZiAoYXhpc1kyKSB7XHJcblx0XHRcdC8veDEgPSBmcmVlU3BhY2UueDEgKyBheGlzWFdpZHRoICsgYXhpc1gubWFyZ2luICsgYXhpc1gubGluZVRoaWNrbmVzcyAvIDI7XHJcblx0XHRcdC8veDIgPSBmcmVlU3BhY2UueDIgPiBheGlzWTIuY2hhcnQud2lkdGggLSAxMCA/IGF4aXNZMi5jaGFydC53aWR0aCAtIDEwIDogZnJlZVNwYWNlLngyO1xyXG5cclxuXHRcdFx0eTEgPSBNYXRoLnJvdW5kKGZyZWVTcGFjZS55MSArIGF4aXNZMi5tYXJnaW4pO1xyXG5cdFx0XHR5MiA9IChmcmVlU3BhY2UueTEgKyBheGlzWTIubWFyZ2luICsgYXhpc1kySGVpZ2h0KTtcclxuXHJcblx0XHRcdC8vYXhpc1kyLmxpbmVDb29yZGluYXRlcyA9IHsgeDE6IHgxLCB5MTogeTIsIHgyOiB4MiwgeTI6IHkyLCB3aWR0aDogTWF0aC5hYnMoeDIgLSB4MSkgfVxyXG5cdFx0XHRheGlzWTIubGluZUNvb3JkaW5hdGVzLnkxID0geTI7XHJcblx0XHRcdGF4aXNZMi5saW5lQ29vcmRpbmF0ZXMueTIgPSB5MjtcclxuXHJcblx0XHRcdGF4aXNZMi5ib3VuZGluZ1JlY3QgPSB7XHJcblx0XHRcdFx0eDE6IHgxLCB5MTogeTEsIHgyOiB4MiwgeTI6IHkyLCB3aWR0aDogeDIgLSB4MSwgaGVpZ2h0OiBheGlzWTJIZWlnaHRcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHJcblx0XHQvL2F4aXNZLmN0eC5yZWN0KGF4aXNZLmJvdW5kaW5nUmVjdC54MSwgYXhpc1kuYm91bmRpbmdSZWN0LnkxLCBheGlzWS5ib3VuZGluZ1JlY3Qud2lkdGgsIGF4aXNZLmJvdW5kaW5nUmVjdC5oZWlnaHQpO1xyXG5cdFx0Ly9heGlzWS5jdHguc3Ryb2tlKCk7XHJcblxyXG5cdFx0Ly8gUG9zaXRpb24gYXhpc1ggYmFzZWQgb24gdGhlIGF2YWlsYWJsZSBmcmVlIHNwYWNlLCBNYXJnaW4gYW5kIGl0cyBoZWlnaHRcclxuXHRcdHgxID0gTWF0aC5yb3VuZChmcmVlU3BhY2UueDEgKyBheGlzWC5tYXJnaW4pO1xyXG5cdFx0eTEgPSBNYXRoLnJvdW5kKGF4aXNZMiA/IGF4aXNZMi5saW5lQ29vcmRpbmF0ZXMueTIgOiAoZnJlZVNwYWNlLnkxIDwgMTAgPyAxMCA6IGZyZWVTcGFjZS55MSkpO1xyXG5cdFx0eDIgPSBNYXRoLnJvdW5kKGZyZWVTcGFjZS54MSArIGF4aXNYV2lkdGggKyBheGlzWC5tYXJnaW4pO1xyXG5cdFx0eTIgPSBNYXRoLnJvdW5kKGF4aXNZID8gYXhpc1kubGluZUNvb3JkaW5hdGVzLnkxIDogKGZyZWVTcGFjZS55MiAtIGF4aXNZTWFyZ2luID4gYXhpc1guY2hhcnQuaGVpZ2h0IC0gMTAgPyBheGlzWC5jaGFydC5oZWlnaHQgLSAxMCA6IGZyZWVTcGFjZS55MiAtIGF4aXNZTWFyZ2luKSk7XHJcblxyXG5cclxuXHRcdGF4aXNYLmxpbmVDb29yZGluYXRlcyA9IHtcclxuXHRcdFx0eDE6IHgyLCB5MTogeTEsIHgyOiB4MiwgeTI6IHkyLCBoZWlnaHQ6IE1hdGguYWJzKHkyIC0geTEpXHJcblx0XHR9O1xyXG5cclxuXHRcdGF4aXNYLmJvdW5kaW5nUmVjdCA9IHtcclxuXHRcdFx0eDE6IHgxLCB5MTogeTEsIHgyOiB4MiwgeTI6IHkyLCB3aWR0aDogeDIgLSB4MSwgaGVpZ2h0OiB5MiAtIHkxXHJcblx0XHR9O1xyXG5cclxuXHRcdC8vYXhpc1guY3R4LnJlY3QoYXhpc1guYm91bmRpbmdSZWN0LngxLCBheGlzWC5ib3VuZGluZ1JlY3QueTEsIGF4aXNYLmJvdW5kaW5nUmVjdC53aWR0aCwgYXhpc1guYm91bmRpbmdSZWN0LmhlaWdodCk7XHJcblx0XHQvL2F4aXNYLmN0eC5zdHJva2UoKTtcclxuXHJcblx0XHRheGlzWC5jYWxjdWxhdGVWYWx1ZVRvUGl4ZWxDb252ZXJzaW9uUGFyYW1ldGVycygpO1xyXG5cclxuXHRcdGlmIChheGlzWSlcclxuXHRcdFx0YXhpc1kuY2FsY3VsYXRlVmFsdWVUb1BpeGVsQ29udmVyc2lvblBhcmFtZXRlcnMoKTtcclxuXHRcdGlmIChheGlzWTIpXHJcblx0XHRcdGF4aXNZMi5jYWxjdWxhdGVWYWx1ZVRvUGl4ZWxDb252ZXJzaW9uUGFyYW1ldGVycygpO1xyXG5cclxuXHJcblx0XHQvL2N0eC5zYXZlKCk7XHJcblx0XHQvL2N0eC5yZWN0KGF4aXNZLmJvdW5kaW5nUmVjdC54MSAtIDMwLCBheGlzWS5ib3VuZGluZ1JlY3QueTEsIGF4aXNZLmJvdW5kaW5nUmVjdC53aWR0aCArIDYwLCBheGlzWS5ib3VuZGluZ1JlY3QuaGVpZ2h0KTtcclxuXHRcdC8vY3R4LmNsaXAoKTtcclxuXHJcblx0XHRpZiAoYXhpc1kpXHJcblx0XHRcdGF4aXNZLnJlbmRlckxhYmVsc1RpY2tzQW5kVGl0bGUoKTtcclxuXHJcblx0XHRpZiAoYXhpc1kyKVxyXG5cdFx0XHRheGlzWTIucmVuZGVyTGFiZWxzVGlja3NBbmRUaXRsZSgpO1xyXG5cclxuXHRcdC8vY3R4LnJlc3RvcmUoKTtcclxuXHJcblx0XHRheGlzWC5yZW5kZXJMYWJlbHNUaWNrc0FuZFRpdGxlKCk7XHJcblxyXG5cdFx0Y2hhcnQucHJlcGFyZVBsb3RBcmVhKCk7XHJcblx0XHR2YXIgcGxvdEFyZWEgPSBheGlzWC5jaGFydC5wbG90QXJlYTtcclxuXHJcblx0XHRjdHguc2F2ZSgpO1xyXG5cdFx0Y3R4LnJlY3QocGxvdEFyZWEueDEsIHBsb3RBcmVhLnkxLCBNYXRoLmFicyhwbG90QXJlYS54MiAtIHBsb3RBcmVhLngxKSwgTWF0aC5hYnMocGxvdEFyZWEueTIgLSBwbG90QXJlYS55MSkpO1xyXG5cclxuXHRcdGN0eC5jbGlwKCk7XHJcblxyXG5cclxuXHRcdC8vTm8gbmVlZCB0byBjbGlwIHRvIHBsb3RBcmVhIGJlY2F1c2Ugc3RyaXBMaW5lcyBuZWVkIHRvIHJlbmRlciBvbiB0b3Agb2YgZ3JpZGxpbmVzXHJcblx0XHRheGlzWC5yZW5kZXJTdHJpcExpbmVzT2ZUaGlja25lc3NUeXBlKFwidmFsdWVcIik7XHJcblxyXG5cdFx0aWYgKGF4aXNZKVxyXG5cdFx0XHRheGlzWS5yZW5kZXJTdHJpcExpbmVzT2ZUaGlja25lc3NUeXBlKFwidmFsdWVcIik7XHJcblx0XHRpZiAoYXhpc1kyKVxyXG5cdFx0XHRheGlzWTIucmVuZGVyU3RyaXBMaW5lc09mVGhpY2tuZXNzVHlwZShcInZhbHVlXCIpO1xyXG5cclxuXHRcdGF4aXNYLnJlbmRlckludGVybGFjZWRDb2xvcnMoKTtcclxuXHJcblx0XHRpZiAoYXhpc1kpXHJcblx0XHRcdGF4aXNZLnJlbmRlckludGVybGFjZWRDb2xvcnMoKTtcclxuXHRcdGlmIChheGlzWTIpXHJcblx0XHRcdGF4aXNZMi5yZW5kZXJJbnRlcmxhY2VkQ29sb3JzKCk7XHJcblxyXG5cdFx0Y3R4LnJlc3RvcmUoKTtcclxuXHJcblxyXG5cdFx0YXhpc1gucmVuZGVyR3JpZCgpO1xyXG5cclxuXHJcblx0XHRpZiAoYXhpc1kpXHJcblx0XHRcdGF4aXNZLnJlbmRlckdyaWQoKTtcclxuXHJcblx0XHRpZiAoYXhpc1kyKVxyXG5cdFx0XHRheGlzWTIucmVuZGVyR3JpZCgpO1xyXG5cclxuXHJcblx0XHRheGlzWC5yZW5kZXJBeGlzTGluZSgpO1xyXG5cclxuXHRcdGlmIChheGlzWSlcclxuXHRcdFx0YXhpc1kucmVuZGVyQXhpc0xpbmUoKTtcclxuXHJcblx0XHRpZiAoYXhpc1kyKVxyXG5cdFx0XHRheGlzWTIucmVuZGVyQXhpc0xpbmUoKTtcclxuXHJcblxyXG5cdFx0YXhpc1gucmVuZGVyU3RyaXBMaW5lc09mVGhpY2tuZXNzVHlwZShcInBpeGVsXCIpO1xyXG5cclxuXHRcdGlmIChheGlzWSlcclxuXHRcdFx0YXhpc1kucmVuZGVyU3RyaXBMaW5lc09mVGhpY2tuZXNzVHlwZShcInBpeGVsXCIpO1xyXG5cdFx0aWYgKGF4aXNZMilcclxuXHRcdFx0YXhpc1kyLnJlbmRlclN0cmlwTGluZXNPZlRoaWNrbmVzc1R5cGUoXCJwaXhlbFwiKTtcclxuXHR9XHJcblxyXG59XHJcblxyXG5BeGlzLnByb3RvdHlwZS5yZW5kZXJMYWJlbHNUaWNrc0FuZFRpdGxlID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHR2YXIgc2tpcExhYmVscyA9IGZhbHNlO1xyXG5cdHZhciB0b3RhbExhYmVsV2lkdGggPSAwO1xyXG5cdHZhciB0aHJlc2hvbGRSYXRpbyA9IDE7XHJcblx0dmFyIGxhYmVsQ291bnQgPSAwO1xyXG5cclxuXHR2YXIgaW50ZXJ2YWxJblBpeGVscyA9IHRoaXMuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogdGhpcy5pbnRlcnZhbDtcclxuXHJcblx0aWYgKHRoaXMubGFiZWxBbmdsZSAhPT0gMCAmJiB0aGlzLmxhYmVsQW5nbGUgIT09IDM2MClcclxuXHRcdHRocmVzaG9sZFJhdGlvID0gMS4yO1xyXG5cclxuXHQvL0Rvbid0IHNraXAgbGFiZWxzIHdoZW4gaW50ZXJ2YWwgaXMgZXhwbGljaXRlbHkgc2V0XHJcblx0aWYgKHR5cGVvZiAodGhpcy5fb3B0aW9ucy5pbnRlcnZhbCkgPT09IFwidW5kZWZpbmVkXCIpIHtcclxuXHRcdGlmICh0aGlzLl9wb3NpdGlvbiA9PT0gXCJib3R0b21cIiB8fCB0aGlzLl9wb3NpdGlvbiA9PT0gXCJ0b3BcIikge1xyXG5cclxuXHRcdFx0Ly90aHJlc2hvbGRSYXRpbyA9IC45Oy8vIE1vcmUgc3BhY2UgaXMgcHJlZmVycmVkIGJldHdlZW4gbGFiZWxzIHdoZW4gYXhpcyBpcyBob3Jpem9udGFsbHkgYWxpZ25lZFxyXG5cclxuXHRcdFx0Zm9yIChpID0gMDsgaSA8IHRoaXMuX2xhYmVscy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGxhYmVsID0gdGhpcy5fbGFiZWxzW2ldO1xyXG5cdFx0XHRcdGlmIChsYWJlbC5wb3NpdGlvbiA8IHRoaXMudmlld3BvcnRNaW5pbXVtIHx8IGxhYmVsLnN0cmlwTGluZSkvLyBkb24ndCBjb25zaWRlciBzdHJpcExpbmUncyBsYWJsZVxyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblxyXG5cdFx0XHRcdHZhciB3aWR0aCA9IGxhYmVsLnRleHRCbG9jay53aWR0aCAqIE1hdGguY29zKE1hdGguUEkgLyAxODAgKiB0aGlzLmxhYmVsQW5nbGUpICsgbGFiZWwudGV4dEJsb2NrLmhlaWdodCAqIE1hdGguc2luKE1hdGguUEkgLyAxODAgKiB0aGlzLmxhYmVsQW5nbGUpO1xyXG5cclxuXHRcdFx0XHR0b3RhbExhYmVsV2lkdGggKz0gd2lkdGg7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICh0b3RhbExhYmVsV2lkdGggPiB0aGlzLmxpbmVDb29yZGluYXRlcy53aWR0aCAqIHRocmVzaG9sZFJhdGlvKSB7XHJcblx0XHRcdFx0c2tpcExhYmVscyA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdH0gaWYgKHRoaXMuX3Bvc2l0aW9uID09PSBcImxlZnRcIiB8fCB0aGlzLl9wb3NpdGlvbiA9PT0gXCJyaWdodFwiKSB7XHJcblx0XHRcdGZvciAoaSA9IDA7IGkgPCB0aGlzLl9sYWJlbHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRsYWJlbCA9IHRoaXMuX2xhYmVsc1tpXTtcclxuXHRcdFx0XHRpZiAobGFiZWwucG9zaXRpb24gPCB0aGlzLnZpZXdwb3J0TWluaW11bSB8fCBsYWJlbC5zdHJpcExpbmUpLy8gZG9uJ3QgY29uc2lkZXIgc3RyaXBMaW5lJ3MgbGFibGVcclxuXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cclxuXHRcdFx0XHR2YXIgd2lkdGggPSBsYWJlbC50ZXh0QmxvY2suaGVpZ2h0ICogTWF0aC5jb3MoTWF0aC5QSSAvIDE4MCAqIHRoaXMubGFiZWxBbmdsZSkgKyBsYWJlbC50ZXh0QmxvY2sud2lkdGggKiBNYXRoLnNpbihNYXRoLlBJIC8gMTgwICogdGhpcy5sYWJlbEFuZ2xlKTtcclxuXHJcblx0XHRcdFx0dG90YWxMYWJlbFdpZHRoICs9IHdpZHRoO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAodG90YWxMYWJlbFdpZHRoID4gdGhpcy5saW5lQ29vcmRpbmF0ZXMuaGVpZ2h0ICogdGhyZXNob2xkUmF0aW8pIHtcclxuXHRcdFx0XHRza2lwTGFiZWxzID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0aWYgKHRoaXMuX3Bvc2l0aW9uID09PSBcImJvdHRvbVwiKSB7XHJcblx0XHR2YXIgaSA9IDA7XHJcblxyXG5cdFx0dmFyIGxhYmVsO1xyXG5cdFx0dmFyIHh5O1xyXG5cclxuXHRcdGZvciAoaSA9IDA7IGkgPCB0aGlzLl9sYWJlbHMubGVuZ3RoOyBpKyspIHtcclxuXHJcblx0XHRcdGxhYmVsID0gdGhpcy5fbGFiZWxzW2ldO1xyXG5cdFx0XHRpZiAobGFiZWwucG9zaXRpb24gPCB0aGlzLnZpZXdwb3J0TWluaW11bSB8fCBsYWJlbC5wb3NpdGlvbiA+IHRoaXMudmlld3BvcnRNYXhpbXVtKVxyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cclxuXHRcdFx0eHkgPSB0aGlzLmdldFBpeGVsQ29vcmRpbmF0ZXNPbkF4aXMobGFiZWwucG9zaXRpb24pO1xyXG5cclxuXHRcdFx0aWYgKCh0aGlzLnRpY2tUaGlja25lc3MgJiYgIXRoaXMuX2xhYmVsc1tpXS5zdHJpcExpbmUpIHx8ICh0aGlzLl9sYWJlbHNbaV0uc3RyaXBMaW5lICYmIHRoaXMuX2xhYmVsc1tpXS5zdHJpcExpbmUuX3RoaWNrbmVzc1R5cGUgPT09IFwicGl4ZWxcIikpIHtcclxuXHJcblx0XHRcdFx0aWYgKHRoaXMuX2xhYmVsc1tpXS5zdHJpcExpbmUpIHtcclxuXHRcdFx0XHRcdHN0cmlwTGluZSA9IHRoaXMuX2xhYmVsc1tpXS5zdHJpcExpbmU7XHJcblx0XHRcdFx0XHR0aGlzLmN0eC5saW5lV2lkdGggPSBzdHJpcExpbmUudGhpY2tuZXNzO1xyXG5cdFx0XHRcdFx0dGhpcy5jdHguc3Ryb2tlU3R5bGUgPSBzdHJpcExpbmUuY29sb3I7XHJcblxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHR0aGlzLmN0eC5saW5lV2lkdGggPSB0aGlzLnRpY2tUaGlja25lc3M7XHJcblx0XHRcdFx0XHR0aGlzLmN0eC5zdHJva2VTdHlsZSA9IHRoaXMudGlja0NvbG9yO1xyXG5cdFx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHRcdHZhciB0aWNrWCA9ICh0aGlzLmN0eC5saW5lV2lkdGggJSAyID09PSAxKSA/ICh4eS54IDw8IDApICsgLjUgOiAoeHkueCA8PCAwKTtcclxuXHRcdFx0XHR0aGlzLmN0eC5iZWdpblBhdGgoKTtcclxuXHRcdFx0XHR0aGlzLmN0eC5tb3ZlVG8odGlja1gsIHh5LnkgPDwgMCk7XHJcblx0XHRcdFx0dGhpcy5jdHgubGluZVRvKHRpY2tYLCAoeHkueSArIHRoaXMudGlja0xlbmd0aCkgPDwgMCk7XHJcblx0XHRcdFx0dGhpcy5jdHguc3Ryb2tlKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vRG9uJ3Qgc2tpcCBzdHJpcExpbmUncyBsYWJlbHNcclxuXHRcdFx0aWYgKHNraXBMYWJlbHMgJiYgbGFiZWxDb3VudCsrICUgMiAhPT0gMCAmJiAhdGhpcy5fbGFiZWxzW2ldLnN0cmlwTGluZSlcclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHJcblx0XHRcdGlmIChsYWJlbC50ZXh0QmxvY2suYW5nbGUgPT09IDApIHtcclxuXHRcdFx0XHR4eS54IC09IGxhYmVsLnRleHRCbG9jay53aWR0aCAvIDI7XHJcblx0XHRcdFx0Ly94eS55ICs9IHRoaXMudGlja0xlbmd0aCArIGxhYmVsLnRleHRCbG9jay5oZWlnaHQgLyAyO1xyXG5cdFx0XHRcdHh5LnkgKz0gdGhpcy50aWNrTGVuZ3RoICsgbGFiZWwudGV4dEJsb2NrLmZvbnRTaXplIC8gMjtcclxuXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0eHkueCAtPSAodGhpcy5sYWJlbEFuZ2xlIDwgMCA/IChsYWJlbC50ZXh0QmxvY2sud2lkdGggKiBNYXRoLmNvcyhNYXRoLlBJIC8gMTgwICogdGhpcy5sYWJlbEFuZ2xlKSkgOiAwKTtcclxuXHRcdFx0XHR4eS55ICs9IHRoaXMudGlja0xlbmd0aCArIE1hdGguYWJzKCh0aGlzLmxhYmVsQW5nbGUgPCAwID8gbGFiZWwudGV4dEJsb2NrLndpZHRoICogTWF0aC5zaW4oTWF0aC5QSSAvIDE4MCAqIHRoaXMubGFiZWxBbmdsZSkgLSA1IDogNSkpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGxhYmVsLnRleHRCbG9jay54ID0geHkueDtcclxuXHRcdFx0bGFiZWwudGV4dEJsb2NrLnkgPSB4eS55O1xyXG5cclxuXHRcdFx0bGFiZWwudGV4dEJsb2NrLnJlbmRlcih0cnVlKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy50aXRsZSkge1xyXG5cclxuXHRcdFx0dGhpcy5fdGl0bGVUZXh0QmxvY2sgPSBuZXcgVGV4dEJsb2NrKHRoaXMuY3R4LCB7XHJcblx0XHRcdFx0eDogdGhpcy5saW5lQ29vcmRpbmF0ZXMueDEsLy8gVGhpcyBpcyByZWNhbGN1bGF0ZWQgYWdhaW5cclxuXHRcdFx0XHR5OiB0aGlzLmJvdW5kaW5nUmVjdC55MiAtIHRoaXMudGl0bGVGb250U2l6ZSAtIDUsLy8gVGhpcyBpcyByZWNhbGN1bGF0ZWQgYWdhaW5cclxuXHRcdFx0XHRtYXhXaWR0aDogdGhpcy5saW5lQ29vcmRpbmF0ZXMud2lkdGgsXHJcblx0XHRcdFx0bWF4SGVpZ2h0OiB0aGlzLnRpdGxlRm9udFNpemUgKiAxLjUsXHJcblx0XHRcdFx0YW5nbGU6IDAsXHJcblx0XHRcdFx0dGV4dDogdGhpcy50aXRsZSxcclxuXHRcdFx0XHRob3Jpem9udGFsQWxpZ246IFwiY2VudGVyXCIsLy9sZWZ0LCBjZW50ZXIsIHJpZ2h0XHJcblx0XHRcdFx0Zm9udFNpemU6IHRoaXMudGl0bGVGb250U2l6ZSwvL2luIHBpeGVsc1xyXG5cdFx0XHRcdGZvbnRGYW1pbHk6IHRoaXMudGl0bGVGb250RmFtaWx5LFxyXG5cdFx0XHRcdGZvbnRXZWlnaHQ6IHRoaXMudGl0bGVGb250V2VpZ2h0LCAvL25vcm1hbCwgYm9sZCwgYm9sZGVyLCBsaWdodGVyLFxyXG5cdFx0XHRcdGZvbnRDb2xvcjogdGhpcy50aXRsZUZvbnRDb2xvcixcclxuXHRcdFx0XHRmb250U3R5bGU6IHRoaXMudGl0bGVGb250U3R5bGUsIC8vIG5vcm1hbCwgaXRhbGljLCBvYmxpcXVlXHJcblx0XHRcdFx0dGV4dEJhc2VsaW5lOiBcInRvcFwiXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0dGhpcy5fdGl0bGVUZXh0QmxvY2subWVhc3VyZVRleHQoKTtcclxuXHRcdFx0dGhpcy5fdGl0bGVUZXh0QmxvY2sueCA9IHRoaXMubGluZUNvb3JkaW5hdGVzLngxICsgdGhpcy5saW5lQ29vcmRpbmF0ZXMud2lkdGggLyAyIC0gdGhpcy5fdGl0bGVUZXh0QmxvY2sud2lkdGggLyAyO1xyXG5cdFx0XHR0aGlzLl90aXRsZVRleHRCbG9jay55ID0gdGhpcy5ib3VuZGluZ1JlY3QueTIgLSB0aGlzLl90aXRsZVRleHRCbG9jay5oZWlnaHQgLSAzO1xyXG5cdFx0XHR0aGlzLl90aXRsZVRleHRCbG9jay5yZW5kZXIodHJ1ZSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdGVsc2UgaWYgKHRoaXMuX3Bvc2l0aW9uID09PSBcInRvcFwiKSB7XHJcblx0XHR2YXIgaSA9IDA7XHJcblxyXG5cdFx0dmFyIGxhYmVsO1xyXG5cdFx0dmFyIHh5O1xyXG5cdFx0dmFyIHN0cmlwTGluZTtcclxuXHJcblx0XHRmb3IgKGkgPSAwOyBpIDwgdGhpcy5fbGFiZWxzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGxhYmVsID0gdGhpcy5fbGFiZWxzW2ldO1xyXG5cdFx0XHRpZiAobGFiZWwucG9zaXRpb24gPCB0aGlzLnZpZXdwb3J0TWluaW11bSB8fCBsYWJlbC5wb3NpdGlvbiA+IHRoaXMudmlld3BvcnRNYXhpbXVtKVxyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cclxuXHRcdFx0eHkgPSB0aGlzLmdldFBpeGVsQ29vcmRpbmF0ZXNPbkF4aXMobGFiZWwucG9zaXRpb24pO1xyXG5cclxuXHRcdFx0aWYgKCh0aGlzLnRpY2tUaGlja25lc3MgJiYgIXRoaXMuX2xhYmVsc1tpXS5zdHJpcExpbmUpIHx8ICh0aGlzLl9sYWJlbHNbaV0uc3RyaXBMaW5lICYmIHRoaXMuX2xhYmVsc1tpXS5zdHJpcExpbmUuX3RoaWNrbmVzc1R5cGUgPT09IFwicGl4ZWxcIikpIHtcclxuXHJcblxyXG5cdFx0XHRcdGlmICh0aGlzLl9sYWJlbHNbaV0uc3RyaXBMaW5lKSB7XHJcblx0XHRcdFx0XHRzdHJpcExpbmUgPSB0aGlzLl9sYWJlbHNbaV0uc3RyaXBMaW5lO1xyXG5cclxuXHRcdFx0XHRcdHRoaXMuY3R4LmxpbmVXaWR0aCA9IHN0cmlwTGluZS50aGlja25lc3M7XHJcblx0XHRcdFx0XHR0aGlzLmN0eC5zdHJva2VTdHlsZSA9IHN0cmlwTGluZS5jb2xvcjtcclxuXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHRoaXMuY3R4LmxpbmVXaWR0aCA9IHRoaXMudGlja1RoaWNrbmVzcztcclxuXHRcdFx0XHRcdHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gdGhpcy50aWNrQ29sb3I7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR2YXIgdGlja1ggPSAodGhpcy5jdHgubGluZVdpZHRoICUgMiA9PT0gMSkgPyAoeHkueCA8PCAwKSArIC41IDogKHh5LnggPDwgMCk7XHJcblx0XHRcdFx0dGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcblx0XHRcdFx0dGhpcy5jdHgubW92ZVRvKHRpY2tYLCB4eS55IDw8IDApO1xyXG5cdFx0XHRcdHRoaXMuY3R4LmxpbmVUbyh0aWNrWCwgKHh5LnkgLSB0aGlzLnRpY2tMZW5ndGgpIDw8IDApO1xyXG5cdFx0XHRcdHRoaXMuY3R4LnN0cm9rZSgpO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly9Eb24ndCBza2lwIHN0cmlwTGluZSdzIGxhYmVsc1xyXG5cdFx0XHRpZiAoc2tpcExhYmVscyAmJiBsYWJlbENvdW50KysgJSAyICE9PSAwICYmICF0aGlzLl9sYWJlbHNbaV0uc3RyaXBMaW5lKVxyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cclxuXHRcdFx0aWYgKGxhYmVsLnRleHRCbG9jay5hbmdsZSA9PT0gMCkge1xyXG5cdFx0XHRcdHh5LnggLT0gbGFiZWwudGV4dEJsb2NrLndpZHRoIC8gMjtcclxuXHRcdFx0XHR4eS55IC09IHRoaXMudGlja0xlbmd0aCArIGxhYmVsLnRleHRCbG9jay5oZWlnaHQgLyAyO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHh5LnggLT0gKHRoaXMubGFiZWxBbmdsZSA+IDAgPyAobGFiZWwudGV4dEJsb2NrLndpZHRoICogTWF0aC5jb3MoTWF0aC5QSSAvIDE4MCAqIHRoaXMubGFiZWxBbmdsZSkpIDogMCk7XHJcblx0XHRcdFx0eHkueSAtPSB0aGlzLnRpY2tMZW5ndGggKyBNYXRoLmFicygodGhpcy5sYWJlbEFuZ2xlID4gMCA/IGxhYmVsLnRleHRCbG9jay53aWR0aCAqIE1hdGguc2luKE1hdGguUEkgLyAxODAgKiB0aGlzLmxhYmVsQW5nbGUpICsgNSA6IDUpKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRsYWJlbC50ZXh0QmxvY2sueCA9IHh5Lng7XHJcblx0XHRcdGxhYmVsLnRleHRCbG9jay55ID0geHkueTtcclxuXHJcblx0XHRcdGxhYmVsLnRleHRCbG9jay5yZW5kZXIodHJ1ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMudGl0bGUpIHtcclxuXHJcblx0XHRcdHRoaXMuX3RpdGxlVGV4dEJsb2NrID0gbmV3IFRleHRCbG9jayh0aGlzLmN0eCwge1xyXG5cdFx0XHRcdHg6IHRoaXMubGluZUNvb3JkaW5hdGVzLngxLC8vIFRoaXMgaXMgcmVjYWxjdWxhdGVkIGFnYWluXHJcblx0XHRcdFx0eTogdGhpcy5ib3VuZGluZ1JlY3QueTEgKyAxLFxyXG5cdFx0XHRcdG1heFdpZHRoOiB0aGlzLmxpbmVDb29yZGluYXRlcy53aWR0aCxcclxuXHRcdFx0XHRtYXhIZWlnaHQ6IHRoaXMudGl0bGVGb250U2l6ZSAqIDEuNSxcclxuXHRcdFx0XHRhbmdsZTogMCxcclxuXHRcdFx0XHR0ZXh0OiB0aGlzLnRpdGxlLFxyXG5cdFx0XHRcdGhvcml6b250YWxBbGlnbjogXCJjZW50ZXJcIiwvL2xlZnQsIGNlbnRlciwgcmlnaHRcclxuXHRcdFx0XHRmb250U2l6ZTogdGhpcy50aXRsZUZvbnRTaXplLC8vaW4gcGl4ZWxzXHJcblx0XHRcdFx0Zm9udEZhbWlseTogdGhpcy50aXRsZUZvbnRGYW1pbHksXHJcblx0XHRcdFx0Zm9udFdlaWdodDogdGhpcy50aXRsZUZvbnRXZWlnaHQsIC8vbm9ybWFsLCBib2xkLCBib2xkZXIsIGxpZ2h0ZXIsXHJcblx0XHRcdFx0Zm9udENvbG9yOiB0aGlzLnRpdGxlRm9udENvbG9yLFxyXG5cdFx0XHRcdGZvbnRTdHlsZTogdGhpcy50aXRsZUZvbnRTdHlsZSwgLy8gbm9ybWFsLCBpdGFsaWMsIG9ibGlxdWVcclxuXHRcdFx0XHR0ZXh0QmFzZWxpbmU6IFwidG9wXCJcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHR0aGlzLl90aXRsZVRleHRCbG9jay5tZWFzdXJlVGV4dCgpO1xyXG5cdFx0XHR0aGlzLl90aXRsZVRleHRCbG9jay54ID0gdGhpcy5saW5lQ29vcmRpbmF0ZXMueDEgKyB0aGlzLmxpbmVDb29yZGluYXRlcy53aWR0aCAvIDIgLSB0aGlzLl90aXRsZVRleHRCbG9jay53aWR0aCAvIDI7XHJcblx0XHRcdHRoaXMuX3RpdGxlVGV4dEJsb2NrLnJlbmRlcih0cnVlKTtcclxuXHRcdH1cclxuXHR9XHJcblx0ZWxzZSBpZiAodGhpcy5fcG9zaXRpb24gPT09IFwibGVmdFwiKSB7XHJcblxyXG5cclxuXHRcdHZhciBsYWJlbDtcclxuXHRcdHZhciB4eTtcclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fbGFiZWxzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGxhYmVsID0gdGhpcy5fbGFiZWxzW2ldO1xyXG5cdFx0XHRpZiAobGFiZWwucG9zaXRpb24gPCB0aGlzLnZpZXdwb3J0TWluaW11bSB8fCBsYWJlbC5wb3NpdGlvbiA+IHRoaXMudmlld3BvcnRNYXhpbXVtKVxyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cclxuXHRcdFx0eHkgPSB0aGlzLmdldFBpeGVsQ29vcmRpbmF0ZXNPbkF4aXMobGFiZWwucG9zaXRpb24pO1xyXG5cclxuXHRcdFx0aWYgKCh0aGlzLnRpY2tUaGlja25lc3MgJiYgIXRoaXMuX2xhYmVsc1tpXS5zdHJpcExpbmUpIHx8ICh0aGlzLl9sYWJlbHNbaV0uc3RyaXBMaW5lICYmIHRoaXMuX2xhYmVsc1tpXS5zdHJpcExpbmUuX3RoaWNrbmVzc1R5cGUgPT09IFwicGl4ZWxcIikpIHtcclxuXHJcblx0XHRcdFx0aWYgKHRoaXMuX2xhYmVsc1tpXS5zdHJpcExpbmUpIHtcclxuXHRcdFx0XHRcdHN0cmlwTGluZSA9IHRoaXMuX2xhYmVsc1tpXS5zdHJpcExpbmU7XHJcblxyXG5cdFx0XHRcdFx0dGhpcy5jdHgubGluZVdpZHRoID0gc3RyaXBMaW5lLnRoaWNrbmVzcztcclxuXHRcdFx0XHRcdHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gc3RyaXBMaW5lLmNvbG9yO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHR0aGlzLmN0eC5saW5lV2lkdGggPSB0aGlzLnRpY2tUaGlja25lc3M7XHJcblx0XHRcdFx0XHR0aGlzLmN0eC5zdHJva2VTdHlsZSA9IHRoaXMudGlja0NvbG9yO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0dmFyIHRpY2tZID0gKHRoaXMuY3R4LmxpbmVXaWR0aCAlIDIgPT09IDEpID8gKHh5LnkgPDwgMCkgKyAuNSA6ICh4eS55IDw8IDApO1xyXG5cdFx0XHRcdHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xyXG5cdFx0XHRcdHRoaXMuY3R4Lm1vdmVUbyh4eS54IDw8IDAsIHRpY2tZKTtcclxuXHRcdFx0XHR0aGlzLmN0eC5saW5lVG8oKHh5LnggLSB0aGlzLnRpY2tMZW5ndGgpIDw8IDAsIHRpY2tZKTtcclxuXHRcdFx0XHR0aGlzLmN0eC5zdHJva2UoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly9Eb24ndCBza2lwIHN0cmlwTGluZSdzIGxhYmVsc1xyXG5cdFx0XHRpZiAoc2tpcExhYmVscyAmJiBsYWJlbENvdW50KysgJSAyICE9PSAwICYmICF0aGlzLl9sYWJlbHNbaV0uc3RyaXBMaW5lKVxyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cclxuXHRcdFx0bGFiZWwudGV4dEJsb2NrLnggPSB4eS54IC0gKGxhYmVsLnRleHRCbG9jay53aWR0aCAqIE1hdGguY29zKE1hdGguUEkgLyAxODAgKiB0aGlzLmxhYmVsQW5nbGUpKSAtIHRoaXMudGlja0xlbmd0aCAtIDU7XHJcblxyXG5cdFx0XHRpZiAodGhpcy5sYWJlbEFuZ2xlID09PSAwKSB7XHJcblx0XHRcdFx0bGFiZWwudGV4dEJsb2NrLnkgPSB4eS55O1xyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0XHRsYWJlbC50ZXh0QmxvY2sueSA9IHh5LnkgLSAobGFiZWwudGV4dEJsb2NrLndpZHRoICogTWF0aC5zaW4oTWF0aC5QSSAvIDE4MCAqIHRoaXMubGFiZWxBbmdsZSkpO1xyXG5cclxuXHRcdFx0bGFiZWwudGV4dEJsb2NrLnJlbmRlcih0cnVlKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy50aXRsZSkge1xyXG5cclxuXHRcdFx0dGhpcy5fdGl0bGVUZXh0QmxvY2sgPSBuZXcgVGV4dEJsb2NrKHRoaXMuY3R4LCB7XHJcblx0XHRcdFx0eDogdGhpcy5ib3VuZGluZ1JlY3QueDEgKyAxLFxyXG5cdFx0XHRcdHk6IHRoaXMubGluZUNvb3JkaW5hdGVzLnkyLFxyXG5cdFx0XHRcdG1heFdpZHRoOiB0aGlzLmxpbmVDb29yZGluYXRlcy5oZWlnaHQsXHJcblx0XHRcdFx0bWF4SGVpZ2h0OiB0aGlzLnRpdGxlRm9udFNpemUgKiAxLjUsXHJcblx0XHRcdFx0YW5nbGU6IC05MCxcclxuXHRcdFx0XHR0ZXh0OiB0aGlzLnRpdGxlLFxyXG5cdFx0XHRcdGhvcml6b250YWxBbGlnbjogXCJjZW50ZXJcIiwvL2xlZnQsIGNlbnRlciwgcmlnaHRcclxuXHRcdFx0XHRmb250U2l6ZTogdGhpcy50aXRsZUZvbnRTaXplLC8vaW4gcGl4ZWxzXHJcblx0XHRcdFx0Zm9udEZhbWlseTogdGhpcy50aXRsZUZvbnRGYW1pbHksXHJcblx0XHRcdFx0Zm9udFdlaWdodDogdGhpcy50aXRsZUZvbnRXZWlnaHQsIC8vbm9ybWFsLCBib2xkLCBib2xkZXIsIGxpZ2h0ZXIsXHJcblx0XHRcdFx0Zm9udENvbG9yOiB0aGlzLnRpdGxlRm9udENvbG9yLFxyXG5cdFx0XHRcdGZvbnRTdHlsZTogdGhpcy50aXRsZUZvbnRTdHlsZSwgLy8gbm9ybWFsLCBpdGFsaWMsIG9ibGlxdWVcclxuXHRcdFx0XHR0ZXh0QmFzZWxpbmU6IFwidG9wXCJcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHR2YXIgc2l6ZSA9IHRoaXMuX3RpdGxlVGV4dEJsb2NrLm1lYXN1cmVUZXh0KCk7XHJcblxyXG5cdFx0XHQvL3RoaXMuX3RpdGxlVGV4dEJsb2NrLnggLT0gNDtcclxuXHJcblx0XHRcdHRoaXMuX3RpdGxlVGV4dEJsb2NrLnkgPSAodGhpcy5saW5lQ29vcmRpbmF0ZXMuaGVpZ2h0IC8gMiArIHRoaXMuX3RpdGxlVGV4dEJsb2NrLndpZHRoIC8gMiArIHRoaXMubGluZUNvb3JkaW5hdGVzLnkxKTtcclxuXHRcdFx0dGhpcy5fdGl0bGVUZXh0QmxvY2sucmVuZGVyKHRydWUpO1xyXG5cclxuXHRcdFx0Ly9pZiAoaXNEZWJ1Z01vZGUpIHtcclxuXHRcdFx0Ly9cdHdpbmRvdy5jb25zb2xlLmxvZyhcInRpdGxlRm9udFNpemU6IFwiICsgdGhpcy50aXRsZUZvbnRTaXplICsgXCI7IHdpZHRoOiBcIiArIHNpemUud2lkdGggKyBcIjsgaGVpZ2h0OiBcIiArIHNpemUuaGVpZ2h0KTtcclxuXHRcdFx0Ly9cdHdpbmRvdy5jb25zb2xlLmxvZyhcInRoaXMuYm91bmRpbmdSZWN0LngxOiBcIiArIHRoaXMuYm91bmRpbmdSZWN0LngxKTtcclxuXHJcblx0XHRcdC8vXHQvL3RoaXMuY3R4LnJlY3QodGhpcy5fdGl0bGVUZXh0QmxvY2sueCwgdGhpcy5fdGl0bGVUZXh0QmxvY2sueSwgdGhpcy5fdGl0bGVUZXh0QmxvY2suaGVpZ2h0LCAtdGhpcy5fdGl0bGVUZXh0QmxvY2sud2lkdGgpO1xyXG5cdFx0XHQvL1x0Ly90aGlzLmN0eC5zdHJva2UoKTtcclxuXHJcblx0XHRcdC8vfVxyXG5cclxuXHRcdH1cclxuXHR9XHJcblx0ZWxzZSBpZiAodGhpcy5fcG9zaXRpb24gPT09IFwicmlnaHRcIikge1xyXG5cclxuXHJcblx0XHR2YXIgbGFiZWw7XHJcblx0XHR2YXIgeHk7XHJcblxyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9sYWJlbHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0bGFiZWwgPSB0aGlzLl9sYWJlbHNbaV07XHJcblx0XHRcdGlmIChsYWJlbC5wb3NpdGlvbiA8IHRoaXMudmlld3BvcnRNaW5pbXVtIHx8IGxhYmVsLnBvc2l0aW9uID4gdGhpcy52aWV3cG9ydE1heGltdW0pXHJcblx0XHRcdFx0Y29udGludWU7XHJcblxyXG5cdFx0XHR4eSA9IHRoaXMuZ2V0UGl4ZWxDb29yZGluYXRlc09uQXhpcyhsYWJlbC5wb3NpdGlvbik7XHJcblxyXG5cdFx0XHRpZiAoKHRoaXMudGlja1RoaWNrbmVzcyAmJiAhdGhpcy5fbGFiZWxzW2ldLnN0cmlwTGluZSkgfHwgKHRoaXMuX2xhYmVsc1tpXS5zdHJpcExpbmUgJiYgdGhpcy5fbGFiZWxzW2ldLnN0cmlwTGluZS5fdGhpY2tuZXNzVHlwZSA9PT0gXCJwaXhlbFwiKSkge1xyXG5cclxuXHRcdFx0XHRpZiAodGhpcy5fbGFiZWxzW2ldLnN0cmlwTGluZSkge1xyXG5cdFx0XHRcdFx0c3RyaXBMaW5lID0gdGhpcy5fbGFiZWxzW2ldLnN0cmlwTGluZTtcclxuXHJcblx0XHRcdFx0XHR0aGlzLmN0eC5saW5lV2lkdGggPSBzdHJpcExpbmUudGhpY2tuZXNzO1xyXG5cdFx0XHRcdFx0dGhpcy5jdHguc3Ryb2tlU3R5bGUgPSBzdHJpcExpbmUuY29sb3I7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHRoaXMuY3R4LmxpbmVXaWR0aCA9IHRoaXMudGlja1RoaWNrbmVzcztcclxuXHRcdFx0XHRcdHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gdGhpcy50aWNrQ29sb3I7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR2YXIgdGlja1kgPSAodGhpcy5jdHgubGluZVdpZHRoICUgMiA9PT0gMSkgPyAoeHkueSA8PCAwKSArIC41IDogKHh5LnkgPDwgMCk7XHJcblx0XHRcdFx0dGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcblx0XHRcdFx0dGhpcy5jdHgubW92ZVRvKHh5LnggPDwgMCwgdGlja1kpO1xyXG5cdFx0XHRcdHRoaXMuY3R4LmxpbmVUbygoeHkueCArIHRoaXMudGlja0xlbmd0aCkgPDwgMCwgdGlja1kpO1xyXG5cdFx0XHRcdHRoaXMuY3R4LnN0cm9rZSgpO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly9Eb24ndCBza2lwIHN0cmlwTGluZSdzIGxhYmVsc1xyXG5cdFx0XHRpZiAoc2tpcExhYmVscyAmJiBsYWJlbENvdW50KysgJSAyICE9PSAwICYmICF0aGlzLl9sYWJlbHNbaV0uc3RyaXBMaW5lKVxyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cclxuXHRcdFx0bGFiZWwudGV4dEJsb2NrLnggPSB4eS54ICsgdGhpcy50aWNrTGVuZ3RoICsgNTtcclxuXHRcdFx0Ly9sYWJlbC50ZXh0QmxvY2sueSA9IHh5LnkgLSAobGFiZWwudGV4dEJsb2NrLndpZHRoICogTWF0aC5zaW4oTWF0aC5QSSAvIDE4MCAqIHRoaXMubGFiZWxBbmdsZSkpO1xyXG5cdFx0XHRpZiAodGhpcy5sYWJlbEFuZ2xlID09PSAwKSB7XHJcblx0XHRcdFx0bGFiZWwudGV4dEJsb2NrLnkgPSB4eS55O1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRsYWJlbC50ZXh0QmxvY2sueSA9IHh5Lnk7XHJcblxyXG5cdFx0XHRsYWJlbC50ZXh0QmxvY2sucmVuZGVyKHRydWUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLnRpdGxlKSB7XHJcblxyXG5cdFx0XHR0aGlzLl90aXRsZVRleHRCbG9jayA9IG5ldyBUZXh0QmxvY2sodGhpcy5jdHgsIHtcclxuXHRcdFx0XHR4OiB0aGlzLmJvdW5kaW5nUmVjdC54MiAtIDEsXHJcblx0XHRcdFx0eTogdGhpcy5saW5lQ29vcmRpbmF0ZXMueTIsXHJcblx0XHRcdFx0bWF4V2lkdGg6IHRoaXMubGluZUNvb3JkaW5hdGVzLmhlaWdodCxcclxuXHRcdFx0XHRtYXhIZWlnaHQ6IHRoaXMudGl0bGVGb250U2l6ZSAqIDEuNSxcclxuXHRcdFx0XHRhbmdsZTogOTAsXHJcblx0XHRcdFx0dGV4dDogdGhpcy50aXRsZSxcclxuXHRcdFx0XHRob3Jpem9udGFsQWxpZ246IFwiY2VudGVyXCIsLy9sZWZ0LCBjZW50ZXIsIHJpZ2h0XHJcblx0XHRcdFx0Zm9udFNpemU6IHRoaXMudGl0bGVGb250U2l6ZSwvL2luIHBpeGVsc1xyXG5cdFx0XHRcdGZvbnRGYW1pbHk6IHRoaXMudGl0bGVGb250RmFtaWx5LFxyXG5cdFx0XHRcdGZvbnRXZWlnaHQ6IHRoaXMudGl0bGVGb250V2VpZ2h0LCAvL25vcm1hbCwgYm9sZCwgYm9sZGVyLCBsaWdodGVyLFxyXG5cdFx0XHRcdGZvbnRDb2xvcjogdGhpcy50aXRsZUZvbnRDb2xvcixcclxuXHRcdFx0XHRmb250U3R5bGU6IHRoaXMudGl0bGVGb250U3R5bGUsIC8vIG5vcm1hbCwgaXRhbGljLCBvYmxpcXVlXHJcblx0XHRcdFx0dGV4dEJhc2VsaW5lOiBcInRvcFwiXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0dGhpcy5fdGl0bGVUZXh0QmxvY2subWVhc3VyZVRleHQoKTtcclxuXHRcdFx0dGhpcy5fdGl0bGVUZXh0QmxvY2sueSA9ICh0aGlzLmxpbmVDb29yZGluYXRlcy5oZWlnaHQgLyAyIC0gdGhpcy5fdGl0bGVUZXh0QmxvY2sud2lkdGggLyAyICsgdGhpcy5saW5lQ29vcmRpbmF0ZXMueTEpO1xyXG5cdFx0XHR0aGlzLl90aXRsZVRleHRCbG9jay5yZW5kZXIodHJ1ZSk7XHJcblxyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuQXhpcy5wcm90b3R5cGUucmVuZGVySW50ZXJsYWNlZENvbG9ycyA9IGZ1bmN0aW9uICgpIHtcclxuXHR2YXIgY3R4ID0gdGhpcy5jaGFydC5wbG90QXJlYS5jdHg7XHJcblx0Ly9yZXR1cm47XHJcblxyXG5cdHZhciBpbnRlcmxhY2VkR3JpZFN0YXJ0UG9pbnQ7XHJcblx0dmFyIGludGVybGFjZWRHcmlkRW5kUG9pbnQ7XHJcblx0dmFyIHBsb3RBcmVhQ29vcmRpbmF0ZXMgPSB0aGlzLmNoYXJ0LnBsb3RBcmVhO1xyXG5cdHZhciBpID0gMCwgcmVuZGVySW50ZXJsYWNlZEdyaWQgPSB0cnVlO1xyXG5cclxuXHRpZiAoKHRoaXMuX3Bvc2l0aW9uID09PSBcImJvdHRvbVwiIHx8IHRoaXMuX3Bvc2l0aW9uID09PSBcInRvcFwiKSAmJiB0aGlzLmludGVybGFjZWRDb2xvcikge1xyXG5cclxuXHRcdGN0eC5maWxsU3R5bGUgPSB0aGlzLmludGVybGFjZWRDb2xvcjtcclxuXHJcblx0XHRmb3IgKGkgPSAwOyBpIDwgdGhpcy5fbGFiZWxzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG5cdFx0XHRpZiAodGhpcy5fbGFiZWxzW2ldLnN0cmlwTGluZSlcclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHJcblx0XHRcdGlmIChyZW5kZXJJbnRlcmxhY2VkR3JpZCkgey8vU28gdGhhdCB0aGUgaW50ZXJsYWNlZCBjb2xvciBhbHRlcm5hdGVzXHJcblx0XHRcdFx0aW50ZXJsYWNlZEdyaWRTdGFydFBvaW50ID0gdGhpcy5nZXRQaXhlbENvb3JkaW5hdGVzT25BeGlzKHRoaXMuX2xhYmVsc1tpXS5wb3NpdGlvbik7XHJcblxyXG5cdFx0XHRcdGlmIChpICsgMSA+PSB0aGlzLl9sYWJlbHMubGVuZ3RoIC0gMSlcclxuXHRcdFx0XHRcdGludGVybGFjZWRHcmlkRW5kUG9pbnQgPSB0aGlzLmdldFBpeGVsQ29vcmRpbmF0ZXNPbkF4aXModGhpcy52aWV3cG9ydE1heGltdW0pO1xyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdGludGVybGFjZWRHcmlkRW5kUG9pbnQgPSB0aGlzLmdldFBpeGVsQ29vcmRpbmF0ZXNPbkF4aXModGhpcy5fbGFiZWxzW2kgKyAxXS5wb3NpdGlvbik7XHJcblxyXG5cdFx0XHRcdGN0eC5maWxsUmVjdChpbnRlcmxhY2VkR3JpZFN0YXJ0UG9pbnQueCwgcGxvdEFyZWFDb29yZGluYXRlcy55MSwgTWF0aC5hYnMoaW50ZXJsYWNlZEdyaWRFbmRQb2ludC54IC0gaW50ZXJsYWNlZEdyaWRTdGFydFBvaW50LngpLCBNYXRoLmFicyhwbG90QXJlYUNvb3JkaW5hdGVzLnkxIC0gcGxvdEFyZWFDb29yZGluYXRlcy55MikpO1xyXG5cdFx0XHRcdHJlbmRlckludGVybGFjZWRHcmlkID0gZmFsc2U7XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdHJlbmRlckludGVybGFjZWRHcmlkID0gdHJ1ZTtcclxuXHJcblx0XHR9XHJcblxyXG5cdH0gZWxzZSBpZiAoKHRoaXMuX3Bvc2l0aW9uID09PSBcImxlZnRcIiB8fCB0aGlzLl9wb3NpdGlvbiA9PT0gXCJyaWdodFwiKSAmJiB0aGlzLmludGVybGFjZWRDb2xvcikge1xyXG5cclxuXHRcdGN0eC5maWxsU3R5bGUgPSB0aGlzLmludGVybGFjZWRDb2xvcjtcclxuXHJcblx0XHRmb3IgKGkgPSAwOyBpIDwgdGhpcy5fbGFiZWxzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHQgICAgICAgIGlmICh0aGlzLl9sYWJlbHNbaV0uc3RyaXBMaW5lKVxyXG5cdFx0ICAgICAgICAgICAgY29udGludWU7XHJcblxyXG5cdFx0XHRpZiAocmVuZGVySW50ZXJsYWNlZEdyaWQpIHsvL1NvIHRoYXQgdGhlIGludGVybGFjZWQgY29sb3IgYWx0ZXJuYXRlc1xyXG5cclxuXHRcdFx0XHRpbnRlcmxhY2VkR3JpZEVuZFBvaW50ID0gdGhpcy5nZXRQaXhlbENvb3JkaW5hdGVzT25BeGlzKHRoaXMuX2xhYmVsc1tpXS5wb3NpdGlvbik7XHJcblxyXG5cdFx0XHRcdGlmIChpICsgMSA+PSB0aGlzLl9sYWJlbHMubGVuZ3RoIC0gMSlcclxuXHRcdFx0XHRcdGludGVybGFjZWRHcmlkU3RhcnRQb2ludCA9IHRoaXMuZ2V0UGl4ZWxDb29yZGluYXRlc09uQXhpcyh0aGlzLnZpZXdwb3J0TWF4aW11bSk7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0aW50ZXJsYWNlZEdyaWRTdGFydFBvaW50ID0gdGhpcy5nZXRQaXhlbENvb3JkaW5hdGVzT25BeGlzKHRoaXMuX2xhYmVsc1tpICsgMV0ucG9zaXRpb24pO1xyXG5cclxuXHRcdFx0XHRjdHguZmlsbFJlY3QocGxvdEFyZWFDb29yZGluYXRlcy54MSwgaW50ZXJsYWNlZEdyaWRTdGFydFBvaW50LnksIE1hdGguYWJzKHBsb3RBcmVhQ29vcmRpbmF0ZXMueDEgLSBwbG90QXJlYUNvb3JkaW5hdGVzLngyKSwgTWF0aC5hYnMoaW50ZXJsYWNlZEdyaWRTdGFydFBvaW50LnkgLSBpbnRlcmxhY2VkR3JpZEVuZFBvaW50LnkpKTtcclxuXHRcdFx0XHRyZW5kZXJJbnRlcmxhY2VkR3JpZCA9IGZhbHNlO1xyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0XHRyZW5kZXJJbnRlcmxhY2VkR3JpZCA9IHRydWU7XHJcblx0XHR9XHJcblx0XHQgICAgLy90aHJvdyBcIjEyM1wiO1xyXG5cdH1cclxuXHJcblx0Y3R4LmJlZ2luUGF0aCgpO1xyXG59XHJcblxyXG4vL1JlbmRlcnMgc3RyaXBMaW5lcyBvZiBnaXZlbiB0aGlja25lc3MgdHlwZS5cclxuQXhpcy5wcm90b3R5cGUucmVuZGVyU3RyaXBMaW5lc09mVGhpY2tuZXNzVHlwZSA9IGZ1bmN0aW9uICh0aGlja25lc3NUeXBlKSB7XHJcblxyXG5cdGlmICghKHRoaXMuc3RyaXBMaW5lcyAmJiB0aGlzLnN0cmlwTGluZXMubGVuZ3RoID4gMCkgfHwgIXRoaWNrbmVzc1R5cGUpXHJcblx0XHRyZXR1cm47XHJcblxyXG5cdHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG5cdHZhciBpID0gMDtcclxuXHRmb3IgKGkgPSAwOyBpIDwgdGhpcy5zdHJpcExpbmVzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG5cdFx0dmFyIHN0cmlwTGluZSA9IHRoaXMuc3RyaXBMaW5lc1tpXTtcclxuXHJcblx0XHRpZiAoc3RyaXBMaW5lLl90aGlja25lc3NUeXBlICE9PSB0aGlja25lc3NUeXBlKVxyXG5cdFx0XHRjb250aW51ZTtcclxuXHJcblxyXG5cdFx0Ly9TaG91bGQgYmUgc2tpcHBlZCBvbmx5IGlmIHRoaWNrbmVzc1R5cGUgaXMgXCJwaXhlbFwiLiBJZiBpdCBpcyBcInZhbHVlXCIgdGhlbiBjbGlwcGluZyBpcyBhdXRvbWF0aWNhbGx5IGFwcGxpZWQgYmVmb3JlIGNhbGxpbmcuXHJcblx0XHRpZiAodGhpY2tuZXNzVHlwZSA9PT0gXCJwaXhlbFwiICYmIChzdHJpcExpbmUudmFsdWUgPCB0aGlzLnZpZXdwb3J0TWluaW11bSB8fCBzdHJpcExpbmUudmFsdWUgPiB0aGlzLnZpZXdwb3J0TWF4aW11bSkpXHJcblx0XHRcdGNvbnRpbnVlO1xyXG5cclxuXHRcdGlmIChzdHJpcExpbmUuc2hvd09uVG9wKSB7XHJcblx0XHRcdHRoaXMuY2hhcnQuYWRkRXZlbnRMaXN0ZW5lcihcImRhdGFBbmltYXRpb25JdGVyYXRpb25FbmRcIiwgc3RyaXBMaW5lLnJlbmRlciwgc3RyaXBMaW5lKTtcclxuXHRcdH1cclxuXHRcdGVsc2VcclxuXHRcdFx0c3RyaXBMaW5lLnJlbmRlcigpO1xyXG5cdH1cclxufTtcclxuXHJcbkF4aXMucHJvdG90eXBlLnJlbmRlckdyaWQgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdGlmICghKHRoaXMuZ3JpZFRoaWNrbmVzcyAmJiB0aGlzLmdyaWRUaGlja25lc3MgPiAwKSlcclxuXHRcdHJldHVybjtcclxuXHJcblx0Ly92YXIgY3R4ID0gdGhpcy5jaGFydC5wbG90QXJlYS5jdHg7XHJcblx0dmFyIGN0eCA9IHRoaXMuY2hhcnQuY3R4O1xyXG5cclxuXHR2YXIgeHk7XHJcblx0dmFyIHBsb3RBcmVhQ29vcmRpbmF0ZXMgPSB0aGlzLmNoYXJ0LnBsb3RBcmVhO1xyXG5cdHZhciBzdHJpcExpbmU7XHJcblx0dmFyIHRlbXBMaW5lV2lkdGgsIHRlbXBTdHJva2VTdHlsZTtcclxuXHQvL3JldHVybjtcclxuXHJcblx0Y3R4LmxpbmVXaWR0aCA9IHRoaXMuZ3JpZFRoaWNrbmVzcztcclxuXHRjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmdyaWRDb2xvcjtcclxuXHJcblx0aWYgKGN0eC5zZXRMaW5lRGFzaCkge1xyXG5cdFx0Y3R4LnNldExpbmVEYXNoKGdldExpbmVEYXNoQXJyYXkodGhpcy5ncmlkRGFzaFR5cGUsIHRoaXMuZ3JpZFRoaWNrbmVzcykpO1xyXG5cdH1cclxuXHJcblxyXG5cdGlmICh0aGlzLl9wb3NpdGlvbiA9PT0gXCJib3R0b21cIiB8fCB0aGlzLl9wb3NpdGlvbiA9PT0gXCJ0b3BcIikge1xyXG5cclxuXHRcdGZvciAoaSA9IDA7IGkgPCB0aGlzLl9sYWJlbHMubGVuZ3RoICYmICF0aGlzLl9sYWJlbHNbaV0uc3RyaXBMaW5lOyBpKyspIHtcclxuXHJcblx0XHRcdGlmICh0aGlzLl9sYWJlbHNbaV0ucG9zaXRpb24gPCB0aGlzLnZpZXdwb3J0TWluaW11bSB8fCB0aGlzLl9sYWJlbHNbaV0ucG9zaXRpb24gPiB0aGlzLnZpZXdwb3J0TWF4aW11bSlcclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHJcblx0XHRcdGN0eC5iZWdpblBhdGgoKTtcclxuXHJcblx0XHRcdHh5ID0gdGhpcy5nZXRQaXhlbENvb3JkaW5hdGVzT25BeGlzKHRoaXMuX2xhYmVsc1tpXS5wb3NpdGlvbik7XHJcblxyXG5cdFx0XHR2YXIgZ3JpZFggPSAoY3R4LmxpbmVXaWR0aCAlIDIgPT09IDEpID8gKHh5LnggPDwgMCkgKyAuNSA6ICh4eS54IDw8IDApO1xyXG5cclxuXHRcdFx0Y3R4Lm1vdmVUbyhncmlkWCwgcGxvdEFyZWFDb29yZGluYXRlcy55MSA8PCAwKTtcclxuXHRcdFx0Y3R4LmxpbmVUbyhncmlkWCwgcGxvdEFyZWFDb29yZGluYXRlcy55MiA8PCAwKTtcclxuXHJcblx0XHRcdGN0eC5zdHJva2UoKTtcclxuXHRcdH1cclxuXHJcblx0fVxyXG5cdGVsc2UgaWYgKHRoaXMuX3Bvc2l0aW9uID09PSBcImxlZnRcIiB8fCB0aGlzLl9wb3NpdGlvbiA9PT0gXCJyaWdodFwiKSB7XHJcblxyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9sYWJlbHMubGVuZ3RoICYmICF0aGlzLl9sYWJlbHNbaV0uc3RyaXBMaW5lOyBpKyspIHtcclxuXHJcblx0XHRcdGlmIChpID09PSAwICYmIHRoaXMudHlwZSA9PT0gXCJheGlzWVwiICYmIHRoaXMuY2hhcnQuYXhpc1ggJiYgdGhpcy5jaGFydC5heGlzWC5saW5lVGhpY2tuZXNzKVxyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cclxuXHRcdFx0aWYgKHRoaXMuX2xhYmVsc1tpXS5wb3NpdGlvbiA8IHRoaXMudmlld3BvcnRNaW5pbXVtIHx8IHRoaXMuX2xhYmVsc1tpXS5wb3NpdGlvbiA+IHRoaXMudmlld3BvcnRNYXhpbXVtKVxyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cclxuXHRcdFx0Y3R4LmJlZ2luUGF0aCgpO1xyXG5cclxuXHRcdFx0eHkgPSB0aGlzLmdldFBpeGVsQ29vcmRpbmF0ZXNPbkF4aXModGhpcy5fbGFiZWxzW2ldLnBvc2l0aW9uKTtcclxuXHJcblx0XHRcdHZhciBncmlkWSA9IChjdHgubGluZVdpZHRoICUgMiA9PT0gMSkgPyAoeHkueSA8PCAwKSArIC41IDogKHh5LnkgPDwgMCk7XHJcblxyXG5cdFx0XHRjdHgubW92ZVRvKHBsb3RBcmVhQ29vcmRpbmF0ZXMueDEgPDwgMCwgZ3JpZFkpO1xyXG5cdFx0XHRjdHgubGluZVRvKHBsb3RBcmVhQ29vcmRpbmF0ZXMueDIgPDwgMCwgZ3JpZFkpO1xyXG5cclxuXHRcdFx0Y3R4LnN0cm9rZSgpO1xyXG5cdFx0fVxyXG5cclxuXHR9XHJcbn1cclxuXHJcbkF4aXMucHJvdG90eXBlLnJlbmRlckF4aXNMaW5lID0gZnVuY3Rpb24gKCkge1xyXG5cdC8vdmFyIGN0eCA9IHRoaXMuY2hhcnQucGxvdEFyZWEuY3R4O1xyXG5cdHZhciBjdHggPSB0aGlzLmNoYXJ0LmN0eDtcclxuXHJcblx0aWYgKHRoaXMuX3Bvc2l0aW9uID09PSBcImJvdHRvbVwiIHx8IHRoaXMuX3Bvc2l0aW9uID09PSBcInRvcFwiKSB7XHJcblx0XHRpZiAodGhpcy5saW5lVGhpY2tuZXNzKSB7XHJcblx0XHRcdGN0eC5saW5lV2lkdGggPSB0aGlzLmxpbmVUaGlja25lc3M7XHJcblx0XHRcdGN0eC5zdHJva2VTdHlsZSA9IHRoaXMubGluZUNvbG9yID8gdGhpcy5saW5lQ29sb3IgOiBcImJsYWNrXCI7XHJcblxyXG5cdFx0XHRpZiAoY3R4LnNldExpbmVEYXNoKSB7XHJcblx0XHRcdFx0Y3R4LnNldExpbmVEYXNoKGdldExpbmVEYXNoQXJyYXkodGhpcy5saW5lRGFzaFR5cGUsIHRoaXMubGluZVRoaWNrbmVzcykpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2YXIgbGluZVkgPSAodGhpcy5saW5lVGhpY2tuZXNzICUgMiA9PT0gMSkgPyAodGhpcy5saW5lQ29vcmRpbmF0ZXMueTEgPDwgMCkgKyAuNSA6ICh0aGlzLmxpbmVDb29yZGluYXRlcy55MSA8PCAwKTtcclxuXHJcblx0XHRcdGN0eC5iZWdpblBhdGgoKTtcclxuXHRcdFx0Y3R4Lm1vdmVUbyh0aGlzLmxpbmVDb29yZGluYXRlcy54MSwgbGluZVkpO1xyXG5cdFx0XHRjdHgubGluZVRvKHRoaXMubGluZUNvb3JkaW5hdGVzLngyLCBsaW5lWSk7XHJcblx0XHRcdGN0eC5zdHJva2UoKTtcclxuXHRcdH1cclxuXHJcblx0fSBlbHNlIGlmICh0aGlzLl9wb3NpdGlvbiA9PT0gXCJsZWZ0XCIgfHwgdGhpcy5fcG9zaXRpb24gPT09IFwicmlnaHRcIikge1xyXG5cdFx0aWYgKHRoaXMubGluZVRoaWNrbmVzcykge1xyXG5cdFx0XHRjdHgubGluZVdpZHRoID0gdGhpcy5saW5lVGhpY2tuZXNzO1xyXG5cdFx0XHRjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmxpbmVDb2xvcjtcclxuXHJcblx0XHRcdGlmIChjdHguc2V0TGluZURhc2gpIHtcclxuXHRcdFx0XHRjdHguc2V0TGluZURhc2goZ2V0TGluZURhc2hBcnJheSh0aGlzLmxpbmVEYXNoVHlwZSwgdGhpcy5saW5lVGhpY2tuZXNzKSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZhciBsaW5lWCA9ICh0aGlzLmxpbmVUaGlja25lc3MgJSAyID09PSAxKSA/ICh0aGlzLmxpbmVDb29yZGluYXRlcy54MSA8PCAwKSArIC41IDogKHRoaXMubGluZUNvb3JkaW5hdGVzLngxIDw8IDApO1xyXG5cclxuXHRcdFx0Y3R4LmJlZ2luUGF0aCgpO1xyXG5cdFx0XHRjdHgubW92ZVRvKGxpbmVYLCB0aGlzLmxpbmVDb29yZGluYXRlcy55MSk7XHJcblx0XHRcdGN0eC5saW5lVG8obGluZVgsIHRoaXMubGluZUNvb3JkaW5hdGVzLnkyKTtcclxuXHRcdFx0Y3R4LnN0cm9rZSgpO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuQXhpcy5wcm90b3R5cGUuZ2V0UGl4ZWxDb29yZGluYXRlc09uQXhpcyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cdHZhciB4eSA9IHtcclxuXHR9O1xyXG5cdHZhciB3aWR0aCA9IHRoaXMubGluZUNvb3JkaW5hdGVzLndpZHRoO1xyXG5cdHZhciBoZWlnaHQgPSB0aGlzLmxpbmVDb29yZGluYXRlcy5oZWlnaHQ7XHJcblxyXG5cdGlmICh0aGlzLl9wb3NpdGlvbiA9PT0gXCJib3R0b21cIiB8fCB0aGlzLl9wb3NpdGlvbiA9PT0gXCJ0b3BcIikge1xyXG5cdFx0Ly92YXIgcGl4ZWxQZXJVbml0ID0gd2lkdGggLyBNYXRoLmFicyh0aGlzLnZpZXdwb3J0TWF4aW11bSAtIHRoaXMudmlld3BvcnRNaW5pbXVtKTtcclxuXHRcdHZhciBwaXhlbFBlclVuaXQgPSB0aGlzLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdDtcclxuXHJcblx0XHQvL3h5LnggPSB0aGlzLmxpbmVDb29yZGluYXRlcy54MSArIChwaXhlbFBlclVuaXQgKiAodmFsdWUgLSB0aGlzLnZpZXdwb3J0TWluaW11bSkpO1xyXG5cdFx0eHkueCA9IHRoaXMuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgKHBpeGVsUGVyVW5pdCAqICh2YWx1ZSAtIHRoaXMudmlld3BvcnRNaW5pbXVtKSk7XHJcblx0XHR4eS55ID0gdGhpcy5saW5lQ29vcmRpbmF0ZXMueTE7XHJcblx0fVxyXG5cdGlmICh0aGlzLl9wb3NpdGlvbiA9PT0gXCJsZWZ0XCIgfHwgdGhpcy5fcG9zaXRpb24gPT09IFwicmlnaHRcIikge1xyXG5cdFx0Ly92YXIgcGl4ZWxQZXJVbml0ID0gaGVpZ2h0IC8gTWF0aC5hYnModGhpcy52aWV3cG9ydE1heGltdW0gLSB0aGlzLnZpZXdwb3J0TWluaW11bSk7XHJcblx0XHR2YXIgcGl4ZWxQZXJVbml0ID0gLXRoaXMuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0O1xyXG5cclxuXHRcdC8veHkueSA9IHRoaXMubGluZUNvb3JkaW5hdGVzLnkyIC0gKHBpeGVsUGVyVW5pdCAqICh2YWx1ZSAtIHRoaXMudmlld3BvcnRNaW5pbXVtKSk7XHJcblx0XHR4eS55ID0gdGhpcy5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgLSAocGl4ZWxQZXJVbml0ICogKHZhbHVlIC0gdGhpcy52aWV3cG9ydE1pbmltdW0pKTtcclxuXHRcdHh5LnggPSB0aGlzLmxpbmVDb29yZGluYXRlcy54MjtcclxuXHR9XHJcblxyXG5cdHJldHVybiB4eTtcclxufVxyXG5cclxuQXhpcy5wcm90b3R5cGUuY29udmVydFBpeGVsVG9WYWx1ZSA9IGZ1bmN0aW9uIChwaXhlbCkge1xyXG5cclxuXHRpZiAoIXBpeGVsKVxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblxyXG5cdHZhciB2YWx1ZSA9IDA7XHJcblx0dmFyIHAgPSAodGhpcy5fcG9zaXRpb24gPT09IFwibGVmdFwiIHx8IHRoaXMuX3Bvc2l0aW9uID09PSBcInJpZ2h0XCIpID8gcGl4ZWwueSA6IHBpeGVsLng7XHJcblxyXG5cdHZhbHVlID0gdGhpcy5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtICsgKHAgLSB0aGlzLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSkgLyB0aGlzLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdDtcclxuXHJcblx0cmV0dXJuIHZhbHVlO1xyXG59XHJcblxyXG5BeGlzLnByb3RvdHlwZS5zZXRWaWV3UG9ydFJhbmdlID0gZnVuY3Rpb24gKHZpZXdwb3J0TWluaW11bSwgdmlld3BvcnRNYXhpbXVtKSB7XHJcblxyXG5cdHRoaXMuc2Vzc2lvblZhcmlhYmxlcy5uZXdWaWV3cG9ydE1pbmltdW0gPSB0aGlzLnZpZXdwb3J0TWluaW11bSA9IE1hdGgubWluKHZpZXdwb3J0TWluaW11bSwgdmlld3BvcnRNYXhpbXVtKTtcclxuXHR0aGlzLnNlc3Npb25WYXJpYWJsZXMubmV3Vmlld3BvcnRNYXhpbXVtID0gdGhpcy52aWV3cG9ydE1heGltdW0gPSBNYXRoLm1heCh2aWV3cG9ydE1pbmltdW0sIHZpZXdwb3J0TWF4aW11bSk7XHJcblxyXG59XHJcblxyXG5BeGlzLnByb3RvdHlwZS5nZXRYVmFsdWVBdCA9IGZ1bmN0aW9uIChwaXhlbCkge1xyXG5cdGlmICghcGl4ZWwpXHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHJcblx0dmFyIHh2YWwgPSBudWxsO1xyXG5cclxuXHRpZiAodGhpcy5fcG9zaXRpb24gPT09IFwibGVmdFwiKSB7XHJcblx0XHR4dmFsID0gKHRoaXMuY2hhcnQuYXhpc1gudmlld3BvcnRNYXhpbXVtIC0gdGhpcy5jaGFydC5heGlzWC52aWV3cG9ydE1pbmltdW0pIC8gdGhpcy5jaGFydC5heGlzWC5saW5lQ29vcmRpbmF0ZXMuaGVpZ2h0ICogKCh0aGlzLmNoYXJ0LmF4aXNYLmxpbmVDb29yZGluYXRlcy55MiAtIHBpeGVsLnkpKSArIHRoaXMuY2hhcnQuYXhpc1gudmlld3BvcnRNaW5pbXVtO1xyXG5cdH1cclxuXHRlbHNlIGlmICh0aGlzLl9wb3NpdGlvbiA9PT0gXCJib3R0b21cIikge1xyXG5cdFx0eHZhbCA9ICh0aGlzLmNoYXJ0LmF4aXNYLnZpZXdwb3J0TWF4aW11bSAtIHRoaXMuY2hhcnQuYXhpc1gudmlld3BvcnRNaW5pbXVtKSAvIHRoaXMuY2hhcnQuYXhpc1gubGluZUNvb3JkaW5hdGVzLndpZHRoICogKHBpeGVsLnggLSB0aGlzLmNoYXJ0LmF4aXNYLmxpbmVDb29yZGluYXRlcy54MSkgKyB0aGlzLmNoYXJ0LmF4aXNYLnZpZXdwb3J0TWluaW11bTtcclxuXHR9XHJcblxyXG5cdHJldHVybiB4dmFsO1xyXG59XHJcblxyXG5BeGlzLnByb3RvdHlwZS5jYWxjdWxhdGVWYWx1ZVRvUGl4ZWxDb252ZXJzaW9uUGFyYW1ldGVycyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cdHRoaXMucmV2ZXJzZWQgPSBmYWxzZTtcclxuXHJcblx0dmFyIGNvbnZlcnNpb25QYXJhbWV0ZXJzID0ge1xyXG5cdFx0cGl4ZWxQZXJVbml0OiBudWxsLCBtaW5pbXVtOiBudWxsLCByZWZlcmVuY2U6IG51bGxcclxuXHR9O1xyXG5cclxuXHR2YXIgd2lkdGggPSB0aGlzLmxpbmVDb29yZGluYXRlcy53aWR0aDtcclxuXHR2YXIgaGVpZ2h0ID0gdGhpcy5saW5lQ29vcmRpbmF0ZXMuaGVpZ2h0O1xyXG5cclxuXHRjb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtID0gdGhpcy52aWV3cG9ydE1pbmltdW07XHJcblxyXG5cdGlmICh0aGlzLl9wb3NpdGlvbiA9PT0gXCJib3R0b21cIiB8fCB0aGlzLl9wb3NpdGlvbiA9PT0gXCJ0b3BcIikge1xyXG5cdFx0Y29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ID0gKHRoaXMucmV2ZXJzZWQgPyAtMSA6IDEpICogd2lkdGggLyBNYXRoLmFicyh0aGlzLnZpZXdwb3J0TWF4aW11bSAtIHRoaXMudmlld3BvcnRNaW5pbXVtKTtcclxuXHRcdGNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSA9ICh0aGlzLnJldmVyc2VkID8gdGhpcy5saW5lQ29vcmRpbmF0ZXMueDIgOiB0aGlzLmxpbmVDb29yZGluYXRlcy54MSk7XHJcblx0fVxyXG5cclxuXHRpZiAodGhpcy5fcG9zaXRpb24gPT09IFwibGVmdFwiIHx8IHRoaXMuX3Bvc2l0aW9uID09PSBcInJpZ2h0XCIpIHtcclxuXHRcdGNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCA9ICh0aGlzLnJldmVyc2VkID8gMSA6IC0xKSAqIGhlaWdodCAvIE1hdGguYWJzKHRoaXMudmlld3BvcnRNYXhpbXVtIC0gdGhpcy52aWV3cG9ydE1pbmltdW0pO1xyXG5cdFx0Y29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlID0gKHRoaXMucmV2ZXJzZWQgPyB0aGlzLmxpbmVDb29yZGluYXRlcy55MSA6IHRoaXMubGluZUNvb3JkaW5hdGVzLnkyKTtcclxuXHR9XHJcblxyXG5cclxuXHR0aGlzLmNvbnZlcnNpb25QYXJhbWV0ZXJzID0gY29udmVyc2lvblBhcmFtZXRlcnM7XHJcbn1cclxuXHJcbkF4aXMucHJvdG90eXBlLmNhbGN1bGF0ZUF4aXNQYXJhbWV0ZXJzID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHR2YXIgZnJlZVNwYWNlID0gdGhpcy5jaGFydC5sYXlvdXRNYW5hZ2VyLmdldEZyZWVTcGFjZSgpO1xyXG5cdHZhciBhdmFpbGFibGVXaWR0aCA9IDA7XHJcblx0dmFyIGF2YWlsYWJsZUhlaWdodCA9IDA7XHJcblx0dmFyIGlzTGVzc1RoYW5Ud29EYXRhUG9pbnRzID0gZmFsc2U7XHJcblxyXG5cdGlmICh0aGlzLl9wb3NpdGlvbiA9PT0gXCJib3R0b21cIiB8fCB0aGlzLl9wb3NpdGlvbiA9PT0gXCJ0b3BcIikge1xyXG5cdFx0dGhpcy5tYXhXaWR0aCA9IGZyZWVTcGFjZS53aWR0aDtcclxuXHRcdHRoaXMubWF4SGVpZ2h0ID0gZnJlZVNwYWNlLmhlaWdodDtcclxuXHR9IGVsc2Uge1xyXG5cdFx0dGhpcy5tYXhXaWR0aCA9IGZyZWVTcGFjZS5oZWlnaHQ7XHJcblx0XHR0aGlzLm1heEhlaWdodCA9IGZyZWVTcGFjZS53aWR0aDtcclxuXHR9XHJcblxyXG5cdHZhciBub1RpY2tzID0gdGhpcy50eXBlID09PSBcImF4aXNYXCIgPyAodGhpcy5tYXhXaWR0aCA8IDUwMCA/IDggOiBNYXRoLm1heCg2LCBNYXRoLmZsb29yKHRoaXMubWF4V2lkdGggLyA2MikpKSA6IE1hdGgubWF4KE1hdGguZmxvb3IodGhpcy5tYXhXaWR0aCAvIDQwKSwgMik7XHJcblx0dmFyIG1pbiwgbWF4O1xyXG5cdHZhciBtaW5EaWZmO1xyXG5cdHZhciByYW5nZTtcclxuXHR2YXIgcmFuZ2VQYWRkaW5nID0gMDtcclxuXHJcblxyXG5cdGlmICh0aGlzLnZpZXdwb3J0TWluaW11bSA9PT0gbnVsbCB8fCBpc05hTih0aGlzLnZpZXdwb3J0TWluaW11bSkpXHJcblx0XHR0aGlzLnZpZXdwb3J0TWluaW11bSA9IHRoaXMubWluaW11bTtcclxuXHJcblx0aWYgKHRoaXMudmlld3BvcnRNYXhpbXVtID09PSBudWxsIHx8IGlzTmFOKHRoaXMudmlld3BvcnRNYXhpbXVtKSlcclxuXHRcdHRoaXMudmlld3BvcnRNYXhpbXVtID0gdGhpcy5tYXhpbXVtO1xyXG5cclxuXHRpZiAodGhpcy50eXBlID09PSBcImF4aXNYXCIpIHtcclxuXHRcdG1pbiA9ICh0aGlzLnZpZXdwb3J0TWluaW11bSAhPT0gbnVsbCkgPyB0aGlzLnZpZXdwb3J0TWluaW11bSA6IHRoaXMuZGF0YUluZm8udmlld1BvcnRNaW47XHJcblx0XHRtYXggPSAodGhpcy52aWV3cG9ydE1heGltdW0gIT09IG51bGwpID8gdGhpcy52aWV3cG9ydE1heGltdW0gOiB0aGlzLmRhdGFJbmZvLnZpZXdQb3J0TWF4O1xyXG5cclxuXHRcdGlmIChtYXggLSBtaW4gPT09IDApIHtcclxuXHRcdFx0cmFuZ2VQYWRkaW5nID0gdHlwZW9mICh0aGlzLl9vcHRpb25zLmludGVydmFsKSA9PT0gXCJ1bmRlZmluZWRcIiA/IC40IDogdGhpcy5fb3B0aW9ucy5pbnRlcnZhbDtcclxuXHJcblx0XHRcdG1heCArPSByYW5nZVBhZGRpbmc7XHJcblx0XHRcdG1pbiAtPSByYW5nZVBhZGRpbmc7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMuZGF0YUluZm8ubWluRGlmZiAhPT0gSW5maW5pdHkpXHJcblx0XHRcdG1pbkRpZmYgPSB0aGlzLmRhdGFJbmZvLm1pbkRpZmY7XHJcblx0XHRlbHNlIGlmIChtYXggLSBtaW4gPiAxKSB7XHJcblx0XHRcdG1pbkRpZmYgPSBNYXRoLmFicyhtYXggLSBtaW4pICogLjU7XHJcblx0XHR9XHJcblx0XHRlbHNlIHtcclxuXHRcdFx0bWluRGlmZiA9IDE7XHJcblxyXG5cdFx0XHRpZiAodGhpcy5jaGFydC5wbG90SW5mby5heGlzWFZhbHVlVHlwZSA9PT0gXCJkYXRlVGltZVwiKVxyXG5cdFx0XHRcdGlzTGVzc1RoYW5Ud29EYXRhUG9pbnRzID0gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0fSBlbHNlIGlmICh0aGlzLnR5cGUgPT09IFwiYXhpc1lcIikge1xyXG5cclxuXHRcdC8vbWluID0gdHlwZW9mICh0aGlzLl9vcHRpb25zLnZpZXdwb3J0TWluaW11bSkgPT09IFwidW5kZWZpbmVkXCIgfHwgdGhpcy5fb3B0aW9ucy52aWV3cG9ydE1pbmltdW0gPT09IG51bGwgPyB0aGlzLmRhdGFJbmZvLnZpZXdQb3J0TWluIDogdGhpcy5fb3B0aW9ucy52aWV3cG9ydE1pbmltdW07XHJcblx0XHQvL21heCA9IHR5cGVvZiAodGhpcy5fb3B0aW9ucy52aWV3cG9ydE1heGltdW0pID09PSBcInVuZGVmaW5lZFwiIHx8IHRoaXMuX29wdGlvbnMudmlld3BvcnRNYXhpbXVtID09PSBudWxsID8gdGhpcy5kYXRhSW5mby52aWV3UG9ydE1heCA6IHRoaXMuX29wdGlvbnMudmlld3BvcnRNYXhpbXVtO1xyXG5cdFx0bWluID0gKHRoaXMudmlld3BvcnRNaW5pbXVtICE9PSBudWxsKSA/IHRoaXMudmlld3BvcnRNaW5pbXVtIDogdGhpcy5kYXRhSW5mby52aWV3UG9ydE1pbjtcclxuXHRcdG1heCA9ICh0aGlzLnZpZXdwb3J0TWF4aW11bSAhPT0gbnVsbCkgPyB0aGlzLnZpZXdwb3J0TWF4aW11bSA6IHRoaXMuZGF0YUluZm8udmlld1BvcnRNYXg7XHJcblxyXG5cdFx0aWYgKCFpc0Zpbml0ZShtaW4pICYmICFpc0Zpbml0ZShtYXgpKSB7XHJcblx0XHRcdG1heCA9IHR5cGVvZiAodGhpcy5fb3B0aW9ucy5pbnRlcnZhbCkgPT09IFwidW5kZWZpbmVkXCIgPyAtSW5maW5pdHkgOiB0aGlzLl9vcHRpb25zLmludGVydmFsO1xyXG5cdFx0XHRtaW4gPSAwO1xyXG5cdFx0fSBlbHNlIGlmICghaXNGaW5pdGUobWluKSkge1xyXG5cdFx0XHRtaW4gPSBtYXg7XHJcblx0XHR9IGVsc2UgaWYgKCFpc0Zpbml0ZShtYXgpKSB7XHJcblx0XHRcdG1heCA9IG1pbjtcclxuXHRcdH1cclxuXHJcblx0XHRcdGlmIChtaW4gPT09IDAgJiYgbWF4ID09PSAwKSB7Ly8gV2hlbiBhbGwgZGF0YVBvaW50cyBhcmUgemVyb1xyXG5cdFx0XHRcdG1heCArPSA5O1xyXG5cdFx0XHRcdG1pbiA9IDA7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSBpZiAobWF4IC0gbWluID09PSAwKSB7Ly8gV2hlbiB0aGVyZSBpcyBvbmx5IGEgc2luZ2xlIGRhdGFQb2ludCBvciB3aGVuIGFsbCBkYXRhUG9pbnRzIGhhdmUgc2FtZSBZIFZhbHVlXHJcblx0XHRcdFx0cmFuZ2VQYWRkaW5nID0gTWF0aC5taW4oTWF0aC5hYnMoTWF0aC5hYnMobWF4KSAqIC4wMSksIDUpO1xyXG5cdFx0XHRcdG1heCArPSByYW5nZVBhZGRpbmc7XHJcblx0XHRcdFx0bWluIC09IHJhbmdlUGFkZGluZztcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIGlmIChtaW4gPiBtYXgpIHtcclxuXHRcdFx0XHRyYW5nZVBhZGRpbmcgPSBNYXRoLm1pbihNYXRoLmFicyhNYXRoLmFicyhtYXggLSBtaW4pICogLjAxKSwgNSk7XHJcblxyXG5cdFx0XHRcdGlmIChtYXggPj0gMClcclxuXHRcdFx0XHRcdG1pbiA9IG1heCAtIHJhbmdlUGFkZGluZztcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRtYXggPSBtaW4gKyByYW5nZVBhZGRpbmc7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblxyXG5cdFx0XHRcdHJhbmdlUGFkZGluZyA9IE1hdGgubWluKE1hdGguYWJzKE1hdGguYWJzKG1heCAtIG1pbikgKiAuMDEpLCAuMDUpO1xyXG5cclxuXHRcdFx0XHRpZiAobWF4ICE9PSAwKVxyXG5cdFx0XHRcdFx0bWF4ICs9IHJhbmdlUGFkZGluZztcclxuXHRcdFx0XHRpZiAobWluICE9PSAwKVxyXG5cdFx0XHRcdFx0bWluIC09IHJhbmdlUGFkZGluZztcclxuXHRcdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLmRhdGFJbmZvLm1pbkRpZmYgIT09IEluZmluaXR5KVxyXG5cdFx0XHRtaW5EaWZmID0gdGhpcy5kYXRhSW5mby5taW5EaWZmO1xyXG5cdFx0ZWxzZSBpZiAobWF4IC0gbWluID4gMSkge1xyXG5cdFx0XHRtaW5EaWZmID0gTWF0aC5hYnMobWF4IC0gbWluKSAqIC41O1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSB7XHJcblx0XHRcdG1pbkRpZmYgPSAxO1xyXG5cdFx0fVxyXG5cclxuXHJcblx0XHQvL0FwcGx5IGluY2x1ZGVaZXJvXHJcblx0XHRpZiAodGhpcy5pbmNsdWRlWmVybyAmJiAodGhpcy52aWV3cG9ydE1pbmltdW0gPT09IG51bGwgfHwgaXNOYU4odGhpcy52aWV3cG9ydE1pbmltdW0pKSkge1xyXG5cdFx0XHRpZiAobWluID4gMClcclxuXHRcdFx0XHRtaW4gPSAwO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHRoaXMuaW5jbHVkZVplcm8gJiYgKHRoaXMudmlld3BvcnRNYXhpbXVtID09PSBudWxsIHx8IGlzTmFOKHRoaXMudmlld3BvcnRNYXhpbXVtKSkpIHtcclxuXHRcdFx0aWYgKG1heCA8IDApXHJcblx0XHRcdFx0bWF4ID0gMDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJhbmdlID0gKGlzTmFOKHRoaXMudmlld3BvcnRNYXhpbXVtKSB8fCB0aGlzLnZpZXdwb3J0TWF4aW11bSA9PT0gbnVsbCA/IG1heCA6IHRoaXMudmlld3BvcnRNYXhpbXVtKSAtIChpc05hTih0aGlzLnZpZXdwb3J0TWluaW11bSkgfHwgdGhpcy52aWV3cG9ydE1pbmltdW0gPT09IG51bGwgPyBtaW4gOiB0aGlzLnZpZXdwb3J0TWluaW11bSk7XHJcblxyXG5cdGlmICh0aGlzLnR5cGUgPT09IFwiYXhpc1hcIiAmJiB0aGlzLmNoYXJ0LnBsb3RJbmZvLmF4aXNYVmFsdWVUeXBlID09PSBcImRhdGVUaW1lXCIpIHtcclxuXHJcblx0XHRpZiAoIXRoaXMuaW50ZXJ2YWxUeXBlKSB7XHJcblxyXG5cdFx0XHRpZiAocmFuZ2UgLyAoMSAqIDEpIDw9IG5vVGlja3MpIHtcclxuXHRcdFx0XHR0aGlzLmludGVydmFsID0gMTtcclxuXHRcdFx0XHR0aGlzLmludGVydmFsVHlwZSA9IFwibWlsbGlzZWNvbmRcIjtcclxuXHRcdFx0fSBlbHNlIGlmIChyYW5nZSAvICgxICogMikgPD0gbm9UaWNrcykge1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWwgPSAyO1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWxUeXBlID0gXCJtaWxsaXNlY29uZFwiO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHJhbmdlIC8gKDEgKiA1KSA8PSBub1RpY2tzKSB7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IDU7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIm1pbGxpc2Vjb25kXCI7XHJcblx0XHRcdH0gZWxzZSBpZiAocmFuZ2UgLyAoMSAqIDEwKSA8PSBub1RpY2tzKSB7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IDEwO1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWxUeXBlID0gXCJtaWxsaXNlY29uZFwiO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHJhbmdlIC8gKDEgKiAyMCkgPD0gbm9UaWNrcykge1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWwgPSAyMDtcclxuXHRcdFx0XHR0aGlzLmludGVydmFsVHlwZSA9IFwibWlsbGlzZWNvbmRcIjtcclxuXHRcdFx0fSBlbHNlIGlmIChyYW5nZSAvICgxICogNTApIDw9IG5vVGlja3MpIHtcclxuXHRcdFx0XHR0aGlzLmludGVydmFsID0gNTA7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIm1pbGxpc2Vjb25kXCI7XHJcblx0XHRcdH0gZWxzZSBpZiAocmFuZ2UgLyAoMSAqIDEwMCkgPD0gbm9UaWNrcykge1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWwgPSAxMDA7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIm1pbGxpc2Vjb25kXCI7XHJcblx0XHRcdH0gZWxzZSBpZiAocmFuZ2UgLyAoMSAqIDIwMCkgPD0gbm9UaWNrcykge1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWwgPSAyMDA7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIm1pbGxpc2Vjb25kXCI7XHJcblx0XHRcdH0gZWxzZSBpZiAocmFuZ2UgLyAoMSAqIDI1MCkgPD0gbm9UaWNrcykge1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWwgPSAyNTA7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIm1pbGxpc2Vjb25kXCI7XHJcblx0XHRcdH0gZWxzZSBpZiAocmFuZ2UgLyAoMSAqIDMwMCkgPD0gbm9UaWNrcykge1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWwgPSAzMDA7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIm1pbGxpc2Vjb25kXCI7XHJcblx0XHRcdH0gZWxzZSBpZiAocmFuZ2UgLyAoMSAqIDQwMCkgPD0gbm9UaWNrcykge1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWwgPSA0MDA7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIm1pbGxpc2Vjb25kXCI7XHJcblx0XHRcdH0gZWxzZSBpZiAocmFuZ2UgLyAoMSAqIDUwMCkgPD0gbm9UaWNrcykge1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWwgPSA1MDA7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIm1pbGxpc2Vjb25kXCI7XHJcblx0XHRcdH0gZWxzZSBpZiAocmFuZ2UgLyAoY29uc3RhbnRzLnNlY29uZER1cmF0aW9uICogMSkgPD0gbm9UaWNrcykge1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWwgPSAxO1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWxUeXBlID0gXCJzZWNvbmRcIjtcclxuXHRcdFx0fSBlbHNlIGlmIChyYW5nZSAvIChjb25zdGFudHMuc2Vjb25kRHVyYXRpb24gKiAyKSA8PSBub1RpY2tzKSB7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IDI7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcInNlY29uZFwiO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHJhbmdlIC8gKGNvbnN0YW50cy5zZWNvbmREdXJhdGlvbiAqIDUpIDw9IG5vVGlja3MpIHtcclxuXHRcdFx0XHR0aGlzLmludGVydmFsID0gNTtcclxuXHRcdFx0XHR0aGlzLmludGVydmFsVHlwZSA9IFwic2Vjb25kXCI7XHJcblx0XHRcdH0gZWxzZSBpZiAocmFuZ2UgLyAoY29uc3RhbnRzLnNlY29uZER1cmF0aW9uICogMTApIDw9IG5vVGlja3MpIHtcclxuXHRcdFx0XHR0aGlzLmludGVydmFsID0gMTA7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcInNlY29uZFwiO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHJhbmdlIC8gKGNvbnN0YW50cy5zZWNvbmREdXJhdGlvbiAqIDE1KSA8PSBub1RpY2tzKSB7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IDE1O1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWxUeXBlID0gXCJzZWNvbmRcIjtcclxuXHRcdFx0fSBlbHNlIGlmIChyYW5nZSAvIChjb25zdGFudHMuc2Vjb25kRHVyYXRpb24gKiAyMCkgPD0gbm9UaWNrcykge1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWwgPSAyMDtcclxuXHRcdFx0XHR0aGlzLmludGVydmFsVHlwZSA9IFwic2Vjb25kXCI7XHJcblx0XHRcdH0gZWxzZSBpZiAocmFuZ2UgLyAoY29uc3RhbnRzLnNlY29uZER1cmF0aW9uICogMzApIDw9IG5vVGlja3MpIHtcclxuXHRcdFx0XHR0aGlzLmludGVydmFsID0gMzA7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcInNlY29uZFwiO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHJhbmdlIC8gKGNvbnN0YW50cy5taW51dGVEdXJhdGlvbiAqIDEpIDw9IG5vVGlja3MpIHtcclxuXHRcdFx0XHR0aGlzLmludGVydmFsID0gMTtcclxuXHRcdFx0XHR0aGlzLmludGVydmFsVHlwZSA9IFwibWludXRlXCI7XHJcblx0XHRcdH0gZWxzZSBpZiAocmFuZ2UgLyAoY29uc3RhbnRzLm1pbnV0ZUR1cmF0aW9uICogMikgPD0gbm9UaWNrcykge1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWwgPSAyO1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWxUeXBlID0gXCJtaW51dGVcIjtcclxuXHRcdFx0fSBlbHNlIGlmIChyYW5nZSAvIChjb25zdGFudHMubWludXRlRHVyYXRpb24gKiA1KSA8PSBub1RpY2tzKSB7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IDU7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIm1pbnV0ZVwiO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHJhbmdlIC8gKGNvbnN0YW50cy5taW51dGVEdXJhdGlvbiAqIDEwKSA8PSBub1RpY2tzKSB7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IDEwO1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWxUeXBlID0gXCJtaW51dGVcIjtcclxuXHRcdFx0fSBlbHNlIGlmIChyYW5nZSAvIChjb25zdGFudHMubWludXRlRHVyYXRpb24gKiAxNSkgPD0gbm9UaWNrcykge1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWwgPSAxNTtcclxuXHRcdFx0XHR0aGlzLmludGVydmFsVHlwZSA9IFwibWludXRlXCI7XHJcblx0XHRcdH0gZWxzZSBpZiAocmFuZ2UgLyAoY29uc3RhbnRzLm1pbnV0ZUR1cmF0aW9uICogMjApIDw9IG5vVGlja3MpIHtcclxuXHRcdFx0XHR0aGlzLmludGVydmFsID0gMjA7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIm1pbnV0ZVwiO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHJhbmdlIC8gKGNvbnN0YW50cy5taW51dGVEdXJhdGlvbiAqIDMwKSA8PSBub1RpY2tzKSB7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IDMwO1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWxUeXBlID0gXCJtaW51dGVcIjtcclxuXHRcdFx0fSBlbHNlIGlmIChyYW5nZSAvIChjb25zdGFudHMuaG91ckR1cmF0aW9uICogMSkgPD0gbm9UaWNrcykge1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWwgPSAxO1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWxUeXBlID0gXCJob3VyXCI7XHJcblx0XHRcdH0gZWxzZSBpZiAocmFuZ2UgLyAoY29uc3RhbnRzLmhvdXJEdXJhdGlvbiAqIDIpIDw9IG5vVGlja3MpIHtcclxuXHRcdFx0XHR0aGlzLmludGVydmFsID0gMjtcclxuXHRcdFx0XHR0aGlzLmludGVydmFsVHlwZSA9IFwiaG91clwiO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHJhbmdlIC8gKGNvbnN0YW50cy5ob3VyRHVyYXRpb24gKiAzKSA8PSBub1RpY2tzKSB7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IDM7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcImhvdXJcIjtcclxuXHRcdFx0fSBlbHNlIGlmIChyYW5nZSAvIChjb25zdGFudHMuaG91ckR1cmF0aW9uICogNikgPD0gbm9UaWNrcykge1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWwgPSA2O1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWxUeXBlID0gXCJob3VyXCI7XHJcblx0XHRcdH0gZWxzZSBpZiAocmFuZ2UgLyAoY29uc3RhbnRzLmRheUR1cmF0aW9uICogMSkgPD0gbm9UaWNrcykge1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWwgPSAxO1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWxUeXBlID0gXCJkYXlcIjtcclxuXHRcdFx0fSBlbHNlIGlmIChyYW5nZSAvIChjb25zdGFudHMuZGF5RHVyYXRpb24gKiAyKSA8PSBub1RpY2tzKSB7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IDI7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcImRheVwiO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHJhbmdlIC8gKGNvbnN0YW50cy5kYXlEdXJhdGlvbiAqIDQpIDw9IG5vVGlja3MpIHtcclxuXHRcdFx0XHR0aGlzLmludGVydmFsID0gNDtcclxuXHRcdFx0XHR0aGlzLmludGVydmFsVHlwZSA9IFwiZGF5XCI7XHJcblx0XHRcdH0gZWxzZSBpZiAocmFuZ2UgLyAoY29uc3RhbnRzLndlZWtEdXJhdGlvbiAqIDEpIDw9IG5vVGlja3MpIHtcclxuXHRcdFx0XHR0aGlzLmludGVydmFsID0gMTtcclxuXHRcdFx0XHR0aGlzLmludGVydmFsVHlwZSA9IFwid2Vla1wiO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHJhbmdlIC8gKGNvbnN0YW50cy53ZWVrRHVyYXRpb24gKiAyKSA8PSBub1RpY2tzKSB7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IDI7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIndlZWtcIjtcclxuXHRcdFx0fSBlbHNlIGlmIChyYW5nZSAvIChjb25zdGFudHMud2Vla0R1cmF0aW9uICogMykgPD0gbm9UaWNrcykge1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWwgPSAzO1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWxUeXBlID0gXCJ3ZWVrXCI7XHJcblx0XHRcdH0gZWxzZSBpZiAocmFuZ2UgLyAoY29uc3RhbnRzLm1vbnRoRHVyYXRpb24gKiAxKSA8PSBub1RpY2tzKSB7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IDE7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIm1vbnRoXCI7XHJcblx0XHRcdH0gZWxzZSBpZiAocmFuZ2UgLyAoY29uc3RhbnRzLm1vbnRoRHVyYXRpb24gKiAyKSA8PSBub1RpY2tzKSB7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IDI7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIm1vbnRoXCI7XHJcblx0XHRcdH0gZWxzZSBpZiAocmFuZ2UgLyAoY29uc3RhbnRzLm1vbnRoRHVyYXRpb24gKiAzKSA8PSBub1RpY2tzKSB7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IDM7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIm1vbnRoXCI7XHJcblx0XHRcdH0gZWxzZSBpZiAocmFuZ2UgLyAoY29uc3RhbnRzLm1vbnRoRHVyYXRpb24gKiA2KSA8PSBub1RpY2tzKSB7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IDY7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIm1vbnRoXCI7XHJcblx0XHRcdH0gZWxzZSBpZiAocmFuZ2UgLyAoY29uc3RhbnRzLnllYXJEdXJhdGlvbiAqIDEpIDw9IG5vVGlja3MpIHtcclxuXHRcdFx0XHR0aGlzLmludGVydmFsID0gMTtcclxuXHRcdFx0XHR0aGlzLmludGVydmFsVHlwZSA9IFwieWVhclwiO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHJhbmdlIC8gKGNvbnN0YW50cy55ZWFyRHVyYXRpb24gKiAyKSA8PSBub1RpY2tzKSB7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IDI7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcInllYXJcIjtcclxuXHRcdFx0fSBlbHNlIGlmIChyYW5nZSAvIChjb25zdGFudHMueWVhckR1cmF0aW9uICogNCkgPD0gbm9UaWNrcykge1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWwgPSA0O1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWxUeXBlID0gXCJ5ZWFyXCI7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IE1hdGguZmxvb3IoQXhpcy5nZXROaWNlTnVtYmVyKHJhbmdlIC8gKG5vVGlja3MgLSAxKSwgdHJ1ZSkgLyBjb25zdGFudHMueWVhckR1cmF0aW9uKTtcclxuXHRcdFx0XHR0aGlzLmludGVydmFsVHlwZSA9IFwieWVhclwiO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLnZpZXdwb3J0TWluaW11bSA9PT0gbnVsbCB8fCBpc05hTih0aGlzLnZpZXdwb3J0TWluaW11bSkpXHJcblx0XHRcdHRoaXMudmlld3BvcnRNaW5pbXVtID0gbWluIC0gbWluRGlmZiAvIDI7XHJcblxyXG5cdFx0aWYgKHRoaXMudmlld3BvcnRNYXhpbXVtID09PSBudWxsIHx8IGlzTmFOKHRoaXMudmlld3BvcnRNYXhpbXVtKSlcclxuXHRcdFx0dGhpcy52aWV3cG9ydE1heGltdW0gPSBtYXggKyBtaW5EaWZmIC8gMjtcclxuXHJcblxyXG5cdFx0aWYgKCF0aGlzLnZhbHVlRm9ybWF0U3RyaW5nKSB7XHJcblx0XHRcdGlmIChpc0xlc3NUaGFuVHdvRGF0YVBvaW50cykge1xyXG5cdFx0XHRcdHRoaXMudmFsdWVGb3JtYXRTdHJpbmcgPSBcIk1NTSBERCBZWVlZIEhIOm1tXCI7XHJcblx0XHRcdH0gZWxzZSBpZiAodGhpcy5pbnRlcnZhbFR5cGUgPT09IFwieWVhclwiKSB7XHJcblx0XHRcdFx0dGhpcy52YWx1ZUZvcm1hdFN0cmluZyA9IFwiWVlZWVwiO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHRoaXMuaW50ZXJ2YWxUeXBlID09PSBcIm1vbnRoXCIpIHtcclxuXHRcdFx0XHR0aGlzLnZhbHVlRm9ybWF0U3RyaW5nID0gXCJNTU0gWVlZWVwiO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHRoaXMuaW50ZXJ2YWxUeXBlID09PSBcIndlZWtcIikge1xyXG5cdFx0XHRcdHRoaXMudmFsdWVGb3JtYXRTdHJpbmcgPSBcIk1NTSBERCBZWVlZXCI7XHJcblx0XHRcdH0gZWxzZSBpZiAodGhpcy5pbnRlcnZhbFR5cGUgPT09IFwiZGF5XCIpIHtcclxuXHRcdFx0XHR0aGlzLnZhbHVlRm9ybWF0U3RyaW5nID0gXCJNTU0gREQgWVlZWVwiO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHRoaXMuaW50ZXJ2YWxUeXBlID09PSBcImhvdXJcIikge1xyXG5cdFx0XHRcdHRoaXMudmFsdWVGb3JtYXRTdHJpbmcgPSBcImhoOm1tIFRUXCI7XHJcblx0XHRcdH0gZWxzZSBpZiAodGhpcy5pbnRlcnZhbFR5cGUgPT09IFwibWludXRlXCIpIHtcclxuXHRcdFx0XHR0aGlzLnZhbHVlRm9ybWF0U3RyaW5nID0gXCJoaDptbSBUVFwiO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHRoaXMuaW50ZXJ2YWxUeXBlID09PSBcInNlY29uZFwiKSB7XHJcblx0XHRcdFx0dGhpcy52YWx1ZUZvcm1hdFN0cmluZyA9IFwiaGg6bW06c3MgVFRcIjtcclxuXHRcdFx0fSBlbHNlIGlmICh0aGlzLmludGVydmFsVHlwZSA9PT0gXCJtaWxsaXNlY29uZFwiKSB7XHJcblx0XHRcdFx0dGhpcy52YWx1ZUZvcm1hdFN0cmluZyA9IFwiZmZmJ21zJ1wiO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdH0gZWxzZSB7XHJcblxyXG5cdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIm51bWJlclwiO1xyXG5cclxuXHRcdHJhbmdlID0gQXhpcy5nZXROaWNlTnVtYmVyKHJhbmdlLCBmYWxzZSk7XHJcblxyXG5cdFx0aWYgKHRoaXMuX29wdGlvbnMgJiYgdGhpcy5fb3B0aW9ucy5pbnRlcnZhbClcclxuXHRcdFx0dGhpcy5pbnRlcnZhbCA9IHRoaXMuX29wdGlvbnMuaW50ZXJ2YWw7XHJcblx0XHRlbHNlIHtcclxuXHRcdFx0dGhpcy5pbnRlcnZhbCA9IEF4aXMuZ2V0TmljZU51bWJlcihyYW5nZSAvIChub1RpY2tzIC0gMSksIHRydWUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLnZpZXdwb3J0TWluaW11bSA9PT0gbnVsbCB8fCBpc05hTih0aGlzLnZpZXdwb3J0TWluaW11bSkpIHtcclxuXHRcdFx0aWYgKHRoaXMudHlwZSA9PT0gXCJheGlzWFwiKVxyXG5cdFx0XHRcdHRoaXMudmlld3BvcnRNaW5pbXVtID0gbWluIC0gbWluRGlmZiAvIDI7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHR0aGlzLnZpZXdwb3J0TWluaW11bSA9IE1hdGguZmxvb3IobWluIC8gdGhpcy5pbnRlcnZhbCkgKiB0aGlzLmludGVydmFsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLnZpZXdwb3J0TWF4aW11bSA9PT0gbnVsbCB8fCBpc05hTih0aGlzLnZpZXdwb3J0TWF4aW11bSkpIHtcclxuXHRcdFx0aWYgKHRoaXMudHlwZSA9PT0gXCJheGlzWFwiKVxyXG5cdFx0XHRcdHRoaXMudmlld3BvcnRNYXhpbXVtID0gbWF4ICsgbWluRGlmZiAvIDI7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHR0aGlzLnZpZXdwb3J0TWF4aW11bSA9IE1hdGguY2VpbChtYXggLyB0aGlzLmludGVydmFsKSAqIHRoaXMuaW50ZXJ2YWw7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMudmlld3BvcnRNYXhpbXVtID09PSAwICYmIHRoaXMudmlld3BvcnRNaW5pbXVtID09PSAwKSB7XHJcblxyXG5cdFx0XHRpZiAodGhpcy5fb3B0aW9ucy52aWV3cG9ydE1pbmltdW0gPT09IDApIHtcclxuXHRcdFx0XHR0aGlzLnZpZXdwb3J0TWF4aW11bSArPSAxMDtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIGlmICh0aGlzLl9vcHRpb25zLnZpZXdwb3J0TWF4aW11bSA9PT0gMCkge1xyXG5cdFx0XHRcdHRoaXMudmlld3BvcnRNaW5pbXVtIC09IDEwO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAodGhpcy5fb3B0aW9ucyAmJiB0eXBlb2YgKHRoaXMuX29wdGlvbnMuaW50ZXJ2YWwpID09PSBcInVuZGVmaW5lZFwiKSB7XHJcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IEF4aXMuZ2V0TmljZU51bWJlcigodGhpcy52aWV3cG9ydE1heGltdW0gLSB0aGlzLnZpZXdwb3J0TWluaW11bSkgLyAobm9UaWNrcyAtIDEpLCB0cnVlKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly9DYWxjdWxhdGUgbWluaW11bSBhbmQgbWF4aW11bSBpZiBub3QgcHJvdmlkZWQgYnkgdGhlIHVzZXJcclxuXHRpZiAodGhpcy5taW5pbXVtID09PSBudWxsIHx8IHRoaXMubWF4aW11bSA9PT0gbnVsbCkge1xyXG5cdFx0aWYgKHRoaXMudHlwZSA9PT0gXCJheGlzWFwiKSB7XHJcblx0XHRcdG1pbiA9ICh0aGlzLm1pbmltdW0gIT09IG51bGwpID8gdGhpcy5taW5pbXVtIDogdGhpcy5kYXRhSW5mby5taW47XHJcblx0XHRcdG1heCA9ICh0aGlzLm1heGltdW0gIT09IG51bGwpID8gdGhpcy5tYXhpbXVtIDogdGhpcy5kYXRhSW5mby5tYXg7XHJcblxyXG5cdFx0XHRpZiAobWF4IC0gbWluID09PSAwKSB7XHJcblx0XHRcdFx0cmFuZ2VQYWRkaW5nID0gdHlwZW9mICh0aGlzLl9vcHRpb25zLmludGVydmFsKSA9PT0gXCJ1bmRlZmluZWRcIiA/IC40IDogdGhpcy5fb3B0aW9ucy5pbnRlcnZhbDtcclxuXHJcblx0XHRcdFx0bWF4ICs9IHJhbmdlUGFkZGluZztcclxuXHRcdFx0XHRtaW4gLT0gcmFuZ2VQYWRkaW5nO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAodGhpcy5kYXRhSW5mby5taW5EaWZmICE9PSBJbmZpbml0eSlcclxuXHRcdFx0XHRtaW5EaWZmID0gdGhpcy5kYXRhSW5mby5taW5EaWZmO1xyXG5cdFx0XHRlbHNlIGlmIChtYXggLSBtaW4gPiAxKSB7XHJcblx0XHRcdFx0bWluRGlmZiA9IE1hdGguYWJzKG1heCAtIG1pbikgKiAuNTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRtaW5EaWZmID0gMTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdH0gZWxzZSBpZiAodGhpcy50eXBlID09PSBcImF4aXNZXCIpIHtcclxuXHJcblx0XHRcdG1pbiA9ICh0aGlzLm1pbmltdW0gIT09IG51bGwpID8gdGhpcy5taW5pbXVtIDogdGhpcy5kYXRhSW5mby5taW47XHJcblx0XHRcdG1heCA9ICh0aGlzLm1heGltdW0gIT09IG51bGwpID8gdGhpcy5tYXhpbXVtIDogdGhpcy5kYXRhSW5mby5tYXg7XHJcblxyXG5cdFx0XHRpZiAoIWlzRmluaXRlKG1pbikgJiYgIWlzRmluaXRlKG1heCkpIHtcclxuXHRcdFx0XHRtYXggPSB0eXBlb2YgKHRoaXMuX29wdGlvbnMuaW50ZXJ2YWwpID09PSBcInVuZGVmaW5lZFwiID8gLUluZmluaXR5IDogdGhpcy5fb3B0aW9ucy5pbnRlcnZhbDtcclxuXHRcdFx0XHRtaW4gPSAwO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRpZiAobWluID09PSAwICYmIG1heCA9PT0gMCkgey8vIFdoZW4gYWxsIGRhdGFQb2ludHMgYXJlIHplcm9cclxuXHRcdFx0XHRcdG1heCArPSA5O1xyXG5cdFx0XHRcdFx0bWluID0gMDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSBpZiAobWF4IC0gbWluID09PSAwKSB7Ly8gV2hlbiB0aGVyZSBpcyBvbmx5IGEgc2luZ2xlIGRhdGFQb2ludCBvciB3aGVuIGFsbCBkYXRhUG9pbnRzIGhhdmUgc2FtZSBZIFZhbHVlXHJcblx0XHRcdFx0XHRyYW5nZVBhZGRpbmcgPSBNYXRoLm1pbihNYXRoLmFicyhNYXRoLmFicyhtYXgpICogLjAxKSwgNSk7XHJcblx0XHRcdFx0XHRtYXggKz0gcmFuZ2VQYWRkaW5nO1xyXG5cdFx0XHRcdFx0bWluIC09IHJhbmdlUGFkZGluZztcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSBpZiAobWluID4gbWF4KSB7XHJcblx0XHRcdFx0XHRyYW5nZVBhZGRpbmcgPSBNYXRoLm1pbihNYXRoLmFicyhNYXRoLmFicyhtYXggLSBtaW4pICogLjAxKSwgNSk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKG1heCA+PSAwKVxyXG5cdFx0XHRcdFx0XHRtaW4gPSBtYXggLSByYW5nZVBhZGRpbmc7XHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdG1heCA9IG1pbiArIHJhbmdlUGFkZGluZztcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblxyXG5cdFx0XHRcdFx0cmFuZ2VQYWRkaW5nID0gTWF0aC5taW4oTWF0aC5hYnMoTWF0aC5hYnMobWF4IC0gbWluKSAqIC4wMSksIC4wNSk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKG1heCAhPT0gMClcclxuXHRcdFx0XHRcdFx0bWF4ICs9IHJhbmdlUGFkZGluZztcclxuXHRcdFx0XHRcdGlmIChtaW4gIT09IDApXHJcblx0XHRcdFx0XHRcdG1pbiAtPSByYW5nZVBhZGRpbmc7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHRoaXMuZGF0YUluZm8ubWluRGlmZiAhPT0gSW5maW5pdHkpXHJcblx0XHRcdFx0bWluRGlmZiA9IHRoaXMuZGF0YUluZm8ubWluRGlmZjtcclxuXHRcdFx0ZWxzZSBpZiAobWF4IC0gbWluID4gMSkge1xyXG5cdFx0XHRcdG1pbkRpZmYgPSBNYXRoLmFicyhtYXggLSBtaW4pICogLjU7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0bWluRGlmZiA9IDE7XHJcblx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHQvL0FwcGx5IGluY2x1ZGVaZXJvXHJcblx0XHRcdGlmICh0aGlzLmluY2x1ZGVaZXJvICYmICh0aGlzLm1pbmltdW0gPT09IG51bGwgfHwgaXNOYU4odGhpcy5taW5pbXVtKSkpIHtcclxuXHRcdFx0XHRpZiAobWluID4gMClcclxuXHRcdFx0XHRcdG1pbiA9IDA7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHRoaXMuaW5jbHVkZVplcm8gJiYgKHRoaXMubWF4aW11bSA9PT0gbnVsbCB8fCBpc05hTih0aGlzLm1heGltdW0pKSkge1xyXG5cdFx0XHRcdGlmIChtYXggPCAwKVxyXG5cdFx0XHRcdFx0bWF4ID0gMDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJhbmdlID0gbWF4IC0gbWluO1xyXG5cclxuXHRcdGlmICh0aGlzLnR5cGUgPT09IFwiYXhpc1hcIiAmJiB0aGlzLmNoYXJ0LnBsb3RJbmZvLmF4aXNYVmFsdWVUeXBlID09PSBcImRhdGVUaW1lXCIpIHtcclxuXHJcblx0XHRcdGlmICh0aGlzLm1pbmltdW0gPT09IG51bGwgfHwgaXNOYU4odGhpcy5taW5pbXVtKSlcclxuXHRcdFx0XHR0aGlzLm1pbmltdW0gPSBtaW4gLSBtaW5EaWZmIC8gMjtcclxuXHJcblx0XHRcdGlmICh0aGlzLm1heGltdW0gPT09IG51bGwgfHwgaXNOYU4odGhpcy5tYXhpbXVtKSlcclxuXHRcdFx0XHR0aGlzLm1heGltdW0gPSBtYXggKyBtaW5EaWZmIC8gMjtcclxuXHJcblx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIm51bWJlclwiO1xyXG5cclxuXHRcdFx0aWYgKHRoaXMubWluaW11bSA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdGlmICh0aGlzLnR5cGUgPT09IFwiYXhpc1hcIilcclxuXHRcdFx0XHRcdHRoaXMubWluaW11bSA9IG1pbiAtIG1pbkRpZmYgLyAyO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHR0aGlzLm1pbmltdW0gPSBNYXRoLmZsb29yKG1pbiAvIHRoaXMuaW50ZXJ2YWwpICogdGhpcy5pbnRlcnZhbDtcclxuXHJcblx0XHRcdFx0dGhpcy5taW5pbXVtID0gTWF0aC5taW4odGhpcy5taW5pbXVtLCB0aGlzLnNlc3Npb25WYXJpYWJsZXMudmlld3BvcnRNaW5pbXVtID09PSBudWxsIHx8IGlzTmFOKHRoaXMuc2Vzc2lvblZhcmlhYmxlcy52aWV3cG9ydE1pbmltdW0pID8gSW5maW5pdHkgOiB0aGlzLnNlc3Npb25WYXJpYWJsZXMudmlld3BvcnRNaW5pbXVtKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHRoaXMubWF4aW11bSA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdGlmICh0aGlzLnR5cGUgPT09IFwiYXhpc1hcIilcclxuXHRcdFx0XHRcdHRoaXMubWF4aW11bSA9IG1heCArIG1pbkRpZmYgLyAyO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHR0aGlzLm1heGltdW0gPSBNYXRoLmNlaWwobWF4IC8gdGhpcy5pbnRlcnZhbCkgKiB0aGlzLmludGVydmFsO1xyXG5cclxuXHRcdFx0XHR0aGlzLm1heGltdW0gPSBNYXRoLm1heCh0aGlzLm1heGltdW0sIHRoaXMuc2Vzc2lvblZhcmlhYmxlcy52aWV3cG9ydE1heGltdW0gPT09IG51bGwgfHwgaXNOYU4odGhpcy5zZXNzaW9uVmFyaWFibGVzLnZpZXdwb3J0TWF4aW11bSkgPyAtSW5maW5pdHkgOiB0aGlzLnNlc3Npb25WYXJpYWJsZXMudmlld3BvcnRNYXhpbXVtKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdC8vdmFyIG5mcmFjID0gTWF0aC5tYXgoLU1hdGguZmxvb3IoTWF0aC5sb2coZCkvTWF0aC5MTjEwKSwgMCk7IC8vbnVtYmVyIG9mIGZyYWN0aW9uYWwgZGlnaXRzIHRvIHNob3dcclxuXHJcblxyXG5cdFx0aWYgKHRoaXMubWF4aW11bSA9PT0gMCAmJiB0aGlzLm1pbmltdW0gPT09IDApIHtcclxuXHJcblx0XHRcdGlmICh0aGlzLl9vcHRpb25zLm1pbmltdW0gPT09IDApIHtcclxuXHRcdFx0XHR0aGlzLm1heGltdW0gKz0gMTA7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSBpZiAodGhpcy5fb3B0aW9ucy5tYXhpbXVtID09PSAwKSB7XHJcblx0XHRcdFx0dGhpcy5taW5pbXVtIC09IDEwO1xyXG5cdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHR0aGlzLnZpZXdwb3J0TWluaW11bSA9IE1hdGgubWF4KHRoaXMudmlld3BvcnRNaW5pbXVtLCB0aGlzLm1pbmltdW0pO1xyXG5cdHRoaXMudmlld3BvcnRNYXhpbXVtID0gTWF0aC5taW4odGhpcy52aWV3cG9ydE1heGltdW0sIHRoaXMubWF4aW11bSk7XHJcblxyXG5cdGlmICh0aGlzLnR5cGUgPT09IFwiYXhpc1hcIiAmJiB0aGlzLmNoYXJ0LnBsb3RJbmZvLmF4aXNYVmFsdWVUeXBlID09PSBcImRhdGVUaW1lXCIpXHJcblx0XHR0aGlzLmludGVydmFsU3RhcnRQb3NpdGlvbiA9IHRoaXMuZ2V0TGFiZWxTdGFydFBvaW50KG5ldyBEYXRlKHRoaXMudmlld3BvcnRNaW5pbXVtKSwgdGhpcy5pbnRlcnZhbFR5cGUsIHRoaXMuaW50ZXJ2YWwpO1xyXG5cdGVsc2VcclxuXHRcdHRoaXMuaW50ZXJ2YWxTdGFydFBvc2l0aW9uID0gTWF0aC5mbG9vcigodGhpcy52aWV3cG9ydE1pbmltdW0gKyAodGhpcy5pbnRlcnZhbCAqIC4yKSkgLyB0aGlzLmludGVydmFsKSAqIHRoaXMuaW50ZXJ2YWw7XHJcblxyXG5cdC8vU2V0IHZhbHVlRm9ybWF0U3RyaW5nXHJcblx0aWYgKCF0aGlzLnZhbHVlRm9ybWF0U3RyaW5nKSB7XHJcblx0XHR0aGlzLnZhbHVlRm9ybWF0U3RyaW5nID0gXCIjLCMjMC4jI1wiO1xyXG5cclxuXHRcdHJhbmdlID0gTWF0aC5hYnModGhpcy52aWV3cG9ydE1heGltdW0gLSB0aGlzLnZpZXdwb3J0TWluaW11bSk7XHJcblxyXG5cdFx0aWYgKHJhbmdlIDwgMSkge1xyXG5cdFx0XHR2YXIgbnVtYmVyT2ZEZWNpbWFscyA9IE1hdGguZmxvb3IoTWF0aC5hYnMoTWF0aC5sb2cocmFuZ2UpIC8gTWF0aC5MTjEwKSkgKyAyO1xyXG5cclxuXHRcdFx0aWYgKGlzTmFOKG51bWJlck9mRGVjaW1hbHMpIHx8ICFpc0Zpbml0ZShudW1iZXJPZkRlY2ltYWxzKSlcclxuXHRcdFx0XHRudW1iZXJPZkRlY2ltYWxzID0gMjtcclxuXHJcblx0XHRcdGlmIChudW1iZXJPZkRlY2ltYWxzID4gMikge1xyXG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbnVtYmVyT2ZEZWNpbWFscyAtIDI7IGkrKylcclxuXHRcdFx0XHRcdHRoaXMudmFsdWVGb3JtYXRTdHJpbmcgKz0gXCIjXCI7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxuXHQvL2lmIChpc0RlYnVnTW9kZSAmJiB3aW5kb3cuY29uc29sZSkge1xyXG5cdC8vICAgIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLnR5cGUgKyBcIjogTWluID0gXCIgKyB0aGlzLnZpZXdwb3J0TWluaW11bSk7XHJcblx0Ly8gICAgd2luZG93LmNvbnNvbGUubG9nKHRoaXMudHlwZSArIFwiOiBNYXggPSBcIiArIHRoaXMudmlld3BvcnRNYXhpbXVtKTtcclxuXHQvLyAgICB3aW5kb3cuY29uc29sZS5sb2codGhpcy50eXBlICsgXCI6IEludGVydmFsID0gXCIgKyB0aGlzLmludGVydmFsKTtcclxuXHQvL31cclxufVxyXG5cclxuQXhpcy5nZXROaWNlTnVtYmVyID0gZnVuY3Rpb24gKHgsIHJvdW5kKSB7XHJcblxyXG5cdHZhciBleHAgPSBNYXRoLmZsb29yKE1hdGgubG9nKHgpIC8gTWF0aC5MTjEwKTtcclxuXHR2YXIgZiA9IHggLyBNYXRoLnBvdygxMCwgZXhwKTtcclxuXHR2YXIgbmY7XHJcblxyXG5cdGlmIChyb3VuZCkge1xyXG5cdFx0aWYgKGYgPCAxLjUpXHJcblx0XHRcdG5mID0gMTtcclxuXHRcdGVsc2UgaWYgKGYgPCAzKVxyXG5cdFx0XHRuZiA9IDI7XHJcblx0XHRlbHNlIGlmIChmIDwgNylcclxuXHRcdFx0bmYgPSA1O1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRuZiA9IDEwO1xyXG5cdH1cclxuXHRlbHNlIHtcclxuXHRcdGlmIChmIDw9IDEpXHJcblx0XHRcdG5mID0gMTtcclxuXHRcdGVsc2UgaWYgKGYgPD0gMilcclxuXHRcdFx0bmYgPSAyO1xyXG5cdFx0ZWxzZSBpZiAoZiA8PSA1KVxyXG5cdFx0XHRuZiA9IDU7XHJcblx0XHRlbHNlIG5mID0gMTA7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gTnVtYmVyKChuZiAqIE1hdGgucG93KDEwLCBleHApKS50b0ZpeGVkKDIwKSk7XHJcbn1cclxuXHJcbkF4aXMucHJvdG90eXBlLmdldExhYmVsU3RhcnRQb2ludCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcblx0dmFyIGludGVydmFsSW5NaWxsaXNlY29uZHMgPSBjb252ZXJ0VG9OdW1iZXIodGhpcy5pbnRlcnZhbCwgdGhpcy5pbnRlcnZhbFR5cGUpO1xyXG5cdHZhciBtaW5pbXVtID0gTWF0aC5mbG9vcigodGhpcy52aWV3cG9ydE1pbmltdW0pIC8gaW50ZXJ2YWxJbk1pbGxpc2Vjb25kcykgKiBpbnRlcnZhbEluTWlsbGlzZWNvbmRzO1xyXG5cdHZhciBkYXRlVGltZSA9IG5ldyBEYXRlKG1pbmltdW0pO1xyXG5cclxuXHRpZiAodGhpcy5pbnRlcnZhbFR5cGUgPT09IFwibWlsbGlzZWNvbmRcIikge1xyXG5cdFx0Ly9taWxsaXNlY29uZCA9IGRhdGVUaW1lLmdldE1pbGxpU2Vjb25kKCk7XHJcblx0XHQvL21pbGxpc2Vjb25kID0gTWF0aC5mbG9vcigobWlsbGlzZWNvbmQgKyB0aGlzLmludGVydmFsKSAvIHRoaXMuaW50ZXJ2YWwpICogdGhpcy5pbnRlcnZhbDtcclxuXHR9XHJcblx0ZWxzZSBpZiAodGhpcy5pbnRlcnZhbFR5cGUgPT09IFwic2Vjb25kXCIpIHtcclxuXHRcdGlmIChkYXRlVGltZS5nZXRNaWxsaXNlY29uZHMoKSA+IDApIHtcclxuXHRcdFx0ZGF0ZVRpbWUuc2V0U2Vjb25kcyhkYXRlVGltZS5nZXRTZWNvbmRzKCkgKyAxKTtcclxuXHRcdFx0ZGF0ZVRpbWUuc2V0TWlsbGlzZWNvbmRzKDApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRlbHNlIGlmICh0aGlzLmludGVydmFsVHlwZSA9PT0gXCJtaW51dGVcIikge1xyXG5cdFx0aWYgKGRhdGVUaW1lLmdldFNlY29uZHMoKSA+IDAgfHwgZGF0ZVRpbWUuZ2V0TWlsbGlzZWNvbmRzKCkgPiAwKSB7XHJcblx0XHRcdGRhdGVUaW1lLnNldE1pbnV0ZXMoZGF0ZVRpbWUuZ2V0TWludXRlcygpICsgMSk7XHJcblx0XHRcdGRhdGVUaW1lLnNldFNlY29uZHMoMCk7XHJcblx0XHRcdGRhdGVUaW1lLnNldE1pbGxpc2Vjb25kcygwKTtcclxuXHRcdH1cclxuXHR9XHJcblx0ZWxzZSBpZiAodGhpcy5pbnRlcnZhbFR5cGUgPT09IFwiaG91clwiKSB7XHJcblx0XHRpZiAoZGF0ZVRpbWUuZ2V0TWludXRlcygpID4gMCB8fCBkYXRlVGltZS5nZXRTZWNvbmRzKCkgPiAwIHx8IGRhdGVUaW1lLmdldE1pbGxpc2Vjb25kcygpID4gMCkge1xyXG5cdFx0XHRkYXRlVGltZS5zZXRIb3VycyhkYXRlVGltZS5nZXRIb3VycygpICsgMSk7XHJcblx0XHRcdGRhdGVUaW1lLnNldE1pbnV0ZXMoMCk7XHJcblx0XHRcdGRhdGVUaW1lLnNldFNlY29uZHMoMCk7XHJcblx0XHRcdGRhdGVUaW1lLnNldE1pbGxpc2Vjb25kcygwKTtcclxuXHRcdH1cclxuXHR9XHJcblx0ZWxzZSBpZiAodGhpcy5pbnRlcnZhbFR5cGUgPT09IFwiZGF5XCIpIHtcclxuXHRcdGlmIChkYXRlVGltZS5nZXRIb3VycygpID4gMCB8fCBkYXRlVGltZS5nZXRNaW51dGVzKCkgPiAwIHx8IGRhdGVUaW1lLmdldFNlY29uZHMoKSA+IDAgfHwgZGF0ZVRpbWUuZ2V0TWlsbGlzZWNvbmRzKCkgPiAwKSB7XHJcblx0XHRcdGRhdGVUaW1lLnNldERhdGUoZGF0ZVRpbWUuZ2V0RGF0ZSgpICsgMSk7XHJcblx0XHRcdGRhdGVUaW1lLnNldEhvdXJzKDApO1xyXG5cdFx0XHRkYXRlVGltZS5zZXRNaW51dGVzKDApO1xyXG5cdFx0XHRkYXRlVGltZS5zZXRTZWNvbmRzKDApO1xyXG5cdFx0XHRkYXRlVGltZS5zZXRNaWxsaXNlY29uZHMoMCk7XHJcblx0XHR9XHJcblx0fVxyXG5cdGVsc2UgaWYgKHRoaXMuaW50ZXJ2YWxUeXBlID09PSBcIndlZWtcIikge1xyXG5cdFx0aWYgKGRhdGVUaW1lLmdldERheSgpID4gMCB8fCBkYXRlVGltZS5nZXRIb3VycygpID4gMCB8fCBkYXRlVGltZS5nZXRNaW51dGVzKCkgPiAwIHx8IGRhdGVUaW1lLmdldFNlY29uZHMoKSA+IDAgfHwgZGF0ZVRpbWUuZ2V0TWlsbGlzZWNvbmRzKCkgPiAwKSB7XHJcblx0XHRcdGRhdGVUaW1lLnNldERhdGUoZGF0ZVRpbWUuZ2V0RGF0ZSgpICsgKDcgLSBkYXRlVGltZS5nZXREYXkoKSkpO1xyXG5cdFx0XHRkYXRlVGltZS5zZXRIb3VycygwKTtcclxuXHRcdFx0ZGF0ZVRpbWUuc2V0TWludXRlcygwKTtcclxuXHRcdFx0ZGF0ZVRpbWUuc2V0U2Vjb25kcygwKTtcclxuXHRcdFx0ZGF0ZVRpbWUuc2V0TWlsbGlzZWNvbmRzKDApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRlbHNlIGlmICh0aGlzLmludGVydmFsVHlwZSA9PT0gXCJtb250aFwiKSB7XHJcblx0XHRpZiAoZGF0ZVRpbWUuZ2V0RGF0ZSgpID4gMSB8fCBkYXRlVGltZS5nZXRIb3VycygpID4gMCB8fCBkYXRlVGltZS5nZXRNaW51dGVzKCkgPiAwIHx8IGRhdGVUaW1lLmdldFNlY29uZHMoKSA+IDAgfHwgZGF0ZVRpbWUuZ2V0TWlsbGlzZWNvbmRzKCkgPiAwKSB7XHJcblx0XHRcdGRhdGVUaW1lLnNldE1vbnRoKGRhdGVUaW1lLmdldE1vbnRoKCkgKyAxKTtcclxuXHRcdFx0ZGF0ZVRpbWUuc2V0RGF0ZSgxKTtcclxuXHRcdFx0ZGF0ZVRpbWUuc2V0SG91cnMoMCk7XHJcblx0XHRcdGRhdGVUaW1lLnNldE1pbnV0ZXMoMCk7XHJcblx0XHRcdGRhdGVUaW1lLnNldFNlY29uZHMoMCk7XHJcblx0XHRcdGRhdGVUaW1lLnNldE1pbGxpc2Vjb25kcygwKTtcclxuXHRcdH1cclxuXHR9XHJcblx0ZWxzZSBpZiAodGhpcy5pbnRlcnZhbFR5cGUgPT09IFwieWVhclwiKSB7XHJcblx0XHRpZiAoZGF0ZVRpbWUuZ2V0TW9udGgoKSA+IDAgfHwgZGF0ZVRpbWUuZ2V0RGF0ZSgpID4gMSB8fCBkYXRlVGltZS5nZXRIb3VycygpID4gMCB8fCBkYXRlVGltZS5nZXRNaW51dGVzKCkgPiAwIHx8IGRhdGVUaW1lLmdldFNlY29uZHMoKSA+IDAgfHwgZGF0ZVRpbWUuZ2V0TWlsbGlzZWNvbmRzKCkgPiAwKSB7XHJcblx0XHRcdGRhdGVUaW1lLnNldEZ1bGxZZWFyKGRhdGVUaW1lLmdldEZ1bGxZZWFyKCkgKyAxKTtcclxuXHRcdFx0ZGF0ZVRpbWUuc2V0TW9udGgoMCk7XHJcblx0XHRcdGRhdGVUaW1lLnNldERhdGUoMSk7XHJcblx0XHRcdGRhdGVUaW1lLnNldEhvdXJzKDApO1xyXG5cdFx0XHRkYXRlVGltZS5zZXRNaW51dGVzKDApO1xyXG5cdFx0XHRkYXRlVGltZS5zZXRTZWNvbmRzKDApO1xyXG5cdFx0XHRkYXRlVGltZS5zZXRNaWxsaXNlY29uZHMoMCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gZGF0ZVRpbWU7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEF4aXM7XHJcbiIsImltcG9ydCB7dGhlbWVzfSBmcm9tICcuLi9jb25zdGFudHMvdGhlbWVzJztcclxuaW1wb3J0IHtpc0RlYnVnTW9kZSwgZGVmYXVsdE9wdGlvbnN9IGZyb20gJy4uL2NvbnN0YW50cy9vcHRpb25zJztcclxuXHJcbmZ1bmN0aW9uIENhbnZhc0pTT2JqZWN0KGRlZmF1bHRzS2V5LCBvcHRpb25zLCB0aGVtZSwgcGFyZW50KSB7XHJcbiAgdGhpcy5fZGVmYXVsdHNLZXkgPSBkZWZhdWx0c0tleTtcclxuXHJcbiAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XHJcblxyXG4gIHRoaXMuX2V2ZW50TGlzdGVuZXJzID0gW107Ly9NdWx0aWRpbWVudGlvbmFsIGFycmF5IHdpdGggYW4gYXJyYXkgZm9yIGVhY2ggZXZlbnQgdHlwZVxyXG5cclxuICB2YXIgY3VycmVudFRoZW1lT3B0aW9ucyA9IHt9O1xyXG5cclxuICBpZiAodGhlbWUgJiYgdGhlbWVzW3RoZW1lXSAmJiB0aGVtZXNbdGhlbWVdW2RlZmF1bHRzS2V5XSlcclxuICAgIGN1cnJlbnRUaGVtZU9wdGlvbnMgPSB0aGVtZXNbdGhlbWVdW2RlZmF1bHRzS2V5XTtcclxuXHJcbiAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge307XHJcbiAgdGhpcy5zZXRPcHRpb25zKHRoaXMuX29wdGlvbnMsIGN1cnJlbnRUaGVtZU9wdGlvbnMpO1xyXG59XHJcblxyXG5DYW52YXNKU09iamVjdC5wcm90b3R5cGUuc2V0T3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zLCBjdXJyZW50VGhlbWVPcHRpb25zKSB7XHJcblxyXG4gIGlmICghZGVmYXVsdE9wdGlvbnNbdGhpcy5fZGVmYXVsdHNLZXldKSB7XHJcbiAgICBpZiAoaXNEZWJ1Z01vZGUgJiYgd2luZG93LmNvbnNvbGUpXHJcbiAgICAgIGNvbnNvbGUubG9nKFwiZGVmYXVsdHMgbm90IHNldFwiKTtcclxuICB9XHJcbiAgZWxzZSB7XHJcbiAgICB2YXIgZGVmYXVsdHMgPSBkZWZhdWx0T3B0aW9uc1t0aGlzLl9kZWZhdWx0c0tleV07XHJcblxyXG4gICAgZm9yICh2YXIgcHJvcCBpbiBkZWZhdWx0cykge1xyXG5cclxuICAgICAgaWYgKGRlZmF1bHRzLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgIGlmIChvcHRpb25zICYmIHByb3AgaW4gb3B0aW9ucylcclxuICAgICAgICB0aGlzW3Byb3BdID0gb3B0aW9uc1twcm9wXTtcclxuICAgICAgZWxzZSBpZiAoY3VycmVudFRoZW1lT3B0aW9ucyAmJiBwcm9wIGluIGN1cnJlbnRUaGVtZU9wdGlvbnMpXHJcbiAgICAgICAgdGhpc1twcm9wXSA9IGN1cnJlbnRUaGVtZU9wdGlvbnNbcHJvcF07XHJcbiAgICAgIGVsc2UgdGhpc1twcm9wXSA9IGRlZmF1bHRzW3Byb3BdO1xyXG5cclxuICAgICAgLy9pZiAodHlwZW9mIHRoaXNbcHJvcF0gPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAvLyAgICBhbGVydChcImZ1bmN0aW9uXCIpO1xyXG4gICAgICAvLyAgICB0aGlzW3Byb3BdID0gdGhpc1twcm9wXSgpO1xyXG4gICAgICAvL31cclxuICAgIH1cclxuXHJcbiAgfVxyXG4gIH1cclxufTtcclxuXHJcbi8vIFVwZGF0ZSBvcHRpb25zLiBSZXR1cm5zIHRydWUgaWYgY2hhbmdlZCBvciBlbHNlIGZhbHNlXHJcbkNhbnZhc0pTT2JqZWN0LnByb3RvdHlwZS51cGRhdGVPcHRpb24gPSBmdW5jdGlvbiAocHJvcCkge1xyXG5cclxuICBpZiAoIWRlZmF1bHRPcHRpb25zW3RoaXMuX2RlZmF1bHRzS2V5XSAmJiBpc0RlYnVnTW9kZSAmJiB3aW5kb3cuY29uc29sZSlcclxuICAgIGNvbnNvbGUubG9nKFwiZGVmYXVsdHMgbm90IHNldFwiKTtcclxuXHJcbiAgdmFyIGRlZmF1bHRzID0gZGVmYXVsdE9wdGlvbnNbdGhpcy5fZGVmYXVsdHNLZXldO1xyXG4gIHZhciB0aGVtZSA9IHRoaXMuX29wdGlvbnMudGhlbWUgPyB0aGlzLl9vcHRpb25zLnRoZW1lIDogKHRoaXMuY2hhcnQgJiYgdGhpcy5jaGFydC5fb3B0aW9ucy50aGVtZSkgPyB0aGlzLmNoYXJ0Ll9vcHRpb25zLnRoZW1lIDogXCJ0aGVtZTFcIjtcclxuXHJcbiAgdmFyIGN1cnJlbnRUaGVtZU9wdGlvbnMgPSB7fTtcclxuICB2YXIgbmV3VmFsdWUgPSB0aGlzW3Byb3BdO1xyXG5cclxuICBpZiAodGhlbWUgJiYgdGhlbWVzW3RoZW1lXSAmJiB0aGVtZXNbdGhlbWVdW3RoaXMuX2RlZmF1bHRzS2V5XSlcclxuICAgIGN1cnJlbnRUaGVtZU9wdGlvbnMgPSB0aGVtZXNbdGhlbWVdW3RoaXMuX2RlZmF1bHRzS2V5XTtcclxuXHJcbiAgaWYgKHByb3AgaW4gZGVmYXVsdHMpIHtcclxuICAgIGlmIChwcm9wIGluIHRoaXMuX29wdGlvbnMpXHJcbiAgICAgIG5ld1ZhbHVlID0gdGhpcy5fb3B0aW9uc1twcm9wXTtcclxuICAgIGVsc2UgaWYgKGN1cnJlbnRUaGVtZU9wdGlvbnMgJiYgcHJvcCBpbiBjdXJyZW50VGhlbWVPcHRpb25zKVxyXG4gICAgICBuZXdWYWx1ZSA9IGN1cnJlbnRUaGVtZU9wdGlvbnNbcHJvcF07XHJcbiAgICBlbHNlIG5ld1ZhbHVlID0gZGVmYXVsdHNbcHJvcF07XHJcbiAgfVxyXG5cclxuICBpZiAobmV3VmFsdWUgPT09IHRoaXNbcHJvcF0pXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gIHRoaXNbcHJvcF0gPSBuZXdWYWx1ZTtcclxuICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuLy9TdG9yZXMgdmFsdWVzIGluIF9vbGRPcHRpb25zIHNvIHRoYXQgaXQgY2FuIGJlIHRyYWNrZWQgZm9yIGFueSBjaGFuZ2VzXHJcbkNhbnZhc0pTT2JqZWN0LnByb3RvdHlwZS50cmFja0NoYW5nZXMgPSBmdW5jdGlvbiAob3B0aW9uKSB7XHJcbiAgaWYgKCF0aGlzLnNlc3Npb25WYXJpYWJsZXMpXHJcbiAgICB0aHJvdyBcIlNlc3Npb24gVmFyaWFibGUgU3RvcmUgbm90IHNldFwiO1xyXG5cclxuICB0aGlzLnNlc3Npb25WYXJpYWJsZXNbb3B0aW9uXSA9IHRoaXMuX29wdGlvbnNbb3B0aW9uXTtcclxufTtcclxuXHJcbkNhbnZhc0pTT2JqZWN0LnByb3RvdHlwZS5pc0JlaW5nVHJhY2tlZCA9IGZ1bmN0aW9uIChvcHRpb24pIHtcclxuICBpZiAoIXRoaXMuX29wdGlvbnMuX29sZE9wdGlvbnMpXHJcbiAgICB0aGlzLl9vcHRpb25zLl9vbGRPcHRpb25zID0ge307XHJcblxyXG4gIGlmICh0aGlzLl9vcHRpb25zLl9vbGRPcHRpb25zW29wdGlvbl0pXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICBlbHNlXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn07XHJcblxyXG5DYW52YXNKU09iamVjdC5wcm90b3R5cGUuaGFzT3B0aW9uQ2hhbmdlZCA9IGZ1bmN0aW9uIChvcHRpb24pIHtcclxuICBpZiAoIXRoaXMuc2Vzc2lvblZhcmlhYmxlcylcclxuICAgIHRocm93IFwiU2Vzc2lvbiBWYXJpYWJsZSBTdG9yZSBub3Qgc2V0XCI7XHJcblxyXG4gIHZhciBoYXNDaGFuZ2VkID0gISh0aGlzLnNlc3Npb25WYXJpYWJsZXNbb3B0aW9uXSA9PT0gdGhpcy5fb3B0aW9uc1tvcHRpb25dKTtcclxuXHJcbiAgcmV0dXJuIGhhc0NoYW5nZWQ7XHJcbn07XHJcblxyXG5DYW52YXNKU09iamVjdC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGV2ZW50SGFuZGxlciwgY29udGV4dCkge1xyXG4gIGlmICghZXZlbnROYW1lIHx8ICFldmVudEhhbmRsZXIpXHJcbiAgICByZXR1cm47XHJcblxyXG4gIGNvbnRleHQgPSBjb250ZXh0IHx8IHRoaXM7XHJcblxyXG4gIHRoaXMuX2V2ZW50TGlzdGVuZXJzW2V2ZW50TmFtZV0gPSB0aGlzLl9ldmVudExpc3RlbmVyc1tldmVudE5hbWVdIHx8IFtdO1xyXG5cclxuICB0aGlzLl9ldmVudExpc3RlbmVyc1tldmVudE5hbWVdLnB1c2goeyBjb250ZXh0OiBjb250ZXh0LCBldmVudEhhbmRsZXI6IGV2ZW50SGFuZGxlciB9KTtcclxufVxyXG5cclxuQ2FudmFzSlNPYmplY3QucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBldmVudEhhbmRsZXIpIHtcclxuICBpZiAoIWV2ZW50TmFtZSB8fCAhZXZlbnRIYW5kbGVyIHx8ICF0aGlzLl9ldmVudExpc3RlbmVyc1tldmVudE5hbWVdKVxyXG4gICAgcmV0dXJuO1xyXG5cclxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRMaXN0ZW5lcnNbZXZlbnROYW1lXTtcclxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xyXG5cclxuICAgIGlmIChsaXN0ZW5lcnNbaV0uZXZlbnRIYW5kbGVyID09PSBldmVudEhhbmRsZXIpIHtcclxuICAgICAgbGlzdGVuZXJzW2ldLnNwbGljZShpLCAxKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5DYW52YXNKU09iamVjdC5wcm90b3R5cGUucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdGhpcy5fZXZlbnRMaXN0ZW5lcnMgPSBbXTtcclxufVxyXG5cclxuQ2FudmFzSlNPYmplY3QucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBldmVudFBhcmFtZXRlciwgY29udGV4dCkge1xyXG5cclxuICAvL0ZvciBJbnRlcm5hbCBFdmVudHNcclxuICBpZiAoZXZlbnROYW1lICYmIHRoaXMuX2V2ZW50TGlzdGVuZXJzW2V2ZW50TmFtZV0pIHtcclxuXHJcbiAgZXZlbnRQYXJhbWV0ZXIgPSBldmVudFBhcmFtZXRlciB8fCB7fTtcclxuXHJcbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50TGlzdGVuZXJzW2V2ZW50TmFtZV07XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICBsaXN0ZW5lcnNbaV0uZXZlbnRIYW5kbGVyLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGV2ZW50UGFyYW1ldGVyKTtcclxuICB9XHJcbn1cclxuXHJcbiAgLy9FeHRlcm5hbCBFdmVudHMgZG8gbm90IHJlcXVpcmUgcmVnaXN0ZXJpbmcgYXMgdGhlIHByb3BlcnR5IG5hbWUgaXMgc3VmZmllbnQgdG8gZmlyZSB0aGUgZXZlbnQuXHJcbiAgaWYgKHR5cGVvZiAodGhpc1tldmVudE5hbWVdKSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICB0aGlzW2V2ZW50TmFtZV0uY2FsbChjb250ZXh0IHx8IHRoaXMuY2hhcnQuX3B1YmxpY0NoYXJ0UmVmZXJlbmNlLCBldmVudFBhcmFtZXRlcik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDYW52YXNKU09iamVjdDtcclxuIiwiXHJcbmltcG9ydCBDYW52YXNKU09iamVjdCBmcm9tICcuL2NhbnZhc2pzJztcclxuaW1wb3J0IEFuaW1hdG9yIGZyb20gJy4vYW5pbWF0b3InO1xyXG5pbXBvcnQgRGF0YVNlcmllcyBmcm9tICcuL2RhdGFfc2VyaWVzJztcclxuaW1wb3J0IFRleHRCbG9jayBmcm9tICcuL3RleHRfYmxvY2snO1xyXG5pbXBvcnQgUmVuZGVySGVscGVyIGZyb20gJy4uL2hlbHBlcnMvcmVuZGVyJztcclxuaW1wb3J0IExheW91dE1hbmFnZXIgZnJvbSAnLi9sYXlvdXRfbWFuYWdlcic7XHJcbmltcG9ydCBFdmVudE1hbmFnZXIgZnJvbSAnLi9ldmVudF9tYW5hZ2VyJztcclxuaW1wb3J0IFRvb2xUaXAgZnJvbSAnLi90b29sdGlwJztcclxuaW1wb3J0IEN1bHR1cmVJbmZvIGZyb20gJy4uL2NvcmUvY3VsdHVyZV9pbmZvJztcclxuaW1wb3J0IEF4aXMgZnJvbSAnLi4vY29yZS9heGlzJztcclxuaW1wb3J0IFRpdGxlIGZyb20gJy4uL2NvcmUvdGl0bGUnO1xyXG5pbXBvcnQgTGVnZW5kIGZyb20gJy4uL2NvcmUvbGVnZW5kJztcclxuaW1wb3J0IEFuaW1hdGlvbkhlbHBlciBmcm9tICcuLi9oZWxwZXJzL2FuaW1hdG9yJztcclxuaW1wb3J0IHtjb2xvclNldHN9IGZyb20gJy4uL2NvbnN0YW50cy90aGVtZXMnO1xyXG5pbXBvcnQge2lzRGVidWdNb2RlLCBkZWZhdWx0T3B0aW9uc30gZnJvbSAnLi4vY29uc3RhbnRzL29wdGlvbnMnO1xyXG4vLyBpbXBvcnQge2luaGVyaXRzfSBmcm9tICd1dGlsJztcclxuXHJcbmltcG9ydCB7XHJcblx0YWRkRXZlbnQsXHJcblx0c2V0Q2FudmFzU2l6ZSxcclxuXHRhZGRBcnJheUluZGV4T2YsXHJcblx0aGlkZSxcclxuXHRzaG93LFxyXG5cdGdldE1vdXNlQ29vcmRpbmF0ZXMsXHJcblx0Z2V0UHJvcGVydHksXHJcblx0aXNDYW52YXNTdXBwb3J0ZWQsXHJcblx0ZXh0ZW5kLFxyXG5cdGNyZWF0ZUNhbnZhcyxcclxuXHRleHRlbmRDdHgsXHJcblx0Z2V0T2JqZWN0SWQsXHJcblx0Z2V0RGV2aWNlUGl4ZWxCYWNraW5nU3RvcmVSYXRpbyxcclxuXHR0cmltU3RyaW5nLFxyXG5cdG51bWJlckZvcm1hdCxcclxuXHRnZXRMaW5lRGFzaEFycmF5LFxyXG5cdGludFRvSGV4Q29sb3JTdHJpbmcsXHJcblx0Y29tcGFyZURhdGFQb2ludFhcclxufSBmcm9tICcuLi9oZWxwZXJzL3V0aWxzJztcclxuXHJcbmltcG9ydCB7XHJcblx0U3BsaW5lQ2hhcnQsXHJcblx0Q29sdW1uQ2hhcnQsXHJcblx0U3RhY2tlZENvbHVtbkNoYXJ0LFxyXG5cdFN0YWNrZWRDb2x1bW4xMDBDaGFydCxcclxuXHRCYXJDaGFydCxcclxuXHRTdGFja2VkQmFyQ2hhcnQsXHJcblx0U3RhY2tlZEJhcjEwMENoYXJ0LFxyXG5cdEFyZWFDaGFydCxcclxuXHRTcGxpbmVBcmVhQ2hhcnQsXHJcblx0U3RlcEFyZWFDaGFydCxcclxuXHRTdGFja2VkQXJlYUNoYXJ0LFxyXG5cdFN0YWNrZWRBcmVhMTAwQ2hhcnQsXHJcblx0QnViYmxlQ2hhcnQsXHJcblx0U2NhdHRlckNoYXJ0LFxyXG5cdENhbmRsZXN0aWNrQ2hhcnQsXHJcblx0UmFuZ2VDb2x1bW5DaGFydCxcclxuXHRSYW5nZUJhckNoYXJ0LFxyXG5cdFJhbmdlQXJlYUNoYXJ0LFxyXG5cdFJhbmdlU3BsaW5lQXJlYUNoYXJ0LFxyXG5cdFBpZUNoYXJ0XHJcbn0gZnJvbSAnLi4vY2hhcnRzL2luZGV4JztcclxuXHJcbnZhciBkZXZpY2VQaXhlbEJhY2tpbmdTdG9yZVJhdGlvID0gZ2V0RGV2aWNlUGl4ZWxCYWNraW5nU3RvcmVSYXRpbygpO1xyXG5cclxuZnVuY3Rpb24gQ2hhcnQoY29udGFpbmVySWQsIG9wdGlvbnMsIHB1YmxpY0NoYXJ0UmVmZXJlbmNlKSB7XHJcblxyXG5cdHRoaXMuX3B1YmxpY0NoYXJ0UmVmZXJlbmNlID0gcHVibGljQ2hhcnRSZWZlcmVuY2U7XHJcblxyXG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG5cclxuXHRDaGFydC5iYXNlLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgXCJDaGFydFwiLCBvcHRpb25zLCBvcHRpb25zLnRoZW1lID8gb3B0aW9ucy50aGVtZSA6IFwidGhlbWUxXCIpO1xyXG5cclxuXHR2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuXHR0aGlzLl9jb250YWluZXJJZCA9IGNvbnRhaW5lcklkO1xyXG5cdHRoaXMuX29iamVjdHNJbml0aWFsaXplZCA9IGZhbHNlO1xyXG5cdHRoaXMuY3R4ID0gbnVsbDtcclxuXHR0aGlzLm92ZXJsYWlkQ2FudmFzQ3R4ID0gbnVsbDtcclxuXHR0aGlzLl9pbmRleExhYmVscyA9IFtdO1xyXG5cdHRoaXMuX3BhblRpbWVySWQgPSAwO1xyXG5cdHRoaXMuX2xhc3RUb3VjaEV2ZW50VHlwZSA9IFwiXCI7XHJcblx0dGhpcy5fbGFzdFRvdWNoRGF0YSA9IG51bGw7XHJcblx0dGhpcy5pc0FuaW1hdGluZyA9IGZhbHNlO1xyXG5cdHRoaXMucmVuZGVyQ291bnQgPSAwO1xyXG5cdHRoaXMuYW5pbWF0ZWRSZW5kZXIgPSBmYWxzZTtcclxuXHR0aGlzLmRpc2FibGVUb29sVGlwID0gZmFsc2U7XHJcblxyXG5cclxuXHR0aGlzLnBhbkVuYWJsZWQgPSBmYWxzZTtcclxuXHR0aGlzLl9kZWZhdWx0Q3Vyc29yID0gXCJkZWZhdWx0XCI7XHJcblx0dGhpcy5wbG90QXJlYSA9IHsgY2FudmFzOiBudWxsLCBjdHg6IG51bGwsIHgxOiAwLCB5MTogMCwgeDI6IDAsIHkyOiAwLCB3aWR0aDogMCwgaGVpZ2h0OiAwIH07XHJcblx0dGhpcy5fZGF0YUluUmVuZGVyZWRPcmRlciA9IFtdO1xyXG5cclxuXHR0aGlzLl9jb250YWluZXIgPSB0eXBlb2YgKHRoaXMuX2NvbnRhaW5lcklkKSA9PT0gXCJzdHJpbmdcIiA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuX2NvbnRhaW5lcklkKSA6IHRoaXMuX2NvbnRhaW5lcklkO1xyXG5cclxuXHRpZiAoIXRoaXMuX2NvbnRhaW5lcikge1xyXG5cdFx0aWYgKHdpbmRvdy5jb25zb2xlKVxyXG5cdFx0XHR3aW5kb3cuY29uc29sZS5sb2coXCJDYW52YXNKUyBFcnJvcjogQ2hhcnQgQ29udGFpbmVyIHdpdGggaWQgXFxcIlwiICsgdGhpcy5fY29udGFpbmVySWQgKyBcIlxcXCIgd2FzIG5vdCBmb3VuZFwiKTtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdHRoaXMuX2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xyXG5cclxuXHR2YXIgd2lkdGggPSAwO1xyXG5cdHZhciBoZWlnaHQgPSAwO1xyXG5cclxuXHRpZiAodGhpcy5fb3B0aW9ucy53aWR0aClcclxuXHRcdHdpZHRoID0gdGhpcy53aWR0aDtcclxuXHRlbHNlXHJcblx0XHR3aWR0aCA9IHRoaXMuX2NvbnRhaW5lci5jbGllbnRXaWR0aCA+IDAgPyB0aGlzLl9jb250YWluZXIuY2xpZW50V2lkdGggOiB0aGlzLndpZHRoO1xyXG5cclxuXHRpZiAodGhpcy5fb3B0aW9ucy5oZWlnaHQpXHJcblx0XHRoZWlnaHQgPSB0aGlzLmhlaWdodDtcclxuXHRlbHNlXHJcblx0XHRoZWlnaHQgPSB0aGlzLl9jb250YWluZXIuY2xpZW50SGVpZ2h0ID4gMCA/IHRoaXMuX2NvbnRhaW5lci5jbGllbnRIZWlnaHQgOiB0aGlzLmhlaWdodDtcclxuXHJcblx0dGhpcy53aWR0aCA9IHdpZHRoO1xyXG5cdHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG5cclxuXHR0aGlzLngxID0gdGhpcy55MSA9IDA7XHJcblx0dGhpcy54MiA9IHRoaXMud2lkdGg7XHJcblx0dGhpcy55MiA9IHRoaXMuaGVpZ2h0O1xyXG5cclxuXHJcblx0dGhpcy5fc2VsZWN0ZWRDb2xvclNldCA9IHR5cGVvZiAoY29sb3JTZXRzW3RoaXMuY29sb3JTZXRdKSAhPT0gXCJ1bmRlZmluZWRcIiA/IGNvbG9yU2V0c1t0aGlzLmNvbG9yU2V0XSA6IGNvbG9yU2V0c1tcImNvbG9yU2V0MVwiXTtcclxuXHJcblx0dGhpcy5fY2FudmFzSlNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdHRoaXMuX2NhbnZhc0pTQ29udGFpbmVyLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FudmFzanMtY2hhcnQtY29udGFpbmVyXCIpO1xyXG5cclxuXHR0aGlzLl9jYW52YXNKU0NvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcclxuXHR0aGlzLl9jYW52YXNKU0NvbnRhaW5lci5zdHlsZS50ZXh0QWxpZ24gPSBcImxlZnRcIjtcclxuXHR0aGlzLl9jYW52YXNKU0NvbnRhaW5lci5zdHlsZS5jdXJzb3IgPSBcImF1dG9cIjtcclxuXHJcblx0aWYgKCFpc0NhbnZhc1N1cHBvcnRlZCkge1xyXG5cdFx0dGhpcy5fY2FudmFzSlNDb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gXCIwcHhcIjsvL0luIElFNiB0b29sVGlwIGRvZXNuJ3Qgc2hvdyBhdCBwcm9wZXIgcG9zaXRpb24gaWYgbm90IHNldC5cclxuXHR9XHJcblx0dGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuX2NhbnZhc0pTQ29udGFpbmVyKTtcclxuXHJcblxyXG5cdHRoaXMuY2FudmFzID0gY3JlYXRlQ2FudmFzKHdpZHRoLCBoZWlnaHQpO1xyXG5cclxuXHR0aGlzLmNhbnZhcy5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcclxuXHRpZiAodGhpcy5jYW52YXMuZ2V0Q29udGV4dCkge1xyXG5cdFx0Ly90cnkge1xyXG5cdFx0Ly9cdHRoaXMuY2FudmFzLnN0eWxlLmJhY2tncm91bmQgPSB0aGlzLmJhY2tncm91bmRDb2xvcjtcclxuXHRcdC8vfSBjYXRjaCAoZSkgeyB9XHJcblx0XHR0aGlzLl9jYW52YXNKU0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmNhbnZhcyk7XHJcblx0XHR0aGlzLmN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuXHRcdHRoaXMuY3R4LnRleHRCYXNlbGluZSA9IFwidG9wXCI7XHJcblx0XHRleHRlbmRDdHgodGhpcy5jdHgpO1xyXG5cclxuXHR9IGVsc2UgcmV0dXJuO1xyXG5cclxuXHQvL3RoaXMuY2FudmFzLnN0eWxlLmN1cnNvciA9IFwicG9pbnRlclwiO1xyXG5cclxuXHRpZiAoIWlzQ2FudmFzU3VwcG9ydGVkKSB7XHJcblx0XHR0aGlzLnBsb3RBcmVhLmNhbnZhcyA9IGNyZWF0ZUNhbnZhcyh3aWR0aCwgaGVpZ2h0KTtcclxuXHRcdHRoaXMucGxvdEFyZWEuY2FudmFzLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xyXG5cdFx0dGhpcy5wbG90QXJlYS5jYW52YXMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJwbG90QXJlYUNhbnZhc1wiKTtcclxuXHRcdHRoaXMuX2NhbnZhc0pTQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMucGxvdEFyZWEuY2FudmFzKTtcclxuXHJcblx0XHR0aGlzLnBsb3RBcmVhLmN0eCA9IHRoaXMucGxvdEFyZWEuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0dGhpcy5wbG90QXJlYS5jdHggPSB0aGlzLmN0eDtcclxuXHR9XHJcblxyXG5cdHRoaXMub3ZlcmxhaWRDYW52YXMgPSBjcmVhdGVDYW52YXMod2lkdGgsIGhlaWdodCk7XHJcblx0dGhpcy5vdmVybGFpZENhbnZhcy5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcclxuXHR0aGlzLl9jYW52YXNKU0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLm92ZXJsYWlkQ2FudmFzKTtcclxuXHR0aGlzLm92ZXJsYWlkQ2FudmFzQ3R4ID0gdGhpcy5vdmVybGFpZENhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcblx0dGhpcy5vdmVybGFpZENhbnZhc0N0eC50ZXh0QmFzZWxpbmUgPSBcInRvcFwiO1xyXG5cclxuXHR0aGlzLl9ldmVudE1hbmFnZXIgPSBuZXcgRXZlbnRNYW5hZ2VyKHRoaXMpO1xyXG5cclxuXHRhZGRFdmVudCh3aW5kb3csIFwicmVzaXplXCIsIGZ1bmN0aW9uICgpIHtcclxuXHRcdC8vdGhpcy5fY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJET01TdWJ0cmVlTW9kaWZpZWRcIiwgZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdGlmIChfdGhpcy5fdXBkYXRlU2l6ZSgpKVxyXG5cdFx0XHRfdGhpcy5yZW5kZXIoKTtcclxuXHR9KTtcclxuXHJcblxyXG5cdHRoaXMuX3Rvb2xCYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdHRoaXMuX3Rvb2xCYXIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYW52YXNqcy1jaGFydC10b29sYmFyXCIpO1xyXG5cdHRoaXMuX3Rvb2xCYXIuc3R5bGUuY3NzVGV4dCA9IFwicG9zaXRpb246IGFic29sdXRlOyByaWdodDogMXB4OyB0b3A6IDFweDtcIjtcclxuXHR0aGlzLl9jYW52YXNKU0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLl90b29sQmFyKTtcclxuXHJcblxyXG5cdHRoaXMuYm91bmRzID0geyB4MTogMCwgeTE6IDAsIHgyOiB0aGlzLndpZHRoLCB5MjogdGhpcy5oZWlnaHQgfTtcclxuXHJcblx0YWRkRXZlbnQodGhpcy5vdmVybGFpZENhbnZhcywgJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuXHRcdF90aGlzLl9tb3VzZUV2ZW50SGFuZGxlcihlKTtcclxuXHR9KTtcclxuXHJcblx0YWRkRXZlbnQodGhpcy5vdmVybGFpZENhbnZhcywgJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChlKSB7XHJcblx0XHRfdGhpcy5fbW91c2VFdmVudEhhbmRsZXIoZSk7XHJcblx0fSk7XHJcblxyXG5cdGFkZEV2ZW50KHRoaXMub3ZlcmxhaWRDYW52YXMsICdtb3VzZXVwJywgZnVuY3Rpb24gKGUpIHtcclxuXHRcdF90aGlzLl9tb3VzZUV2ZW50SGFuZGxlcihlKTtcclxuXHR9KTtcclxuXHJcblx0YWRkRXZlbnQodGhpcy5vdmVybGFpZENhbnZhcywgJ21vdXNlZG93bicsIGZ1bmN0aW9uIChlKSB7XHJcblx0XHRfdGhpcy5fbW91c2VFdmVudEhhbmRsZXIoZSk7XHJcblx0XHRoaWRlKF90aGlzLl9kcm9wZG93bk1lbnUpO1xyXG5cdH0pO1xyXG5cclxuXHRhZGRFdmVudCh0aGlzLm92ZXJsYWlkQ2FudmFzLCAnbW91c2VvdXQnLCBmdW5jdGlvbiAoZSkge1xyXG5cdFx0X3RoaXMuX21vdXNlRXZlbnRIYW5kbGVyKGUpO1xyXG5cdH0pO1xyXG5cclxuXHJcblx0YWRkRXZlbnQodGhpcy5vdmVybGFpZENhbnZhcywgd2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkID8gXCJNU1BvaW50ZXJEb3duXCIgOiBcInRvdWNoc3RhcnRcIiwgZnVuY3Rpb24gKGUpIHtcclxuXHRcdF90aGlzLl90b3VjaEV2ZW50SGFuZGxlcihlKTtcclxuXHR9KTtcclxuXHJcblx0YWRkRXZlbnQodGhpcy5vdmVybGFpZENhbnZhcywgd2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkID8gXCJNU1BvaW50ZXJNb3ZlXCIgOiAndG91Y2htb3ZlJywgZnVuY3Rpb24gKGUpIHtcclxuXHRcdF90aGlzLl90b3VjaEV2ZW50SGFuZGxlcihlKTtcclxuXHR9KTtcclxuXHJcblx0YWRkRXZlbnQodGhpcy5vdmVybGFpZENhbnZhcywgd2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkID8gXCJNU1BvaW50ZXJVcFwiIDogJ3RvdWNoZW5kJywgZnVuY3Rpb24gKGUpIHtcclxuXHRcdF90aGlzLl90b3VjaEV2ZW50SGFuZGxlcihlKTtcclxuXHR9KTtcclxuXHJcblx0YWRkRXZlbnQodGhpcy5vdmVybGFpZENhbnZhcywgd2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkID8gXCJNU1BvaW50ZXJDYW5jZWxcIiA6ICd0b3VjaGNhbmNlbCcsIGZ1bmN0aW9uIChlKSB7XHJcblx0XHRfdGhpcy5fdG91Y2hFdmVudEhhbmRsZXIoZSk7XHJcblx0fSk7XHJcblxyXG5cdGlmICghdGhpcy5fY3JlZGl0TGluaykge1xyXG5cclxuXHRcdHRoaXMuX2NyZWRpdExpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcclxuXHRcdHRoaXMuX2NyZWRpdExpbmsuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYW52YXNqcy1jaGFydC1jcmVkaXRcIik7XHJcblx0XHR0aGlzLl9jcmVkaXRMaW5rLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIFwib3V0bGluZTpub25lO21hcmdpbjowcHg7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6M3B4O3RvcDpcIiArICh0aGlzLmhlaWdodCAtIDE0KSArIFwicHg7Y29sb3I6ZGltZ3JleTt0ZXh0LWRlY29yYXRpb246bm9uZTtmb250LXNpemU6MTBweDtmb250LWZhbWlseTpMdWNpZGEgR3JhbmRlLCBMdWNpZGEgU2FucyBVbmljb2RlLCBBcmlhbCwgc2Fucy1zZXJpZlwiKTtcclxuXHJcblx0XHR0aGlzLl9jcmVkaXRMaW5rLnNldEF0dHJpYnV0ZShcInRhYkluZGV4XCIsIC0xKTtcclxuXHJcblx0XHR0aGlzLl9jcmVkaXRMaW5rLnNldEF0dHJpYnV0ZShcInRhcmdldFwiLCBcIl9ibGFua1wiKTtcclxuXHR9XHJcblxyXG5cdHRoaXMuX3Rvb2xUaXAgPSBuZXcgVG9vbFRpcCh0aGlzLCB0aGlzLl9vcHRpb25zLnRvb2xUaXAsIHRoaXMudGhlbWUpO1xyXG5cclxuXHR0aGlzLmRhdGEgPSBudWxsO1xyXG5cdHRoaXMuYXhpc1ggPSBudWxsO1xyXG5cdHRoaXMuYXhpc1kgPSBudWxsO1xyXG5cdHRoaXMuYXhpc1kyID0gbnVsbDtcclxuXHJcblx0dGhpcy5zZXNzaW9uVmFyaWFibGVzID0ge1xyXG5cdFx0YXhpc1g6IHt9LFxyXG5cdFx0YXhpc1k6IHt9LFxyXG5cdFx0YXhpc1kyOiB7fVxyXG5cdH07XHJcbn1cclxuXHJcbmV4dGVuZChDaGFydCwgQ2FudmFzSlNPYmplY3QpO1xyXG5cclxuLy9VcGRhdGUgQ2hhcnQgUHJvcGVydGllc1xyXG5DaGFydC5wcm90b3R5cGUuX3VwZGF0ZU9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG5cdHRoaXMudXBkYXRlT3B0aW9uKFwid2lkdGhcIik7XHJcblx0dGhpcy51cGRhdGVPcHRpb24oXCJoZWlnaHRcIik7XHJcblx0dGhpcy51cGRhdGVPcHRpb24oXCJkYXRhUG9pbnRNYXhXaWR0aFwiKTtcclxuXHR0aGlzLnVwZGF0ZU9wdGlvbihcImludGVyYWN0aXZpdHlFbmFibGVkXCIpO1xyXG5cdHRoaXMudXBkYXRlT3B0aW9uKFwidGhlbWVcIik7XHJcblxyXG5cdGlmICh0aGlzLnVwZGF0ZU9wdGlvbihcImNvbG9yU2V0XCIpKVxyXG5cdFx0dGhpcy5fc2VsZWN0ZWRDb2xvclNldCA9IHR5cGVvZiAoY29sb3JTZXRzW3RoaXMuY29sb3JTZXRdKSAhPT0gXCJ1bmRlZmluZWRcIiA/IGNvbG9yU2V0c1t0aGlzLmNvbG9yU2V0XSA6IGNvbG9yU2V0c1tcImNvbG9yU2V0MVwiXTtcclxuXHJcblx0dGhpcy51cGRhdGVPcHRpb24oXCJiYWNrZ3JvdW5kQ29sb3JcIik7XHJcblx0aWYgKCF0aGlzLmJhY2tncm91bmRDb2xvcilcclxuXHRcdHRoaXMuYmFja2dyb3VuZENvbG9yID0gXCJyZ2JhKDAsMCwwLDApXCI7XHJcblxyXG5cdHRoaXMudXBkYXRlT3B0aW9uKFwiY3VsdHVyZVwiKTtcclxuXHR0aGlzLl9jdWx0dXJlSW5mbyA9IG5ldyBDdWx0dXJlSW5mbyh0aGlzLl9vcHRpb25zLmN1bHR1cmUpO1xyXG5cclxuXHR0aGlzLnVwZGF0ZU9wdGlvbihcImFuaW1hdGlvbkVuYWJsZWRcIik7XHJcblx0dGhpcy5hbmltYXRpb25FbmFibGVkID0gdGhpcy5hbmltYXRpb25FbmFibGVkICYmIGlzQ2FudmFzU3VwcG9ydGVkO1xyXG5cdHRoaXMudXBkYXRlT3B0aW9uKFwiYW5pbWF0aW9uRHVyYXRpb25cIik7XHJcblxyXG5cdHRoaXMudXBkYXRlT3B0aW9uKFwicmFuZ2VDaGFuZ2luZ1wiKTtcclxuXHR0aGlzLnVwZGF0ZU9wdGlvbihcInJhbmdlQ2hhbmdlZFwiKTtcclxuXHJcblx0Ly9OZWVkIHRvIGNoZWNrIHRoaXMuX29wdGlvbnMuem9vbUVuYWJsZWQgYmVjYXVzZSB0aGlzLnpvb21FbmFibGVkIGlzIHVzZWQgaW50ZXJuYWxseSB0byBrZWVwIHRyYWNrIG9mIHN0YXRlIC0gYW5kIGhlbmNlIGNoYW5nZXMuXHJcblx0aWYgKHRoaXMuX29wdGlvbnMuem9vbUVuYWJsZWQpIHtcclxuXHJcblx0XHRpZiAoIXRoaXMuX3pvb21CdXR0b24pIHtcclxuXHJcblx0XHRcdGhpZGUodGhpcy5fem9vbUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIikpO1xyXG5cclxuXHRcdFx0c2V0QnV0dG9uU3RhdGUodGhpcywgdGhpcy5fem9vbUJ1dHRvbiwgXCJwYW5cIik7XHJcblxyXG5cdFx0XHR0aGlzLl90b29sQmFyLmFwcGVuZENoaWxkKHRoaXMuX3pvb21CdXR0b24pO1xyXG5cdFx0XHRhZGRFdmVudCh0aGlzLl96b29tQnV0dG9uLCBcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRpZiAoX3RoaXMuem9vbUVuYWJsZWQpIHtcclxuXHRcdFx0XHRcdF90aGlzLnpvb21FbmFibGVkID0gZmFsc2U7XHJcblx0XHRcdFx0XHRfdGhpcy5wYW5FbmFibGVkID0gdHJ1ZTtcclxuXHJcblx0XHRcdFx0XHRzZXRCdXR0b25TdGF0ZShfdGhpcywgX3RoaXMuX3pvb21CdXR0b24sIFwiem9vbVwiKTtcclxuXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdF90aGlzLnpvb21FbmFibGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdF90aGlzLnBhbkVuYWJsZWQgPSBmYWxzZTtcclxuXHJcblx0XHRcdFx0XHRzZXRCdXR0b25TdGF0ZShfdGhpcywgX3RoaXMuX3pvb21CdXR0b24sIFwicGFuXCIpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0X3RoaXMucmVuZGVyKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHJcblx0XHRpZiAoIXRoaXMuX3Jlc2V0QnV0dG9uKSB7XHJcblx0XHRcdGhpZGUodGhpcy5fcmVzZXRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpKTtcclxuXHRcdFx0c2V0QnV0dG9uU3RhdGUodGhpcywgdGhpcy5fcmVzZXRCdXR0b24sIFwicmVzZXRcIik7XHJcblx0XHRcdHRoaXMuX3Rvb2xCYXIuYXBwZW5kQ2hpbGQodGhpcy5fcmVzZXRCdXR0b24pO1xyXG5cclxuXHRcdFx0YWRkRXZlbnQodGhpcy5fcmVzZXRCdXR0b24sIFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdFx0XHRfdGhpcy5fdG9vbFRpcC5oaWRlKCk7XHJcblxyXG5cdFx0XHRcdGlmIChfdGhpcy56b29tRW5hYmxlZCB8fCBfdGhpcy5wYW5FbmFibGVkKSB7XHJcblx0XHRcdFx0XHRfdGhpcy56b29tRW5hYmxlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRfdGhpcy5wYW5FbmFibGVkID0gZmFsc2U7XHJcblx0XHRcdFx0XHRzZXRCdXR0b25TdGF0ZShfdGhpcywgX3RoaXMuX3pvb21CdXR0b24sIFwicGFuXCIpO1xyXG5cclxuXHRcdFx0XHRcdF90aGlzLl9kZWZhdWx0Q3Vyc29yID0gXCJkZWZhdWx0XCI7XHJcblx0XHRcdFx0XHRfdGhpcy5vdmVybGFpZENhbnZhcy5zdHlsZS5jdXJzb3IgPSBfdGhpcy5fZGVmYXVsdEN1cnNvcjtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0X3RoaXMuem9vbUVuYWJsZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdF90aGlzLnBhbkVuYWJsZWQgPSBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly9SZXNldCBheGlzWFxyXG5cdFx0XHRcdGlmIChfdGhpcy5zZXNzaW9uVmFyaWFibGVzLmF4aXNYKSB7XHJcblx0XHRcdFx0XHRfdGhpcy5zZXNzaW9uVmFyaWFibGVzLmF4aXNYLm5ld1ZpZXdwb3J0TWluaW11bSA9IG51bGw7XHJcblx0XHRcdFx0XHRfdGhpcy5zZXNzaW9uVmFyaWFibGVzLmF4aXNYLm5ld1ZpZXdwb3J0TWF4aW11bSA9IG51bGw7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvL1Jlc2V0IGF4aXNZXHJcblx0XHRcdFx0aWYgKF90aGlzLnNlc3Npb25WYXJpYWJsZXMuYXhpc1kpIHtcclxuXHRcdFx0XHRcdF90aGlzLnNlc3Npb25WYXJpYWJsZXMuYXhpc1kubmV3Vmlld3BvcnRNaW5pbXVtID0gbnVsbDtcclxuXHRcdFx0XHRcdF90aGlzLnNlc3Npb25WYXJpYWJsZXMuYXhpc1kubmV3Vmlld3BvcnRNYXhpbXVtID0gbnVsbDtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vUmVzZXQgYXhpc1kyXHJcblx0XHRcdFx0aWYgKF90aGlzLnNlc3Npb25WYXJpYWJsZXMuYXhpc1kyKSB7XHJcblx0XHRcdFx0XHRfdGhpcy5zZXNzaW9uVmFyaWFibGVzLmF4aXNZMi5uZXdWaWV3cG9ydE1pbmltdW0gPSBudWxsO1xyXG5cdFx0XHRcdFx0X3RoaXMuc2Vzc2lvblZhcmlhYmxlcy5heGlzWTIubmV3Vmlld3BvcnRNYXhpbXVtID0gbnVsbDtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdF90aGlzLnJlc2V0T3ZlcmxheWVkQ2FudmFzKCk7XHJcblxyXG5cdFx0XHRcdGhpZGUoX3RoaXMuX3pvb21CdXR0b24sIF90aGlzLl9yZXNldEJ1dHRvbik7XHJcblxyXG5cdFx0XHRcdF90aGlzLl9kaXNwYXRjaFJhbmdlRXZlbnQoXCJyYW5nZUNoYW5naW5nXCIsIFwicmVzZXRcIik7XHJcblx0XHRcdFx0X3RoaXMucmVuZGVyKCk7XHJcblx0XHRcdFx0X3RoaXMuX2Rpc3BhdGNoUmFuZ2VFdmVudChcInJhbmdlQ2hhbmdlZFwiLCBcInJlc2V0XCIpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdHRoaXMub3ZlcmxhaWRDYW52YXMuc3R5bGUuY3Vyc29yID0gX3RoaXMuX2RlZmF1bHRDdXJzb3I7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCF0aGlzLnpvb21FbmFibGVkICYmICF0aGlzLnBhbkVuYWJsZWQpIHtcclxuXHRcdFx0aWYgKCF0aGlzLl96b29tQnV0dG9uKSB7XHJcblx0XHRcdFx0dGhpcy56b29tRW5hYmxlZCA9IHRydWU7XHJcblx0XHRcdFx0dGhpcy5wYW5FbmFibGVkID0gZmFsc2U7XHJcblx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdGlmIChfdGhpcy5fem9vbUJ1dHRvbi5nZXRBdHRyaWJ1dGUoXCJzdGF0ZVwiKSA9PT0gX3RoaXMuX2N1bHR1cmVJbmZvLnpvb21UZXh0KSB7XHJcblx0XHRcdFx0XHR0aGlzLnBhbkVuYWJsZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0dGhpcy56b29tRW5hYmxlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdHRoaXMuem9vbUVuYWJsZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0dGhpcy5wYW5FbmFibGVkID0gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRzaG93KF90aGlzLl96b29tQnV0dG9uLCBfdGhpcy5fcmVzZXRCdXR0b24pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cclxuXHJcblx0fSBlbHNlIHtcclxuXHRcdHRoaXMuem9vbUVuYWJsZWQgPSBmYWxzZTtcclxuXHRcdHRoaXMucGFuRW5hYmxlZCA9IGZhbHNlO1xyXG5cdH1cclxuXHJcblxyXG5cclxuXHRpZiAodGhpcy5fbWVudUJ1dHRvbikge1xyXG5cdFx0aWYgKHRoaXMuZXhwb3J0RW5hYmxlZClcclxuXHRcdFx0c2hvdyh0aGlzLl9tZW51QnV0dG9uKTtcclxuXHRcdGVsc2VcclxuXHRcdFx0aGlkZSh0aGlzLl9tZW51QnV0dG9uKTtcclxuXHR9IGVsc2UgaWYgKHRoaXMuZXhwb3J0RW5hYmxlZCAmJiBpc0NhbnZhc1N1cHBvcnRlZCkge1xyXG5cdFx0dGhpcy5fbWVudUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcblx0XHRzZXRCdXR0b25TdGF0ZSh0aGlzLCB0aGlzLl9tZW51QnV0dG9uLCBcIm1lbnVcIik7XHJcblx0XHR0aGlzLl90b29sQmFyLmFwcGVuZENoaWxkKHRoaXMuX21lbnVCdXR0b24pO1xyXG5cclxuXHRcdGFkZEV2ZW50KHRoaXMuX21lbnVCdXR0b24sIFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAoX3RoaXMuX2Ryb3Bkb3duTWVudS5zdHlsZS5kaXNwbGF5ID09PSBcIm5vbmVcIikge1xyXG5cclxuXHRcdFx0XHRpZiAoX3RoaXMuX2Ryb3BEb3duQ2xvc2VUaW1lICYmICgobmV3IERhdGUoKSkuZ2V0VGltZSgpIC0gX3RoaXMuX2Ryb3BEb3duQ2xvc2VUaW1lLmdldFRpbWUoKSA8PSA1MDApKVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdFx0XHRfdGhpcy5fZHJvcGRvd25NZW51LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcblx0XHRcdFx0X3RoaXMuX21lbnVCdXR0b24uYmx1cigpO1xyXG5cdFx0XHRcdF90aGlzLl9kcm9wZG93bk1lbnUuZm9jdXMoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdH0sIHRydWUpO1xyXG5cdH1cclxuXHJcblxyXG5cdGlmICghdGhpcy5fZHJvcGRvd25NZW51ICYmIHRoaXMuZXhwb3J0RW5hYmxlZCAmJiBpc0NhbnZhc1N1cHBvcnRlZCkge1xyXG5cdFx0dGhpcy5fZHJvcGRvd25NZW51ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdHRoaXMuX2Ryb3Bkb3duTWVudS5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLCAtMSk7XHJcblx0XHR0aGlzLl9kcm9wZG93bk1lbnUuc3R5bGUuY3NzVGV4dCA9IFwicG9zaXRpb246IGFic29sdXRlOyAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lOyAtbW96LXVzZXItc2VsZWN0OiBub25lOyAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7IHVzZXItc2VsZWN0OiBub25lOyBjdXJzb3I6IHBvaW50ZXI7cmlnaHQ6IDFweDt0b3A6IDI1cHg7bWluLXdpZHRoOiAxMjBweDtvdXRsaW5lOiAwO2JvcmRlcjogMXB4IHNvbGlkIHNpbHZlcjtmb250LXNpemU6IDE0cHg7Zm9udC1mYW1pbHk6IENhbGlicmksIFZlcmRhbmEsIHNhbnMtc2VyaWY7cGFkZGluZzogNXB4IDBweCA1cHggMHB4O3RleHQtYWxpZ246IGxlZnQ7YmFja2dyb3VuZC1jb2xvcjogI2ZmZjtsaW5lLWhlaWdodDogMjBweDtib3gtc2hhZG93OiAycHggMnB4IDEwcHggIzg4ODg4ODtcIjtcclxuXHRcdF90aGlzLl9kcm9wZG93bk1lbnUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG5cdFx0dGhpcy5fdG9vbEJhci5hcHBlbmRDaGlsZCh0aGlzLl9kcm9wZG93bk1lbnUpO1xyXG5cclxuXHRcdGFkZEV2ZW50KHRoaXMuX2Ryb3Bkb3duTWVudSwgXCJibHVyXCIsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aGlkZShfdGhpcy5fZHJvcGRvd25NZW51KTtcclxuXHJcblx0XHRcdF90aGlzLl9kcm9wRG93bkNsb3NlVGltZSA9IG5ldyBEYXRlKCk7XHJcblx0XHR9LCB0cnVlKTtcclxuXHJcblx0XHR2YXIgZXhwb3J0T3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdGV4cG9ydE9wdGlvbi5zdHlsZS5jc3NUZXh0ID0gXCJwYWRkaW5nOiAycHggMTVweCAycHggMTBweFwiXHJcblx0XHRleHBvcnRPcHRpb24uaW5uZXJIVE1MID0gdGhpcy5fY3VsdHVyZUluZm8uc2F2ZUpQR1RleHQ7XHJcblx0XHR0aGlzLl9kcm9wZG93bk1lbnUuYXBwZW5kQ2hpbGQoZXhwb3J0T3B0aW9uKTtcclxuXHJcblx0XHRhZGRFdmVudChleHBvcnRPcHRpb24sIFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0dGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNFRUVFRUVcIjtcclxuXHRcdH0sIHRydWUpO1xyXG5cclxuXHRcdGFkZEV2ZW50KGV4cG9ydE9wdGlvbiwgXCJtb3VzZW91dFwiLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ0cmFuc3BhcmVudFwiO1xyXG5cdFx0fSwgdHJ1ZSk7XHJcblxyXG5cdFx0YWRkRXZlbnQoZXhwb3J0T3B0aW9uLCBcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0ZXhwb3J0Q2FudmFzKF90aGlzLmNhbnZhcywgXCJqcGdcIiwgX3RoaXMuZXhwb3J0RmlsZU5hbWUpO1xyXG5cdFx0XHRoaWRlKF90aGlzLl9kcm9wZG93bk1lbnUpO1xyXG5cdFx0fSwgdHJ1ZSk7XHJcblxyXG5cdFx0dmFyIGV4cG9ydE9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRleHBvcnRPcHRpb24uc3R5bGUuY3NzVGV4dCA9IFwicGFkZGluZzogMnB4IDE1cHggMnB4IDEwcHhcIlxyXG5cdFx0ZXhwb3J0T3B0aW9uLmlubmVySFRNTCA9IHRoaXMuX2N1bHR1cmVJbmZvLnNhdmVQTkdUZXh0O1xyXG5cdFx0dGhpcy5fZHJvcGRvd25NZW51LmFwcGVuZENoaWxkKGV4cG9ydE9wdGlvbik7XHJcblxyXG5cdFx0YWRkRXZlbnQoZXhwb3J0T3B0aW9uLCBcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCIjRUVFRUVFXCI7XHJcblx0XHR9LCB0cnVlKTtcclxuXHJcblx0XHRhZGRFdmVudChleHBvcnRPcHRpb24sIFwibW91c2VvdXRcIiwgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwidHJhbnNwYXJlbnRcIjtcclxuXHRcdH0sIHRydWUpO1xyXG5cclxuXHRcdGFkZEV2ZW50KGV4cG9ydE9wdGlvbiwgXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGV4cG9ydENhbnZhcyhfdGhpcy5jYW52YXMsIFwicG5nXCIsIF90aGlzLmV4cG9ydEZpbGVOYW1lKTtcclxuXHRcdFx0aGlkZShfdGhpcy5fZHJvcGRvd25NZW51KTtcclxuXHRcdH0sIHRydWUpO1xyXG5cdH1cclxuXHJcblxyXG5cdGlmICh0aGlzLl90b29sQmFyLnN0eWxlLmRpc3BsYXkgIT09IFwibm9uZVwiICYmIHRoaXMuX3pvb21CdXR0b24pIHtcclxuXHJcblx0XHR0aGlzLnBhbkVuYWJsZWQgPyBzZXRCdXR0b25TdGF0ZShfdGhpcywgX3RoaXMuX3pvb21CdXR0b24sIFwiem9vbVwiKSA6IHNldEJ1dHRvblN0YXRlKF90aGlzLCBfdGhpcy5fem9vbUJ1dHRvbiwgXCJwYW5cIik7XHJcblxyXG5cclxuXHRcdGlmIChfdGhpcy5fcmVzZXRCdXR0b24uZ2V0QXR0cmlidXRlKFwic3RhdGVcIikgIT09IF90aGlzLl9jdWx0dXJlSW5mby5yZXNldFRleHQpXHJcblx0XHRcdHNldEJ1dHRvblN0YXRlKF90aGlzLCBfdGhpcy5fcmVzZXRCdXR0b24sIFwicmVzZXRcIik7XHJcblx0fVxyXG5cclxuXHRpZiAodHlwZW9mIChkZWZhdWx0T3B0aW9ucy5DaGFydC5jcmVkaXRIcmVmKSA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG5cdFx0dGhpcy5jcmVkaXRIcmVmID0gXCJodHRwOi8vY2FudmFzanMuY29tL1wiO1xyXG5cdFx0dGhpcy5jcmVkaXRUZXh0ID0gXCJDYW52YXNKUy5jb21cIjtcclxuXHR9IGVsc2Uge1xyXG5cdFx0dmFyIGNyZWRpdFRleHRDaGFuZ2VkID0gdGhpcy51cGRhdGVPcHRpb24oXCJjcmVkaXRUZXh0XCIpO1xyXG5cdFx0dmFyIGNyZWRpdEhyZWZDaGFuZ2VkID0gdGhpcy51cGRhdGVPcHRpb24oXCJjcmVkaXRIcmVmXCIpO1xyXG5cdH1cclxuXHJcblx0aWYgKHRoaXMucmVuZGVyQ291bnQgPT09IDAgfHwgKGNyZWRpdFRleHRDaGFuZ2VkIHx8IGNyZWRpdEhyZWZDaGFuZ2VkKSkge1xyXG5cdFx0dGhpcy5fY3JlZGl0TGluay5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIHRoaXMuY3JlZGl0SHJlZik7XHJcblx0XHR0aGlzLl9jcmVkaXRMaW5rLmlubmVySFRNTCA9IHRoaXMuY3JlZGl0VGV4dDtcclxuXHR9XHJcblxyXG5cdGlmICh0aGlzLmNyZWRpdEhyZWYgJiYgdGhpcy5jcmVkaXRUZXh0KSB7XHJcblx0XHRpZiAoIXRoaXMuX2NyZWRpdExpbmsucGFyZW50RWxlbWVudClcclxuXHRcdFx0dGhpcy5fY2FudmFzSlNDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5fY3JlZGl0TGluayk7XHJcblx0fVxyXG5cdGVsc2UgaWYgKHRoaXMuX2NyZWRpdExpbmsucGFyZW50RWxlbWVudClcclxuXHRcdHRoaXMuX2NhbnZhc0pTQ29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMuX2NyZWRpdExpbmspO1xyXG5cclxuXHRpZiAodGhpcy5fb3B0aW9ucy50b29sVGlwICYmIHRoaXMuX3Rvb2xUaXAuX29wdGlvbnMgIT09IHRoaXMuX29wdGlvbnMudG9vbFRpcClcclxuXHRcdHRoaXMuX3Rvb2xUaXAuX29wdGlvbnMgPSB0aGlzLl9vcHRpb25zLnRvb2xUaXBcclxuXHJcblx0Zm9yICh2YXIgcHJvcCBpbiB0aGlzLl90b29sVGlwLl9vcHRpb25zKSB7XHJcblxyXG5cdFx0aWYgKHRoaXMuX3Rvb2xUaXAuX29wdGlvbnMuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuXHRcdFx0dGhpcy5fdG9vbFRpcC51cGRhdGVPcHRpb24ocHJvcCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxufVxyXG5cclxuQ2hhcnQucHJvdG90eXBlLl91cGRhdGVTaXplID0gZnVuY3Rpb24gKCkge1xyXG5cdHZhciB3aWR0aCA9IDA7XHJcblx0dmFyIGhlaWdodCA9IDA7XHJcblxyXG5cdGlmICh0aGlzLl9vcHRpb25zLndpZHRoKVxyXG5cdFx0d2lkdGggPSB0aGlzLndpZHRoO1xyXG5cdGVsc2VcclxuXHRcdHRoaXMud2lkdGggPSB3aWR0aCA9IHRoaXMuX2NvbnRhaW5lci5jbGllbnRXaWR0aCA+IDAgPyB0aGlzLl9jb250YWluZXIuY2xpZW50V2lkdGggOiB0aGlzLndpZHRoO1xyXG5cclxuXHRpZiAodGhpcy5fb3B0aW9ucy5oZWlnaHQpXHJcblx0XHRoZWlnaHQgPSB0aGlzLmhlaWdodDtcclxuXHRlbHNlXHJcblx0XHR0aGlzLmhlaWdodCA9IGhlaWdodCA9IHRoaXMuX2NvbnRhaW5lci5jbGllbnRIZWlnaHQgPiAwID8gdGhpcy5fY29udGFpbmVyLmNsaWVudEhlaWdodCA6IHRoaXMuaGVpZ2h0O1xyXG5cclxuXHRpZiAodGhpcy5jYW52YXMud2lkdGggIT09IHdpZHRoICogZGV2aWNlUGl4ZWxCYWNraW5nU3RvcmVSYXRpbyB8fCB0aGlzLmNhbnZhcy5oZWlnaHQgIT09IGhlaWdodCAqIGRldmljZVBpeGVsQmFja2luZ1N0b3JlUmF0aW8pIHtcclxuXHRcdHNldENhbnZhc1NpemUodGhpcy5jYW52YXMsIHdpZHRoLCBoZWlnaHQpO1xyXG5cclxuXHRcdHNldENhbnZhc1NpemUodGhpcy5vdmVybGFpZENhbnZhcywgd2lkdGgsIGhlaWdodCk7XHJcblx0XHRzZXRDYW52YXNTaXplKHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdENhbnZhcywgd2lkdGgsIGhlaWdodCk7XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbi8vIGluaXRpYWxpemUgY2hhcnQgb2JqZWN0c1xyXG5DaGFydC5wcm90b3R5cGUuX2luaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XHJcblx0Ly8vPHNpZ25hdHVyZT5cclxuXHQvLy88c3VtbWFyeT5Jbml0aWFsaXplcyBDaGFydCBvYmplY3RzL3N0YXRlLiBDcmVhdGVzIERhdGFTZXJpZXMgY2xhc3MgaW5zdGFuY2UgZm9yIGVhY2ggRGF0YVNlcmllcyBwcm92aWRlZCBieSB0aGVyIHVzZXIuIFNldHMgdGhlIEF4aXMgVHlwZSBiYXNlZCBvbiB0aGUgdXNlciBkYXRhPC9zdW1tYXJ5PlxyXG5cdC8vLzwvc2lnbmF0dXJlPlxyXG5cdC8vdGhpcy53aWR0aCA9IHRoaXMud2lkdGg7XHJcblxyXG5cdGlmICghdGhpcy5fYW5pbWF0b3IpXHJcblx0XHR0aGlzLl9hbmltYXRvciA9IG5ldyBBbmltYXRvcih0aGlzKTtcclxuXHRlbHNlIHtcclxuXHRcdHRoaXMuX2FuaW1hdG9yLmNhbmNlbEFsbEFuaW1hdGlvbnMoKTtcclxuXHR9XHJcblxyXG5cdHRoaXMucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcblx0dGhpcy5kaXNhYmxlVG9vbFRpcCA9IGZhbHNlO1xyXG5cclxuXHR0aGlzLl9heGVzID0gW107XHJcblxyXG5cdHRoaXMucGllRG91Z2hudXRDbGlja0hhbmRsZXIgPSBudWxsO1xyXG5cdC8vdGhpcy5fdG91Y2hDdXJyZW50Q29vcmRpbmF0ZXMgPSBudWxsO1xyXG5cclxuXHRpZiAodGhpcy5hbmltYXRpb25SZXF1ZXN0SWQpXHJcblx0XHR0aGlzLmNhbmNlbFJlcXVlc3RBbmltRnJhbWUuY2FsbCh3aW5kb3csIHRoaXMuYW5pbWF0aW9uUmVxdWVzdElkKTtcclxuXHJcblx0dGhpcy5fdXBkYXRlT3B0aW9ucygpO1xyXG5cclxuXHR0aGlzLmFuaW1hdGVkUmVuZGVyID0gaXNDYW52YXNTdXBwb3J0ZWQgJiYgdGhpcy5hbmltYXRpb25FbmFibGVkICYmICh0aGlzLnJlbmRlckNvdW50ID09PSAwKTtcclxuXHJcblx0dGhpcy5fdXBkYXRlU2l6ZSgpO1xyXG5cclxuXHQvL3RoaXMuX3NlbGVjdGVkQ29sb3JTZXQgPSBjb2xvclNldHNbXCJjb2xvclNldDJcIl07XHJcblxyXG5cdC8vdGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcclxuXHR0aGlzLmNsZWFyQ2FudmFzKCk7XHJcblx0dGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcblxyXG5cdHRoaXMuYXhpc1ggPSBudWxsO1xyXG5cdHRoaXMuYXhpc1kgPSBudWxsO1xyXG5cdHRoaXMuYXhpc1kyID0gbnVsbDtcclxuXHR0aGlzLl9pbmRleExhYmVscyA9IFtdO1xyXG5cdHRoaXMuX2RhdGFJblJlbmRlcmVkT3JkZXIgPSBbXTtcclxuXHJcblx0dGhpcy5fZXZlbnRzID0gW107XHJcblx0aWYgKHRoaXMuX2V2ZW50TWFuYWdlcilcclxuXHRcdHRoaXMuX2V2ZW50TWFuYWdlci5yZXNldCgpO1xyXG5cclxuXHR0aGlzLnBsb3RJbmZvID0ge1xyXG5cdFx0YXhpc1BsYWNlbWVudDogbnVsbCxcclxuXHRcdGF4aXNYVmFsdWVUeXBlOiBudWxsLFxyXG5cdFx0cGxvdFR5cGVzOiBbXS8vYXJyYXkgb2YgcGxvdFR5cGU6IHt0eXBlOlwiXCIsIGF4aXNZVHlwZTogXCJwcmltYXJ5XCIsIGRhdGFTZXJpZXNJbmRleGVzOltdfVxyXG5cdH07XHJcblxyXG5cdHRoaXMubGF5b3V0TWFuYWdlciA9IG5ldyBMYXlvdXRNYW5hZ2VyKDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCAyKTtcclxuXHJcblx0aWYgKHRoaXMucGxvdEFyZWEubGF5b3V0TWFuYWdlcilcclxuXHRcdHRoaXMucGxvdEFyZWEubGF5b3V0TWFuYWdlci5yZXNldCgpO1xyXG5cclxuXHJcblx0dGhpcy5kYXRhID0gW107XHJcblx0dmFyIGRhdGFTZXJpZXNJbmRleCA9IDA7XHJcblxyXG5cdGZvciAodmFyIHNlcmllcyA9IDA7IHNlcmllcyA8IHRoaXMuX29wdGlvbnMuZGF0YS5sZW5ndGg7IHNlcmllcysrKSB7XHJcblx0XHQvL2ZvciAoc2VyaWVzIGluIHRoaXMuX29wdGlvbnMuZGF0YSkge1xyXG5cclxuXHRcdGRhdGFTZXJpZXNJbmRleCsrO1xyXG5cclxuXHRcdGlmICghKCF0aGlzLl9vcHRpb25zLmRhdGFbc2VyaWVzXS50eXBlIHx8IENoYXJ0Ll9zdXBwb3J0ZWRDaGFydFR5cGVzLmluZGV4T2YodGhpcy5fb3B0aW9ucy5kYXRhW3Nlcmllc10udHlwZSkgPj0gMCkpXHJcblx0XHRcdGNvbnRpbnVlO1xyXG5cclxuXHRcdHZhciBkYXRhU2VyaWVzID0gbmV3IERhdGFTZXJpZXModGhpcywgdGhpcy5fb3B0aW9ucy5kYXRhW3Nlcmllc10sIHRoaXMudGhlbWUsIGRhdGFTZXJpZXNJbmRleCAtIDEsICsrdGhpcy5fZXZlbnRNYW5hZ2VyLmxhc3RPYmplY3RJZCk7XHJcblx0XHRpZiAoZGF0YVNlcmllcy5uYW1lID09PSBudWxsKVxyXG5cdFx0XHRkYXRhU2VyaWVzLm5hbWUgPSBcIkRhdGFTZXJpZXMgXCIgKyAoZGF0YVNlcmllc0luZGV4KTtcclxuXHJcblx0XHRpZiAoZGF0YVNlcmllcy5jb2xvciA9PT0gbnVsbCkge1xyXG5cdFx0XHRpZiAodGhpcy5fb3B0aW9ucy5kYXRhLmxlbmd0aCA+IDEpIHtcclxuXHRcdFx0XHRkYXRhU2VyaWVzLl9jb2xvclNldCA9IFt0aGlzLl9zZWxlY3RlZENvbG9yU2V0W2RhdGFTZXJpZXMuaW5kZXggJSB0aGlzLl9zZWxlY3RlZENvbG9yU2V0Lmxlbmd0aF1dO1xyXG5cdFx0XHRcdGRhdGFTZXJpZXMuY29sb3IgPSB0aGlzLl9zZWxlY3RlZENvbG9yU2V0W2RhdGFTZXJpZXMuaW5kZXggJSB0aGlzLl9zZWxlY3RlZENvbG9yU2V0Lmxlbmd0aF07XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aWYgKGRhdGFTZXJpZXMudHlwZSA9PT0gXCJsaW5lXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInN0ZXBMaW5lXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInNwbGluZVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJhcmVhXCJcclxuXHRcdFx0XHRcdHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzdGVwQXJlYVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzcGxpbmVBcmVhXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInN0YWNrZWRBcmVhXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInN0YWNrZWRBcmVhMTAwXCJcclxuXHRcdFx0XHRcdHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJyYW5nZUFyZWFcIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwicmFuZ2VTcGxpbmVBcmVhXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcImNhbmRsZXN0aWNrXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcIm9obGNcIikge1xyXG5cdFx0XHRcdFx0ZGF0YVNlcmllcy5fY29sb3JTZXQgPSBbdGhpcy5fc2VsZWN0ZWRDb2xvclNldFswXV07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdGRhdGFTZXJpZXMuX2NvbG9yU2V0ID0gdGhpcy5fc2VsZWN0ZWRDb2xvclNldDtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0ZGF0YVNlcmllcy5fY29sb3JTZXQgPSBbZGF0YVNlcmllcy5jb2xvcl07XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGRhdGFTZXJpZXMubWFya2VyU2l6ZSA9PT0gbnVsbCkge1xyXG5cdFx0XHRpZiAoKChkYXRhU2VyaWVzLnR5cGUgPT09IFwibGluZVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzdGVwTGluZVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzcGxpbmVcIikgJiYgZGF0YVNlcmllcy5kYXRhUG9pbnRzICYmIGRhdGFTZXJpZXMuZGF0YVBvaW50cy5sZW5ndGggPCB0aGlzLndpZHRoIC8gMTYpIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzY2F0dGVyXCIpIHtcclxuXHRcdFx0XHQvL2lmIChkYXRhU2VyaWVzLnR5cGUgPT09IFwibGluZVwiKSB7XHJcblx0XHRcdFx0ZGF0YVNlcmllcy5tYXJrZXJTaXplID0gODtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmICgoZGF0YVNlcmllcy50eXBlID09PSBcImJ1YmJsZVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzY2F0dGVyXCIpICYmIGRhdGFTZXJpZXMuZGF0YVBvaW50cykge1xyXG5cdFx0XHRkYXRhU2VyaWVzLmRhdGFQb2ludHMuc29ydChjb21wYXJlRGF0YVBvaW50WClcclxuXHRcdH1cclxuXHJcblx0XHQvL2lmIChkYXRhU2VyaWVzLm1hcmtlckJvcmRlclRoaWNrbmVzcyA9PT0gbnVsbCAmJiBkYXRhU2VyaWVzLnR5cGUgPT09IFwic2NhdHRlclwiKSB7XHJcblx0XHQvLyAgICBkYXRhU2VyaWVzLm1hcmtlckJvcmRlclRoaWNrbmVzcyA9IDI7XHJcblx0XHQvL31cclxuXHJcblx0XHQvL2lmIChkYXRhU2VyaWVzLm1hcmtlclR5cGUgPT09IG51bGwpIHtcclxuXHRcdC8vICAgIGlmIChkYXRhU2VyaWVzLnR5cGUgPT09IFwibGluZVwiICYgZGF0YVNlcmllcy5kYXRhUG9pbnRzLmxlbmd0aCA8IDUwMCkge1xyXG5cdFx0Ly8gICAgICAgIGRhdGFTZXJpZXMubWFya2VyVHlwZSA9IFwiY2lyY2xlXCI7XHJcblx0XHQvLyAgICB9XHJcblx0XHQvL31cclxuXHJcblx0XHR0aGlzLmRhdGEucHVzaChkYXRhU2VyaWVzKTtcclxuXHJcblx0XHR2YXIgc2VyaWVzQXhpc1BsYWNlbWVudCA9IGRhdGFTZXJpZXMuYXhpc1BsYWNlbWVudDtcclxuXHJcblx0XHQvL2lmIChpc0RlYnVnTW9kZSAmJiB3aW5kb3cuY29uc29sZSlcclxuXHRcdC8vICAgIHdpbmRvdy5jb25zb2xlLmxvZyhkYXRhU2VyaWVzLnR5cGUpO1xyXG5cclxuXHRcdHZhciBlcnJvck1lc3NhZ2U7XHJcblxyXG5cdFx0aWYgKHNlcmllc0F4aXNQbGFjZW1lbnQgPT09IFwibm9ybWFsXCIpIHtcclxuXHJcblx0XHRcdGlmICh0aGlzLnBsb3RJbmZvLmF4aXNQbGFjZW1lbnQgPT09IFwieHlTd2FwcGVkXCIpIHtcclxuXHRcdFx0XHRlcnJvck1lc3NhZ2UgPSBcIllvdSBjYW5ub3QgY29tYmluZSBcXFwiXCIgKyBkYXRhU2VyaWVzLnR5cGUgKyBcIlxcXCIgd2l0aCBiYXIgY2hhcnRcIjtcclxuXHRcdFx0fSBlbHNlIGlmICh0aGlzLnBsb3RJbmZvLmF4aXNQbGFjZW1lbnQgPT09IFwibm9uZVwiKSB7XHJcblx0XHRcdFx0ZXJyb3JNZXNzYWdlID0gXCJZb3UgY2Fubm90IGNvbWJpbmUgXFxcIlwiICsgZGF0YVNlcmllcy50eXBlICsgXCJcXFwiIHdpdGggcGllIGNoYXJ0XCI7XHJcblx0XHRcdH0gZWxzZSBpZiAodGhpcy5wbG90SW5mby5heGlzUGxhY2VtZW50ID09PSBudWxsKVxyXG5cdFx0XHRcdHRoaXMucGxvdEluZm8uYXhpc1BsYWNlbWVudCA9IFwibm9ybWFsXCI7XHJcblx0XHR9XHJcblx0XHRlbHNlIGlmIChzZXJpZXNBeGlzUGxhY2VtZW50ID09PSBcInh5U3dhcHBlZFwiKSB7XHJcblxyXG5cdFx0XHRpZiAodGhpcy5wbG90SW5mby5heGlzUGxhY2VtZW50ID09PSBcIm5vcm1hbFwiKSB7XHJcblx0XHRcdFx0ZXJyb3JNZXNzYWdlID0gXCJZb3UgY2Fubm90IGNvbWJpbmUgXFxcIlwiICsgZGF0YVNlcmllcy50eXBlICsgXCJcXFwiIHdpdGggbGluZSwgYXJlYSwgY29sdW1uIG9yIHBpZSBjaGFydFwiO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHRoaXMucGxvdEluZm8uYXhpc1BsYWNlbWVudCA9PT0gXCJub25lXCIpIHtcclxuXHRcdFx0XHRlcnJvck1lc3NhZ2UgPSBcIllvdSBjYW5ub3QgY29tYmluZSBcXFwiXCIgKyBkYXRhU2VyaWVzLnR5cGUgKyBcIlxcXCIgd2l0aCBwaWUgY2hhcnRcIjtcclxuXHRcdFx0fSBlbHNlIGlmICh0aGlzLnBsb3RJbmZvLmF4aXNQbGFjZW1lbnQgPT09IG51bGwpXHJcblx0XHRcdFx0dGhpcy5wbG90SW5mby5heGlzUGxhY2VtZW50ID0gXCJ4eVN3YXBwZWRcIjtcclxuXHRcdH1cclxuXHRcdGVsc2UgaWYgKHNlcmllc0F4aXNQbGFjZW1lbnQgPT0gXCJub25lXCIpIHtcclxuXHJcblx0XHRcdGlmICh0aGlzLnBsb3RJbmZvLmF4aXNQbGFjZW1lbnQgPT09IFwibm9ybWFsXCIpIHtcclxuXHRcdFx0XHRlcnJvck1lc3NhZ2UgPSBcIllvdSBjYW5ub3QgY29tYmluZSBcXFwiXCIgKyBkYXRhU2VyaWVzLnR5cGUgKyBcIlxcXCIgd2l0aCBsaW5lLCBhcmVhLCBjb2x1bW4gb3IgYmFyIGNoYXJ0XCI7XHJcblx0XHRcdH0gZWxzZSBpZiAodGhpcy5wbG90SW5mby5heGlzUGxhY2VtZW50ID09PSBcInh5U3dhcHBlZFwiKSB7XHJcblx0XHRcdFx0ZXJyb3JNZXNzYWdlID0gXCJZb3UgY2Fubm90IGNvbWJpbmUgXFxcIlwiICsgZGF0YVNlcmllcy50eXBlICsgXCJcXFwiIHdpdGggYmFyIGNoYXJ0XCI7XHJcblx0XHRcdH0gZWxzZSBpZiAodGhpcy5wbG90SW5mby5heGlzUGxhY2VtZW50ID09PSBudWxsKVxyXG5cdFx0XHRcdHRoaXMucGxvdEluZm8uYXhpc1BsYWNlbWVudCA9IFwibm9uZVwiO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChlcnJvck1lc3NhZ2UgJiYgd2luZG93LmNvbnNvbGUpIHtcclxuXHRcdFx0d2luZG93LmNvbnNvbGUubG9nKGVycm9yTWVzc2FnZSk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vaWYgKGlzRGVidWdNb2RlICYmIHdpbmRvdy5jb25zb2xlKSB7XHJcblx0Ly8gICAgd2luZG93LmNvbnNvbGUubG9nKFwieE1pbjogXCIgKyB0aGlzLnBsb3RJbmZvLnZpZXdQb3J0WE1pbiArIFwiOyB4TWF4OiBcIiArIHRoaXMucGxvdEluZm8udmlld1BvcnRYTWF4ICsgXCI7IHlNaW46IFwiICsgdGhpcy5wbG90SW5mby55TWluICsgXCI7IHlNYXg6IFwiICsgdGhpcy5wbG90SW5mby55TWF4KTtcclxuXHQvL31cclxuXHJcblx0dGhpcy5fb2JqZWN0c0luaXRpYWxpemVkID0gdHJ1ZTtcclxufVxyXG5cclxuLy9pbmRleE9mIGlzIG5vdCBzdXBwb3J0ZWQgaW4gSUU4LVxyXG5DaGFydC5fc3VwcG9ydGVkQ2hhcnRUeXBlcyA9IGFkZEFycmF5SW5kZXhPZihbXCJsaW5lXCIsIFwic3RlcExpbmVcIiwgXCJzcGxpbmVcIiwgXCJjb2x1bW5cIiwgXCJhcmVhXCIsIFwic3RlcEFyZWFcIiwgXCJzcGxpbmVBcmVhXCIsIFwiYmFyXCIsIFwiYnViYmxlXCIsIFwic2NhdHRlclwiLFxyXG5cdFwic3RhY2tlZENvbHVtblwiLCBcInN0YWNrZWRDb2x1bW4xMDBcIiwgXCJzdGFja2VkQmFyXCIsIFwic3RhY2tlZEJhcjEwMFwiLFxyXG5cdFwic3RhY2tlZEFyZWFcIiwgXCJzdGFja2VkQXJlYTEwMFwiLFxyXG5cdFwiY2FuZGxlc3RpY2tcIixcclxuXHRcIm9obGNcIixcclxuXHRcInJhbmdlQ29sdW1uXCIsXHJcblx0XCJyYW5nZUJhclwiLFxyXG5cdFwicmFuZ2VBcmVhXCIsXHJcblx0XCJyYW5nZVNwbGluZUFyZWFcIixcclxuXHRcInBpZVwiLCBcImRvdWdobnV0XCIsIFwiZnVubmVsXCJcclxuXSk7XHJcblxyXG5DaGFydC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuXHJcblx0aWYgKG9wdGlvbnMpXHJcblx0XHR0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcclxuXHJcblx0dGhpcy5faW5pdGlhbGl6ZSgpO1xyXG5cdHZhciBwbG90QXJlYUVsZW1lbnRzID0gW107IC8vRWxlbWVudHMgdG8gYmUgcmVuZGVyZWQgaW5zaWRlIHRoZSBwbG90QXJlYVxyXG5cclxuXHQvL0NyZWF0ZSBQcmltYXJ5IGFuZCBTZWNvbmRhcnkgYXhpcyBhbmQgYXNzaWduIHRoZW0gdG8gdGhlIHNlcmllc1xyXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7XHJcblxyXG5cdFx0aWYgKHRoaXMucGxvdEluZm8uYXhpc1BsYWNlbWVudCA9PT0gXCJub3JtYWxcIiB8fCB0aGlzLnBsb3RJbmZvLmF4aXNQbGFjZW1lbnQgPT09IFwieHlTd2FwcGVkXCIpIHtcclxuXHRcdFx0aWYgKCF0aGlzLmRhdGFbaV0uYXhpc1lUeXBlIHx8IHRoaXMuZGF0YVtpXS5heGlzWVR5cGUgPT09IFwicHJpbWFyeVwiKSB7XHJcblx0XHRcdFx0aWYgKCF0aGlzLmF4aXNZKSB7XHJcblxyXG5cdFx0XHRcdFx0aWYgKHRoaXMucGxvdEluZm8uYXhpc1BsYWNlbWVudCA9PT0gXCJub3JtYWxcIikge1xyXG5cdFx0XHRcdFx0XHR0aGlzLl9heGVzLnB1c2godGhpcy5heGlzWSA9IG5ldyBBeGlzKHRoaXMsIHRoaXMuX29wdGlvbnMuYXhpc1ksIFwiYXhpc1lcIiwgXCJsZWZ0XCIpKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGVsc2UgaWYgKHRoaXMucGxvdEluZm8uYXhpc1BsYWNlbWVudCA9PT0gXCJ4eVN3YXBwZWRcIikge1xyXG5cdFx0XHRcdFx0XHR0aGlzLl9heGVzLnB1c2godGhpcy5heGlzWSA9IG5ldyBBeGlzKHRoaXMsIHRoaXMuX29wdGlvbnMuYXhpc1ksIFwiYXhpc1lcIiwgXCJib3R0b21cIikpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0aGlzLmRhdGFbaV0uYXhpc1kgPSB0aGlzLmF4aXNZO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2UgaWYgKHRoaXMuZGF0YVtpXS5heGlzWVR5cGUgPT09IFwic2Vjb25kYXJ5XCIpIHtcclxuXHRcdFx0XHRpZiAoIXRoaXMuYXhpc1kyKSB7XHJcblx0XHRcdFx0XHRpZiAodGhpcy5wbG90SW5mby5heGlzUGxhY2VtZW50ID09PSBcIm5vcm1hbFwiKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMuX2F4ZXMucHVzaCh0aGlzLmF4aXNZMiA9IG5ldyBBeGlzKHRoaXMsIHRoaXMuX29wdGlvbnMuYXhpc1kyLCBcImF4aXNZXCIsIFwicmlnaHRcIikpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZWxzZSBpZiAodGhpcy5wbG90SW5mby5heGlzUGxhY2VtZW50ID09PSBcInh5U3dhcHBlZFwiKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMuX2F4ZXMucHVzaCh0aGlzLmF4aXNZMiA9IG5ldyBBeGlzKHRoaXMsIHRoaXMuX29wdGlvbnMuYXhpc1kyLCBcImF4aXNZXCIsIFwidG9wXCIpKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dGhpcy5kYXRhW2ldLmF4aXNZID0gdGhpcy5heGlzWTI7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICghdGhpcy5heGlzWCkge1xyXG5cdFx0XHRcdGlmICh0aGlzLnBsb3RJbmZvLmF4aXNQbGFjZW1lbnQgPT09IFwibm9ybWFsXCIpIHtcclxuXHRcdFx0XHRcdHRoaXMuX2F4ZXMucHVzaCh0aGlzLmF4aXNYID0gbmV3IEF4aXModGhpcywgdGhpcy5fb3B0aW9ucy5heGlzWCwgXCJheGlzWFwiLCBcImJvdHRvbVwiKSk7XHJcblx0XHRcdFx0fSBlbHNlIGlmICh0aGlzLnBsb3RJbmZvLmF4aXNQbGFjZW1lbnQgPT09IFwieHlTd2FwcGVkXCIpIHtcclxuXHRcdFx0XHRcdHRoaXMuX2F4ZXMucHVzaCh0aGlzLmF4aXNYID0gbmV3IEF4aXModGhpcywgdGhpcy5fb3B0aW9ucy5heGlzWCwgXCJheGlzWFwiLCBcImxlZnRcIikpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy5kYXRhW2ldLmF4aXNYID0gdGhpcy5heGlzWDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vSWYgQm90aCBQcmltYXJ5IGFuZCBTZWNvbmRhcnkgYXhpcyBhcmUgcHJlc2VudCwgZGlzYWJsZSBncmlkbGluZXMgZm9yIG9uZSBvZiB0aGVtIHVubGVzcyB0aGUgdXNlciBoYXMgc2V0IHZhbHVlIGZvciBib3RoXHJcblx0aWYgKHRoaXMuYXhpc1kgJiYgdGhpcy5heGlzWTIpIHtcclxuXHRcdGlmICh0aGlzLmF4aXNZLmdyaWRUaGlja25lc3MgPiAwICYmIHR5cGVvZiAodGhpcy5heGlzWTIuX29wdGlvbnMuZ3JpZFRoaWNrbmVzcykgPT09IFwidW5kZWZpbmVkXCIpXHJcblx0XHRcdHRoaXMuYXhpc1kyLmdyaWRUaGlja25lc3MgPSAwO1xyXG5cdFx0ZWxzZSBpZiAodGhpcy5heGlzWTIuZ3JpZFRoaWNrbmVzcyA+IDAgJiYgdHlwZW9mICh0aGlzLmF4aXNZLl9vcHRpb25zLmdyaWRUaGlja25lc3MpID09PSBcInVuZGVmaW5lZFwiKVxyXG5cdFx0XHR0aGlzLmF4aXNZLmdyaWRUaGlja25lc3MgPSAwO1xyXG5cdH1cclxuXHJcblxyXG5cdC8vU2hvdyB0b29sQmFyIHdoZW4gdmlld3BvcnRNaW5pbXVtL3ZpZXdwb3J0TWF4aW11bSBhcmUgc2V0XHJcblx0dmFyIHNob3dUb29sQmFyID0gZmFsc2U7XHJcblx0aWYgKHRoaXMuX2F4ZXMubGVuZ3RoID4gMCAmJiAodGhpcy56b29tRW5hYmxlZCB8fCB0aGlzLnBhbkVuYWJsZWQpKSB7XHJcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2F4ZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0aWYgKHRoaXMuX2F4ZXNbaV0udmlld3BvcnRNaW5pbXVtICE9PSBudWxsIHx8IHRoaXMuX2F4ZXNbaV0udmlld3BvcnRNYXhpbXVtICE9PSBudWxsKSB7XHJcblx0XHRcdFx0c2hvd1Rvb2xCYXIgPSB0cnVlO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRpZiAoc2hvd1Rvb2xCYXIpIHtcclxuXHRcdHNob3codGhpcy5fem9vbUJ1dHRvbiwgdGhpcy5fcmVzZXRCdXR0b24pO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRoaWRlKHRoaXMuX3pvb21CdXR0b24sIHRoaXMuX3Jlc2V0QnV0dG9uKTtcclxuXHR9XHJcblxyXG5cclxuXHR0aGlzLl9wcm9jZXNzRGF0YSgpOy8vIENhdGVnb3Jpc2VzIHRoZSBkYXRhU2VyaWVzIGFuZCBjYWxjdWxhdGVzIG1pbiwgbWF4IGFuZCBvdGhlciB2YWx1ZXNcclxuXHJcblx0aWYgKHRoaXMuX29wdGlvbnMudGl0bGUpIHtcclxuXHRcdHRoaXMuX3RpdGxlID0gbmV3IFRpdGxlKHRoaXMsIHRoaXMuX29wdGlvbnMudGl0bGUpO1xyXG5cclxuXHRcdGlmICghdGhpcy5fdGl0bGUuZG9ja0luc2lkZVBsb3RBcmVhKVxyXG5cdFx0XHR0aGlzLl90aXRsZS5yZW5kZXIoKTtcclxuXHRcdGVsc2VcclxuXHRcdFx0cGxvdEFyZWFFbGVtZW50cy5wdXNoKHRoaXMuX3RpdGxlKTtcclxuXHR9XHJcblxyXG5cdGlmICh0aGlzLl9vcHRpb25zLnN1YnRpdGxlcykge1xyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9vcHRpb25zLnN1YnRpdGxlcy5sZW5ndGg7IGkrKykge1xyXG5cclxuXHRcdFx0dGhpcy5zdWJ0aXRsZXMgPSBbXTtcclxuXHJcblx0XHRcdHZhciBzdWJ0aXRsZSA9IG5ldyBTdWJ0aXRsZSh0aGlzLCB0aGlzLl9vcHRpb25zLnN1YnRpdGxlc1tpXSk7XHJcblx0XHRcdHRoaXMuc3VidGl0bGVzLnB1c2goc3VidGl0bGUpO1xyXG5cclxuXHRcdFx0aWYgKCFzdWJ0aXRsZS5kb2NrSW5zaWRlUGxvdEFyZWEpXHJcblx0XHRcdFx0c3VidGl0bGUucmVuZGVyKCk7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRwbG90QXJlYUVsZW1lbnRzLnB1c2goc3VidGl0bGUpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0dGhpcy5sZWdlbmQgPSBuZXcgTGVnZW5kKHRoaXMsIHRoaXMuX29wdGlvbnMubGVnZW5kLCB0aGlzLnRoZW1lKTtcclxuXHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZGF0YS5sZW5ndGg7IGkrKykge1xyXG5cdFx0aWYgKHRoaXMuZGF0YVtpXS5zaG93SW5MZWdlbmQgfHwgdGhpcy5kYXRhW2ldLnR5cGUgPT09IFwicGllXCIgfHwgdGhpcy5kYXRhW2ldLnR5cGUgPT09IFwiZG91Z2hudXRcIikge1xyXG5cdFx0XHR0aGlzLmxlZ2VuZC5kYXRhU2VyaWVzLnB1c2godGhpcy5kYXRhW2ldKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGlmICghdGhpcy5sZWdlbmQuZG9ja0luc2lkZVBsb3RBcmVhKVxyXG5cdFx0dGhpcy5sZWdlbmQucmVuZGVyKCk7XHJcblx0ZWxzZVxyXG5cdFx0cGxvdEFyZWFFbGVtZW50cy5wdXNoKHRoaXMubGVnZW5kKTtcclxuXHJcblx0Ly9UQkk6IFJldmlzaXQgYW5kIGNoZWNrIGlmIHRoZSBmdW5jdGlvbmFsaXR5IGlzIGVub3VnaC5cclxuXHRpZiAodGhpcy5wbG90SW5mby5heGlzUGxhY2VtZW50ID09PSBcIm5vcm1hbFwiIHx8IHRoaXMucGxvdEluZm8uYXhpc1BsYWNlbWVudCA9PT0gXCJ4eVN3YXBwZWRcIikge1xyXG5cclxuXHRcdC8vdmFyIGZyZWVTcGFjZSA9IHRoaXMubGF5b3V0TWFuYWdlci5nZXRGcmVlU3BhY2UoKTtcclxuXHJcblx0XHRBeGlzLnNldExheW91dEFuZFJlbmRlcih0aGlzLmF4aXNYLCB0aGlzLmF4aXNZLCB0aGlzLmF4aXNZMiwgdGhpcy5wbG90SW5mby5heGlzUGxhY2VtZW50LCB0aGlzLmxheW91dE1hbmFnZXIuZ2V0RnJlZVNwYWNlKCkpO1xyXG5cdH0gZWxzZSBpZiAodGhpcy5wbG90SW5mby5heGlzUGxhY2VtZW50ID09PSBcIm5vbmVcIikge1xyXG5cdFx0Ly9JbiBjYXNlIG9mIGNoYXJ0cyB3aXRoIGF4aXMgdGhpcyBtZXRob2QgaXMgY2FsbGVkIGluc2lkZSBzZXRMYXlvdXRBbmRSZW5kZXJcclxuXHRcdHRoaXMucHJlcGFyZVBsb3RBcmVhKCk7XHJcblx0fVxyXG5cdGVsc2Uge1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblx0dmFyIGluZGV4ID0gMDtcclxuXHRmb3IgKGluZGV4IGluIHBsb3RBcmVhRWxlbWVudHMpIHtcclxuXHRcdGlmKHBsb3RBcmVhRWxlbWVudHMuaGFzT3duUHJvcGVydHkoaW5kZXgpKVxyXG5cdFx0cGxvdEFyZWFFbGVtZW50c1tpbmRleF0ucmVuZGVyKCk7XHJcblx0fVxyXG5cclxuXHR2YXIgYW5pbWF0aW9ucyA9IFtdO1xyXG5cdGlmICh0aGlzLmFuaW1hdGVkUmVuZGVyKSB7XHJcblx0XHR2YXIgaW5pdGlhbFN0YXRlID0gY3JlYXRlQ2FudmFzKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcclxuXHRcdHZhciBpbml0aWFsU3RhdGVDdHggPSBpbml0aWFsU3RhdGUuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG5cdFx0aW5pdGlhbFN0YXRlQ3R4LmRyYXdJbWFnZSh0aGlzLmNhbnZhcywgMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG5cdH1cclxuXHJcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBsb3RJbmZvLnBsb3RUeXBlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0dmFyIHBsb3RUeXBlID0gdGhpcy5wbG90SW5mby5wbG90VHlwZXNbaV07XHJcblxyXG5cdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBwbG90VHlwZS5wbG90VW5pdHMubGVuZ3RoOyBqKyspIHtcclxuXHJcblx0XHRcdHZhciBwbG90VW5pdCA9IHBsb3RUeXBlLnBsb3RVbml0c1tqXTtcclxuXHRcdFx0dmFyIGFuaW1hdGlvbkluZm8gPSBudWxsO1xyXG5cclxuXHRcdFx0cGxvdFVuaXQudGFyZ2V0Q2FudmFzID0gbnVsbDsgLy9JbiBjYXNlIGNoYXJ0IHVwZGF0ZXMgYmVmb3JlIHRoZSBhbmltYXRpb24gaXMgY29tcGxldGUsIHByZXZpb3VzIGNhbnZhc2VzIG5lZWQgdG8gYmUgcmVtb3ZlZFxyXG5cclxuXHRcdFx0aWYgKHRoaXMuYW5pbWF0ZWRSZW5kZXIpIHtcclxuXHRcdFx0XHRwbG90VW5pdC50YXJnZXRDYW52YXMgPSBjcmVhdGVDYW52YXModGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG5cdFx0XHRcdHBsb3RVbml0LnRhcmdldENhbnZhc0N0eCA9IHBsb3RVbml0LnRhcmdldENhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChwbG90VW5pdC50eXBlID09PSBcImxpbmVcIilcclxuXHRcdFx0XHRhbmltYXRpb25JbmZvID0gdGhpcy5yZW5kZXJMaW5lKHBsb3RVbml0KTtcclxuXHRcdFx0ZWxzZSBpZiAocGxvdFVuaXQudHlwZSA9PT0gXCJzdGVwTGluZVwiKVxyXG5cdFx0XHRcdGFuaW1hdGlvbkluZm8gPSB0aGlzLnJlbmRlclN0ZXBMaW5lKHBsb3RVbml0KTtcclxuXHRcdFx0ZWxzZSBpZiAocGxvdFVuaXQudHlwZSA9PT0gXCJzcGxpbmVcIilcclxuXHRcdFx0XHRhbmltYXRpb25JbmZvID0gdGhpcy5yZW5kZXJTcGxpbmUocGxvdFVuaXQpO1xyXG5cdFx0XHRlbHNlIGlmIChwbG90VW5pdC50eXBlID09PSBcImNvbHVtblwiKVxyXG5cdFx0XHRcdGFuaW1hdGlvbkluZm8gPSB0aGlzLnJlbmRlckNvbHVtbihwbG90VW5pdCk7XHJcblx0XHRcdGVsc2UgaWYgKHBsb3RVbml0LnR5cGUgPT09IFwiYmFyXCIpXHJcblx0XHRcdFx0YW5pbWF0aW9uSW5mbyA9IHRoaXMucmVuZGVyQmFyKHBsb3RVbml0KTtcclxuXHRcdFx0ZWxzZSBpZiAocGxvdFVuaXQudHlwZSA9PT0gXCJhcmVhXCIpXHJcblx0XHRcdFx0YW5pbWF0aW9uSW5mbyA9IHRoaXMucmVuZGVyQXJlYShwbG90VW5pdCk7XHJcblx0XHRcdGVsc2UgaWYgKHBsb3RVbml0LnR5cGUgPT09IFwic3RlcEFyZWFcIilcclxuXHRcdFx0XHRhbmltYXRpb25JbmZvID0gdGhpcy5yZW5kZXJTdGVwQXJlYShwbG90VW5pdCk7XHJcblx0XHRcdGVsc2UgaWYgKHBsb3RVbml0LnR5cGUgPT09IFwic3BsaW5lQXJlYVwiKVxyXG5cdFx0XHRcdGFuaW1hdGlvbkluZm8gPSB0aGlzLnJlbmRlclNwbGluZUFyZWEocGxvdFVuaXQpO1xyXG5cdFx0XHRlbHNlIGlmIChwbG90VW5pdC50eXBlID09PSBcInN0YWNrZWRDb2x1bW5cIilcclxuXHRcdFx0XHRhbmltYXRpb25JbmZvID0gdGhpcy5yZW5kZXJTdGFja2VkQ29sdW1uKHBsb3RVbml0KTtcclxuXHRcdFx0ZWxzZSBpZiAocGxvdFVuaXQudHlwZSA9PT0gXCJzdGFja2VkQ29sdW1uMTAwXCIpXHJcblx0XHRcdFx0YW5pbWF0aW9uSW5mbyA9IHRoaXMucmVuZGVyU3RhY2tlZENvbHVtbjEwMChwbG90VW5pdCk7XHJcblx0XHRcdGVsc2UgaWYgKHBsb3RVbml0LnR5cGUgPT09IFwic3RhY2tlZEJhclwiKVxyXG5cdFx0XHRcdGFuaW1hdGlvbkluZm8gPSB0aGlzLnJlbmRlclN0YWNrZWRCYXIocGxvdFVuaXQpO1xyXG5cdFx0XHRlbHNlIGlmIChwbG90VW5pdC50eXBlID09PSBcInN0YWNrZWRCYXIxMDBcIilcclxuXHRcdFx0XHRhbmltYXRpb25JbmZvID0gdGhpcy5yZW5kZXJTdGFja2VkQmFyMTAwKHBsb3RVbml0KTtcclxuXHRcdFx0ZWxzZSBpZiAocGxvdFVuaXQudHlwZSA9PT0gXCJzdGFja2VkQXJlYVwiKVxyXG5cdFx0XHRcdGFuaW1hdGlvbkluZm8gPSB0aGlzLnJlbmRlclN0YWNrZWRBcmVhKHBsb3RVbml0KTtcclxuXHRcdFx0ZWxzZSBpZiAocGxvdFVuaXQudHlwZSA9PT0gXCJzdGFja2VkQXJlYTEwMFwiKVxyXG5cdFx0XHRcdGFuaW1hdGlvbkluZm8gPSB0aGlzLnJlbmRlclN0YWNrZWRBcmVhMTAwKHBsb3RVbml0KTtcclxuXHRcdFx0ZWxzZSBpZiAocGxvdFVuaXQudHlwZSA9PT0gXCJidWJibGVcIilcclxuXHRcdFx0XHRhbmltYXRpb25JbmZvID0gYW5pbWF0aW9uSW5mbyA9IHRoaXMucmVuZGVyQnViYmxlKHBsb3RVbml0KTtcclxuXHRcdFx0ZWxzZSBpZiAocGxvdFVuaXQudHlwZSA9PT0gXCJzY2F0dGVyXCIpXHJcblx0XHRcdFx0YW5pbWF0aW9uSW5mbyA9IHRoaXMucmVuZGVyU2NhdHRlcihwbG90VW5pdCk7XHJcblx0XHRcdGVsc2UgaWYgKHBsb3RVbml0LnR5cGUgPT09IFwicGllXCIpXHJcblx0XHRcdFx0dGhpcy5yZW5kZXJQaWUocGxvdFVuaXQpO1xyXG5cdFx0XHRlbHNlIGlmIChwbG90VW5pdC50eXBlID09PSBcImRvdWdobnV0XCIpXHJcblx0XHRcdFx0dGhpcy5yZW5kZXJQaWUocGxvdFVuaXQpO1xyXG5cdFx0XHRlbHNlIGlmIChwbG90VW5pdC50eXBlID09PSBcImNhbmRsZXN0aWNrXCIpXHJcblx0XHRcdFx0YW5pbWF0aW9uSW5mbyA9IHRoaXMucmVuZGVyQ2FuZGxlc3RpY2socGxvdFVuaXQpO1xyXG5cdFx0XHRlbHNlIGlmIChwbG90VW5pdC50eXBlID09PSBcIm9obGNcIilcclxuXHRcdFx0XHRhbmltYXRpb25JbmZvID0gdGhpcy5yZW5kZXJDYW5kbGVzdGljayhwbG90VW5pdCk7XHJcblx0XHRcdGVsc2UgaWYgKHBsb3RVbml0LnR5cGUgPT09IFwicmFuZ2VDb2x1bW5cIilcclxuXHRcdFx0XHRhbmltYXRpb25JbmZvID0gdGhpcy5yZW5kZXJSYW5nZUNvbHVtbihwbG90VW5pdCk7XHJcblx0XHRcdGVsc2UgaWYgKHBsb3RVbml0LnR5cGUgPT09IFwicmFuZ2VCYXJcIilcclxuXHRcdFx0XHRhbmltYXRpb25JbmZvID0gdGhpcy5yZW5kZXJSYW5nZUJhcihwbG90VW5pdCk7XHJcblx0XHRcdGVsc2UgaWYgKHBsb3RVbml0LnR5cGUgPT09IFwicmFuZ2VBcmVhXCIpXHJcblx0XHRcdFx0YW5pbWF0aW9uSW5mbyA9IHRoaXMucmVuZGVyUmFuZ2VBcmVhKHBsb3RVbml0KTtcclxuXHRcdFx0ZWxzZSBpZiAocGxvdFVuaXQudHlwZSA9PT0gXCJyYW5nZVNwbGluZUFyZWFcIilcclxuXHRcdFx0XHRhbmltYXRpb25JbmZvID0gdGhpcy5yZW5kZXJSYW5nZVNwbGluZUFyZWEocGxvdFVuaXQpO1xyXG5cclxuXHRcdFx0Zm9yICh2YXIgayA9IDA7IGsgPCBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7IGsrKykge1xyXG5cdFx0XHRcdHRoaXMuX2RhdGFJblJlbmRlcmVkT3JkZXIucHVzaCh0aGlzLmRhdGFbcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXNba11dKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHRoaXMuYW5pbWF0ZWRSZW5kZXIgJiYgYW5pbWF0aW9uSW5mbylcclxuXHRcdFx0XHRhbmltYXRpb25zLnB1c2goYW5pbWF0aW9uSW5mbyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRpZiAodGhpcy5hbmltYXRlZFJlbmRlciAmJiB0aGlzLl9pbmRleExhYmVscy5sZW5ndGggPiAwKSB7XHJcblx0XHR2YXIgaW5kZXhMYWJlbENhbnZhcyA9IGNyZWF0ZUNhbnZhcyh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcblx0XHR2YXIgaW5kZXhMYWJlbENhbnZhc0N0eCA9IGluZGV4TGFiZWxDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG5cdFx0YW5pbWF0aW9ucy5wdXNoKHRoaXMucmVuZGVySW5kZXhMYWJlbHMoaW5kZXhMYWJlbENhbnZhc0N0eCkpO1xyXG5cdH1cclxuXHJcblx0dmFyIF90aGlzID0gdGhpcztcclxuXHJcblx0aWYgKGFuaW1hdGlvbnMubGVuZ3RoID4gMCkge1xyXG5cdFx0Ly92YXIgYW5pbWF0aW9uQ291bnQgPSAwO1xyXG5cdFx0X3RoaXMuZGlzYWJsZVRvb2xUaXAgPSB0cnVlO1xyXG5cdFx0X3RoaXMuX2FuaW1hdG9yLmFuaW1hdGUoMjAwLCBfdGhpcy5hbmltYXRpb25EdXJhdGlvbiwgZnVuY3Rpb24gKGZyYWN0aW9uQ29tcGxldGUpIHtcclxuXHJcblx0XHRcdC8vY29uc29sZS5sb2coZnJhY3Rpb25Db21wbGV0ZSk7XHJcblx0XHRcdC8vYW5pbWF0aW9uQ291bnQrKztcclxuXHJcblx0XHRcdF90aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgX3RoaXMud2lkdGgsIF90aGlzLmhlaWdodCk7XHJcblxyXG5cclxuXHRcdFx0Ly8gIF90aGlzLmN0eC5kcmF3SW1hZ2UoaW5pdGlhbFN0YXRlLCAwLCAwLCBfdGhpcy53aWR0aCAqIGRldmljZVBpeGVsQmFja2luZ1N0b3JlUmF0aW8sIF90aGlzLmhlaWdodCAqIGRldmljZVBpeGVsQmFja2luZ1N0b3JlUmF0aW8sIDAsIDAsIF90aGlzLndpZHRoLCBfdGhpcy5oZWlnaHQpO1xyXG5cdFx0XHRfdGhpcy5jdHguZHJhd0ltYWdlKGluaXRpYWxTdGF0ZSwgMCwgMCwgTWF0aC5mbG9vcihfdGhpcy53aWR0aCAqIGRldmljZVBpeGVsQmFja2luZ1N0b3JlUmF0aW8pLCBNYXRoLmZsb29yKF90aGlzLmhlaWdodCAqIGRldmljZVBpeGVsQmFja2luZ1N0b3JlUmF0aW8pLCAwLCAwLCBfdGhpcy53aWR0aCwgX3RoaXMuaGVpZ2h0KTtcclxuXHJcblx0XHRcdGZvciAodmFyIGwgPSAwOyBsIDwgYW5pbWF0aW9ucy5sZW5ndGg7IGwrKykge1xyXG5cclxuXHRcdFx0XHRhbmltYXRpb25JbmZvID0gYW5pbWF0aW9uc1tsXTtcclxuXHJcblx0XHRcdFx0aWYgKGZyYWN0aW9uQ29tcGxldGUgPCAxICYmIHR5cGVvZiAoYW5pbWF0aW9uSW5mby5zdGFydFRpbWVQZXJjZW50KSAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG5cdFx0XHRcdFx0aWYgKGZyYWN0aW9uQ29tcGxldGUgPj0gYW5pbWF0aW9uSW5mby5zdGFydFRpbWVQZXJjZW50KSB7XHJcblx0XHRcdFx0XHRcdC8vYW5pbWF0aW9uSW5mby5hbmltYXRpb25DYWxsYmFjayhBbmltYXRpb25IZWxwZXIuZWFzaW5nLmxpbmVhcihmcmFjdGlvbkNvbXBsZXRlIC0gYW5pbWF0aW9uSW5mby5zdGFydFRpbWVQZXJjZW50LCAwLCAxLCAxIC0gYW5pbWF0aW9uSW5mby5zdGFydFRpbWVQZXJjZW50KSwgYW5pbWF0aW9uSW5mbyk7XHJcblxyXG5cdFx0XHRcdFx0XHRhbmltYXRpb25JbmZvLmFuaW1hdGlvbkNhbGxiYWNrKGFuaW1hdGlvbkluZm8uZWFzaW5nRnVuY3Rpb24oZnJhY3Rpb25Db21wbGV0ZSAtIGFuaW1hdGlvbkluZm8uc3RhcnRUaW1lUGVyY2VudCwgMCwgMSwgMSAtIGFuaW1hdGlvbkluZm8uc3RhcnRUaW1lUGVyY2VudCksIGFuaW1hdGlvbkluZm8pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdFx0YW5pbWF0aW9uSW5mby5hbmltYXRpb25DYWxsYmFjayhhbmltYXRpb25JbmZvLmVhc2luZ0Z1bmN0aW9uKGZyYWN0aW9uQ29tcGxldGUsIDAsIDEsIDEpLCBhbmltYXRpb25JbmZvKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdF90aGlzLmRpc3BhdGNoRXZlbnQoXCJkYXRhQW5pbWF0aW9uSXRlcmF0aW9uRW5kXCIsXHJcblx0XHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNoYXJ0OiBfdGhpc1xyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0fSwgZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdFx0YW5pbWF0aW9ucyA9IFtdO1xyXG5cclxuXHRcdFx0dmFyIGNvdW50ID0gMDtcclxuXHJcblx0XHRcdC8vRGVsZXRlIGFsbCByZW5kZXIgdGFyZ2V0IGNhbnZhc2VzIHVzZWQgZm9yIGFuaW1hdGlvbi5cclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpcy5wbG90SW5mby5wbG90VHlwZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgcGxvdFR5cGUgPSBfdGhpcy5wbG90SW5mby5wbG90VHlwZXNbaV07XHJcblxyXG5cdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgcGxvdFR5cGUucGxvdFVuaXRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0XHR2YXIgcGxvdFVuaXQgPSBwbG90VHlwZS5wbG90VW5pdHNbal07XHJcblx0XHRcdFx0XHRwbG90VW5pdC50YXJnZXRDYW52YXMgPSBudWxsO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aW5pdGlhbFN0YXRlID0gbnVsbDtcclxuXHRcdFx0X3RoaXMuZGlzYWJsZVRvb2xUaXAgPSBmYWxzZTtcclxuXHRcdFx0Ly9jb25zb2xlLmxvZyhcIioqKioqKioqKioqIEFuaW1hdGlvbiBDb21wbGV0ZSAtIFwiICsgYW5pbWF0aW9uQ291bnQgKyBcIiAqKioqKioqKioqKlwiKTtcclxuXHJcblx0XHR9KTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0aWYgKF90aGlzLl9pbmRleExhYmVscy5sZW5ndGggPiAwKVxyXG5cdFx0XHRfdGhpcy5yZW5kZXJJbmRleExhYmVscygpO1xyXG5cclxuXHRcdF90aGlzLmRpc3BhdGNoRXZlbnQoXCJkYXRhQW5pbWF0aW9uSXRlcmF0aW9uRW5kXCIsXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0Y2hhcnQ6IF90aGlzXHJcblx0XHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHR0aGlzLmF0dGFjaFBsb3RBcmVhRXZlbnRIYW5kbGVycygpO1xyXG5cclxuXHRpZiAoIXRoaXMuem9vbUVuYWJsZWQgJiYgIXRoaXMucGFuRW5hYmxlZCAmJiB0aGlzLl96b29tQnV0dG9uICYmIHRoaXMuX3pvb21CdXR0b24uc3R5bGUuZGlzcGxheSAhPT0gXCJub25lXCIpIHtcclxuXHRcdGhpZGUodGhpcy5fem9vbUJ1dHRvbiwgdGhpcy5fcmVzZXRCdXR0b24pO1xyXG5cdH1cclxuXHJcblx0dGhpcy5fdG9vbFRpcC5fdXBkYXRlVG9vbFRpcCgpO1xyXG5cclxuXHR0aGlzLnJlbmRlckNvdW50Kys7XHJcblxyXG5cdC8vaWYgKHdpbmRvdy5jb25zb2xlKSB7XHJcblx0Ly8gICAgd2luZG93LmNvbnNvbGUubG9nKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gZHQpO1xyXG5cdC8vfVxyXG5cclxuXHRpZiAoaXNEZWJ1Z01vZGUpIHtcclxuXHJcblx0XHR2YXIgX3RoaXMgPSB0aGlzO1xyXG5cdFx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHZhciBnaG9zdENhbnZhc0NvcHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdob3N0Q2FudmFzQ29weVwiKTtcclxuXHJcblx0XHRcdGlmIChnaG9zdENhbnZhc0NvcHkpIHtcclxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKGdob3N0Q2FudmFzQ29weS5jbGllbnRXaWR0aCk7XHJcblx0XHRcdFx0c2V0Q2FudmFzU2l6ZShnaG9zdENhbnZhc0NvcHksIF90aGlzLndpZHRoLCBfdGhpcy5oZWlnaHQpO1xyXG5cdFx0XHRcdHZhciBnaG9zdENhbnZhc0NvcHlDdHggPSBnaG9zdENhbnZhc0NvcHkuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG5cclxuXHRcdFx0XHQvL2dob3N0Q2FudmFzQ29weUN0eC5zY2FsZSgxLCAxKTtcclxuXHRcdFx0XHQvL3ZhciBpbWFnZURhdGEgPSB0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHRoaXMuX2NvbnRhaW5lci5jbGllbnRXaWR0aCwgdGhpcy5fY29udGFpbmVyLmNsaWVudEhlaWdodCk7XHJcblx0XHRcdFx0Ly90aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHguZHJhd0ltYWdlKHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdENhbnZhcywgMCwgMCk7XHJcblx0XHRcdFx0Ly90aGlzLmN0eC5kcmF3SW1hZ2UodGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q2FudmFzLCAwLCAwKTtcclxuXHJcblx0XHRcdFx0Z2hvc3RDYW52YXNDb3B5Q3R4LmRyYXdJbWFnZShfdGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q2FudmFzLCAwLCAwKTtcclxuXHRcdFx0XHQvL190aGlzLl9jYW52YXNKU0NvbnRhaW5lci5hcHBlbmRDaGlsZChfdGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q2FudmFzKTtcclxuXHRcdFx0XHQvL190aGlzLm92ZXJsYWlkQ2FudmFzQ3R4LmRyYXdJbWFnZShfdGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q2FudmFzLCAwLCAwKTtcclxuXHRcdFx0fVxyXG5cdFx0fSwgMjAwMCk7XHJcblx0fVxyXG59XHJcblxyXG5DaGFydC5wcm90b3R5cGUuYXR0YWNoUGxvdEFyZWFFdmVudEhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHQvL3RoaXMuX3Rvb2xCYXIuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lXCI7XHJcblxyXG5cdHRoaXMuYXR0YWNoRXZlbnQoe1xyXG5cdFx0Y29udGV4dDogdGhpcyxcclxuXHRcdGNoYXJ0OiB0aGlzLFxyXG5cdFx0bW91c2Vkb3duOiB0aGlzLl9wbG90QXJlYU1vdXNlRG93bixcclxuXHRcdG1vdXNldXA6IHRoaXMuX3Bsb3RBcmVhTW91c2VVcCxcclxuXHRcdG1vdXNlbW92ZTogdGhpcy5fcGxvdEFyZWFNb3VzZU1vdmUsXHJcblx0XHRjdXJzb3I6IHRoaXMuem9vbUVuYWJsZWQgPyBcImNvbC1yZXNpemVcIiA6IFwibW92ZVwiLFxyXG5cdFx0Y3Vyc29yOiB0aGlzLnBhbkVuYWJsZWQgPyBcIm1vdmVcIiA6IFwiZGVmYXVsdFwiLFxyXG5cdFx0Y2FwdHVyZTogdHJ1ZSxcclxuXHRcdGJvdW5kczogdGhpcy5wbG90QXJlYVxyXG5cdH0pO1xyXG5cclxufVxyXG5cclxuQ2hhcnQucHJvdG90eXBlLmNhdGVnb3Jpc2VEYXRhU2VyaWVzID0gZnVuY3Rpb24gKCkge1xyXG5cdHZhciBkYXRhU2VyaWVzID0gXCJcIjtcclxuXHJcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRhdGEubGVuZ3RoOyBpKyspIHtcclxuXHRcdGRhdGFTZXJpZXMgPSB0aGlzLmRhdGFbaV1cclxuXHRcdGlmICghZGF0YVNlcmllcy5kYXRhUG9pbnRzIHx8IGRhdGFTZXJpZXMuZGF0YVBvaW50cy5sZW5ndGggPT09IDAgfHwgIWRhdGFTZXJpZXMudmlzaWJsZSlcclxuXHRcdFx0Y29udGludWU7XHJcblxyXG5cdFx0aWYgKENoYXJ0Ll9zdXBwb3J0ZWRDaGFydFR5cGVzLmluZGV4T2YoZGF0YVNlcmllcy50eXBlKSA+PSAwKSB7XHJcblxyXG5cdFx0XHR2YXIgcGxvdFR5cGUgPSBudWxsO1xyXG5cdFx0XHR2YXIgcGxvdFR5cGVFeGlzdHMgPSBmYWxzZTtcclxuXHJcblx0XHRcdHZhciBwbG90VW5pdCA9IG51bGw7XHJcblx0XHRcdHZhciBwbG90VW5pdEV4aXN0cyA9IGZhbHNlO1xyXG5cclxuXHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLnBsb3RJbmZvLnBsb3RUeXBlcy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdGlmICh0aGlzLnBsb3RJbmZvLnBsb3RUeXBlc1tqXS50eXBlID09PSBkYXRhU2VyaWVzLnR5cGUpIHtcclxuXHRcdFx0XHRcdHBsb3RUeXBlRXhpc3RzID0gdHJ1ZTtcclxuXHRcdFx0XHRcdHZhciBwbG90VHlwZSA9IHRoaXMucGxvdEluZm8ucGxvdFR5cGVzW2pdO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoIXBsb3RUeXBlRXhpc3RzKSB7XHJcblx0XHRcdFx0cGxvdFR5cGUgPSB7XHJcblx0XHRcdFx0XHR0eXBlOiBkYXRhU2VyaWVzLnR5cGUsXHJcblx0XHRcdFx0XHR0b3RhbERhdGFTZXJpZXM6IDAsXHJcblx0XHRcdFx0XHRwbG90VW5pdHM6IFtdXHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHR0aGlzLnBsb3RJbmZvLnBsb3RUeXBlcy5wdXNoKHBsb3RUeXBlKVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IHBsb3RUeXBlLnBsb3RVbml0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdGlmIChwbG90VHlwZS5wbG90VW5pdHNbal0uYXhpc1lUeXBlID09PSBkYXRhU2VyaWVzLmF4aXNZVHlwZSkge1xyXG5cdFx0XHRcdFx0cGxvdFVuaXRFeGlzdHMgPSB0cnVlO1xyXG5cdFx0XHRcdFx0dmFyIHBsb3RVbml0ID0gcGxvdFR5cGUucGxvdFVuaXRzW2pdO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoIXBsb3RVbml0RXhpc3RzKSB7XHJcblx0XHRcdFx0cGxvdFVuaXQgPSB7XHJcblx0XHRcdFx0XHR0eXBlOiBkYXRhU2VyaWVzLnR5cGUsXHJcblx0XHRcdFx0XHRwcmV2aW91c0RhdGFTZXJpZXNDb3VudDogMCwgLy90byBiZSBzZXQgbmV4dFxyXG5cdFx0XHRcdFx0aW5kZXg6IHBsb3RUeXBlLnBsb3RVbml0cy5sZW5ndGgsXHJcblx0XHRcdFx0XHRwbG90VHlwZTogcGxvdFR5cGUsXHJcblx0XHRcdFx0XHRheGlzWVR5cGU6IGRhdGFTZXJpZXMuYXhpc1lUeXBlLFxyXG5cdFx0XHRcdFx0YXhpc1k6IGRhdGFTZXJpZXMuYXhpc1lUeXBlID09PSBcInByaW1hcnlcIiA/IHRoaXMuYXhpc1kgOiB0aGlzLmF4aXNZMixcclxuXHRcdFx0XHRcdGF4aXNYOiB0aGlzLmF4aXNYLFxyXG5cdFx0XHRcdFx0ZGF0YVNlcmllc0luZGV4ZXM6IFtdLCAvL2luZGV4IG9mIGRhdGFTZXJpZXNcclxuXHRcdFx0XHRcdHlUb3RhbHM6IFtdXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHBsb3RUeXBlLnBsb3RVbml0cy5wdXNoKHBsb3RVbml0KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cGxvdFR5cGUudG90YWxEYXRhU2VyaWVzKys7XHJcblxyXG5cdFx0XHRwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5wdXNoKGkpO1xyXG5cclxuXHRcdFx0ZGF0YVNlcmllcy5wbG90VW5pdCA9IHBsb3RVbml0O1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBsb3RJbmZvLnBsb3RUeXBlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0dmFyIHBsb3RUeXBlID0gdGhpcy5wbG90SW5mby5wbG90VHlwZXNbaV07XHJcblx0XHR2YXIgcHJldmlvdXNEYXRhU2VyaWVzQ291bnQgPSAwO1xyXG5cclxuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgcGxvdFR5cGUucGxvdFVuaXRzLmxlbmd0aDsgaisrKSB7XHJcblxyXG5cdFx0XHRwbG90VHlwZS5wbG90VW5pdHNbal0ucHJldmlvdXNEYXRhU2VyaWVzQ291bnQgPSBwcmV2aW91c0RhdGFTZXJpZXNDb3VudDtcclxuXHJcblx0XHRcdHByZXZpb3VzRGF0YVNlcmllc0NvdW50ICs9IHBsb3RUeXBlLnBsb3RVbml0c1tqXS5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5DaGFydC5wcm90b3R5cGUuYXNzaWduSWRUb0RhdGFQb2ludHMgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7XHJcblx0XHR2YXIgZGF0YVNlcmllcyA9IHRoaXMuZGF0YVtpXTtcclxuXHJcblx0XHRpZiAoIWRhdGFTZXJpZXMuZGF0YVBvaW50cylcclxuXHRcdFx0Y29udGludWU7XHJcblxyXG5cdFx0dmFyIGxlbmd0aCA9IGRhdGFTZXJpZXMuZGF0YVBvaW50cy5sZW5ndGg7XHJcblxyXG5cdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBsZW5ndGg7IGorKykge1xyXG5cdFx0XHRkYXRhU2VyaWVzLmRhdGFQb2ludElkc1tqXSA9ICsrdGhpcy5fZXZlbnRNYW5hZ2VyLmxhc3RPYmplY3RJZDtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbkNoYXJ0LnByb3RvdHlwZS5fcHJvY2Vzc0RhdGEgPSBmdW5jdGlvbiAoKSB7XHJcblx0dGhpcy5hc3NpZ25JZFRvRGF0YVBvaW50cygpO1xyXG5cdHRoaXMuY2F0ZWdvcmlzZURhdGFTZXJpZXMoKTtcclxuXHJcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBsb3RJbmZvLnBsb3RUeXBlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0dmFyIHBsb3RUeXBlID0gdGhpcy5wbG90SW5mby5wbG90VHlwZXNbaV07XHJcblxyXG5cdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBwbG90VHlwZS5wbG90VW5pdHMubGVuZ3RoOyBqKyspIHtcclxuXHJcblx0XHRcdHZhciBwbG90VW5pdCA9IHBsb3RUeXBlLnBsb3RVbml0c1tqXTtcclxuXHJcblx0XHRcdGlmIChwbG90VW5pdC50eXBlID09PSBcImxpbmVcIiB8fCBwbG90VW5pdC50eXBlID09PSBcInN0ZXBMaW5lXCIgfHwgcGxvdFVuaXQudHlwZSA9PT0gXCJzcGxpbmVcIiB8fCBwbG90VW5pdC50eXBlID09PSBcImNvbHVtblwiIHx8IHBsb3RVbml0LnR5cGUgPT09IFwiYXJlYVwiIHx8IHBsb3RVbml0LnR5cGUgPT09IFwic3RlcEFyZWFcIiB8fCBwbG90VW5pdC50eXBlID09PSBcInNwbGluZUFyZWFcIiB8fCBwbG90VW5pdC50eXBlID09PSBcImJhclwiIHx8IHBsb3RVbml0LnR5cGUgPT09IFwiYnViYmxlXCIgfHwgcGxvdFVuaXQudHlwZSA9PT0gXCJzY2F0dGVyXCIpXHJcblx0XHRcdFx0dGhpcy5fcHJvY2Vzc011bHRpc2VyaWVzUGxvdFVuaXQocGxvdFVuaXQpO1xyXG5cdFx0XHRlbHNlIGlmIChwbG90VW5pdC50eXBlID09PSBcInN0YWNrZWRDb2x1bW5cIiB8fCBwbG90VW5pdC50eXBlID09PSBcInN0YWNrZWRCYXJcIiB8fCBwbG90VW5pdC50eXBlID09PSBcInN0YWNrZWRBcmVhXCIpXHJcblx0XHRcdFx0dGhpcy5fcHJvY2Vzc1N0YWNrZWRQbG90VW5pdChwbG90VW5pdCk7XHJcblx0XHRcdGVsc2UgaWYgKHBsb3RVbml0LnR5cGUgPT09IFwic3RhY2tlZENvbHVtbjEwMFwiIHx8IHBsb3RVbml0LnR5cGUgPT09IFwic3RhY2tlZEJhcjEwMFwiIHx8IHBsb3RVbml0LnR5cGUgPT09IFwic3RhY2tlZEFyZWExMDBcIilcclxuXHRcdFx0XHR0aGlzLl9wcm9jZXNzU3RhY2tlZDEwMFBsb3RVbml0KHBsb3RVbml0KTtcclxuXHRcdFx0ZWxzZSBpZiAocGxvdFVuaXQudHlwZSA9PT0gXCJjYW5kbGVzdGlja1wiIHx8IHBsb3RVbml0LnR5cGUgPT09IFwib2hsY1wiIHx8IHBsb3RVbml0LnR5cGUgPT09IFwicmFuZ2VDb2x1bW5cIiB8fCBwbG90VW5pdC50eXBlID09PSBcInJhbmdlQmFyXCIgfHwgcGxvdFVuaXQudHlwZSA9PT0gXCJyYW5nZUFyZWFcIiB8fCBwbG90VW5pdC50eXBlID09PSBcInJhbmdlU3BsaW5lQXJlYVwiKVxyXG5cdFx0XHRcdHRoaXMuX3Byb2Nlc3NNdWx0aVlQbG90VW5pdChwbG90VW5pdCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxufVxyXG5cclxuQ2hhcnQucHJvdG90eXBlLl9wcm9jZXNzTXVsdGlzZXJpZXNQbG90VW5pdCA9IGZ1bmN0aW9uIChwbG90VW5pdCkge1xyXG5cdGlmICghcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMgfHwgcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoIDwgMSlcclxuXHRcdHJldHVybjtcclxuXHJcblx0dmFyIGF4aXNZRGF0YUluZm8gPSBwbG90VW5pdC5heGlzWS5kYXRhSW5mbztcclxuXHR2YXIgYXhpc1hEYXRhSW5mbyA9IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvO1xyXG5cdHZhciBkYXRhUG9pbnRYLCBkYXRhUG9pbnRZO1xyXG5cdHZhciBpc0RhdGVUaW1lID0gZmFsc2U7XHJcblxyXG5cclxuXHRmb3IgKHZhciBqID0gMDsgaiA8IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDsgaisrKSB7XHJcblx0XHR2YXIgZGF0YVNlcmllcyA9IHRoaXMuZGF0YVtwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlc1tqXV07XHJcblx0XHR2YXIgaSA9IDA7XHJcblx0XHR2YXIgaXNGaXJzdERQSW5WaWV3UG9ydCA9IGZhbHNlO1xyXG5cdFx0dmFyIGlzTGFzdERQSW5WaWV3UG9ydCA9IGZhbHNlO1xyXG5cclxuXHRcdGlmIChkYXRhU2VyaWVzLmF4aXNQbGFjZW1lbnQgPT09IFwibm9ybWFsXCIgfHwgZGF0YVNlcmllcy5heGlzUGxhY2VtZW50ID09PSBcInh5U3dhcHBlZFwiKSB7XHJcblxyXG5cdFx0XHR2YXIgcGxvdEFyZWFYTWluID0gdGhpcy5zZXNzaW9uVmFyaWFibGVzLmF4aXNYLm5ld1ZpZXdwb3J0TWluaW11bSA/IHRoaXMuc2Vzc2lvblZhcmlhYmxlcy5heGlzWC5uZXdWaWV3cG9ydE1pbmltdW0gOiAodGhpcy5fb3B0aW9ucy5heGlzWCAmJiB0aGlzLl9vcHRpb25zLmF4aXNYLnZpZXdwb3J0TWluaW11bSkgP1xyXG5cdFx0XHRcdHRoaXMuX29wdGlvbnMuYXhpc1gudmlld3BvcnRNaW5pbXVtIDogKHRoaXMuX29wdGlvbnMuYXhpc1ggJiYgdGhpcy5fb3B0aW9ucy5heGlzWC5taW5pbXVtKSA/IHRoaXMuX29wdGlvbnMuYXhpc1gubWluaW11bSA6IC1JbmZpbml0eTtcclxuXHJcblx0XHRcdHZhciBwbG90QXJlYVhNYXggPSB0aGlzLnNlc3Npb25WYXJpYWJsZXMuYXhpc1gubmV3Vmlld3BvcnRNYXhpbXVtID8gdGhpcy5zZXNzaW9uVmFyaWFibGVzLmF4aXNYLm5ld1ZpZXdwb3J0TWF4aW11bSA6ICh0aGlzLl9vcHRpb25zLmF4aXNYICYmIHRoaXMuX29wdGlvbnMuYXhpc1gudmlld3BvcnRNYXhpbXVtKSA/XHJcblx0XHRcdFx0dGhpcy5fb3B0aW9ucy5heGlzWC52aWV3cG9ydE1heGltdW0gOiAodGhpcy5fb3B0aW9ucy5heGlzWCAmJiB0aGlzLl9vcHRpb25zLmF4aXNYLm1heGltdW0pID8gdGhpcy5fb3B0aW9ucy5heGlzWC5tYXhpbXVtIDogSW5maW5pdHk7XHJcblx0XHR9XHJcblxyXG5cclxuXHRcdGlmIChkYXRhU2VyaWVzLmRhdGFQb2ludHNbaV0ueCAmJiBkYXRhU2VyaWVzLmRhdGFQb2ludHNbaV0ueC5nZXRUaW1lIHx8IGRhdGFTZXJpZXMueFZhbHVlVHlwZSA9PT0gXCJkYXRlVGltZVwiKSB7XHJcblx0XHRcdGlzRGF0ZVRpbWUgPSB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZvciAoaSA9IDA7IGkgPCBkYXRhU2VyaWVzLmRhdGFQb2ludHMubGVuZ3RoOyBpKyspIHtcclxuXHJcblx0XHRcdGlmICh0eXBlb2YgZGF0YVNlcmllcy5kYXRhUG9pbnRzW2ldLnggPT09IFwidW5kZWZpbmVkXCIpIHtcclxuXHRcdFx0XHRkYXRhU2VyaWVzLmRhdGFQb2ludHNbaV0ueCA9IGk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChkYXRhU2VyaWVzLmRhdGFQb2ludHNbaV0ueC5nZXRUaW1lKSB7XHJcblx0XHRcdFx0aXNEYXRlVGltZSA9IHRydWU7XHJcblx0XHRcdFx0ZGF0YVBvaW50WCA9IGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpXS54LmdldFRpbWUoKTsvL2RhdGFQb2ludFggaXMgdXNlZCBzbyB0aGF0IGdldFRpbWUgaXMgY2FsbGVkIG9ubHkgb25jZSBpbiBjYXNlIG9mIGRhdGVUaW1lIHZhbHVlc1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRkYXRhUG9pbnRYID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzW2ldLng7XHJcblxyXG5cdFx0XHRkYXRhUG9pbnRZID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzW2ldLnk7XHJcblxyXG5cclxuXHRcdFx0aWYgKGRhdGFQb2ludFggPCBheGlzWERhdGFJbmZvLm1pbilcclxuXHRcdFx0XHRheGlzWERhdGFJbmZvLm1pbiA9IGRhdGFQb2ludFg7XHJcblx0XHRcdGlmIChkYXRhUG9pbnRYID4gYXhpc1hEYXRhSW5mby5tYXgpXHJcblx0XHRcdFx0YXhpc1hEYXRhSW5mby5tYXggPSBkYXRhUG9pbnRYO1xyXG5cclxuXHRcdFx0aWYgKGRhdGFQb2ludFkgPCBheGlzWURhdGFJbmZvLm1pbilcclxuXHRcdFx0XHRheGlzWURhdGFJbmZvLm1pbiA9IGRhdGFQb2ludFk7XHJcblxyXG5cdFx0XHRpZiAoZGF0YVBvaW50WSA+IGF4aXNZRGF0YUluZm8ubWF4KVxyXG5cdFx0XHRcdGF4aXNZRGF0YUluZm8ubWF4ID0gZGF0YVBvaW50WTtcclxuXHJcblxyXG5cdFx0XHRpZiAoaSA+IDApIHtcclxuXHRcdFx0XHR2YXIgeERpZmYgPSBkYXRhUG9pbnRYIC0gZGF0YVNlcmllcy5kYXRhUG9pbnRzW2kgLSAxXS54O1xyXG5cdFx0XHRcdHhEaWZmIDwgMCAmJiAoeERpZmYgPSB4RGlmZiAqIC0xKTsgLy9JZiBDb25kaXRpb24gc2hvcnRjdXRcclxuXHJcblx0XHRcdFx0aWYgKGF4aXNYRGF0YUluZm8ubWluRGlmZiA+IHhEaWZmICYmIHhEaWZmICE9PSAwKSB7XHJcblx0XHRcdFx0XHRheGlzWERhdGFJbmZvLm1pbkRpZmYgPSB4RGlmZjtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRZICE9PSBudWxsICYmIGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpIC0gMV0ueSAhPT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0dmFyIHlEaWZmID0gZGF0YVBvaW50WSAtIGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpIC0gMV0ueTtcclxuXHRcdFx0XHRcdHlEaWZmIDwgMCAmJiAoeURpZmYgPSB5RGlmZiAqIC0xKTsgLy9JZiBDb25kaXRpb24gc2hvcnRjdXRcclxuXHJcblx0XHRcdFx0XHRpZiAoYXhpc1lEYXRhSW5mby5taW5EaWZmID4geURpZmYgJiYgeURpZmYgIT09IDApIHtcclxuXHRcdFx0XHRcdFx0YXhpc1lEYXRhSW5mby5taW5EaWZmID0geURpZmY7XHJcblx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFRoaXMgc2VjdGlvbiBtYWtlcyBzdXJlIHRoYXQgcGFydGlhbGx5IHZpc2libGUgZGF0YVBvaW50cyBhcmUgaW5jbHVkZWQgaW4gdGhlIGJlZ2luaW5nXHJcblx0XHRcdGlmIChkYXRhUG9pbnRYIDwgcGxvdEFyZWFYTWluICYmICFpc0ZpcnN0RFBJblZpZXdQb3J0KSB7XHJcblx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdH0gZWxzZSBpZiAoIWlzRmlyc3REUEluVmlld1BvcnQpIHtcclxuXHRcdFx0XHRpc0ZpcnN0RFBJblZpZXdQb3J0ID0gdHJ1ZTtcclxuXHJcblx0XHRcdFx0aWYgKGkgPiAwKSB7XHJcblx0XHRcdFx0XHRpIC09IDI7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFRoaXMgc2VjdGlvbiBtYWtlcyBzdXJlIHRoYXQgcGFydGlhbGx5IHZpc2libGUgZGF0YVBvaW50cyBhcmUgaW5jbHVkZWQgYXQgdGhlIGVuZFxyXG5cdFx0XHRpZiAoZGF0YVBvaW50WCA+IHBsb3RBcmVhWE1heCAmJiAhaXNMYXN0RFBJblZpZXdQb3J0KSB7XHJcblx0XHRcdFx0aXNMYXN0RFBJblZpZXdQb3J0ID0gdHJ1ZTtcclxuXHRcdFx0fSBlbHNlIGlmIChkYXRhUG9pbnRYID4gcGxvdEFyZWFYTWF4ICYmIGlzTGFzdERQSW5WaWV3UG9ydCkge1xyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoZGF0YVNlcmllcy5kYXRhUG9pbnRzW2ldLmxhYmVsKVxyXG5cdFx0XHRcdHBsb3RVbml0LmF4aXNYLmxhYmVsc1tkYXRhUG9pbnRYXSA9IGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpXS5sYWJlbDtcclxuXHJcblxyXG5cdFx0XHRpZiAoZGF0YVBvaW50WCA8IGF4aXNYRGF0YUluZm8udmlld1BvcnRNaW4pXHJcblx0XHRcdFx0YXhpc1hEYXRhSW5mby52aWV3UG9ydE1pbiA9IGRhdGFQb2ludFg7XHJcblx0XHRcdGlmIChkYXRhUG9pbnRYID4gYXhpc1hEYXRhSW5mby52aWV3UG9ydE1heClcclxuXHRcdFx0XHRheGlzWERhdGFJbmZvLnZpZXdQb3J0TWF4ID0gZGF0YVBvaW50WDtcclxuXHJcblx0XHRcdGlmIChkYXRhUG9pbnRZID09PSBudWxsKVxyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cclxuXHRcdFx0aWYgKGRhdGFQb2ludFkgPCBheGlzWURhdGFJbmZvLnZpZXdQb3J0TWluKVxyXG5cdFx0XHRcdGF4aXNZRGF0YUluZm8udmlld1BvcnRNaW4gPSBkYXRhUG9pbnRZO1xyXG5cdFx0XHRpZiAoZGF0YVBvaW50WSA+IGF4aXNZRGF0YUluZm8udmlld1BvcnRNYXgpXHJcblx0XHRcdFx0YXhpc1lEYXRhSW5mby52aWV3UG9ydE1heCA9IGRhdGFQb2ludFk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5wbG90SW5mby5heGlzWFZhbHVlVHlwZSA9IGRhdGFTZXJpZXMueFZhbHVlVHlwZSA9IGlzRGF0ZVRpbWUgPyBcImRhdGVUaW1lXCIgOiBcIm51bWJlclwiO1xyXG5cdH1cclxuXHJcblx0Ly90aGlzLmRhdGFQb2ludHMuc29ydChjb21wYXJlRGF0YVBvaW50WCk7XHJcblx0Ly90aGlzLmRhdGFQb2ludHMuc29ydChmdW5jdGlvbiAoZGF0YVBvaW50MSwgZGF0YVBvaW50MikgeyByZXR1cm4gZGF0YVBvaW50MS54IC0gZGF0YVBvaW50Mi54OyB9KTtcclxufVxyXG5cclxuQ2hhcnQucHJvdG90eXBlLl9wcm9jZXNzU3RhY2tlZFBsb3RVbml0ID0gZnVuY3Rpb24gKHBsb3RVbml0KSB7XHJcblxyXG5cdGlmICghcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMgfHwgcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoIDwgMSlcclxuXHRcdHJldHVybjtcclxuXHJcblx0dmFyIGF4aXNZRGF0YUluZm8gPSBwbG90VW5pdC5heGlzWS5kYXRhSW5mbztcclxuXHR2YXIgYXhpc1hEYXRhSW5mbyA9IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvO1xyXG5cclxuXHR2YXIgZGF0YVBvaW50WCwgZGF0YVBvaW50WTtcclxuXHR2YXIgaXNEYXRlVGltZSA9IGZhbHNlO1xyXG5cclxuXHR2YXIgZGF0YVBvaW50WVBvc2l0aXZlU3VtcyA9IFtdO1xyXG5cdHZhciBkYXRhUG9pbnRZTmVnYXRpdmVTdW1zID0gW107XHJcblxyXG5cdGZvciAodmFyIGogPSAwOyBqIDwgcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoOyBqKyspIHtcclxuXHRcdHZhciBkYXRhU2VyaWVzID0gdGhpcy5kYXRhW3Bsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzW2pdXTtcclxuXHRcdHZhciBpID0gMDtcclxuXHRcdHZhciBpc0ZpcnN0RFBJblZpZXdQb3J0ID0gZmFsc2U7XHJcblx0XHR2YXIgaXNMYXN0RFBJblZpZXdQb3J0ID0gZmFsc2U7XHJcblxyXG5cdFx0aWYgKGRhdGFTZXJpZXMuYXhpc1BsYWNlbWVudCA9PT0gXCJub3JtYWxcIiB8fCBkYXRhU2VyaWVzLmF4aXNQbGFjZW1lbnQgPT09IFwieHlTd2FwcGVkXCIpIHtcclxuXHJcblx0XHRcdHZhciBwbG90QXJlYVhNaW4gPSB0aGlzLnNlc3Npb25WYXJpYWJsZXMuYXhpc1gubmV3Vmlld3BvcnRNaW5pbXVtID8gdGhpcy5zZXNzaW9uVmFyaWFibGVzLmF4aXNYLm5ld1ZpZXdwb3J0TWluaW11bSA6ICh0aGlzLl9vcHRpb25zLmF4aXNYICYmIHRoaXMuX29wdGlvbnMuYXhpc1gudmlld3BvcnRNaW5pbXVtKSA/XHJcblx0XHRcdFx0dGhpcy5fb3B0aW9ucy5heGlzWC52aWV3cG9ydE1pbmltdW0gOiAodGhpcy5fb3B0aW9ucy5heGlzWCAmJiB0aGlzLl9vcHRpb25zLmF4aXNYLm1pbmltdW0pID8gdGhpcy5fb3B0aW9ucy5heGlzWC5taW5pbXVtIDogLUluZmluaXR5O1xyXG5cclxuXHRcdFx0dmFyIHBsb3RBcmVhWE1heCA9IHRoaXMuc2Vzc2lvblZhcmlhYmxlcy5heGlzWC5uZXdWaWV3cG9ydE1heGltdW0gPyB0aGlzLnNlc3Npb25WYXJpYWJsZXMuYXhpc1gubmV3Vmlld3BvcnRNYXhpbXVtIDogKHRoaXMuX29wdGlvbnMuYXhpc1ggJiYgdGhpcy5fb3B0aW9ucy5heGlzWC52aWV3cG9ydE1heGltdW0pID9cclxuXHRcdFx0XHR0aGlzLl9vcHRpb25zLmF4aXNYLnZpZXdwb3J0TWF4aW11bSA6ICh0aGlzLl9vcHRpb25zLmF4aXNYICYmIHRoaXMuX29wdGlvbnMuYXhpc1gubWF4aW11bSkgPyB0aGlzLl9vcHRpb25zLmF4aXNYLm1heGltdW0gOiBJbmZpbml0eTtcclxuXHRcdH1cclxuXHJcblxyXG5cdFx0aWYgKGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpXS54ICYmIGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpXS54LmdldFRpbWUgfHwgZGF0YVNlcmllcy54VmFsdWVUeXBlID09PSBcImRhdGVUaW1lXCIpIHtcclxuXHRcdFx0aXNEYXRlVGltZSA9IHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0Zm9yIChpID0gMDsgaSA8IGRhdGFTZXJpZXMuZGF0YVBvaW50cy5sZW5ndGg7IGkrKykge1xyXG5cclxuXHRcdFx0Ly8gUmVxdWlyZCB3aGVuIG5vIHggdmFsdWVzIGFyZSBwcm92aWRlZFxyXG5cdFx0XHRpZiAodHlwZW9mIGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpXS54ID09PSBcInVuZGVmaW5lZFwiKSB7XHJcblx0XHRcdFx0ZGF0YVNlcmllcy5kYXRhUG9pbnRzW2ldLnggPSBpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoZGF0YVNlcmllcy5kYXRhUG9pbnRzW2ldLnguZ2V0VGltZSkge1xyXG5cdFx0XHRcdGlzRGF0ZVRpbWUgPSB0cnVlO1xyXG5cdFx0XHRcdGRhdGFQb2ludFggPSBkYXRhU2VyaWVzLmRhdGFQb2ludHNbaV0ueC5nZXRUaW1lKCk7Ly9kYXRhUG9pbnRYIGlzIHVzZWQgc28gdGhhdCBnZXRUaW1lIGlzIGNhbGxlZCBvbmx5IG9uY2UgaW4gY2FzZSBvZiBkYXRlVGltZSB2YWx1ZXNcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0ZGF0YVBvaW50WCA9IGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpXS54O1xyXG5cclxuXHRcdFx0ZGF0YVBvaW50WSA9IGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpXS55O1xyXG5cclxuXHJcblxyXG5cdFx0XHRpZiAoZGF0YVBvaW50WCA8IGF4aXNYRGF0YUluZm8ubWluKVxyXG5cdFx0XHRcdGF4aXNYRGF0YUluZm8ubWluID0gZGF0YVBvaW50WDtcclxuXHRcdFx0aWYgKGRhdGFQb2ludFggPiBheGlzWERhdGFJbmZvLm1heClcclxuXHRcdFx0XHRheGlzWERhdGFJbmZvLm1heCA9IGRhdGFQb2ludFg7XHJcblxyXG5cdFx0XHRpZiAoaSA+IDApIHtcclxuXHRcdFx0XHR2YXIgeERpZmYgPSBkYXRhUG9pbnRYIC0gZGF0YVNlcmllcy5kYXRhUG9pbnRzW2kgLSAxXS54O1xyXG5cdFx0XHRcdHhEaWZmIDwgMCAmJiAoeERpZmYgPSB4RGlmZiAqIC0xKTsgLy9JZiBDb25kaXRpb24gc2hvcnRjdXRcclxuXHJcblx0XHRcdFx0aWYgKGF4aXNYRGF0YUluZm8ubWluRGlmZiA+IHhEaWZmICYmIHhEaWZmICE9PSAwKSB7XHJcblx0XHRcdFx0XHRheGlzWERhdGFJbmZvLm1pbkRpZmYgPSB4RGlmZjtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRZICE9PSBudWxsICYmIGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpIC0gMV0ueSAhPT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0dmFyIHlEaWZmID0gZGF0YVBvaW50WSAtIGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpIC0gMV0ueTtcclxuXHRcdFx0XHRcdHlEaWZmIDwgMCAmJiAoeURpZmYgPSB5RGlmZiAqIC0xKTsgLy9JZiBDb25kaXRpb24gc2hvcnRjdXRcclxuXHJcblx0XHRcdFx0XHRpZiAoYXhpc1lEYXRhSW5mby5taW5EaWZmID4geURpZmYgJiYgeURpZmYgIT09IDApIHtcclxuXHRcdFx0XHRcdFx0YXhpc1lEYXRhSW5mby5taW5EaWZmID0geURpZmY7XHJcblx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFRoaXMgc2VjdGlvbiBtYWtlcyBzdXJlIHRoYXQgcGFydGlhbGx5IHZpc2libGUgZGF0YVBvaW50cyBhcmUgaW5jbHVkZWQgaW4gdGhlIGJlZ2luaW5nXHJcblx0XHRcdGlmIChkYXRhUG9pbnRYIDwgcGxvdEFyZWFYTWluICYmICFpc0ZpcnN0RFBJblZpZXdQb3J0KSB7XHJcblx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdH0gZWxzZSBpZiAoIWlzRmlyc3REUEluVmlld1BvcnQpIHtcclxuXHRcdFx0XHRpc0ZpcnN0RFBJblZpZXdQb3J0ID0gdHJ1ZTtcclxuXHJcblx0XHRcdFx0aWYgKGkgPiAwKSB7XHJcblx0XHRcdFx0XHRpIC09IDI7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFRoaXMgc2VjdGlvbiBtYWtlcyBzdXJlIHRoYXQgcGFydGlhbGx5IHZpc2libGUgZGF0YVBvaW50cyBhcmUgaW5jbHVkZWQgYXQgdGhlIGVuZFxyXG5cdFx0XHRpZiAoZGF0YVBvaW50WCA+IHBsb3RBcmVhWE1heCAmJiAhaXNMYXN0RFBJblZpZXdQb3J0KSB7XHJcblx0XHRcdFx0aXNMYXN0RFBJblZpZXdQb3J0ID0gdHJ1ZTtcclxuXHRcdFx0fSBlbHNlIGlmIChkYXRhUG9pbnRYID4gcGxvdEFyZWFYTWF4ICYmIGlzTGFzdERQSW5WaWV3UG9ydCkge1xyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cclxuXHRcdFx0aWYgKGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpXS5sYWJlbClcclxuXHRcdFx0XHRwbG90VW5pdC5heGlzWC5sYWJlbHNbZGF0YVBvaW50WF0gPSBkYXRhU2VyaWVzLmRhdGFQb2ludHNbaV0ubGFiZWw7XHJcblxyXG5cdFx0XHRpZiAoZGF0YVBvaW50WCA8IGF4aXNYRGF0YUluZm8udmlld1BvcnRNaW4pXHJcblx0XHRcdFx0YXhpc1hEYXRhSW5mby52aWV3UG9ydE1pbiA9IGRhdGFQb2ludFg7XHJcblx0XHRcdGlmIChkYXRhUG9pbnRYID4gYXhpc1hEYXRhSW5mby52aWV3UG9ydE1heClcclxuXHRcdFx0XHRheGlzWERhdGFJbmZvLnZpZXdQb3J0TWF4ID0gZGF0YVBvaW50WDtcclxuXHJcblx0XHRcdGlmIChkYXRhUG9pbnRZID09PSBudWxsKVxyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cclxuXHRcdFx0cGxvdFVuaXQueVRvdGFsc1tkYXRhUG9pbnRYXSA9ICghcGxvdFVuaXQueVRvdGFsc1tkYXRhUG9pbnRYXSA/IDAgOiBwbG90VW5pdC55VG90YWxzW2RhdGFQb2ludFhdKSArIE1hdGguYWJzKGRhdGFQb2ludFkpO1xyXG5cclxuXHRcdFx0aWYgKGRhdGFQb2ludFkgPj0gMCkge1xyXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRZUG9zaXRpdmVTdW1zW2RhdGFQb2ludFhdKVxyXG5cdFx0XHRcdFx0ZGF0YVBvaW50WVBvc2l0aXZlU3Vtc1tkYXRhUG9pbnRYXSArPSBkYXRhUG9pbnRZO1xyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdGRhdGFQb2ludFlQb3NpdGl2ZVN1bXNbZGF0YVBvaW50WF0gPSBkYXRhUG9pbnRZO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRZTmVnYXRpdmVTdW1zW2RhdGFQb2ludFhdKVxyXG5cdFx0XHRcdFx0ZGF0YVBvaW50WU5lZ2F0aXZlU3Vtc1tkYXRhUG9pbnRYXSArPSBkYXRhUG9pbnRZO1xyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdGRhdGFQb2ludFlOZWdhdGl2ZVN1bXNbZGF0YVBvaW50WF0gPSBkYXRhUG9pbnRZO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5wbG90SW5mby5heGlzWFZhbHVlVHlwZSA9IGRhdGFTZXJpZXMueFZhbHVlVHlwZSA9IGlzRGF0ZVRpbWUgPyBcImRhdGVUaW1lXCIgOiBcIm51bWJlclwiO1xyXG5cdH1cclxuXHJcblx0Zm9yIChpIGluIGRhdGFQb2ludFlQb3NpdGl2ZVN1bXMpIHtcclxuXHRcdGlmIChkYXRhUG9pbnRZUG9zaXRpdmVTdW1zLmhhc093blByb3BlcnR5KGkpKSB7XHJcblx0XHRpZiAoaXNOYU4oaSkpIHtcclxuXHRcdFx0Y29udGludWU7XHJcblx0XHR9XHJcblx0XHR2YXIgeVN1bSA9IGRhdGFQb2ludFlQb3NpdGl2ZVN1bXNbaV07XHJcblxyXG5cdFx0aWYgKHlTdW0gPCBheGlzWURhdGFJbmZvLm1pbilcclxuXHRcdFx0YXhpc1lEYXRhSW5mby5taW4gPSB5U3VtO1xyXG5cclxuXHRcdGlmICh5U3VtID4gYXhpc1lEYXRhSW5mby5tYXgpXHJcblx0XHRcdGF4aXNZRGF0YUluZm8ubWF4ID0geVN1bTtcclxuXHJcblx0XHRpZiAoaSA8IGF4aXNYRGF0YUluZm8udmlld1BvcnRNaW4gfHwgaSA+IGF4aXNYRGF0YUluZm8udmlld1BvcnRNYXgpXHJcblx0XHRcdGNvbnRpbnVlO1xyXG5cclxuXHRcdGlmICh5U3VtIDwgYXhpc1lEYXRhSW5mby52aWV3UG9ydE1pbilcclxuXHRcdFx0YXhpc1lEYXRhSW5mby52aWV3UG9ydE1pbiA9IHlTdW07XHJcblx0XHRpZiAoeVN1bSA+IGF4aXNZRGF0YUluZm8udmlld1BvcnRNYXgpXHJcblx0XHRcdGF4aXNZRGF0YUluZm8udmlld1BvcnRNYXggPSB5U3VtO1xyXG5cdH1cclxuXHJcblx0fVxyXG5cclxuXHRmb3IgKGkgaW4gZGF0YVBvaW50WU5lZ2F0aXZlU3Vtcykge1xyXG5cclxuXHRcdGlmIChkYXRhUG9pbnRZTmVnYXRpdmVTdW1zLmhhc093blByb3BlcnR5KGkpKSB7XHJcblx0XHRpZiAoaXNOYU4oaSkpIHtcclxuXHRcdFx0Y29udGludWU7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIHlTdW0gPSBkYXRhUG9pbnRZTmVnYXRpdmVTdW1zW2ldO1xyXG5cclxuXHRcdGlmICh5U3VtIDwgYXhpc1lEYXRhSW5mby5taW4pXHJcblx0XHRcdGF4aXNZRGF0YUluZm8ubWluID0geVN1bTtcclxuXHJcblx0XHRpZiAoeVN1bSA+IGF4aXNZRGF0YUluZm8ubWF4KVxyXG5cdFx0XHRheGlzWURhdGFJbmZvLm1heCA9IHlTdW07XHJcblxyXG5cdFx0aWYgKGkgPCBheGlzWERhdGFJbmZvLnZpZXdQb3J0TWluIHx8IGkgPiBheGlzWERhdGFJbmZvLnZpZXdQb3J0TWF4KVxyXG5cdFx0XHRjb250aW51ZTtcclxuXHJcblx0XHRpZiAoeVN1bSA8IGF4aXNZRGF0YUluZm8udmlld1BvcnRNaW4pXHJcblx0XHRcdGF4aXNZRGF0YUluZm8udmlld1BvcnRNaW4gPSB5U3VtO1xyXG5cdFx0aWYgKHlTdW0gPiBheGlzWURhdGFJbmZvLnZpZXdQb3J0TWF4KVxyXG5cdFx0XHRheGlzWURhdGFJbmZvLnZpZXdQb3J0TWF4ID0geVN1bTtcclxuXHR9XHJcblxyXG5cdH1cclxuXHJcblxyXG5cdC8vdGhpcy5kYXRhUG9pbnRzLnNvcnQoY29tcGFyZURhdGFQb2ludFgpO1xyXG5cdC8vdGhpcy5kYXRhUG9pbnRzLnNvcnQoZnVuY3Rpb24gKGRhdGFQb2ludDEsIGRhdGFQb2ludDIpIHsgcmV0dXJuIGRhdGFQb2ludDEueCAtIGRhdGFQb2ludDIueDsgfSk7XHJcblxyXG5cdC8vd2luZG93LmNvbnNvbGUubG9nKFwidmlld1BvcnRZTWluOiBcIiArIHBsb3RJbmZvLnZpZXdQb3J0WU1pbiArIFwiOyB2aWV3UG9ydFlNYXg6IFwiICsgcGxvdEluZm8udmlld1BvcnRZTWF4KTtcclxufVxyXG5cclxuQ2hhcnQucHJvdG90eXBlLl9wcm9jZXNzU3RhY2tlZDEwMFBsb3RVbml0ID0gZnVuY3Rpb24gKHBsb3RVbml0KSB7XHJcblx0aWYgKCFwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcyB8fCBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGggPCAxKVxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHR2YXIgYXhpc1lEYXRhSW5mbyA9IHBsb3RVbml0LmF4aXNZLmRhdGFJbmZvO1xyXG5cdHZhciBheGlzWERhdGFJbmZvID0gcGxvdFVuaXQuYXhpc1guZGF0YUluZm87XHJcblxyXG5cdHZhciBkYXRhUG9pbnRYLCBkYXRhUG9pbnRZO1xyXG5cdHZhciBpc0RhdGVUaW1lID0gZmFsc2U7XHJcblx0dmFyIGNvbnRhaW5zUG9zaXRpdmVZID0gZmFsc2U7XHJcblx0dmFyIGNvbnRhaW5zTmVnYXRpdmVZID0gZmFsc2U7XHJcblxyXG5cdHZhciBkYXRhUG9pbnRZU3VtcyA9IFtdO1xyXG5cclxuXHRmb3IgKHZhciBqID0gMDsgaiA8IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDsgaisrKSB7XHJcblx0XHR2YXIgZGF0YVNlcmllcyA9IHRoaXMuZGF0YVtwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlc1tqXV07XHJcblx0XHR2YXIgaSA9IDA7XHJcblx0XHR2YXIgaXNGaXJzdERQSW5WaWV3UG9ydCA9IGZhbHNlO1xyXG5cdFx0dmFyIGlzTGFzdERQSW5WaWV3UG9ydCA9IGZhbHNlO1xyXG5cclxuXHRcdGlmIChkYXRhU2VyaWVzLmF4aXNQbGFjZW1lbnQgPT09IFwibm9ybWFsXCIgfHwgZGF0YVNlcmllcy5heGlzUGxhY2VtZW50ID09PSBcInh5U3dhcHBlZFwiKSB7XHJcblxyXG5cdFx0XHR2YXIgcGxvdEFyZWFYTWluID0gdGhpcy5zZXNzaW9uVmFyaWFibGVzLmF4aXNYLm5ld1ZpZXdwb3J0TWluaW11bSA/IHRoaXMuc2Vzc2lvblZhcmlhYmxlcy5heGlzWC5uZXdWaWV3cG9ydE1pbmltdW0gOiAodGhpcy5fb3B0aW9ucy5heGlzWCAmJiB0aGlzLl9vcHRpb25zLmF4aXNYLnZpZXdwb3J0TWluaW11bSkgP1xyXG5cdFx0XHRcdHRoaXMuX29wdGlvbnMuYXhpc1gudmlld3BvcnRNaW5pbXVtIDogKHRoaXMuX29wdGlvbnMuYXhpc1ggJiYgdGhpcy5fb3B0aW9ucy5heGlzWC5taW5pbXVtKSA/IHRoaXMuX29wdGlvbnMuYXhpc1gubWluaW11bSA6IC1JbmZpbml0eTtcclxuXHJcblx0XHRcdHZhciBwbG90QXJlYVhNYXggPSB0aGlzLnNlc3Npb25WYXJpYWJsZXMuYXhpc1gubmV3Vmlld3BvcnRNYXhpbXVtID8gdGhpcy5zZXNzaW9uVmFyaWFibGVzLmF4aXNYLm5ld1ZpZXdwb3J0TWF4aW11bSA6ICh0aGlzLl9vcHRpb25zLmF4aXNYICYmIHRoaXMuX29wdGlvbnMuYXhpc1gudmlld3BvcnRNYXhpbXVtKSA/XHJcblx0XHRcdFx0dGhpcy5fb3B0aW9ucy5heGlzWC52aWV3cG9ydE1heGltdW0gOiAodGhpcy5fb3B0aW9ucy5heGlzWCAmJiB0aGlzLl9vcHRpb25zLmF4aXNYLm1heGltdW0pID8gdGhpcy5fb3B0aW9ucy5heGlzWC5tYXhpbXVtIDogSW5maW5pdHk7XHJcblx0XHR9XHJcblxyXG5cclxuXHRcdGlmIChkYXRhU2VyaWVzLmRhdGFQb2ludHNbaV0ueCAmJiBkYXRhU2VyaWVzLmRhdGFQb2ludHNbaV0ueC5nZXRUaW1lIHx8IGRhdGFTZXJpZXMueFZhbHVlVHlwZSA9PT0gXCJkYXRlVGltZVwiKSB7XHJcblx0XHRcdGlzRGF0ZVRpbWUgPSB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZvciAoaSA9IDA7IGkgPCBkYXRhU2VyaWVzLmRhdGFQb2ludHMubGVuZ3RoOyBpKyspIHtcclxuXHJcblx0XHRcdC8vIFJlcXVpcmQgd2hlbiBubyB4IHZhbHVlcyBhcmUgcHJvdmlkZWRcclxuXHRcdFx0aWYgKHR5cGVvZiBkYXRhU2VyaWVzLmRhdGFQb2ludHNbaV0ueCA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG5cdFx0XHRcdGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpXS54ID0gaTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpXS54LmdldFRpbWUpIHtcclxuXHRcdFx0XHRpc0RhdGVUaW1lID0gdHJ1ZTtcclxuXHRcdFx0XHRkYXRhUG9pbnRYID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzW2ldLnguZ2V0VGltZSgpOy8vZGF0YVBvaW50WCBpcyB1c2VkIHNvIHRoYXQgZ2V0VGltZSBpcyBjYWxsZWQgb25seSBvbmNlIGluIGNhc2Ugb2YgZGF0ZVRpbWUgdmFsdWVzXHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGRhdGFQb2ludFggPSBkYXRhU2VyaWVzLmRhdGFQb2ludHNbaV0ueDtcclxuXHJcblx0XHRcdGRhdGFQb2ludFkgPSBkYXRhU2VyaWVzLmRhdGFQb2ludHNbaV0ueTtcclxuXHJcblxyXG5cclxuXHRcdFx0aWYgKGRhdGFQb2ludFggPCBheGlzWERhdGFJbmZvLm1pbilcclxuXHRcdFx0XHRheGlzWERhdGFJbmZvLm1pbiA9IGRhdGFQb2ludFg7XHJcblx0XHRcdGlmIChkYXRhUG9pbnRYID4gYXhpc1hEYXRhSW5mby5tYXgpXHJcblx0XHRcdFx0YXhpc1hEYXRhSW5mby5tYXggPSBkYXRhUG9pbnRYO1xyXG5cclxuXHRcdFx0aWYgKGkgPiAwKSB7XHJcblx0XHRcdFx0dmFyIHhEaWZmID0gZGF0YVBvaW50WCAtIGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpIC0gMV0ueDtcclxuXHRcdFx0XHR4RGlmZiA8IDAgJiYgKHhEaWZmID0geERpZmYgKiAtMSk7IC8vSWYgQ29uZGl0aW9uIHNob3J0Y3V0XHJcblxyXG5cdFx0XHRcdGlmIChheGlzWERhdGFJbmZvLm1pbkRpZmYgPiB4RGlmZiAmJiB4RGlmZiAhPT0gMCkge1xyXG5cdFx0XHRcdFx0YXhpc1hEYXRhSW5mby5taW5EaWZmID0geERpZmY7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoZGF0YVBvaW50WSAhPT0gbnVsbCAmJiBkYXRhU2VyaWVzLmRhdGFQb2ludHNbaSAtIDFdLnkgIT09IG51bGwpIHtcclxuXHRcdFx0XHRcdHZhciB5RGlmZiA9IGRhdGFQb2ludFkgLSBkYXRhU2VyaWVzLmRhdGFQb2ludHNbaSAtIDFdLnk7XHJcblx0XHRcdFx0XHR5RGlmZiA8IDAgJiYgKHlEaWZmID0geURpZmYgKiAtMSk7IC8vSWYgQ29uZGl0aW9uIHNob3J0Y3V0XHJcblxyXG5cdFx0XHRcdFx0aWYgKGF4aXNZRGF0YUluZm8ubWluRGlmZiA+IHlEaWZmICYmIHlEaWZmICE9PSAwKSB7XHJcblx0XHRcdFx0XHRcdGF4aXNZRGF0YUluZm8ubWluRGlmZiA9IHlEaWZmO1xyXG5cdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBUaGlzIHNlY3Rpb24gbWFrZXMgc3VyZSB0aGF0IHBhcnRpYWxseSB2aXNpYmxlIGRhdGFQb2ludHMgYXJlIGluY2x1ZGVkIGluIHRoZSBiZWdpbmluZ1xyXG5cdFx0XHRpZiAoZGF0YVBvaW50WCA8IHBsb3RBcmVhWE1pbiAmJiAhaXNGaXJzdERQSW5WaWV3UG9ydCkge1xyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHR9IGVsc2UgaWYgKCFpc0ZpcnN0RFBJblZpZXdQb3J0KSB7XHJcblx0XHRcdFx0aXNGaXJzdERQSW5WaWV3UG9ydCA9IHRydWU7XHJcblxyXG5cdFx0XHRcdGlmIChpID4gMCkge1xyXG5cdFx0XHRcdFx0aSAtPSAyO1xyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBUaGlzIHNlY3Rpb24gbWFrZXMgc3VyZSB0aGF0IHBhcnRpYWxseSB2aXNpYmxlIGRhdGFQb2ludHMgYXJlIGluY2x1ZGVkIGF0IHRoZSBlbmRcclxuXHRcdFx0aWYgKGRhdGFQb2ludFggPiBwbG90QXJlYVhNYXggJiYgIWlzTGFzdERQSW5WaWV3UG9ydCkge1xyXG5cdFx0XHRcdGlzTGFzdERQSW5WaWV3UG9ydCA9IHRydWU7XHJcblx0XHRcdH0gZWxzZSBpZiAoZGF0YVBvaW50WCA+IHBsb3RBcmVhWE1heCAmJiBpc0xhc3REUEluVmlld1BvcnQpIHtcclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpXS5sYWJlbClcclxuXHRcdFx0XHRwbG90VW5pdC5heGlzWC5sYWJlbHNbZGF0YVBvaW50WF0gPSBkYXRhU2VyaWVzLmRhdGFQb2ludHNbaV0ubGFiZWw7XHJcblxyXG5cdFx0XHRpZiAoZGF0YVBvaW50WCA8IGF4aXNYRGF0YUluZm8udmlld1BvcnRNaW4pXHJcblx0XHRcdFx0YXhpc1hEYXRhSW5mby52aWV3UG9ydE1pbiA9IGRhdGFQb2ludFg7XHJcblx0XHRcdGlmIChkYXRhUG9pbnRYID4gYXhpc1hEYXRhSW5mby52aWV3UG9ydE1heClcclxuXHRcdFx0XHRheGlzWERhdGFJbmZvLnZpZXdQb3J0TWF4ID0gZGF0YVBvaW50WDtcclxuXHJcblx0XHRcdGlmIChkYXRhUG9pbnRZID09PSBudWxsKVxyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cclxuXHRcdFx0cGxvdFVuaXQueVRvdGFsc1tkYXRhUG9pbnRYXSA9ICghcGxvdFVuaXQueVRvdGFsc1tkYXRhUG9pbnRYXSA/IDAgOiBwbG90VW5pdC55VG90YWxzW2RhdGFQb2ludFhdKSArIE1hdGguYWJzKGRhdGFQb2ludFkpO1xyXG5cclxuXHRcdFx0aWYgKGRhdGFQb2ludFkgPj0gMCkge1xyXG5cdFx0XHRcdGNvbnRhaW5zUG9zaXRpdmVZID0gdHJ1ZTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRjb250YWluc05lZ2F0aXZlWSA9IHRydWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChkYXRhUG9pbnRZU3Vtc1tkYXRhUG9pbnRYXSlcclxuXHRcdFx0XHRkYXRhUG9pbnRZU3Vtc1tkYXRhUG9pbnRYXSArPSBNYXRoLmFicyhkYXRhUG9pbnRZKTtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGRhdGFQb2ludFlTdW1zW2RhdGFQb2ludFhdID0gTWF0aC5hYnMoZGF0YVBvaW50WSk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5wbG90SW5mby5heGlzWFZhbHVlVHlwZSA9IGRhdGFTZXJpZXMueFZhbHVlVHlwZSA9IGlzRGF0ZVRpbWUgPyBcImRhdGVUaW1lXCIgOiBcIm51bWJlclwiO1xyXG5cdH1cclxuXHJcblxyXG5cdGlmIChjb250YWluc1Bvc2l0aXZlWSAmJiAhY29udGFpbnNOZWdhdGl2ZVkpIHtcclxuXHRcdGF4aXNZRGF0YUluZm8ubWF4ID0gOTk7XHJcblx0XHRheGlzWURhdGFJbmZvLm1pbiA9IDE7XHJcblx0fSBlbHNlIGlmIChjb250YWluc1Bvc2l0aXZlWSAmJiBjb250YWluc05lZ2F0aXZlWSkge1xyXG5cdFx0YXhpc1lEYXRhSW5mby5tYXggPSA5OTtcclxuXHRcdGF4aXNZRGF0YUluZm8ubWluID0gLTk5O1xyXG5cdH0gZWxzZSBpZiAoIWNvbnRhaW5zUG9zaXRpdmVZICYmIGNvbnRhaW5zTmVnYXRpdmVZKSB7XHJcblx0XHRheGlzWURhdGFJbmZvLm1heCA9IC0xO1xyXG5cdFx0YXhpc1lEYXRhSW5mby5taW4gPSAtOTk7XHJcblx0fVxyXG5cclxuXHRheGlzWURhdGFJbmZvLnZpZXdQb3J0TWluID0gYXhpc1lEYXRhSW5mby5taW47XHJcblx0YXhpc1lEYXRhSW5mby52aWV3UG9ydE1heCA9IGF4aXNZRGF0YUluZm8ubWF4O1xyXG5cclxuXHRwbG90VW5pdC5kYXRhUG9pbnRZU3VtcyA9IGRhdGFQb2ludFlTdW1zO1xyXG5cclxuXHQvL3RoaXMuZGF0YVBvaW50cy5zb3J0KGNvbXBhcmVEYXRhUG9pbnRYKTtcclxuXHQvL3RoaXMuZGF0YVBvaW50cy5zb3J0KGZ1bmN0aW9uIChkYXRhUG9pbnQxLCBkYXRhUG9pbnQyKSB7IHJldHVybiBkYXRhUG9pbnQxLnggLSBkYXRhUG9pbnQyLng7IH0pO1xyXG5cclxuXHQvL3dpbmRvdy5jb25zb2xlLmxvZyhcInZpZXdQb3J0WU1pbjogXCIgKyBwbG90SW5mby52aWV3UG9ydFlNaW4gKyBcIjsgdmlld1BvcnRZTWF4OiBcIiArIHBsb3RJbmZvLnZpZXdQb3J0WU1heCk7XHJcbn1cclxuXHJcbkNoYXJ0LnByb3RvdHlwZS5fcHJvY2Vzc011bHRpWVBsb3RVbml0ID0gZnVuY3Rpb24gKHBsb3RVbml0KSB7XHJcblx0aWYgKCFwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcyB8fCBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGggPCAxKVxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHR2YXIgYXhpc1lEYXRhSW5mbyA9IHBsb3RVbml0LmF4aXNZLmRhdGFJbmZvO1xyXG5cdHZhciBheGlzWERhdGFJbmZvID0gcGxvdFVuaXQuYXhpc1guZGF0YUluZm87XHJcblx0dmFyIGRhdGFQb2ludFgsIGRhdGFQb2ludFksIGRhdGFQb2ludFlNaW4sIGRhdGFQb2ludFlNYXg7XHJcblx0dmFyIGlzRGF0ZVRpbWUgPSBmYWxzZTtcclxuXHJcblxyXG5cdGZvciAodmFyIGogPSAwOyBqIDwgcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoOyBqKyspIHtcclxuXHRcdHZhciBkYXRhU2VyaWVzID0gdGhpcy5kYXRhW3Bsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzW2pdXTtcclxuXHRcdHZhciBpID0gMDtcclxuXHRcdHZhciBpc0ZpcnN0RFBJblZpZXdQb3J0ID0gZmFsc2U7XHJcblx0XHR2YXIgaXNMYXN0RFBJblZpZXdQb3J0ID0gZmFsc2U7XHJcblxyXG5cdFx0aWYgKGRhdGFTZXJpZXMuYXhpc1BsYWNlbWVudCA9PT0gXCJub3JtYWxcIiB8fCBkYXRhU2VyaWVzLmF4aXNQbGFjZW1lbnQgPT09IFwieHlTd2FwcGVkXCIpIHtcclxuXHJcblx0XHRcdHZhciBwbG90QXJlYVhNaW4gPSB0aGlzLnNlc3Npb25WYXJpYWJsZXMuYXhpc1gubmV3Vmlld3BvcnRNaW5pbXVtID8gdGhpcy5zZXNzaW9uVmFyaWFibGVzLmF4aXNYLm5ld1ZpZXdwb3J0TWluaW11bSA6ICh0aGlzLl9vcHRpb25zLmF4aXNYICYmIHRoaXMuX29wdGlvbnMuYXhpc1gudmlld3BvcnRNaW5pbXVtKSA/XHJcblx0XHRcdFx0dGhpcy5fb3B0aW9ucy5heGlzWC52aWV3cG9ydE1pbmltdW0gOiAodGhpcy5fb3B0aW9ucy5heGlzWCAmJiB0aGlzLl9vcHRpb25zLmF4aXNYLm1pbmltdW0pID8gdGhpcy5fb3B0aW9ucy5heGlzWC5taW5pbXVtIDogLUluZmluaXR5O1xyXG5cclxuXHRcdFx0dmFyIHBsb3RBcmVhWE1heCA9IHRoaXMuc2Vzc2lvblZhcmlhYmxlcy5heGlzWC5uZXdWaWV3cG9ydE1heGltdW0gPyB0aGlzLnNlc3Npb25WYXJpYWJsZXMuYXhpc1gubmV3Vmlld3BvcnRNYXhpbXVtIDogKHRoaXMuX29wdGlvbnMuYXhpc1ggJiYgdGhpcy5fb3B0aW9ucy5heGlzWC52aWV3cG9ydE1heGltdW0pID9cclxuXHRcdFx0XHR0aGlzLl9vcHRpb25zLmF4aXNYLnZpZXdwb3J0TWF4aW11bSA6ICh0aGlzLl9vcHRpb25zLmF4aXNYICYmIHRoaXMuX29wdGlvbnMuYXhpc1gubWF4aW11bSkgPyB0aGlzLl9vcHRpb25zLmF4aXNYLm1heGltdW0gOiBJbmZpbml0eTtcclxuXHRcdH1cclxuXHJcblxyXG5cdFx0aWYgKGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpXS54ICYmIGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpXS54LmdldFRpbWUgfHwgZGF0YVNlcmllcy54VmFsdWVUeXBlID09PSBcImRhdGVUaW1lXCIpIHtcclxuXHRcdFx0aXNEYXRlVGltZSA9IHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0Zm9yIChpID0gMDsgaSA8IGRhdGFTZXJpZXMuZGF0YVBvaW50cy5sZW5ndGg7IGkrKykge1xyXG5cclxuXHRcdFx0aWYgKHR5cGVvZiBkYXRhU2VyaWVzLmRhdGFQb2ludHNbaV0ueCA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG5cdFx0XHRcdGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpXS54ID0gaTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpXS54LmdldFRpbWUpIHtcclxuXHRcdFx0XHRpc0RhdGVUaW1lID0gdHJ1ZTtcclxuXHRcdFx0XHRkYXRhUG9pbnRYID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzW2ldLnguZ2V0VGltZSgpOy8vZGF0YVBvaW50WCBpcyB1c2VkIHNvIHRoYXQgZ2V0VGltZSBpcyBjYWxsZWQgb25seSBvbmNlIGluIGNhc2Ugb2YgZGF0ZVRpbWUgdmFsdWVzXHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGRhdGFQb2ludFggPSBkYXRhU2VyaWVzLmRhdGFQb2ludHNbaV0ueDtcclxuXHJcblx0XHRcdGRhdGFQb2ludFkgPSBkYXRhU2VyaWVzLmRhdGFQb2ludHNbaV0ueTtcclxuXHJcblx0XHRcdGlmIChkYXRhUG9pbnRZICYmIGRhdGFQb2ludFkubGVuZ3RoKSB7XHJcblx0XHRcdFx0ZGF0YVBvaW50WU1pbiA9IE1hdGgubWluLmFwcGx5KG51bGwsIGRhdGFQb2ludFkpO1xyXG5cdFx0XHRcdGRhdGFQb2ludFlNYXggPSBNYXRoLm1heC5hcHBseShudWxsLCBkYXRhUG9pbnRZKTtcclxuXHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdGlmIChkYXRhUG9pbnRYIDwgYXhpc1hEYXRhSW5mby5taW4pXHJcblx0XHRcdFx0YXhpc1hEYXRhSW5mby5taW4gPSBkYXRhUG9pbnRYO1xyXG5cdFx0XHRpZiAoZGF0YVBvaW50WCA+IGF4aXNYRGF0YUluZm8ubWF4KVxyXG5cdFx0XHRcdGF4aXNYRGF0YUluZm8ubWF4ID0gZGF0YVBvaW50WDtcclxuXHJcblx0XHRcdGlmIChkYXRhUG9pbnRZTWluIDwgYXhpc1lEYXRhSW5mby5taW4pXHJcblx0XHRcdFx0YXhpc1lEYXRhSW5mby5taW4gPSBkYXRhUG9pbnRZTWluO1xyXG5cclxuXHRcdFx0aWYgKGRhdGFQb2ludFlNYXggPiBheGlzWURhdGFJbmZvLm1heClcclxuXHRcdFx0XHRheGlzWURhdGFJbmZvLm1heCA9IGRhdGFQb2ludFlNYXg7XHJcblxyXG5cclxuXHRcdFx0aWYgKGkgPiAwKSB7XHJcblx0XHRcdFx0dmFyIHhEaWZmID0gZGF0YVBvaW50WCAtIGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpIC0gMV0ueDtcclxuXHRcdFx0XHR4RGlmZiA8IDAgJiYgKHhEaWZmID0geERpZmYgKiAtMSk7IC8vSWYgQ29uZGl0aW9uIHNob3J0Y3V0XHJcblxyXG5cdFx0XHRcdGlmIChheGlzWERhdGFJbmZvLm1pbkRpZmYgPiB4RGlmZiAmJiB4RGlmZiAhPT0gMCkge1xyXG5cdFx0XHRcdFx0YXhpc1hEYXRhSW5mby5taW5EaWZmID0geERpZmY7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoZGF0YVBvaW50WVswXSAhPT0gbnVsbCAmJiBkYXRhU2VyaWVzLmRhdGFQb2ludHNbaSAtIDFdLnlbMF0gIT09IG51bGwpIHtcclxuXHRcdFx0XHRcdHZhciB5RGlmZiA9IGRhdGFQb2ludFlbMF0gLSBkYXRhU2VyaWVzLmRhdGFQb2ludHNbaSAtIDFdLnlbMF07XHJcblx0XHRcdFx0XHR5RGlmZiA8IDAgJiYgKHlEaWZmID0geURpZmYgKiAtMSk7IC8vSWYgQ29uZGl0aW9uIHNob3J0Y3V0XHJcblxyXG5cdFx0XHRcdFx0aWYgKGF4aXNZRGF0YUluZm8ubWluRGlmZiA+IHlEaWZmICYmIHlEaWZmICE9PSAwKSB7XHJcblx0XHRcdFx0XHRcdGF4aXNZRGF0YUluZm8ubWluRGlmZiA9IHlEaWZmO1xyXG5cdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBUaGlzIHNlY3Rpb24gbWFrZXMgc3VyZSB0aGF0IHBhcnRpYWxseSB2aXNpYmxlIGRhdGFQb2ludHMgYXJlIGluY2x1ZGVkIGluIHRoZSBiZWdpbmluZ1xyXG5cdFx0XHRpZiAoZGF0YVBvaW50WCA8IHBsb3RBcmVhWE1pbiAmJiAhaXNGaXJzdERQSW5WaWV3UG9ydCkge1xyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHR9IGVsc2UgaWYgKCFpc0ZpcnN0RFBJblZpZXdQb3J0KSB7XHJcblx0XHRcdFx0aXNGaXJzdERQSW5WaWV3UG9ydCA9IHRydWU7XHJcblxyXG5cdFx0XHRcdGlmIChpID4gMCkge1xyXG5cdFx0XHRcdFx0aSAtPSAyO1xyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBUaGlzIHNlY3Rpb24gbWFrZXMgc3VyZSB0aGF0IHBhcnRpYWxseSB2aXNpYmxlIGRhdGFQb2ludHMgYXJlIGluY2x1ZGVkIGF0IHRoZSBlbmRcclxuXHRcdFx0aWYgKGRhdGFQb2ludFggPiBwbG90QXJlYVhNYXggJiYgIWlzTGFzdERQSW5WaWV3UG9ydCkge1xyXG5cdFx0XHRcdGlzTGFzdERQSW5WaWV3UG9ydCA9IHRydWU7XHJcblx0XHRcdH0gZWxzZSBpZiAoZGF0YVBvaW50WCA+IHBsb3RBcmVhWE1heCAmJiBpc0xhc3REUEluVmlld1BvcnQpIHtcclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpXS5sYWJlbClcclxuXHRcdFx0XHRwbG90VW5pdC5heGlzWC5sYWJlbHNbZGF0YVBvaW50WF0gPSBkYXRhU2VyaWVzLmRhdGFQb2ludHNbaV0ubGFiZWw7XHJcblxyXG5cclxuXHRcdFx0aWYgKGRhdGFQb2ludFggPCBheGlzWERhdGFJbmZvLnZpZXdQb3J0TWluKVxyXG5cdFx0XHRcdGF4aXNYRGF0YUluZm8udmlld1BvcnRNaW4gPSBkYXRhUG9pbnRYO1xyXG5cdFx0XHRpZiAoZGF0YVBvaW50WCA+IGF4aXNYRGF0YUluZm8udmlld1BvcnRNYXgpXHJcblx0XHRcdFx0YXhpc1hEYXRhSW5mby52aWV3UG9ydE1heCA9IGRhdGFQb2ludFg7XHJcblxyXG5cdFx0XHRpZiAoZGF0YVBvaW50WSA9PT0gbnVsbClcclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHJcblx0XHRcdGlmIChkYXRhUG9pbnRZTWluIDwgYXhpc1lEYXRhSW5mby52aWV3UG9ydE1pbilcclxuXHRcdFx0XHRheGlzWURhdGFJbmZvLnZpZXdQb3J0TWluID0gZGF0YVBvaW50WU1pbjtcclxuXHRcdFx0aWYgKGRhdGFQb2ludFlNYXggPiBheGlzWURhdGFJbmZvLnZpZXdQb3J0TWF4KVxyXG5cdFx0XHRcdGF4aXNZRGF0YUluZm8udmlld1BvcnRNYXggPSBkYXRhUG9pbnRZTWF4O1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMucGxvdEluZm8uYXhpc1hWYWx1ZVR5cGUgPSBkYXRhU2VyaWVzLnhWYWx1ZVR5cGUgPSBpc0RhdGVUaW1lID8gXCJkYXRlVGltZVwiIDogXCJudW1iZXJcIjtcclxuXHR9XHJcblxyXG5cdC8vdGhpcy5kYXRhUG9pbnRzLnNvcnQoY29tcGFyZURhdGFQb2ludFgpO1xyXG5cdC8vdGhpcy5kYXRhUG9pbnRzLnNvcnQoZnVuY3Rpb24gKGRhdGFQb2ludDEsIGRhdGFQb2ludDIpIHsgcmV0dXJuIGRhdGFQb2ludDEueCAtIGRhdGFQb2ludDIueDsgfSk7XHJcbn1cclxuXHJcbi8vZ2V0Q2xvc2VzdCByZXR1cm5zIG9iamVjdHMgbmVhcmJ5IGFuZCBoZW5jZSBzaG91bGRuJ3QgYmUgdXNlZCBmb3IgZXZlbnRzIGxpa2UgY2xpY2ssIG1vdXNlb3ZlciwgbW91c2Vtb3ZlLCBldGMgd2hpY2ggcmVxdWlyZSBvYmplY3QgdGhhdCBpcyBleGFjdGx5IHVuZGVyIHRoZSBtb3VzZS5cclxuQ2hhcnQucHJvdG90eXBlLmdldERhdGFQb2ludEF0WFkgPSBmdW5jdGlvbiAobW91c2VYLCBtb3VzZVksIGdldENsb3Nlc3QpIHtcclxuXHJcblx0Z2V0Q2xvc2VzdCA9IGdldENsb3Nlc3QgfHwgZmFsc2U7XHJcblx0dmFyIHJlc3VsdHMgPSBbXTtcclxuXHJcblx0Zm9yICh2YXIgaSA9IHRoaXMuX2RhdGFJblJlbmRlcmVkT3JkZXIubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuXHRcdHZhciBkYXRhU2VyaWVzID0gdGhpcy5fZGF0YUluUmVuZGVyZWRPcmRlcltpXTtcclxuXHJcblx0XHR2YXIgcmVzdWx0ID0gbnVsbDtcclxuXHJcblx0XHRyZXN1bHQgPSBkYXRhU2VyaWVzLmdldERhdGFQb2ludEF0WFkobW91c2VYLCBtb3VzZVksIGdldENsb3Nlc3QpO1xyXG5cdFx0aWYgKHJlc3VsdClcclxuXHRcdFx0cmVzdWx0cy5wdXNoKHJlc3VsdCk7XHJcblx0fVxyXG5cclxuXHR2YXIgY2xvc2VzdFJlc3VsdCA9IG51bGw7XHJcblx0dmFyIG9ubHlMaW5lQXJlYVR5cGVzID0gZmFsc2U7XHJcblxyXG5cdGZvciAodmFyIG0gPSAwOyBtIDwgcmVzdWx0cy5sZW5ndGg7IG0rKykge1xyXG5cclxuXHRcdGlmIChyZXN1bHRzW21dLmRhdGFTZXJpZXMudHlwZSA9PT0gXCJsaW5lXCIgfHwgcmVzdWx0c1ttXS5kYXRhU2VyaWVzLnR5cGUgPT09IFwic3RlcExpbmVcIiB8fCByZXN1bHRzW21dLmRhdGFTZXJpZXMudHlwZSA9PT0gXCJhcmVhXCIgfHwgcmVzdWx0c1ttXS5kYXRhU2VyaWVzLnR5cGUgPT09IFwic3RlcEFyZWFcIikge1xyXG5cdFx0XHR2YXIgbWFya2VyU2l6ZSA9IGdldFByb3BlcnR5KFwibWFya2VyU2l6ZVwiLCByZXN1bHRzW21dLmRhdGFQb2ludCwgcmVzdWx0c1ttXS5kYXRhU2VyaWVzKSB8fCA4O1xyXG5cdFx0XHRpZiAocmVzdWx0c1ttXS5kaXN0YW5jZSA8PSBtYXJrZXJTaXplIC8gMikge1xyXG5cdFx0XHRcdG9ubHlMaW5lQXJlYVR5cGVzID0gdHJ1ZTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Zm9yIChtID0gMDsgbSA8IHJlc3VsdHMubGVuZ3RoOyBtKyspIHtcclxuXHJcblx0XHRpZiAob25seUxpbmVBcmVhVHlwZXMgJiYgcmVzdWx0c1ttXS5kYXRhU2VyaWVzLnR5cGUgIT09IFwibGluZVwiICYmIHJlc3VsdHNbbV0uZGF0YVNlcmllcy50eXBlICE9PSBcInN0ZXBMaW5lXCIgJiYgcmVzdWx0c1ttXS5kYXRhU2VyaWVzLnR5cGUgIT09IFwiYXJlYVwiICYmIHJlc3VsdHNbbV0uZGF0YVNlcmllcy50eXBlICE9PSBcInN0ZXBBcmVhXCIpXHJcblx0XHRcdGNvbnRpbnVlO1xyXG5cclxuXHRcdGlmICghY2xvc2VzdFJlc3VsdCkge1xyXG5cdFx0XHRjbG9zZXN0UmVzdWx0ID0gcmVzdWx0c1ttXTtcclxuXHRcdH0gZWxzZSBpZiAocmVzdWx0c1ttXS5kaXN0YW5jZSA8PSBjbG9zZXN0UmVzdWx0LmRpc3RhbmNlKSB7XHJcblx0XHRcdGNsb3Nlc3RSZXN1bHQgPSByZXN1bHRzW21dO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cmV0dXJuIGNsb3Nlc3RSZXN1bHQ7XHJcbn1cclxuXHJcbkNoYXJ0LnByb3RvdHlwZS5nZXRPYmplY3RBdFhZID0gZnVuY3Rpb24gKG1vdXNlWCwgbW91c2VZLCBnZXRDbG9zZXN0KSB7XHJcblx0Z2V0Q2xvc2VzdCA9IGdldENsb3Nlc3QgfHwgZmFsc2U7XHJcblxyXG5cdHZhciBpZCA9IG51bGw7XHJcblxyXG5cdHZhciBkYXRhUG9pbnRJbmZvID0gdGhpcy5nZXREYXRhUG9pbnRBdFhZKG1vdXNlWCwgbW91c2VZLCBnZXRDbG9zZXN0KTtcclxuXHJcblx0aWYgKGRhdGFQb2ludEluZm8pIHtcclxuXHRcdGlkID0gZGF0YVBvaW50SW5mby5kYXRhU2VyaWVzLmRhdGFQb2ludElkc1tkYXRhUG9pbnRJbmZvLmRhdGFQb2ludEluZGV4XTtcclxuXHR9IGVsc2UgaWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7Ly9JRTkrXHJcblx0XHRpZCA9IGdldE9iamVjdElkKG1vdXNlWCwgbW91c2VZLCB0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHgpO1xyXG5cdH1cclxuXHRlbHNlIHtcclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZWdlbmQuaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSB0aGlzLmxlZ2VuZC5pdGVtc1tpXTtcclxuXHJcblx0XHRcdGlmIChtb3VzZVggPj0gaXRlbS54MSAmJiBtb3VzZVggPD0gaXRlbS54MiAmJiBtb3VzZVkgPj0gaXRlbS55MSAmJiBtb3VzZVkgPD0gaXRlbS55Mikge1xyXG5cdFx0XHRcdGlkID0gaXRlbS5pZDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cmV0dXJuIGlkO1xyXG59XHJcblxyXG4vLy8gPHN1bW1hcnk+Q2FsY3VsYXRlcyBGb250IFNpemUgYmFzZWQgb24gc3RhbmRhcmRTaXplIGFuZCBDaGFydCBTaXplPC9zdW1tYXJ5PlxyXG4vLy8gPHBhcmFtIG5hbWU9XCJzdGFuZGFyZFNpemVcIiB0eXBlPVwiTnVtYmVyXCI+U3RhbmRhcmQgZm9udCBzaXplIGZvciBhIENoYXJ0IHdpdGggbWluKHdpZHRoLGhlaWdodCkgPSA0MDBweDwvcGFyYW0+XHJcbi8vLyA8cmV0dXJucyB0eXBlPVwiTnVtYmVyXCI+VGhlIGFyZWEuPC9yZXR1cm5zPlxyXG5DaGFydC5wcm90b3R5cGUuZ2V0QXV0b0ZvbnRTaXplID0gZnVuY3Rpb24gKHN0YW5kYXJkU2l6ZSwgd2lkdGgsIGhlaWdodCkge1xyXG5cclxuXHR3aWR0aCA9IHdpZHRoIHx8IHRoaXMud2lkdGg7XHJcblx0aGVpZ2h0ID0gaGVpZ2h0IHx8IHRoaXMuaGVpZ2h0O1xyXG5cclxuXHR2YXIgZm9udFNpemVTY2FsZUZhY3RvciA9IHN0YW5kYXJkU2l6ZSAvIDQwMDtcclxuXHJcblx0cmV0dXJuIE1hdGgucm91bmQoTWF0aC5taW4odGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpICogZm9udFNpemVTY2FsZUZhY3Rvcik7XHJcbn1cclxuXHJcbi8vI3JlZ2lvbiBFdmVudHNcclxuXHJcbkNoYXJ0LnByb3RvdHlwZS5yZXNldE92ZXJsYXllZENhbnZhcyA9IGZ1bmN0aW9uICgpIHtcclxuXHQvL3ZhciB3aWR0aCA9IHRoaXMub3ZlcmxhaWRDYW52YXMud2lkdGg7XHJcblx0Ly90aGlzLm92ZXJsYWlkQ2FudmFzLndpZHRoID0gMDtcclxuXHQvL3RoaXMub3ZlcmxhaWRDYW52YXMud2lkdGggPSB3aWR0aDtcclxuXHR0aGlzLm92ZXJsYWlkQ2FudmFzQ3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcbn1cclxuXHJcbkNoYXJ0LnByb3RvdHlwZS5jbGVhckNhbnZhcyA9IGZ1bmN0aW9uICgpIHtcclxuXHR0aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG5cclxuXHRpZiAodGhpcy5iYWNrZ3JvdW5kQ29sb3IpIHtcclxuXHRcdHRoaXMuY3R4LmZpbGxTdHlsZSA9IHRoaXMuYmFja2dyb3VuZENvbG9yO1xyXG5cdFx0dGhpcy5jdHguZmlsbFJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG5cdH1cclxufVxyXG5cclxuQ2hhcnQucHJvdG90eXBlLmF0dGFjaEV2ZW50ID0gZnVuY3Rpb24gKHBhcmFtKSB7XHJcblx0dGhpcy5fZXZlbnRzLnB1c2gocGFyYW0pO1xyXG59XHJcblxyXG5DaGFydC5wcm90b3R5cGUuX3RvdWNoRXZlbnRIYW5kbGVyID0gZnVuY3Rpb24gKGV2KSB7XHJcblx0aWYgKCFldi5jaGFuZ2VkVG91Y2hlcyB8fCAhdGhpcy5pbnRlcmFjdGl2aXR5RW5hYmxlZClcclxuXHRcdHJldHVybjtcclxuXHJcblx0dmFyIG1vdXNlRXZlbnRzID0gW107XHJcblx0dmFyIHRvdWNoZXMgPSBldi5jaGFuZ2VkVG91Y2hlcztcclxuXHR2YXIgZmlyc3QgPSB0b3VjaGVzID8gdG91Y2hlc1swXSA6IGV2O1xyXG5cdHZhciB0b3VjaEN1cnJlbnRDb29yZGluYXRlcyA9IG51bGw7XHJcblxyXG5cdC8vd2luZG93LmNvbnNvbGUubG9nKHRvdWNoZXMubGVuZ3RoKTtcclxuXHJcblx0c3dpdGNoIChldi50eXBlKSB7XHJcblx0XHRjYXNlIFwidG91Y2hzdGFydFwiOiBjYXNlIFwiTVNQb2ludGVyRG93blwiOlxyXG5cdFx0XHRtb3VzZUV2ZW50cyA9IFtcIm1vdXNlbW92ZVwiLCBcIm1vdXNlZG93blwiXTtcclxuXHRcdFx0dGhpcy5fbGFzdFRvdWNoRGF0YSA9IGdldE1vdXNlQ29vcmRpbmF0ZXMoZmlyc3QpO1xyXG5cdFx0XHR0aGlzLl9sYXN0VG91Y2hEYXRhLnRpbWUgPSBuZXcgRGF0ZSgpO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgXCJ0b3VjaG1vdmVcIjogY2FzZSBcIk1TUG9pbnRlck1vdmVcIjogbW91c2VFdmVudHMgPSBbXCJtb3VzZW1vdmVcIl07IGJyZWFrO1xyXG5cdFx0Y2FzZSBcInRvdWNoZW5kXCI6IGNhc2UgXCJNU1BvaW50ZXJVcFwiOiBtb3VzZUV2ZW50cyA9ICh0aGlzLl9sYXN0VG91Y2hFdmVudFR5cGUgPT09IFwidG91Y2hzdGFydFwiIHx8IHRoaXMuX2xhc3RUb3VjaEV2ZW50VHlwZSA9PT0gXCJNU1BvaW50ZXJEb3duXCIpID8gW1wibW91c2V1cFwiLCBcImNsaWNrXCJdIDogW1wibW91c2V1cFwiXTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRkZWZhdWx0OiByZXR1cm47XHJcblx0fVxyXG5cclxuXHRpZiAodG91Y2hlcyAmJiB0b3VjaGVzLmxlbmd0aCA+IDEpIHJldHVybjtcclxuXHJcblxyXG5cdHRvdWNoQ3VycmVudENvb3JkaW5hdGVzID0gZ2V0TW91c2VDb29yZGluYXRlcyhmaXJzdCk7XHJcblx0dG91Y2hDdXJyZW50Q29vcmRpbmF0ZXMudGltZSA9IG5ldyBEYXRlKCk7XHJcblx0dHJ5IHtcclxuXHRcdHZhciBkeSA9IHRvdWNoQ3VycmVudENvb3JkaW5hdGVzLnkgLSB0aGlzLl9sYXN0VG91Y2hEYXRhLnk7XHJcblx0XHR2YXIgZHggPSB0b3VjaEN1cnJlbnRDb29yZGluYXRlcy54IC0gdGhpcy5fbGFzdFRvdWNoRGF0YS54O1xyXG5cdFx0dmFyIGR0ID0gdG91Y2hDdXJyZW50Q29vcmRpbmF0ZXMudGltZSAtIHRoaXMuX2xhc3RUb3VjaERhdGEudGltZTtcclxuXHJcblx0XHRpZiAoTWF0aC5hYnMoZHkpID4gMTUgJiYgKCEhdGhpcy5fbGFzdFRvdWNoRGF0YS5zY3JvbGwgfHwgZHQgPCAyMDApKSB7XHJcblx0XHRcdC8vdGhpcy5fbGFzdFRvdWNoRGF0YS55ID0gdG91Y2hDdXJyZW50Q29vcmRpbmF0ZXMueTtcclxuXHRcdFx0dGhpcy5fbGFzdFRvdWNoRGF0YS5zY3JvbGwgPSB0cnVlO1xyXG5cclxuXHRcdFx0dmFyIHdpbiA9IHdpbmRvdy5wYXJlbnQgfHwgd2luZG93O1xyXG5cdFx0XHRpZiAod2luICYmIHdpbi5zY3JvbGxCeSlcclxuXHRcdFx0XHR3aW4uc2Nyb2xsQnkoMCwgLWR5KTtcclxuXHRcdH1cclxuXHR9IGNhdGNoIChlKSB7IH07XHJcblxyXG5cdHRoaXMuX2xhc3RUb3VjaEV2ZW50VHlwZSA9IGV2LnR5cGU7XHJcblxyXG5cdGlmICghIXRoaXMuX2xhc3RUb3VjaERhdGEuc2Nyb2xsICYmIHRoaXMuem9vbUVuYWJsZWQpIHtcclxuXHRcdGlmICh0aGlzLmlzRHJhZylcclxuXHRcdFx0dGhpcy5yZXNldE92ZXJsYXllZENhbnZhcygpO1xyXG5cclxuXHRcdHRoaXMuaXNEcmFnID0gZmFsc2U7XHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cclxuXHRmb3IgKHZhciBpID0gMDsgaSA8IG1vdXNlRXZlbnRzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG5cdFx0dmFyIHR5cGUgPSBtb3VzZUV2ZW50c1tpXTtcclxuXHRcdHZhciBzaW11bGF0ZWRFdmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiTW91c2VFdmVudFwiKTtcclxuXHRcdHNpbXVsYXRlZEV2ZW50LmluaXRNb3VzZUV2ZW50KHR5cGUsIHRydWUsIHRydWUsIHdpbmRvdywgMSxcclxuXHRcdFx0XHRcdFx0XHRcdCAgZmlyc3Quc2NyZWVuWCwgZmlyc3Quc2NyZWVuWSxcclxuXHRcdFx0XHRcdFx0XHRcdCAgZmlyc3QuY2xpZW50WCwgZmlyc3QuY2xpZW50WSwgZmFsc2UsXHJcblx0XHRcdFx0XHRcdFx0XHQgIGZhbHNlLCBmYWxzZSwgZmFsc2UsIDAsIG51bGwpO1xyXG5cclxuXHRcdGZpcnN0LnRhcmdldC5kaXNwYXRjaEV2ZW50KHNpbXVsYXRlZEV2ZW50KTtcclxuXHJcblx0XHRpZiAoZXYucHJldmVudE1hbmlwdWxhdGlvbikge1xyXG5cdFx0XHQvL2FsZXJ0KFwicHJldmVudE1hbmlwdWxhdGlvblwiKTtcclxuXHRcdFx0ZXYucHJldmVudE1hbmlwdWxhdGlvbigpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChldi5wcmV2ZW50RGVmYXVsdCkge1xyXG5cdFx0XHQvL2FsZXJ0KFwicHJldmVudERlZmF1bHRcIik7XHJcblx0XHRcdGV2LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5DaGFydC5wcm90b3R5cGUuX2Rpc3BhdGNoUmFuZ2VFdmVudCA9IGZ1bmN0aW9uIChldmVudE5hbWUsIHRyaWdnZXJTb3VyY2UpIHtcclxuXHR2YXIgZXZlbnRQYXJhbWV0ZXIgPSB7fTtcclxuXHJcblx0ZXZlbnRQYXJhbWV0ZXIuY2hhcnQgPSB0aGlzLl9wdWJsaWNDaGFydFJlZmVyZW5jZTtcclxuXHRldmVudFBhcmFtZXRlci50eXBlID0gZXZlbnROYW1lO1xyXG5cdGV2ZW50UGFyYW1ldGVyLnRyaWdnZXIgPSB0cmlnZ2VyU291cmNlO1xyXG5cclxuXHR2YXIgYXhlcyA9IFtdO1xyXG5cclxuXHRpZiAodGhpcy5heGlzWClcclxuXHRcdGF4ZXMucHVzaChcImF4aXNYXCIpO1xyXG5cdGlmICh0aGlzLmF4aXNZKVxyXG5cdFx0YXhlcy5wdXNoKFwiYXhpc1lcIik7XHJcblx0aWYgKHRoaXMuYXhpc1kyKVxyXG5cdFx0YXhlcy5wdXNoKFwiYXhpc1kyXCIpO1xyXG5cclxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGF4ZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdGV2ZW50UGFyYW1ldGVyW2F4ZXNbaV1dID0ge1xyXG5cdFx0XHR2aWV3cG9ydE1pbmltdW06IHRoaXNbYXhlc1tpXV0uc2Vzc2lvblZhcmlhYmxlcy5uZXdWaWV3cG9ydE1pbmltdW0sXHJcblx0XHRcdHZpZXdwb3J0TWF4aW11bTogdGhpc1theGVzW2ldXS5zZXNzaW9uVmFyaWFibGVzLm5ld1ZpZXdwb3J0TWF4aW11bVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0dGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50TmFtZSwgZXZlbnRQYXJhbWV0ZXIsIHRoaXMuX3B1YmxpY0NoYXJ0UmVmZXJlbmNlKTtcclxufVxyXG5cclxuQ2hhcnQucHJvdG90eXBlLl9tb3VzZUV2ZW50SGFuZGxlciA9IGZ1bmN0aW9uIChldikge1xyXG5cclxuXHRpZiAoIXRoaXMuaW50ZXJhY3Rpdml0eUVuYWJsZWQpXHJcblx0XHRyZXR1cm47XHJcblxyXG5cdGlmICh0aGlzLl9pZ25vcmVOZXh0RXZlbnQpIHtcclxuXHRcdHRoaXMuX2lnbm9yZU5leHRFdmVudCA9IGZhbHNlO1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblx0Ly8gc3RvcCBwYW5uaW5nIGFuZCB6b29taW5nIHNvIHdlIGNhbiBkcmF3XHJcblx0aWYgKGV2LnByZXZlbnRNYW5pcHVsYXRpb24pIHtcclxuXHRcdC8vYWxlcnQoXCJwcmV2ZW50TWFuaXB1bGF0aW9uXCIpO1xyXG5cdFx0ZXYucHJldmVudE1hbmlwdWxhdGlvbigpO1xyXG5cdH1cclxuXHJcblx0Ly8gd2UgYXJlIGhhbmRsaW5nIHRoaXMgZXZlbnRcclxuXHRpZiAoZXYucHJldmVudERlZmF1bHQpIHtcclxuXHRcdC8vYWxlcnQoXCJwcmV2ZW50RGVmYXVsdFwiKTtcclxuXHRcdGV2LnByZXZlbnREZWZhdWx0KCk7XHJcblx0fVxyXG5cclxuXHQvL0lFOC0gdXNlcyBzcmNFbGVtZW50IGluc3RlYWQgb2YgdGFyZ2V0LiBTbyBpbnN0ZWFkIG9mIGNoZWNraW5nIHRoaXMgY29uZGl0aW9uIGV2ZXJ5dGltZSwgaXRzIGJldHRlciB0byBjcmVhdGUgYSByZWZlcmVuY2UgY2FsbGVkIHRhcmdldC5cclxuXHRpZiAodHlwZW9mIChldi50YXJnZXQpID09PSBcInVuZGVmaW5lZFwiICYmIGV2LnNyY0VsZW1lbnQpXHJcblx0XHRldi50YXJnZXQgPSBldi5zcmNFbGVtZW50O1xyXG5cclxuXHQvL2NvbnNvbGUubG9nKGV2LnR5cGUpO1xyXG5cclxuXHR2YXIgeHkgPSBnZXRNb3VzZUNvb3JkaW5hdGVzKGV2KTtcclxuXHR2YXIgdHlwZSA9IGV2LnR5cGU7XHJcblx0dmFyIGV2ZW50UGFyYW07XHJcblx0dmFyIHJpZ2h0Y2xpY2s7XHJcblxyXG5cdGlmICghZXYpIHZhciBlID0gd2luZG93LmV2ZW50O1xyXG5cdGlmIChldi53aGljaCkgcmlnaHRjbGljayA9IChldi53aGljaCA9PSAzKTtcclxuXHRlbHNlIGlmIChldi5idXR0b24pIHJpZ2h0Y2xpY2sgPSAoZXYuYnV0dG9uID09IDIpO1xyXG5cclxuXHQvL3dpbmRvdy5jb25zb2xlLmxvZyh0eXBlICsgXCIgLS0+IHg6IFwiICsgeHkueCArIFwiOyB5OlwiICsgeHkueSk7XHJcblxyXG5cdC8vaWYgKHR5cGUgPT09IFwibW91c2VvdXRcIikge1xyXG5cdC8vICAgIHRoaXMuX3Rvb2xUaXAuaGlkZSgpO1xyXG5cdC8vfVxyXG5cclxuXHRpZiAoaXNEZWJ1Z01vZGUgJiYgd2luZG93LmNvbnNvbGUpIHtcclxuXHRcdHdpbmRvdy5jb25zb2xlLmxvZyh0eXBlICsgXCIgLS0+IHg6IFwiICsgeHkueCArIFwiOyB5OlwiICsgeHkueSk7XHJcblx0XHRpZiAocmlnaHRjbGljaylcclxuXHRcdFx0d2luZG93LmNvbnNvbGUubG9nKGV2LndoaWNoKTtcclxuXHJcblx0XHRpZiAodHlwZSA9PT0gXCJtb3VzZXVwXCIpXHJcblx0XHRcdHdpbmRvdy5jb25zb2xlLmxvZyhcIm1vdXNldXBcIik7XHJcblx0fVxyXG5cclxuXHRpZiAocmlnaHRjbGljaylcclxuXHRcdHJldHVybjtcclxuXHJcblx0Ly9pZiAodGhpcy5wbG90SW5mby5heGlzUGxhY2VtZW50ID09PSBcInh5U3dhcHBlZFwiKSB7XHJcblx0Ly8gICAgLy92YXIgdGVtcCA9IHh5Lng7XHJcblx0Ly8gICAgLy94eS54ID0geHkueTtcclxuXHQvLyAgICAvL3h5LnkgPSB0ZW1wO1xyXG5cdC8vICAgIHh5ID0ge3g6IHh5LnksIHk6IHh5Lnh9O1xyXG5cdC8vfVxyXG5cclxuXHRpZiAoQ2hhcnQuY2FwdHVyZWRFdmVudFBhcmFtKSB7XHJcblx0XHRldmVudFBhcmFtID0gQ2hhcnQuY2FwdHVyZWRFdmVudFBhcmFtO1xyXG5cclxuXHRcdGlmICh0eXBlID09PSBcIm1vdXNldXBcIikge1xyXG5cdFx0XHRDaGFydC5jYXB0dXJlZEV2ZW50UGFyYW0gPSBudWxsO1xyXG5cclxuXHRcdFx0aWYgKGV2ZW50UGFyYW0uY2hhcnQub3ZlcmxhaWRDYW52YXMucmVsZWFzZUNhcHR1cmUpXHJcblx0XHRcdFx0ZXZlbnRQYXJhbS5jaGFydC5vdmVybGFpZENhbnZhcy5yZWxlYXNlQ2FwdHVyZSgpO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0ZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBldmVudFBhcmFtLmNoYXJ0Ll9tb3VzZUV2ZW50SGFuZGxlciwgZmFsc2UpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoZXZlbnRQYXJhbS5oYXNPd25Qcm9wZXJ0eSh0eXBlKSlcclxuXHRcdFx0ZXZlbnRQYXJhbVt0eXBlXS5jYWxsKGV2ZW50UGFyYW0uY29udGV4dCwgeHkueCwgeHkueSk7XHJcblxyXG5cclxuXHJcblx0fVxyXG5cdGVsc2UgaWYgKHRoaXMuX2V2ZW50cykge1xyXG5cclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fZXZlbnRzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGlmICghdGhpcy5fZXZlbnRzW2ldLmhhc093blByb3BlcnR5KHR5cGUpKVxyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cclxuXHRcdFx0ZXZlbnRQYXJhbSA9IHRoaXMuX2V2ZW50c1tpXTtcclxuXHRcdFx0dmFyIGJvdW5kcyA9IGV2ZW50UGFyYW0uYm91bmRzO1xyXG5cclxuXHRcdFx0aWYgKHh5LnggPj0gYm91bmRzLngxICYmIHh5LnggPD0gYm91bmRzLngyICYmIHh5LnkgPj0gYm91bmRzLnkxICYmIHh5LnkgPD0gYm91bmRzLnkyKSB7XHJcblx0XHRcdFx0ZXZlbnRQYXJhbVt0eXBlXS5jYWxsKGV2ZW50UGFyYW0uY29udGV4dCwgeHkueCwgeHkueSk7XHJcblxyXG5cdFx0XHRcdGlmICh0eXBlID09PSBcIm1vdXNlZG93blwiICYmIGV2ZW50UGFyYW0uY2FwdHVyZSA9PT0gdHJ1ZSkge1xyXG5cdFx0XHRcdFx0Q2hhcnQuY2FwdHVyZWRFdmVudFBhcmFtID0gZXZlbnRQYXJhbTtcclxuXHJcblx0XHRcdFx0XHRpZiAodGhpcy5vdmVybGFpZENhbnZhcy5zZXRDYXB0dXJlKVxyXG5cdFx0XHRcdFx0XHR0aGlzLm92ZXJsYWlkQ2FudmFzLnNldENhcHR1cmUoKTtcclxuXHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMuX21vdXNlRXZlbnRIYW5kbGVyLCBmYWxzZSk7XHJcblx0XHRcdFx0XHRcdC8vYWRkRXZlbnQoZG9jdW1lbnQuYm9keSwgXCJtb3VzZXVwXCIsIHRoaXMuX21vdXNlRXZlbnRIYW5kbGVyKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2UgaWYgKHR5cGUgPT09IFwibW91c2V1cFwiKSB7XHJcblx0XHRcdFx0XHRpZiAoZXZlbnRQYXJhbS5jaGFydC5vdmVybGFpZENhbnZhcy5yZWxlYXNlQ2FwdHVyZSlcclxuXHRcdFx0XHRcdFx0ZXZlbnRQYXJhbS5jaGFydC5vdmVybGFpZENhbnZhcy5yZWxlYXNlQ2FwdHVyZSgpO1xyXG5cdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMuX21vdXNlRXZlbnRIYW5kbGVyLCBmYWxzZSk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0ZXZlbnRQYXJhbSA9IG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGV2ZW50UGFyYW0gJiYgZXZlbnRQYXJhbS5jdXJzb3IpIHtcclxuXHRcdFx0ZXYudGFyZ2V0LnN0eWxlLmN1cnNvciA9IGV2ZW50UGFyYW0uY3Vyc29yO1xyXG5cdFx0fVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRldi50YXJnZXQuc3R5bGUuY3Vyc29yID0gdGhpcy5fZGVmYXVsdEN1cnNvcjtcclxuXHJcblx0XHQvL2V2ZW50UGFyYW0gPVxyXG5cdH1cclxuXHJcblx0aWYgKHRoaXMuX3Rvb2xUaXAgJiYgdGhpcy5fdG9vbFRpcC5lbmFibGVkKSB7XHJcblxyXG5cdFx0dmFyIHBsb3RBcmVhID0gdGhpcy5wbG90QXJlYTtcclxuXHJcblx0XHRpZiAoeHkueCA8IHBsb3RBcmVhLngxIHx8IHh5LnggPiBwbG90QXJlYS54MiB8fCB4eS55IDwgcGxvdEFyZWEueTEgfHwgeHkueSA+IHBsb3RBcmVhLnkyKVxyXG5cdFx0XHR0aGlzLl90b29sVGlwLmhpZGUoKTtcclxuXHR9XHJcblxyXG5cclxuXHRpZiAoKCF0aGlzLmlzRHJhZyB8fCAhdGhpcy56b29tRW5hYmxlZCkgJiYgdGhpcy5fZXZlbnRNYW5hZ2VyKSB7XHJcblxyXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLm1vdXNlRXZlbnRIYW5kbGVyKGV2KTtcclxuXHRcdC8vdGhpcy5fdXBkYXRlVG9vbFRpcChldi54LCBldi55KTtcclxuXHR9XHJcblxyXG5cdC8vaWYgKHRoaXMuX3Rvb2xUaXAuZW5hYmxlZClcclxuXHQvLyAgICB0aGlzLl90b29sVGlwLm1vdXNlTW92ZUhhbmRsZXIoZXYueCwgZXYueSk7XHJcbn1cclxuXHJcbkNoYXJ0LnByb3RvdHlwZS5fcGxvdEFyZWFNb3VzZURvd24gPSBmdW5jdGlvbiAoeCwgeSkge1xyXG5cdHRoaXMuaXNEcmFnID0gdHJ1ZTtcclxuXHJcblx0aWYgKHRoaXMucGxvdEluZm8uYXhpc1BsYWNlbWVudCAhPT0gXCJub25lXCIpIHtcclxuXHRcdHRoaXMuZHJhZ1N0YXJ0UG9pbnQgPSB7IHg6IHgsIHk6IHkgfTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0dGhpcy5kcmFnU3RhcnRQb2ludCA9IHsgeDogeCwgeTogeSB9O1xyXG5cdH1cclxufVxyXG5cclxuQ2hhcnQucHJvdG90eXBlLl9wbG90QXJlYU1vdXNlVXAgPSBmdW5jdGlvbiAoeCwgeSkge1xyXG5cclxuXHRpZiAodGhpcy5wbG90SW5mby5heGlzUGxhY2VtZW50ID09PSBcIm5vcm1hbFwiIHx8IHRoaXMucGxvdEluZm8uYXhpc1BsYWNlbWVudCA9PT0gXCJ4eVN3YXBwZWRcIikge1xyXG5cdFx0aWYgKHRoaXMuaXNEcmFnKSB7XHJcblx0XHRcdHZhciBkcmFnRGVsdGEgPSAwLFxyXG5cdFx0XHRcdGRyYWdEZWx0YVBZID0geSAtIHRoaXMuZHJhZ1N0YXJ0UG9pbnQueSxcclxuXHRcdFx0XHRkcmFnRGVsdGFQWCA9IHggLSB0aGlzLmRyYWdTdGFydFBvaW50LngsXHJcblx0XHRcdFx0em9vbVBYID0gdGhpcy56b29tVHlwZS5pbmRleE9mKFwieFwiKSA+PSAwLCAvL1doZXRoZXIgdG8gem9vbSBob3Jpem9udGFsbHlcclxuXHRcdFx0XHR6b29tUFkgPSB0aGlzLnpvb21UeXBlLmluZGV4T2YoXCJ5XCIpID49IDAsIC8vV2hldGhlciB0byB6b29tIHZlcnRpY2FsbHlcclxuXHRcdFx0XHRyZVJlbmRlciA9IGZhbHNlO1xyXG5cclxuXHRcdFx0dGhpcy5yZXNldE92ZXJsYXllZENhbnZhcygpO1xyXG5cclxuXHRcdFx0aWYgKHRoaXMucGxvdEluZm8uYXhpc1BsYWNlbWVudCA9PT0gXCJ4eVN3YXBwZWRcIikge1xyXG5cdFx0XHRcdHZhciB0ZW1wID0gem9vbVBZO1xyXG5cdFx0XHRcdHpvb21QWSA9IHpvb21QWDtcclxuXHRcdFx0XHR6b29tUFggPSB0ZW1wO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAodGhpcy5wYW5FbmFibGVkIHx8IHRoaXMuem9vbUVuYWJsZWQpIHtcclxuXHRcdFx0XHRpZiAodGhpcy5wYW5FbmFibGVkKSB7XHJcblxyXG5cdFx0XHRcdFx0dmFyIG92ZXJmbG93ID0gMDtcclxuXHJcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2F4ZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdFx0dmFyIGF4aXMgPSB0aGlzLl9heGVzW2ldO1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgKGF4aXMudmlld3BvcnRNaW5pbXVtIDwgYXhpcy5taW5pbXVtKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRcdG92ZXJmbG93ID0gYXhpcy5taW5pbXVtIC0gYXhpcy52aWV3cG9ydE1pbmltdW07XHJcblxyXG5cdFx0XHRcdFx0XHRcdGF4aXMuc2Vzc2lvblZhcmlhYmxlcy5uZXdWaWV3cG9ydE1pbmltdW0gPSBheGlzLnZpZXdwb3J0TWluaW11bSArIG92ZXJmbG93O1xyXG5cdFx0XHRcdFx0XHRcdGF4aXMuc2Vzc2lvblZhcmlhYmxlcy5uZXdWaWV3cG9ydE1heGltdW0gPSBheGlzLnZpZXdwb3J0TWF4aW11bSArIG92ZXJmbG93O1xyXG5cclxuXHRcdFx0XHRcdFx0cmVSZW5kZXIgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKGF4aXMudmlld3BvcnRNYXhpbXVtID4gYXhpcy5tYXhpbXVtKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRcdG92ZXJmbG93ID0gYXhpcy52aWV3cG9ydE1heGltdW0gLSBheGlzLm1heGltdW07XHJcblx0XHRcdFx0XHRcdFx0YXhpcy5zZXNzaW9uVmFyaWFibGVzLm5ld1ZpZXdwb3J0TWluaW11bSA9IGF4aXMudmlld3BvcnRNaW5pbXVtIC0gb3ZlcmZsb3c7XHJcblx0XHRcdFx0XHRcdFx0YXhpcy5zZXNzaW9uVmFyaWFibGVzLm5ld1ZpZXdwb3J0TWF4aW11bSA9IGF4aXMudmlld3BvcnRNYXhpbXVtIC0gb3ZlcmZsb3c7XHJcblxyXG5cdFx0XHRcdFx0XHRyZVJlbmRlciA9IHRydWU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIGlmICgoKCF6b29tUFggfHwgTWF0aC5hYnMoZHJhZ0RlbHRhUFgpID4gMikgJiYgKCF6b29tUFkgfHwgTWF0aC5hYnMoZHJhZ0RlbHRhUFkpID4gMikpICYmIHRoaXMuem9vbUVuYWJsZWQpIHtcclxuXHJcblx0XHRcdFx0XHRpZiAoIXRoaXMuZHJhZ1N0YXJ0UG9pbnQpXHJcblx0XHRcdFx0XHRcdHJldHVybjtcclxuXHJcblx0XHRcdFx0XHR2YXIgc2VsZWN0ZWRSZWdpb24gPSB7XHJcblx0XHRcdFx0XHRcdHgxOiB6b29tUFggPyB0aGlzLmRyYWdTdGFydFBvaW50LnggOiB0aGlzLnBsb3RBcmVhLngxLFxyXG5cdFx0XHRcdFx0XHR5MTogem9vbVBZID8gdGhpcy5kcmFnU3RhcnRQb2ludC55IDogdGhpcy5wbG90QXJlYS55MSxcclxuXHRcdFx0XHRcdFx0eDI6IHpvb21QWCA/IHggOiB0aGlzLnBsb3RBcmVhLngyLFxyXG5cdFx0XHRcdFx0XHR5Mjogem9vbVBZID8geSA6IHRoaXMucGxvdEFyZWEueTJcclxuXHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFx0aWYgKE1hdGguYWJzKHNlbGVjdGVkUmVnaW9uLngxIC0gc2VsZWN0ZWRSZWdpb24ueDIpID4gMiAmJiBNYXRoLmFicyhzZWxlY3RlZFJlZ2lvbi55MSAtIHNlbGVjdGVkUmVnaW9uLnkyKSA+IDIpIHtcclxuXHJcblx0XHRcdFx0XHRcdGlmICh0aGlzLl96b29tUGFuVG9TZWxlY3RlZFJlZ2lvbihzZWxlY3RlZFJlZ2lvbi54MSwgc2VsZWN0ZWRSZWdpb24ueTEsIHNlbGVjdGVkUmVnaW9uLngyLCBzZWxlY3RlZFJlZ2lvbi55MikpIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0cmVSZW5kZXIgPSB0cnVlO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKHJlUmVuZGVyKSB7XHJcblx0XHRcdFx0XHR0aGlzLl9pZ25vcmVOZXh0RXZlbnQgPSB0cnVlOy8vUmVxdWlyZWQgc28gdGhhdCBjbGljayBldmVudCBkb2Vzbid0IGZpcmUgYWZ0ZXIgem9vbWluZyBpbnRvIGEgc2VjdGlvbiBvZiB0aGUgY2hhcnQuXHJcblxyXG5cdFx0XHRcdFx0dGhpcy5fZGlzcGF0Y2hSYW5nZUV2ZW50KFwicmFuZ2VDaGFuZ2luZ1wiLCBcInpvb21cIik7XHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnJlbmRlcigpO1xyXG5cdFx0XHRcdFx0dGhpcy5fZGlzcGF0Y2hSYW5nZUV2ZW50KFwicmFuZ2VDaGFuZ2VkXCIsIFwiem9vbVwiKTtcclxuXHJcblx0XHRcdFx0XHRpZiAocmVSZW5kZXIgJiYgdGhpcy56b29tRW5hYmxlZCAmJiB0aGlzLl96b29tQnV0dG9uLnN0eWxlLmRpc3BsYXkgPT09IFwibm9uZVwiKSB7XHJcblx0XHRcdFx0XHRzaG93KHRoaXMuX3pvb21CdXR0b24sIHRoaXMuX3Jlc2V0QnV0dG9uKTtcclxuXHRcdFx0XHRcdHNldEJ1dHRvblN0YXRlKHRoaXMsIHRoaXMuX3pvb21CdXR0b24sIFwicGFuXCIpO1xyXG5cdFx0XHRcdFx0c2V0QnV0dG9uU3RhdGUodGhpcywgdGhpcy5fcmVzZXRCdXR0b24sIFwicmVzZXRcIik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHJcblx0dGhpcy5pc0RyYWcgPSBmYWxzZTtcclxufVxyXG5cclxuQ2hhcnQucHJvdG90eXBlLl9wbG90QXJlYU1vdXNlTW92ZSA9IGZ1bmN0aW9uICh4LCB5KSB7XHJcblx0aWYgKHRoaXMuaXNEcmFnICYmIHRoaXMucGxvdEluZm8uYXhpc1BsYWNlbWVudCAhPT0gXCJub25lXCIpIHtcclxuXHJcblx0XHR2YXIgZHJhZ0RlbHRhUFggPSAwLFxyXG5cdFx0XHRkcmFnRGVsdGFQWSA9IDAsXHJcblx0XHRcdGFscGhhID0gbnVsbCxcclxuXHRcdFx0c2VsZWN0ZWRSZWdpb24gPSBudWxsLFxyXG5cdFx0XHR6b29tUFggPSB0aGlzLnpvb21UeXBlLmluZGV4T2YoXCJ4XCIpID49IDAsIC8vV2hldGhlciB0byB6b29tIGhvcml6b250YWxseVxyXG5cdFx0XHR6b29tUFkgPSB0aGlzLnpvb21UeXBlLmluZGV4T2YoXCJ5XCIpID49IDAsIC8vV2hldGhlciB0byB6b29tIHZlcnRpY2FsbHlcclxuXHRcdFx0X3RoaXMgPSB0aGlzO1xyXG5cclxuXHRcdGlmICh0aGlzLnBsb3RJbmZvLmF4aXNQbGFjZW1lbnQgPT09IFwieHlTd2FwcGVkXCIpIHtcclxuXHRcdFx0dmFyIHRlbXAgPSB6b29tUFk7XHJcblx0XHRcdHpvb21QWSA9IHpvb21QWDtcclxuXHRcdFx0em9vbVBYID0gdGVtcDtcclxuXHRcdH1cclxuXHJcblx0XHRkcmFnRGVsdGFQWCA9IHRoaXMuZHJhZ1N0YXJ0UG9pbnQueCAtIHg7XHJcblx0XHRkcmFnRGVsdGFQWSA9IHRoaXMuZHJhZ1N0YXJ0UG9pbnQueSAtIHk7XHJcblxyXG5cdFx0aWYgKE1hdGguYWJzKGRyYWdEZWx0YVBYKSA+IDIgJiYgTWF0aC5hYnMoZHJhZ0RlbHRhUFgpIDwgOCAmJiAodGhpcy5wYW5FbmFibGVkIHx8IHRoaXMuem9vbUVuYWJsZWQpKSB7XHJcblx0XHRcdHRoaXMuX3Rvb2xUaXAuaGlkZSgpO1xyXG5cdFx0fSBlbHNlIGlmICghdGhpcy5wYW5FbmFibGVkICYmICF0aGlzLnpvb21FbmFibGVkKSB7XHJcblx0XHRcdHRoaXMuX3Rvb2xUaXAubW91c2VNb3ZlSGFuZGxlcih4LCB5KTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoKCghem9vbVBYIHx8IE1hdGguYWJzKGRyYWdEZWx0YVBYKSA+IDIpIHx8ICghem9vbVBZIHx8IE1hdGguYWJzKGRyYWdEZWx0YVBZKSA+IDIpKSAmJiAodGhpcy5wYW5FbmFibGVkIHx8IHRoaXMuem9vbUVuYWJsZWQpKSB7XHJcblx0XHRcdGlmICh0aGlzLnBhbkVuYWJsZWQpIHtcclxuXHJcblx0XHRcdFx0c2VsZWN0ZWRSZWdpb24gPVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHR4MTogem9vbVBYID8gdGhpcy5wbG90QXJlYS54MSArIGRyYWdEZWx0YVBYIDogdGhpcy5wbG90QXJlYS54MSxcclxuXHRcdFx0XHRcdFx0eTE6IHpvb21QWSA/IHRoaXMucGxvdEFyZWEueTEgKyBkcmFnRGVsdGFQWSA6IHRoaXMucGxvdEFyZWEueTEsXHJcblx0XHRcdFx0XHRcdHgyOiB6b29tUFggPyB0aGlzLnBsb3RBcmVhLngyICsgZHJhZ0RlbHRhUFggOiB0aGlzLnBsb3RBcmVhLngyLFxyXG5cdFx0XHRcdFx0XHR5Mjogem9vbVBZID8gdGhpcy5wbG90QXJlYS55MiArIGRyYWdEZWx0YVBZIDogdGhpcy5wbG90QXJlYS55MlxyXG5cdFx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0aWYgKHRoaXMuX3pvb21QYW5Ub1NlbGVjdGVkUmVnaW9uKHNlbGVjdGVkUmVnaW9uLngxLCBzZWxlY3RlZFJlZ2lvbi55MSwgc2VsZWN0ZWRSZWdpb24ueDIsIHNlbGVjdGVkUmVnaW9uLnkyLCB0cnVlKSkge1xyXG5cdFx0XHRcdFx0dGhpcy5fZGlzcGF0Y2hSYW5nZUV2ZW50KFwicmFuZ2VDaGFuZ2luZ1wiLCBcInBhblwiKTtcclxuXHRcdFx0XHRcdHRoaXMucmVuZGVyKCk7XHJcblx0XHRcdFx0XHR0aGlzLl9kaXNwYXRjaFJhbmdlRXZlbnQoXCJyYW5nZUNoYW5nZWRcIiwgXCJwYW5cIik7XHJcblxyXG5cdFx0XHRcdFx0dGhpcy5kcmFnU3RhcnRQb2ludC54ID0geDtcclxuXHRcdFx0XHRcdHRoaXMuZHJhZ1N0YXJ0UG9pbnQueSA9IHk7XHJcblxyXG5cdFx0XHRcdFx0Ly9jbGVhclRpbWVvdXQodGhpcy5fcGFuVGltZXJJZCk7XHJcblx0XHRcdFx0XHQvL3RoaXMuX3BhblRpbWVySWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdC8vXHRfdGhpcy5fZGlzcGF0Y2hSYW5nZUV2ZW50KFwicmFuZ2VDaGFuZ2luZ1wiLCBcInBhblwiKTtcclxuXHRcdFx0XHRcdC8vXHRfdGhpcy5yZW5kZXIoKTtcclxuXHRcdFx0XHRcdC8vXHRfdGhpcy5fZGlzcGF0Y2hSYW5nZUV2ZW50KFwicmFuZ2VDaGFuZ2VkXCIsIFwicGFuXCIpO1xyXG5cdFx0XHRcdFx0Ly99LCAwKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9IGVsc2UgaWYgKHRoaXMuem9vbUVuYWJsZWQpIHtcclxuXHJcblx0XHRcdFx0dGhpcy5yZXNldE92ZXJsYXllZENhbnZhcygpO1xyXG5cclxuXHRcdFx0XHRhbHBoYSA9IHRoaXMub3ZlcmxhaWRDYW52YXNDdHguZ2xvYmFsQWxwaGE7XHJcblxyXG5cdFx0XHRcdHRoaXMub3ZlcmxhaWRDYW52YXNDdHguZ2xvYmFsQWxwaGEgPSAuNztcclxuXHRcdFx0XHR0aGlzLm92ZXJsYWlkQ2FudmFzQ3R4LmZpbGxTdHlsZSA9IFwiI0EwQUJCOFwiO1xyXG5cclxuXHRcdFx0XHR2YXIgcmVjdCA9IHtcclxuXHRcdFx0XHRcdHgxOiB6b29tUFggPyB0aGlzLmRyYWdTdGFydFBvaW50LnggOiB0aGlzLnBsb3RBcmVhLngxLFxyXG5cdFx0XHRcdFx0eTE6IHpvb21QWSA/IHRoaXMuZHJhZ1N0YXJ0UG9pbnQueSA6IHRoaXMucGxvdEFyZWEueTEsXHJcblx0XHRcdFx0XHR4Mjogem9vbVBYID8geCAtIHRoaXMuZHJhZ1N0YXJ0UG9pbnQueCA6IHRoaXMucGxvdEFyZWEueDIgLSB0aGlzLnBsb3RBcmVhLngxLFxyXG5cdFx0XHRcdFx0eTI6IHpvb21QWSA/IHkgLSB0aGlzLmRyYWdTdGFydFBvaW50LnkgOiB0aGlzLnBsb3RBcmVhLnkyIC0gdGhpcy5wbG90QXJlYS55MVxyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdHRoaXMub3ZlcmxhaWRDYW52YXNDdHguZmlsbFJlY3QocmVjdC54MSwgcmVjdC55MSwgcmVjdC54MiwgcmVjdC55Mik7XHJcblxyXG5cdFx0XHRcdHRoaXMub3ZlcmxhaWRDYW52YXNDdHguZ2xvYmFsQWxwaGEgPSBhbHBoYTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHR9IGVsc2VcclxuXHRcdHRoaXMuX3Rvb2xUaXAubW91c2VNb3ZlSGFuZGxlcih4LCB5KTtcclxufVxyXG5cclxuLy8jZW5kcmVnaW9uIEV2ZW50c1xyXG5cclxuLy9TZXRzIHRoZSB2aWV3cG9ydCByYW5nZSBvZiBBeGlzIGJhc2VkIG9uIHRoZSBnaXZlbiByZWN0IGJvdW5kcyAocGl4ZWxzKS4gQWxzbyBsaW1pdHMgdGhlIHpvb21pbmcvcGFubmluZyBiYXNlZCBvbiBheGlzIGJvdW5kcy4gUmV0dXJucyBhIGJvb2xlYW4gdG8gaW5kaWNhdGUgd2hldGhlciBpdCB3YXMgc3VjY2VzZnVsIG9yIG5vdCBiYXNlZCBvbiB0aGUgc2VsZWN0ZWQgcmVnaW9uLlxyXG5DaGFydC5wcm90b3R5cGUuX3pvb21QYW5Ub1NlbGVjdGVkUmVnaW9uID0gZnVuY3Rpb24gKHB4MSwgcHkxLCBweDIsIHB5Miwga2VlcEF4aXNJbmRlcGVuZGVudCkge1xyXG5cclxuXHRrZWVwQXhpc0luZGVwZW5kZW50ID0ga2VlcEF4aXNJbmRlcGVuZGVudCB8fCBmYWxzZTtcclxuXHJcblx0dmFyIHpvb21QWCA9IHRoaXMuem9vbVR5cGUuaW5kZXhPZihcInhcIikgPj0gMCwgLy9XaGV0aGVyIHRvIHpvb20gaG9yaXpvbnRhbGx5XHJcblx0XHR6b29tUFkgPSB0aGlzLnpvb21UeXBlLmluZGV4T2YoXCJ5XCIpID49IDAsIC8vV2hldGhlciB0byB6b29tIHZlcnRpY2FsbHlcclxuXHRcdHZhbGlkUmVnaW9uID0gZmFsc2U7XHJcblxyXG5cdHZhciBheGVzID0gW10sIGF4ZXNXaXRoVmFsaWRSYW5nZSA9IFtdO1xyXG5cdGlmICh0aGlzLmF4aXNYICYmIHpvb21QWClcclxuXHRcdGF4ZXMucHVzaCh0aGlzLmF4aXNYKTtcclxuXHRpZiAodGhpcy5heGlzWSAmJiB6b29tUFkpXHJcblx0XHRheGVzLnB1c2godGhpcy5heGlzWSk7XHJcblx0aWYgKHRoaXMuYXhpc1kyICYmIHpvb21QWSlcclxuXHRcdGF4ZXMucHVzaCh0aGlzLmF4aXNZMik7XHJcblxyXG5cdHZhciBwYXJhbXMgPSBbXTtcclxuXHJcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBheGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHR2YXIgYXhpcyA9IGF4ZXNbaV07XHJcblx0XHQvL3ZhciByYW5nZSA9IE1hdGguYWJzKGF4aXMudmlld3BvcnRNYXhpbXVtIC0gYXhpcy52aWV3cG9ydE1pbmltdW0pO1xyXG5cclxuXHRcdHZhciB2YWwxID0gYXhpcy5jb252ZXJ0UGl4ZWxUb1ZhbHVlKHsgeDogcHgxLCB5OiBweTEgfSk7XHJcblx0XHR2YXIgdmFsMiA9IGF4aXMuY29udmVydFBpeGVsVG9WYWx1ZSh7IHg6IHB4MiwgeTogcHkyIH0pO1xyXG5cclxuXHRcdGlmICh2YWwxID4gdmFsMikge1xyXG5cdFx0XHR2YXIgdGVtcCA9IHZhbDI7XHJcblx0XHRcdHZhbDIgPSB2YWwxO1xyXG5cdFx0XHR2YWwxID0gdGVtcDtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaXNGaW5pdGUoYXhpcy5kYXRhSW5mby5taW5EaWZmKSkge1xyXG5cdFx0XHRpZiAoIShNYXRoLmFicyh2YWwyIC0gdmFsMSkgPCAzICogTWF0aC5hYnMoYXhpcy5kYXRhSW5mby5taW5EaWZmKVxyXG5cdFx0XHR8fCAodmFsMSA8IGF4aXMubWluaW11bSkgfHwgKHZhbDIgPiBheGlzLm1heGltdW0pKSkge1xyXG5cdFx0XHRcdGF4ZXNXaXRoVmFsaWRSYW5nZS5wdXNoKGF4aXMpO1xyXG5cdFx0XHRcdHBhcmFtcy5wdXNoKHsgdmFsMTogdmFsMSwgdmFsMjogdmFsMiB9KTtcclxuXHJcblx0XHRcdFx0dmFsaWRSZWdpb24gPSB0cnVlO1xyXG5cdFx0XHR9IGVsc2UgaWYgKCFrZWVwQXhpc0luZGVwZW5kZW50KSB7XHJcblx0XHRcdFx0dmFsaWRSZWdpb24gPSBmYWxzZTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0aWYgKHZhbGlkUmVnaW9uKSB7XHJcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGF4ZXNXaXRoVmFsaWRSYW5nZS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgYXhpcyA9IGF4ZXNXaXRoVmFsaWRSYW5nZVtpXTtcclxuXHRcdFx0dmFyIHBhcmFtID0gcGFyYW1zW2ldO1xyXG5cclxuXHRcdFx0YXhpcy5zZXRWaWV3UG9ydFJhbmdlKHBhcmFtLnZhbDEsIHBhcmFtLnZhbDIpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cmV0dXJuIHZhbGlkUmVnaW9uO1xyXG59XHJcblxyXG5DaGFydC5wcm90b3R5cGUucHJlcGFyZVBsb3RBcmVhID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHR2YXIgcGxvdEFyZWEgPSB0aGlzLnBsb3RBcmVhO1xyXG5cclxuXHR2YXIgeUF4aXMgPSB0aGlzLmF4aXNZID8gdGhpcy5heGlzWSA6IHRoaXMuYXhpc1kyO1xyXG5cclxuXHRpZiAoIWlzQ2FudmFzU3VwcG9ydGVkICYmIChwbG90QXJlYS54MSA+IDAgfHwgcGxvdEFyZWEueTEgPiAwKSkge1xyXG5cdFx0cGxvdEFyZWEuY3R4LnRyYW5zbGF0ZShwbG90QXJlYS54MSwgcGxvdEFyZWEueTEpO1xyXG5cdH1cclxuXHJcblx0aWYgKHRoaXMuYXhpc1ggJiYgeUF4aXMpIHtcclxuXHRcdHBsb3RBcmVhLngxID0gdGhpcy5heGlzWC5saW5lQ29vcmRpbmF0ZXMueDEgPCB0aGlzLmF4aXNYLmxpbmVDb29yZGluYXRlcy54MiA/IHRoaXMuYXhpc1gubGluZUNvb3JkaW5hdGVzLngxIDogeUF4aXMubGluZUNvb3JkaW5hdGVzLngxO1xyXG5cdFx0cGxvdEFyZWEueTEgPSAodGhpcy5heGlzWC5saW5lQ29vcmRpbmF0ZXMueTEgPCB5QXhpcy5saW5lQ29vcmRpbmF0ZXMueTEgPyB0aGlzLmF4aXNYLmxpbmVDb29yZGluYXRlcy55MSA6IHlBeGlzLmxpbmVDb29yZGluYXRlcy55MSk7XHJcblxyXG5cdFx0cGxvdEFyZWEueDIgPSAodGhpcy5heGlzWC5saW5lQ29vcmRpbmF0ZXMueDIgPiB5QXhpcy5saW5lQ29vcmRpbmF0ZXMueDIgPyB0aGlzLmF4aXNYLmxpbmVDb29yZGluYXRlcy54MiA6IHlBeGlzLmxpbmVDb29yZGluYXRlcy54Mik7XHJcblx0XHRwbG90QXJlYS55MiA9IHRoaXMuYXhpc1gubGluZUNvb3JkaW5hdGVzLnkyID4gdGhpcy5heGlzWC5saW5lQ29vcmRpbmF0ZXMueTEgPyB0aGlzLmF4aXNYLmxpbmVDb29yZGluYXRlcy55MiA6IHlBeGlzLmxpbmVDb29yZGluYXRlcy55MjtcclxuXHJcblx0XHRwbG90QXJlYS53aWR0aCA9IHBsb3RBcmVhLngyIC0gcGxvdEFyZWEueDE7XHJcblx0XHRwbG90QXJlYS5oZWlnaHQgPSBwbG90QXJlYS55MiAtIHBsb3RBcmVhLnkxO1xyXG5cdFx0Ly9wbG90QXJlYSA9IHsgeDE6IHgxLCB5MTogeTEsIHgyOiB4MiwgeTI6IHkyLCB3aWR0aDogeDIgLSB4MSwgaGVpZ2h0OiB5MiAtIHkxIH07XHJcblx0fSBlbHNlIHtcclxuXHRcdC8vVG9EbzogQHN1bmlsXHJcblx0XHR2YXIgZnJlZVNwYWNlID0gdGhpcy5sYXlvdXRNYW5hZ2VyLmdldEZyZWVTcGFjZSgpO1xyXG5cdFx0cGxvdEFyZWEueDEgPSBmcmVlU3BhY2UueDE7XHJcblx0XHRwbG90QXJlYS54MiA9IGZyZWVTcGFjZS54MjtcclxuXHRcdHBsb3RBcmVhLnkxID0gZnJlZVNwYWNlLnkxO1xyXG5cdFx0cGxvdEFyZWEueTIgPSBmcmVlU3BhY2UueTI7XHJcblxyXG5cdFx0cGxvdEFyZWEud2lkdGggPSBmcmVlU3BhY2Uud2lkdGg7XHJcblx0XHRwbG90QXJlYS5oZWlnaHQgPSBmcmVlU3BhY2UuaGVpZ2h0O1xyXG5cdH1cclxuXHJcblx0aWYgKCFpc0NhbnZhc1N1cHBvcnRlZCkge1xyXG5cclxuXHRcdHBsb3RBcmVhLmNhbnZhcy53aWR0aCA9IHBsb3RBcmVhLndpZHRoO1xyXG5cdFx0cGxvdEFyZWEuY2FudmFzLmhlaWdodCA9IHBsb3RBcmVhLmhlaWdodDtcclxuXHJcblx0XHRwbG90QXJlYS5jYW52YXMuc3R5bGUubGVmdCA9IHBsb3RBcmVhLngxICsgXCJweFwiO1xyXG5cdFx0cGxvdEFyZWEuY2FudmFzLnN0eWxlLnRvcCA9IHBsb3RBcmVhLnkxICsgXCJweFwiO1xyXG5cclxuXHRcdGlmIChwbG90QXJlYS54MSA+IDAgfHwgcGxvdEFyZWEueTEgPiAwKSB7XHJcblx0XHRcdHBsb3RBcmVhLmN0eC50cmFuc2xhdGUoLXBsb3RBcmVhLngxLCAtcGxvdEFyZWEueTEpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cGxvdEFyZWEubGF5b3V0TWFuYWdlciA9IG5ldyBMYXlvdXRNYW5hZ2VyKHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEueDIsIHBsb3RBcmVhLnkyLCAyKTtcclxufVxyXG5cclxuQ2hhcnQucHJvdG90eXBlLmdldFBpeGVsQ29vcmRpbmF0ZXNPblBsb3RBcmVhID0gZnVuY3Rpb24gKHgsIHkpIHtcclxuXHRyZXR1cm4ge1xyXG5cdFx0eDogdGhpcy5heGlzWC5nZXRQaXhlbENvb3JkaW5hdGVzT25BeGlzKHgpLngsIHk6IHRoaXMuYXhpc1kuZ2V0UGl4ZWxDb29yZGluYXRlc09uQXhpcyh5KS55XHJcblx0fVxyXG5cdC8vcmV0dXJuIHsgeDogNSwgeTogMTAgfTtcclxufVxyXG5cclxuLy8jcmVnaW9uIFJlbmRlciBNZXRob2RzXHJcblxyXG5DaGFydC5wcm90b3R5cGUucmVuZGVySW5kZXhMYWJlbHMgPSBmdW5jdGlvbiAodGFyZ2V0Q3R4KSB7XHJcblx0dmFyIGN0eCA9IHRhcmdldEN0eCB8fCB0aGlzLnBsb3RBcmVhLmN0eDtcclxuXHJcblx0dmFyIHBsb3RBcmVhID0gdGhpcy5wbG90QXJlYTtcclxuXHJcblx0dmFyIG1pZCA9IDA7XHJcblx0dmFyIHlNaW5MaW1pdCA9IDA7XHJcblx0dmFyIHlNYXhMaW1pdCA9IDA7XHJcblx0dmFyIHhNaW5MaW1pdCA9IDA7XHJcblx0dmFyIHhNYXhMaW1pdCA9IDA7XHJcblx0dmFyIG1hcmdpblggPSAwLCBtYXJnaW5ZID0gMDsgLy8gTWFyZ2luIGJldHdlZW4gbGFiZWwgYW5kIGRhdGFQb2ludCAvIFBsb3RBcmVhXHJcblx0dmFyIG9mZlNldFggPSAwLCBvZmZTZXRZID0gMDsgLy8gRGlzdGFuY2UgdG8gb2ZmU2V0IHRleHRCbG9jayAodG9wKSBmcm9tIGRhdGFQb2ludCBpbm9yZGVyIHRvIHBvc2l0aW9uIGl0XHJcblx0dmFyIHZpc2libGVXaWR0aCA9IDA7XHJcblx0dmFyIHZpc2libGVIZWlnaHQgPSAwO1xyXG5cclxuXHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2luZGV4TGFiZWxzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG5cdFx0dmFyIGluZGV4TGFiZWwgPSB0aGlzLl9pbmRleExhYmVsc1tpXTtcclxuXHRcdHZhciBjaGFydFR5cGVMb3dlciA9IGluZGV4TGFiZWwuY2hhcnRUeXBlLnRvTG93ZXJDYXNlKCk7XHJcblxyXG5cdFx0dmFyIHgsIHksIGFuZ2xlO1xyXG5cclxuXHRcdHZhciBmb250Q29sb3IgPSBnZXRQcm9wZXJ0eShcImluZGV4TGFiZWxGb250Q29sb3JcIiwgaW5kZXhMYWJlbC5kYXRhUG9pbnQsIGluZGV4TGFiZWwuZGF0YVNlcmllcyk7XHJcblx0XHR2YXIgZm9udFNpemUgPSBnZXRQcm9wZXJ0eShcImluZGV4TGFiZWxGb250U2l6ZVwiLCBpbmRleExhYmVsLmRhdGFQb2ludCwgaW5kZXhMYWJlbC5kYXRhU2VyaWVzKTtcclxuXHRcdHZhciBmb250RmFtaWx5ID0gZ2V0UHJvcGVydHkoXCJpbmRleExhYmVsRm9udEZhbWlseVwiLCBpbmRleExhYmVsLmRhdGFQb2ludCwgaW5kZXhMYWJlbC5kYXRhU2VyaWVzKTtcclxuXHRcdHZhciBmb250U3R5bGUgPSBnZXRQcm9wZXJ0eShcImluZGV4TGFiZWxGb250U3R5bGVcIiwgaW5kZXhMYWJlbC5kYXRhUG9pbnQsIGluZGV4TGFiZWwuZGF0YVNlcmllcyk7XHJcblx0XHR2YXIgZm9udFdlaWdodCA9IGdldFByb3BlcnR5KFwiaW5kZXhMYWJlbEZvbnRXZWlnaHRcIiwgaW5kZXhMYWJlbC5kYXRhUG9pbnQsIGluZGV4TGFiZWwuZGF0YVNlcmllcyk7XHJcblx0XHR2YXIgYmFja2dyb3VuZENvbG9yID0gZ2V0UHJvcGVydHkoXCJpbmRleExhYmVsQmFja2dyb3VuZENvbG9yXCIsIGluZGV4TGFiZWwuZGF0YVBvaW50LCBpbmRleExhYmVsLmRhdGFTZXJpZXMpO1xyXG5cdFx0dmFyIG1heFdpZHRoID0gZ2V0UHJvcGVydHkoXCJpbmRleExhYmVsTWF4V2lkdGhcIiwgaW5kZXhMYWJlbC5kYXRhUG9pbnQsIGluZGV4TGFiZWwuZGF0YVNlcmllcyk7XHJcblx0XHR2YXIgaW5kZXhMYWJlbFdyYXAgPSBnZXRQcm9wZXJ0eShcImluZGV4TGFiZWxXcmFwXCIsIGluZGV4TGFiZWwuZGF0YVBvaW50LCBpbmRleExhYmVsLmRhdGFTZXJpZXMpO1xyXG5cclxuXHRcdHZhciBwZXJjZW50QW5kVG90YWwgPSB7XHJcblx0XHRcdHBlcmNlbnQ6IG51bGwsIHRvdGFsOiBudWxsXHJcblx0XHR9O1xyXG5cdFx0dmFyIGZvcm1hdHRlclBhcmFtZXRlciA9IG51bGw7XHJcblxyXG5cdFx0aWYgKGluZGV4TGFiZWwuZGF0YVNlcmllcy50eXBlLmluZGV4T2YoXCJzdGFja2VkXCIpID49IDAgfHwgaW5kZXhMYWJlbC5kYXRhU2VyaWVzLnR5cGUgPT09IFwicGllXCIgfHwgaW5kZXhMYWJlbC5kYXRhU2VyaWVzLnR5cGUgPT09IFwiZG91Z2hudXRcIilcclxuXHRcdFx0cGVyY2VudEFuZFRvdGFsID0gdGhpcy5nZXRQZXJjZW50QW5kVG90YWwoaW5kZXhMYWJlbC5kYXRhU2VyaWVzLCBpbmRleExhYmVsLmRhdGFQb2ludCk7XHJcblxyXG5cdFx0aWYgKGluZGV4TGFiZWwuZGF0YVNlcmllcy5pbmRleExhYmVsRm9ybWF0dGVyIHx8IGluZGV4TGFiZWwuZGF0YVBvaW50LmluZGV4TGFiZWxGb3JtYXR0ZXIpXHJcblx0XHRcdGZvcm1hdHRlclBhcmFtZXRlciA9IHtcclxuXHRcdFx0XHRjaGFydDogdGhpcy5fb3B0aW9ucywgZGF0YVNlcmllczogaW5kZXhMYWJlbC5kYXRhU2VyaWVzLCBkYXRhUG9pbnQ6IGluZGV4TGFiZWwuZGF0YVBvaW50LCBpbmRleDogaW5kZXhMYWJlbC5pbmRleEtleXdvcmQsIHRvdGFsOiBwZXJjZW50QW5kVG90YWwudG90YWwsIHBlcmNlbnQ6IHBlcmNlbnRBbmRUb3RhbC5wZXJjZW50XHJcblx0XHRcdH07XHJcblxyXG5cclxuXHRcdHZhciBpbmRleExhYmVsVGV4dCA9IGluZGV4TGFiZWwuZGF0YVBvaW50LmluZGV4TGFiZWxGb3JtYXR0ZXIgPyBpbmRleExhYmVsLmRhdGFQb2ludC5pbmRleExhYmVsRm9ybWF0dGVyKGZvcm1hdHRlclBhcmFtZXRlcilcclxuXHRcdFx0OiBpbmRleExhYmVsLmRhdGFQb2ludC5pbmRleExhYmVsID8gdGhpcy5yZXBsYWNlS2V5d29yZHNXaXRoVmFsdWUoaW5kZXhMYWJlbC5kYXRhUG9pbnQuaW5kZXhMYWJlbCwgaW5kZXhMYWJlbC5kYXRhUG9pbnQsIGluZGV4TGFiZWwuZGF0YVNlcmllcywgbnVsbCwgaW5kZXhMYWJlbC5pbmRleEtleXdvcmQpXHJcblx0XHRcdDogaW5kZXhMYWJlbC5kYXRhU2VyaWVzLmluZGV4TGFiZWxGb3JtYXR0ZXIgPyBpbmRleExhYmVsLmRhdGFTZXJpZXMuaW5kZXhMYWJlbEZvcm1hdHRlcihmb3JtYXR0ZXJQYXJhbWV0ZXIpXHJcblx0XHRcdDogaW5kZXhMYWJlbC5kYXRhU2VyaWVzLmluZGV4TGFiZWwgPyB0aGlzLnJlcGxhY2VLZXl3b3Jkc1dpdGhWYWx1ZShpbmRleExhYmVsLmRhdGFTZXJpZXMuaW5kZXhMYWJlbCwgaW5kZXhMYWJlbC5kYXRhUG9pbnQsIGluZGV4TGFiZWwuZGF0YVNlcmllcywgbnVsbCwgaW5kZXhMYWJlbC5pbmRleEtleXdvcmQpIDogbnVsbDtcclxuXHJcblx0XHRpZiAoaW5kZXhMYWJlbFRleHQgPT09IG51bGwgfHwgaW5kZXhMYWJlbFRleHQgPT09IFwiXCIpXHJcblx0XHRcdGNvbnRpbnVlO1xyXG5cclxuXHRcdHZhciBwbGFjZW1lbnQgPSBnZXRQcm9wZXJ0eShcImluZGV4TGFiZWxQbGFjZW1lbnRcIiwgaW5kZXhMYWJlbC5kYXRhUG9pbnQsIGluZGV4TGFiZWwuZGF0YVNlcmllcyk7XHJcblx0XHR2YXIgb3JpZW50YXRpb24gPSBnZXRQcm9wZXJ0eShcImluZGV4TGFiZWxPcmllbnRhdGlvblwiLCBpbmRleExhYmVsLmRhdGFQb2ludCwgaW5kZXhMYWJlbC5kYXRhU2VyaWVzKTtcclxuXHRcdHZhciBhbmdsZSA9IDA7XHJcblxyXG5cdFx0dmFyIGRpcmVjdGlvbiA9IGluZGV4TGFiZWwuZGlyZWN0aW9uOyAvLyArMSBmb3IgYWJvdmUgdGhlIHBvaW50IGFuZCAtMSBmb3IgYmVsb3cgdGhlIHBvaW50XHJcblxyXG5cdFx0dmFyIGF4aXNYID0gaW5kZXhMYWJlbC5kYXRhU2VyaWVzLmF4aXNYO1xyXG5cdFx0dmFyIGF4aXNZID0gaW5kZXhMYWJlbC5kYXRhU2VyaWVzLmF4aXNZO1xyXG5cclxuXHJcblx0XHR2YXIgdGV4dEJsb2NrID0gbmV3IFRleHRCbG9jayhjdHgsIHtcclxuXHRcdFx0eDogMCxcclxuXHRcdFx0eTogMCxcclxuXHRcdFx0bWF4V2lkdGg6IG1heFdpZHRoID8gbWF4V2lkdGggOiB0aGlzLndpZHRoICogLjUsXHJcblx0XHRcdG1heEhlaWdodDogaW5kZXhMYWJlbFdyYXAgPyBmb250U2l6ZSAqIDUgOiBmb250U2l6ZSAqIDEuNSxcclxuXHRcdFx0YW5nbGU6IG9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIiA/IDAgOiAtOTAsXHJcblx0XHRcdHRleHQ6IGluZGV4TGFiZWxUZXh0LFxyXG5cdFx0XHRwYWRkaW5nOiAwLFxyXG5cdFx0XHRiYWNrZ3JvdW5kQ29sb3I6IGJhY2tncm91bmRDb2xvcixcclxuXHRcdFx0aG9yaXpvbnRhbEFsaWduOiBcImxlZnRcIiwvL2xlZnQsIGNlbnRlciwgcmlnaHRcclxuXHRcdFx0Zm9udFNpemU6IGZvbnRTaXplLC8vaW4gcGl4ZWxzXHJcblx0XHRcdGZvbnRGYW1pbHk6IGZvbnRGYW1pbHksXHJcblx0XHRcdGZvbnRXZWlnaHQ6IGZvbnRXZWlnaHQsIC8vbm9ybWFsLCBib2xkLCBib2xkZXIsIGxpZ2h0ZXIsXHJcblx0XHRcdGZvbnRDb2xvcjogZm9udENvbG9yLFxyXG5cdFx0XHRmb250U3R5bGU6IGZvbnRTdHlsZSwgLy8gbm9ybWFsLCBpdGFsaWMsIG9ibGlxdWVcclxuXHRcdFx0dGV4dEJhc2VsaW5lOiBcInRvcFwiXHJcblx0XHR9KTtcclxuXHJcblx0XHR2YXIgdGV4dFNpemUgPSB0ZXh0QmxvY2subWVhc3VyZVRleHQoKTtcclxuXHJcblx0XHQvL2lmIChpbmRleExhYmVsLmRhdGFQb2ludC54IDwgYXhpc1gudmlld3BvcnRNaW5pbXVtIHx8IGluZGV4TGFiZWwuZGF0YVBvaW50LnggPiBheGlzWC52aWV3cG9ydE1heGltdW0gfHwgaW5kZXhMYWJlbC5kYXRhUG9pbnQueSA8IGF4aXNZLnZpZXdwb3J0TWluaW11bSB8fCBpbmRleExhYmVsLmRhdGFQb2ludC55ID4gYXhpc1kudmlld3BvcnRNYXhpbXVtKVxyXG5cdFx0Ly9cdGNvbnRpbnVlO1xyXG5cclxuXHRcdGlmIChjaGFydFR5cGVMb3dlci5pbmRleE9mKFwibGluZVwiKSA+PSAwIHx8IGNoYXJ0VHlwZUxvd2VyLmluZGV4T2YoXCJhcmVhXCIpID49IDBcclxuXHRcdFx0XHR8fCBjaGFydFR5cGVMb3dlci5pbmRleE9mKFwiYnViYmxlXCIpID49IDAgfHwgY2hhcnRUeXBlTG93ZXIuaW5kZXhPZihcInNjYXR0ZXJcIikgPj0gMCkge1xyXG5cclxuXHRcdFx0aWYgKGluZGV4TGFiZWwuZGF0YVBvaW50LnggPCBheGlzWC52aWV3cG9ydE1pbmltdW0gfHwgaW5kZXhMYWJlbC5kYXRhUG9pbnQueCA+IGF4aXNYLnZpZXdwb3J0TWF4aW11bSB8fCBpbmRleExhYmVsLmRhdGFQb2ludC55IDwgYXhpc1kudmlld3BvcnRNaW5pbXVtIHx8IGluZGV4TGFiZWwuZGF0YVBvaW50LnkgPiBheGlzWS52aWV3cG9ydE1heGltdW0pXHJcblx0XHRcdFx0Y29udGludWU7XHJcblx0XHR9XHJcblx0XHRlbHNlIHtcclxuXHRcdFx0aWYgKGluZGV4TGFiZWwuZGF0YVBvaW50LnggPCBheGlzWC52aWV3cG9ydE1pbmltdW0gfHwgaW5kZXhMYWJlbC5kYXRhUG9pbnQueCA+IGF4aXNYLnZpZXdwb3J0TWF4aW11bSlcclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHRcdH1cclxuXHJcblx0XHRtYXJnaW5ZID0gMjtcclxuXHRcdG1hcmdpblggPSAyO1xyXG5cclxuXHRcdGlmIChvcmllbnRhdGlvbiA9PT0gXCJob3Jpem9udGFsXCIpIHtcclxuXHRcdFx0dmlzaWJsZVdpZHRoID0gdGV4dEJsb2NrLndpZHRoO1xyXG5cdFx0XHR2aXNpYmxlSGVpZ2h0ID0gdGV4dEJsb2NrLmhlaWdodDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHZpc2libGVIZWlnaHQgPSB0ZXh0QmxvY2sud2lkdGg7XHJcblx0XHRcdHZpc2libGVXaWR0aCA9IHRleHRCbG9jay5oZWlnaHQ7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMucGxvdEluZm8uYXhpc1BsYWNlbWVudCA9PT0gXCJub3JtYWxcIikge1xyXG5cclxuXHRcdFx0aWYgKGNoYXJ0VHlwZUxvd2VyLmluZGV4T2YoXCJsaW5lXCIpID49IDAgfHwgY2hhcnRUeXBlTG93ZXIuaW5kZXhPZihcImFyZWFcIikgPj0gMCkge1xyXG5cclxuXHRcdFx0XHRwbGFjZW1lbnQgPSBcImF1dG9cIjtcclxuXHRcdFx0XHRtYXJnaW5ZID0gNDtcclxuXHJcblx0XHRcdH0gZWxzZSBpZiAoY2hhcnRUeXBlTG93ZXIuaW5kZXhPZihcInN0YWNrZWRcIikgPj0gMCkge1xyXG5cclxuXHRcdFx0XHRpZiAocGxhY2VtZW50ID09PSBcImF1dG9cIilcclxuXHRcdFx0XHRcdHBsYWNlbWVudCA9IFwiaW5zaWRlXCI7XHJcblxyXG5cdFx0XHR9IGVsc2UgaWYgKGNoYXJ0VHlwZUxvd2VyID09PSBcImJ1YmJsZVwiIHx8IGNoYXJ0VHlwZUxvd2VyID09PSBcInNjYXR0ZXJcIikge1xyXG5cclxuXHRcdFx0XHRwbGFjZW1lbnQgPSBcImluc2lkZVwiO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0eCA9IGluZGV4TGFiZWwucG9pbnQueCAtIHZpc2libGVXaWR0aCAvIDI7XHJcblxyXG5cdFx0XHRpZiAocGxhY2VtZW50ICE9PSBcImluc2lkZVwiKSB7XHQvL291dHNpZGUgb3IgYXV0b1xyXG5cclxuXHRcdFx0XHR5TWluTGltaXQgPSBwbG90QXJlYS55MTtcclxuXHRcdFx0XHR5TWF4TGltaXQgPSBwbG90QXJlYS55MjtcclxuXHJcblx0XHRcdFx0aWYgKGRpcmVjdGlvbiA+IDApIHtcclxuXHRcdFx0XHRcdHkgPSBpbmRleExhYmVsLnBvaW50LnkgLSB2aXNpYmxlSGVpZ2h0IC0gbWFyZ2luWTtcclxuXHJcblx0XHRcdFx0XHRpZiAoeSA8IHlNaW5MaW1pdCkge1xyXG5cdFx0XHRcdFx0XHRpZiAocGxhY2VtZW50ID09PSBcImF1dG9cIikge1xyXG5cdFx0XHRcdFx0XHRcdHkgPSBNYXRoLm1heChpbmRleExhYmVsLnBvaW50LnksIHlNaW5MaW1pdCkgKyBtYXJnaW5ZO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdHkgPSB5TWluTGltaXQgKyBtYXJnaW5ZO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0eSA9IGluZGV4TGFiZWwucG9pbnQueSArIG1hcmdpblk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKHkgPiB5TWF4TGltaXQgLSB2aXNpYmxlSGVpZ2h0IC0gbWFyZ2luWSkge1xyXG5cdFx0XHRcdFx0XHRpZiAocGxhY2VtZW50ID09PSBcImF1dG9cIikge1xyXG5cdFx0XHRcdFx0XHRcdHkgPSBNYXRoLm1pbihpbmRleExhYmVsLnBvaW50LnksIHlNYXhMaW1pdCkgLSB2aXNpYmxlSGVpZ2h0IC0gbWFyZ2luWTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHR5ID0geU1heExpbWl0IC0gdmlzaWJsZUhlaWdodCAtIG1hcmdpblk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cclxuXHJcblx0XHRcdFx0eU1pbkxpbWl0ID0gTWF0aC5tYXgoaW5kZXhMYWJlbC5ib3VuZHMueTEsIHBsb3RBcmVhLnkxKTtcclxuXHRcdFx0XHR5TWF4TGltaXQgPSBNYXRoLm1pbihpbmRleExhYmVsLmJvdW5kcy55MiwgcGxvdEFyZWEueTIpO1xyXG5cclxuXHJcblx0XHRcdFx0aWYgKGNoYXJ0VHlwZUxvd2VyLmluZGV4T2YoXCJyYW5nZVwiKSA+PSAwKSB7XHJcblx0XHRcdFx0XHRpZiAoZGlyZWN0aW9uID4gMClcclxuXHRcdFx0XHRcdFx0bWlkID0gTWF0aC5tYXgoaW5kZXhMYWJlbC5ib3VuZHMueTEsIHBsb3RBcmVhLnkxKSArIHZpc2libGVIZWlnaHQgLyAyICsgbWFyZ2luWTtcclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0bWlkID0gTWF0aC5taW4oaW5kZXhMYWJlbC5ib3VuZHMueTIsIHBsb3RBcmVhLnkyKSAtIHZpc2libGVIZWlnaHQgLyAyIC0gbWFyZ2luWTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0bWlkID0gKE1hdGgubWF4KGluZGV4TGFiZWwuYm91bmRzLnkxLCBwbG90QXJlYS55MSkgKyBNYXRoLm1pbihpbmRleExhYmVsLmJvdW5kcy55MiwgcGxvdEFyZWEueTIpKSAvIDJcclxuXHJcblx0XHRcdFx0aWYgKGRpcmVjdGlvbiA+IDApIHtcclxuXHRcdFx0XHRcdHkgPSBNYXRoLm1heChpbmRleExhYmVsLnBvaW50LnksIG1pZCkgLSB2aXNpYmxlSGVpZ2h0IC8gMjtcclxuXHJcblx0XHRcdFx0XHRpZiAoeSA8IHlNaW5MaW1pdCAmJiAoY2hhcnRUeXBlTG93ZXIgPT09IFwiYnViYmxlXCIgfHwgY2hhcnRUeXBlTG93ZXIgPT09IFwic2NhdHRlclwiKSkge1xyXG5cdFx0XHRcdFx0XHR5ID0gTWF0aC5tYXgoaW5kZXhMYWJlbC5wb2ludC55IC0gdmlzaWJsZUhlaWdodCAtIG1hcmdpblksIHBsb3RBcmVhLnkxICsgbWFyZ2luWSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0eSA9IE1hdGgubWluKGluZGV4TGFiZWwucG9pbnQueSwgbWlkKSAtIHZpc2libGVIZWlnaHQgLyAyO1xyXG5cclxuXHRcdFx0XHRcdGlmICh5ID4geU1heExpbWl0IC0gdmlzaWJsZUhlaWdodCAtIG1hcmdpblkgJiYgKGNoYXJ0VHlwZUxvd2VyID09PSBcImJ1YmJsZVwiIHx8IGNoYXJ0VHlwZUxvd2VyID09PSBcInNjYXR0ZXJcIikpIHtcclxuXHRcdFx0XHRcdFx0eSA9IE1hdGgubWluKGluZGV4TGFiZWwucG9pbnQueSArIG1hcmdpblksIHBsb3RBcmVhLnkyIC0gdmlzaWJsZUhlaWdodCAtIG1hcmdpblkpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIE1ha2UgU3VyZSB0aGF0IGl0IGRvZXMgbm90IG92ZXJsYXAgdGhlIGF4aXMgbGluZVxyXG5cdFx0XHRcdHkgPSBNYXRoLm1pbih5LCB5TWF4TGltaXQgLSB2aXNpYmxlSGVpZ2h0KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0ZWxzZSB7XHJcblxyXG5cdFx0XHRpZiAoY2hhcnRUeXBlTG93ZXIuaW5kZXhPZihcImxpbmVcIikgPj0gMCB8fCBjaGFydFR5cGVMb3dlci5pbmRleE9mKFwiYXJlYVwiKSA+PSAwXHJcblx0XHRcdFx0fHwgY2hhcnRUeXBlTG93ZXIuaW5kZXhPZihcInNjYXR0ZXJcIikgPj0gMCkge1xyXG5cclxuXHRcdFx0XHRwbGFjZW1lbnQgPSBcImF1dG9cIjtcclxuXHRcdFx0XHRtYXJnaW5YID0gNDtcclxuXHJcblx0XHRcdH0gZWxzZSBpZiAoY2hhcnRUeXBlTG93ZXIuaW5kZXhPZihcInN0YWNrZWRcIikgPj0gMCkge1xyXG5cclxuXHRcdFx0XHRpZiAocGxhY2VtZW50ID09PSBcImF1dG9cIilcclxuXHRcdFx0XHRcdHBsYWNlbWVudCA9IFwiaW5zaWRlXCI7XHJcblxyXG5cdFx0XHR9IGVsc2UgaWYgKGNoYXJ0VHlwZUxvd2VyID09PSBcImJ1YmJsZVwiKSB7XHJcblxyXG5cdFx0XHRcdHBsYWNlbWVudCA9IFwiaW5zaWRlXCI7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR5ID0gaW5kZXhMYWJlbC5wb2ludC55IC0gdmlzaWJsZUhlaWdodCAvIDI7XHJcblxyXG5cdFx0XHRpZiAocGxhY2VtZW50ICE9PSBcImluc2lkZVwiKSB7XHQvL291dHNpZGUgb3IgYXV0b1xyXG5cclxuXHRcdFx0XHR4TWluTGltaXQgPSBwbG90QXJlYS54MTtcclxuXHRcdFx0XHR4TWF4TGltaXQgPSBwbG90QXJlYS54MjtcclxuXHJcblx0XHRcdFx0aWYgKGRpcmVjdGlvbiA8IDApIHtcclxuXHRcdFx0XHRcdHggPSBpbmRleExhYmVsLnBvaW50LnggLSB2aXNpYmxlV2lkdGggLSBtYXJnaW5YO1xyXG5cclxuXHRcdFx0XHRcdGlmICh4IDwgeE1pbkxpbWl0KSB7XHJcblx0XHRcdFx0XHRcdGlmIChwbGFjZW1lbnQgPT09IFwiYXV0b1wiKSB7XHJcblx0XHRcdFx0XHRcdFx0eCA9IE1hdGgubWF4KGluZGV4TGFiZWwucG9pbnQueCwgeE1pbkxpbWl0KSArIG1hcmdpblg7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0eCA9IHhNaW5MaW1pdCArIG1hcmdpblg7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHR4ID0gaW5kZXhMYWJlbC5wb2ludC54ICsgbWFyZ2luWDtcclxuXHJcblx0XHRcdFx0XHRpZiAoeCA+IHhNYXhMaW1pdCAtIHZpc2libGVXaWR0aCAtIG1hcmdpblgpIHtcclxuXHRcdFx0XHRcdFx0aWYgKHBsYWNlbWVudCA9PT0gXCJhdXRvXCIpIHtcclxuXHRcdFx0XHRcdFx0XHR4ID0gTWF0aC5taW4oaW5kZXhMYWJlbC5wb2ludC54LCB4TWF4TGltaXQpIC0gdmlzaWJsZVdpZHRoIC0gbWFyZ2luWDtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHR4ID0geE1heExpbWl0IC0gdmlzaWJsZVdpZHRoIC0gbWFyZ2luWDtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdHhNaW5MaW1pdCA9IE1hdGgubWF4KGluZGV4TGFiZWwuYm91bmRzLngxLCBwbG90QXJlYS54MSk7XHJcblx0XHRcdFx0eE1heExpbWl0ID0gTWF0aC5taW4oaW5kZXhMYWJlbC5ib3VuZHMueDIsIHBsb3RBcmVhLngyKTtcclxuXHJcblx0XHRcdFx0aWYgKGNoYXJ0VHlwZUxvd2VyLmluZGV4T2YoXCJyYW5nZVwiKSA+PSAwKSB7XHJcblx0XHRcdFx0XHRpZiAoZGlyZWN0aW9uIDwgMClcclxuXHRcdFx0XHRcdFx0bWlkID0gTWF0aC5tYXgoaW5kZXhMYWJlbC5ib3VuZHMueDEsIHBsb3RBcmVhLngxKSArIHZpc2libGVXaWR0aCAvIDIgKyBtYXJnaW5YO1xyXG5cdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRtaWQgPSBNYXRoLm1pbihpbmRleExhYmVsLmJvdW5kcy54MiwgcGxvdEFyZWEueDIpIC0gdmlzaWJsZVdpZHRoIC8gMiAtIG1hcmdpblg7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdHZhciBtaWQgPSAoTWF0aC5tYXgoaW5kZXhMYWJlbC5ib3VuZHMueDEsIHBsb3RBcmVhLngxKSArIE1hdGgubWluKGluZGV4TGFiZWwuYm91bmRzLngyLCBwbG90QXJlYS54MikpIC8gMjtcclxuXHJcblx0XHRcdFx0aWYgKGRpcmVjdGlvbiA8IDApIHtcclxuXHRcdFx0XHRcdHggPSBNYXRoLm1heChpbmRleExhYmVsLnBvaW50LngsIG1pZCkgLSB2aXNpYmxlV2lkdGggLyAyO1xyXG5cclxuXHRcdFx0XHRcdC8vaWYgKHkgPCB4TWluTGltaXQpIHtcclxuXHRcdFx0XHRcdC8vXHR5ID0gTWF0aC5tYXgoaW5kZXhMYWJlbC5wb2ludC55IC0gdmlzaWJsZUhlaWdodCAtIG1hcmdpblksIHBsb3RBcmVhLnkxICsgbWFyZ2luWSk7XHJcblx0XHRcdFx0XHQvL31cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHR4ID0gTWF0aC5taW4oaW5kZXhMYWJlbC5wb2ludC54LCBtaWQpIC0gdmlzaWJsZVdpZHRoIC8gMjtcclxuXHJcblx0XHRcdFx0XHQvL2lmICh5ID4geE1heExpbWl0IC0gdmlzaWJsZUhlaWdodCAtIG1hcmdpblkpIHtcclxuXHRcdFx0XHRcdC8vXHR5ID0gTWF0aC5taW4oaW5kZXhMYWJlbC5wb2ludC55ICsgbWFyZ2luWSwgcGxvdEFyZWEueTIgLSB2aXNpYmxlSGVpZ2h0IC0gbWFyZ2luWSk7XHJcblx0XHRcdFx0XHQvL31cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHQgICAgLy8gTWFrZSBTdXJlIHRoYXQgaXQgZG9lcyBub3Qgb3ZlcmxhcCB0aGUgYXhpcyBsaW5lXHJcblx0XHRcdCAgICB4ID0gTWF0aC5tYXgoeCwgeE1pbkxpbWl0KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHJcblx0XHRpZiAob3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIikge1xyXG5cdFx0XHR5ICs9IHZpc2libGVIZWlnaHQ7XHJcblx0XHR9XHJcblxyXG5cdFx0dGV4dEJsb2NrLnggPSB4O1xyXG5cdFx0dGV4dEJsb2NrLnkgPSB5O1xyXG5cclxuXHRcdC8vY29uc29sZS5sb2codGV4dEJsb2NrLnRleHQgKyBcIjogXCIgKyB0ZXh0QmxvY2sueCArIFwiOyBcIiArIHRleHRCbG9jay55KTtcclxuXHJcblx0XHR0ZXh0QmxvY2sucmVuZGVyKHRydWUpO1xyXG5cdH1cclxuXHJcblx0Ly9zb3VyY2UgYW5kIGRlc3Qgd291bGQgYmUgc2FtZSB3aGVuIGFuaW1hdGlvbiBpcyBub3QgZW5hYmxlZFxyXG5cdHZhciBhbmltYXRpb25JbmZvID0ge1xyXG5cdFx0c291cmNlOiBjdHgsIGRlc3Q6IHRoaXMucGxvdEFyZWEuY3R4LCBhbmltYXRpb25DYWxsYmFjazogQW5pbWF0aW9uSGVscGVyLmZhZGVJbkFuaW1hdGlvbiwgZWFzaW5nRnVuY3Rpb246IEFuaW1hdGlvbkhlbHBlci5lYXNpbmcuZWFzZUluUXVhZCwgYW5pbWF0aW9uQmFzZTogMCwgc3RhcnRUaW1lUGVyY2VudDogLjdcclxuXHR9O1xyXG5cdHJldHVybiBhbmltYXRpb25JbmZvO1xyXG59XHJcblxyXG5DaGFydC5wcm90b3R5cGUucmVuZGVyTGluZSA9IGZ1bmN0aW9uIChwbG90VW5pdCkge1xyXG5cclxuXHR2YXIgY3R4ID0gcGxvdFVuaXQudGFyZ2V0Q2FudmFzQ3R4IHx8IHRoaXMucGxvdEFyZWEuY3R4O1xyXG5cclxuXHR2YXIgdG90YWxEYXRhU2VyaWVzID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoO1xyXG5cdGlmICh0b3RhbERhdGFTZXJpZXMgPD0gMClcclxuXHRcdHJldHVybjtcclxuXHJcblx0dmFyIGdob3N0Q3R4ID0gdGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4O1xyXG5cdC8vdmFyIGdob3N0Q3R4ID0gdGhpcy5vdmVybGFpZENhbnZhc0N0eDtcclxuXHJcblx0Y3R4LnNhdmUoKTtcclxuXHJcblx0dmFyIHBsb3RBcmVhID0gdGhpcy5wbG90QXJlYTtcclxuXHJcblx0Y3R4LmJlZ2luUGF0aCgpO1xyXG5cdGN0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XHJcblx0Y3R4LmNsaXAoKTtcclxuXHJcblx0dmFyIG1hcmtlcnMgPSBbXTtcclxuXHJcblx0Zm9yICh2YXIgaiA9IDA7IGogPCBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7IGorKykge1xyXG5cclxuXHRcdHZhciBkYXRhU2VyaWVzSW5kZXggPSBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlc1tqXTtcclxuXHJcblx0XHR2YXIgZGF0YVNlcmllcyA9IHRoaXMuZGF0YVtkYXRhU2VyaWVzSW5kZXhdO1xyXG5cdFx0Y3R4LmxpbmVXaWR0aCA9IGRhdGFTZXJpZXMubGluZVRoaWNrbmVzcztcclxuXHRcdHZhciBkYXRhUG9pbnRzID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzO1xyXG5cclxuXHJcblx0XHRpZiAoY3R4LnNldExpbmVEYXNoKSB7XHJcblx0XHRcdGN0eC5zZXRMaW5lRGFzaChnZXRMaW5lRGFzaEFycmF5KGRhdGFTZXJpZXMubGluZURhc2hUeXBlLCBkYXRhU2VyaWVzLmxpbmVUaGlja25lc3MpKTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgc2VyaWVzSWQgPSBkYXRhU2VyaWVzLmlkO1xyXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtzZXJpZXNJZF0gPSB7XHJcblx0XHRcdG9iamVjdFR5cGU6IFwiZGF0YVNlcmllc1wiLCBkYXRhU2VyaWVzSW5kZXg6IGRhdGFTZXJpZXNJbmRleFxyXG5cdFx0fTtcclxuXHRcdHZhciBoZXhDb2xvciA9IGludFRvSGV4Q29sb3JTdHJpbmcoc2VyaWVzSWQpO1xyXG5cdFx0Z2hvc3RDdHguc3Ryb2tlU3R5bGUgPSBoZXhDb2xvcjtcclxuXHRcdC8vZ2hvc3RDdHgubGluZVdpZHRoID0gZGF0YVNlcmllcy5saW5lVGhpY2tuZXNzO1xyXG5cdFx0Z2hvc3RDdHgubGluZVdpZHRoID0gZGF0YVNlcmllcy5saW5lVGhpY2tuZXNzID4gMCA/IE1hdGgubWF4KGRhdGFTZXJpZXMubGluZVRoaWNrbmVzcywgNCkgOiAwO1xyXG5cclxuXHRcdHZhciBjb2xvclNldCA9IGRhdGFTZXJpZXMuX2NvbG9yU2V0O1xyXG5cdFx0dmFyIGNvbG9yID0gY29sb3JTZXRbMF07XHJcblx0XHRjdHguc3Ryb2tlU3R5bGUgPSBjb2xvcjtcclxuXHJcblx0XHR2YXIgaXNGaXJzdERhdGFQb2ludEluUGxvdEFyZWEgPSB0cnVlO1xyXG5cdFx0dmFyIGkgPSAwLCB4LCB5O1xyXG5cdFx0dmFyIGRhdGFQb2ludFg7IC8vVXNlZCBzbyB0aGF0IHdoZW4gZGF0YVBvaW50LnggaXMgYSBEYXRlVGltZSB2YWx1ZSwgaXQgZG9lc24ndCBnZXQgY29udmVydGVkIHRvIG51bWJlciBiYWNrIGFuZCBmb3J0aC5cclxuXHJcblx0XHQvL2lmICghZGF0YVNlcmllcy5fb3B0aW9ucy5tYXJrZXJTaXplICYmIGRhdGFTZXJpZXMuZGF0YVBvaW50cy5sZW5ndGggPCAxMDAwKVxyXG5cdFx0Ly8gICAgZGF0YVNlcmllcy5tYXJrZXJTaXplID0gODtcclxuXHRcdGN0eC5iZWdpblBhdGgoKTtcclxuXHRcdGlmIChkYXRhUG9pbnRzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0Ly92YXIgeHkgPSB0aGlzLmdldFBpeGVsQ29vcmRpbmF0ZXNPblBsb3RBcmVhKGRhdGFQb2ludHNbMF0ueCwgZGF0YVBvaW50c1swXS55KTtcclxuXHJcblx0XHRcdC8vZGF0YVNlcmllcy5ub0RhdGFQb2ludHNJblBsb3RBcmVhID0gMFxyXG5cdFx0XHR2YXIgcHJldkRhdGFOdWxsID0gZmFsc2U7XHJcblx0XHRcdGZvciAoaSA9IDA7IGkgPCBkYXRhUG9pbnRzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG5cdFx0XHRcdGRhdGFQb2ludFggPSBkYXRhUG9pbnRzW2ldLnguZ2V0VGltZSA/IGRhdGFQb2ludHNbaV0ueC5nZXRUaW1lKCkgOiBkYXRhUG9pbnRzW2ldLng7XHJcblxyXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRYIDwgcGxvdFVuaXQuYXhpc1guZGF0YUluZm8udmlld1BvcnRNaW4gfHwgZGF0YVBvaW50WCA+IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLnZpZXdQb3J0TWF4KVxyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblxyXG5cdFx0XHRcdC8vaWYgKCFpc0Zpbml0ZShkYXRhUG9pbnRzW2ldLnkpKVxyXG5cdFx0XHRcdC8vICAgIGNvbnRpbnVlO1xyXG5cclxuXHRcdFx0XHRpZiAodHlwZW9mIChkYXRhUG9pbnRzW2ldLnkpICE9PSBcIm51bWJlclwiKSB7XHJcblx0XHRcdFx0XHRpZiAoaSA+IDApIHsvLyBpZiBmaXJzdCBkYXRhUG9pbnQgaXMgbnVsbCB0aGVuIG5vIG5lZWQgdG8gY2FsbCBzdHJva2UgbWV0aG9kXHJcblx0XHRcdFx0XHRcdGN0eC5zdHJva2UoKTtcclxuXHJcblx0XHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xyXG5cdFx0XHRcdFx0XHRcdGdob3N0Q3R4LnN0cm9rZSgpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cclxuXHRcdFx0XHRcdHByZXZEYXRhTnVsbCA9IHRydWU7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHggPSAocGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludFggLSBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xyXG5cdFx0XHRcdHkgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludHNbaV0ueSAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XHJcblxyXG5cdFx0XHRcdHZhciBpZCA9IGRhdGFTZXJpZXMuZGF0YVBvaW50SWRzW2ldO1xyXG5cdFx0XHRcdHRoaXMuX2V2ZW50TWFuYWdlci5vYmplY3RNYXBbaWRdID0ge1xyXG5cdFx0XHRcdFx0aWQ6IGlkLCBvYmplY3RUeXBlOiBcImRhdGFQb2ludFwiLCBkYXRhU2VyaWVzSW5kZXg6IGRhdGFTZXJpZXNJbmRleCwgZGF0YVBvaW50SW5kZXg6IGksIHgxOiB4LCB5MTogeVxyXG5cdFx0XHRcdH07XHJcblxyXG5cclxuXHRcdFx0XHQvL2RhdGFTZXJpZXMubm9EYXRhUG9pbnRzSW5QbG90QXJlYSsrO1xyXG5cclxuXHRcdFx0XHRpZiAoaXNGaXJzdERhdGFQb2ludEluUGxvdEFyZWEgfHwgcHJldkRhdGFOdWxsKSB7XHJcblx0XHRcdFx0XHRjdHguYmVnaW5QYXRoKCk7XHJcblx0XHRcdFx0XHRjdHgubW92ZVRvKHgsIHkpO1xyXG5cclxuXHJcblx0XHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpIHtcclxuXHRcdFx0XHRcdFx0Z2hvc3RDdHguYmVnaW5QYXRoKCk7XHJcblx0XHRcdFx0XHRcdGdob3N0Q3R4Lm1vdmVUbyh4LCB5KTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpc0ZpcnN0RGF0YVBvaW50SW5QbG90QXJlYSA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0cHJldkRhdGFOdWxsID0gZmFsc2U7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0XHRjdHgubGluZVRvKHgsIHkpO1xyXG5cclxuXHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcclxuXHRcdFx0XHRcdFx0Z2hvc3RDdHgubGluZVRvKHgsIHkpO1xyXG5cclxuXHRcdFx0XHRcdGlmIChpICUgNTAwID09IDApIHtcclxuXHRcdFx0XHRcdFx0Y3R4LnN0cm9rZSgpO1xyXG5cdFx0XHRcdFx0XHRjdHguYmVnaW5QYXRoKCk7XHJcblx0XHRcdFx0XHRcdGN0eC5tb3ZlVG8oeCwgeSk7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpIHtcclxuXHRcdFx0XHRcdFx0XHRnaG9zdEN0eC5zdHJva2UoKTtcclxuXHRcdFx0XHRcdFx0XHRnaG9zdEN0eC5iZWdpblBhdGgoKTtcclxuXHRcdFx0XHRcdFx0XHRnaG9zdEN0eC5tb3ZlVG8oeCwgeSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vUmVuZGVyIE1hcmtlclxyXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLm1hcmtlclNpemUgPiAwIHx8IGRhdGFTZXJpZXMubWFya2VyU2l6ZSA+IDApIHtcclxuXHJcblx0XHRcdFx0XHR2YXIgbWFya2VyUHJvcHMgPSBkYXRhU2VyaWVzLmdldE1hcmtlclByb3BlcnRpZXMoaSwgeCwgeSwgY3R4KTtcclxuXHRcdFx0XHRcdG1hcmtlcnMucHVzaChtYXJrZXJQcm9wcyk7XHJcblxyXG5cdFx0XHRcdFx0Ly9pZiAoIWRhdGFTZXJpZXMubWF4V2lkdGhJblggfHwgbWFya2VyUHJvcHMuc2l6ZSA+IGRhdGFTZXJpZXMubWF4V2lkdGhJblgpIHtcclxuXHRcdFx0XHRcdC8vXHRkYXRhU2VyaWVzLm1heFdpZHRoSW5YID0gbWFya2VyUHJvcHMuc2l6ZSAvIChwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgPiAxID8gcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0IC0gMSA6IHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCk7XHJcblx0XHRcdFx0XHQvL31cclxuXHJcblx0XHRcdFx0XHR2YXIgbWFya2VyQ29sb3IgPSBpbnRUb0hleENvbG9yU3RyaW5nKGlkKTtcclxuXHJcblx0XHRcdFx0XHQvL3dpbmRvdy5jb25zb2xlLmxvZyhcImluZGV4OiBcIiArIGkgKyBcIjsgaWQ6IFwiICsgaWQgKyBcIjsgaGV4OiBcIiArIG1hcmtlckNvbG9yKTtcclxuXHJcblx0XHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpIHtcclxuXHRcdFx0XHRcdFx0bWFya2Vycy5wdXNoKHtcclxuXHRcdFx0XHRcdFx0XHR4OiB4LCB5OiB5LCBjdHg6IGdob3N0Q3R4LFxyXG5cdFx0XHRcdFx0XHRcdHR5cGU6IG1hcmtlclByb3BzLnR5cGUsXHJcblx0XHRcdFx0XHRcdFx0c2l6ZTogbWFya2VyUHJvcHMuc2l6ZSxcclxuXHRcdFx0XHRcdFx0XHRjb2xvcjogbWFya2VyQ29sb3IsXHJcblx0XHRcdFx0XHRcdFx0Ym9yZGVyQ29sb3I6IG1hcmtlckNvbG9yLFxyXG5cdFx0XHRcdFx0XHRcdGJvcmRlclRoaWNrbmVzczogbWFya2VyUHJvcHMuYm9yZGVyVGhpY2tuZXNzXHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKGRhdGFQb2ludHNbaV0uaW5kZXhMYWJlbCB8fCBkYXRhU2VyaWVzLmluZGV4TGFiZWwgfHwgZGF0YVBvaW50c1tpXS5pbmRleExhYmVsRm9ybWF0dGVyIHx8IGRhdGFTZXJpZXMuaW5kZXhMYWJlbEZvcm1hdHRlcikge1xyXG5cclxuXHRcdFx0XHRcdHRoaXMuX2luZGV4TGFiZWxzLnB1c2goe1xyXG5cdFx0XHRcdFx0XHRjaGFydFR5cGU6IFwibGluZVwiLFxyXG5cdFx0XHRcdFx0XHRkYXRhUG9pbnQ6IGRhdGFQb2ludHNbaV0sXHJcblx0XHRcdFx0XHRcdGRhdGFTZXJpZXM6IGRhdGFTZXJpZXMsXHJcblx0XHRcdFx0XHRcdHBvaW50OiB7XHJcblx0XHRcdFx0XHRcdFx0eDogeCwgeTogeVxyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRkaXJlY3Rpb246IGRhdGFQb2ludHNbaV0ueSA+PSAwID8gMSA6IC0xLFxyXG5cdFx0XHRcdFx0XHRjb2xvcjogY29sb3JcclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjdHguc3Ryb2tlKCk7XHJcblxyXG5cdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXHJcblx0XHRcdFx0Z2hvc3RDdHguc3Ryb2tlKCk7XHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHJcblxyXG5cdFJlbmRlckhlbHBlci5kcmF3TWFya2VycyhtYXJrZXJzKTtcclxuXHRjdHgucmVzdG9yZSgpO1xyXG5cclxuXHRjdHguYmVnaW5QYXRoKCk7XHJcblxyXG5cdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcclxuXHRcdGdob3N0Q3R4LmJlZ2luUGF0aCgpO1xyXG5cclxuXHQvL3NvdXJjZSBhbmQgZGVzdCB3b3VsZCBiZSBzYW1lIHdoZW4gYW5pbWF0aW9uIGlzIG5vdCBlbmFibGVkXHJcblx0dmFyIGFuaW1hdGlvbkluZm8gPSB7XHJcblx0XHRzb3VyY2U6IGN0eCwgZGVzdDogdGhpcy5wbG90QXJlYS5jdHgsIGFuaW1hdGlvbkNhbGxiYWNrOiBBbmltYXRpb25IZWxwZXIueENsaXBBbmltYXRpb24sIGVhc2luZ0Z1bmN0aW9uOiBBbmltYXRpb25IZWxwZXIuZWFzaW5nLmxpbmVhciwgYW5pbWF0aW9uQmFzZTogMFxyXG5cdH07XHJcblx0cmV0dXJuIGFuaW1hdGlvbkluZm87XHJcbn1cclxuXHJcbkNoYXJ0LnByb3RvdHlwZS5yZW5kZXJTdGVwTGluZSA9IGZ1bmN0aW9uIChwbG90VW5pdCkge1xyXG5cdHZhciBjdHggPSBwbG90VW5pdC50YXJnZXRDYW52YXNDdHggfHwgdGhpcy5wbG90QXJlYS5jdHg7XHJcblxyXG5cdHZhciB0b3RhbERhdGFTZXJpZXMgPSBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7XHJcblx0aWYgKHRvdGFsRGF0YVNlcmllcyA8PSAwKVxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHR2YXIgZ2hvc3RDdHggPSB0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHg7XHJcblx0Ly92YXIgZ2hvc3RDdHggPSB0aGlzLm92ZXJsYWlkQ2FudmFzQ3R4O1xyXG5cclxuXHRjdHguc2F2ZSgpO1xyXG5cclxuXHR2YXIgcGxvdEFyZWEgPSB0aGlzLnBsb3RBcmVhO1xyXG5cclxuXHRjdHguYmVnaW5QYXRoKCk7XHJcblx0Y3R4LnJlY3QocGxvdEFyZWEueDEsIHBsb3RBcmVhLnkxLCBwbG90QXJlYS53aWR0aCwgcGxvdEFyZWEuaGVpZ2h0KTtcclxuXHRjdHguY2xpcCgpO1xyXG5cclxuXHR2YXIgbWFya2VycyA9IFtdO1xyXG5cclxuXHRmb3IgKHZhciBqID0gMDsgaiA8IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDsgaisrKSB7XHJcblxyXG5cdFx0dmFyIGRhdGFTZXJpZXNJbmRleCA9IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzW2pdO1xyXG5cclxuXHRcdHZhciBkYXRhU2VyaWVzID0gdGhpcy5kYXRhW2RhdGFTZXJpZXNJbmRleF07XHJcblx0XHRjdHgubGluZVdpZHRoID0gZGF0YVNlcmllcy5saW5lVGhpY2tuZXNzO1xyXG5cdFx0dmFyIGRhdGFQb2ludHMgPSBkYXRhU2VyaWVzLmRhdGFQb2ludHM7XHJcblxyXG5cdFx0aWYgKGN0eC5zZXRMaW5lRGFzaCkge1xyXG5cdFx0XHRjdHguc2V0TGluZURhc2goZ2V0TGluZURhc2hBcnJheShkYXRhU2VyaWVzLmxpbmVEYXNoVHlwZSwgZGF0YVNlcmllcy5saW5lVGhpY2tuZXNzKSk7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIHNlcmllc0lkID0gZGF0YVNlcmllcy5pZDtcclxuXHRcdHRoaXMuX2V2ZW50TWFuYWdlci5vYmplY3RNYXBbc2VyaWVzSWRdID0ge1xyXG5cdFx0XHRvYmplY3RUeXBlOiBcImRhdGFTZXJpZXNcIiwgZGF0YVNlcmllc0luZGV4OiBkYXRhU2VyaWVzSW5kZXhcclxuXHRcdH07XHJcblx0XHR2YXIgaGV4Q29sb3IgPSBpbnRUb0hleENvbG9yU3RyaW5nKHNlcmllc0lkKTtcclxuXHRcdGdob3N0Q3R4LnN0cm9rZVN0eWxlID0gaGV4Q29sb3I7XHJcblx0XHQvL2dob3N0Q3R4LmxpbmVXaWR0aCA9IGRhdGFTZXJpZXMubGluZVRoaWNrbmVzcztcclxuXHRcdGdob3N0Q3R4LmxpbmVXaWR0aCA9IGRhdGFTZXJpZXMubGluZVRoaWNrbmVzcyA+IDAgPyBNYXRoLm1heChkYXRhU2VyaWVzLmxpbmVUaGlja25lc3MsIDQpIDogMDtcclxuXHJcblx0XHR2YXIgY29sb3JTZXQgPSBkYXRhU2VyaWVzLl9jb2xvclNldDtcclxuXHRcdHZhciBjb2xvciA9IGNvbG9yU2V0WzBdO1xyXG5cdFx0Y3R4LnN0cm9rZVN0eWxlID0gY29sb3I7XHJcblxyXG5cdFx0dmFyIGlzRmlyc3REYXRhUG9pbnRJblBsb3RBcmVhID0gdHJ1ZTtcclxuXHRcdHZhciBpID0gMCwgeCwgeTtcclxuXHRcdHZhciBkYXRhUG9pbnRYOyAvL1VzZWQgc28gdGhhdCB3aGVuIGRhdGFQb2ludC54IGlzIGEgRGF0ZVRpbWUgdmFsdWUsIGl0IGRvZXNuJ3QgZ2V0IGNvbnZlcnRlZCB0byBudW1iZXIgYmFjayBhbmQgZm9ydGguXHJcblxyXG5cdFx0Ly9pZiAoIWRhdGFTZXJpZXMuX29wdGlvbnMubWFya2VyU2l6ZSAmJiBkYXRhU2VyaWVzLmRhdGFQb2ludHMubGVuZ3RoIDwgMTAwMClcclxuXHRcdC8vICAgIGRhdGFTZXJpZXMubWFya2VyU2l6ZSA9IDg7XHJcblx0XHRjdHguYmVnaW5QYXRoKCk7XHJcblx0XHRpZiAoZGF0YVBvaW50cy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdC8vdmFyIHh5ID0gdGhpcy5nZXRQaXhlbENvb3JkaW5hdGVzT25QbG90QXJlYShkYXRhUG9pbnRzWzBdLngsIGRhdGFQb2ludHNbMF0ueSk7XHJcblxyXG5cdFx0XHQvL2RhdGFTZXJpZXMubm9EYXRhUG9pbnRzSW5QbG90QXJlYSA9IDBcclxuXHRcdFx0dmFyIHByZXZEYXRhTnVsbCA9IGZhbHNlO1xyXG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgZGF0YVBvaW50cy5sZW5ndGg7IGkrKykge1xyXG5cclxuXHRcdFx0XHRkYXRhUG9pbnRYID0gZGF0YVBvaW50c1tpXS5nZXRUaW1lID8gZGF0YVBvaW50c1tpXS54LmdldFRpbWUoKSA6IGRhdGFQb2ludHNbaV0ueDtcclxuXHJcblx0XHRcdFx0aWYgKGRhdGFQb2ludFggPCBwbG90VW5pdC5heGlzWC5kYXRhSW5mby52aWV3UG9ydE1pbiB8fCBkYXRhUG9pbnRYID4gcGxvdFVuaXQuYXhpc1guZGF0YUluZm8udmlld1BvcnRNYXgpXHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHJcblx0XHRcdFx0Ly9pZiAoIWlzRmluaXRlKGRhdGFQb2ludHNbaV0ueSkpXHJcblx0XHRcdFx0Ly8gICAgY29udGludWU7XHJcblxyXG5cdFx0XHRcdGlmICh0eXBlb2YgKGRhdGFQb2ludHNbaV0ueSkgIT09IFwibnVtYmVyXCIpIHtcclxuXHRcdFx0XHRcdGlmIChpID4gMCkgey8vIGlmIGZpcnN0IGRhdGFQb2ludCBpcyBudWxsIHRoZW4gbm8gbmVlZCB0byBjYWxsIHN0cm9rZSBtZXRob2RcclxuXHRcdFx0XHRcdFx0Y3R4LnN0cm9rZSgpO1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XHJcblx0XHRcdFx0XHRcdFx0Z2hvc3RDdHguc3Ryb2tlKCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRwcmV2RGF0YU51bGwgPSB0cnVlO1xyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR2YXIgcHJldlkgPSB5O1xyXG5cclxuXHRcdFx0XHR4ID0gKHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqIChkYXRhUG9pbnRYIC0gcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkgKyAuNSkgPDwgMDtcclxuXHRcdFx0XHR5ID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqIChkYXRhUG9pbnRzW2ldLnkgLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xyXG5cclxuXHRcdFx0XHR2YXIgaWQgPSBkYXRhU2VyaWVzLmRhdGFQb2ludElkc1tpXTtcclxuXHRcdFx0XHR0aGlzLl9ldmVudE1hbmFnZXIub2JqZWN0TWFwW2lkXSA9IHtcclxuXHRcdFx0XHRcdGlkOiBpZCwgb2JqZWN0VHlwZTogXCJkYXRhUG9pbnRcIiwgZGF0YVNlcmllc0luZGV4OiBkYXRhU2VyaWVzSW5kZXgsIGRhdGFQb2ludEluZGV4OiBpLCB4MTogeCwgeTE6IHlcclxuXHRcdFx0XHR9O1xyXG5cclxuXHJcblx0XHRcdFx0Ly9kYXRhU2VyaWVzLm5vRGF0YVBvaW50c0luUGxvdEFyZWErKztcclxuXHJcblx0XHRcdFx0aWYgKGlzRmlyc3REYXRhUG9pbnRJblBsb3RBcmVhIHx8IHByZXZEYXRhTnVsbCkge1xyXG5cdFx0XHRcdFx0Y3R4LmJlZ2luUGF0aCgpO1xyXG5cdFx0XHRcdFx0Y3R4Lm1vdmVUbyh4LCB5KTtcclxuXHJcblx0XHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpIHtcclxuXHRcdFx0XHRcdFx0Z2hvc3RDdHguYmVnaW5QYXRoKCk7XHJcblx0XHRcdFx0XHRcdGdob3N0Q3R4Lm1vdmVUbyh4LCB5KTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpc0ZpcnN0RGF0YVBvaW50SW5QbG90QXJlYSA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0cHJldkRhdGFOdWxsID0gZmFsc2U7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0XHRjdHgubGluZVRvKHgsIHByZXZZKTtcclxuXHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcclxuXHRcdFx0XHRcdFx0Z2hvc3RDdHgubGluZVRvKHgsIHByZXZZKTtcclxuXHJcblx0XHRcdFx0XHRjdHgubGluZVRvKHgsIHkpO1xyXG5cdFx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxyXG5cdFx0XHRcdFx0XHRnaG9zdEN0eC5saW5lVG8oeCwgeSk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKGkgJSA1MDAgPT0gMCkge1xyXG5cdFx0XHRcdFx0XHRjdHguc3Ryb2tlKCk7XHJcblx0XHRcdFx0XHRcdGN0eC5iZWdpblBhdGgoKTtcclxuXHRcdFx0XHRcdFx0Y3R4Lm1vdmVUbyh4LCB5KTtcclxuXHJcblx0XHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xyXG5cdFx0XHRcdFx0XHRcdGdob3N0Q3R4LnN0cm9rZSgpO1xyXG5cdFx0XHRcdFx0XHRcdGdob3N0Q3R4LmJlZ2luUGF0aCgpO1xyXG5cdFx0XHRcdFx0XHRcdGdob3N0Q3R4Lm1vdmVUbyh4LCB5KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly9SZW5kZXIgTWFya2VyXHJcblx0XHRcdFx0aWYgKGRhdGFQb2ludHNbaV0ubWFya2VyU2l6ZSA+IDAgfHwgZGF0YVNlcmllcy5tYXJrZXJTaXplID4gMCkge1xyXG5cclxuXHRcdFx0XHRcdHZhciBtYXJrZXJQcm9wcyA9IGRhdGFTZXJpZXMuZ2V0TWFya2VyUHJvcGVydGllcyhpLCB4LCB5LCBjdHgpO1xyXG5cdFx0XHRcdFx0bWFya2Vycy5wdXNoKG1hcmtlclByb3BzKTtcclxuXHJcblx0XHRcdFx0XHQvL2lmICghZGF0YVNlcmllcy5tYXhXaWR0aEluWCB8fCBtYXJrZXJQcm9wcy5zaXplID4gZGF0YVNlcmllcy5tYXhXaWR0aEluWCkge1xyXG5cdFx0XHRcdFx0Ly9cdGRhdGFTZXJpZXMubWF4V2lkdGhJblggPSBtYXJrZXJQcm9wcy5zaXplIC8gKHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCA+IDEgPyBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgLSAxIDogcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0KTtcclxuXHRcdFx0XHRcdC8vfVxyXG5cclxuXHRcdFx0XHRcdHZhciBtYXJrZXJDb2xvciA9IGludFRvSGV4Q29sb3JTdHJpbmcoaWQpO1xyXG5cclxuXHRcdFx0XHRcdC8vd2luZG93LmNvbnNvbGUubG9nKFwiaW5kZXg6IFwiICsgaSArIFwiOyBpZDogXCIgKyBpZCArIFwiOyBoZXg6IFwiICsgbWFya2VyQ29sb3IpO1xyXG5cdFx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XHJcblx0XHRcdFx0XHRcdG1hcmtlcnMucHVzaCh7XHJcblx0XHRcdFx0XHRcdFx0eDogeCwgeTogeSwgY3R4OiBnaG9zdEN0eCxcclxuXHRcdFx0XHRcdFx0XHR0eXBlOiBtYXJrZXJQcm9wcy50eXBlLFxyXG5cdFx0XHRcdFx0XHRcdHNpemU6IG1hcmtlclByb3BzLnNpemUsXHJcblx0XHRcdFx0XHRcdFx0Y29sb3I6IG1hcmtlckNvbG9yLFxyXG5cdFx0XHRcdFx0XHRcdGJvcmRlckNvbG9yOiBtYXJrZXJDb2xvcixcclxuXHRcdFx0XHRcdFx0XHRib3JkZXJUaGlja25lc3M6IG1hcmtlclByb3BzLmJvcmRlclRoaWNrbmVzc1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLmluZGV4TGFiZWwgfHwgZGF0YVNlcmllcy5pbmRleExhYmVsIHx8IGRhdGFQb2ludHNbaV0uaW5kZXhMYWJlbEZvcm1hdHRlciB8fCBkYXRhU2VyaWVzLmluZGV4TGFiZWxGb3JtYXR0ZXIpIHtcclxuXHJcblx0XHRcdFx0XHR0aGlzLl9pbmRleExhYmVscy5wdXNoKHtcclxuXHRcdFx0XHRcdFx0Y2hhcnRUeXBlOiBcInN0ZXBMaW5lXCIsXHJcblx0XHRcdFx0XHRcdGRhdGFQb2ludDogZGF0YVBvaW50c1tpXSxcclxuXHRcdFx0XHRcdFx0ZGF0YVNlcmllczogZGF0YVNlcmllcyxcclxuXHRcdFx0XHRcdFx0cG9pbnQ6IHtcclxuXHRcdFx0XHRcdFx0XHR4OiB4LCB5OiB5XHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdGRpcmVjdGlvbjogZGF0YVBvaW50c1tpXS55ID49IDAgPyAxIDogLTEsXHJcblx0XHRcdFx0XHRcdGNvbG9yOiBjb2xvclxyXG5cdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGN0eC5zdHJva2UoKTtcclxuXHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxyXG5cdFx0XHRcdGdob3N0Q3R4LnN0cm9rZSgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblxyXG5cdFJlbmRlckhlbHBlci5kcmF3TWFya2VycyhtYXJrZXJzKTtcclxuXHRjdHgucmVzdG9yZSgpO1xyXG5cclxuXHRjdHguYmVnaW5QYXRoKCk7XHJcblxyXG5cdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcclxuXHRcdGdob3N0Q3R4LmJlZ2luUGF0aCgpO1xyXG5cclxuXHQvL3NvdXJjZSBhbmQgZGVzdCB3b3VsZCBiZSBzYW1lIHdoZW4gYW5pbWF0aW9uIGlzIG5vdCBlbmFibGVkXHJcblx0dmFyIGFuaW1hdGlvbkluZm8gPSB7XHJcblx0XHRzb3VyY2U6IGN0eCwgZGVzdDogdGhpcy5wbG90QXJlYS5jdHgsIGFuaW1hdGlvbkNhbGxiYWNrOiBBbmltYXRpb25IZWxwZXIueENsaXBBbmltYXRpb24sIGVhc2luZ0Z1bmN0aW9uOiBBbmltYXRpb25IZWxwZXIuZWFzaW5nLmxpbmVhciwgYW5pbWF0aW9uQmFzZTogMFxyXG5cdH07XHJcblx0cmV0dXJuIGFuaW1hdGlvbkluZm87XHJcbn1cclxuXHJcbkNoYXJ0LnByb3RvdHlwZS5hbmltYXRpb25SZXF1ZXN0SWQgPSBudWxsO1xyXG5cclxuQ2hhcnQucHJvdG90eXBlLnJlcXVlc3RBbmltRnJhbWUgPSAoZnVuY3Rpb24gKCkge1xyXG5cdHJldHVybiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XHJcblx0XHRcdHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcclxuXHRcdFx0d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxyXG5cdFx0XHR3aW5kb3cub1JlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxyXG5cdFx0XHR3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcclxuXHRcdFx0ZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcblx0XHRcdFx0d2luZG93LnNldFRpbWVvdXQoY2FsbGJhY2ssIDEwMDAgLyA2MCk7XHJcblx0XHRcdH07XHJcbn0pKCk7XHJcblxyXG5DaGFydC5wcm90b3R5cGUuY2FuY2VsUmVxdWVzdEFuaW1GcmFtZSA9IChmdW5jdGlvbiAoKSB7XHJcblx0cmV0dXJuIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSB8fFxyXG5cdFx0d2luZG93LndlYmtpdENhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxyXG5cdFx0d2luZG93Lm1vekNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxyXG5cdFx0d2luZG93Lm9DYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcclxuXHRcdHdpbmRvdy5tc0NhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxyXG5cdFx0Y2xlYXJUaW1lb3V0XHJcbn0pKCk7XHJcblxyXG5DaGFydC5wcm90b3R5cGUuZ2V0UGVyY2VudEFuZFRvdGFsID0gZnVuY3Rpb24gKGRzLCBkcCkge1xyXG5cclxuXHR2YXIgZHBYID0gbnVsbDtcclxuXHR2YXIgdG90YWwgPSBudWxsO1xyXG5cdHZhciBwZXJjZW50ID0gbnVsbDtcclxuXHJcblx0aWYgKGRzLnR5cGUuaW5kZXhPZihcInN0YWNrZWRcIikgPj0gMCkge1xyXG5cdFx0dG90YWwgPSAwO1xyXG5cdFx0ZHBYID0gZHAueC5nZXRUaW1lID8gZHAueC5nZXRUaW1lKCkgOiBkcC54O1xyXG5cdFx0aWYgKGRwWCBpbiBkcy5wbG90VW5pdC55VG90YWxzKSB7XHJcblx0XHRcdHRvdGFsID0gZHMucGxvdFVuaXQueVRvdGFsc1tkcFhdO1xyXG5cclxuXHRcdFx0aWYgKCFpc05hTihkcC55KSkge1xyXG5cdFx0XHQgICAgaWYgKHRvdGFsID09PSAwKVxyXG5cdFx0XHQgICAgICAgIHBlcmNlbnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICBlbHNlXHJcblx0XHRcdCAgICAgICAgcGVyY2VudCA9IChkcC55IC8gdG90YWwpICogMTAwO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0ICAgIHBlcmNlbnQgPSAwO1xyXG5cdFx0fVxyXG5cdH0gZWxzZSBpZiAoZHMudHlwZSA9PT0gXCJwaWVcIiB8fCBkcy50eXBlID09PSBcImRvdWdobnV0XCIpIHtcclxuXHRcdHRvdGFsID0gMDtcclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZHMuZGF0YVBvaW50cy5sZW5ndGg7IGkrKykge1xyXG5cclxuXHRcdFx0aWYgKCFpc05hTihkcy5kYXRhUG9pbnRzW2ldLnkpKVxyXG5cdFx0XHRcdHRvdGFsICs9IGRzLmRhdGFQb2ludHNbaV0ueTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIWlzTmFOKGRwLnkpKVxyXG5cdFx0XHRwZXJjZW50ID0gKGRwLnkgLyB0b3RhbCkgKiAxMDA7XHJcblx0XHRlbHNlXHJcblx0XHRcdHBlcmNlbnQgPSAwO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIHtcclxuXHRcdHBlcmNlbnQ6IHBlcmNlbnQsIHRvdGFsOiB0b3RhbFxyXG5cdH07XHJcbn1cclxuXHJcbkNoYXJ0LnByb3RvdHlwZS5yZXBsYWNlS2V5d29yZHNXaXRoVmFsdWUgPSBmdW5jdGlvbiAoc3RyLCBkcCwgZHMsIGRwSW5kZXgsIGluZGV4S2V5d29yZFZhbHVlKSB7XHJcblx0Ly92YXIgcmVnZXggPSAvXFx7XFxzKlthLXpBLVpdK1xccypcXH18XCJbXlwiXSpcInwnW14nXSonL2c7XHJcblx0dmFyIHJlZ2V4ID0gL1xcey4qP1xcfXxcIlteXCJdKlwifCdbXiddKicvZztcclxuXHR2YXIgY2hhcnQgPSB0aGlzO1xyXG5cdGluZGV4S2V5d29yZFZhbHVlID0gdHlwZW9mIChpbmRleEtleXdvcmRWYWx1ZSkgPT09IFwidW5kZWZpbmVkXCIgPyAwIDogaW5kZXhLZXl3b3JkVmFsdWU7XHJcblxyXG5cdGlmICgoZHMudHlwZS5pbmRleE9mKFwic3RhY2tlZFwiKSA+PSAwIHx8IChkcy50eXBlID09PSBcInBpZVwiIHx8IGRzLnR5cGUgPT09IFwiZG91Z2hudXRcIikpICYmIChzdHIuaW5kZXhPZihcIiNwZXJjZW50XCIpID49IDAgfHwgc3RyLmluZGV4T2YoXCIjdG90YWxcIikgPj0gMCkpIHtcclxuXHRcdHZhciBwZXJjZW50ID0gXCIjcGVyY2VudFwiO1xyXG5cdFx0dmFyIHRvdGFsID0gXCIjdG90YWxcIjtcclxuXHRcdHZhciBkcFggPSBudWxsO1xyXG5cclxuXHRcdHZhciBwZXJjZW50QW5kVG90YWwgPSB0aGlzLmdldFBlcmNlbnRBbmRUb3RhbChkcywgZHApO1xyXG5cclxuXHRcdHRvdGFsID0gaXNOYU4ocGVyY2VudEFuZFRvdGFsLnRvdGFsKSA/IHRvdGFsIDogcGVyY2VudEFuZFRvdGFsLnRvdGFsO1xyXG5cdFx0cGVyY2VudCA9IGlzTmFOKHBlcmNlbnRBbmRUb3RhbC5wZXJjZW50KSA/IHBlcmNlbnQgOiBwZXJjZW50QW5kVG90YWwucGVyY2VudDtcclxuXHJcblx0XHRkbyB7XHJcblx0XHRcdHZhciBwZXJjZW50Rm9ybWF0U3RyaW5nID0gXCJcIjtcclxuXHRcdFx0aWYgKGRzLnBlcmNlbnRGb3JtYXRTdHJpbmcpXHJcblx0XHRcdFx0cGVyY2VudEZvcm1hdFN0cmluZyA9IGRzLnBlcmNlbnRGb3JtYXRTdHJpbmc7XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdHBlcmNlbnRGb3JtYXRTdHJpbmcgPSBcIiMsIyMwLlwiO1xyXG5cdFx0XHRcdHZhciBudW1iZXJPZkRlY2ltYWxzID0gTWF0aC5tYXgoTWF0aC5jZWlsKE1hdGgubG9nKDEgLyBNYXRoLmFicyhwZXJjZW50KSkgLyBNYXRoLkxOMTApLCAyKTtcclxuXHJcblx0XHRcdFx0aWYgKGlzTmFOKG51bWJlck9mRGVjaW1hbHMpIHx8ICFpc0Zpbml0ZShudW1iZXJPZkRlY2ltYWxzKSlcclxuXHRcdFx0XHRcdG51bWJlck9mRGVjaW1hbHMgPSAyO1xyXG5cclxuXHRcdFx0XHRmb3IgKHZhciBuID0gMDsgbiA8IG51bWJlck9mRGVjaW1hbHM7IG4rKykge1xyXG5cdFx0XHRcdFx0cGVyY2VudEZvcm1hdFN0cmluZyArPSBcIiNcIjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHN0ciA9IHN0ci5yZXBsYWNlKFwiI3BlcmNlbnRcIiwgbnVtYmVyRm9ybWF0KHBlcmNlbnQsIHBlcmNlbnRGb3JtYXRTdHJpbmcsIGNoYXJ0Ll9jdWx0dXJlSW5mbykpO1xyXG5cdFx0XHRzdHIgPSBzdHIucmVwbGFjZShcIiN0b3RhbFwiLCBudW1iZXJGb3JtYXQodG90YWwsIGRzLnlWYWx1ZUZvcm1hdFN0cmluZyA/IGRzLnlWYWx1ZUZvcm1hdFN0cmluZyA6IFwiIywjIzAuIyMjIyMjIyNcIikpO1xyXG5cdFx0fSB3aGlsZSAoc3RyLmluZGV4T2YoXCIjcGVyY2VudFwiKSA+PSAwIHx8IHN0ci5pbmRleE9mKFwiI3RvdGFsXCIpID49IDApO1xyXG5cdH1cclxuXHJcblxyXG5cdHZhciBmY24gPSBmdW5jdGlvbiAoJDApIHtcclxuXHRcdGlmICgoJDBbMF0gPT09IFwiXFxcIlwiICYmICQwWyQwLmxlbmd0aCAtIDFdID09PSBcIlxcXCJcIikgfHwgKCQwWzBdID09PSBcIlxcJ1wiICYmICQwWyQwLmxlbmd0aCAtIDFdID09PSBcIlxcJ1wiKSlcclxuXHRcdFx0cmV0dXJuICQwLnNsaWNlKDEsICQwLmxlbmd0aCAtIDEpO1xyXG5cclxuXHRcdHZhciBrZXkgPSB0cmltU3RyaW5nKCQwLnNsaWNlKDEsICQwLmxlbmd0aCAtIDEpKTtcclxuXHRcdGtleSA9IGtleS5yZXBsYWNlKFwiI2luZGV4XCIsIGluZGV4S2V5d29yZFZhbHVlKTtcclxuXHJcblx0XHR2YXIgaW5kZXggPSBudWxsO1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdHZhciBtYXRjaCA9IGtleS5tYXRjaCgvKC4qPylcXHMqXFxbXFxzKiguKj8pXFxzKlxcXS8pO1xyXG5cdFx0XHRpZiAobWF0Y2ggJiYgbWF0Y2gubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdGluZGV4ID0gdHJpbVN0cmluZyhtYXRjaFsyXSk7XHJcblx0XHRcdFx0a2V5ID0gdHJpbVN0cmluZyhtYXRjaFsxXSk7XHJcblx0XHRcdH1cclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdH07XHJcblxyXG5cclxuXHRcdHZhciBvYmogPSBudWxsO1xyXG5cclxuXHRcdGlmIChrZXkgPT09IFwiY29sb3JcIikge1xyXG5cdFx0XHRyZXR1cm4gZHAuY29sb3IgPyBkcC5jb2xvciA6IGRzLmNvbG9yID8gZHMuY29sb3IgOiBkcy5fY29sb3JTZXRbZHBJbmRleCAlIGRzLl9jb2xvclNldC5sZW5ndGhdO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChkcC5oYXNPd25Qcm9wZXJ0eShrZXkpKVxyXG5cdFx0XHRvYmogPSBkcDtcclxuXHRcdGVsc2UgaWYgKGRzLmhhc093blByb3BlcnR5KGtleSkpXHJcblx0XHRcdG9iaiA9IGRzO1xyXG5cdFx0ZWxzZSByZXR1cm4gXCJcIjtcclxuXHJcblx0XHR2YXIgdmFsdWUgPSBvYmpba2V5XTtcclxuXHRcdGlmIChpbmRleCAhPT0gbnVsbClcclxuXHRcdFx0dmFsdWUgPSB2YWx1ZVtpbmRleF07XHJcblxyXG5cdFx0aWYgKGtleSA9PT0gXCJ4XCIpIHtcclxuXHRcdFx0aWYgKGNoYXJ0LmF4aXNYICYmIGNoYXJ0LnBsb3RJbmZvLmF4aXNYVmFsdWVUeXBlID09PSBcImRhdGVUaW1lXCIpXHJcblx0XHRcdFx0cmV0dXJuIGRhdGVGb3JtYXQodmFsdWUsIGRwLnhWYWx1ZUZvcm1hdFN0cmluZyA/IGRwLnhWYWx1ZUZvcm1hdFN0cmluZyA6IGRzLnhWYWx1ZUZvcm1hdFN0cmluZyA/IGRzLnhWYWx1ZUZvcm1hdFN0cmluZyA6IGNoYXJ0LmF4aXNYICYmIGNoYXJ0LmF4aXNYLnZhbHVlRm9ybWF0U3RyaW5nID8gY2hhcnQuYXhpc1gudmFsdWVGb3JtYXRTdHJpbmcgOiBcIkREIE1NTSBZWVwiLCBjaGFydC5fY3VsdHVyZUluZm8pO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0cmV0dXJuIG51bWJlckZvcm1hdCh2YWx1ZSwgZHAueFZhbHVlRm9ybWF0U3RyaW5nID8gZHAueFZhbHVlRm9ybWF0U3RyaW5nIDogZHMueFZhbHVlRm9ybWF0U3RyaW5nID8gZHMueFZhbHVlRm9ybWF0U3RyaW5nIDogXCIjLCMjMC4jIyMjIyMjI1wiLCBjaGFydC5fY3VsdHVyZUluZm8pO1xyXG5cdFx0fSBlbHNlIGlmIChrZXkgPT09IFwieVwiKVxyXG5cdFx0XHRyZXR1cm4gbnVtYmVyRm9ybWF0KHZhbHVlLCBkcC55VmFsdWVGb3JtYXRTdHJpbmcgPyBkcC55VmFsdWVGb3JtYXRTdHJpbmcgOiBkcy55VmFsdWVGb3JtYXRTdHJpbmcgPyBkcy55VmFsdWVGb3JtYXRTdHJpbmcgOiBcIiMsIyMwLiMjIyMjIyMjXCIsIGNoYXJ0Ll9jdWx0dXJlSW5mbyk7XHJcblx0XHRlbHNlIGlmIChrZXkgPT09IFwielwiKVxyXG5cdFx0XHRyZXR1cm4gbnVtYmVyRm9ybWF0KHZhbHVlLCBkcC56VmFsdWVGb3JtYXRTdHJpbmcgPyBkcC56VmFsdWVGb3JtYXRTdHJpbmcgOiBkcy56VmFsdWVGb3JtYXRTdHJpbmcgPyBkcy56VmFsdWVGb3JtYXRTdHJpbmcgOiBcIiMsIyMwLiMjIyMjIyMjXCIsIGNoYXJ0Ll9jdWx0dXJlSW5mbyk7XHJcblx0XHRlbHNlXHJcblx0XHRcdHJldHVybiB2YWx1ZTtcclxuXHR9XHJcblxyXG5cdHJldHVybiBzdHIucmVwbGFjZShyZWdleCwgZmNuKTtcclxufVxyXG5cclxuXHJcbkNoYXJ0LnByb3RvdHlwZS5yZW5kZXJTcGxpbmUgPSBTcGxpbmVDaGFydDtcclxuXHJcbkNoYXJ0LnByb3RvdHlwZS5yZW5kZXJDb2x1bW4gPSBDb2x1bW5DaGFydFxyXG5cclxuQ2hhcnQucHJvdG90eXBlLnJlbmRlclN0YWNrZWRDb2x1bW4gPSBTdGFja2VkQ29sdW1uQ2hhcnQ7XHJcblxyXG5DaGFydC5wcm90b3R5cGUucmVuZGVyU3RhY2tlZENvbHVtbjEwMCA9IFN0YWNrZWRDb2x1bW4xMDBDaGFydDtcclxuXHJcbkNoYXJ0LnByb3RvdHlwZS5yZW5kZXJCYXIgPSBCYXJDaGFydDtcclxuXHJcbkNoYXJ0LnByb3RvdHlwZS5yZW5kZXJTdGFja2VkQmFyID0gU3RhY2tlZEJhckNoYXJ0O1xyXG5cclxuQ2hhcnQucHJvdG90eXBlLnJlbmRlclN0YWNrZWRCYXIxMDAgPSBTdGFja2VkQmFyMTAwQ2hhcnQ7XHJcblxyXG5DaGFydC5wcm90b3R5cGUucmVuZGVyQXJlYSA9IEFyZWFDaGFydDtcclxuXHJcbkNoYXJ0LnByb3RvdHlwZS5yZW5kZXJTcGxpbmVBcmVhID0gU3BsaW5lQXJlYUNoYXJ0O1xyXG5cclxuQ2hhcnQucHJvdG90eXBlLnJlbmRlclN0ZXBBcmVhID0gU3RlcEFyZWFDaGFydDtcclxuXHJcbkNoYXJ0LnByb3RvdHlwZS5yZW5kZXJTdGFja2VkQXJlYSA9IFN0YWNrZWRBcmVhQ2hhcnQ7XHJcblxyXG5DaGFydC5wcm90b3R5cGUucmVuZGVyU3RhY2tlZEFyZWExMDAgPSBTdGFja2VkQXJlYTEwMENoYXJ0O1xyXG5cclxuQ2hhcnQucHJvdG90eXBlLnJlbmRlckJ1YmJsZSA9IEJ1YmJsZUNoYXJ0O1xyXG5cclxuQ2hhcnQucHJvdG90eXBlLnJlbmRlclNjYXR0ZXIgPSBTY2F0dGVyQ2hhcnQ7XHJcblxyXG5DaGFydC5wcm90b3R5cGUucmVuZGVyQ2FuZGxlc3RpY2sgPSBDYW5kbGVzdGlja0NoYXJ0O1xyXG5cclxuQ2hhcnQucHJvdG90eXBlLnJlbmRlclJhbmdlQ29sdW1uID0gUmFuZ2VDb2x1bW5DaGFydDtcclxuXHJcbkNoYXJ0LnByb3RvdHlwZS5yZW5kZXJSYW5nZUJhciA9IFJhbmdlQmFyQ2hhcnQ7XHJcblxyXG5DaGFydC5wcm90b3R5cGUucmVuZGVyUmFuZ2VBcmVhID0gUmFuZ2VBcmVhQ2hhcnQ7XHJcblxyXG5DaGFydC5wcm90b3R5cGUucmVuZGVyUmFuZ2VTcGxpbmVBcmVhID0gUmFuZ2VTcGxpbmVBcmVhQ2hhcnQ7XHJcblxyXG5DaGFydC5wcm90b3R5cGUucmVuZGVyUGllID0gUGllQ2hhcnQ7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDaGFydDtcclxuIiwiXHJcbmltcG9ydCBDYW52YXNKU09iamVjdCBmcm9tICcuL2NhbnZhc2pzJztcclxuaW1wb3J0IHtleHRlbmR9IGZyb20gJy4uL2hlbHBlcnMvdXRpbHMnO1xyXG5pbXBvcnQge2N1bHR1cmVzfSBmcm9tICcuLi9jb25zdGFudHMvY3VsdHVyZSc7XHJcblxyXG5mdW5jdGlvbiBDdWx0dXJlSW5mbyhjdWx0dXJlKSB7XHJcblxyXG4gIHZhciBjdWx0dXJlSW5mbztcclxuXHJcbiAgaWYgKGN1bHR1cmUgJiYgY3VsdHVyZXNbY3VsdHVyZV0pIGN1bHR1cmVJbmZvID0gY3VsdHVyZXNbY3VsdHVyZV07XHJcblxyXG4gIEN1bHR1cmVJbmZvLmJhc2UuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBcIkN1bHR1cmVJbmZvXCIsIGN1bHR1cmVJbmZvKTtcclxuXHJcbn1cclxuXHJcbmV4dGVuZChDdWx0dXJlSW5mbywgQ2FudmFzSlNPYmplY3QpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ3VsdHVyZUluZm87XHJcbiIsIlxyXG5pbXBvcnQgQ2FudmFzSlNPYmplY3QgZnJvbSAnLi9jYW52YXNqcyc7XHJcbmltcG9ydCB7ZXh0ZW5kLCBnZXRQcm9wZXJ0eX0gZnJvbSAnLi4vaGVscGVycy91dGlscyc7XHJcblxyXG5mdW5jdGlvbiBEYXRhU2VyaWVzKGNoYXJ0LCBvcHRpb25zLCB0aGVtZSwgaW5kZXgsIGlkKSB7XHJcbiAgRGF0YVNlcmllcy5iYXNlLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgXCJEYXRhU2VyaWVzXCIsIG9wdGlvbnMsIHRoZW1lKTtcclxuXHJcbiAgdGhpcy5jaGFydCA9IGNoYXJ0O1xyXG4gIHRoaXMuY2FudmFzID0gY2hhcnQuY2FudmFzO1xyXG4gIHRoaXMuX2N0eCA9IGNoYXJ0LmNhbnZhcy5jdHg7XHJcbiAgdGhpcy5pbmRleCA9IGluZGV4O1xyXG4gIHRoaXMubm9EYXRhUG9pbnRzSW5QbG90QXJlYSA9IDA7XHJcbiAgLy90aGlzLm1heFdpZHRoSW5YID0gMDtcclxuICB0aGlzLmlkID0gaWQ7XHJcbiAgdGhpcy5jaGFydC5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtpZF0gPSB7XHJcbiAgICBpZDogaWQsIG9iamVjdFR5cGU6IFwiZGF0YVNlcmllc1wiLCBkYXRhU2VyaWVzSW5kZXg6IGluZGV4XHJcbiAgfVxyXG4gIHRoaXMuZGF0YVBvaW50SWRzID0gW107XHJcbiAgdGhpcy5wbG90VW5pdCA9IFtdO1xyXG5cclxuICB0aGlzLmF4aXNYID0gbnVsbDtcclxuICB0aGlzLmF4aXNZID0gbnVsbDtcclxuXHJcbiAgaWYgKHRoaXMuZmlsbE9wYWNpdHkgPT09IG51bGwpIHtcclxuICAgIGlmICh0aGlzLnR5cGUubWF0Y2goL2FyZWEvaSkpXHJcbiAgICAgIHRoaXMuZmlsbE9wYWNpdHkgPSAuNztcclxuICAgIGVsc2VcclxuICAgICAgdGhpcy5maWxsT3BhY2l0eSA9IDE7XHJcbiAgfVxyXG5cclxuXHJcbiAgdGhpcy5heGlzUGxhY2VtZW50ID0gdGhpcy5nZXREZWZhdWx0QXhpc1BsYWNlbWVudCgpO1xyXG5cclxuICBpZiAodHlwZW9mICh0aGlzLl9vcHRpb25zLmluZGV4TGFiZWxGb250U2l6ZSkgPT09IFwidW5kZWZpbmVkXCIpIHtcclxuXHJcbiAgICB0aGlzLmluZGV4TGFiZWxGb250U2l6ZSA9IHRoaXMuY2hhcnQuZ2V0QXV0b0ZvbnRTaXplKHRoaXMuaW5kZXhMYWJlbEZvbnRTaXplKTtcclxuICB9XHJcbn1cclxuXHJcbmV4dGVuZChEYXRhU2VyaWVzLCBDYW52YXNKU09iamVjdCk7XHJcblxyXG4vL1N0YXRpYyBNZXRob2QgdGhhdCByZXR1cm5zIHRoZSBheGlzUGxhY2VtZW50IGZvciBhIGdpdmVuIENoYXJ0VHlwZS4gUmV0dXJucyBvbmUgb2YgXCJub3JtYWxcIiwgXCJ4eVN3YXBwZWRcIiwgXCJub25lXCJcclxuRGF0YVNlcmllcy5wcm90b3R5cGUuZ2V0RGVmYXVsdEF4aXNQbGFjZW1lbnQgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gIC8vaWYgKCF0aGlzLnZpc2libGUpXHJcbiAgLy9cdHJldHVybiBcIm5vbmVcIjtcclxuXHJcbiAgLy90eXBlID0gdGhpcy50eXBlLnRvTG93ZXJDYXNlKCk7XHJcbiAgdmFyIHR5cGUgPSB0aGlzLnR5cGU7XHJcblxyXG4gIGlmICh0eXBlID09PSBcImNvbHVtblwiIHx8IHR5cGUgPT09IFwibGluZVwiIHx8IHR5cGUgPT09IFwic3RlcExpbmVcIiB8fCB0eXBlID09PSBcInNwbGluZVwiIHx8IHR5cGUgPT09IFwiYXJlYVwiIHx8IHR5cGUgPT09IFwic3RlcEFyZWFcIiB8fCB0eXBlID09PSBcInNwbGluZUFyZWFcIiB8fCB0eXBlID09PSBcInN0YWNrZWRDb2x1bW5cIiB8fCB0eXBlID09PSBcInN0YWNrZWRMaW5lXCIgfHwgdHlwZSA9PT0gXCJidWJibGVcIiB8fCB0eXBlID09PSBcInNjYXR0ZXJcIlxyXG4gICAgfHwgdHlwZSA9PT0gXCJzdGFja2VkQXJlYVwiIHx8IHR5cGUgPT09IFwic3RhY2tlZENvbHVtbjEwMFwiIHx8IHR5cGUgPT09IFwic3RhY2tlZExpbmUxMDBcIiB8fCB0eXBlID09PSBcInN0YWNrZWRBcmVhMTAwXCJcclxuICAgIHx8IHR5cGUgPT09IFwiY2FuZGxlc3RpY2tcIiB8fCB0eXBlID09PSBcIm9obGNcIiB8fCB0eXBlID09PSBcInJhbmdlQ29sdW1uXCIgfHwgdHlwZSA9PT0gXCJyYW5nZUFyZWFcIiB8fCB0eXBlID09PSBcInJhbmdlU3BsaW5lQXJlYVwiKSB7XHJcbiAgICByZXR1cm4gXCJub3JtYWxcIjtcclxuICB9XHJcbiAgZWxzZSBpZiAodHlwZSA9PT0gXCJiYXJcIiB8fCB0eXBlID09PSBcInN0YWNrZWRCYXJcIiB8fCB0eXBlID09PSBcInN0YWNrZWRCYXIxMDBcIiB8fCB0eXBlID09PSBcInJhbmdlQmFyXCIpIHtcclxuXHJcbiAgICByZXR1cm4gXCJ4eVN3YXBwZWRcIjtcclxuICB9XHJcbiAgZWxzZSBpZiAodHlwZSA9PT0gXCJwaWVcIiB8fCB0eXBlID09PSBcImRvdWdobnV0XCIgfHwgdHlwZSA9PT0gXCJmdW5uZWxcIikge1xyXG4gICAgcmV0dXJuIFwibm9uZVwiO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB3aW5kb3cuY29uc29sZS5sb2coXCJVbmtub3duIENoYXJ0IFR5cGU6IFwiICsgdHlwZSk7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn1cclxuXHJcbkRhdGFTZXJpZXMuZ2V0RGVmYXVsdExlZ2VuZE1hcmtlciA9IGZ1bmN0aW9uICh0eXBlKSB7XHJcblxyXG4gIC8vdHlwZSA9IHR5cGUudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgaWYgKHR5cGUgPT09IFwiY29sdW1uXCIgfHwgdHlwZSA9PT0gXCJzdGFja2VkQ29sdW1uXCIgfHwgdHlwZSA9PT0gXCJzdGFja2VkTGluZVwiIHx8IHR5cGUgPT09IFwiYmFyXCIgfHwgdHlwZSA9PT0gXCJzdGFja2VkQmFyXCIgfHwgdHlwZSA9PT0gXCJzdGFja2VkQmFyMTAwXCJcclxuICAgIHx8IHR5cGUgPT09IFwiYnViYmxlXCIgfHwgdHlwZSA9PT0gXCJzY2F0dGVyXCJcclxuICAgIHx8IHR5cGUgPT09IFwic3RhY2tlZENvbHVtbjEwMFwiIHx8IHR5cGUgPT09IFwic3RhY2tlZExpbmUxMDBcIiB8fCB0eXBlID09PSBcInN0ZXBBcmVhXCJcclxuICAgIHx8IHR5cGUgPT09IFwiY2FuZGxlc3RpY2tcIiB8fCB0eXBlID09PSBcIm9obGNcIiB8fCB0eXBlID09PSBcInJhbmdlQ29sdW1uXCIgfHwgdHlwZSA9PT0gXCJyYW5nZUJhclwiIHx8IHR5cGUgPT09IFwicmFuZ2VBcmVhXCIgfHwgdHlwZSA9PT0gXCJyYW5nZVNwbGluZUFyZWFcIikge1xyXG4gICAgcmV0dXJuIFwic3F1YXJlXCI7XHJcbiAgfVxyXG4gIGVsc2UgaWYgKHR5cGUgPT09IFwibGluZVwiIHx8IHR5cGUgPT09IFwic3RlcExpbmVcIiB8fCB0eXBlID09PSBcInNwbGluZVwiIHx8IHR5cGUgPT09IFwicGllXCIgfHwgdHlwZSA9PT0gXCJkb3VnaG51dFwiIHx8IHR5cGUgPT09IFwiZnVubmVsXCIpIHtcclxuICAgIHJldHVybiBcImNpcmNsZVwiO1xyXG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJhcmVhXCIgfHwgdHlwZSA9PT0gXCJzcGxpbmVBcmVhXCIgfHwgdHlwZSA9PT0gXCJzdGFja2VkQXJlYVwiIHx8IHR5cGUgPT09IFwic3RhY2tlZEFyZWExMDBcIikge1xyXG4gICAgcmV0dXJuIFwidHJpYW5nbGVcIlxyXG4gIH0gZWxzZSB7XHJcbiAgICB3aW5kb3cuY29uc29sZS5sb2coXCJVbmtub3duIENoYXJ0IFR5cGU6IFwiICsgdHlwZSk7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn1cclxuXHJcbi8vRmluZHMgZGF0YVBvaW50IHdpdGggdGhlIGdpdmVuIHggdmFsdWUuIElmIGZpbmRDbG9zZXN0IGlzIHNldCwgZmluZHMgZGF0YVBvaW50IHdpdGggY2xvc2VzdCB4IHZhbHVlLlxyXG4vL1JldHVybnMgc2VhcmNoUmVzdWx0IG9iamVjdCBpZiBmb3VuZCwgZWxzZSByZXR1cm5zIG51bGxcclxuRGF0YVNlcmllcy5wcm90b3R5cGUuZ2V0RGF0YVBvaW50QXRYID0gZnVuY3Rpb24gKHgsIGZpbmRDbG9zZXN0KSB7XHJcblxyXG4gIGlmICghdGhpcy5kYXRhUG9pbnRzIHx8IHRoaXMuZGF0YVBvaW50cy5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xyXG5cclxuICB2YXIgc2VhcmNoUmVzdWx0ID0ge1xyXG4gICAgZGF0YVBvaW50OiBudWxsLCBkaXN0YW5jZTogSW5maW5pdHksIGluZGV4OiBOYU5cclxuICB9O1xyXG4gIHZhciBkYXRhUG9pbnQgPSBudWxsO1xyXG5cclxuICB2YXIgaiA9IDA7XHJcbiAgdmFyIGkgPSAwO1xyXG4gIHZhciBkaXJlY3Rpb24gPSAxOyAvLyArMSBmb3IgZm93YXJkIGFuZCAtMSBmb3IgYmFja3dhcmQuXHJcblxyXG4gIHZhciBtaW5pbXVtWERpc3RhbmNlID0gSW5maW5pdHk7XHJcbiAgdmFyIGZvcndhcmRNaXNzQ291bnQgPSAwLCBiYWNrd2FyZE1pc3NDb3VudCA9IDA7XHJcbiAgdmFyIG1heE1pc3NDb3VudCA9IDEwMDA7XHJcbiAgdmFyIHNlYXJjaFN0YXJ0SW5kZXggPSAwO1xyXG5cclxuICBpZiAodGhpcy5jaGFydC5wbG90SW5mby5heGlzUGxhY2VtZW50ICE9PSBcIm5vbmVcIikge1xyXG5cclxuICAgIC8vdmFyIHhSYW5nZSA9ICh0aGlzLmRhdGFQb2ludHNbdGhpcy5kYXRhUG9pbnRzLmxlbmd0aCAtIDFdLnggLSB0aGlzLmRhdGFQb2ludHNbMF0ueCk7XHJcblxyXG4gICAgLy9pZiAoeFJhbmdlID4gMClcclxuICAgIC8vXHRzZWFyY2hTdGFydEluZGV4ID0gKCh0aGlzLmRhdGFQb2ludHMubGVuZ3RoIC0gMSkgLyB4UmFuZ2UgKiAoeCAtIHRoaXMuZGF0YVBvaW50c1swXS54KSkgPj4gMDtcclxuICAgIC8vZWxzZVxyXG4gICAgLy9cdHNlYXJjaFN0YXJ0SW5kZXggPSAwO1xyXG5cclxuICAgIHZhciB4UmFuZ2UgPSAodGhpcy5kYXRhUG9pbnRzW3RoaXMuZGF0YVBvaW50cy5sZW5ndGggLSAxXS54IC0gdGhpcy5kYXRhUG9pbnRzWzBdLngpO1xyXG5cclxuICAgIGlmICh4UmFuZ2UgPiAwKVxyXG4gICAgICBzZWFyY2hTdGFydEluZGV4ID0gTWF0aC5taW4oTWF0aC5tYXgoKCh0aGlzLmRhdGFQb2ludHMubGVuZ3RoIC0gMSkgLyB4UmFuZ2UgKiAoeCAtIHRoaXMuZGF0YVBvaW50c1swXS54KSkgPj4gMCwgMCksIHRoaXMuZGF0YVBvaW50cy5sZW5ndGgpO1xyXG4gICAgZWxzZVxyXG4gICAgICBzZWFyY2hTdGFydEluZGV4ID0gMDtcclxuXHJcbiAgICAvL3NlYXJjaFN0YXJ0SW5kZXggPSAoKHRoaXMuZGF0YVBvaW50c1t0aGlzLmRhdGFQb2ludHMubGVuZ3RoIC0gMV0ueCAtIHRoaXMuZGF0YVBvaW50c1swXS54KSAvIHRoaXMuZGF0YVBvaW50cy5sZW5ndGggKiAoeCAtIHRoaXMuZGF0YVBvaW50c1swXS54KSkgPj4gMDtcclxuICB9XHJcblxyXG4gIHdoaWxlICh0cnVlKSB7XHJcblxyXG4gICAgaSA9IChkaXJlY3Rpb24gPiAwKSA/IHNlYXJjaFN0YXJ0SW5kZXggKyBqIDogc2VhcmNoU3RhcnRJbmRleCAtIGo7XHJcblxyXG4gICAgaWYgKGkgPj0gMCAmJiBpIDwgdGhpcy5kYXRhUG9pbnRzLmxlbmd0aCkge1xyXG5cclxuICAgICAgZGF0YVBvaW50ID0gdGhpcy5kYXRhUG9pbnRzW2ldO1xyXG5cclxuICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5hYnMoZGF0YVBvaW50LnggLSB4KTtcclxuXHJcbiAgICAgIGlmIChkaXN0YW5jZSA8IHNlYXJjaFJlc3VsdC5kaXN0YW5jZSkge1xyXG4gICAgICAgIHNlYXJjaFJlc3VsdC5kYXRhUG9pbnQgPSBkYXRhUG9pbnQ7XHJcbiAgICAgICAgc2VhcmNoUmVzdWx0LmRpc3RhbmNlID0gZGlzdGFuY2U7XHJcbiAgICAgICAgc2VhcmNoUmVzdWx0LmluZGV4ID0gaTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIHhEaXN0YW5jZSA9IE1hdGguYWJzKGRhdGFQb2ludC54IC0geCk7XHJcbiAgICAgIGlmICh4RGlzdGFuY2UgPD0gbWluaW11bVhEaXN0YW5jZSlcclxuICAgICAgICBtaW5pbXVtWERpc3RhbmNlID0geERpc3RhbmNlO1xyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBpZiAoZGlyZWN0aW9uID4gMClcclxuICAgICAgICAgIGZvcndhcmRNaXNzQ291bnQrKztcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICBiYWNrd2FyZE1pc3NDb3VudCsrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZm9yd2FyZE1pc3NDb3VudCA+IG1heE1pc3NDb3VudCAmJiBiYWNrd2FyZE1pc3NDb3VudCA+IG1heE1pc3NDb3VudClcclxuICAgICAgICBicmVhaztcclxuXHJcblxyXG4gICAgfSBlbHNlIGlmIChzZWFyY2hTdGFydEluZGV4IC0gaiA8IDAgJiYgc2VhcmNoU3RhcnRJbmRleCArIGogPj0gdGhpcy5kYXRhUG9pbnRzLmxlbmd0aClcclxuICAgICAgYnJlYWs7XHJcblxyXG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gLTEpIHtcclxuICAgICAgaisrO1xyXG4gICAgICBkaXJlY3Rpb24gPSAxO1xyXG4gICAgfSBlbHNlXHJcbiAgICAgIGRpcmVjdGlvbiA9IC0xO1xyXG4gIH1cclxuXHJcblxyXG4gIGlmICghZmluZENsb3Nlc3QgJiYgc2VhcmNoUmVzdWx0LmRhdGFQb2ludC54ID09PSB4KVxyXG4gICAgcmV0dXJuIHNlYXJjaFJlc3VsdDtcclxuICBlbHNlIGlmIChmaW5kQ2xvc2VzdCAmJiBzZWFyY2hSZXN1bHQuZGF0YVBvaW50ICE9PSBudWxsKVxyXG4gICAgcmV0dXJuIHNlYXJjaFJlc3VsdDtcclxuICBlbHNlXHJcbiAgICByZXR1cm4gbnVsbDtcclxufVxyXG5cclxuLy8geCAmIHkgc2hvdWxkIGJlIGluIHBpeGVscy4gQ2FuIGJlIHVzZWQgb25seSBhZnRlciByZW5kZXJpbmcgdGhlIGNoYXJ0LlxyXG5EYXRhU2VyaWVzLnByb3RvdHlwZS5nZXREYXRhUG9pbnRBdFhZID0gZnVuY3Rpb24gKHgsIHksIGdldENsb3Nlc3QpIHtcclxuXHJcbiAgaWYgKCF0aGlzLmRhdGFQb2ludHMgfHwgdGhpcy5kYXRhUG9pbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XHJcblxyXG4gIGdldENsb3Nlc3QgPSBnZXRDbG9zZXN0IHx8IGZhbHNlO1xyXG4gIHZhciByZXN1bHRzID0gW107XHJcbiAgdmFyIGogPSAwLCBpID0gMDtcclxuICB2YXIgZGlyZWN0aW9uID0gMTsgLy8gKzEgZm9yIGZvd2FyZCBhbmQgLTEgZm9yIGJhY2t3YXJkLlxyXG4gIHZhciBmb3VuZERhdGFQb2ludCA9IGZhbHNlO1xyXG4gIHZhciBtaW5pbXVtWERpc3RhbmNlID0gSW5maW5pdHk7XHJcbiAgdmFyIGZvcndhcmRNaXNzQ291bnQgPSAwLCBiYWNrd2FyZE1pc3NDb3VudCA9IDA7XHJcbiAgdmFyIG1heE1pc3NDb3VudCA9IDEwMDA7XHJcbiAgdmFyIHNlYXJjaFN0YXJ0SW5kZXggPSAwO1xyXG5cclxuICBpZiAodGhpcy5jaGFydC5wbG90SW5mby5heGlzUGxhY2VtZW50ICE9PSBcIm5vbmVcIikge1xyXG4gICAgdmFyIHh2YWwgPSB0aGlzLmNoYXJ0LmF4aXNYLmdldFhWYWx1ZUF0KHsgeDogeCwgeTogeSB9KTtcclxuXHJcbiAgICB2YXIgeFJhbmdlID0gKHRoaXMuZGF0YVBvaW50c1t0aGlzLmRhdGFQb2ludHMubGVuZ3RoIC0gMV0ueCAtIHRoaXMuZGF0YVBvaW50c1swXS54KTtcclxuXHJcbiAgICBpZiAoeFJhbmdlID4gMClcclxuICAgICAgc2VhcmNoU3RhcnRJbmRleCA9IE1hdGgubWluKE1hdGgubWF4KCgodGhpcy5kYXRhUG9pbnRzLmxlbmd0aCAtIDEpIC8geFJhbmdlICogKHh2YWwgLSB0aGlzLmRhdGFQb2ludHNbMF0ueCkpID4+IDAsIDApLCB0aGlzLmRhdGFQb2ludHMubGVuZ3RoKTtcclxuICAgIGVsc2VcclxuICAgICAgc2VhcmNoU3RhcnRJbmRleCA9IDA7XHJcblxyXG4gICAgLy92YXIgeFJhbmdlID0gKHRoaXMuYXhpc1guX2Fic29sdXRlTWF4aW11bSAtIHRoaXMuYXhpc1guX2Fic29sdXRlTWluaW11bSk7XHJcblxyXG4gICAgLy9pZiAoeFJhbmdlID4gMClcclxuICAgIC8vXHRzZWFyY2hTdGFydEluZGV4ID0gTWF0aC5taW4oTWF0aC5tYXgoKCh0aGlzLmRhdGFQb2ludHMubGVuZ3RoIC0gMSkgLyB4UmFuZ2UgKiAoeHZhbCAtIHRoaXMuYXhpc1guX2Fic29sdXRlTWluaW11bSkpID4+IDAsIDApLCB0aGlzLmRhdGFQb2ludHMubGVuZ3RoKTtcclxuICAgIC8vZWxzZVxyXG4gICAgLy9cdHNlYXJjaFN0YXJ0SW5kZXggPSAwO1xyXG4gIH1cclxuXHJcbiAgd2hpbGUgKHRydWUpIHtcclxuXHJcbiAgICAvL2kgPSBzZWFyY2hTdGFydEluZGV4ICsgKGogKiBkaXJlY3Rpb24pO1xyXG4gICAgaSA9IChkaXJlY3Rpb24gPiAwKSA/IHNlYXJjaFN0YXJ0SW5kZXggKyBqIDogc2VhcmNoU3RhcnRJbmRleCAtIGo7XHJcblxyXG4gICAgaWYgKGkgPj0gMCAmJiBpIDwgdGhpcy5kYXRhUG9pbnRzLmxlbmd0aCkge1xyXG5cclxuICAgICAgdmFyIGlkID0gdGhpcy5kYXRhUG9pbnRJZHNbaV07XHJcbiAgICAgIHZhciB2aXN1YWxJbmZvID0gdGhpcy5jaGFydC5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtpZF07XHJcbiAgICAgIHZhciBkYXRhUG9pbnQgPSB0aGlzLmRhdGFQb2ludHNbaV07XHJcbiAgICAgIHZhciBkaXN0YW5jZSA9IG51bGw7XHJcblxyXG4gICAgICBpZiAodmlzdWFsSW5mbykge1xyXG5cclxuICAgICAgICBzd2l0Y2ggKHRoaXMudHlwZSkge1xyXG5cclxuICAgICAgICAgIGNhc2UgXCJjb2x1bW5cIjpcclxuICAgICAgICAgIGNhc2UgXCJzdGFja2VkQ29sdW1uXCI6XHJcbiAgICAgICAgICBjYXNlIFwic3RhY2tlZENvbHVtbjEwMFwiOlxyXG4gICAgICAgICAgY2FzZSBcImJhclwiOlxyXG4gICAgICAgICAgY2FzZSBcInN0YWNrZWRCYXJcIjpcclxuICAgICAgICAgIGNhc2UgXCJzdGFja2VkQmFyMTAwXCI6XHJcbiAgICAgICAgICBjYXNlIFwicmFuZ2VDb2x1bW5cIjpcclxuICAgICAgICAgIGNhc2UgXCJyYW5nZUJhclwiOlxyXG5cclxuICAgICAgICAgICAgaWYgKHggPj0gdmlzdWFsSW5mby54MSAmJiB4IDw9IHZpc3VhbEluZm8ueDIgJiYgeSA+PSB2aXN1YWxJbmZvLnkxICYmIHkgPD0gdmlzdWFsSW5mby55Mikge1xyXG4gICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBkYXRhUG9pbnQ6IGRhdGFQb2ludCxcclxuICAgICAgICAgICAgICAgIGRhdGFQb2ludEluZGV4OiBpLFxyXG4gICAgICAgICAgICAgICAgZGF0YVNlcmllczogdGhpcyxcclxuICAgICAgICAgICAgICAgIGRpc3RhbmNlOiBNYXRoLm1pbihNYXRoLmFicyh2aXN1YWxJbmZvLngxIC0geCksIE1hdGguYWJzKHZpc3VhbEluZm8ueDIgLSB4KSwgTWF0aC5hYnModmlzdWFsSW5mby55MSAtIHkpLCBNYXRoLmFicyh2aXN1YWxJbmZvLnkyIC0geSkpXHJcbiAgICAgICAgICAgICAgICAvL2Rpc3RhbmNlOjBcclxuICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgZm91bmREYXRhUG9pbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgIGNhc2UgXCJsaW5lXCI6XHJcbiAgICAgICAgICBjYXNlIFwic3RlcExpbmVcIjpcclxuICAgICAgICAgIGNhc2UgXCJzcGxpbmVcIjpcclxuICAgICAgICAgIGNhc2UgXCJhcmVhXCI6XHJcbiAgICAgICAgICBjYXNlIFwic3RlcEFyZWFcIjpcclxuICAgICAgICAgIGNhc2UgXCJzdGFja2VkQXJlYVwiOlxyXG4gICAgICAgICAgY2FzZSBcInN0YWNrZWRBcmVhMTAwXCI6XHJcbiAgICAgICAgICBjYXNlIFwic3BsaW5lQXJlYVwiOlxyXG4gICAgICAgICAgY2FzZSBcInNjYXR0ZXJcIjpcclxuICAgICAgICAgICAgdmFyIG1hcmtlclNpemUgPSBnZXRQcm9wZXJ0eShcIm1hcmtlclNpemVcIiwgZGF0YVBvaW50LCB0aGlzKSB8fCA0O1xyXG4gICAgICAgICAgICB2YXIgc25hcERpc3RhbmNlID0gZ2V0Q2xvc2VzdCA/IDIwIDogbWFya2VyU2l6ZTtcclxuXHJcbiAgICAgICAgICAgIGRpc3RhbmNlID0gTWF0aC5zcXJ0KE1hdGgucG93KHZpc3VhbEluZm8ueDEgLSB4LCAyKSArIE1hdGgucG93KHZpc3VhbEluZm8ueTEgLSB5LCAyKSk7XHJcbiAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8PSBzbmFwRGlzdGFuY2UpIHtcclxuICAgICAgICAgICAgICByZXN1bHRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgZGF0YVBvaW50OiBkYXRhUG9pbnQsXHJcbiAgICAgICAgICAgICAgICBkYXRhUG9pbnRJbmRleDogaSxcclxuICAgICAgICAgICAgICAgIGRhdGFTZXJpZXM6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBkaXN0YW5jZTogZGlzdGFuY2VcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHhEaXN0YW5jZSA9IE1hdGguYWJzKHZpc3VhbEluZm8ueDEgLSB4KTtcclxuICAgICAgICAgICAgaWYgKHhEaXN0YW5jZSA8PSBtaW5pbXVtWERpc3RhbmNlKVxyXG4gICAgICAgICAgICAgIG1pbmltdW1YRGlzdGFuY2UgPSB4RGlzdGFuY2U7XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPiAwKVxyXG4gICAgICAgICAgICAgICAgZm9yd2FyZE1pc3NDb3VudCsrO1xyXG4gICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIGJhY2t3YXJkTWlzc0NvdW50Kys7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8PSBtYXJrZXJTaXplIC8gMikge1xyXG4gICAgICAgICAgICAgIGZvdW5kRGF0YVBvaW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgY2FzZSBcInJhbmdlQXJlYVwiOlxyXG4gICAgICAgICAgY2FzZSBcInJhbmdlU3BsaW5lQXJlYVwiOlxyXG5cclxuICAgICAgICAgICAgdmFyIG1hcmtlclNpemUgPSBnZXRQcm9wZXJ0eShcIm1hcmtlclNpemVcIiwgZGF0YVBvaW50LCB0aGlzKSB8fCA0O1xyXG4gICAgICAgICAgICB2YXIgc25hcERpc3RhbmNlID0gZ2V0Q2xvc2VzdCA/IDIwIDogbWFya2VyU2l6ZTtcclxuXHJcbiAgICAgICAgICAgIGRpc3RhbmNlID0gTWF0aC5taW4oTWF0aC5zcXJ0KE1hdGgucG93KHZpc3VhbEluZm8ueDEgLSB4LCAyKSArIE1hdGgucG93KHZpc3VhbEluZm8ueTEgLSB5LCAyKSksIE1hdGguc3FydChNYXRoLnBvdyh2aXN1YWxJbmZvLngxIC0geCwgMikgKyBNYXRoLnBvdyh2aXN1YWxJbmZvLnkyIC0geSwgMikpKTtcclxuICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDw9IHNuYXBEaXN0YW5jZSkge1xyXG4gICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBkYXRhUG9pbnQ6IGRhdGFQb2ludCxcclxuICAgICAgICAgICAgICAgIGRhdGFQb2ludEluZGV4OiBpLFxyXG4gICAgICAgICAgICAgICAgZGF0YVNlcmllczogdGhpcyxcclxuICAgICAgICAgICAgICAgIGRpc3RhbmNlOiBkaXN0YW5jZVxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgeERpc3RhbmNlID0gTWF0aC5hYnModmlzdWFsSW5mby54MSAtIHgpO1xyXG4gICAgICAgICAgICBpZiAoeERpc3RhbmNlIDw9IG1pbmltdW1YRGlzdGFuY2UpXHJcbiAgICAgICAgICAgICAgbWluaW11bVhEaXN0YW5jZSA9IHhEaXN0YW5jZTtcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA+IDApXHJcbiAgICAgICAgICAgICAgICBmb3J3YXJkTWlzc0NvdW50Kys7XHJcbiAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgYmFja3dhcmRNaXNzQ291bnQrKztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDw9IG1hcmtlclNpemUgLyAyKSB7XHJcbiAgICAgICAgICAgICAgZm91bmREYXRhUG9pbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICBjYXNlIFwiYnViYmxlXCI6XHJcbiAgICAgICAgICAgIHZhciBtYXJrZXJTaXplID0gdmlzdWFsSW5mby5zaXplO1xyXG4gICAgICAgICAgICBkaXN0YW5jZSA9IE1hdGguc3FydChNYXRoLnBvdyh2aXN1YWxJbmZvLngxIC0geCwgMikgKyBNYXRoLnBvdyh2aXN1YWxJbmZvLnkxIC0geSwgMikpO1xyXG4gICAgICAgICAgICBpZiAoZGlzdGFuY2UgPD0gbWFya2VyU2l6ZSAvIDIpIHtcclxuICAgICAgICAgICAgICByZXN1bHRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgZGF0YVBvaW50OiBkYXRhUG9pbnQsXHJcbiAgICAgICAgICAgICAgICBkYXRhUG9pbnRJbmRleDogaSxcclxuICAgICAgICAgICAgICAgIGRhdGFTZXJpZXM6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBkaXN0YW5jZTogZGlzdGFuY2VcclxuICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgZm91bmREYXRhUG9pbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgIGNhc2UgXCJwaWVcIjpcclxuICAgICAgICAgIGNhc2UgXCJkb3VnaG51dFwiOlxyXG4gICAgICAgICAgICB2YXIgY2VudGVyID0gdmlzdWFsSW5mby5jZW50ZXI7XHJcbiAgICAgICAgICAgIHZhciBpbm5lclJhZGl1cyA9IHRoaXMudHlwZSA9PT0gXCJkb3VnaG51dFwiID8gdmlzdWFsSW5mby5wZXJjZW50SW5uZXJSYWRpdXMgKiB2aXN1YWxJbmZvLnJhZGl1cyA6IDA7XHJcblxyXG4gICAgICAgICAgICBkaXN0YW5jZSA9IE1hdGguc3FydChNYXRoLnBvdyhjZW50ZXIueCAtIHgsIDIpICsgTWF0aC5wb3coY2VudGVyLnkgLSB5LCAyKSk7XHJcbiAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8IHZpc3VhbEluZm8ucmFkaXVzICYmIGRpc3RhbmNlID4gaW5uZXJSYWRpdXMpIHtcclxuXHJcbiAgICAgICAgICAgICAgdmFyIGRlbHRhWSA9IHkgLSBjZW50ZXIueTtcclxuICAgICAgICAgICAgICB2YXIgZGVsdGFYID0geCAtIGNlbnRlci54O1xyXG4gICAgICAgICAgICAgIHZhciBhbmdsZSA9IE1hdGguYXRhbjIoZGVsdGFZLCBkZWx0YVgpO1xyXG5cclxuICAgICAgICAgICAgICBpZiAoYW5nbGUgPCAwKVxyXG4gICAgICAgICAgICAgICAgYW5nbGUgKz0gTWF0aC5QSSAqIDI7XHJcblxyXG4gICAgICAgICAgICAgIGFuZ2xlID0gTnVtYmVyKCgoKGFuZ2xlIC8gTWF0aC5QSSAqIDE4MCAlIDM2MCkgKyAzNjApICUgMzYwKS50b0ZpeGVkKDEyKSk7XHJcbiAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhhbmdsZSk7XHJcblxyXG5cclxuICAgICAgICAgICAgICB2YXIgc3RhcnRBbmdsZSA9IE51bWJlcigoKCh2aXN1YWxJbmZvLnN0YXJ0QW5nbGUgLyBNYXRoLlBJICogMTgwICUgMzYwKSArIDM2MCkgJSAzNjApLnRvRml4ZWQoMTIpKTtcclxuICAgICAgICAgICAgICB2YXIgZW5kQW5nbGUgPSBOdW1iZXIoKCgodmlzdWFsSW5mby5lbmRBbmdsZSAvIE1hdGguUEkgKiAxODAgJSAzNjApICsgMzYwKSAlIDM2MCkudG9GaXhlZCgxMikpO1xyXG5cclxuICAgICAgICAgICAgICAvL1NvIHRoYXQgZGF0YSBwb2ludCBpcyBkZXRlY3RlZCB3aGVuIHRoZXJlIGlzIG9ubHkgb25lIGRhdGFQb2ludFxyXG4gICAgICAgICAgICAgIGlmIChlbmRBbmdsZSA9PT0gMCAmJiB2aXN1YWxJbmZvLmVuZEFuZ2xlID4gMSkge1xyXG4gICAgICAgICAgICAgICAgZW5kQW5nbGUgPSAzNjA7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBpZiAoc3RhcnRBbmdsZSA+PSBlbmRBbmdsZSAmJiBkYXRhUG9pbnQueSAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgZW5kQW5nbGUgKz0gMzYwO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChhbmdsZSA8IHN0YXJ0QW5nbGUpXHJcbiAgICAgICAgICAgICAgICAgIGFuZ2xlICs9IDM2MDtcclxuICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICBpZiAoYW5nbGUgPiBzdGFydEFuZ2xlICYmIGFuZ2xlIDwgZW5kQW5nbGUpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgIGRhdGFQb2ludDogZGF0YVBvaW50LFxyXG4gICAgICAgICAgICAgICAgICBkYXRhUG9pbnRJbmRleDogaSxcclxuICAgICAgICAgICAgICAgICAgZGF0YVNlcmllczogdGhpcyxcclxuICAgICAgICAgICAgICAgICAgZGlzdGFuY2U6IDBcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvdW5kRGF0YVBvaW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICBjYXNlIFwiY2FuZGxlc3RpY2tcIjpcclxuICAgICAgICAgICAgaWYgKCgoeCA+PSAodmlzdWFsSW5mby54MSAtIHZpc3VhbEluZm8uYm9yZGVyVGhpY2tuZXNzIC8gMikpICYmICh4IDw9ICh2aXN1YWxJbmZvLngyICsgdmlzdWFsSW5mby5ib3JkZXJUaGlja25lc3MgLyAyKSlcclxuICAgICAgICAgICAgICAmJiAoeSA+PSB2aXN1YWxJbmZvLnkyIC0gdmlzdWFsSW5mby5ib3JkZXJUaGlja25lc3MgLyAyKSAmJiAoeSA8PSB2aXN1YWxJbmZvLnkzICsgdmlzdWFsSW5mby5ib3JkZXJUaGlja25lc3MgLyAyKSlcclxuICAgICAgICAgICAgICB8fCAoTWF0aC5hYnModmlzdWFsSW5mby54MiAtIHggKyB2aXN1YWxJbmZvLngxIC0geCkgPCB2aXN1YWxJbmZvLmJvcmRlclRoaWNrbmVzcyAmJiAoeSA+PSB2aXN1YWxJbmZvLnkxICYmIHkgPD0gdmlzdWFsSW5mby55NCkpKSB7XHJcbiAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGRhdGFQb2ludDogZGF0YVBvaW50LFxyXG4gICAgICAgICAgICAgICAgZGF0YVBvaW50SW5kZXg6IGksXHJcbiAgICAgICAgICAgICAgICBkYXRhU2VyaWVzOiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgZGlzdGFuY2U6IE1hdGgubWluKE1hdGguYWJzKHZpc3VhbEluZm8ueDEgLSB4KSwgTWF0aC5hYnModmlzdWFsSW5mby54MiAtIHgpLCBNYXRoLmFicyh2aXN1YWxJbmZvLnkyIC0geSksIE1hdGguYWJzKHZpc3VhbEluZm8ueTMgLSB5KSlcclxuICAgICAgICAgICAgICAgIC8vZGlzdGFuY2U6MFxyXG4gICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICBmb3VuZERhdGFQb2ludCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgY2FzZSBcIm9obGNcIjpcclxuXHJcbiAgICAgICAgICAgIGlmICgoTWF0aC5hYnModmlzdWFsSW5mby54MiAtIHggKyB2aXN1YWxJbmZvLngxIC0geCkgPCB2aXN1YWxJbmZvLmJvcmRlclRoaWNrbmVzcyAmJiAoeSA+PSB2aXN1YWxJbmZvLnkyICYmIHkgPD0gdmlzdWFsSW5mby55MykpXHJcblxyXG4gICAgICAgICAgICAgIHx8ICh4ID49IHZpc3VhbEluZm8ueDEgJiYgKHggPD0gKHZpc3VhbEluZm8ueDIgKyB2aXN1YWxJbmZvLngxKSAvIDIpXHJcbiAgICAgICAgICAgICAgICAmJiAoeSA+PSB2aXN1YWxJbmZvLnkxIC0gdmlzdWFsSW5mby5ib3JkZXJUaGlja25lc3MgLyAyKSAmJiAoeSA8PSB2aXN1YWxJbmZvLnkxICsgdmlzdWFsSW5mby5ib3JkZXJUaGlja25lc3MgLyAyKSlcclxuXHJcbiAgICAgICAgICAgICAgfHwgKCh4ID49ICh2aXN1YWxJbmZvLngxICsgdmlzdWFsSW5mby54MikgLyAyKSAmJiAoeCA8PSB2aXN1YWxJbmZvLngyKVxyXG4gICAgICAgICAgICAgICAgJiYgKHkgPj0gdmlzdWFsSW5mby55NCAtIHZpc3VhbEluZm8uYm9yZGVyVGhpY2tuZXNzIC8gMikgJiYgKHkgPD0gdmlzdWFsSW5mby55NCArIHZpc3VhbEluZm8uYm9yZGVyVGhpY2tuZXNzIC8gMikpKSB7XHJcblxyXG4gICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBkYXRhUG9pbnQ6IGRhdGFQb2ludCxcclxuICAgICAgICAgICAgICAgIGRhdGFQb2ludEluZGV4OiBpLFxyXG4gICAgICAgICAgICAgICAgZGF0YVNlcmllczogdGhpcyxcclxuICAgICAgICAgICAgICAgIGRpc3RhbmNlOiBNYXRoLm1pbihNYXRoLmFicyh2aXN1YWxJbmZvLngxIC0geCksIE1hdGguYWJzKHZpc3VhbEluZm8ueDIgLSB4KSwgTWF0aC5hYnModmlzdWFsSW5mby55MiAtIHkpLCBNYXRoLmFicyh2aXN1YWxJbmZvLnkzIC0geSkpXHJcbiAgICAgICAgICAgICAgICAvL2Rpc3RhbmNlOjBcclxuICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgZm91bmREYXRhUG9pbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChmb3VuZERhdGFQb2ludCB8fCAoZm9yd2FyZE1pc3NDb3VudCA+IG1heE1pc3NDb3VudCAmJiBiYWNrd2FyZE1pc3NDb3VudCA+IG1heE1pc3NDb3VudCkpXHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG5cclxuICAgIH0gZWxzZSBpZiAoc2VhcmNoU3RhcnRJbmRleCAtIGogPCAwICYmIHNlYXJjaFN0YXJ0SW5kZXggKyBqID49IHRoaXMuZGF0YVBvaW50cy5sZW5ndGgpXHJcbiAgICAgIGJyZWFrO1xyXG5cclxuICAgIGlmIChkaXJlY3Rpb24gPT09IC0xKSB7XHJcbiAgICAgIGorKztcclxuICAgICAgZGlyZWN0aW9uID0gMTtcclxuICAgIH0gZWxzZVxyXG4gICAgICBkaXJlY3Rpb24gPSAtMTtcclxuXHJcbiAgfVxyXG5cclxuXHJcblxyXG4gIHZhciBjbG9zZXN0UmVzdWx0ID0gbnVsbDtcclxuXHJcbiAgZm9yICh2YXIgbSA9IDA7IG0gPCByZXN1bHRzLmxlbmd0aDsgbSsrKSB7XHJcbiAgICBpZiAoIWNsb3Nlc3RSZXN1bHQpIHtcclxuICAgICAgY2xvc2VzdFJlc3VsdCA9IHJlc3VsdHNbbV07XHJcbiAgICB9IGVsc2UgaWYgKHJlc3VsdHNbbV0uZGlzdGFuY2UgPD0gY2xvc2VzdFJlc3VsdC5kaXN0YW5jZSkge1xyXG4gICAgICBjbG9zZXN0UmVzdWx0ID0gcmVzdWx0c1ttXTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vaWYgKHdpbmRvdy5jb25zb2xlKVxyXG4gIC8vXHR3aW5kb3cuY29uc29sZS5sb2coXCJmb3J3YXJkTWlzc0NvdW50OiBcIiArIGZvcndhcmRNaXNzQ291bnQgKyBcIjsgYmFja3dhcmRNaXNzQ291bnQ6IFwiICsgYmFja3dhcmRNaXNzQ291bnQgKyBcIjsgZ2V0Q2xvc2VzdDogXCIgKyBnZXRDbG9zZXN0KTtcclxuXHJcbiAgLy9pZiAod2luZG93LmNvbnNvbGUgJiYgY2xvc2VzdFJlc3VsdClcclxuICAvLyAgICB3aW5kb3cuY29uc29sZS5sb2coaiArIFwiOiBkaXN0YW5jZSA9IFwiICsgY2xvc2VzdFJlc3VsdC5kaXN0YW5jZSk7XHJcblxyXG4gIHJldHVybiBjbG9zZXN0UmVzdWx0O1xyXG59XHJcblxyXG5EYXRhU2VyaWVzLnByb3RvdHlwZS5nZXRNYXJrZXJQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKGluZGV4LCB4LCB5LCBjdHgpIHtcclxuICB2YXIgZGF0YVBvaW50cyA9IHRoaXMuZGF0YVBvaW50cztcclxuICB2YXIgZGF0YVNlcmllcyA9IHRoaXM7XHJcblxyXG4gIHZhciBtYXJrZXJDb2xvciA9IGRhdGFQb2ludHNbaW5kZXhdLm1hcmtlckNvbG9yID8gZGF0YVBvaW50c1tpbmRleF0ubWFya2VyQ29sb3IgOiBkYXRhU2VyaWVzLm1hcmtlckNvbG9yID8gZGF0YVNlcmllcy5tYXJrZXJDb2xvciA6IGRhdGFQb2ludHNbaW5kZXhdLmNvbG9yID8gZGF0YVBvaW50c1tpbmRleF0uY29sb3IgOiBkYXRhU2VyaWVzLmNvbG9yID8gZGF0YVNlcmllcy5jb2xvciA6IGRhdGFTZXJpZXMuX2NvbG9yU2V0W2luZGV4ICUgZGF0YVNlcmllcy5fY29sb3JTZXQubGVuZ3RoXTtcclxuICB2YXIgbWFya2VyQm9yZGVyQ29sb3IgPSBkYXRhUG9pbnRzW2luZGV4XS5tYXJrZXJCb3JkZXJDb2xvciA/IGRhdGFQb2ludHNbaW5kZXhdLm1hcmtlckJvcmRlckNvbG9yIDogZGF0YVNlcmllcy5tYXJrZXJCb3JkZXJDb2xvciA/IGRhdGFTZXJpZXMubWFya2VyQm9yZGVyQ29sb3IgOiBudWxsO1xyXG4gIHZhciBtYXJrZXJCb3JkZXJUaGlja25lc3MgPSBkYXRhUG9pbnRzW2luZGV4XS5tYXJrZXJCb3JkZXJUaGlja25lc3MgPyBkYXRhUG9pbnRzW2luZGV4XS5tYXJrZXJCb3JkZXJUaGlja25lc3MgOiBkYXRhU2VyaWVzLm1hcmtlckJvcmRlclRoaWNrbmVzcyA/IGRhdGFTZXJpZXMubWFya2VyQm9yZGVyVGhpY2tuZXNzIDogbnVsbDtcclxuICB2YXIgbWFya2VyVHlwZSA9IGRhdGFQb2ludHNbaW5kZXhdLm1hcmtlclR5cGUgPyBkYXRhUG9pbnRzW2luZGV4XS5tYXJrZXJUeXBlIDogZGF0YVNlcmllcy5tYXJrZXJUeXBlO1xyXG4gIHZhciBtYXJrZXJTaXplID0gZGF0YVBvaW50c1tpbmRleF0ubWFya2VyU2l6ZSA/IGRhdGFQb2ludHNbaW5kZXhdLm1hcmtlclNpemUgOiBkYXRhU2VyaWVzLm1hcmtlclNpemU7XHJcblxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgeDogeCwgeTogeSwgY3R4OiBjdHgsXHJcbiAgICB0eXBlOiBtYXJrZXJUeXBlLFxyXG4gICAgc2l6ZTogbWFya2VyU2l6ZSxcclxuICAgIGNvbG9yOiBtYXJrZXJDb2xvcixcclxuICAgIGJvcmRlckNvbG9yOiBtYXJrZXJCb3JkZXJDb2xvcixcclxuICAgIGJvcmRlclRoaWNrbmVzczogbWFya2VyQm9yZGVyVGhpY2tuZXNzXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEYXRhU2VyaWVzO1xyXG4iLCJcclxuaW1wb3J0IHtjcmVhdGVDYW52YXMsIGdldE1vdXNlQ29vcmRpbmF0ZXMsIGlzQ2FudmFzU3VwcG9ydGVkfSBmcm9tICcuLi9oZWxwZXJzL3V0aWxzJztcclxuXHJcbmZ1bmN0aW9uIEV2ZW50TWFuYWdlcihjaGFydCkge1xyXG4gIHRoaXMuY2hhcnQgPSBjaGFydDtcclxuICB0aGlzLmxhc3RPYmplY3RJZCA9IDA7XHJcbiAgdmFyIF90aGlzID0gdGhpcztcclxuICB0aGlzLm9iamVjdE1hcCA9IFtdO1xyXG4gIHRoaXMucmVjdGFuZ3VsYXJSZWdpb25FdmVudFN1YnNjcmlwdGlvbnMgPSBbXTtcclxuICB0aGlzLnByZXZpb3VzRGF0YVBvaW50RXZlbnRPYmplY3QgPSBudWxsO1xyXG4gIC8vdGhpcy5wcmV2aW91c0RhdGFTZXJpZXNFdmVudE9iamVjdCA9IG51bGw7XHJcblxyXG4gIHRoaXMuZ2hvc3RDYW52YXMgPSBjcmVhdGVDYW52YXModGhpcy5jaGFydC53aWR0aCwgdGhpcy5jaGFydC5oZWlnaHQpO1xyXG4gIC8vdGhpcy5naG9zdENhbnZhcy53aWR0aCA9IHRoaXMuY2hhcnQud2lkdGg7XHJcbiAgLy90aGlzLmdob3N0Q2FudmFzLmhlaWdodCA9IHRoaXMuY2hhcnQuaGVpZ2h0O1xyXG5cclxuICB0aGlzLmdob3N0Q3R4ID0gdGhpcy5naG9zdENhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcblxyXG4gIHZhciBldmVudEhhbmRsZXIgPSBmdW5jdGlvbiAoZXYpIHtcclxuICAgIF90aGlzLm1vdXNlRXZlbnRIYW5kbGVyLmNhbGwoX3RoaXMsIGV2KTtcclxuICB9O1xyXG5cclxuICB0aGlzLm1vdXNlb3ZlcmVkT2JqZWN0TWFwcyA9IFtdO1xyXG4gIC8vdGhpcy5jaGFydC5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCBldmVudEhhbmRsZXIpO1xyXG4gIC8vdGhpcy5jaGFydC5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBldmVudEhhbmRsZXIpO1xyXG4gIC8vdGhpcy5jaGFydC5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsIGV2ZW50SGFuZGxlcik7XHJcbiAgLy90aGlzLmNoYXJ0LmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRIYW5kbGVyKTtcclxufVxyXG5cclxuRXZlbnRNYW5hZ2VyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcclxuICB0aGlzLmxhc3RPYmplY3RJZCA9IDA7XHJcbiAgdGhpcy5vYmplY3RNYXAgPSBbXTtcclxuICB0aGlzLnJlY3Rhbmd1bGFyUmVnaW9uRXZlbnRTdWJzY3JpcHRpb25zID0gW107XHJcbiAgdGhpcy5wcmV2aW91c0RhdGFQb2ludEV2ZW50T2JqZWN0ID0gbnVsbDtcclxuXHJcbiAgdGhpcy5ldmVudE9iamVjdHMgPSBbXTtcclxuICAvL3RoaXMuZ2hvc3RDYW52YXMud2lkdGggPSB0aGlzLmNoYXJ0LndpZHRoO1xyXG4gIC8vdGhpcy5naG9zdENhbnZhcy5oZWlnaHQgPSB0aGlzLmNoYXJ0LmhlaWdodDtcclxuXHJcbiAgaWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XHJcbiAgICB0aGlzLmdob3N0Q3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNoYXJ0LndpZHRoLCB0aGlzLmNoYXJ0LmhlaWdodCk7XHJcbiAgICB0aGlzLmdob3N0Q3R4LmJlZ2luUGF0aCgpO1xyXG4gIH1cclxufVxyXG5cclxuRXZlbnRNYW5hZ2VyLnByb3RvdHlwZS5nZXROZXdPYmplY3RUcmFja2luZ0lkID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiArK3RoaXMubGFzdE9iamVjdElkO1xyXG59XHJcblxyXG5FdmVudE1hbmFnZXIucHJvdG90eXBlLm1vdXNlRXZlbnRIYW5kbGVyID0gZnVuY3Rpb24gKGV2KSB7XHJcblxyXG4gIGlmIChldi50eXBlICE9PSBcIm1vdXNlbW92ZVwiICYmIGV2LnR5cGUgIT09IFwiY2xpY2tcIilcclxuICAgIHJldHVybjtcclxuXHJcbiAgdmFyIGV2ZW50T2JqZWN0TWFwcyA9IFtdO1xyXG4gIHZhciB4eSA9IGdldE1vdXNlQ29vcmRpbmF0ZXMoZXYpO1xyXG4gIHZhciBpZCA9IG51bGw7XHJcblxyXG4gIC8vdmFyIGRhdGFQb2ludEluZm8gPSB0aGlzLmNoYXJ0LmdldERhdGFQb2ludEF0WFkoeHkueCwgeHkueSwgZmFsc2UpO1xyXG5cclxuICAvL2lmIChkYXRhUG9pbnRJbmZvKSB7XHJcbiAgLy9cdGlkID0gZGF0YVBvaW50SW5mby5kYXRhU2VyaWVzLmRhdGFQb2ludElkc1tkYXRhUG9pbnRJbmZvLmRhdGFQb2ludEluZGV4XTtcclxuICAvL30gZWxzZSBpZiAoaXNDYW52YXNTdXBwb3J0ZWQpIHsvL0lFOStcclxuICAvL1x0aWQgPSBnZXRPYmplY3RJZCh4eS54LCB4eS55LCB0aGlzLmdob3N0Q3R4KTtcclxuICAvL31cclxuICBpZCA9IHRoaXMuY2hhcnQuZ2V0T2JqZWN0QXRYWSh4eS54LCB4eS55LCBmYWxzZSk7XHJcblxyXG4gIGlmIChpZCAmJiB0eXBlb2YgKHRoaXMub2JqZWN0TWFwW2lkXSkgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuXHJcbiAgICB2YXIgZXZlbnRPYmplY3RNYXAgPSB0aGlzLm9iamVjdE1hcFtpZF07XHJcblxyXG4gICAgaWYgKGV2ZW50T2JqZWN0TWFwLm9iamVjdFR5cGUgPT09IFwiZGF0YVBvaW50XCIpIHtcclxuICAgICAgdmFyIGRhdGFTZXJpZXMgPSB0aGlzLmNoYXJ0LmRhdGFbZXZlbnRPYmplY3RNYXAuZGF0YVNlcmllc0luZGV4XTtcclxuICAgICAgdmFyIGRhdGFQb2ludCA9IGRhdGFTZXJpZXMuZGF0YVBvaW50c1tldmVudE9iamVjdE1hcC5kYXRhUG9pbnRJbmRleF07XHJcbiAgICAgIHZhciBkYXRhUG9pbnRJbmRleCA9IGV2ZW50T2JqZWN0TWFwLmRhdGFQb2ludEluZGV4O1xyXG5cclxuICAgICAgLy9FdmVudCBQYXJhbWV0ZXIgc2hvdWxkIG5vdCBjb250YWluIHJlZmVyZW5jZSB0byBkYXRhU2VyaWVzIGRpcmVjdGx5LiBCdXQgdG8gaXRzIG9wdGlvbnMuXHJcbiAgICAgIGV2ZW50T2JqZWN0TWFwLmV2ZW50UGFyYW1ldGVyID0ge1xyXG4gICAgICAgIHg6IHh5LngsIHk6IHh5LnksIGRhdGFQb2ludDogZGF0YVBvaW50LFxyXG4gICAgICAgIGRhdGFTZXJpZXM6IGRhdGFTZXJpZXMuX29wdGlvbnMsIGRhdGFQb2ludEluZGV4OiBkYXRhUG9pbnRJbmRleCwgZGF0YVNlcmllc0luZGV4OiBkYXRhU2VyaWVzLmluZGV4LFxyXG4gICAgICAgIGNoYXJ0OiB0aGlzLmNoYXJ0Ll9wdWJsaWNDaGFydFJlZmVyZW5jZVxyXG4gICAgICB9O1xyXG4gICAgICBldmVudE9iamVjdE1hcC5ldmVudENvbnRleHQgPSB7XHJcbiAgICAgICAgY29udGV4dDogZGF0YVBvaW50LCB1c2VyQ29udGV4dDogZGF0YVBvaW50LCBtb3VzZW92ZXI6IFwibW91c2VvdmVyXCIsIG1vdXNlbW92ZTogXCJtb3VzZW1vdmVcIiwgbW91c2VvdXQ6IFwibW91c2VvdXRcIiwgY2xpY2s6IFwiY2xpY2tcIlxyXG4gICAgICB9O1xyXG4gICAgICBldmVudE9iamVjdE1hcHMucHVzaChldmVudE9iamVjdE1hcCk7XHJcblxyXG4gICAgICAvL0FkZCBEYXRhc2VyaWVzIHRvbyBiZWNhdXNlIG1vdXNlIGV2ZW50IG9uIGRhdGFQb2ludCBhbHNvIG1lYW5zIHRoZXJlIGlzIGFuIGV2ZW50IG9uIGRhdGFTZXJpZXMuIERhdGFTZXJpZXMgaXMgbm90IHByZXNlbnQgb24gZ2hvc3QgY2FudmFzXHJcbiAgICAgIGV2ZW50T2JqZWN0TWFwID0gdGhpcy5vYmplY3RNYXBbZGF0YVNlcmllcy5pZF07XHJcblxyXG4gICAgICAvL0V2ZW50IFBhcmFtZXRlciBzaG91bGQgbm90IGNvbnRhaW4gcmVmZXJlbmNlIHRvIGRhdGFTZXJpZXMgZGlyZWN0bHkuIEJ1dCB0byBpdHMgb3B0aW9ucy5cclxuICAgICAgZXZlbnRPYmplY3RNYXAuZXZlbnRQYXJhbWV0ZXIgPSB7XHJcbiAgICAgICAgeDogeHkueCwgeTogeHkueSxcclxuICAgICAgICBkYXRhUG9pbnQ6IGRhdGFQb2ludCwgZGF0YVNlcmllczogZGF0YVNlcmllcy5fb3B0aW9ucywgZGF0YVBvaW50SW5kZXg6IGRhdGFQb2ludEluZGV4LCBkYXRhU2VyaWVzSW5kZXg6IGRhdGFTZXJpZXMuaW5kZXgsXHJcbiAgICAgICAgY2hhcnQ6IHRoaXMuY2hhcnQuX3B1YmxpY0NoYXJ0UmVmZXJlbmNlXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBldmVudE9iamVjdE1hcC5ldmVudENvbnRleHQgPSB7XHJcbiAgICAgICAgY29udGV4dDogZGF0YVNlcmllcywgdXNlckNvbnRleHQ6IGRhdGFTZXJpZXMuX29wdGlvbnMsIG1vdXNlb3ZlcjogXCJtb3VzZW92ZXJcIiwgbW91c2Vtb3ZlOiBcIm1vdXNlbW92ZVwiLCBtb3VzZW91dDogXCJtb3VzZW91dFwiLCBjbGljazogXCJjbGlja1wiXHJcbiAgICAgIH07XHJcbiAgICAgIGV2ZW50T2JqZWN0TWFwcy5wdXNoKHRoaXMub2JqZWN0TWFwW2RhdGFTZXJpZXMuaWRdKTtcclxuICAgIH1cclxuICAgICAgLy9lbHNlIGlmIChldmVudE9iamVjdE1hcC5vYmplY3RUeXBlID09PSBcInN0cmlwTGluZVwiKSB7XHJcblxyXG4gICAgICAvL1x0Ly9FdmVudCBQYXJhbWV0ZXIgc2hvdWxkIG5vdCBjb250YWluIHJlZmVyZW5jZSB0byBzdHJpcExpbmUgZGlyZWN0bHkuIEJ1dCB0byBpdHMgb3B0aW9ucy5cclxuICAgICAgLy9cdGV2ZW50T2JqZWN0TWFwLmV2ZW50UGFyYW1ldGVyID0geyB4OiB4eS54LCB5OiB4eS55LCBzdHJpcExpbmU6IGV2ZW50T2JqZWN0TWFwLnN0cmlwTGluZS5fb3B0aW9ucywgYXhpczogZXZlbnRPYmplY3RNYXAuYXhpcy5fb3B0aW9ucywgc3RyaXBMaW5lSW5kZXg6IGV2ZW50T2JqZWN0TWFwLnN0cmlwTGluZUluZGV4IH07XHJcbiAgICAgIC8vXHRldmVudE9iamVjdE1hcC5ldmVudENvbnRleHQgPSB7IGNvbnRleHQ6IGV2ZW50T2JqZWN0TWFwLnN0cmlwTGluZSwgdXNlckNvbnRleHQ6IGV2ZW50T2JqZWN0TWFwLnN0cmlwTGluZS5fb3B0aW9ucywgbW91c2VvdmVyOiBcIm1vdXNlb3ZlclwiLCBtb3VzZW1vdmU6IFwibW91c2Vtb3ZlXCIsIG1vdXNlb3V0OiBcIm1vdXNlb3V0XCIsIGNsaWNrOiBcImNsaWNrXCIgfTtcclxuXHJcbiAgICAgIC8vXHRldmVudE9iamVjdE1hcHMucHVzaChldmVudE9iamVjdE1hcCk7XHJcbiAgICAgIC8vfVxyXG4gICAgZWxzZSBpZiAoZXZlbnRPYmplY3RNYXAub2JqZWN0VHlwZSA9PT0gXCJsZWdlbmRJdGVtXCIpIHtcclxuXHJcbiAgICAgIHZhciBkYXRhU2VyaWVzID0gdGhpcy5jaGFydC5kYXRhW2V2ZW50T2JqZWN0TWFwLmRhdGFTZXJpZXNJbmRleF07XHJcbiAgICAgIHZhciBkYXRhUG9pbnQgPSBldmVudE9iamVjdE1hcC5kYXRhUG9pbnRJbmRleCAhPT0gbnVsbCA/IGRhdGFTZXJpZXMuZGF0YVBvaW50c1tldmVudE9iamVjdE1hcC5kYXRhUG9pbnRJbmRleF0gOiBudWxsO1xyXG5cclxuICAgICAgLy9FdmVudCBQYXJhbWV0ZXIgc2hvdWxkIG5vdCBjb250YWluIHJlZmVyZW5jZSB0byBEYXRhU2VyaWVzIGRpcmVjdGx5LiBCdXQgdG8gaXRzIG9wdGlvbnMuXHJcbiAgICAgIGV2ZW50T2JqZWN0TWFwLmV2ZW50UGFyYW1ldGVyID0ge1xyXG4gICAgICAgIHg6IHh5LngsIHk6IHh5LnksXHJcbiAgICAgICAgZGF0YVNlcmllczogZGF0YVNlcmllcy5fb3B0aW9ucywgZGF0YVBvaW50OiBkYXRhUG9pbnQsIGRhdGFQb2ludEluZGV4OiBldmVudE9iamVjdE1hcC5kYXRhUG9pbnRJbmRleCwgZGF0YVNlcmllc0luZGV4OiBldmVudE9iamVjdE1hcC5kYXRhU2VyaWVzSW5kZXgsXHJcbiAgICAgICAgY2hhcnQ6IHRoaXMuY2hhcnQuX3B1YmxpY0NoYXJ0UmVmZXJlbmNlXHJcbiAgICAgIH07XHJcbiAgICAgIGV2ZW50T2JqZWN0TWFwLmV2ZW50Q29udGV4dCA9IHtcclxuICAgICAgICBjb250ZXh0OiB0aGlzLmNoYXJ0LmxlZ2VuZCwgdXNlckNvbnRleHQ6IHRoaXMuY2hhcnQubGVnZW5kLl9vcHRpb25zLCBtb3VzZW92ZXI6IFwiaXRlbW1vdXNlb3ZlclwiLCBtb3VzZW1vdmU6IFwiaXRlbW1vdXNlbW92ZVwiLCBtb3VzZW91dDogXCJpdGVtbW91c2VvdXRcIiwgY2xpY2s6IFwiaXRlbWNsaWNrXCJcclxuICAgICAgfTtcclxuICAgICAgZXZlbnRPYmplY3RNYXBzLnB1c2goZXZlbnRPYmplY3RNYXApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy9GaXJlIG1vdXNlb3V0IGlmIGV4aXN0aW5nIG1vdXNlb3ZlcmVkIG9iamVjdHMgYXJlIG5vdCBwcmVzZW50IGluIHRoZSBvYmplY3RtYXAuXHJcbiAgdmFyIG1vdXNlT3V0T2JqZWN0TWFwc0V4Y2x1ZGVkID0gW107XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm1vdXNlb3ZlcmVkT2JqZWN0TWFwcy5sZW5ndGg7IGkrKykge1xyXG4gICAgdmFyIG1vdXNlT3V0ID0gdHJ1ZTtcclxuXHJcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGV2ZW50T2JqZWN0TWFwcy5sZW5ndGg7IGorKykge1xyXG4gICAgICBpZiAoZXZlbnRPYmplY3RNYXBzW2pdLmlkID09PSB0aGlzLm1vdXNlb3ZlcmVkT2JqZWN0TWFwc1tpXS5pZCkge1xyXG4gICAgICAgIG1vdXNlT3V0ID0gZmFsc2U7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAobW91c2VPdXQpIHtcclxuICAgICAgdGhpcy5maXJlRXZlbnQodGhpcy5tb3VzZW92ZXJlZE9iamVjdE1hcHNbaV0sIFwibW91c2VvdXRcIiwgZXYpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbW91c2VPdXRPYmplY3RNYXBzRXhjbHVkZWQucHVzaCh0aGlzLm1vdXNlb3ZlcmVkT2JqZWN0TWFwc1tpXSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB0aGlzLm1vdXNlb3ZlcmVkT2JqZWN0TWFwcyA9IG1vdXNlT3V0T2JqZWN0TWFwc0V4Y2x1ZGVkO1xyXG5cclxuICAvL1Byb2Nlc3MgbmV3IGV2ZW50T2JlY3RNYXBzXHJcbiAgLy9JZiB0aGV5IGFscmVhZHkgZG9uJ3QgZXhpc3QsIGFkZCB0aGVtIGFuZCBmaXJlIG1vdXNlb3ZlclxyXG4gIC8vSWYgZXYudHlwZSBpcyBtb3VzZW1vdmUsIHRoZW4ganVzdCBmaXJlIG1vdXNlbW92ZVxyXG4gIC8vSWYgZXYudHlwZSBpcyBjbGljaywgdGhlbiBmaXJlIHR3byBldmVudHMgLSBjbGljayBmb2xsb3dlZCBieSBtb3VzZW1vdmVcclxuICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50T2JqZWN0TWFwcy5sZW5ndGg7IGkrKykge1xyXG5cclxuICAgIHZhciBleGlzdGluZyA9IGZhbHNlO1xyXG5cclxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5tb3VzZW92ZXJlZE9iamVjdE1hcHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgaWYgKGV2ZW50T2JqZWN0TWFwc1tpXS5pZCA9PT0gdGhpcy5tb3VzZW92ZXJlZE9iamVjdE1hcHNbal0uaWQpIHtcclxuICAgICAgICBleGlzdGluZyA9IHRydWU7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWV4aXN0aW5nKSB7XHJcbiAgICAgIHRoaXMuZmlyZUV2ZW50KGV2ZW50T2JqZWN0TWFwc1tpXSwgXCJtb3VzZW92ZXJcIiwgZXYpO1xyXG4gICAgICB0aGlzLm1vdXNlb3ZlcmVkT2JqZWN0TWFwcy5wdXNoKGV2ZW50T2JqZWN0TWFwc1tpXSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGV2LnR5cGUgPT09IFwiY2xpY2tcIikge1xyXG4gICAgICB0aGlzLmZpcmVFdmVudChldmVudE9iamVjdE1hcHNbaV0sIFwiY2xpY2tcIiwgZXYpO1xyXG4gICAgfSBlbHNlIGlmIChldi50eXBlID09PSBcIm1vdXNlbW92ZVwiKSB7XHJcbiAgICAgIHRoaXMuZmlyZUV2ZW50KGV2ZW50T2JqZWN0TWFwc1tpXSwgXCJtb3VzZW1vdmVcIiwgZXYpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuRXZlbnRNYW5hZ2VyLnByb3RvdHlwZS5maXJlRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnRPYmplY3RNYXAsIGV2ZW50VHlwZSwgZXYpIHtcclxuXHJcbiAgaWYgKCFldmVudE9iamVjdE1hcCB8fCAhZXZlbnRUeXBlKVxyXG4gICAgcmV0dXJuO1xyXG5cclxuICB2YXIgZXZlbnRQYXJhbWV0ZXIgPSBldmVudE9iamVjdE1hcC5ldmVudFBhcmFtZXRlcjtcclxuICB2YXIgZXZlbnRDb250ZXh0ID0gZXZlbnRPYmplY3RNYXAuZXZlbnRDb250ZXh0O1xyXG4gIC8vdmFyIGNvbnRleHQgPSBldmVudE9iamVjdE1hcC5ldmVudENvbnRleHQuY29udGV4dDtcclxuICB2YXIgdXNlckNvbnRleHQgPSBldmVudE9iamVjdE1hcC5ldmVudENvbnRleHQudXNlckNvbnRleHRcclxuXHJcbiAgaWYgKHVzZXJDb250ZXh0ICYmIGV2ZW50Q29udGV4dCAmJiB1c2VyQ29udGV4dFtldmVudENvbnRleHRbZXZlbnRUeXBlXV0pXHJcbiAgICB1c2VyQ29udGV4dFtldmVudENvbnRleHRbZXZlbnRUeXBlXV0uY2FsbCh1c2VyQ29udGV4dCwgZXZlbnRQYXJhbWV0ZXIpO1xyXG5cclxuICBpZiAoZXZlbnRUeXBlICE9PSBcIm1vdXNlb3V0XCIpIHtcclxuICAgIGlmICh1c2VyQ29udGV4dC5jdXJzb3IgJiYgdXNlckNvbnRleHQuY3Vyc29yICE9PSBldi50YXJnZXQuc3R5bGUuY3Vyc29yKSB7XHJcbiAgICAgIGV2LnRhcmdldC5zdHlsZS5jdXJzb3IgPSB1c2VyQ29udGV4dC5jdXJzb3I7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIGV2LnRhcmdldC5zdHlsZS5jdXJzb3IgPSB0aGlzLmNoYXJ0Ll9kZWZhdWx0Q3Vyc29yO1xyXG4gICAgZGVsZXRlIGV2ZW50T2JqZWN0TWFwLmV2ZW50UGFyYW1ldGVyOyAvLyByZWZlcmVuY2Ugbm8gbG9uZ2VyIHJlcXVpcmVkLlxyXG4gICAgZGVsZXRlIGV2ZW50T2JqZWN0TWFwLmV2ZW50Q29udGV4dDsgLy8gcmVmZXJlbmNlIG5vIGxvbmdlciByZXF1aXJlZC5cclxuICB9XHJcblxyXG4gIC8vVGhpcyBpcyBqdXN0IGEgcXVpY2sgZml4LiBOZWVkIHRvIGZpbmQgYSBiZXR0ZXIgd2F5IG9mIGNhbGxpbmcgaW50ZXJuYWwgZXZlbnQgaGFuZGxlcnMuXHJcbiAgaWYgKGV2ZW50VHlwZSA9PT0gXCJjbGlja1wiICYmIGV2ZW50T2JqZWN0TWFwLm9iamVjdFR5cGUgPT09IFwiZGF0YVBvaW50XCIgJiYgdGhpcy5jaGFydC5waWVEb3VnaG51dENsaWNrSGFuZGxlcikge1xyXG4gICAgdGhpcy5jaGFydC5waWVEb3VnaG51dENsaWNrSGFuZGxlci5jYWxsKHRoaXMuY2hhcnQuZGF0YVtldmVudE9iamVjdE1hcC5kYXRhU2VyaWVzSW5kZXhdLCBldmVudFBhcmFtZXRlcik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBFdmVudE1hbmFnZXI7XHJcbiIsImZ1bmN0aW9uIExheW91dE1hbmFnZXIoeDEsIHkxLCB4MiwgeTIsIHBhZGRpbmcpIHtcclxuXHJcbiAgaWYgKHR5cGVvZiAocGFkZGluZykgPT09IFwidW5kZWZpbmVkXCIpXHJcbiAgICBwYWRkaW5nID0gMDtcclxuXHJcbiAgdGhpcy5fcGFkZGluZyA9IHBhZGRpbmc7XHJcblxyXG4gIHRoaXMuX3gxID0geDE7XHJcbiAgdGhpcy5feTEgPSB5MTtcclxuICB0aGlzLl94MiA9IHgyO1xyXG4gIHRoaXMuX3kyID0geTI7XHJcblxyXG4gIHRoaXMuX3RvcE9jY3VwaWVkID0gdGhpcy5fcGFkZGluZztcclxuICB0aGlzLl9ib3R0b21PY2N1cGllZCA9IHRoaXMuX3BhZGRpbmc7XHJcbiAgdGhpcy5fbGVmdE9jY3VwaWVkID0gdGhpcy5fcGFkZGluZztcclxuICB0aGlzLl9yaWdodE9jY3VwaWVkID0gdGhpcy5fcGFkZGluZztcclxufVxyXG5cclxuTGF5b3V0TWFuYWdlci5wcm90b3R5cGUucmVnaXN0ZXJTcGFjZSA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgc2l6ZSkge1xyXG4gIGlmIChwb3NpdGlvbiA9PT0gXCJ0b3BcIikge1xyXG4gICAgdGhpcy5fdG9wT2NjdXBpZWQgKz0gc2l6ZS5oZWlnaHQ7XHJcbiAgfVxyXG4gIGVsc2UgaWYgKHBvc2l0aW9uID09PSBcImJvdHRvbVwiKSB7XHJcbiAgICB0aGlzLl9ib3R0b21PY2N1cGllZCArPSBzaXplLmhlaWdodDtcclxuICB9IGVsc2UgaWYgKHBvc2l0aW9uID09PSBcImxlZnRcIikge1xyXG4gICAgdGhpcy5fbGVmdE9jY3VwaWVkICs9IHNpemUud2lkdGg7IC8vIHRoaXMgaXMgd2lkdGggd2hlbiBzZWVuIHVwcmlnaHQvdmVydGljYWxseVxyXG4gIH0gZWxzZSBpZiAocG9zaXRpb24gPT09IFwicmlnaHRcIikge1xyXG4gICAgdGhpcy5fcmlnaHRPY2N1cGllZCArPSBzaXplLndpZHRoOy8vIHRoaXMgaXMgd2lkdGggd2hlbiBzZWVuIHVwcmlnaHQvdmVydGljYWxseVxyXG4gIH1cclxufVxyXG5cclxuTGF5b3V0TWFuYWdlci5wcm90b3R5cGUudW5SZWdpc3RlclNwYWNlID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBzaXplKSB7XHJcbiAgaWYgKHBvc2l0aW9uID09PSBcInRvcFwiKSB7XHJcbiAgICB0aGlzLl90b3BPY2N1cGllZCAtPSBzaXplLmhlaWdodDtcclxuICB9XHJcbiAgZWxzZSBpZiAocG9zaXRpb24gPT09IFwiYm90dG9tXCIpIHtcclxuICAgIHRoaXMuX2JvdHRvbU9jY3VwaWVkIC09IHNpemUuaGVpZ2h0O1xyXG4gIH0gZWxzZSBpZiAocG9zaXRpb24gPT09IFwibGVmdFwiKSB7XHJcbiAgICB0aGlzLl9sZWZ0T2NjdXBpZWQgLT0gc2l6ZS53aWR0aDsvLyB0aGlzIGlzIHdpZHRoIHdoZW4gc2VlbiB1cHJpZ2h0L3ZlcnRpY2FsbHlcclxuICB9IGVsc2UgaWYgKHBvc2l0aW9uID09PSBcInJpZ2h0XCIpIHtcclxuICAgIHRoaXMuX3JpZ2h0T2NjdXBpZWQgLT0gc2l6ZS53aWR0aDsvLyB0aGlzIGlzIHdpZHRoIHdoZW4gc2VlbiB1cHJpZ2h0L3ZlcnRpY2FsbHlcclxuICB9XHJcbn1cclxuXHJcbkxheW91dE1hbmFnZXIucHJvdG90eXBlLmdldEZyZWVTcGFjZSA9IGZ1bmN0aW9uICgpIHtcclxuICAvLy88c2lnbmF0dXJlPlxyXG4gIC8vLzxzdW1tYXJ5PlJldHVybnMgYXZhaWxhYmxlIGZyZWUgc3BhY2Uge3gxOm51bWJlciwgeTE6bnVtYmVyLCB4MjpudW1iZXIsIHkyOm51bWJlcn08L3N1bW1hcnk+XHJcbiAgLy8vPC9zaWduYXR1cmU+XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICB4MTogdGhpcy5feDEgKyB0aGlzLl9sZWZ0T2NjdXBpZWQsXHJcbiAgICB5MTogdGhpcy5feTEgKyB0aGlzLl90b3BPY2N1cGllZCxcclxuICAgIHgyOiB0aGlzLl94MiAtIHRoaXMuX3JpZ2h0T2NjdXBpZWQsXHJcbiAgICB5MjogdGhpcy5feTIgLSB0aGlzLl9ib3R0b21PY2N1cGllZCxcclxuICAgIHdpZHRoOiAodGhpcy5feDIgLSB0aGlzLl94MSkgLSB0aGlzLl9yaWdodE9jY3VwaWVkIC0gdGhpcy5fbGVmdE9jY3VwaWVkLFxyXG4gICAgaGVpZ2h0OiAodGhpcy5feTIgLSB0aGlzLl95MSkgLSB0aGlzLl9ib3R0b21PY2N1cGllZCAtIHRoaXMuX3RvcE9jY3VwaWVkXHJcbiAgfTtcclxufVxyXG5cclxuTGF5b3V0TWFuYWdlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgLy9zbyB0aGF0IHRoZXJlIGlzIGVub3VnaCBwYWRkaW5nLlxyXG4gIHRoaXMuX3RvcE9jY3VwaWVkID0gdGhpcy5fcGFkZGluZztcclxuICB0aGlzLl9ib3R0b21PY2N1cGllZCA9IHRoaXMuX3BhZGRpbmc7XHJcbiAgdGhpcy5fbGVmdE9jY3VwaWVkID0gdGhpcy5fcGFkZGluZztcclxuICB0aGlzLl9yaWdodE9jY3VwaWVkID0gdGhpcy5fcGFkZGluZztcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTGF5b3V0TWFuYWdlcjtcclxuIiwiXHJcbmltcG9ydCBEYXRhU2VyaWVzIGZyb20gJy4vZGF0YV9zZXJpZXMnO1xyXG5pbXBvcnQgQ2FudmFzSlNPYmplY3QgZnJvbSAnLi9jYW52YXNqcyc7XHJcbmltcG9ydCBUZXh0QmxvY2sgZnJvbSAnLi90ZXh0X2Jsb2NrJztcclxuaW1wb3J0IFJlbmRlckhlbHBlciBmcm9tICcuLi9oZWxwZXJzL3JlbmRlcic7XHJcbmltcG9ydCB7ZXh0ZW5kLCBnZXRGb250SGVpZ2h0SW5QaXhlbHN9IGZyb20gJy4uL2hlbHBlcnMvdXRpbHMnO1xyXG5cclxuZnVuY3Rpb24gTGVnZW5kKGNoYXJ0LCBvcHRpb25zLCB0aGVtZSkge1xyXG4gIExlZ2VuZC5iYXNlLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgXCJMZWdlbmRcIiwgb3B0aW9ucywgdGhlbWUpO1xyXG5cclxuICB0aGlzLmNoYXJ0ID0gY2hhcnQ7XHJcbiAgdGhpcy5jYW52YXMgPSBjaGFydC5jYW52YXM7XHJcbiAgdGhpcy5jdHggPSB0aGlzLmNoYXJ0LmN0eDtcclxuICB0aGlzLmdob3N0Q3R4ID0gdGhpcy5jaGFydC5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4O1xyXG4gIHRoaXMuaXRlbXMgPSBbXTtcclxuXHJcbiAgdGhpcy53aWR0aCA9IDAsXHJcbiAgLy90aGlzLmZvbnRTaXplID0gMTIsXHJcbiAgdGhpcy5oZWlnaHQgPSAwLFxyXG4gIHRoaXMub3JpZW50YXRpb24gPSBudWxsLFxyXG4gIHRoaXMuZGF0YVNlcmllcyA9IFtdO1xyXG4gIHRoaXMuYm91bmRzID0ge1xyXG4gICAgeDE6IG51bGwsIHkxOiBudWxsLCB4MjogbnVsbCwgeTI6IG51bGxcclxuICB9O1xyXG5cclxuICBpZiAodHlwZW9mICh0aGlzLl9vcHRpb25zLmZvbnRTaXplKSA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgdGhpcy5mb250U2l6ZSA9IHRoaXMuY2hhcnQuZ2V0QXV0b0ZvbnRTaXplKHRoaXMuZm9udFNpemUpO1xyXG4gICAgLy93aW5kb3cuY29uc29sZS5sb2coXCJmb250U2l6ZTogXCIgKyB0aGlzLmZvbnRTaXplKTtcclxuICB9XHJcblxyXG4gIHRoaXMubGluZUhlaWdodCA9IGdldEZvbnRIZWlnaHRJblBpeGVscyh0aGlzLmZvbnRGYW1pbHksIHRoaXMuZm9udFNpemUsIHRoaXMuZm9udFdlaWdodCk7XHJcblxyXG4gIHRoaXMuaG9yaXpvbnRhbFNwYWNpbmcgPSB0aGlzLmZvbnRTaXplO1xyXG59XHJcblxyXG5leHRlbmQoTGVnZW5kLCBDYW52YXNKU09iamVjdCk7XHJcblxyXG5MZWdlbmQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgdmFyIGNvbnRhaW5lciA9ICghdGhpcy5kb2NrSW5zaWRlUGxvdEFyZWEgPyB0aGlzLmNoYXJ0IDogdGhpcy5jaGFydC5wbG90QXJlYSk7XHJcbiAgdmFyIGZyZWVTcGFjZSA9IGNvbnRhaW5lci5sYXlvdXRNYW5hZ2VyLmdldEZyZWVTcGFjZSgpO1xyXG4gIHZhciBwb3NpdGlvbiA9IG51bGw7XHJcbiAgdmFyIHRvcCA9IDA7XHJcbiAgdmFyIGxlZnQgPSAwO1xyXG4gIHZhciBtYXhXaWR0aCA9IDA7XHJcbiAgdmFyIG1heEhlaWdodCA9IDA7XHJcbiAgdmFyIGl0ZW1NYXJnaW4gPSA1O1xyXG5cclxuICB2YXIgaXRlbXMgPSBbXTtcclxuICB2YXIgcm93cyA9IFtdO1xyXG5cclxuICAvL3RoaXMuY3R4LmZvbnQgPSBnZXRGb250U3RyaW5nKFwiXCIsIHRoaXMsIG51bGwpO1xyXG4gIC8vdGhpcy5jdHguZm9udENvbG9yID0gdGhpcy5mb250Q29sb3I7XHJcblxyXG4gIGlmICh0aGlzLnZlcnRpY2FsQWxpZ24gPT09IFwidG9wXCIgfHwgdGhpcy52ZXJ0aWNhbEFsaWduID09PSBcImJvdHRvbVwiKSB7XHJcbiAgICB0aGlzLm9yaWVudGF0aW9uID0gXCJob3Jpem9udGFsXCI7XHJcbiAgICBwb3NpdGlvbiA9IHRoaXMudmVydGljYWxBbGlnbjtcclxuXHJcbiAgICBtYXhXaWR0aCA9IHRoaXMubWF4V2lkdGggIT09IG51bGwgPyB0aGlzLm1heFdpZHRoIDogZnJlZVNwYWNlLndpZHRoICogLjc7XHJcbiAgICBtYXhIZWlnaHQgPSB0aGlzLm1heEhlaWdodCAhPT0gbnVsbCA/IHRoaXMubWF4SGVpZ2h0IDogZnJlZVNwYWNlLmhlaWdodCAqIC41O1xyXG4gIH1cclxuICBlbHNlIGlmICh0aGlzLnZlcnRpY2FsQWxpZ24gPT09IFwiY2VudGVyXCIpIHtcclxuICAgIHRoaXMub3JpZW50YXRpb24gPSBcInZlcnRpY2FsXCI7XHJcbiAgICBwb3NpdGlvbiA9IHRoaXMuaG9yaXpvbnRhbEFsaWduO1xyXG5cclxuICAgIG1heFdpZHRoID0gdGhpcy5tYXhXaWR0aCAhPT0gbnVsbCA/IHRoaXMubWF4V2lkdGggOiBmcmVlU3BhY2Uud2lkdGggKiAuNTtcclxuICAgIG1heEhlaWdodCA9IHRoaXMubWF4SGVpZ2h0ICE9PSBudWxsID8gdGhpcy5tYXhIZWlnaHQgOiBmcmVlU3BhY2UuaGVpZ2h0ICogLjc7XHJcbiAgfVxyXG5cclxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZGF0YVNlcmllcy5sZW5ndGg7IGkrKykge1xyXG4gICAgdmFyIGRhdGFTZXJpZXMgPSB0aGlzLmRhdGFTZXJpZXNbaV07XHJcblxyXG5cclxuICAgIGlmIChkYXRhU2VyaWVzLnR5cGUgIT09IFwicGllXCIgJiYgZGF0YVNlcmllcy50eXBlICE9PSBcImRvdWdobnV0XCIgJiYgZGF0YVNlcmllcy50eXBlICE9PSBcImZ1bm5lbFwiKSB7XHJcblxyXG4gICAgICB2YXIgbWFya2VyVHlwZSA9IGRhdGFTZXJpZXMubGVnZW5kTWFya2VyVHlwZSA/IGRhdGFTZXJpZXMubGVnZW5kTWFya2VyVHlwZSA6IChkYXRhU2VyaWVzLnR5cGUgPT09IFwibGluZVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzdGVwTGluZVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzcGxpbmVcIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwic2NhdHRlclwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJidWJibGVcIikgJiYgZGF0YVNlcmllcy5tYXJrZXJUeXBlID8gZGF0YVNlcmllcy5tYXJrZXJUeXBlIDogRGF0YVNlcmllcy5nZXREZWZhdWx0TGVnZW5kTWFya2VyKGRhdGFTZXJpZXMudHlwZSk7XHJcbiAgICAgIHZhciBsZWdlbmRUZXh0ID0gZGF0YVNlcmllcy5sZWdlbmRUZXh0ID8gZGF0YVNlcmllcy5sZWdlbmRUZXh0IDogdGhpcy5pdGVtVGV4dEZvcm1hdHRlciA/IHRoaXMuaXRlbVRleHRGb3JtYXR0ZXIoeyBjaGFydDogdGhpcy5jaGFydCwgbGVnZW5kOiB0aGlzLl9vcHRpb25zLCBkYXRhU2VyaWVzOiBkYXRhU2VyaWVzLCBkYXRhUG9pbnQ6IG51bGwgfSlcclxuICAgICAgICA6IGRhdGFTZXJpZXMubmFtZTtcclxuICAgICAgdmFyIG1hcmtlckNvbG9yID0gZGF0YVNlcmllcy5sZWdlbmRNYXJrZXJDb2xvciA/IGRhdGFTZXJpZXMubGVnZW5kTWFya2VyQ29sb3IgOiBkYXRhU2VyaWVzLm1hcmtlckNvbG9yID8gZGF0YVNlcmllcy5tYXJrZXJDb2xvciA6IGRhdGFTZXJpZXMuX2NvbG9yU2V0WzBdO1xyXG4gICAgICB2YXIgbWFya2VyU2l6ZSA9ICghZGF0YVNlcmllcy5tYXJrZXJTaXplICYmIChkYXRhU2VyaWVzLnR5cGUgPT09IFwibGluZVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzdGVwTGluZVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzcGxpbmVcIikpID8gMCA6IHRoaXMubGluZUhlaWdodCAqIC42O1xyXG4gICAgICB2YXIgbWFya2VyQm9yZGVyQ29sb3IgPSBkYXRhU2VyaWVzLmxlZ2VuZE1hcmtlckJvcmRlckNvbG9yID8gZGF0YVNlcmllcy5sZWdlbmRNYXJrZXJCb3JkZXJDb2xvciA6IGRhdGFTZXJpZXMubWFya2VyQm9yZGVyQ29sb3I7XHJcbiAgICAgIHZhciBtYXJrZXJCb3JkZXJUaGlja25lc3MgPSBkYXRhU2VyaWVzLmxlZ2VuZE1hcmtlckJvcmRlclRoaWNrbmVzcyA/IGRhdGFTZXJpZXMubGVnZW5kTWFya2VyQm9yZGVyVGhpY2tuZXNzIDogZGF0YVNlcmllcy5tYXJrZXJCb3JkZXJUaGlja25lc3MgPyBNYXRoLm1heCgxLCBNYXRoLnJvdW5kKG1hcmtlclNpemUgKiAuMikpIDogMDtcclxuICAgICAgdmFyIGxpbmVDb2xvciA9IGRhdGFTZXJpZXMuX2NvbG9yU2V0WzBdO1xyXG5cclxuICAgICAgbGVnZW5kVGV4dCA9IHRoaXMuY2hhcnQucmVwbGFjZUtleXdvcmRzV2l0aFZhbHVlKGxlZ2VuZFRleHQsIGRhdGFTZXJpZXMuZGF0YVBvaW50c1swXSwgZGF0YVNlcmllcywgaSk7XHJcbiAgICAgIHZhciBpdGVtID0ge1xyXG4gICAgICAgIG1hcmtlclR5cGU6IG1hcmtlclR5cGUsIG1hcmtlckNvbG9yOiBtYXJrZXJDb2xvciwgdGV4dDogbGVnZW5kVGV4dCwgdGV4dEJsb2NrOiBudWxsLCBjaGFydFR5cGU6IGRhdGFTZXJpZXMudHlwZSwgbWFya2VyU2l6ZTogbWFya2VyU2l6ZSwgbGluZUNvbG9yOiBkYXRhU2VyaWVzLl9jb2xvclNldFswXSxcclxuICAgICAgICBkYXRhU2VyaWVzSW5kZXg6IGRhdGFTZXJpZXMuaW5kZXgsIGRhdGFQb2ludEluZGV4OiBudWxsLCBtYXJrZXJCb3JkZXJDb2xvcjogbWFya2VyQm9yZGVyQ29sb3IsIG1hcmtlckJvcmRlclRoaWNrbmVzczogbWFya2VyQm9yZGVyVGhpY2tuZXNzXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBpdGVtcy5wdXNoKGl0ZW0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZm9yICh2YXIgZGF0YVBvaW50SW5kZXggPSAwOyBkYXRhUG9pbnRJbmRleCA8IGRhdGFTZXJpZXMuZGF0YVBvaW50cy5sZW5ndGg7IGRhdGFQb2ludEluZGV4KyspIHtcclxuXHJcbiAgICAgICAgdmFyIGRhdGFQb2ludCA9IGRhdGFTZXJpZXMuZGF0YVBvaW50c1tkYXRhUG9pbnRJbmRleF07XHJcblxyXG4gICAgICAgIHZhciBtYXJrZXJUeXBlID0gZGF0YVBvaW50LmxlZ2VuZE1hcmtlclR5cGUgPyBkYXRhUG9pbnQubGVnZW5kTWFya2VyVHlwZSA6IGRhdGFTZXJpZXMubGVnZW5kTWFya2VyVHlwZSA/IGRhdGFTZXJpZXMubGVnZW5kTWFya2VyVHlwZSA6IERhdGFTZXJpZXMuZ2V0RGVmYXVsdExlZ2VuZE1hcmtlcihkYXRhU2VyaWVzLnR5cGUpO1xyXG4gICAgICAgIHZhciBsZWdlbmRUZXh0ID0gZGF0YVBvaW50LmxlZ2VuZFRleHQgPyBkYXRhUG9pbnQubGVnZW5kVGV4dCA6IGRhdGFTZXJpZXMubGVnZW5kVGV4dCA/IGRhdGFTZXJpZXMubGVnZW5kVGV4dCA6IHRoaXMuaXRlbVRleHRGb3JtYXR0ZXIgPyB0aGlzLml0ZW1UZXh0Rm9ybWF0dGVyKHsgY2hhcnQ6IHRoaXMuY2hhcnQsIGxlZ2VuZDogdGhpcy5fb3B0aW9ucywgZGF0YVNlcmllczogZGF0YVNlcmllcywgZGF0YVBvaW50OiBkYXRhUG9pbnQgfSlcclxuICAgICAgICAgIDogZGF0YVBvaW50Lm5hbWUgPyBkYXRhUG9pbnQubmFtZSA6IFwiRGF0YVBvaW50OiBcIiArIChkYXRhUG9pbnRJbmRleCArIDEpO1xyXG4gICAgICAgIHZhciBtYXJrZXJDb2xvciA9IGRhdGFQb2ludC5sZWdlbmRNYXJrZXJDb2xvciA/IGRhdGFQb2ludC5sZWdlbmRNYXJrZXJDb2xvciA6IGRhdGFTZXJpZXMubGVnZW5kTWFya2VyQ29sb3IgPyBkYXRhU2VyaWVzLmxlZ2VuZE1hcmtlckNvbG9yIDogZGF0YVBvaW50LmNvbG9yID8gZGF0YVBvaW50LmNvbG9yIDogZGF0YVNlcmllcy5jb2xvciA/IGRhdGFTZXJpZXMuY29sb3IgOiBkYXRhU2VyaWVzLl9jb2xvclNldFtkYXRhUG9pbnRJbmRleCAlIGRhdGFTZXJpZXMuX2NvbG9yU2V0Lmxlbmd0aF07XHJcbiAgICAgICAgdmFyIG1hcmtlclNpemUgPSB0aGlzLmxpbmVIZWlnaHQgKiAuNjtcclxuICAgICAgICB2YXIgbWFya2VyQm9yZGVyQ29sb3IgPSBkYXRhUG9pbnQubGVnZW5kTWFya2VyQm9yZGVyQ29sb3IgPyBkYXRhUG9pbnQubGVnZW5kTWFya2VyQm9yZGVyQ29sb3IgOiBkYXRhU2VyaWVzLmxlZ2VuZE1hcmtlckJvcmRlckNvbG9yID8gZGF0YVNlcmllcy5sZWdlbmRNYXJrZXJCb3JkZXJDb2xvciA6IGRhdGFQb2ludC5tYXJrZXJCb3JkZXJDb2xvciA/IGRhdGFQb2ludC5tYXJrZXJCb3JkZXJDb2xvciA6IGRhdGFTZXJpZXMubWFya2VyQm9yZGVyQ29sb3I7XHJcbiAgICAgICAgdmFyIG1hcmtlckJvcmRlclRoaWNrbmVzcyA9IGRhdGFQb2ludC5sZWdlbmRNYXJrZXJCb3JkZXJUaGlja25lc3MgPyBkYXRhUG9pbnQubGVnZW5kTWFya2VyQm9yZGVyVGhpY2tuZXNzIDogZGF0YVNlcmllcy5sZWdlbmRNYXJrZXJCb3JkZXJUaGlja25lc3MgPyBkYXRhU2VyaWVzLmxlZ2VuZE1hcmtlckJvcmRlclRoaWNrbmVzcyA6IGRhdGFQb2ludC5tYXJrZXJCb3JkZXJUaGlja25lc3MgfHwgZGF0YVNlcmllcy5tYXJrZXJCb3JkZXJUaGlja25lc3MgPyBNYXRoLm1heCgxLCBNYXRoLnJvdW5kKG1hcmtlclNpemUgKiAuMikpIDogMDtcclxuXHJcbiAgICAgICAgbGVnZW5kVGV4dCA9IHRoaXMuY2hhcnQucmVwbGFjZUtleXdvcmRzV2l0aFZhbHVlKGxlZ2VuZFRleHQsIGRhdGFQb2ludCwgZGF0YVNlcmllcywgZGF0YVBvaW50SW5kZXgpO1xyXG5cclxuICAgICAgICB2YXIgaXRlbSA9IHtcclxuICAgICAgICAgIG1hcmtlclR5cGU6IG1hcmtlclR5cGUsIG1hcmtlckNvbG9yOiBtYXJrZXJDb2xvciwgdGV4dDogbGVnZW5kVGV4dCwgdGV4dEJsb2NrOiBudWxsLCBjaGFydFR5cGU6IGRhdGFTZXJpZXMudHlwZSwgbWFya2VyU2l6ZTogbWFya2VyU2l6ZSxcclxuICAgICAgICAgIGRhdGFTZXJpZXNJbmRleDogaSwgZGF0YVBvaW50SW5kZXg6IGRhdGFQb2ludEluZGV4LCBtYXJrZXJCb3JkZXJDb2xvcjogbWFya2VyQm9yZGVyQ29sb3IsIG1hcmtlckJvcmRlclRoaWNrbmVzczogbWFya2VyQm9yZGVyVGhpY2tuZXNzXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaWYgKGRhdGFQb2ludC5zaG93SW5MZWdlbmQgfHwgKGRhdGFTZXJpZXMuc2hvd0luTGVnZW5kICYmIGRhdGFQb2ludC5zaG93SW5MZWdlbmQgIT09IGZhbHNlKSkge1xyXG4gICAgICAgICAgaXRlbXMucHVzaChpdGVtKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGl0ZW0gPSBudWxsO1xyXG4gIH1cclxuICBpZiAodGhpcy5yZXZlcnNlZCA9PT0gdHJ1ZSkge1xyXG4gICAgaXRlbXMucmV2ZXJzZSgpO1xyXG4gIH1cclxuXHJcbiAgLy8gRmluZCBvdXQgdGhlIHJlcXVpcmVkIHdpZHRoIGFuZCBoZWlnaHQgb2YgTGVnZW5kIGFuZCBwb3NpdGlvbiB0aGUgaXRlbXMgcmVsYXRpdmUgdG8gdGhlIGNvbnRhaW5lclxyXG4gIGlmIChpdGVtcy5sZW5ndGggPiAwKSB7XHJcbiAgICB2YXIgcm93ID0gbnVsbDtcclxuICAgIHZhciByb3dJbmRleCA9IDA7IC8vIHJlcXVpcmVkIGZvciB2ZXJ0aWNhbCBvcmllbnRhdGlvblxyXG4gICAgdmFyIHRleHRNYXhXaWR0aCA9IDA7XHJcbiAgICB2YXIgY29sdW1uSGVpZ2h0ID0gMDtcclxuXHJcbiAgICBpZiAodGhpcy5pdGVtV2lkdGggIT09IG51bGwpIHtcclxuICAgICAgaWYgKHRoaXMuaXRlbU1heFdpZHRoICE9PSBudWxsKSB7XHJcbiAgICAgICAgdGV4dE1heFdpZHRoID0gTWF0aC5taW4odGhpcy5pdGVtV2lkdGgsIHRoaXMuaXRlbU1heFdpZHRoLCBtYXhXaWR0aCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGV4dE1heFdpZHRoID0gTWF0aC5taW4odGhpcy5pdGVtV2lkdGgsIG1heFdpZHRoKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKHRoaXMuaXRlbU1heFdpZHRoICE9PSBudWxsKSB7XHJcbiAgICAgICAgdGV4dE1heFdpZHRoID0gTWF0aC5taW4odGhpcy5pdGVtTWF4V2lkdGgsIG1heFdpZHRoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0ZXh0TWF4V2lkdGggPSBtYXhXaWR0aDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG1hcmtlclNpemUgPSAobWFya2VyU2l6ZSA9PT0gMCA/IHRoaXMubGluZUhlaWdodCAqIC42IDogbWFya2VyU2l6ZSk7XHJcbiAgICB0ZXh0TWF4V2lkdGggPSB0ZXh0TWF4V2lkdGggLSAobWFya2VyU2l6ZSArIHRoaXMuaG9yaXpvbnRhbFNwYWNpbmcgKiAuMSk7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICB2YXIgaXRlbSA9IGl0ZW1zW2ldO1xyXG5cclxuICAgICAgaWYgKGl0ZW0uY2hhcnRUeXBlID09PSBcImxpbmVcIiB8fCBpdGVtLmNoYXJ0VHlwZSA9PT0gXCJzcGxpbmVcIiB8fCBpdGVtLmNoYXJ0VHlwZSA9PT0gXCJzdGVwTGluZVwiKSB7XHJcbiAgICAgICAgdGV4dE1heFdpZHRoID0gdGV4dE1heFdpZHRoIC0gMiAqICh0aGlzLmxpbmVIZWlnaHQgKiAuMSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChtYXhIZWlnaHQgPD0gMCB8fCB0eXBlb2YgKG1heEhlaWdodCkgPT09IFwidW5kZWZpbmVkXCIgfHwgdGV4dE1heFdpZHRoIDw9IDAgfHwgdHlwZW9mICh0ZXh0TWF4V2lkdGgpID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgY29udGludWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0aGlzLm9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIikge1xyXG5cclxuICAgICAgICBpdGVtLnRleHRCbG9jayA9IG5ldyBUZXh0QmxvY2sodGhpcy5jdHgsIHtcclxuICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICB5OiAwLC8vVEJJXHJcbiAgICAgICAgICBtYXhXaWR0aDogdGV4dE1heFdpZHRoLFxyXG4gICAgICAgICAgbWF4SGVpZ2h0OiB0aGlzLml0ZW1XcmFwID8gbWF4SGVpZ2h0IDogdGhpcy5saW5lSGVpZ2h0LCAvL1RCSTogRm9udFNpemVcclxuICAgICAgICAgIGFuZ2xlOiAwLFxyXG4gICAgICAgICAgdGV4dDogaXRlbS50ZXh0LFxyXG4gICAgICAgICAgaG9yaXpvbnRhbEFsaWduOiBcImxlZnRcIiwvL2xlZnQsIGNlbnRlciwgcmlnaHRcclxuICAgICAgICAgIGZvbnRTaXplOiB0aGlzLmZvbnRTaXplLC8vaW4gcGl4ZWxzXHJcbiAgICAgICAgICBmb250RmFtaWx5OiB0aGlzLmZvbnRGYW1pbHksXHJcbiAgICAgICAgICBmb250V2VpZ2h0OiB0aGlzLmZvbnRXZWlnaHQsIC8vbm9ybWFsLCBib2xkLCBib2xkZXIsIGxpZ2h0ZXIsXHJcbiAgICAgICAgICBmb250Q29sb3I6IHRoaXMuZm9udENvbG9yLFxyXG4gICAgICAgICAgZm9udFN0eWxlOiB0aGlzLmZvbnRTdHlsZSwgLy8gbm9ybWFsLCBpdGFsaWMsIG9ibGlxdWVcclxuICAgICAgICAgIHRleHRCYXNlbGluZTogXCJ0b3BcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGl0ZW0udGV4dEJsb2NrLm1lYXN1cmVUZXh0KCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLml0ZW1XaWR0aCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgaXRlbS50ZXh0QmxvY2sud2lkdGggPSB0aGlzLml0ZW1XaWR0aCAtIChtYXJrZXJTaXplICsgdGhpcy5ob3Jpem9udGFsU3BhY2luZyAqIC4xICsgKChpdGVtLmNoYXJ0VHlwZSA9PT0gXCJsaW5lXCIgfHwgaXRlbS5jaGFydFR5cGUgPT09IFwic3BsaW5lXCIgfHwgaXRlbS5jaGFydFR5cGUgPT09IFwic3RlcExpbmVcIikgPyAyICogKHRoaXMubGluZUhlaWdodCAqIC4xKSA6IDApKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghcm93IHx8IHJvdy53aWR0aCArIE1hdGgucm91bmQoaXRlbS50ZXh0QmxvY2sud2lkdGggKyB0aGlzLmhvcml6b250YWxTcGFjaW5nICogLjEgKyBtYXJrZXJTaXplICsgKHJvdy53aWR0aCA9PT0gMCA/IDAgOiAodGhpcy5ob3Jpem9udGFsU3BhY2luZykpICsgKChpdGVtLmNoYXJ0VHlwZSA9PT0gXCJsaW5lXCIgfHwgaXRlbS5jaGFydFR5cGUgPT09IFwic3BsaW5lXCIgfHwgaXRlbS5jaGFydFR5cGUgPT09IFwic3RlcExpbmVcIikgPyAyICogKHRoaXMubGluZUhlaWdodCAqIC4xKSA6IDApKSA+IG1heFdpZHRoKSB7XHJcbiAgICAgICAgICByb3cgPSB7XHJcbiAgICAgICAgICAgIGl0ZW1zOiBbXSwgd2lkdGg6IDBcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICByb3dzLnB1c2gocm93KTtcclxuICAgICAgICAgIHRoaXMuaGVpZ2h0ICs9IGNvbHVtbkhlaWdodDtcclxuICAgICAgICAgIGNvbHVtbkhlaWdodCA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb2x1bW5IZWlnaHQgPSBNYXRoLm1heChjb2x1bW5IZWlnaHQsIGl0ZW0udGV4dEJsb2NrLmhlaWdodCk7XHJcblxyXG4gICAgICAgIGl0ZW0udGV4dEJsb2NrLnggPSByb3cud2lkdGg7XHJcbiAgICAgICAgaXRlbS50ZXh0QmxvY2sueSA9IDA7XHJcblxyXG4gICAgICAgIHJvdy53aWR0aCArPSBNYXRoLnJvdW5kKGl0ZW0udGV4dEJsb2NrLndpZHRoICsgdGhpcy5ob3Jpem9udGFsU3BhY2luZyAqIC4xICsgbWFya2VyU2l6ZSArIChyb3cud2lkdGggPT09IDAgPyAwIDogdGhpcy5ob3Jpem9udGFsU3BhY2luZykgKyAoKGl0ZW0uY2hhcnRUeXBlID09PSBcImxpbmVcIiB8fCBpdGVtLmNoYXJ0VHlwZSA9PT0gXCJzcGxpbmVcIiB8fCBpdGVtLmNoYXJ0VHlwZSA9PT0gXCJzdGVwTGluZVwiKSA/IDIgKiAodGhpcy5saW5lSGVpZ2h0ICogLjEpIDogMCkpO1xyXG4gICAgICAgIHJvdy5pdGVtcy5wdXNoKGl0ZW0pO1xyXG5cclxuICAgICAgICB0aGlzLndpZHRoID0gTWF0aC5tYXgocm93LndpZHRoLCB0aGlzLndpZHRoKTtcclxuICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgaXRlbS50ZXh0QmxvY2sgPSBuZXcgVGV4dEJsb2NrKHRoaXMuY3R4LCB7XHJcbiAgICAgICAgICB4OiAwLFxyXG4gICAgICAgICAgeTogMCwvL1RCSVxyXG4gICAgICAgICAgbWF4V2lkdGg6IHRleHRNYXhXaWR0aCxcclxuICAgICAgICAgIG1heEhlaWdodDogdGhpcy5pdGVtV3JhcCA9PT0gdHJ1ZSA/IG1heEhlaWdodCA6IHRoaXMuZm9udFNpemUgKiAxLjUsIC8vVEJJOiBGb250U2l6ZVxyXG4gICAgICAgICAgYW5nbGU6IDAsXHJcbiAgICAgICAgICB0ZXh0OiBpdGVtLnRleHQsXHJcbiAgICAgICAgICBob3Jpem9udGFsQWxpZ246IFwibGVmdFwiLC8vbGVmdCwgY2VudGVyLCByaWdodFxyXG4gICAgICAgICAgZm9udFNpemU6IHRoaXMuZm9udFNpemUsLy9pbiBwaXhlbHNcclxuICAgICAgICAgIGZvbnRGYW1pbHk6IHRoaXMuZm9udEZhbWlseSxcclxuICAgICAgICAgIGZvbnRXZWlnaHQ6IHRoaXMuZm9udFdlaWdodCwgLy9ub3JtYWwsIGJvbGQsIGJvbGRlciwgbGlnaHRlcixcclxuICAgICAgICAgIGZvbnRDb2xvcjogdGhpcy5mb250Q29sb3IsXHJcbiAgICAgICAgICBmb250U3R5bGU6IHRoaXMuZm9udFN0eWxlLCAvLyBub3JtYWwsIGl0YWxpYywgb2JsaXF1ZVxyXG4gICAgICAgICAgdGV4dEJhc2VsaW5lOiBcInRvcFwiXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0ZW0udGV4dEJsb2NrLm1lYXN1cmVUZXh0KCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLml0ZW1XaWR0aCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgaXRlbS50ZXh0QmxvY2sud2lkdGggPSB0aGlzLml0ZW1XaWR0aCAtIChtYXJrZXJTaXplICsgdGhpcy5ob3Jpem9udGFsU3BhY2luZyAqIC4xICsgKChpdGVtLmNoYXJ0VHlwZSA9PT0gXCJsaW5lXCIgfHwgaXRlbS5jaGFydFR5cGUgPT09IFwic3BsaW5lXCIgfHwgaXRlbS5jaGFydFR5cGUgPT09IFwic3RlcExpbmVcIikgPyAyICogKHRoaXMubGluZUhlaWdodCAqIC4xKSA6IDApKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmhlaWdodCA8PSBtYXhIZWlnaHQpIHtcclxuICAgICAgICAgIHJvdyA9IHtcclxuICAgICAgICAgICAgaXRlbXM6IFtdLCB3aWR0aDogMFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIHJvd3MucHVzaChyb3cpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByb3cgPSByb3dzW3Jvd0luZGV4XTtcclxuICAgICAgICAgIHJvd0luZGV4ID0gKHJvd0luZGV4ICsgMSkgJSByb3dzLmxlbmd0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaGVpZ2h0ICs9IGl0ZW0udGV4dEJsb2NrLmhlaWdodDtcclxuXHJcbiAgICAgICAgaXRlbS50ZXh0QmxvY2sueCA9IHJvdy53aWR0aDsgLy8gcmVsYXRpdmUgdG8gdGhlIHJvd1xyXG4gICAgICAgIGl0ZW0udGV4dEJsb2NrLnkgPSAwOyAvLyByZWxhdGl2ZSB0byB0aGUgcm93XHJcblxyXG4gICAgICAgIHJvdy53aWR0aCArPSBNYXRoLnJvdW5kKGl0ZW0udGV4dEJsb2NrLndpZHRoICsgdGhpcy5ob3Jpem9udGFsU3BhY2luZyAqIC4xICsgbWFya2VyU2l6ZSArIChyb3cud2lkdGggPT09IDAgPyAwIDogdGhpcy5ob3Jpem9udGFsU3BhY2luZykgKyAoKGl0ZW0uY2hhcnRUeXBlID09PSBcImxpbmVcIiB8fCBpdGVtLmNoYXJ0VHlwZSA9PT0gXCJzcGxpbmVcIiB8fCBpdGVtLmNoYXJ0VHlwZSA9PT0gXCJzdGVwTGluZVwiKSA/IDIgKiAodGhpcy5saW5lSGVpZ2h0ICogLjEpIDogMCkpO1xyXG4gICAgICAgIHJvdy5pdGVtcy5wdXNoKGl0ZW0pO1xyXG5cclxuICAgICAgICB0aGlzLndpZHRoID0gTWF0aC5tYXgocm93LndpZHRoLCB0aGlzLndpZHRoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLml0ZW1XcmFwID09PSBmYWxzZSkge1xyXG4gICAgICB0aGlzLmhlaWdodCA9IHJvd3MubGVuZ3RoICogKHRoaXMubGluZUhlaWdodCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmhlaWdodCArPSBjb2x1bW5IZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5oZWlnaHQgPSBNYXRoLm1pbihtYXhIZWlnaHQsIHRoaXMuaGVpZ2h0KTtcclxuICAgIHRoaXMud2lkdGggPSBNYXRoLm1pbihtYXhXaWR0aCwgdGhpcy53aWR0aCk7XHJcbiAgfVxyXG5cclxuICBpZiAodGhpcy52ZXJ0aWNhbEFsaWduID09PSBcInRvcFwiKSB7XHJcbiAgICBpZiAodGhpcy5ob3Jpem9udGFsQWxpZ24gPT09IFwibGVmdFwiKVxyXG4gICAgICBsZWZ0ID0gZnJlZVNwYWNlLngxO1xyXG4gICAgZWxzZSBpZiAodGhpcy5ob3Jpem9udGFsQWxpZ24gPT09IFwicmlnaHRcIilcclxuICAgICAgbGVmdCA9IGZyZWVTcGFjZS54MiAtIHRoaXMud2lkdGg7XHJcbiAgICBlbHNlXHJcbiAgICAgIGxlZnQgPSBmcmVlU3BhY2UueDEgKyBmcmVlU3BhY2Uud2lkdGggLyAyIC0gdGhpcy53aWR0aCAvIDI7XHJcblxyXG4gICAgdG9wID0gZnJlZVNwYWNlLnkxO1xyXG4gIH0gZWxzZSBpZiAodGhpcy52ZXJ0aWNhbEFsaWduID09PSBcImNlbnRlclwiKSB7XHJcbiAgICBpZiAodGhpcy5ob3Jpem9udGFsQWxpZ24gPT09IFwibGVmdFwiKVxyXG4gICAgICBsZWZ0ID0gZnJlZVNwYWNlLngxO1xyXG4gICAgZWxzZSBpZiAodGhpcy5ob3Jpem9udGFsQWxpZ24gPT09IFwicmlnaHRcIilcclxuICAgICAgbGVmdCA9IGZyZWVTcGFjZS54MiAtIHRoaXMud2lkdGg7XHJcbiAgICBlbHNlXHJcbiAgICAgIGxlZnQgPSBmcmVlU3BhY2UueDEgKyBmcmVlU3BhY2Uud2lkdGggLyAyIC0gdGhpcy53aWR0aCAvIDI7XHJcblxyXG4gICAgdG9wID0gZnJlZVNwYWNlLnkxICsgZnJlZVNwYWNlLmhlaWdodCAvIDIgLSB0aGlzLmhlaWdodCAvIDI7XHJcbiAgfSBlbHNlIGlmICh0aGlzLnZlcnRpY2FsQWxpZ24gPT09IFwiYm90dG9tXCIpIHtcclxuICAgIGlmICh0aGlzLmhvcml6b250YWxBbGlnbiA9PT0gXCJsZWZ0XCIpXHJcbiAgICAgIGxlZnQgPSBmcmVlU3BhY2UueDE7XHJcbiAgICBlbHNlIGlmICh0aGlzLmhvcml6b250YWxBbGlnbiA9PT0gXCJyaWdodFwiKVxyXG4gICAgICBsZWZ0ID0gZnJlZVNwYWNlLngyIC0gdGhpcy53aWR0aDtcclxuICAgIGVsc2VcclxuICAgICAgbGVmdCA9IGZyZWVTcGFjZS54MSArIGZyZWVTcGFjZS53aWR0aCAvIDIgLSB0aGlzLndpZHRoIC8gMjtcclxuXHJcbiAgICB0b3AgPSBmcmVlU3BhY2UueTIgLSB0aGlzLmhlaWdodDtcclxuICB9XHJcblxyXG4gIHRoaXMuaXRlbXMgPSBpdGVtcztcclxuXHJcbiAgLy9Bc3NpZ24gaWRzIHRvIGFsbCBsZWdlbmRJdGVtc1xyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5pdGVtcy5sZW5ndGg7IGkrKykge1xyXG5cclxuICAgIHZhciBpdGVtID0gaXRlbXNbaV07XHJcblxyXG4gICAgaXRlbS5pZCA9ICsrdGhpcy5jaGFydC5fZXZlbnRNYW5hZ2VyLmxhc3RPYmplY3RJZDtcclxuICAgIHRoaXMuY2hhcnQuX2V2ZW50TWFuYWdlci5vYmplY3RNYXBbaXRlbS5pZF0gPSB7XHJcbiAgICAgIGlkOiBpdGVtLmlkLCBvYmplY3RUeXBlOiBcImxlZ2VuZEl0ZW1cIiwgbGVnZW5kSXRlbUluZGV4OiBpLCBkYXRhU2VyaWVzSW5kZXg6IGl0ZW0uZGF0YVNlcmllc0luZGV4LCBkYXRhUG9pbnRJbmRleDogaXRlbS5kYXRhUG9pbnRJbmRleFxyXG4gICAgfTtcclxuICAgIC8vZGVsZXRlIGl0ZW0udGV4dEJsb2NrOy8vIE5vdCBSZXF1aXJlZCBhbnltb3JlXHJcbiAgfVxyXG5cclxuICB2YXIgcm93SGVpZ2h0ID0gMDtcclxuICBmb3IgKHZhciBpID0gMDsgaSA8IHJvd3MubGVuZ3RoOyBpKyspIHtcclxuICAgIHZhciByb3cgPSByb3dzW2ldO1xyXG4gICAgdmFyIGNvbHVtbkhlaWdodCA9IDA7XHJcbiAgICBmb3IgKHZhciBpdGVtSW5kZXggPSAwOyBpdGVtSW5kZXggPCByb3cuaXRlbXMubGVuZ3RoOyBpdGVtSW5kZXgrKykge1xyXG4gICAgICB2YXIgaXRlbSA9IHJvdy5pdGVtc1tpdGVtSW5kZXhdO1xyXG5cclxuICAgICAgdmFyIGl0ZW1YID0gaXRlbS50ZXh0QmxvY2sueCArIGxlZnQgKyAoaXRlbUluZGV4ID09PSAwID8gbWFya2VyU2l6ZSAqIC4yIDogdGhpcy5ob3Jpem9udGFsU3BhY2luZyk7XHJcbiAgICAgIHZhciBpdGVtWSA9IHRvcCArIHJvd0hlaWdodDtcclxuXHJcbiAgICAgIHZhciBnaG9zdFggPSBpdGVtWDtcclxuXHJcbiAgICAgIGlmICghdGhpcy5jaGFydC5kYXRhW2l0ZW0uZGF0YVNlcmllc0luZGV4XS52aXNpYmxlKVxyXG4gICAgICAgIHRoaXMuY3R4Lmdsb2JhbEFscGhhID0gLjU7XHJcblxyXG4gICAgICB0aGlzLmN0eC5zYXZlKCk7XHJcbiAgICAgIHRoaXMuY3R4LnJlY3QobGVmdCwgdG9wLCBtYXhXaWR0aCwgbWF4SGVpZ2h0KTtcclxuICAgICAgdGhpcy5jdHguY2xpcCgpO1xyXG5cclxuICAgICAgaWYgKGl0ZW0uY2hhcnRUeXBlID09PSBcImxpbmVcIiB8fCBpdGVtLmNoYXJ0VHlwZSA9PT0gXCJzdGVwTGluZVwiIHx8IGl0ZW0uY2hhcnRUeXBlID09PSBcInNwbGluZVwiKSB7XHJcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSBpdGVtLmxpbmVDb2xvcjtcclxuICAgICAgICB0aGlzLmN0eC5saW5lV2lkdGggPSBNYXRoLmNlaWwodGhpcy5saW5lSGVpZ2h0IC8gOCk7XHJcbiAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgdGhpcy5jdHgubW92ZVRvKGl0ZW1YIC0gdGhpcy5saW5lSGVpZ2h0ICogLjEsIGl0ZW1ZICsgdGhpcy5saW5lSGVpZ2h0IC8gMik7XHJcbiAgICAgICAgdGhpcy5jdHgubGluZVRvKGl0ZW1YICsgdGhpcy5saW5lSGVpZ2h0ICogLjcsIGl0ZW1ZICsgdGhpcy5saW5lSGVpZ2h0IC8gMik7XHJcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XHJcblxyXG4gICAgICAgIGdob3N0WCAtPSB0aGlzLmxpbmVIZWlnaHQgKiAuMTtcclxuICAgICAgfVxyXG5cclxuICAgICAgUmVuZGVySGVscGVyLmRyYXdNYXJrZXIoaXRlbVggKyBtYXJrZXJTaXplIC8gMiwgaXRlbVkgKyAodGhpcy5saW5lSGVpZ2h0IC8gMiksIHRoaXMuY3R4LCBpdGVtLm1hcmtlclR5cGUsIGl0ZW0ubWFya2VyU2l6ZSwgaXRlbS5tYXJrZXJDb2xvciwgaXRlbS5tYXJrZXJCb3JkZXJDb2xvciwgaXRlbS5tYXJrZXJCb3JkZXJUaGlja25lc3MpO1xyXG5cclxuICAgICAgaXRlbS50ZXh0QmxvY2sueCA9IGl0ZW1YICsgdGhpcy5ob3Jpem9udGFsU3BhY2luZyAqIC4xICsgbWFya2VyU2l6ZTtcclxuXHJcbiAgICAgIGlmIChpdGVtLmNoYXJ0VHlwZSA9PT0gXCJsaW5lXCIgfHwgaXRlbS5jaGFydFR5cGUgPT09IFwic3RlcExpbmVcIiB8fCBpdGVtLmNoYXJ0VHlwZSA9PT0gXCJzcGxpbmVcIikge1xyXG4gICAgICAgIGl0ZW0udGV4dEJsb2NrLnggPSBpdGVtLnRleHRCbG9jay54ICsgdGhpcy5saW5lSGVpZ2h0ICogLjE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGl0ZW0udGV4dEJsb2NrLnkgPSBpdGVtWTtcclxuXHJcbiAgICAgIGl0ZW0udGV4dEJsb2NrLnJlbmRlcih0cnVlKTtcclxuXHJcbiAgICAgIHRoaXMuY3R4LnJlc3RvcmUoKTtcclxuXHJcbiAgICAgIGlmIChpdGVtSW5kZXggPiAwKSB7XHJcbiAgICAgICAgY29sdW1uSGVpZ2h0ID0gTWF0aC5tYXgoY29sdW1uSGVpZ2h0LCBpdGVtLnRleHRCbG9jay5oZWlnaHQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbHVtbkhlaWdodCA9IGl0ZW0udGV4dEJsb2NrLmhlaWdodDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCF0aGlzLmNoYXJ0LmRhdGFbaXRlbS5kYXRhU2VyaWVzSW5kZXhdLnZpc2libGUpXHJcbiAgICAgICAgdGhpcy5jdHguZ2xvYmFsQWxwaGEgPSAxO1xyXG5cclxuICAgICAgdmFyIGhleENvbG9yID0gaW50VG9IZXhDb2xvclN0cmluZyhpdGVtLmlkKTtcclxuICAgICAgdGhpcy5naG9zdEN0eC5maWxsU3R5bGUgPSBoZXhDb2xvcjtcclxuICAgICAgdGhpcy5naG9zdEN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgdGhpcy5naG9zdEN0eC5maWxsUmVjdChnaG9zdFgsIGl0ZW0udGV4dEJsb2NrLnksIGl0ZW0udGV4dEJsb2NrLnggKyBpdGVtLnRleHRCbG9jay53aWR0aCAtIGdob3N0WCwgaXRlbS50ZXh0QmxvY2suaGVpZ2h0KTtcclxuXHJcbiAgICAgIGl0ZW0ueDEgPSB0aGlzLmNoYXJ0Ll9ldmVudE1hbmFnZXIub2JqZWN0TWFwW2l0ZW0uaWRdLngxID0gZ2hvc3RYO1xyXG4gICAgICBpdGVtLnkxID0gdGhpcy5jaGFydC5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtpdGVtLmlkXS55MSA9IGl0ZW0udGV4dEJsb2NrLnk7XHJcbiAgICAgIGl0ZW0ueDIgPSB0aGlzLmNoYXJ0Ll9ldmVudE1hbmFnZXIub2JqZWN0TWFwW2l0ZW0uaWRdLngyID0gaXRlbS50ZXh0QmxvY2sueCArIGl0ZW0udGV4dEJsb2NrLndpZHRoO1xyXG4gICAgICBpdGVtLnkyID0gdGhpcy5jaGFydC5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtpdGVtLmlkXS55MiA9IGl0ZW0udGV4dEJsb2NrLnkgKyBpdGVtLnRleHRCbG9jay5oZWlnaHQ7XHJcbiAgICB9XHJcbiAgICByb3dIZWlnaHQgPSByb3dIZWlnaHQgKyBjb2x1bW5IZWlnaHQ7XHJcbiAgfVxyXG5cclxuICAvL3RoaXMuY3R4LmJlZ2luUGF0aCgpO1xyXG4gIC8vdGhpcy5jdHgubGluZVdpZHRoID0gMjtcclxuICAvL3RoaXMuY3R4LnN0cm9rZVN0eWxlID0gXCJyZWRcIjtcclxuICAvL3RoaXMuY3R4LnJlY3QobGVmdCwgdG9wLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcbiAgLy90aGlzLmN0eC5zdHJva2UoKTtcclxuXHJcbiAgY29udGFpbmVyLmxheW91dE1hbmFnZXIucmVnaXN0ZXJTcGFjZShwb3NpdGlvbiwgeyB3aWR0aDogdGhpcy53aWR0aCArIDIgKyAyLCBoZWlnaHQ6IHRoaXMuaGVpZ2h0ICsgNSArIDUgfSk7XHJcblxyXG4gIHRoaXMuYm91bmRzID0ge1xyXG4gICAgeDE6IGxlZnQsIHkxOiB0b3AsIHgyOiBsZWZ0ICsgdGhpcy53aWR0aCwgeTI6IHRvcCArIHRoaXMuaGVpZ2h0XHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTGVnZW5kO1xyXG4iLCJcclxuaW1wb3J0IENhbnZhc0pTT2JqZWN0IGZyb20gJy4vY2FudmFzanMnO1xyXG5pbXBvcnQge2V4dGVuZCwgZ2V0Rm9udEhlaWdodEluUGl4ZWxzLCB0cmltU3RyaW5nLCBnZXRGb250U3RyaW5nfSBmcm9tICcuLi9oZWxwZXJzL3V0aWxzJztcclxuXHJcbmZ1bmN0aW9uIFRleHRCbG9jayhjdHgsIG9wdGlvbnMpIHtcclxuXHJcbiAgVGV4dEJsb2NrLmJhc2UuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBcIlRleHRCbG9ja1wiLCBvcHRpb25zKTtcclxuXHJcbiAgdGhpcy5jdHggPSBjdHg7XHJcbiAgdGhpcy5faXNEaXJ0eSA9IHRydWU7XHJcbiAgdGhpcy5fd3JhcHBlZFRleHQgPSBudWxsO1xyXG4gIHRoaXMuX2xpbmVIZWlnaHQgPSBnZXRGb250SGVpZ2h0SW5QaXhlbHModGhpcy5mb250RmFtaWx5LCB0aGlzLmZvbnRTaXplLCB0aGlzLmZvbnRXZWlnaHQpO1xyXG59XHJcblxyXG5leHRlbmQoVGV4dEJsb2NrLCBDYW52YXNKU09iamVjdCk7XHJcblxyXG5UZXh0QmxvY2sucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChwcmVzZXJ2ZUNvbnRleHQpIHtcclxuICBpZiAocHJlc2VydmVDb250ZXh0KVxyXG4gICAgdGhpcy5jdHguc2F2ZSgpO1xyXG5cclxuICB2YXIgZm9udCA9IHRoaXMuY3R4LmZvbnQ7XHJcbiAgdGhpcy5jdHgudGV4dEJhc2VsaW5lID0gdGhpcy50ZXh0QmFzZWxpbmU7XHJcblxyXG4gIHZhciBvZmZzZXRZID0gMDtcclxuXHJcbiAgaWYgKHRoaXMuX2lzRGlydHkpXHJcbiAgICB0aGlzLm1lYXN1cmVUZXh0KHRoaXMuY3R4KTtcclxuXHJcbiAgdGhpcy5jdHgudHJhbnNsYXRlKHRoaXMueCwgdGhpcy55ICsgb2Zmc2V0WSk7XHJcblxyXG4gIGlmICh0aGlzLnRleHRCYXNlbGluZSA9PT0gXCJtaWRkbGVcIikge1xyXG4gICAgb2Zmc2V0WSA9IC10aGlzLl9saW5lSGVpZ2h0IC8gMjtcclxuICB9XHJcblxyXG4gIHRoaXMuY3R4LmZvbnQgPSB0aGlzLl9nZXRGb250U3RyaW5nKCk7XHJcblxyXG4gIHRoaXMuY3R4LnJvdGF0ZShNYXRoLlBJIC8gMTgwICogdGhpcy5hbmdsZSk7XHJcblxyXG4gIHZhciB0ZXh0TGVmdCA9IDA7XHJcbiAgdmFyIHRleHRUb3AgPSB0aGlzLnBhZGRpbmc7XHJcbiAgLy92YXIgdGV4dFRvcCA9IHRoaXMucGFkZGluZztcclxuICB2YXIgbGluZSA9IG51bGw7XHJcblxyXG4gIGlmICgodGhpcy5ib3JkZXJUaGlja25lc3MgPiAwICYmIHRoaXMuYm9yZGVyQ29sb3IpIHx8IHRoaXMuYmFja2dyb3VuZENvbG9yKSB7XHJcbiAgICB0aGlzLmN0eC5yb3VuZFJlY3QoMCwgb2Zmc2V0WSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRoaXMuY29ybmVyUmFkaXVzLCB0aGlzLmJvcmRlclRoaWNrbmVzcywgdGhpcy5iYWNrZ3JvdW5kQ29sb3IsIHRoaXMuYm9yZGVyQ29sb3IpO1xyXG5cclxuICAgIC8vaWYgKHRoaXMudGV4dEJhc2VsaW5lID09PSBcIm1pZGRsZVwiKSB7XHJcbiAgICAvL1x0Ly90ZXh0VG9wICs9IHRoaXMuZm9udFNpemUgLyAyO1xyXG4gICAgLy9cdHRleHRUb3AgKz0gdGhpcy5fbGluZUhlaWdodCAvIDI7XHJcbiAgICAvL31cclxuICB9XHJcblxyXG4gIHRoaXMuY3R4LmZpbGxTdHlsZSA9IHRoaXMuZm9udENvbG9yO1xyXG5cclxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3dyYXBwZWRUZXh0LmxpbmVzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgbGluZSA9IHRoaXMuX3dyYXBwZWRUZXh0LmxpbmVzW2ldO1xyXG4gICAgaWYgKHRoaXMuaG9yaXpvbnRhbEFsaWduID09PSBcInJpZ2h0XCIpXHJcbiAgICAgIHRleHRMZWZ0ID0gdGhpcy53aWR0aCAtIGxpbmUud2lkdGggLSB0aGlzLnBhZGRpbmc7XHJcbiAgICBlbHNlIGlmICh0aGlzLmhvcml6b250YWxBbGlnbiA9PT0gXCJsZWZ0XCIpXHJcbiAgICAgIHRleHRMZWZ0ID0gdGhpcy5wYWRkaW5nO1xyXG4gICAgZWxzZSBpZiAodGhpcy5ob3Jpem9udGFsQWxpZ24gPT09IFwiY2VudGVyXCIpXHJcbiAgICAgIHRleHRMZWZ0ID0gKHRoaXMud2lkdGggLSB0aGlzLnBhZGRpbmcgKiAyKSAvIDIgLSBsaW5lLndpZHRoIC8gMiArIHRoaXMucGFkZGluZztcclxuXHJcbiAgICB0aGlzLmN0eC5maWxsVGV4dChsaW5lLnRleHQsIHRleHRMZWZ0LCB0ZXh0VG9wKTtcclxuXHJcbiAgICB0ZXh0VG9wICs9IGxpbmUuaGVpZ2h0O1xyXG4gIH1cclxuXHJcbiAgdGhpcy5jdHguZm9udCA9IGZvbnQ7XHJcblxyXG4gIGlmIChwcmVzZXJ2ZUNvbnRleHQpXHJcbiAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XHJcbn1cclxuXHJcblRleHRCbG9jay5wcm90b3R5cGUuc2V0VGV4dCA9IGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgdGhpcy50ZXh0ID0gdGV4dDtcclxuICB0aGlzLl9pc0RpcnR5ID0gdHJ1ZTtcclxuICB0aGlzLl93cmFwcGVkVGV4dCA9IG51bGw7XHJcbn1cclxuXHJcblRleHRCbG9jay5wcm90b3R5cGUubWVhc3VyZVRleHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgaWYgKHRoaXMubWF4V2lkdGggPT09IG51bGwpIHtcclxuICAgIHRocm93IChcIlBsZWFzZSBzZXQgbWF4V2lkdGggYW5kIGhlaWdodCBmb3IgVGV4dEJsb2NrXCIpO1xyXG4gIH1cclxuXHJcbiAgdGhpcy5fd3JhcFRleHQodGhpcy5jdHgpO1xyXG4gIHRoaXMuX2lzRGlydHkgPSBmYWxzZTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHdpZHRoOiB0aGlzLndpZHRoLCBoZWlnaHQ6IHRoaXMuaGVpZ2h0XHJcbiAgfVxyXG59XHJcblxyXG5UZXh0QmxvY2sucHJvdG90eXBlLl9nZXRMaW5lV2l0aFdpZHRoID0gZnVuY3Rpb24gKHRleHQsIHdpZHRoLCBjbGlwV29yZCkge1xyXG4gIHRleHQgPSBTdHJpbmcodGV4dCk7XHJcbiAgY2xpcFdvcmQgPSBjbGlwV29yZCB8fCBmYWxzZTtcclxuXHJcbiAgaWYgKCF0ZXh0KVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdGV4dDogXCJcIiwgd2lkdGg6IDBcclxuICAgIH07XHJcblxyXG4gIHZhciB0ZXh0V2lkdGggPSAwLFxyXG4gICAgbWluID0gMCxcclxuICAgIG1heCA9IHRleHQubGVuZ3RoIC0gMSxcclxuICAgIG1pZCA9IEluZmluaXR5O1xyXG5cclxuICB0aGlzLmN0eC5mb250ID0gdGhpcy5fZ2V0Rm9udFN0cmluZygpO1xyXG5cclxuICB3aGlsZSAobWluIDw9IG1heCkge1xyXG4gICAgbWlkID0gTWF0aC5mbG9vcigobWluICsgbWF4KSAvIDIpO1xyXG4gICAgdmFyIHRlbXBUZXh0ID0gdGV4dC5zdWJzdHIoMCwgbWlkICsgMSk7XHJcblxyXG4gICAgdGV4dFdpZHRoID0gdGhpcy5jdHgubWVhc3VyZVRleHQodGVtcFRleHQpLndpZHRoO1xyXG5cclxuICAgIGlmICh0ZXh0V2lkdGggPCB3aWR0aCkge1xyXG4gICAgICBtaW4gPSBtaWQgKyAxO1xyXG4gICAgfSBlbHNlIGlmICh0ZXh0V2lkdGggPiB3aWR0aCkge1xyXG4gICAgICBtYXggPSBtaWQgLSAxO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvL2VkZ2UgY2FzZXNcclxuICBpZiAodGV4dFdpZHRoID4gd2lkdGggJiYgdGVtcFRleHQubGVuZ3RoID4gMSkge1xyXG4gICAgdGVtcFRleHQgPSB0ZW1wVGV4dC5zdWJzdHIoMCwgdGVtcFRleHQubGVuZ3RoIC0gMSk7XHJcbiAgICB0ZXh0V2lkdGggPSB0aGlzLmN0eC5tZWFzdXJlVGV4dCh0ZW1wVGV4dCkud2lkdGg7XHJcbiAgfVxyXG5cclxuICB2YXIgaXNDbGlwcGVkID0gdHJ1ZTtcclxuXHJcbiAgaWYgKHRlbXBUZXh0Lmxlbmd0aCA9PT0gdGV4dC5sZW5ndGggfHwgdGV4dFt0ZW1wVGV4dC5sZW5ndGhdID09PSBcIiBcIilcclxuICAgIGlzQ2xpcHBlZCA9IGZhbHNlO1xyXG5cclxuICBpZiAoaXNDbGlwcGVkKSB7XHJcbiAgICB2YXIgcmVzdWx0V29yZHMgPSB0ZW1wVGV4dC5zcGxpdChcIiBcIik7XHJcbiAgICBpZiAocmVzdWx0V29yZHMubGVuZ3RoID4gMSlcclxuICAgICAgcmVzdWx0V29yZHMucG9wKCk7XHJcblxyXG4gICAgdGVtcFRleHQgPSByZXN1bHRXb3Jkcy5qb2luKFwiIFwiKTtcclxuICAgIHRleHRXaWR0aCA9IHRoaXMuY3R4Lm1lYXN1cmVUZXh0KHRlbXBUZXh0KS53aWR0aDtcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICB0ZXh0OiB0ZW1wVGV4dCwgd2lkdGg6IHRleHRXaWR0aFxyXG4gIH07XHJcbn1cclxuXHJcblRleHRCbG9jay5wcm90b3R5cGUuX3dyYXBUZXh0ID0gZnVuY3Rpb24gd3JhcFRleHQoKSB7XHJcbiAgLy90aGlzLmN0eC5zYXZlKCk7XHJcbiAgdmFyIHRleHQgPSBuZXcgU3RyaW5nKHRyaW1TdHJpbmcoU3RyaW5nKHRoaXMudGV4dCkpKTtcclxuICB2YXIgbGluZXMgPSBbXTtcclxuICB2YXIgZm9udCA9IHRoaXMuY3R4LmZvbnQ7IC8vIFNhdmUgdGhlIGN1cnJlbnQgRm9udFxyXG4gIHZhciBoZWlnaHQgPSAwO1xyXG4gIHZhciB3aWR0aCA9IDA7XHJcblxyXG4gIHRoaXMuY3R4LmZvbnQgPSB0aGlzLl9nZXRGb250U3RyaW5nKCk7XHJcblxyXG4gIHdoaWxlICh0ZXh0Lmxlbmd0aCA+IDApIHtcclxuXHJcbiAgICB2YXIgbWF4V2lkdGggPSB0aGlzLm1heFdpZHRoIC0gdGhpcy5wYWRkaW5nICogMjtcclxuICAgIHZhciBtYXhIZWlnaHQgPSB0aGlzLm1heEhlaWdodCAtIHRoaXMucGFkZGluZyAqIDI7XHJcblxyXG4gICAgdmFyIGxpbmUgPSB0aGlzLl9nZXRMaW5lV2l0aFdpZHRoKHRleHQsIG1heFdpZHRoLCBmYWxzZSk7XHJcbiAgICBsaW5lLmhlaWdodCA9IHRoaXMuX2xpbmVIZWlnaHQ7XHJcblxyXG4gICAgbGluZXMucHVzaChsaW5lKTtcclxuXHJcbiAgICB3aWR0aCA9IE1hdGgubWF4KHdpZHRoLCBsaW5lLndpZHRoKTtcclxuICAgIGhlaWdodCArPSBsaW5lLmhlaWdodDtcclxuICAgIHRleHQgPSB0cmltU3RyaW5nKHRleHQuc2xpY2UobGluZS50ZXh0Lmxlbmd0aCwgdGV4dC5sZW5ndGgpKTtcclxuXHJcbiAgICBpZiAobWF4SGVpZ2h0ICYmIGhlaWdodCA+IG1heEhlaWdodCkge1xyXG4gICAgICB2YXIgbGluZSA9IGxpbmVzLnBvcCgpO1xyXG4gICAgICBoZWlnaHQgLT0gbGluZS5oZWlnaHQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB0aGlzLl93cmFwcGVkVGV4dCA9IHtcclxuICAgIGxpbmVzOiBsaW5lcywgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodFxyXG4gIH07XHJcbiAgdGhpcy53aWR0aCA9IHdpZHRoICsgdGhpcy5wYWRkaW5nICogMjtcclxuICB0aGlzLmhlaWdodCA9IGhlaWdodCArIHRoaXMucGFkZGluZyAqIDI7XHJcblxyXG4gIHRoaXMuY3R4LmZvbnQgPSBmb250OyAvLyBSZXN0b3JlIHRoZSBmb250XHJcbn1cclxuXHJcblRleHRCbG9jay5wcm90b3R5cGUuX2dldEZvbnRTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgLy9yZXR1cm4gdGhpcy5mb250U3R5bGUgKyBcIiBcIiArIHRoaXMuZm9udFdlaWdodCArIFwiIFwiICsgdGhpcy5mb250U2l6ZSArIFwicHggXCIgKyB0aGlzLmZvbnRGYW1pbHlcclxuICByZXR1cm4gZ2V0Rm9udFN0cmluZyhcIlwiLCB0aGlzLCBudWxsKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVGV4dEJsb2NrO1xyXG4iLCJcclxuaW1wb3J0IENhbnZhc0pTT2JqZWN0IGZyb20gJy4vY2FudmFzanMnO1xyXG5pbXBvcnQgVGV4dEJsb2NrIGZyb20gJy4vdGV4dF9ibG9jayc7XHJcbmltcG9ydCB7ZXh0ZW5kfSBmcm9tICcuLi9oZWxwZXJzL3V0aWxzJztcclxuXHJcbmZ1bmN0aW9uIFRpdGxlKGNoYXJ0LCBvcHRpb25zKSB7XHJcblx0VGl0bGUuYmFzZS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIFwiVGl0bGVcIiwgb3B0aW9ucywgY2hhcnQudGhlbWUpO1xyXG5cclxuXHR0aGlzLmNoYXJ0ID0gY2hhcnQ7XHJcblx0dGhpcy5jYW52YXMgPSBjaGFydC5jYW52YXM7XHJcblx0dGhpcy5jdHggPSB0aGlzLmNoYXJ0LmN0eDtcclxuXHJcblxyXG5cdGlmICh0eXBlb2YgKHRoaXMuX29wdGlvbnMuZm9udFNpemUpID09PSBcInVuZGVmaW5lZFwiKSB7XHJcblxyXG5cdFx0dGhpcy5mb250U2l6ZSA9IHRoaXMuY2hhcnQuZ2V0QXV0b0ZvbnRTaXplKHRoaXMuZm9udFNpemUpO1xyXG5cclxuXHRcdC8vd2luZG93LmNvbnNvbGUubG9nKFwiQ2hhcnQgVGl0bGUgZm9udFNpemU6IFwiICsgdGhpcy5mb250U2l6ZSk7XHJcblx0fVxyXG5cclxuXHR0aGlzLndpZHRoID0gbnVsbCwvL3JlYWQgb25seVxyXG5cdHRoaXMuaGVpZ2h0ID0gbnVsbC8vcmVhZCBvbmx5XHJcblx0dGhpcy5ib3VuZHMgPSB7XHJcblx0XHR4MTogbnVsbCwgeTE6IG51bGwsIHgyOiBudWxsLCB5MjogbnVsbFxyXG5cdH07XHJcbn1cclxuXHJcbmV4dGVuZChUaXRsZSwgQ2FudmFzSlNPYmplY3QpO1xyXG5cclxuVGl0bGUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcclxuXHJcblx0aWYgKCF0aGlzLnRleHQpIHJldHVybjtcclxuXHJcblx0dmFyIGNvbnRhaW5lciA9ICghdGhpcy5kb2NrSW5zaWRlUGxvdEFyZWEgPyB0aGlzLmNoYXJ0IDogdGhpcy5jaGFydC5wbG90QXJlYSk7XHJcblx0dmFyIGZyZWVzcGFjZSA9IGNvbnRhaW5lci5sYXlvdXRNYW5hZ2VyLmdldEZyZWVTcGFjZSgpO1xyXG5cdHZhciBsZWZ0ID0gZnJlZXNwYWNlLngxO1xyXG5cdHZhciB0b3AgPSBmcmVlc3BhY2UueTE7XHJcblx0dmFyIGFuZ2xlID0gMDtcclxuXHR2YXIgbWF4SGVpZ2h0ID0gMDtcclxuXHR2YXIgY29udGFpbmVyTWFyZ2luID0gMjsgLy9NYXJnaW4gdG93YXJkcyB0aGUgY29udGFpbmVyXHJcblx0dmFyIHJpZ2h0T2Zmc2V0ID0gdGhpcy5jaGFydC5fbWVudUJ1dHRvbiAmJiB0aGlzLmNoYXJ0LmV4cG9ydEVuYWJsZWQgJiYgdGhpcy52ZXJ0aWNhbEFsaWduID09PSBcInRvcFwiID8gMjIgOiAwOyAvL1NvIHRoYXQgVGl0bGUgZG9lc24ndCBvdmVybGFwIG1lbnUgYnV0dG9uLlxyXG5cclxuXHR2YXIgdGV4dEJsb2NrSG9yaXpvbnRhbEFsaWduO1xyXG5cdHZhciBwb3NpdGlvbjtcclxuXHJcblx0aWYgKHRoaXMudmVydGljYWxBbGlnbiA9PT0gXCJ0b3BcIiB8fCB0aGlzLnZlcnRpY2FsQWxpZ24gPT09IFwiYm90dG9tXCIpIHtcclxuXHRcdGlmICh0aGlzLm1heFdpZHRoID09PSBudWxsKVxyXG5cdFx0XHR0aGlzLm1heFdpZHRoID0gZnJlZXNwYWNlLndpZHRoIC0gY29udGFpbmVyTWFyZ2luICogMiAtIHJpZ2h0T2Zmc2V0ICogKHRoaXMuaG9yaXpvbnRhbEFsaWduID09PSBcImNlbnRlclwiID8gMiA6IDEpO1xyXG5cclxuXHRcdG1heEhlaWdodCA9IGZyZWVzcGFjZS5oZWlnaHQgKiAuNSAtIHRoaXMubWFyZ2luIC0gY29udGFpbmVyTWFyZ2luO1xyXG5cdFx0YW5nbGUgPSAwO1xyXG5cdH1cclxuXHRlbHNlIGlmICh0aGlzLnZlcnRpY2FsQWxpZ24gPT09IFwiY2VudGVyXCIpIHtcclxuXHJcblx0XHRpZiAodGhpcy5ob3Jpem9udGFsQWxpZ24gPT09IFwibGVmdFwiIHx8IHRoaXMuaG9yaXpvbnRhbEFsaWduID09PSBcInJpZ2h0XCIpIHtcclxuXHRcdFx0aWYgKHRoaXMubWF4V2lkdGggPT09IG51bGwpXHJcblx0XHRcdFx0dGhpcy5tYXhXaWR0aCA9IGZyZWVzcGFjZS5oZWlnaHQgLSBjb250YWluZXJNYXJnaW4gKiAyO1xyXG5cclxuXHRcdFx0bWF4SGVpZ2h0ID0gZnJlZXNwYWNlLndpZHRoICogLjUgLSB0aGlzLm1hcmdpbiAtIGNvbnRhaW5lck1hcmdpbjtcclxuXHRcdH0gZWxzZSBpZiAodGhpcy5ob3Jpem9udGFsQWxpZ24gPT09IFwiY2VudGVyXCIpIHtcclxuXHRcdFx0aWYgKHRoaXMubWF4V2lkdGggPT09IG51bGwpXHJcblx0XHRcdFx0dGhpcy5tYXhXaWR0aCA9IGZyZWVzcGFjZS53aWR0aCAtIGNvbnRhaW5lck1hcmdpbiAqIDI7XHJcblxyXG5cdFx0XHRtYXhIZWlnaHQgPSBmcmVlc3BhY2UuaGVpZ2h0ICogLjUgLSBjb250YWluZXJNYXJnaW4gKiAyO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0aWYgKCF0aGlzLndyYXApXHJcblx0XHRtYXhIZWlnaHQgPSBNYXRoLm1pbihtYXhIZWlnaHQsIE1hdGgubWF4KHRoaXMuZm9udFNpemUgKiAxLjUsIHRoaXMuZm9udFNpemUgKyB0aGlzLnBhZGRpbmcgKiAyLjUpKTtcclxuXHQvL2NvbnNvbGUubG9nKHRoaXMubWF4V2lkdGgpO1xyXG5cclxuXHR2YXIgdGV4dEJsb2NrID0gbmV3IFRleHRCbG9jayh0aGlzLmN0eCwge1xyXG5cdFx0Zm9udFNpemU6IHRoaXMuZm9udFNpemUsIGZvbnRGYW1pbHk6IHRoaXMuZm9udEZhbWlseSwgZm9udENvbG9yOiB0aGlzLmZvbnRDb2xvcixcclxuXHRcdGZvbnRTdHlsZTogdGhpcy5mb250U3R5bGUsIGZvbnRXZWlnaHQ6IHRoaXMuZm9udFdlaWdodCxcclxuXHRcdGhvcml6b250YWxBbGlnbjogdGhpcy5ob3Jpem9udGFsQWxpZ24sIHZlcnRpY2FsQWxpZ246IHRoaXMudmVydGljYWxBbGlnbixcclxuXHRcdGJvcmRlckNvbG9yOiB0aGlzLmJvcmRlckNvbG9yLCBib3JkZXJUaGlja25lc3M6IHRoaXMuYm9yZGVyVGhpY2tuZXNzLFxyXG5cdFx0YmFja2dyb3VuZENvbG9yOiB0aGlzLmJhY2tncm91bmRDb2xvcixcclxuXHRcdG1heFdpZHRoOiB0aGlzLm1heFdpZHRoLCBtYXhIZWlnaHQ6IG1heEhlaWdodCxcclxuXHRcdGNvcm5lclJhZGl1czogdGhpcy5jb3JuZXJSYWRpdXMsXHJcblx0XHR0ZXh0OiB0aGlzLnRleHQsXHJcblx0XHRwYWRkaW5nOiB0aGlzLnBhZGRpbmcsXHJcblx0XHR0ZXh0QmFzZWxpbmU6IFwidG9wXCJcclxuXHR9KTtcclxuXHJcblx0dmFyIHRleHRCbG9ja1NpemUgPSB0ZXh0QmxvY2subWVhc3VyZVRleHQoKTtcclxuXHJcblx0aWYgKHRoaXMudmVydGljYWxBbGlnbiA9PT0gXCJ0b3BcIiB8fCB0aGlzLnZlcnRpY2FsQWxpZ24gPT09IFwiYm90dG9tXCIpIHtcclxuXHJcblx0XHRpZiAodGhpcy52ZXJ0aWNhbEFsaWduID09PSBcInRvcFwiKSB7XHJcblx0XHRcdHRvcCA9IGZyZWVzcGFjZS55MSArIGNvbnRhaW5lck1hcmdpbjtcclxuXHRcdFx0cG9zaXRpb24gPSBcInRvcFwiO1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSBpZiAodGhpcy52ZXJ0aWNhbEFsaWduID09PSBcImJvdHRvbVwiKSB7XHJcblx0XHRcdHRvcCA9IGZyZWVzcGFjZS55MiAtIGNvbnRhaW5lck1hcmdpbiAtIHRleHRCbG9ja1NpemUuaGVpZ2h0O1xyXG5cdFx0XHRwb3NpdGlvbiA9IFwiYm90dG9tXCI7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMuaG9yaXpvbnRhbEFsaWduID09PSBcImxlZnRcIikge1xyXG5cdFx0XHRsZWZ0ID0gZnJlZXNwYWNlLngxICsgY29udGFpbmVyTWFyZ2luO1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSBpZiAodGhpcy5ob3Jpem9udGFsQWxpZ24gPT09IFwiY2VudGVyXCIpIHtcclxuXHRcdFx0bGVmdCA9IGZyZWVzcGFjZS54MSArIGZyZWVzcGFjZS53aWR0aCAvIDIgLSB0ZXh0QmxvY2tTaXplLndpZHRoIC8gMjtcclxuXHRcdH1cclxuXHRcdGVsc2UgaWYgKHRoaXMuaG9yaXpvbnRhbEFsaWduID09PSBcInJpZ2h0XCIpIHtcclxuXHRcdFx0bGVmdCA9IGZyZWVzcGFjZS54MiAtIGNvbnRhaW5lck1hcmdpbiAtIHRleHRCbG9ja1NpemUud2lkdGggLSByaWdodE9mZnNldDtcclxuXHRcdH1cclxuXHJcblx0XHR0ZXh0QmxvY2tIb3Jpem9udGFsQWxpZ24gPSB0aGlzLmhvcml6b250YWxBbGlnbjtcclxuXHJcblx0XHR0aGlzLndpZHRoID0gdGV4dEJsb2NrU2l6ZS53aWR0aDtcclxuXHRcdHRoaXMuaGVpZ2h0ID0gdGV4dEJsb2NrU2l6ZS5oZWlnaHQ7XHJcblx0fVxyXG5cdGVsc2UgaWYgKHRoaXMudmVydGljYWxBbGlnbiA9PT0gXCJjZW50ZXJcIikge1xyXG5cclxuXHRcdGlmICh0aGlzLmhvcml6b250YWxBbGlnbiA9PT0gXCJsZWZ0XCIpIHtcclxuXHJcblx0XHRcdGxlZnQgPSBmcmVlc3BhY2UueDEgKyBjb250YWluZXJNYXJnaW47XHJcblx0XHRcdHRvcCA9IGZyZWVzcGFjZS55MiAtIGNvbnRhaW5lck1hcmdpbiAtICh0aGlzLm1heFdpZHRoIC8gMiAtIHRleHRCbG9ja1NpemUud2lkdGggLyAyKTtcclxuXHRcdFx0YW5nbGUgPSAtOTA7XHJcblxyXG5cdFx0XHRwb3NpdGlvbiA9IFwibGVmdFwiO1xyXG5cdFx0XHR0aGlzLndpZHRoID0gdGV4dEJsb2NrU2l6ZS5oZWlnaHQ7XHJcblx0XHRcdHRoaXMuaGVpZ2h0ID0gdGV4dEJsb2NrU2l6ZS53aWR0aDtcclxuXHRcdH1cclxuXHRcdGVsc2UgaWYgKHRoaXMuaG9yaXpvbnRhbEFsaWduID09PSBcInJpZ2h0XCIpIHtcclxuXHRcdFx0bGVmdCA9IGZyZWVzcGFjZS54MiAtIGNvbnRhaW5lck1hcmdpbjtcclxuXHRcdFx0dG9wID0gZnJlZXNwYWNlLnkxICsgY29udGFpbmVyTWFyZ2luICsgKHRoaXMubWF4V2lkdGggLyAyIC0gdGV4dEJsb2NrU2l6ZS53aWR0aCAvIDIpO1xyXG5cdFx0XHRhbmdsZSA9IDkwO1xyXG5cclxuXHRcdFx0cG9zaXRpb24gPSBcInJpZ2h0XCI7XHJcblx0XHRcdHRoaXMud2lkdGggPSB0ZXh0QmxvY2tTaXplLmhlaWdodDtcclxuXHRcdFx0dGhpcy5oZWlnaHQgPSB0ZXh0QmxvY2tTaXplLndpZHRoO1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSBpZiAodGhpcy5ob3Jpem9udGFsQWxpZ24gPT09IFwiY2VudGVyXCIpIHtcclxuXHRcdFx0dG9wID0gY29udGFpbmVyLnkxICsgKGNvbnRhaW5lci5oZWlnaHQgLyAyIC0gdGV4dEJsb2NrU2l6ZS5oZWlnaHQgLyAyKTtcclxuXHRcdFx0bGVmdCA9IGNvbnRhaW5lci54MSArIChjb250YWluZXIud2lkdGggLyAyIC0gdGV4dEJsb2NrU2l6ZS53aWR0aCAvIDIpO1xyXG5cclxuXHRcdFx0cG9zaXRpb24gPSBcImNlbnRlclwiO1xyXG5cdFx0XHR0aGlzLndpZHRoID0gdGV4dEJsb2NrU2l6ZS53aWR0aDtcclxuXHRcdFx0dGhpcy5oZWlnaHQgPSB0ZXh0QmxvY2tTaXplLmhlaWdodDtcclxuXHRcdH1cclxuXHJcblx0XHR0ZXh0QmxvY2tIb3Jpem9udGFsQWxpZ24gPSBcImNlbnRlclwiO1xyXG5cdH1cclxuXHJcblx0dGV4dEJsb2NrLnggPSBsZWZ0O1xyXG5cdHRleHRCbG9jay55ID0gdG9wO1xyXG5cdHRleHRCbG9jay5hbmdsZSA9IGFuZ2xlO1xyXG5cdHRleHRCbG9jay5ob3Jpem9udGFsQWxpZ24gPSB0ZXh0QmxvY2tIb3Jpem9udGFsQWxpZ247XHJcblx0dGV4dEJsb2NrLnJlbmRlcih0cnVlKTtcclxuXHJcblx0Y29udGFpbmVyLmxheW91dE1hbmFnZXIucmVnaXN0ZXJTcGFjZShwb3NpdGlvbiwge1xyXG5cdFx0d2lkdGg6IHRoaXMud2lkdGggKyAocG9zaXRpb24gPT09IFwibGVmdFwiIHx8IHBvc2l0aW9uID09PSBcInJpZ2h0XCIgPyB0aGlzLm1hcmdpbiArIGNvbnRhaW5lck1hcmdpbiA6IDApLFxyXG5cdFx0aGVpZ2h0OiB0aGlzLmhlaWdodCArIChwb3NpdGlvbiA9PT0gXCJ0b3BcIiB8fCBwb3NpdGlvbiA9PT0gXCJib3R0b21cIiA/IHRoaXMubWFyZ2luICsgY29udGFpbmVyTWFyZ2luIDogMClcclxuXHR9KTtcclxuXHJcblx0dGhpcy5ib3VuZHMgPSB7XHJcblx0XHR4MTogbGVmdCwgeTE6IHRvcCwgeDI6IGxlZnQgKyB0aGlzLndpZHRoLCB5MjogdG9wICsgdGhpcy5oZWlnaHRcclxuXHR9O1xyXG5cclxuXHR0aGlzLmN0eC50ZXh0QmFzZWxpbmUgPSBcInRvcFwiO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUaXRsZTtcclxuIiwiXHJcbmltcG9ydCBBbmltYXRpb25IZWxwZXIgZnJvbSAnLi4vaGVscGVycy9hbmltYXRvcic7XHJcbmltcG9ydCBSZW5kZXJIZWxwZXIgZnJvbSAnLi4vaGVscGVycy9yZW5kZXInO1xyXG5pbXBvcnQgQ2FudmFzSlNPYmplY3QgZnJvbSAnLi9jYW52YXNqcyc7XHJcbmltcG9ydCB7ZXh0ZW5kLCBpc0NhbnZhc1N1cHBvcnRlZCwgZ2V0T2JqZWN0SWQsIGRyYXdSZWN0LCBkcmF3U2VnbWVudH0gZnJvbSAnLi4vaGVscGVycy91dGlscyc7XHJcblxyXG5mdW5jdGlvbiBUb29sVGlwKGNoYXJ0LCBvcHRpb25zLCB0aGVtZSkge1xyXG5cclxuICBUb29sVGlwLmJhc2UuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBcIlRvb2xUaXBcIiwgb3B0aW9ucywgdGhlbWUpO1xyXG5cclxuICB0aGlzLmNoYXJ0ID0gY2hhcnQ7XHJcbiAgdGhpcy5jYW52YXMgPSBjaGFydC5jYW52YXM7XHJcbiAgdGhpcy5jdHggPSB0aGlzLmNoYXJ0LmN0eDtcclxuICB0aGlzLmN1cnJlbnRTZXJpZXNJbmRleCA9IC0xO1xyXG4gIHRoaXMuY3VycmVudERhdGFQb2ludEluZGV4ID0gLTE7XHJcbiAgdGhpcy5fdGltZXJJZCA9IDA7XHJcbiAgdGhpcy5fcHJldlggPSBOYU47XHJcbiAgdGhpcy5fcHJldlkgPSBOYU47XHJcblxyXG4gIHRoaXMuX2luaXRpYWxpemUoKTtcclxufVxyXG5cclxuZXh0ZW5kKFRvb2xUaXAsIENhbnZhc0pTT2JqZWN0KTtcclxuXHJcblRvb2xUaXAucHJvdG90eXBlLl9pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICBpZiAodGhpcy5lbmFibGVkKSB7XHJcbiAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICB0aGlzLmNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhbnZhc2pzLWNoYXJ0LXRvb2x0aXBcIik7XHJcbiAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcclxuICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IFwiYXV0b1wiO1xyXG4gICAgdGhpcy5jb250YWluZXIuc3R5bGUuYm94U2hhZG93ID0gXCIxcHggMXB4IDJweCAycHggcmdiYSgwLDAsMCwwLjEpXCI7XHJcbiAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS56SW5kZXggPSBcIjEwMDBcIjtcclxuICAgIC8vdGhpcy5jb250YWluZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiO1xyXG4gICAgdGhpcy5jb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgLy90aGlzLmNvbnRhaW5lci5zdHlsZS53aGl0ZVNwYWNlID0gXCJuby13cmFwXCI7XHJcblxyXG4gICAgdmFyIHRvb2xUaXBIdG1sID0gXCI8ZGl2IHN0eWxlPVxcXCIgd2lkdGg6IGF1dG87XCI7XHJcbiAgICB0b29sVGlwSHRtbCArPSBcImhlaWdodDogYXV0bztcIjtcclxuICAgIHRvb2xUaXBIdG1sICs9IFwibWluLXdpZHRoOiA1MHB4O1wiO1xyXG4gICAgdG9vbFRpcEh0bWwgKz0gXCJsaW5lLWhlaWdodDogYXV0bztcIjtcclxuICAgIHRvb2xUaXBIdG1sICs9IFwibWFyZ2luOiAwcHggMHB4IDBweCAwcHg7XCI7XHJcbiAgICB0b29sVGlwSHRtbCArPSBcInBhZGRpbmc6IDVweDtcIjtcclxuICAgIHRvb2xUaXBIdG1sICs9IFwiZm9udC1mYW1pbHk6IENhbGlicmksIEFyaWFsLCBHZW9yZ2lhLCBzZXJpZjtcIjtcclxuICAgIHRvb2xUaXBIdG1sICs9IFwiZm9udC13ZWlnaHQ6IG5vcm1hbDtcIjtcclxuICAgIHRvb2xUaXBIdG1sICs9IFwiZm9udC1zdHlsZTogXCIgKyAoaXNDYW52YXNTdXBwb3J0ZWQgPyBcIml0YWxpYztcIiA6IFwibm9ybWFsO1wiKTtcclxuICAgIHRvb2xUaXBIdG1sICs9IFwiZm9udC1zaXplOiAxNHB4O1wiO1xyXG4gICAgdG9vbFRpcEh0bWwgKz0gXCJjb2xvcjogIzAwMDAwMDtcIjtcclxuICAgIHRvb2xUaXBIdG1sICs9IFwidGV4dC1zaGFkb3c6IDFweCAxcHggMXB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcIjtcclxuICAgIHRvb2xUaXBIdG1sICs9IFwidGV4dC1hbGlnbjogbGVmdDtcIjtcclxuICAgIHRvb2xUaXBIdG1sICs9IFwiYm9yZGVyOiAycHggc29saWQgZ3JheTtcIjtcclxuXHJcbiAgICAvL09sZGVyIGJyb3dzZXJzIGxpa2UgSUU4LSBkb24ndCBzdXBwb3J0IGFscGhhIHZhbHVlc1xyXG4gICAgdG9vbFRpcEh0bWwgKz0gaXNDYW52YXNTdXBwb3J0ZWQgPyBcImJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsLjkpO1wiIDogXCJiYWNrZ3JvdW5kOiByZ2IoMjU1LDI1NSwyNTUpO1wiO1xyXG5cclxuICAgIHRvb2xUaXBIdG1sICs9IFwidGV4dC1pbmRlbnQ6IDBweDtcIjtcclxuICAgIHRvb2xUaXBIdG1sICs9IFwid2hpdGUtc3BhY2U6IG5vd3JhcDtcIjtcclxuICAgIC8vdG9vbFRpcEh0bWwgKz0gXCJwb2ludGVyLWV2ZW50czpub25lO1wiO1xyXG4gICAgdG9vbFRpcEh0bWwgKz0gXCJib3JkZXItcmFkaXVzOiA1cHg7XCI7XHJcblxyXG4gICAgLy9EaXNhYmxlIFRleHQgU2VsZWN0aW9uXHJcbiAgICB0b29sVGlwSHRtbCArPSBcIi1tb3otdXNlci1zZWxlY3Q6bm9uZTtcIjtcclxuICAgIHRvb2xUaXBIdG1sICs9IFwiLWtodG1sLXVzZXItc2VsZWN0OiBub25lO1wiO1xyXG4gICAgdG9vbFRpcEh0bWwgKz0gXCItd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1wiO1xyXG4gICAgdG9vbFRpcEh0bWwgKz0gXCItbXMtdXNlci1zZWxlY3Q6IG5vbmU7XCI7XHJcbiAgICB0b29sVGlwSHRtbCArPSBcInVzZXItc2VsZWN0OiBub25lO1wiO1xyXG5cclxuICAgIC8vdG9vbFRpcEh0bWwgKz0gXCJvcGFjaXR5OiAwO1wiO1xyXG4gICAgLy90b29sVGlwSHRtbCArPSBcImZpbHRlcjogcHJvZ2lkOiBEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5ncmFkaWVudChHcmFkaWVudFR5cGUgPSAwLCBzdGFydENvbG9yc3RyID0gJyM0Y2ZmZmZmZicsIGVuZENvbG9yc3RyID0gJyM0Y2ZmZmZmZicpO1wiO1xyXG5cclxuICAgIGlmICghaXNDYW52YXNTdXBwb3J0ZWQpIHtcclxuICAgICAgLy90b29sVGlwSHRtbCArPSBcIi1tcy1maWx0ZXI6J3Byb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYShPcGFjaXR5PTkwKSdcIjtcclxuICAgICAgLy8tbXMtZmlsdGVyOiBcInByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5TaGFkb3coU3RyZW5ndGg9NCwgRGlyZWN0aW9uPTEzNSwgQ29sb3I9JyMwMDAwMDAnKVwiO1xyXG4gICAgICAvKiBGb3IgSUUgNS41IC0gNyAqL1xyXG4gICAgICB0b29sVGlwSHRtbCArPSBcImZpbHRlcjogYWxwaGEob3BhY2l0eSA9IDkwKTtcIjtcclxuICAgICAgdG9vbFRpcEh0bWwgKz0gXCJmaWx0ZXI6IHByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5TaGFkb3coU3RyZW5ndGg9MywgRGlyZWN0aW9uPTEzNSwgQ29sb3I9JyM2NjY2NjYnKTtcIjtcclxuICAgIH1cclxuXHJcbiAgICB0b29sVGlwSHRtbCArPSBcIn0gXFxcIj4gU2FtcGxlIFRvb2x0aXA8L2Rpdj5cIjtcclxuXHJcbiAgICB0aGlzLmNvbnRhaW5lci5pbm5lckhUTUwgPSB0b29sVGlwSHRtbDtcclxuICAgIHRoaXMuY29udGVudERpdiA9IHRoaXMuY29udGFpbmVyLmZpcnN0Q2hpbGQ7XHJcblxyXG5cclxuICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmJvcmRlclJhZGl1cyA9IHRoaXMuY29udGVudERpdi5zdHlsZS5ib3JkZXJSYWRpdXM7XHJcbiAgICB0aGlzLmNoYXJ0Ll9jYW52YXNKU0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmNvbnRhaW5lcik7XHJcbiAgfVxyXG59XHJcblxyXG5Ub29sVGlwLnByb3RvdHlwZS5tb3VzZU1vdmVIYW5kbGVyID0gZnVuY3Rpb24gKHgsIHkpIHtcclxuXHJcbiAgaWYgKCEodGhpcy5fbGFzdFVwZGF0ZWQgJiYgKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gdGhpcy5fbGFzdFVwZGF0ZWQpIDwgNDApKSB7XHJcbiAgICB0aGlzLl9sYXN0VXBkYXRlZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgdGhpcy5fdXBkYXRlVG9vbFRpcCh4LCB5KTtcclxuICB9XHJcbn1cclxuXHJcblRvb2xUaXAucHJvdG90eXBlLl91cGRhdGVUb29sVGlwID0gZnVuY3Rpb24gKG1vdXNlWCwgbW91c2VZKSB7XHJcbiAgLy9yZXR1cm47XHJcblxyXG4gIGlmICh0aGlzLmNoYXJ0LmRpc2FibGVUb29sVGlwKSAvLyBEaXNhYmxlZCBkdXJpbmcgYW5pbWF0aW9uLCBldGNcclxuICAgIHJldHVybjtcclxuXHJcbiAgaWYgKHR5cGVvZiAobW91c2VYKSA9PT0gXCJ1bmRlZmluZWRcIiB8fCB0eXBlb2YgKG1vdXNlWSkgPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgIGlmIChpc05hTih0aGlzLl9wcmV2WCkgfHwgaXNOYU4odGhpcy5fcHJldlkpKVxyXG4gICAgICByZXR1cm47XHJcbiAgICBlbHNlIHtcclxuICAgICAgbW91c2VYID0gdGhpcy5fcHJldlg7XHJcbiAgICAgIG1vdXNlWSA9IHRoaXMuX3ByZXZZO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICB0aGlzLl9wcmV2WCA9IG1vdXNlWDtcclxuICAgIHRoaXMuX3ByZXZZID0gbW91c2VZO1xyXG4gIH1cclxuXHJcblxyXG4gIHZhciBkYXRhUG9pbnQgPSBudWxsO1xyXG4gIHZhciBkYXRhU2VyaWVzID0gbnVsbDtcclxuICB2YXIgdG9vbFRpcENvbnRlbnQgPSBcIlwiO1xyXG4gIHZhciBlbnRyaWVzID0gW107XHJcbiAgdmFyIHRvb2xUaXBSaWdodDtcclxuICB2YXIgdG9vbFRpcEJvdHRvbTtcclxuICB2YXIgeCA9IDA7XHJcblxyXG4gIGlmICh0aGlzLnNoYXJlZCAmJiB0aGlzLmVuYWJsZWQgJiYgdGhpcy5jaGFydC5wbG90SW5mby5heGlzUGxhY2VtZW50ICE9PSBcIm5vbmVcIikge1xyXG4gICAgLy8gJiYgdGhpcy5jaGFydC5wbG90SW5mby5heGlzUGxhY2VtZW50ICE9PSBcIm5vbmVcIlxyXG4gICAgaWYgKHRoaXMuY2hhcnQucGxvdEluZm8uYXhpc1BsYWNlbWVudCA9PT0gXCJ4eVN3YXBwZWRcIikge1xyXG4gICAgICB4ID0gKHRoaXMuY2hhcnQuYXhpc1gudmlld3BvcnRNYXhpbXVtIC0gdGhpcy5jaGFydC5heGlzWC52aWV3cG9ydE1pbmltdW0pIC8gdGhpcy5jaGFydC5heGlzWC5saW5lQ29vcmRpbmF0ZXMuaGVpZ2h0ICogKCh0aGlzLmNoYXJ0LmF4aXNYLmxpbmVDb29yZGluYXRlcy55MiAtIG1vdXNlWSkpICsgdGhpcy5jaGFydC5heGlzWC52aWV3cG9ydE1pbmltdW07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgeCA9ICh0aGlzLmNoYXJ0LmF4aXNYLnZpZXdwb3J0TWF4aW11bSAtIHRoaXMuY2hhcnQuYXhpc1gudmlld3BvcnRNaW5pbXVtKSAvIHRoaXMuY2hhcnQuYXhpc1gubGluZUNvb3JkaW5hdGVzLndpZHRoICogKG1vdXNlWCAtIHRoaXMuY2hhcnQuYXhpc1gubGluZUNvb3JkaW5hdGVzLngxKSArIHRoaXMuY2hhcnQuYXhpc1gudmlld3BvcnRNaW5pbXVtO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBuZWFyYnlFbnRyaWVzID0gW107XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoYXJ0LmRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdmFyIGVudHJ5ID0gdGhpcy5jaGFydC5kYXRhW2ldLmdldERhdGFQb2ludEF0WCh4LCB0cnVlKTtcclxuXHJcbiAgICAgIGlmIChlbnRyeSAmJiBlbnRyeS5pbmRleCA+PSAwKSB7XHJcbiAgICAgICAgZW50cnkuZGF0YVNlcmllcyA9IHRoaXMuY2hhcnQuZGF0YVtpXTtcclxuXHJcbiAgICAgICAgaWYgKGVudHJ5LmRhdGFQb2ludC55ICE9PSBudWxsKVxyXG4gICAgICAgICAgbmVhcmJ5RW50cmllcy5wdXNoKGVudHJ5KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChuZWFyYnlFbnRyaWVzLmxlbmd0aCA9PT0gMClcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIG5lYXJieUVudHJpZXMuc29ydChmdW5jdGlvbiAoZW50cnkxLCBlbnRyeTIpIHtcclxuICAgICAgcmV0dXJuIGVudHJ5MS5kaXN0YW5jZSAtIGVudHJ5Mi5kaXN0YW5jZTtcclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBjbG9zZXN0ID0gbmVhcmJ5RW50cmllc1swXTtcclxuXHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgbmVhcmJ5RW50cmllcy5sZW5ndGg7IGkrKykge1xyXG5cclxuICAgICAgaWYgKG5lYXJieUVudHJpZXNbaV0uZGF0YVBvaW50LngudmFsdWVPZigpID09PSBjbG9zZXN0LmRhdGFQb2ludC54LnZhbHVlT2YoKSlcclxuICAgICAgICBlbnRyaWVzLnB1c2gobmVhcmJ5RW50cmllc1tpXSk7XHJcbiAgICB9XHJcblxyXG4gICAgbmVhcmJ5RW50cmllcyA9IG51bGw7XHJcblxyXG4gIH0gZWxzZSB7XHJcblxyXG4gICAgdmFyIGRhdGFQb2ludEluZm8gPSB0aGlzLmNoYXJ0LmdldERhdGFQb2ludEF0WFkobW91c2VYLCBtb3VzZVksIHRydWUpO1xyXG4gICAgLy9kYXRhUG9pbnRJbmZvID0gbnVsbDtcclxuXHJcbiAgICBpZiAoZGF0YVBvaW50SW5mbykge1xyXG4gICAgICB0aGlzLmN1cnJlbnREYXRhUG9pbnRJbmRleCA9IGRhdGFQb2ludEluZm8uZGF0YVBvaW50SW5kZXg7XHJcbiAgICAgIHRoaXMuY3VycmVudFNlcmllc0luZGV4ID0gZGF0YVBvaW50SW5mby5kYXRhU2VyaWVzLmluZGV4O1xyXG4gICAgfSBlbHNlIGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xyXG5cclxuICAgICAgdmFyIGlkID0gZ2V0T2JqZWN0SWQobW91c2VYLCBtb3VzZVksIHRoaXMuY2hhcnQuX2V2ZW50TWFuYWdlci5naG9zdEN0eCk7XHJcbiAgICAgIGlmIChpZCA+IDAgJiYgdHlwZW9mIHRoaXMuY2hhcnQuX2V2ZW50TWFuYWdlci5vYmplY3RNYXBbaWRdICE9PSBcInVuZGVmaW5lZFwiKSB7Ly9EYXRhUG9pbnQvRGF0YVNlcmllcyBldmVudFxyXG4gICAgICAgIHZhciBldmVudE9iamVjdCA9IHRoaXMuY2hhcnQuX2V2ZW50TWFuYWdlci5vYmplY3RNYXBbaWRdO1xyXG5cclxuICAgICAgICBpZiAoZXZlbnRPYmplY3Qub2JqZWN0VHlwZSA9PT0gXCJsZWdlbmRJdGVtXCIpXHJcbiAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIC8vaWYgKHRoaXMuY3VycmVudFNlcmllc0luZGV4ID09PSBldmVudE9iamVjdC5kYXRhU2VyaWVzSW5kZXggJiYgdGhpcy5jdXJyZW50RGF0YVBvaW50SW5kZXggPT09IGV2ZW50T2JqZWN0LmRhdGFQb2ludEluZGV4KVxyXG4gICAgICAgIC8vICByZXR1cm47XHJcbiAgICAgICAgLy9lbHNlIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRTZXJpZXNJbmRleCA9IGV2ZW50T2JqZWN0LmRhdGFTZXJpZXNJbmRleDtcclxuICAgICAgICB0aGlzLmN1cnJlbnREYXRhUG9pbnRJbmRleCA9IGV2ZW50T2JqZWN0LmRhdGFQb2ludEluZGV4ID49IDAgPyBldmVudE9iamVjdC5kYXRhUG9pbnRJbmRleCA6IC0xO1xyXG4gICAgICAgIC8vfVxyXG5cclxuICAgICAgICAvL3dpbmRvdy5jb25zb2xlLmxvZyhcImlkOiBcIiArIGlkICsgXCI7IGhleDogXCIgKyBpbnRUb0hleENvbG9yU3RyaW5nKGlkKSk7XHJcbiAgICAgIH0gZWxzZVxyXG4gICAgICAgIHRoaXMuY3VycmVudERhdGFQb2ludEluZGV4ID0gLTE7XHJcblxyXG4gICAgfSBlbHNlXHJcbiAgICAgIHRoaXMuY3VycmVudERhdGFQb2ludEluZGV4ID0gLTE7XHJcblxyXG5cclxuICAgIGlmICh0aGlzLmN1cnJlbnRTZXJpZXNJbmRleCA+PSAwKSB7XHJcblxyXG4gICAgICBkYXRhU2VyaWVzID0gdGhpcy5jaGFydC5kYXRhW3RoaXMuY3VycmVudFNlcmllc0luZGV4XTtcclxuXHJcbiAgICAgIHZhciBlbnRyeSA9IHtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGlmICh0aGlzLmN1cnJlbnREYXRhUG9pbnRJbmRleCA+PSAwKSB7XHJcbiAgICAgICAgZGF0YVBvaW50ID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzW3RoaXMuY3VycmVudERhdGFQb2ludEluZGV4XTtcclxuXHJcbiAgICAgICAgZW50cnkuZGF0YVNlcmllcyA9IGRhdGFTZXJpZXM7XHJcbiAgICAgICAgZW50cnkuZGF0YVBvaW50ID0gZGF0YVBvaW50O1xyXG4gICAgICAgIGVudHJ5LmluZGV4ID0gdGhpcy5jdXJyZW50RGF0YVBvaW50SW5kZXg7XHJcbiAgICAgICAgZW50cnkuZGlzdGFuY2UgPSBNYXRoLmFicyhkYXRhUG9pbnQueCAtIHgpO1xyXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZW5hYmxlZCAmJiAoZGF0YVNlcmllcy50eXBlID09PSBcImxpbmVcIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwic3RlcExpbmVcIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwic3BsaW5lXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcImFyZWFcIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwic3RlcEFyZWFcIlxyXG4gICAgICAgICAgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInNwbGluZUFyZWFcIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwic3RhY2tlZEFyZWFcIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwic3RhY2tlZEFyZWExMDBcIlxyXG4gICAgICAgICAgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInJhbmdlQXJlYVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJyYW5nZVNwbGluZUFyZWFcIlxyXG4gICAgICAgICAgfHwgZGF0YVNlcmllcy50eXBlID09PSBcImNhbmRsZXN0aWNrXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcIm9obGNcIikpIHtcclxuXHJcbiAgICAgICAgLy92YXIgeCA9ICh0aGlzLmNoYXJ0LmF4aXNYLnZpZXdwb3J0TWF4aW11bSAtIHRoaXMuY2hhcnQuYXhpc1gudmlld3BvcnRNaW5pbXVtKSAvIHRoaXMuY2hhcnQuYXhpc1gubGluZUNvb3JkaW5hdGVzLndpZHRoICogKG1vdXNlWCAtIHRoaXMuY2hhcnQuYXhpc1gubGluZUNvb3JkaW5hdGVzLngxKSArIHRoaXMuY2hhcnQuYXhpc1gudmlld3BvcnRNaW5pbXVtLnZhbHVlT2YoKTtcclxuICAgICAgICB2YXIgeCA9IGRhdGFTZXJpZXMuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSArIChtb3VzZVggLSBkYXRhU2VyaWVzLmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSkgLyBkYXRhU2VyaWVzLmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdDtcclxuXHJcblxyXG4gICAgICAgIGVudHJ5ID0gZGF0YVNlcmllcy5nZXREYXRhUG9pbnRBdFgoeCwgdHJ1ZSk7XHJcbiAgICAgICAgZW50cnkuZGF0YVNlcmllcyA9IGRhdGFTZXJpZXM7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50RGF0YVBvaW50SW5kZXggPSBlbnRyeS5pbmRleDtcclxuICAgICAgICBkYXRhUG9pbnQgPSBlbnRyeS5kYXRhUG9pbnQ7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy90aGlzLmhpZGUoKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChlbnRyeS5kYXRhUG9pbnQueSAhPT0gbnVsbCkge1xyXG4gICAgICAgIGlmIChlbnRyeS5kYXRhU2VyaWVzLmF4aXNZKSB7XHJcbiAgICAgICAgICBpZiAoZW50cnkuZGF0YVBvaW50LnkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB2YXIgdW5ib3VuZFRvVmlld3BvcnQgPSAwO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVudHJ5LmRhdGFQb2ludC55Lmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgIGlmIChlbnRyeS5kYXRhUG9pbnQueVtpXSA8IGVudHJ5LmRhdGFTZXJpZXMuYXhpc1kudmlld3BvcnRNaW5pbXVtKVxyXG4gICAgICAgICAgICAgICAgdW5ib3VuZFRvVmlld3BvcnQtLTtcclxuICAgICAgICAgICAgICBlbHNlIGlmIChlbnRyeS5kYXRhUG9pbnQueVtpXSA+IGVudHJ5LmRhdGFTZXJpZXMuYXhpc1kudmlld3BvcnRNYXhpbXVtKVxyXG4gICAgICAgICAgICAgICAgdW5ib3VuZFRvVmlld3BvcnQrKztcclxuICAgICAgICAgICAgaWYgKHVuYm91bmRUb1ZpZXdwb3J0IDwgZW50cnkuZGF0YVBvaW50LnkubGVuZ3RoICYmIHVuYm91bmRUb1ZpZXdwb3J0ID4gLWVudHJ5LmRhdGFQb2ludC55Lmxlbmd0aClcclxuICAgICAgICAgICAgICBlbnRyaWVzLnB1c2goZW50cnkpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGVudHJ5LmRhdGFQb2ludC55ID49IGVudHJ5LmRhdGFTZXJpZXMuYXhpc1kudmlld3BvcnRNaW5pbXVtICYmIGVudHJ5LmRhdGFQb2ludC55IDw9IGVudHJ5LmRhdGFTZXJpZXMuYXhpc1kudmlld3BvcnRNYXhpbXVtKVxyXG4gICAgICAgICAgICAgIGVudHJpZXMucHVzaChlbnRyeSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgZW50cmllcy5wdXNoKGVudHJ5KTtcclxuICAgIH1cclxuXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcbiAgaWYgKGVudHJpZXMubGVuZ3RoID4gMCkge1xyXG5cclxuICAgIHRoaXMuaGlnaGxpZ2h0T2JqZWN0cyhlbnRyaWVzKTtcclxuXHJcbiAgICBpZiAodGhpcy5lbmFibGVkKSB7XHJcblxyXG4gICAgICB2YXIgdG9vbFRpcElubmVySHRtbCA9IFwiXCI7XHJcblxyXG4gICAgICB0b29sVGlwSW5uZXJIdG1sID0gdGhpcy5nZXRUb29sVGlwSW5uZXJIVE1MKHsgZW50cmllczogZW50cmllcyB9KTtcclxuXHJcbiAgICAgIGlmICh0b29sVGlwSW5uZXJIdG1sICE9PSBudWxsKSB7XHJcbiAgICAgICAgdGhpcy5jb250ZW50RGl2LmlubmVySFRNTCA9IHRvb2xUaXBJbm5lckh0bWw7XHJcblxyXG4gICAgICAgIHRoaXMuY29udGVudERpdi5pbm5lckhUTUwgPSB0b29sVGlwSW5uZXJIdG1sO1xyXG5cclxuICAgICAgICB2YXIgcHJldmlvdXNseUhpZGRlbiA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID09PSBcIm5vbmVcIikge1xyXG4gICAgICAgICAgcHJldmlvdXNseUhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIHRoaXMuY29udGVudERpdi5zdHlsZS5iYWNrZ3JvdW5kID0gdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPyB0aGlzLmJhY2tncm91bmRDb2xvciA6IGlzQ2FudmFzU3VwcG9ydGVkID8gXCJyZ2JhKDI1NSwyNTUsMjU1LC45KVwiIDogXCJyZ2IoMjU1LDI1NSwyNTUpXCI7XHJcblxyXG4gICAgICAgICAgdGhpcy5jb250ZW50RGl2LnN0eWxlLmJvcmRlclJpZ2h0Q29sb3IgPSB0aGlzLmNvbnRlbnREaXYuc3R5bGUuYm9yZGVyTGVmdENvbG9yID0gdGhpcy5jb250ZW50RGl2LnN0eWxlLmJvcmRlckNvbG9yID0gdGhpcy5ib3JkZXJDb2xvciA/IHRoaXMuYm9yZGVyQ29sb3IgOiBlbnRyaWVzWzBdLmRhdGFQb2ludC5jb2xvciA/IGVudHJpZXNbMF0uZGF0YVBvaW50LmNvbG9yIDogZW50cmllc1swXS5kYXRhU2VyaWVzLmNvbG9yID8gZW50cmllc1swXS5kYXRhU2VyaWVzLmNvbG9yIDogZW50cmllc1swXS5kYXRhU2VyaWVzLl9jb2xvclNldFtlbnRyaWVzWzBdLmluZGV4ICUgZW50cmllc1swXS5kYXRhU2VyaWVzLl9jb2xvclNldC5sZW5ndGhdO1xyXG5cclxuICAgICAgICAgIHRoaXMuY29udGVudERpdi5zdHlsZS5ib3JkZXJXaWR0aCA9ICh0aGlzLmJvcmRlclRoaWNrbmVzcyB8fCB0aGlzLmJvcmRlclRoaWNrbmVzcyA9PT0gMCkgPyB0aGlzLmJvcmRlclRoaWNrbmVzcyArIFwicHhcIiA6IDIgKyBcInB4XCI7XHJcblxyXG4gICAgICAgICAgdGhpcy5jb250ZW50RGl2LnN0eWxlLmJvcmRlclJhZGl1cyA9ICh0aGlzLmNvcm5lclJhZGl1cyB8fCB0aGlzLmNvcm5lclJhZGl1cyA9PT0gMCkgPyB0aGlzLmNvcm5lclJhZGl1cyArIFwicHhcIiA6IDUgKyBcInB4XCI7XHJcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5ib3JkZXJSYWRpdXMgPSB0aGlzLmNvbnRlbnREaXYuc3R5bGUuYm9yZGVyUmFkaXVzO1xyXG5cclxuXHJcbiAgICAgICAgICB0aGlzLmNvbnRlbnREaXYuc3R5bGUuZm9udFNpemUgPSAodGhpcy5mb250U2l6ZSB8fCB0aGlzLmZvbnRTaXplID09PSAwKSA/IHRoaXMuZm9udFNpemUgKyBcInB4XCIgOiAxNCArIFwicHhcIjtcclxuICAgICAgICAgIHRoaXMuY29udGVudERpdi5zdHlsZS5jb2xvciA9IHRoaXMuZm9udENvbG9yID8gdGhpcy5mb250Q29sb3IgOiBcIiMwMDAwMDBcIjtcclxuICAgICAgICAgIHRoaXMuY29udGVudERpdi5zdHlsZS5mb250RmFtaWx5ID0gdGhpcy5mb250RmFtaWx5ID8gdGhpcy5mb250RmFtaWx5IDogXCJDYWxpYnJpLCBBcmlhbCwgR2VvcmdpYSwgc2VyaWY7XCI7XHJcbiAgICAgICAgICB0aGlzLmNvbnRlbnREaXYuc3R5bGUuZm9udFdlaWdodCA9IHRoaXMuZm9udFdlaWdodCA/IHRoaXMuZm9udFdlaWdodCA6IFwibm9ybWFsXCI7XHJcbiAgICAgICAgICB0aGlzLmNvbnRlbnREaXYuc3R5bGUuZm9udFN0eWxlID0gdGhpcy5mb250U3R5bGUgPyB0aGlzLmZvbnRTdHlsZSA6IGlzQ2FudmFzU3VwcG9ydGVkID8gXCJpdGFsaWNcIiA6IFwibm9ybWFsXCI7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciB0b29sVGlwTGVmdDtcclxuXHJcbiAgICAgICAgaWYgKGVudHJpZXNbMF0uZGF0YVNlcmllcy50eXBlID09PSBcInBpZVwiIHx8IGVudHJpZXNbMF0uZGF0YVNlcmllcy50eXBlID09PSBcImRvdWdobnV0XCIgfHwgZW50cmllc1swXS5kYXRhU2VyaWVzLnR5cGUgPT09IFwiZnVubmVsXCIgfHwgZW50cmllc1swXS5kYXRhU2VyaWVzLnR5cGUgPT09IFwiYmFyXCIgfHwgZW50cmllc1swXS5kYXRhU2VyaWVzLnR5cGUgPT09IFwicmFuZ2VCYXJcIiB8fCBlbnRyaWVzWzBdLmRhdGFTZXJpZXMudHlwZSA9PT0gXCJzdGFja2VkQmFyXCIgfHwgZW50cmllc1swXS5kYXRhU2VyaWVzLnR5cGUgPT09IFwic3RhY2tlZEJhcjEwMFwiKSB7XHJcbiAgICAgICAgICB0b29sVGlwTGVmdCA9IG1vdXNlWCAtIDEwIC0gdGhpcy5jb250YWluZXIuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vdG9vbFRpcExlZnQgPSAoKCh0aGlzLmNoYXJ0LmF4aXNYLmxpbmVDb29yZGluYXRlcy53aWR0aCAvIE1hdGguYWJzKHRoaXMuY2hhcnQuYXhpc1gudmlld3BvcnRNYXhpbXVtIC0gdGhpcy5jaGFydC5heGlzWC52aWV3cG9ydE1pbmltdW0pKSAqIE1hdGguYWJzKGVudHJpZXNbMF0uZGF0YVBvaW50LnggLSB0aGlzLmNoYXJ0LmF4aXNYLnZpZXdwb3J0TWluaW11bSkpICsgdGhpcy5jaGFydC5heGlzWC5saW5lQ29vcmRpbmF0ZXMueDEgKyAuNSkgLSB0aGlzLmNvbnRhaW5lci5jbGllbnRXaWR0aCA8PCAwO1xyXG4gICAgICAgICAgdG9vbFRpcExlZnQgPSBlbnRyaWVzWzBdLmRhdGFTZXJpZXMuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgZW50cmllc1swXS5kYXRhU2VyaWVzLmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqIChlbnRyaWVzWzBdLmRhdGFQb2ludC54IC0gZW50cmllc1swXS5kYXRhU2VyaWVzLmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pIC0gdGhpcy5jb250YWluZXIuY2xpZW50V2lkdGggPDwgMDtcclxuICAgICAgICAgIHRvb2xUaXBMZWZ0IC09IDEwO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGlmICh0b29sVGlwTGVmdCA8IDApIHtcclxuICAgICAgICAgIHRvb2xUaXBMZWZ0ICs9IHRoaXMuY29udGFpbmVyLmNsaWVudFdpZHRoICsgMjA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodG9vbFRpcExlZnQgKyB0aGlzLmNvbnRhaW5lci5jbGllbnRXaWR0aCA+IHRoaXMuY2hhcnQuX2NvbnRhaW5lci5jbGllbnRXaWR0aClcclxuICAgICAgICAgIHRvb2xUaXBMZWZ0ID0gTWF0aC5tYXgoMCwgdGhpcy5jaGFydC5fY29udGFpbmVyLmNsaWVudFdpZHRoIC0gdGhpcy5jb250YWluZXIuY2xpZW50V2lkdGgpO1xyXG5cclxuICAgICAgICB0b29sVGlwTGVmdCArPSBcInB4XCI7XHJcblxyXG4gICAgICAgIGlmIChlbnRyaWVzLmxlbmd0aCA9PT0gMSAmJiAhdGhpcy5zaGFyZWQgJiYgKGVudHJpZXNbMF0uZGF0YVNlcmllcy50eXBlID09PSBcImxpbmVcIiB8fCBlbnRyaWVzWzBdLmRhdGFTZXJpZXMudHlwZSA9PT0gXCJzdGVwTGluZVwiIHx8IGVudHJpZXNbMF0uZGF0YVNlcmllcy50eXBlID09PSBcInNwbGluZVwiIHx8IGVudHJpZXNbMF0uZGF0YVNlcmllcy50eXBlID09PSBcImFyZWFcIiB8fCBlbnRyaWVzWzBdLmRhdGFTZXJpZXMudHlwZSA9PT0gXCJzdGVwQXJlYVwiIHx8IGVudHJpZXNbMF0uZGF0YVNlcmllcy50eXBlID09PSBcInNwbGluZUFyZWFcIiB8fCBlbnRyaWVzWzBdLmRhdGFTZXJpZXMudHlwZSA9PT0gXCJzdGFja2VkQXJlYVwiIHx8IGVudHJpZXNbMF0uZGF0YVNlcmllcy50eXBlID09PSBcInN0YWNrZWRBcmVhMTAwXCIpKSB7XHJcbiAgICAgICAgICAvL3Rvb2xUaXBCb3R0b20gPSAoZW50cmllc1swXS5kYXRhU2VyaWVzLmF4aXNZLmxpbmVDb29yZGluYXRlcy55MiAtIGVudHJpZXNbMF0uZGF0YVNlcmllcy5heGlzWS5saW5lQ29vcmRpbmF0ZXMuaGVpZ2h0IC8gTWF0aC5hYnMoZW50cmllc1swXS5kYXRhU2VyaWVzLmF4aXNZLm1heGltdW0gLSBlbnRyaWVzWzBdLmRhdGFTZXJpZXMuYXhpc1kudmlld3BvcnRNaW5pbXVtKSAqIE1hdGguYWJzKGVudHJpZXNbMF0uZGF0YVBvaW50LnkgLSBlbnRyaWVzWzBdLmRhdGFTZXJpZXMuYXhpc1kudmlld3BvcnRNaW5pbXVtKSArIC41KSA8PCAwO1xyXG4gICAgICAgICAgdG9vbFRpcEJvdHRvbSA9IGVudHJpZXNbMF0uZGF0YVNlcmllcy5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBlbnRyaWVzWzBdLmRhdGFTZXJpZXMuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGVudHJpZXNbMF0uZGF0YVBvaW50LnkgLSBlbnRyaWVzWzBdLmRhdGFTZXJpZXMuYXhpc1kudmlld3BvcnRNaW5pbXVtKSArIC41IDw8IDA7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlbnRyaWVzWzBdLmRhdGFTZXJpZXMudHlwZSA9PT0gXCJiYXJcIiB8fCBlbnRyaWVzWzBdLmRhdGFTZXJpZXMudHlwZSA9PT0gXCJyYW5nZUJhclwiIHx8IGVudHJpZXNbMF0uZGF0YVNlcmllcy50eXBlID09PSBcInN0YWNrZWRCYXJcIiB8fCBlbnRyaWVzWzBdLmRhdGFTZXJpZXMudHlwZSA9PT0gXCJzdGFja2VkQmFyMTAwXCIpIHtcclxuICAgICAgICAgIC8vdG9vbFRpcEJvdHRvbSA9IChlbnRyaWVzWzBdLmRhdGFTZXJpZXMuYXhpc1gubGluZUNvb3JkaW5hdGVzLnkyIC0gZW50cmllc1swXS5kYXRhU2VyaWVzLmF4aXNYLmxpbmVDb29yZGluYXRlcy5oZWlnaHQgLyBNYXRoLmFicyhlbnRyaWVzWzBdLmRhdGFTZXJpZXMuYXhpc1gubWF4aW11bSAtIGVudHJpZXNbMF0uZGF0YVNlcmllcy5heGlzWC52aWV3cG9ydE1pbmltdW0pICogTWF0aC5hYnMoZW50cmllc1swXS5kYXRhUG9pbnQueCAtIGVudHJpZXNbMF0uZGF0YVNlcmllcy5heGlzWC52aWV3cG9ydE1pbmltdW0pICsgLjUpIDw8IDA7XHJcbiAgICAgICAgICB0b29sVGlwQm90dG9tID0gZW50cmllc1swXS5kYXRhU2VyaWVzLmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIGVudHJpZXNbMF0uZGF0YVNlcmllcy5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoZW50cmllc1swXS5kYXRhUG9pbnQueCAtIGVudHJpZXNbMF0uZGF0YVNlcmllcy5heGlzWC52aWV3cG9ydE1pbmltdW0pICsgLjUgPDwgMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICB0b29sVGlwQm90dG9tID0gbW91c2VZO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdG9vbFRpcEJvdHRvbSA9ICgtdG9vbFRpcEJvdHRvbSArIDEwKTtcclxuXHJcbiAgICAgICAgaWYgKHRvb2xUaXBCb3R0b20gKyB0aGlzLmNvbnRhaW5lci5jbGllbnRIZWlnaHQgKyA1ID4gMCkge1xyXG4gICAgICAgICAgdG9vbFRpcEJvdHRvbSAtPSB0b29sVGlwQm90dG9tICsgdGhpcy5jb250YWluZXIuY2xpZW50SGVpZ2h0ICsgNSAtIDBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRvb2xUaXBCb3R0b20gKz0gXCJweFwiO1xyXG5cclxuICAgICAgICAvL3RoaXMuY29udGFpbmVyLnN0eWxlLnJpZ2h0ID0gdG9vbFRpcFJpZ2h0O1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmxlZnQgPSB0b29sVGlwTGVmdDtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5ib3R0b20gPSB0b29sVGlwQm90dG9tO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuYW5pbWF0aW9uRW5hYmxlZCB8fCBwcmV2aW91c2x5SGlkZGVuKSB7XHJcbiAgICAgICAgICB0aGlzLmRpc2FibGVBbmltYXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgdGhpcy5lbmFibGVBbmltYXRpb24oKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmhpZGUoZmFsc2UpO1xyXG4gICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vaWYgKGlzRGVidWdNb2RlKVxyXG4gICAgLy8gIGNvbnNvbGUubG9nKFwic2VhcmNoWDogXCIgKyB4ICsgXCIgeDogXCIgKyBzZWFyY2hSZXN1bHQuZGF0YVBvaW50LnggKyBcIjsgeTogXCIgKyBzZWFyY2hSZXN1bHQuZGF0YVBvaW50LnkgKyBcIjsgZGlzdGFuY2U6IFwiICsgc2VhcmNoUmVzdWx0LmRpc3RhbmNlICsgXCI7IHN0ZXBzOiBcIiArIHN0ZXBzKTtcclxuICB9XHJcbn1cclxuXHJcblxyXG5Ub29sVGlwLnByb3RvdHlwZS5oaWdobGlnaHRPYmplY3RzID0gZnVuY3Rpb24gKGVudHJpZXMpIHtcclxuICAvL2lmICghdGhpcy5lbmFibGVkKVxyXG4gIC8vXHRyZXR1cm47XHJcblxyXG4gIC8vdGhpcy5jaGFydC5vdmVybGFpZENhbnZhc0N0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jaGFydC5vdmVybGFpZENhbnZhcy53aWR0aCwgdGhpcy5jaGFydC5vdmVybGFpZENhbnZhcy5oZWlnaHQpO1xyXG4gIHZhciBvdmVybGFpZENhbnZhc0N0eCA9IHRoaXMuY2hhcnQub3ZlcmxhaWRDYW52YXNDdHg7XHJcbiAgdGhpcy5jaGFydC5yZXNldE92ZXJsYXllZENhbnZhcygpO1xyXG5cclxuICBvdmVybGFpZENhbnZhc0N0eC5jbGVhclJlY3QoMCwwLHRoaXMuY2hhcnQud2lkdGgsIHRoaXMuY2hhcnQuaGVpZ2h0KTtcclxuICBvdmVybGFpZENhbnZhc0N0eC5zYXZlKCk7XHJcblxyXG5cclxuICB2YXIgcGxvdEFyZWEgPSB0aGlzLmNoYXJ0LnBsb3RBcmVhO1xyXG4gIHZhciBvZmZzZXQgPSAwO1xyXG5cclxuICBvdmVybGFpZENhbnZhc0N0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEueDIgLSBwbG90QXJlYS54MSwgcGxvdEFyZWEueTIgLSBwbG90QXJlYS55MSk7XHJcbiAgb3ZlcmxhaWRDYW52YXNDdHguY2xpcCgpO1xyXG5cclxuXHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbnRyaWVzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpXTtcclxuXHJcbiAgICB2YXIgZXZlbnRPYmplY3QgPSB0aGlzLmNoYXJ0Ll9ldmVudE1hbmFnZXIub2JqZWN0TWFwW2VudHJ5LmRhdGFTZXJpZXMuZGF0YVBvaW50SWRzW2VudHJ5LmluZGV4XV07XHJcblxyXG4gICAgaWYgKCFldmVudE9iamVjdCB8fCAhZXZlbnRPYmplY3Qub2JqZWN0VHlwZSB8fCBldmVudE9iamVjdC5vYmplY3RUeXBlICE9PSBcImRhdGFQb2ludFwiKVxyXG4gICAgICBjb250aW51ZTtcclxuXHJcbiAgICB2YXIgZGF0YVNlcmllcyA9IHRoaXMuY2hhcnQuZGF0YVtldmVudE9iamVjdC5kYXRhU2VyaWVzSW5kZXhdO1xyXG4gICAgdmFyIGRhdGFQb2ludCA9IGRhdGFTZXJpZXMuZGF0YVBvaW50c1tldmVudE9iamVjdC5kYXRhUG9pbnRJbmRleF07XHJcbiAgICB2YXIgaW5kZXggPSBldmVudE9iamVjdC5kYXRhUG9pbnRJbmRleDtcclxuXHJcbiAgICBpZiAoZGF0YVBvaW50LmhpZ2hsaWdodEVuYWJsZWQgIT09IGZhbHNlICYmIChkYXRhU2VyaWVzLmhpZ2hsaWdodEVuYWJsZWQgPT09IHRydWUgfHwgZGF0YVBvaW50LmhpZ2hsaWdodEVuYWJsZWQgPT09IHRydWUpKSB7XHJcblxyXG4gICAgICBpZiAoZGF0YVNlcmllcy50eXBlID09PSBcImxpbmVcIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwic3RlcExpbmVcIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwic3BsaW5lXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInNjYXR0ZXJcIlxyXG4gICAgICAgIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJhcmVhXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInN0ZXBBcmVhXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInNwbGluZUFyZWFcIlxyXG4gICAgICAgIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzdGFja2VkQXJlYVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzdGFja2VkQXJlYTEwMFwiXHJcbiAgICAgICAgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInJhbmdlQXJlYVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJyYW5nZVNwbGluZUFyZWFcIikge1xyXG4gICAgICAgIHZhciBtYXJrZXJQcm9wcyA9IGRhdGFTZXJpZXMuZ2V0TWFya2VyUHJvcGVydGllcyhpbmRleCwgZXZlbnRPYmplY3QueDEsIGV2ZW50T2JqZWN0LnkxLCB0aGlzLmNoYXJ0Lm92ZXJsYWlkQ2FudmFzQ3R4KTtcclxuICAgICAgICBtYXJrZXJQcm9wcy5zaXplID0gTWF0aC5tYXgobWFya2VyUHJvcHMuc2l6ZSAqIDEuNSA8PCAwLCAxMCk7XHJcblxyXG4gICAgICAgIG1hcmtlclByb3BzLmJvcmRlckNvbG9yID0gbWFya2VyUHJvcHMuYm9yZGVyQ29sb3IgfHwgXCIjRkZGRkZGXCI7XHJcbiAgICAgICAgbWFya2VyUHJvcHMuYm9yZGVyVGhpY2tuZXNzID0gbWFya2VyUHJvcHMuYm9yZGVyVGhpY2tuZXNzIHx8IE1hdGguY2VpbChtYXJrZXJQcm9wcy5zaXplICogLjEpO1xyXG5cclxuICAgICAgICAvL292ZXJsYWlkQ2FudmFzQ3R4Lmdsb2JhbEFscGhhID0gLjg7XHJcbiAgICAgICAgUmVuZGVySGVscGVyLmRyYXdNYXJrZXJzKFttYXJrZXJQcm9wc10pO1xyXG4gICAgICAgIC8vb3ZlcmxhaWRDYW52YXNDdHguZ2xvYmFsQWxwaGEgPSAuODtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiAoZXZlbnRPYmplY3QueTIpICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcblxyXG4gICAgICAgICAgdmFyIG1hcmtlclByb3BzID0gZGF0YVNlcmllcy5nZXRNYXJrZXJQcm9wZXJ0aWVzKGluZGV4LCBldmVudE9iamVjdC54MSwgZXZlbnRPYmplY3QueTIsIHRoaXMuY2hhcnQub3ZlcmxhaWRDYW52YXNDdHgpO1xyXG4gICAgICAgICAgbWFya2VyUHJvcHMuc2l6ZSA9IE1hdGgubWF4KG1hcmtlclByb3BzLnNpemUgKiAxLjUgPDwgMCwgMTApO1xyXG5cclxuICAgICAgICAgIG1hcmtlclByb3BzLmJvcmRlckNvbG9yID0gbWFya2VyUHJvcHMuYm9yZGVyQ29sb3IgfHwgXCIjRkZGRkZGXCI7XHJcbiAgICAgICAgICBtYXJrZXJQcm9wcy5ib3JkZXJUaGlja25lc3MgPSBtYXJrZXJQcm9wcy5ib3JkZXJUaGlja25lc3MgfHwgTWF0aC5jZWlsKG1hcmtlclByb3BzLnNpemUgKiAuMSk7XHJcblxyXG4gICAgICAgICAgLy9vdmVybGFpZENhbnZhc0N0eC5nbG9iYWxBbHBoYSA9IC44O1xyXG4gICAgICAgICAgUmVuZGVySGVscGVyLmRyYXdNYXJrZXJzKFttYXJrZXJQcm9wc10pO1xyXG4gICAgICAgICAgLy9vdmVybGFpZENhbnZhc0N0eC5nbG9iYWxBbHBoYSA9IC44O1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChkYXRhU2VyaWVzLnR5cGUgPT09IFwiYnViYmxlXCIpIHtcclxuICAgICAgICB2YXIgbWFya2VyUHJvcHMgPSBkYXRhU2VyaWVzLmdldE1hcmtlclByb3BlcnRpZXMoaW5kZXgsIGV2ZW50T2JqZWN0LngxLCBldmVudE9iamVjdC55MSwgdGhpcy5jaGFydC5vdmVybGFpZENhbnZhc0N0eCk7XHJcbiAgICAgICAgbWFya2VyUHJvcHMuc2l6ZSA9IGV2ZW50T2JqZWN0LnNpemU7XHJcbiAgICAgICAgbWFya2VyUHJvcHMuY29sb3IgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgbWFya2VyUHJvcHMuYm9yZGVyQ29sb3IgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgLy9tYXJrZXJQcm9wcy5ib3JkZXJUaGlja25lc3MgPSAyO1xyXG4gICAgICAgIG92ZXJsYWlkQ2FudmFzQ3R4Lmdsb2JhbEFscGhhID0gLjM7XHJcbiAgICAgICAgUmVuZGVySGVscGVyLmRyYXdNYXJrZXJzKFttYXJrZXJQcm9wc10pO1xyXG4gICAgICAgIG92ZXJsYWlkQ2FudmFzQ3R4Lmdsb2JhbEFscGhhID0gMTtcclxuICAgICAgfSBlbHNlIGlmIChkYXRhU2VyaWVzLnR5cGUgPT09IFwiY29sdW1uXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInN0YWNrZWRDb2x1bW5cIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwic3RhY2tlZENvbHVtbjEwMFwiXHJcbiAgICAgICAgfHwgZGF0YVNlcmllcy50eXBlID09PSBcImJhclwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJyYW5nZUJhclwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzdGFja2VkQmFyXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInN0YWNrZWRCYXIxMDBcIlxyXG4gICAgICAgIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJyYW5nZUNvbHVtblwiKSB7XHJcbiAgICAgICAgZHJhd1JlY3Qob3ZlcmxhaWRDYW52YXNDdHgsIGV2ZW50T2JqZWN0LngxLCBldmVudE9iamVjdC55MSwgZXZlbnRPYmplY3QueDIsIGV2ZW50T2JqZWN0LnkyLCBcIndoaXRlXCIsIDAsIG51bGwsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCAuMyk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAoZGF0YVNlcmllcy50eXBlID09PSBcInBpZVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJkb3VnaG51dFwiKSB7XHJcbiAgICAgICAgZHJhd1NlZ21lbnQob3ZlcmxhaWRDYW52YXNDdHgsIGV2ZW50T2JqZWN0LmNlbnRlciwgZXZlbnRPYmplY3QucmFkaXVzLCBcIndoaXRlXCIsIGRhdGFTZXJpZXMudHlwZSwgZXZlbnRPYmplY3Quc3RhcnRBbmdsZSwgZXZlbnRPYmplY3QuZW5kQW5nbGUsIC4zLCBldmVudE9iamVjdC5wZXJjZW50SW5uZXJSYWRpdXMpO1xyXG4gICAgICB9IGVsc2UgaWYgKGRhdGFTZXJpZXMudHlwZSA9PT0gXCJjYW5kbGVzdGlja1wiKSB7XHJcblxyXG4gICAgICAgIG92ZXJsYWlkQ2FudmFzQ3R4Lmdsb2JhbEFscGhhID0gMTtcclxuICAgICAgICBvdmVybGFpZENhbnZhc0N0eC5zdHJva2VTdHlsZSA9IGV2ZW50T2JqZWN0LmNvbG9yO1xyXG4gICAgICAgIG92ZXJsYWlkQ2FudmFzQ3R4LmxpbmVXaWR0aCA9IGV2ZW50T2JqZWN0LmJvcmRlclRoaWNrbmVzcyAqIDI7XHJcbiAgICAgICAgb2Zmc2V0ID0gKG92ZXJsYWlkQ2FudmFzQ3R4LmxpbmVXaWR0aCkgJSAyID09PSAwID8gMCA6IC41O1xyXG5cclxuICAgICAgICBvdmVybGFpZENhbnZhc0N0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBvdmVybGFpZENhbnZhc0N0eC5tb3ZlVG8oZXZlbnRPYmplY3QueDMgLSBvZmZzZXQsIGV2ZW50T2JqZWN0LnkyKTtcclxuICAgICAgICBvdmVybGFpZENhbnZhc0N0eC5saW5lVG8oZXZlbnRPYmplY3QueDMgLSBvZmZzZXQsIE1hdGgubWluKGV2ZW50T2JqZWN0LnkxLCBldmVudE9iamVjdC55NCkpO1xyXG4gICAgICAgIG92ZXJsYWlkQ2FudmFzQ3R4LnN0cm9rZSgpO1xyXG5cclxuICAgICAgICBvdmVybGFpZENhbnZhc0N0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBvdmVybGFpZENhbnZhc0N0eC5tb3ZlVG8oZXZlbnRPYmplY3QueDMgLSBvZmZzZXQsIE1hdGgubWF4KGV2ZW50T2JqZWN0LnkxLCBldmVudE9iamVjdC55NCkpO1xyXG4gICAgICAgIG92ZXJsYWlkQ2FudmFzQ3R4LmxpbmVUbyhldmVudE9iamVjdC54MyAtIG9mZnNldCwgZXZlbnRPYmplY3QueTMpO1xyXG4gICAgICAgIG92ZXJsYWlkQ2FudmFzQ3R4LnN0cm9rZSgpO1xyXG5cclxuICAgICAgICBkcmF3UmVjdChvdmVybGFpZENhbnZhc0N0eCwgZXZlbnRPYmplY3QueDEsIE1hdGgubWluKGV2ZW50T2JqZWN0LnkxLCBldmVudE9iamVjdC55NCksIGV2ZW50T2JqZWN0LngyLCBNYXRoLm1heChldmVudE9iamVjdC55MSwgZXZlbnRPYmplY3QueTQpLCBcInRyYW5zcGFyZW50XCIsIGV2ZW50T2JqZWN0LmJvcmRlclRoaWNrbmVzcyAqIDIsIGV2ZW50T2JqZWN0LmNvbG9yLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XHJcbiAgICAgICAgb3ZlcmxhaWRDYW52YXNDdHguZ2xvYmFsQWxwaGEgPSAxO1xyXG5cclxuICAgICAgfSBlbHNlIGlmIChkYXRhU2VyaWVzLnR5cGUgPT09IFwib2hsY1wiKSB7XHJcbiAgICAgICAgb3ZlcmxhaWRDYW52YXNDdHguZ2xvYmFsQWxwaGEgPSAxO1xyXG5cclxuICAgICAgICBvdmVybGFpZENhbnZhc0N0eC5zdHJva2VTdHlsZSA9IGV2ZW50T2JqZWN0LmNvbG9yO1xyXG4gICAgICAgIG92ZXJsYWlkQ2FudmFzQ3R4LmxpbmVXaWR0aCA9IGV2ZW50T2JqZWN0LmJvcmRlclRoaWNrbmVzcyAqIDI7XHJcblxyXG4gICAgICAgIG9mZnNldCA9IChvdmVybGFpZENhbnZhc0N0eC5saW5lV2lkdGgpICUgMiA9PT0gMCA/IDAgOiAuNTtcclxuXHJcbiAgICAgICAgb3ZlcmxhaWRDYW52YXNDdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgb3ZlcmxhaWRDYW52YXNDdHgubW92ZVRvKGV2ZW50T2JqZWN0LngzIC0gb2Zmc2V0LCBldmVudE9iamVjdC55Mik7XHJcbiAgICAgICAgb3ZlcmxhaWRDYW52YXNDdHgubGluZVRvKGV2ZW50T2JqZWN0LngzIC0gb2Zmc2V0LCBldmVudE9iamVjdC55Myk7XHJcbiAgICAgICAgb3ZlcmxhaWRDYW52YXNDdHguc3Ryb2tlKCk7XHJcblxyXG4gICAgICAgIG92ZXJsYWlkQ2FudmFzQ3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIG92ZXJsYWlkQ2FudmFzQ3R4Lm1vdmVUbyhldmVudE9iamVjdC54MywgZXZlbnRPYmplY3QueTEpO1xyXG4gICAgICAgIG92ZXJsYWlkQ2FudmFzQ3R4LmxpbmVUbyhldmVudE9iamVjdC54MSwgZXZlbnRPYmplY3QueTEpO1xyXG4gICAgICAgIG92ZXJsYWlkQ2FudmFzQ3R4LnN0cm9rZSgpO1xyXG5cclxuICAgICAgICBvdmVybGFpZENhbnZhc0N0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBvdmVybGFpZENhbnZhc0N0eC5tb3ZlVG8oZXZlbnRPYmplY3QueDMsIGV2ZW50T2JqZWN0Lnk0KTtcclxuICAgICAgICBvdmVybGFpZENhbnZhc0N0eC5saW5lVG8oZXZlbnRPYmplY3QueDIsIGV2ZW50T2JqZWN0Lnk0KTtcclxuICAgICAgICBvdmVybGFpZENhbnZhc0N0eC5zdHJva2UoKTtcclxuXHJcbiAgICAgICAgb3ZlcmxhaWRDYW52YXNDdHguZ2xvYmFsQWxwaGEgPSAxO1xyXG5cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb3ZlcmxhaWRDYW52YXNDdHgucmVzdG9yZSgpO1xyXG4gIG92ZXJsYWlkQ2FudmFzQ3R4Lmdsb2JhbEFscGhhID0gMTtcclxuICBvdmVybGFpZENhbnZhc0N0eC5iZWdpblBhdGgoKTtcclxuXHJcbiAgcmV0dXJuO1xyXG59XHJcblxyXG5Ub29sVGlwLnByb3RvdHlwZS5nZXRUb29sVGlwSW5uZXJIVE1MID0gZnVuY3Rpb24gKGUpIHtcclxuICB2YXIgZW50cmllcyA9IGUuZW50cmllcztcclxuICB2YXIgdG9vbFRpcElubmVySHRtbCA9IG51bGw7XHJcbiAgdmFyIGRhdGFTZXJpZXMgPSBudWxsO1xyXG4gIHZhciBkYXRhUG9pbnQgPSBudWxsO1xyXG4gIHZhciBpbmRleCA9IDA7XHJcbiAgdmFyIGNvbG9yID0gbnVsbDtcclxuICB2YXIgdG9vbFRpcENvbnRlbnQgPSBcIlwiO1xyXG5cclxuICB2YXIgaXNUb29sVGlwRGVmaW5lZEluRGF0YSA9IHRydWU7XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbnRyaWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBpZiAoZW50cmllc1tpXS5kYXRhU2VyaWVzLnRvb2xUaXBDb250ZW50IHx8IGVudHJpZXNbaV0uZGF0YVBvaW50LnRvb2xUaXBDb250ZW50KSB7XHJcbiAgICAgIGlzVG9vbFRpcERlZmluZWRJbkRhdGEgPSBmYWxzZTtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpZiAoaXNUb29sVGlwRGVmaW5lZEluRGF0YSAmJiAoKHRoaXMuY29udGVudCAmJiB0eXBlb2YgKHRoaXMuY29udGVudCkgPT09IFwiZnVuY3Rpb25cIikgfHwgdGhpcy5jb250ZW50Rm9ybWF0dGVyKSkge1xyXG5cclxuICAgIHZhciBwYXJhbSA9IHtcclxuICAgICAgY2hhcnQ6IHRoaXMuY2hhcnQsIHRvb2xUaXA6IHRoaXMuX29wdGlvbnMsIGVudHJpZXM6IGVudHJpZXNcclxuICAgIH07XHJcbiAgICB0b29sVGlwSW5uZXJIdG1sID0gdGhpcy5jb250ZW50Rm9ybWF0dGVyID8gdGhpcy5jb250ZW50Rm9ybWF0dGVyKHBhcmFtKSA6IHRoaXMuY29udGVudChwYXJhbSk7XHJcblxyXG4gIH0gZWxzZSB7XHJcblxyXG4gICAgaWYgKHRoaXMuc2hhcmVkICYmIHRoaXMuY2hhcnQucGxvdEluZm8uYXhpc1BsYWNlbWVudCAhPT0gXCJub25lXCIpIHtcclxuXHJcbiAgICAgIHZhciB0b29sVGlwSW5uZXJIdG1sUHJlZml4ID0gXCJcIjtcclxuXHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZW50cmllcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGRhdGFTZXJpZXMgPSBlbnRyaWVzW2ldLmRhdGFTZXJpZXM7XHJcbiAgICAgICAgZGF0YVBvaW50ID0gZW50cmllc1tpXS5kYXRhUG9pbnQ7XHJcbiAgICAgICAgaW5kZXggPSBlbnRyaWVzW2ldLmluZGV4O1xyXG5cclxuICAgICAgICB0b29sVGlwQ29udGVudCA9IFwiXCI7XHJcblxyXG4gICAgICAgIGlmIChpID09PSAwICYmIGlzVG9vbFRpcERlZmluZWRJbkRhdGEgJiYgIXRoaXMuY29udGVudCkge1xyXG4gICAgICAgICAgdG9vbFRpcElubmVySHRtbFByZWZpeCArPSB0eXBlb2YgKHRoaXMuY2hhcnQuYXhpc1gubGFiZWxzW2RhdGFQb2ludC54XSkgIT09IFwidW5kZWZpbmVkXCIgPyB0aGlzLmNoYXJ0LmF4aXNYLmxhYmVsc1tkYXRhUG9pbnQueF0gOiBcInt4fVwiO1xyXG4gICAgICAgICAgdG9vbFRpcElubmVySHRtbFByZWZpeCArPSBcIjwvYnI+XCI7XHJcbiAgICAgICAgICB0b29sVGlwSW5uZXJIdG1sUHJlZml4ID0gdGhpcy5jaGFydC5yZXBsYWNlS2V5d29yZHNXaXRoVmFsdWUodG9vbFRpcElubmVySHRtbFByZWZpeCwgZGF0YVBvaW50LCBkYXRhU2VyaWVzLCBpbmRleCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL0FsbG93cyBkaXNhYmxpbmcgb2YgdG9vbFRpcCBmb3IgaW5kaXZpZHVhbCBkYXRhUG9pbnRzL2RhdGFTZXJpZXNcclxuICAgICAgICBpZiAoZGF0YVBvaW50LnRvb2xUaXBDb250ZW50ID09PSBudWxsIHx8ICh0eXBlb2YgKGRhdGFQb2ludC50b29sVGlwQ29udGVudCkgPT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YVNlcmllcy5fb3B0aW9ucy50b29sVGlwQ29udGVudCA9PT0gbnVsbCkpXHJcbiAgICAgICAgICBjb250aW51ZTtcclxuXHJcblxyXG4gICAgICAgIGlmIChkYXRhU2VyaWVzLnR5cGUgPT09IFwibGluZVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzdGVwTGluZVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzcGxpbmVcIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwiYXJlYVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzdGVwQXJlYVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzcGxpbmVBcmVhXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcImNvbHVtblwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJiYXJcIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwic2NhdHRlclwiXHJcbiAgICAgICAgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInN0YWNrZWRDb2x1bW5cIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwic3RhY2tlZENvbHVtbjEwMFwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzdGFja2VkQmFyXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInN0YWNrZWRCYXIxMDBcIlxyXG4gICAgICAgIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzdGFja2VkQXJlYVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzdGFja2VkQXJlYTEwMFwiKSB7XHJcbiAgICAgICAgICB0b29sVGlwQ29udGVudCArPSBkYXRhUG9pbnQudG9vbFRpcENvbnRlbnQgPyBkYXRhUG9pbnQudG9vbFRpcENvbnRlbnQgOiBkYXRhU2VyaWVzLnRvb2xUaXBDb250ZW50ID8gZGF0YVNlcmllcy50b29sVGlwQ29udGVudCA6IHRoaXMuY29udGVudCAmJiB0eXBlb2YgKHRoaXMuY29udGVudCkgIT09IFwiZnVuY3Rpb25cIiA/IHRoaXMuY29udGVudCA6IFwiPHNwYW4gc3R5bGU9J1xcXCInY29sb3I6e2NvbG9yfTsnXFxcIic+e25hbWV9Ojwvc3Bhbj4mbmJzcDsmbmJzcDt7eX1cIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZGF0YVNlcmllcy50eXBlID09PSBcImJ1YmJsZVwiKSB7XHJcbiAgICAgICAgICB0b29sVGlwQ29udGVudCArPSBkYXRhUG9pbnQudG9vbFRpcENvbnRlbnQgPyBkYXRhUG9pbnQudG9vbFRpcENvbnRlbnQgOiBkYXRhU2VyaWVzLnRvb2xUaXBDb250ZW50ID8gZGF0YVNlcmllcy50b29sVGlwQ29udGVudCA6IHRoaXMuY29udGVudCAmJiB0eXBlb2YgKHRoaXMuY29udGVudCkgIT09IFwiZnVuY3Rpb25cIiA/IHRoaXMuY29udGVudCA6IFwiPHNwYW4gc3R5bGU9J1xcXCInY29sb3I6e2NvbG9yfTsnXFxcIic+e25hbWV9Ojwvc3Bhbj4mbmJzcDsmbmJzcDt7eX0sICZuYnNwOyZuYnNwO3t6fVwiO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YVNlcmllcy50eXBlID09PSBcInBpZVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJkb3VnaG51dFwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJmdW5uZWxcIikge1xyXG4gICAgICAgICAgdG9vbFRpcENvbnRlbnQgKz0gZGF0YVBvaW50LnRvb2xUaXBDb250ZW50ID8gZGF0YVBvaW50LnRvb2xUaXBDb250ZW50IDogZGF0YVNlcmllcy50b29sVGlwQ29udGVudCA/IGRhdGFTZXJpZXMudG9vbFRpcENvbnRlbnQgOiB0aGlzLmNvbnRlbnQgJiYgdHlwZW9mICh0aGlzLmNvbnRlbnQpICE9PSBcImZ1bmN0aW9uXCIgPyB0aGlzLmNvbnRlbnQgOiBcIiZuYnNwOyZuYnNwO3t5fVwiO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YVNlcmllcy50eXBlID09PSBcInJhbmdlQ29sdW1uXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInJhbmdlQmFyXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInJhbmdlQXJlYVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJyYW5nZVNwbGluZUFyZWFcIikge1xyXG4gICAgICAgICAgdG9vbFRpcENvbnRlbnQgKz0gZGF0YVBvaW50LnRvb2xUaXBDb250ZW50ID8gZGF0YVBvaW50LnRvb2xUaXBDb250ZW50IDogZGF0YVNlcmllcy50b29sVGlwQ29udGVudCA/IGRhdGFTZXJpZXMudG9vbFRpcENvbnRlbnQgOiB0aGlzLmNvbnRlbnQgJiYgdHlwZW9mICh0aGlzLmNvbnRlbnQpICE9PSBcImZ1bmN0aW9uXCIgPyB0aGlzLmNvbnRlbnQgOiBcIjxzcGFuIHN0eWxlPSdcXFwiJ2NvbG9yOntjb2xvcn07J1xcXCInPntuYW1lfTo8L3NwYW4+Jm5ic3A7Jm5ic3A7e3lbMF19LCZuYnNwO3t5WzFdfVwiO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YVNlcmllcy50eXBlID09PSBcImNhbmRsZXN0aWNrXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcIm9obGNcIikge1xyXG4gICAgICAgICAgdG9vbFRpcENvbnRlbnQgKz0gZGF0YVBvaW50LnRvb2xUaXBDb250ZW50ID8gZGF0YVBvaW50LnRvb2xUaXBDb250ZW50IDogZGF0YVNlcmllcy50b29sVGlwQ29udGVudCA/IGRhdGFTZXJpZXMudG9vbFRpcENvbnRlbnQgOiB0aGlzLmNvbnRlbnQgJiYgdHlwZW9mICh0aGlzLmNvbnRlbnQpICE9PSBcImZ1bmN0aW9uXCIgPyB0aGlzLmNvbnRlbnQgOiBcIjxzcGFuIHN0eWxlPSdcXFwiJ2NvbG9yOntjb2xvcn07J1xcXCInPntuYW1lfTo8L3NwYW4+XCJcclxuICAgICAgICAgICAgICAgICAgKyBcIjxici8+T3BlbjogJm5ic3A7Jm5ic3A7e3lbMF19XCJcclxuICAgICAgICAgICAgICAgICAgKyBcIjxici8+SGlnaDogJm5ic3A7Jm5ic3A7Jm5ic3A7e3lbMV19XCJcclxuICAgICAgICAgICAgICAgICAgKyBcIjxici8+TG93OiZuYnNwOyZuYnNwOyZuYnNwO3t5WzJdfVwiXHJcbiAgICAgICAgICAgICAgICAgICsgXCI8YnIvPkNsb3NlOiAmbmJzcDsmbmJzcDt7eVszXX1cIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0b29sVGlwSW5uZXJIdG1sID09PSBudWxsKVxyXG4gICAgICAgICAgdG9vbFRpcElubmVySHRtbCA9IFwiXCI7XHJcblxyXG5cclxuICAgICAgICBpZiAodGhpcy5yZXZlcnNlZCA9PT0gdHJ1ZSkge1xyXG5cclxuICAgICAgICAgIHRvb2xUaXBJbm5lckh0bWwgPSB0aGlzLmNoYXJ0LnJlcGxhY2VLZXl3b3Jkc1dpdGhWYWx1ZSh0b29sVGlwQ29udGVudCwgZGF0YVBvaW50LCBkYXRhU2VyaWVzLCBpbmRleCkgKyB0b29sVGlwSW5uZXJIdG1sO1xyXG5cclxuICAgICAgICAgIGlmIChpIDwgZW50cmllcy5sZW5ndGggLSAxKVxyXG4gICAgICAgICAgICB0b29sVGlwSW5uZXJIdG1sID0gXCI8L2JyPlwiICsgdG9vbFRpcElubmVySHRtbDtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICB0b29sVGlwSW5uZXJIdG1sICs9IHRoaXMuY2hhcnQucmVwbGFjZUtleXdvcmRzV2l0aFZhbHVlKHRvb2xUaXBDb250ZW50LCBkYXRhUG9pbnQsIGRhdGFTZXJpZXMsIGluZGV4KTtcclxuXHJcbiAgICAgICAgICBpZiAoaSA8IGVudHJpZXMubGVuZ3RoIC0gMSlcclxuICAgICAgICAgICAgdG9vbFRpcElubmVySHRtbCArPSBcIjwvYnI+XCI7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0b29sVGlwSW5uZXJIdG1sICE9PSBudWxsKVxyXG4gICAgICAgIHRvb2xUaXBJbm5lckh0bWwgPSB0b29sVGlwSW5uZXJIdG1sUHJlZml4ICsgdG9vbFRpcElubmVySHRtbDtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgZGF0YVNlcmllcyA9IGVudHJpZXNbMF0uZGF0YVNlcmllcztcclxuICAgICAgZGF0YVBvaW50ID0gZW50cmllc1swXS5kYXRhUG9pbnQ7XHJcbiAgICAgIGluZGV4ID0gZW50cmllc1swXS5pbmRleDtcclxuXHJcbiAgICAgIC8vQWxsb3dzIGRpc2FibGluZyBvZiB0b29sVGlwIGZvciBpbmRpdmlkdWFsIGRhdGFQb2ludHMvZGF0YVNlcmllc1xyXG4gICAgICBpZiAoZGF0YVBvaW50LnRvb2xUaXBDb250ZW50ID09PSBudWxsIHx8ICh0eXBlb2YgKGRhdGFQb2ludC50b29sVGlwQ29udGVudCkgPT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YVNlcmllcy5fb3B0aW9ucy50b29sVGlwQ29udGVudCA9PT0gbnVsbCkpXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcblxyXG5cclxuICAgICAgaWYgKGRhdGFTZXJpZXMudHlwZSA9PT0gXCJsaW5lXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInN0ZXBMaW5lXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInNwbGluZVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJhcmVhXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInN0ZXBBcmVhXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInNwbGluZUFyZWFcIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwiY29sdW1uXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcImJhclwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzY2F0dGVyXCJcclxuICAgICAgICB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwic3RhY2tlZENvbHVtblwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzdGFja2VkQ29sdW1uMTAwXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInN0YWNrZWRCYXJcIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwic3RhY2tlZEJhcjEwMFwiXHJcbiAgICAgICAgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInN0YWNrZWRBcmVhXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInN0YWNrZWRBcmVhMTAwXCIpIHtcclxuICAgICAgICB0b29sVGlwQ29udGVudCA9IGRhdGFQb2ludC50b29sVGlwQ29udGVudCA/IGRhdGFQb2ludC50b29sVGlwQ29udGVudCA6IGRhdGFTZXJpZXMudG9vbFRpcENvbnRlbnQgPyBkYXRhU2VyaWVzLnRvb2xUaXBDb250ZW50IDogdGhpcy5jb250ZW50ICYmIHR5cGVvZiAodGhpcy5jb250ZW50KSAhPT0gXCJmdW5jdGlvblwiID8gdGhpcy5jb250ZW50IDogXCI8c3BhbiBzdHlsZT0nXFxcIidjb2xvcjp7Y29sb3J9OydcXFwiJz5cIiArIChkYXRhUG9pbnQubGFiZWwgPyBcIntsYWJlbH1cIiA6IFwie3h9XCIpICsgXCIgOjwvc3Bhbj4mbmJzcDsmbmJzcDt7eX1cIjtcclxuICAgICAgfSBlbHNlIGlmIChkYXRhU2VyaWVzLnR5cGUgPT09IFwiYnViYmxlXCIpIHtcclxuICAgICAgICB0b29sVGlwQ29udGVudCA9IGRhdGFQb2ludC50b29sVGlwQ29udGVudCA/IGRhdGFQb2ludC50b29sVGlwQ29udGVudCA6IGRhdGFTZXJpZXMudG9vbFRpcENvbnRlbnQgPyBkYXRhU2VyaWVzLnRvb2xUaXBDb250ZW50IDogdGhpcy5jb250ZW50ICYmIHR5cGVvZiAodGhpcy5jb250ZW50KSAhPT0gXCJmdW5jdGlvblwiID8gdGhpcy5jb250ZW50IDogXCI8c3BhbiBzdHlsZT0nXFxcIidjb2xvcjp7Y29sb3J9OydcXFwiJz5cIiArIChkYXRhUG9pbnQubGFiZWwgPyBcIntsYWJlbH1cIiA6IFwie3h9XCIpICsgXCI6PC9zcGFuPiZuYnNwOyZuYnNwO3t5fSwgJm5ic3A7Jm5ic3A7e3p9XCI7XHJcbiAgICAgIH0gZWxzZSBpZiAoZGF0YVNlcmllcy50eXBlID09PSBcInBpZVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJkb3VnaG51dFwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJmdW5uZWxcIikge1xyXG4gICAgICAgIHRvb2xUaXBDb250ZW50ID0gZGF0YVBvaW50LnRvb2xUaXBDb250ZW50ID8gZGF0YVBvaW50LnRvb2xUaXBDb250ZW50IDogZGF0YVNlcmllcy50b29sVGlwQ29udGVudCA/IGRhdGFTZXJpZXMudG9vbFRpcENvbnRlbnQgOiB0aGlzLmNvbnRlbnQgJiYgdHlwZW9mICh0aGlzLmNvbnRlbnQpICE9PSBcImZ1bmN0aW9uXCIgPyB0aGlzLmNvbnRlbnQgOiAoZGF0YVBvaW50Lm5hbWUgPyBcIntuYW1lfTombmJzcDsmbmJzcDtcIiA6IGRhdGFQb2ludC5sYWJlbCA/IFwie2xhYmVsfTombmJzcDsmbmJzcDtcIiA6IFwiXCIpICsgXCJ7eX1cIjtcclxuICAgICAgfSBlbHNlIGlmIChkYXRhU2VyaWVzLnR5cGUgPT09IFwicmFuZ2VDb2x1bW5cIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwicmFuZ2VCYXJcIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwicmFuZ2VBcmVhXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInJhbmdlU3BsaW5lQXJlYVwiKSB7XHJcbiAgICAgICAgdG9vbFRpcENvbnRlbnQgPSBkYXRhUG9pbnQudG9vbFRpcENvbnRlbnQgPyBkYXRhUG9pbnQudG9vbFRpcENvbnRlbnQgOiBkYXRhU2VyaWVzLnRvb2xUaXBDb250ZW50ID8gZGF0YVNlcmllcy50b29sVGlwQ29udGVudCA6IHRoaXMuY29udGVudCAmJiB0eXBlb2YgKHRoaXMuY29udGVudCkgIT09IFwiZnVuY3Rpb25cIiA/IHRoaXMuY29udGVudCA6IFwiPHNwYW4gc3R5bGU9J1xcXCInY29sb3I6e2NvbG9yfTsnXFxcIic+XCIgKyAoZGF0YVBvaW50LmxhYmVsID8gXCJ7bGFiZWx9XCIgOiBcInt4fVwiKSArIFwiIDo8L3NwYW4+Jm5ic3A7Jm5ic3A7e3lbMF19LCAmbmJzcDt7eVsxXX1cIjtcclxuICAgICAgfSBlbHNlIGlmIChkYXRhU2VyaWVzLnR5cGUgPT09IFwiY2FuZGxlc3RpY2tcIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwib2hsY1wiKSB7XHJcbiAgICAgICAgdG9vbFRpcENvbnRlbnQgPSBkYXRhUG9pbnQudG9vbFRpcENvbnRlbnQgPyBkYXRhUG9pbnQudG9vbFRpcENvbnRlbnQgOiBkYXRhU2VyaWVzLnRvb2xUaXBDb250ZW50ID8gZGF0YVNlcmllcy50b29sVGlwQ29udGVudCA6IHRoaXMuY29udGVudCAmJiB0eXBlb2YgKHRoaXMuY29udGVudCkgIT09IFwiZnVuY3Rpb25cIiA/IHRoaXMuY29udGVudCA6IFwiPHNwYW4gc3R5bGU9J1xcXCInY29sb3I6e2NvbG9yfTsnXFxcIic+XCIgKyAoZGF0YVBvaW50LmxhYmVsID8gXCJ7bGFiZWx9XCIgOiBcInt4fVwiKSArIFwiPC9zcGFuPlwiXHJcbiAgICAgICAgICArIFwiPGJyLz5PcGVuOiAmbmJzcDsmbmJzcDt7eVswXX1cIlxyXG4gICAgICAgICAgKyBcIjxici8+SGlnaDogJm5ic3A7Jm5ic3A7Jm5ic3A7e3lbMV19XCJcclxuICAgICAgICAgICsgXCI8YnIvPkxvdzogJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7e3lbMl19XCJcclxuICAgICAgICAgICsgXCI8YnIvPkNsb3NlOiAmbmJzcDsmbmJzcDt7eVszXX1cIjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRvb2xUaXBJbm5lckh0bWwgPT09IG51bGwpXHJcbiAgICAgICAgdG9vbFRpcElubmVySHRtbCA9IFwiXCI7XHJcblxyXG4gICAgICB0b29sVGlwSW5uZXJIdG1sICs9IHRoaXMuY2hhcnQucmVwbGFjZUtleXdvcmRzV2l0aFZhbHVlKHRvb2xUaXBDb250ZW50LCBkYXRhUG9pbnQsIGRhdGFTZXJpZXMsIGluZGV4KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB0b29sVGlwSW5uZXJIdG1sO1xyXG59XHJcblxyXG5Ub29sVGlwLnByb3RvdHlwZS5lbmFibGVBbmltYXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgaWYgKHRoaXMuY29udGFpbmVyLnN0eWxlLldlYmtpdFRyYW5zaXRpb24pXHJcbiAgICByZXR1cm47XHJcblxyXG4gIHRoaXMuY29udGFpbmVyLnN0eWxlLldlYmtpdFRyYW5zaXRpb24gPSBcImxlZnQgLjJzIGVhc2Utb3V0LCBib3R0b20gLjJzIGVhc2Utb3V0XCI7XHJcbiAgdGhpcy5jb250YWluZXIuc3R5bGUuTW96VHJhbnNpdGlvbiA9IFwibGVmdCAuMnMgZWFzZS1vdXQsIGJvdHRvbSAuMnMgZWFzZS1vdXRcIjtcclxuICB0aGlzLmNvbnRhaW5lci5zdHlsZS5Nc1RyYW5zaXRpb24gPSBcImxlZnQgLjJzIGVhc2Utb3V0LCBib3R0b20gLjJzIGVhc2Utb3V0XCI7XHJcbiAgdGhpcy5jb250YWluZXIuc3R5bGUudHJhbnNpdGlvbiA9IFwibGVmdCAuMnMgZWFzZS1vdXQsIGJvdHRvbSAuMnMgZWFzZS1vdXRcIjtcclxufVxyXG5cclxuVG9vbFRpcC5wcm90b3R5cGUuZGlzYWJsZUFuaW1hdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICBpZiAoIXRoaXMuY29udGFpbmVyLnN0eWxlLldlYmtpdFRyYW5zaXRpb24pXHJcbiAgICByZXR1cm47XHJcblxyXG4gIHRoaXMuY29udGFpbmVyLnN0eWxlLldlYmtpdFRyYW5zaXRpb24gPSBcIlwiO1xyXG4gIHRoaXMuY29udGFpbmVyLnN0eWxlLk1velRyYW5zaXRpb24gPSBcIlwiO1xyXG4gIHRoaXMuY29udGFpbmVyLnN0eWxlLk1zVHJhbnNpdGlvbiA9IFwiXCI7XHJcbiAgdGhpcy5jb250YWluZXIuc3R5bGUudHJhbnNpdGlvbiA9IFwiXCI7XHJcbn1cclxuXHJcblRvb2xUaXAucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAocmVzZXRPdmVybGF5ZWRDYW52YXMpIHtcclxuICBpZiAoIXRoaXMuZW5hYmxlZClcclxuICAgIHJldHVybjtcclxuXHJcbiAgcmVzZXRPdmVybGF5ZWRDYW52YXMgPSB0eXBlb2YgKHJlc2V0T3ZlcmxheWVkQ2FudmFzKSA9PT0gXCJ1bmRlZmluZWRcIiA/IHRydWUgOiByZXNldE92ZXJsYXllZENhbnZhcztcclxuXHJcbiAgdGhpcy5jb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gIHRoaXMuY3VycmVudFNlcmllc0luZGV4ID0gLTE7XHJcbiAgdGhpcy5fcHJldlggPSBOYU47XHJcbiAgdGhpcy5fcHJldlkgPSBOYU47XHJcbiAgLy90aGlzLmNoYXJ0Lm92ZXJsYWlkQ2FudmFzQ3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNoYXJ0Lm92ZXJsYWlkQ2FudmFzLndpZHRoLCB0aGlzLmNoYXJ0Lm92ZXJsYWlkQ2FudmFzLmhlaWdodCk7XHJcbiAgaWYgKHJlc2V0T3ZlcmxheWVkQ2FudmFzKVxyXG4gICAgdGhpcy5jaGFydC5yZXNldE92ZXJsYXllZENhbnZhcygpO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUb29sVGlwO1xyXG4iLCJcclxuZnVuY3Rpb24geVNjYWxlQW5pbWF0aW9uKGZyYWN0aW9uQ29tcGxldGUsIGFuaW1hdGlvbkluZm8pIHtcclxuXHJcbiAgaWYgKGZyYWN0aW9uQ29tcGxldGUgPT09IDApIHJldHVybjtcclxuXHJcbiAgY29uc3QgY3R4ID0gYW5pbWF0aW9uSW5mby5kZXN0O1xyXG4gIGNvbnN0IHNvdXJjZUNhbnZhcyA9IGFuaW1hdGlvbkluZm8uc291cmNlLmNhbnZhcztcclxuICBjb25zdCBiYXNlID0gYW5pbWF0aW9uSW5mby5hbmltYXRpb25CYXNlO1xyXG5cclxuICBjb25zdCBvZmZzZXRZID0gKGJhc2UgLSBiYXNlICogZnJhY3Rpb25Db21wbGV0ZSk7XHJcblxyXG4gIGN0eC5kcmF3SW1hZ2Uoc291cmNlQ2FudmFzLCAwLCAwLCBzb3VyY2VDYW52YXMud2lkdGgsIHNvdXJjZUNhbnZhcy5oZWlnaHQsIDAsIG9mZnNldFksXHJcbiAgICAgY3R4LmNhbnZhcy53aWR0aCAvIGRldmljZVBpeGVsQmFja2luZ1N0b3JlUmF0aW8sIGZyYWN0aW9uQ29tcGxldGUgKiBjdHguY2FudmFzLmhlaWdodCAvIGRldmljZVBpeGVsQmFja2luZ1N0b3JlUmF0aW8pO1xyXG59XHJcblxyXG5mdW5jdGlvbiB4U2NhbGVBbmltYXRpb24oZnJhY3Rpb25Db21wbGV0ZSwgYW5pbWF0aW9uSW5mbykge1xyXG5cclxuICBpZiAoZnJhY3Rpb25Db21wbGV0ZSA9PT0gMCkgcmV0dXJuO1xyXG5cclxuICBjb25zdCBjdHggPSBhbmltYXRpb25JbmZvLmRlc3Q7XHJcbiAgY29uc3Qgc291cmNlQ2FudmFzID0gYW5pbWF0aW9uSW5mby5zb3VyY2UuY2FudmFzO1xyXG4gIGNvbnN0IGJhc2UgPSBhbmltYXRpb25JbmZvLmFuaW1hdGlvbkJhc2U7XHJcblxyXG4gIGNvbnN0IG9mZnNldFggPSAoYmFzZSAtIGJhc2UgKiBmcmFjdGlvbkNvbXBsZXRlKTtcclxuXHJcbiAgY3R4LmRyYXdJbWFnZShzb3VyY2VDYW52YXMsIDAsIDAsIHNvdXJjZUNhbnZhcy53aWR0aCwgc291cmNlQ2FudmFzLmhlaWdodCwgb2Zmc2V0WCwgMCxcclxuICAgIGZyYWN0aW9uQ29tcGxldGUgKiBjdHguY2FudmFzLndpZHRoIC8gZGV2aWNlUGl4ZWxCYWNraW5nU3RvcmVSYXRpbywgY3R4LmNhbnZhcy5oZWlnaHQgLyBkZXZpY2VQaXhlbEJhY2tpbmdTdG9yZVJhdGlvKTtcclxufVxyXG5cclxuZnVuY3Rpb24geENsaXBBbmltYXRpb24oZnJhY3Rpb25Db21wbGV0ZSwgYW5pbWF0aW9uSW5mbykge1xyXG5cclxuICBpZiAoZnJhY3Rpb25Db21wbGV0ZSA9PT0gMCkgcmV0dXJuO1xyXG5cclxuICBjb25zdCBjdHggPSBhbmltYXRpb25JbmZvLmRlc3Q7XHJcbiAgY29uc3Qgc291cmNlQ2FudmFzID0gYW5pbWF0aW9uSW5mby5zb3VyY2UuY2FudmFzO1xyXG5cclxuICBjdHguc2F2ZSgpO1xyXG5cclxuICBpZiAoZnJhY3Rpb25Db21wbGV0ZSA+IDApXHJcbiAgICBjdHguZHJhd0ltYWdlKHNvdXJjZUNhbnZhcywgMCwgMCwgc291cmNlQ2FudmFzLndpZHRoICogZnJhY3Rpb25Db21wbGV0ZSwgc291cmNlQ2FudmFzLmhlaWdodCwgMCwgMCxcclxuICAgICAgc291cmNlQ2FudmFzLndpZHRoICogZnJhY3Rpb25Db21wbGV0ZSAvIGRldmljZVBpeGVsQmFja2luZ1N0b3JlUmF0aW8sIHNvdXJjZUNhbnZhcy5oZWlnaHQgLyBkZXZpY2VQaXhlbEJhY2tpbmdTdG9yZVJhdGlvKTtcclxuXHJcbiAgY3R4LnJlc3RvcmUoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZmFkZUluQW5pbWF0aW9uKGZyYWN0aW9uQ29tcGxldGUsIGFuaW1hdGlvbkluZm8pIHtcclxuXHJcbiAgaWYgKGZyYWN0aW9uQ29tcGxldGUgPT09IDApIHJldHVybjtcclxuXHJcbiAgY29uc3QgY3R4ID0gYW5pbWF0aW9uSW5mby5kZXN0O1xyXG4gIGNvbnN0IHNvdXJjZUNhbnZhcyA9IGFuaW1hdGlvbkluZm8uc291cmNlLmNhbnZhcztcclxuXHJcbiAgY3R4LnNhdmUoKTtcclxuXHJcbiAgY3R4Lmdsb2JhbEFscGhhID0gZnJhY3Rpb25Db21wbGV0ZTtcclxuXHJcbiAgY3R4LmRyYXdJbWFnZShzb3VyY2VDYW52YXMsIDAsIDAsIHNvdXJjZUNhbnZhcy53aWR0aCwgc291cmNlQ2FudmFzLmhlaWdodCwgMCwgMCxcclxuICAgIGN0eC5jYW52YXMud2lkdGggLyBkZXZpY2VQaXhlbEJhY2tpbmdTdG9yZVJhdGlvLCBjdHguY2FudmFzLmhlaWdodCAvIGRldmljZVBpeGVsQmFja2luZ1N0b3JlUmF0aW8pO1xyXG5cclxuICBjdHgucmVzdG9yZSgpO1xyXG5cclxufVxyXG5cclxuY29uc3QgZWFzaW5nID0ge1xyXG5cclxuICBsaW5lYXIodCwgYiwgYywgZCkge1xyXG4gICAgcmV0dXJuIGMgKiB0IC8gZCArIGI7XHJcbiAgfSxcclxuXHJcbiAgZWFzZU91dFF1YWQodCwgYiwgYywgZCkge1xyXG4gICAgcmV0dXJuIC1jICogKHQgLz0gZCkgKiAodCAtIDIpICsgYjtcclxuICB9LFxyXG5cclxuICBlYXNlT3V0UXVhcnQgKHQsIGIsIGMsIGQpIHtcclxuICAgIHJldHVybiAtYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCAqIHQgLSAxKSArIGI7XHJcbiAgfSxcclxuXHJcbiAgZWFzZUluUXVhZCh0LCBiLCBjLCBkKSB7XHJcbiAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCArIGI7XHJcbiAgfSxcclxuXHJcbiAgZWFzZUluUXVhcnQodCwgYiwgYywgZCkge1xyXG4gICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICogdCArIGI7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcblxyXG4gIHlTY2FsZUFuaW1hdGlvbixcclxuICB4U2NhbGVBbmltYXRpb24sXHJcbiAgeENsaXBBbmltYXRpb24sXHJcbiAgZmFkZUluQW5pbWF0aW9uLFxyXG4gIGVhc2luZ1xyXG5cclxufVxyXG4iLCJjb25zdCBSZW5kZXJIZWxwZXIgPSB7XHJcblxyXG4gIGRyYXdNYXJrZXI6IGZ1bmN0aW9uICh4LCB5LCBjdHgsIG1hcmtlclR5cGUsIG1hcmtlclNpemUsIG1hcmtlckNvbG9yLCBtYXJrZXJCb3JkZXJDb2xvciwgbWFya2VyQm9yZGVyVGhpY2tuZXNzKSB7XHJcblxyXG4gICAgaWYgKCFjdHgpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICB2YXIgYWxwaGEgPSAxO1xyXG5cclxuICAgIGN0eC5maWxsU3R5bGUgPSBtYXJrZXJDb2xvciA/IG1hcmtlckNvbG9yIDogXCIjMDAwMDAwXCI7XHJcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBtYXJrZXJCb3JkZXJDb2xvciA/IG1hcmtlckJvcmRlckNvbG9yIDogXCIjMDAwMDAwXCI7XHJcbiAgICBjdHgubGluZVdpZHRoID0gbWFya2VyQm9yZGVyVGhpY2tuZXNzID8gbWFya2VyQm9yZGVyVGhpY2tuZXNzIDogMDtcclxuXHJcblxyXG4gICAgaWYgKG1hcmtlclR5cGUgPT09IFwiY2lyY2xlXCIpIHtcclxuXHJcbiAgICAgIGN0eC5tb3ZlVG8oeCwgeSk7XHJcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgLy9yZXR1cm47XHJcblxyXG4gICAgICBjdHguYXJjKHgsIHksIG1hcmtlclNpemUgLyAyLCAwLCBNYXRoLlBJICogMiwgZmFsc2UpO1xyXG5cclxuICAgICAgaWYgKG1hcmtlckNvbG9yKVxyXG4gICAgICAgIGN0eC5maWxsKCk7XHJcblxyXG4gICAgICBpZiAobWFya2VyQm9yZGVyVGhpY2tuZXNzKSB7XHJcblxyXG4gICAgICAgIGlmICghbWFya2VyQm9yZGVyQ29sb3IpIHtcclxuICAgICAgICAgIGFscGhhID0gY3R4Lmdsb2JhbEFscGhhO1xyXG4gICAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gLjE1O1xyXG4gICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gXCJibGFja1wiO1xyXG4gICAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gYWxwaGE7XHJcbiAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICBjdHguc3Ryb2tlKCk7XHJcblxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChtYXJrZXJUeXBlID09PSBcInNxdWFyZVwiKSB7XHJcblxyXG4gICAgICAvL2N0eC5tb3ZlVG8oeCAtIG1hcmtlclNpemUgLyAyLCB5IC0gbWFya2VyU2l6ZSAvIDIpO1xyXG4gICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgIGN0eC5yZWN0KHggLSBtYXJrZXJTaXplIC8gMiwgeSAtIG1hcmtlclNpemUgLyAyLCBtYXJrZXJTaXplLCBtYXJrZXJTaXplKTtcclxuXHJcbiAgICAgIGlmIChtYXJrZXJDb2xvcilcclxuICAgICAgICBjdHguZmlsbCgpO1xyXG5cclxuICAgICAgaWYgKG1hcmtlckJvcmRlclRoaWNrbmVzcykge1xyXG5cclxuICAgICAgICBpZiAoIW1hcmtlckJvcmRlckNvbG9yKSB7XHJcbiAgICAgICAgICBhbHBoYSA9IGN0eC5nbG9iYWxBbHBoYTtcclxuICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IC4xNTtcclxuICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IFwiYmxhY2tcIjtcclxuICAgICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IGFscGhhO1xyXG4gICAgICAgIH0gZWxzZVxyXG4gICAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG5cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChtYXJrZXJUeXBlID09PSBcInRyaWFuZ2xlXCIpIHtcclxuXHJcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgY3R4Lm1vdmVUbyh4IC0gbWFya2VyU2l6ZSAvIDIsIHkgKyBtYXJrZXJTaXplIC8gMik7XHJcbiAgICAgIGN0eC5saW5lVG8oeCArIG1hcmtlclNpemUgLyAyLCB5ICsgbWFya2VyU2l6ZSAvIDIpO1xyXG4gICAgICBjdHgubGluZVRvKHgsIHkgLSBtYXJrZXJTaXplIC8gMik7XHJcbiAgICAgIGN0eC5jbG9zZVBhdGgoKTtcclxuXHJcbiAgICAgIGlmIChtYXJrZXJDb2xvcilcclxuICAgICAgICBjdHguZmlsbCgpO1xyXG5cclxuICAgICAgaWYgKG1hcmtlckJvcmRlclRoaWNrbmVzcykge1xyXG5cclxuICAgICAgICBpZiAoIW1hcmtlckJvcmRlckNvbG9yKSB7XHJcbiAgICAgICAgICBhbHBoYSA9IGN0eC5nbG9iYWxBbHBoYTtcclxuICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IC4xNTtcclxuICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IFwiYmxhY2tcIjtcclxuICAgICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IGFscGhhO1xyXG4gICAgICAgIH0gZWxzZVxyXG4gICAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG5cclxuICAgICAgfVxyXG4gICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICB9IGVsc2UgaWYgKG1hcmtlclR5cGUgPT09IFwiY3Jvc3NcIikge1xyXG5cclxuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gbWFya2VyQ29sb3I7XHJcbiAgICAgIG1hcmtlckJvcmRlclRoaWNrbmVzcyA9IG1hcmtlclNpemUgLyA0O1xyXG4gICAgICBjdHgubGluZVdpZHRoID0gbWFya2VyQm9yZGVyVGhpY2tuZXNzO1xyXG5cclxuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICBjdHgubW92ZVRvKHggLSBtYXJrZXJTaXplIC8gMiwgeSAtIG1hcmtlclNpemUgLyAyKTtcclxuICAgICAgY3R4LmxpbmVUbyh4ICsgbWFya2VyU2l6ZSAvIDIsIHkgKyBtYXJrZXJTaXplIC8gMik7XHJcbiAgICAgIGN0eC5zdHJva2UoKTtcclxuXHJcbiAgICAgIGN0eC5tb3ZlVG8oeCArIG1hcmtlclNpemUgLyAyLCB5IC0gbWFya2VyU2l6ZSAvIDIpO1xyXG4gICAgICBjdHgubGluZVRvKHggLSBtYXJrZXJTaXplIC8gMiwgeSArIG1hcmtlclNpemUgLyAyKTtcclxuICAgICAgY3R4LnN0cm9rZSgpO1xyXG5cclxuICAgIH1cclxuXHJcblxyXG4gIH0sXHJcbiAgZHJhd01hcmtlcnM6IGZ1bmN0aW9uIChtYXJrZXJzKSB7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcmtlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdmFyIG1hcmtlciA9IG1hcmtlcnNbaV07XHJcblxyXG4gICAgICBSZW5kZXJIZWxwZXIuZHJhd01hcmtlcihtYXJrZXIueCwgbWFya2VyLnksIG1hcmtlci5jdHgsIG1hcmtlci50eXBlLCBtYXJrZXIuc2l6ZSwgbWFya2VyLmNvbG9yLCBtYXJrZXIuYm9yZGVyQ29sb3IsIG1hcmtlci5ib3JkZXJUaGlja25lc3MpO1xyXG4gICAgfVxyXG4gIH1cclxuICAvLyxcclxuICAvL2RyYXcxcHhMaW5lOiBmdW5jdGlvbiAoeDEsIHkxLCB4MiwgeTIsIGNvbG9yLCBjdHgpIHtcclxuICAvL1x0Y3R4LmJlZ2luUGF0aCgpO1xyXG4gIC8vXHRjdHguZHJhd1JlY3QoeDEsIHkxLCB4MiAtIHgxLCB5MiAtIHkxKTtcclxuICAvL1x0Y3R4LnN0cm9rZSgpO1xyXG4gIC8vfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBSZW5kZXJIZWxwZXI7XHJcbiIsImV4cG9ydCBmdW5jdGlvbiBleHRlbmQoZGVyaXZlZCwgYmFzZSkge1xyXG4gIGRlcml2ZWQucHJvdG90eXBlID0gaW5oZXJpdChiYXNlLnByb3RvdHlwZSk7XHJcbiAgZGVyaXZlZC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBkZXJpdmVkO1xyXG4gIGRlcml2ZWQuYmFzZSA9IGJhc2UucHJvdG90eXBlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5oZXJpdChwcm90bykge1xyXG4gIGZ1bmN0aW9uIEYoKSB7fVxyXG4gIEYucHJvdG90eXBlID0gcHJvdG87XHJcbiAgcmV0dXJuIG5ldyBGKCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRUb0RhdGVUaW1lKGRhdGVUaW1lLCBudW0sIHR5cGUpIHtcclxuICBpZiAodHlwZSA9PT0gXCJtaWxsaXNlY29uZFwiKVxyXG4gICAgZGF0ZVRpbWUuc2V0TWlsbGlzZWNvbmRzKGRhdGVUaW1lLmdldE1pbGxpc2Vjb25kcygpICsgMSAqIG51bSk7XHJcbiAgZWxzZSBpZiAodHlwZSA9PT0gXCJzZWNvbmRcIilcclxuICAgIGRhdGVUaW1lLnNldFNlY29uZHMoZGF0ZVRpbWUuZ2V0U2Vjb25kcygpICsgMSAqIG51bSk7XHJcbiAgZWxzZSBpZiAodHlwZSA9PT0gXCJtaW51dGVcIilcclxuICAgIGRhdGVUaW1lLnNldE1pbnV0ZXMoZGF0ZVRpbWUuZ2V0TWludXRlcygpICsgMSAqIG51bSk7XHJcbiAgZWxzZSBpZiAodHlwZSA9PT0gXCJob3VyXCIpIGRhdGVUaW1lLnNldEhvdXJzKGRhdGVUaW1lLmdldEhvdXJzKCkgKyAxICogbnVtKTtcclxuICBlbHNlIGlmICh0eXBlID09PSBcImRheVwiKSBkYXRlVGltZS5zZXREYXRlKGRhdGVUaW1lLmdldERhdGUoKSArIDEgKiBudW0pO1xyXG4gIGVsc2UgaWYgKHR5cGUgPT09IFwid2Vla1wiKSBkYXRlVGltZS5zZXREYXRlKGRhdGVUaW1lLmdldERhdGUoKSArIDcgKiBudW0pO1xyXG4gIGVsc2UgaWYgKHR5cGUgPT09IFwibW9udGhcIikgZGF0ZVRpbWUuc2V0TW9udGgoZGF0ZVRpbWUuZ2V0TW9udGgoKSArIDEgKiBudW0pO1xyXG4gIGVsc2UgaWYgKHR5cGUgPT09IFwieWVhclwiKVxyXG4gICAgZGF0ZVRpbWUuc2V0RnVsbFllYXIoZGF0ZVRpbWUuZ2V0RnVsbFllYXIoKSArIDEgKiBudW0pO1xyXG5cclxuICByZXR1cm4gZGF0ZVRpbWU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0VG9OdW1iZXIobnVtLCB0eXBlKSB7XHJcbiAgcmV0dXJuIGNvbnN0YW50c1t0eXBlICsgXCJEdXJhdGlvblwiXSAqIG51bTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHBhZCh2YWx1ZSwgbGVuZ3RoKSB7XHJcbiAgdmFyIGlzTmVnYXRpdmUgPSBmYWxzZTtcclxuICBpZiAodmFsdWUgPCAwKSB7XHJcbiAgICBpc05lZ2F0aXZlID0gdHJ1ZTtcclxuICAgIHZhbHVlICo9IC0xO1xyXG4gIH1cclxuXHJcbiAgdmFsdWUgPSBcIlwiICsgdmFsdWU7XHJcbiAgbGVuZ3RoID0gIWxlbmd0aCA/IDEgOiBsZW5ndGg7XHJcblxyXG4gIHdoaWxlICh2YWx1ZS5sZW5ndGggPCBsZW5ndGgpIHZhbHVlID0gXCIwXCIgKyB2YWx1ZTtcclxuXHJcbiAgcmV0dXJuIGlzTmVnYXRpdmUgPyBcIi1cIiArIHZhbHVlIDogdmFsdWU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0cmltU3RyaW5nKHN0cikge1xyXG4gIGlmICghc3RyKSByZXR1cm4gc3RyO1xyXG5cclxuICBzdHIgPSBzdHIucmVwbGFjZSgvXlxcc1xccyovLCBcIlwiKTtcclxuICB2YXIgd3MgPSAvXFxzLztcclxuICB2YXIgaSA9IHN0ci5sZW5ndGg7XHJcbiAgd2hpbGUgKHdzLnRlc3Qoc3RyLmNoYXJBdCgtLWkpKSkge31cclxuICByZXR1cm4gc3RyLnNsaWNlKDAsIGkgKyAxKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZEN0eChjb250ZXh0KSB7XHJcbiAgY29udGV4dC5yb3VuZFJlY3QgPSBmdW5jdGlvbihcclxuICAgIHgsXHJcbiAgICB5LFxyXG4gICAgd2lkdGgsXHJcbiAgICBoZWlnaHQsXHJcbiAgICByYWRpdXMsXHJcbiAgICBib3JkZXJUaGlja25lc3MsXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3IsXHJcbiAgICBib3JkZXJDb2xvclxyXG4gICkge1xyXG4gICAgLy8vPHNpZ25hdHVyZT5cclxuICAgIC8vLzxzdW1tYXJ5PkNyZWF0ZXMgYSByb3VuZGVkIHJlY3RhbmdsZSB3aXRoIGdpdmVuIGZpbGwvc3Ryb2tlIHBhcmFtZXRlcnM8L3N1bW1hcnk+XHJcbiAgICAvLy88cGFyYW0gbmFtZT1cInhcIiB0eXBlPVwibnVtYmVyXCI+eCB2YWx1ZTwvcGFyYW0+XHJcbiAgICAvLy88cGFyYW0gbmFtZT1cInlcIiB0eXBlPVwibnVtYmVyXCI+eSB2YWx1ZTwvcGFyYW0+XHJcbiAgICAvLy88cGFyYW0gbmFtZT1cIndpZHRoXCIgdHlwZT1cIm51bWJlclwiPkJvcmRlciBXaWR0aDwvcGFyYW0+XHJcbiAgICAvLy88cGFyYW0gbmFtZT1cImhlaWdodFwiIHR5cGU9XCJudW1iZXJcIj5Cb3JkZXIgSGVpZ2h0PC9wYXJhbT5cclxuICAgIC8vLzxwYXJhbSBuYW1lPVwicmFkaXVzXCIgdHlwZT1cIm51bWJlclwiPkJvcmRlciBDb3JuZXJSYWRpdXM8L3BhcmFtPlxyXG4gICAgLy8vPHBhcmFtIG5hbWU9XCJib3JkZXJUaGlja25lc3NcIiB0eXBlPVwibnVtYmVyXCI+Qm9yZGVyIFRoaWNrZXNzPC9wYXJhbT5cclxuICAgIC8vLzxwYXJhbSBuYW1lPVwiYmFja2dyb3VuZENvbG9yXCIgdHlwZT1cIm51bWJlclwiPkJhY2tncm91bmQgQ29sb3I8L3BhcmFtPlxyXG4gICAgLy8vPHBhcmFtIG5hbWU9XCJib3JkZXJDb2xvclwiIHR5cGU9XCJudW1iZXJcIj5Cb3JkZXIgQ29sb3I8L3BhcmFtPlxyXG4gICAgLy8vPC9zaWduYXR1cmU+XHJcblxyXG4gICAgaWYgKGJhY2tncm91bmRDb2xvcikge1xyXG4gICAgICB0aGlzLmZpbGxTdHlsZSA9IGJhY2tncm91bmRDb2xvcjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYm9yZGVyQ29sb3IpIHtcclxuICAgICAgdGhpcy5zdHJva2VTdHlsZSA9IGJvcmRlckNvbG9yO1xyXG4gICAgfVxyXG5cclxuICAgIC8vaWYgKHR5cGVvZiBzdHJva2UgPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgLy9cdHN0cm9rZSA9IHRydWU7XHJcbiAgICAvL31cclxuXHJcbiAgICBpZiAodHlwZW9mIHJhZGl1cyA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICByYWRpdXMgPSA1O1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMubGluZVdpZHRoID0gYm9yZGVyVGhpY2tuZXNzO1xyXG5cclxuICAgIHRoaXMuYmVnaW5QYXRoKCk7XHJcbiAgICB0aGlzLm1vdmVUbyh4ICsgcmFkaXVzLCB5KTtcclxuICAgIHRoaXMubGluZVRvKHggKyB3aWR0aCAtIHJhZGl1cywgeSk7XHJcbiAgICB0aGlzLnF1YWRyYXRpY0N1cnZlVG8oeCArIHdpZHRoLCB5LCB4ICsgd2lkdGgsIHkgKyByYWRpdXMpO1xyXG4gICAgdGhpcy5saW5lVG8oeCArIHdpZHRoLCB5ICsgaGVpZ2h0IC0gcmFkaXVzKTtcclxuICAgIHRoaXMucXVhZHJhdGljQ3VydmVUbyhcclxuICAgICAgeCArIHdpZHRoLFxyXG4gICAgICB5ICsgaGVpZ2h0LFxyXG4gICAgICB4ICsgd2lkdGggLSByYWRpdXMsXHJcbiAgICAgIHkgKyBoZWlnaHRcclxuICAgICk7XHJcbiAgICB0aGlzLmxpbmVUbyh4ICsgcmFkaXVzLCB5ICsgaGVpZ2h0KTtcclxuICAgIHRoaXMucXVhZHJhdGljQ3VydmVUbyh4LCB5ICsgaGVpZ2h0LCB4LCB5ICsgaGVpZ2h0IC0gcmFkaXVzKTtcclxuICAgIHRoaXMubGluZVRvKHgsIHkgKyByYWRpdXMpO1xyXG4gICAgdGhpcy5xdWFkcmF0aWNDdXJ2ZVRvKHgsIHksIHggKyByYWRpdXMsIHkpO1xyXG4gICAgdGhpcy5jbG9zZVBhdGgoKTtcclxuXHJcbiAgICBpZiAoYmFja2dyb3VuZENvbG9yKSB7XHJcbiAgICAgIHRoaXMuZmlsbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChib3JkZXJDb2xvciAmJiBib3JkZXJUaGlja25lc3MgPiAwKSB7XHJcbiAgICAgIHRoaXMuc3Ryb2tlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVOdW1iZXJzKGEsIGIpIHtcclxuICByZXR1cm4gYSAtIGI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlRGF0YVBvaW50WChkYXRhUG9pbnQxLCBkYXRhUG9pbnQyKSB7XHJcbiAgcmV0dXJuIGRhdGFQb2ludDEueCAtIGRhdGFQb2ludDIueDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGludFRvSGV4Q29sb3JTdHJpbmcobnVtKSB7XHJcbiAgdmFyIHIgPSAoKG51bSAmIDB4ZmYwMDAwKSA+PiAxNikudG9TdHJpbmcoMTYpO1xyXG4gIHZhciBnID0gKChudW0gJiAweDAwZmYwMCkgPj4gOCkudG9TdHJpbmcoMTYpO1xyXG4gIHZhciBiID0gKChudW0gJiAweDAwMDBmZikgPj4gMCkudG9TdHJpbmcoMTYpO1xyXG5cclxuICByID0gci5sZW5ndGggPCAyID8gXCIwXCIgKyByIDogcjtcclxuICBnID0gZy5sZW5ndGggPCAyID8gXCIwXCIgKyBnIDogZztcclxuICBiID0gYi5sZW5ndGggPCAyID8gXCIwXCIgKyBiIDogYjtcclxuXHJcbiAgcmV0dXJuIFwiI1wiICsgciArIGcgKyBiO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gUkdCVG9JbnQociwgZywgYikge1xyXG4gIHZhciBudW0gPSAociA8PCAxNikgfCAoZyA8PCA4KSB8IGI7XHJcblxyXG4gIHJldHVybiBudW07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbnRUb1JHQihudW0pIHtcclxuICB2YXIgcmdiID0gW107XHJcbiAgdmFyIHIgPSAobnVtICYgMHhmZjAwMDApID4+IDE2O1xyXG4gIHZhciBnID0gKG51bSAmIDB4MDBmZjAwKSA+PiA4O1xyXG4gIHZhciBiID0gKG51bSAmIDB4MDAwMGZmKSA+PiAwO1xyXG5cclxuICAvL3IgPSByLmxlbmd0aCA8IDIgPyBcIjBcIiArIHIgOiByO1xyXG4gIC8vZyA9IGcubGVuZ3RoIDwgMiA/IFwiMFwiICsgZyA6IGc7XHJcbiAgLy9iID0gYi5sZW5ndGggPCAyID8gXCIwXCIgKyBiIDogYjtcclxuXHJcbiAgcmdiWzBdID0gcjtcclxuICByZ2JbMV0gPSBnO1xyXG4gIHJnYlsyXSA9IGI7XHJcblxyXG4gIHJldHVybiByZ2I7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhcnJheUluZGV4T2YoZWx0IC8qLCBmcm9tKi8pIHtcclxuICB2YXIgbGVuID0gdGhpcy5sZW5ndGggPj4+IDA7XHJcblxyXG4gIHZhciBmcm9tID0gTnVtYmVyKGFyZ3VtZW50c1sxXSkgfHwgMDtcclxuICBmcm9tID0gZnJvbSA8IDAgPyBNYXRoLmNlaWwoZnJvbSkgOiBNYXRoLmZsb29yKGZyb20pO1xyXG4gIGlmIChmcm9tIDwgMCkgZnJvbSArPSBsZW47XHJcblxyXG4gIGZvciAoOyBmcm9tIDwgbGVuOyBmcm9tKyspIHtcclxuICAgIGlmIChmcm9tIGluIHRoaXMgJiYgdGhpc1tmcm9tXSA9PT0gZWx0KSByZXR1cm4gZnJvbTtcclxuICB9XHJcbiAgcmV0dXJuIC0xO1xyXG59XHJcblxyXG4vL0lFOC0gRml4OiBpbmRleE9mIGlzIG5vdCBzdXBwb3J0ZWQgaW4gSUU4LSBmb3IgYXJyYXlzXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRBcnJheUluZGV4T2Yob2JqKSB7XHJcbiAgaWYgKCFvYmouaW5kZXhPZikge1xyXG4gICAgb2JqLmluZGV4T2YgPSBhcnJheUluZGV4T2Y7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gb2JqO1xyXG59XHJcblxyXG52YXIgZm9udEhlaWdodEluUGl4ZWxzID0ge307XHJcbnZhciB0ZXh0TWVhc3VyZUVsID0gbnVsbDtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRGb250SGVpZ2h0SW5QaXhlbHMoZm9udEZhbWlseSwgZm9udFNpemUsIGZvbnRXZWlnaHQpIHtcclxuICAvL3JldHVybiBmb250U2l6ZTtcclxuXHJcbiAgZm9udFdlaWdodCA9IGZvbnRXZWlnaHQgfHwgXCJub3JtYWxcIjtcclxuXHJcbiAgdmFyIGVudHJ5ID0gZm9udEZhbWlseSArIFwiX1wiICsgZm9udFNpemUgKyBcIl9cIiArIGZvbnRXZWlnaHQ7XHJcbiAgdmFyIGhlaWdodCA9IGZvbnRIZWlnaHRJblBpeGVsc1tlbnRyeV07XHJcblxyXG4gIGlmIChpc05hTihoZWlnaHQpKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICB2YXIgc3R5bGUgPVxyXG4gICAgICAgIFwicG9zaXRpb246YWJzb2x1dGU7IGxlZnQ6MHB4OyB0b3A6LTIwMDAwcHg7IHBhZGRpbmc6MHB4O21hcmdpbjowcHg7Ym9yZGVyOm5vbmU7d2hpdGUtc3BhY2U6cHJlO2xpbmUtaGVpZ2h0Om5vcm1hbDtcIiArXHJcbiAgICAgICAgXCJmb250LWZhbWlseTpcIiArXHJcbiAgICAgICAgZm9udEZhbWlseSArXHJcbiAgICAgICAgXCI7IFwiICtcclxuICAgICAgICBcImZvbnQtc2l6ZTpcIiArXHJcbiAgICAgICAgZm9udFNpemUgK1xyXG4gICAgICAgIFwicHg7IGZvbnQtd2VpZ2h0OlwiICtcclxuICAgICAgICBmb250V2VpZ2h0ICtcclxuICAgICAgICBcIjtcIjtcclxuICAgICAgLy9jb25zb2xlLmxvZyhzdHlsZSk7XHJcbiAgICAgIGlmICghdGV4dE1lYXN1cmVFbCkge1xyXG4gICAgICAgIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keTtcclxuICAgICAgICB0ZXh0TWVhc3VyZUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcbiAgICAgICAgdGV4dE1lYXN1cmVFbC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgIHZhciB0ZXh0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiTXBneWlcIik7XHJcbiAgICAgICAgdGV4dE1lYXN1cmVFbC5hcHBlbmRDaGlsZCh0ZXh0Tm9kZSk7XHJcbiAgICAgICAgYm9keS5hcHBlbmRDaGlsZCh0ZXh0TWVhc3VyZUVsKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGV4dE1lYXN1cmVFbC5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcclxuICAgICAgdGV4dE1lYXN1cmVFbC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBzdHlsZSk7XHJcblxyXG4gICAgICBoZWlnaHQgPSBNYXRoLnJvdW5kKHRleHRNZWFzdXJlRWwub2Zmc2V0SGVpZ2h0KTtcclxuICAgICAgdGV4dE1lYXN1cmVFbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgIC8vYm9keS5yZW1vdmVDaGlsZCh0ZW1wRGl2KTtcclxuXHJcbiAgICAgIC8vaWYgKHdpbmRvdy5jb25zb2xlKVxyXG4gICAgICAvL1x0d2luZG93LmNvbnNvbGUubG9nKGZvbnRTaXplICsgXCI6IFwiICsgaGVpZ2h0KTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgaGVpZ2h0ID0gTWF0aC5jZWlsKGZvbnRTaXplICogMS4xKTtcclxuICAgIH1cclxuXHJcbiAgICBoZWlnaHQgPSBNYXRoLm1heChoZWlnaHQsIGZvbnRTaXplKTtcclxuXHJcbiAgICBmb250SGVpZ2h0SW5QaXhlbHNbZW50cnldID0gaGVpZ2h0O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGhlaWdodDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldExpbmVEYXNoQXJyYXkobGluZURhc2hUeXBlLCBsaW5lVGhpY2tuZXNzKSB7XHJcbiAgbGluZURhc2hUeXBlID0gbGluZURhc2hUeXBlIHx8IFwic29saWRcIjtcclxuXHJcbiAgdmFyIGxpbmVEYXNoQXJyYXkgPSBbXTtcclxuXHJcbiAgdmFyIGxpbmVEYXNoVHlwZU1hcCA9IHtcclxuICAgIHNvbGlkOiBbXSxcclxuICAgIHNob3J0RGFzaDogWzMsIDFdLFxyXG4gICAgc2hvcnREb3Q6IFsxLCAxXSxcclxuICAgIHNob3J0RGFzaERvdDogWzMsIDEsIDEsIDFdLFxyXG4gICAgc2hvcnREYXNoRG90RG90OiBbMywgMSwgMSwgMSwgMSwgMV0sXHJcbiAgICBkb3Q6IFsxLCAyXSxcclxuICAgIGRhc2g6IFs0LCAyXSxcclxuICAgIGRhc2hEb3Q6IFs0LCAyLCAxLCAyXSxcclxuICAgIGxvbmdEYXNoOiBbOCwgMl0sXHJcbiAgICBsb25nRGFzaERvdDogWzgsIDIsIDEsIDJdLFxyXG4gICAgbG9uZ0Rhc2hEb3REb3Q6IFs4LCAyLCAxLCAyLCAxLCAyXVxyXG4gIH07XHJcblxyXG4gIGxpbmVEYXNoQXJyYXkgPSBsaW5lRGFzaFR5cGVNYXBbbGluZURhc2hUeXBlXTtcclxuXHJcbiAgaWYgKGxpbmVEYXNoQXJyYXkpIHtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZURhc2hBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICBsaW5lRGFzaEFycmF5W2ldICo9IGxpbmVUaGlja25lc3M7XHJcbiAgICB9XHJcbiAgfSBlbHNlIGxpbmVEYXNoQXJyYXkgPSBbXTtcclxuXHJcbiAgcmV0dXJuIGxpbmVEYXNoQXJyYXk7XHJcbn1cclxuXHJcbi8vdXNlckNhcHR1cmUgaXMgb3B0aW9uYWwuIERlZmF1bHRzIHRvIGZhbHNlXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRFdmVudChvYmosIGV2ZW50VHlwZSwgZm4sIHVzZUNhcHR1cmUpIHtcclxuICBpZiAob2JqLmFkZEV2ZW50TGlzdGVuZXIpIHtcclxuICAgIG9iai5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgZm4sIHVzZUNhcHR1cmUgfHwgZmFsc2UpO1xyXG4gIH0gZWxzZSBpZiAob2JqLmF0dGFjaEV2ZW50KSB7XHJcbiAgICBvYmouYXR0YWNoRXZlbnQoXCJvblwiICsgZXZlbnRUeXBlLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgIGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCA9XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCB8fFxyXG4gICAgICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgIH07XHJcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uID1cclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbiB8fFxyXG4gICAgICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZS5jYW5jZWxCdWJibGUgPSB0cnVlO1xyXG4gICAgICAgIH07XHJcbiAgICAgIGZuLmNhbGwob2JqLCBlKTtcclxuICAgIH0pO1xyXG4gIH0gZWxzZSByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbi8vI3JlZ2lvbiBmb3JtYXR0aW5nIGZ1bmN0aW9ucy9tZXRob2RzXHJcbmV4cG9ydCBmdW5jdGlvbiBkYXRlRm9ybWF0KCkge1xyXG4gIHZhciByZWcgPSAvRHsxLDR9fE17MSw0fXxZezEsNH18aHsxLDJ9fEh7MSwyfXxtezEsMn18c3sxLDJ9fGZ7MSwzfXx0ezEsMn18VHsxLDJ9fEt8ensxLDN9fFwiW15cIl0qXCJ8J1teJ10qJy9nO1xyXG5cclxuICB2YXIgZGVmRGF5cyA9IFtcclxuICAgIFwiU3VuZGF5XCIsXHJcbiAgICBcIk1vbmRheVwiLFxyXG4gICAgXCJUdWVzZGF5XCIsXHJcbiAgICBcIldlZG5lc2RheVwiLFxyXG4gICAgXCJUaHVyc2RheVwiLFxyXG4gICAgXCJGcmlkYXlcIixcclxuICAgIFwiU2F0dXJkYXlcIlxyXG4gIF07XHJcbiAgdmFyIGRlZlNob3J0RGF5cyA9IFtcIlN1blwiLCBcIk1vblwiLCBcIlR1ZVwiLCBcIldlZFwiLCBcIlRodVwiLCBcIkZyaVwiLCBcIlNhdFwiXTtcclxuXHJcbiAgdmFyIGRlZk1vbnRocyA9IFtcclxuICAgIFwiSmFudWFyeVwiLFxyXG4gICAgXCJGZWJydWFyeVwiLFxyXG4gICAgXCJNYXJjaFwiLFxyXG4gICAgXCJBcHJpbFwiLFxyXG4gICAgXCJNYXlcIixcclxuICAgIFwiSnVuZVwiLFxyXG4gICAgXCJKdWx5XCIsXHJcbiAgICBcIkF1Z3VzdFwiLFxyXG4gICAgXCJTZXB0ZW1iZXJcIixcclxuICAgIFwiT2N0b2JlclwiLFxyXG4gICAgXCJOb3ZlbWJlclwiLFxyXG4gICAgXCJEZWNlbWJlclwiXHJcbiAgXTtcclxuICB2YXIgZGVmU2hvcnRNb250aHMgPSBbXHJcbiAgICBcIkphblwiLFxyXG4gICAgXCJGZWJcIixcclxuICAgIFwiTWFyXCIsXHJcbiAgICBcIkFwclwiLFxyXG4gICAgXCJNYXlcIixcclxuICAgIFwiSnVuXCIsXHJcbiAgICBcIkp1bFwiLFxyXG4gICAgXCJBdWdcIixcclxuICAgIFwiU2VwXCIsXHJcbiAgICBcIk9jdFwiLFxyXG4gICAgXCJOb3ZcIixcclxuICAgIFwiRGVjXCJcclxuICBdO1xyXG5cclxuICB2YXIgdGltZXpvbmUgPSAvXFxiKD86W1BNQ0VBXVtTRFBdVHwoPzpQYWNpZmljfE1vdW50YWlufENlbnRyYWx8RWFzdGVybnxBdGxhbnRpYykgKD86U3RhbmRhcmR8RGF5bGlnaHR8UHJldmFpbGluZykgVGltZXwoPzpHTVR8VVRDKSg/OlstK11cXGR7NH0pPylcXGIvZztcclxuICB2YXIgdGltZXpvbmVDbGlwID0gL1teLStcXGRBLVpdL2c7XHJcblxyXG4gIHJldHVybiBmdW5jdGlvbihkdCwgZm9ybWF0U3RyaW5nLCBjdWx0dXJlSW5mbykge1xyXG4gICAgdmFyIGRheXMgPSBjdWx0dXJlSW5mbyA/IGN1bHR1cmVJbmZvLmRheXMgOiBkZWZEYXlzO1xyXG4gICAgdmFyIG1vbnRocyA9IGN1bHR1cmVJbmZvID8gY3VsdHVyZUluZm8ubW9udGhzIDogZGVmTW9udGhzO1xyXG5cclxuICAgIHZhciBzaG9ydERheXMgPSBjdWx0dXJlSW5mbyA/IGN1bHR1cmVJbmZvLnNob3J0RGF5cyA6IGRlZlNob3J0RGF5cztcclxuICAgIHZhciBzaG9ydE1vbnRocyA9IGN1bHR1cmVJbmZvID8gY3VsdHVyZUluZm8uc2hvcnRNb250aHMgOiBkZWZTaG9ydE1vbnRocztcclxuXHJcbiAgICB2YXIgcmVzdWx0ID0gXCJcIjtcclxuICAgIHZhciB1dGMgPSBmYWxzZTtcclxuXHJcbiAgICBkdCA9IGR0ICYmIGR0LmdldFRpbWUgPyBkdCA6IGR0ID8gbmV3IERhdGUoZHQpIDogbmV3IERhdGUoKTtcclxuICAgIGlmIChpc05hTihkdCkpIHRocm93IFN5bnRheEVycm9yKFwiaW52YWxpZCBkYXRlXCIpO1xyXG5cclxuICAgIGlmIChmb3JtYXRTdHJpbmcuc2xpY2UoMCwgNCkgPT09IFwiVVRDOlwiKSB7XHJcbiAgICAgIGZvcm1hdFN0cmluZyA9IGZvcm1hdFN0cmluZy5zbGljZSg0KTtcclxuICAgICAgdXRjID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgcHJlID0gdXRjID8gXCJnZXRVVENcIiA6IFwiZ2V0XCI7XHJcbiAgICB2YXIgZGF0ZSA9IGR0W3ByZSArIFwiRGF0ZVwiXSgpO1xyXG4gICAgdmFyIGRheSA9IGR0W3ByZSArIFwiRGF5XCJdKCk7XHJcbiAgICB2YXIgbW9udGggPSBkdFtwcmUgKyBcIk1vbnRoXCJdKCk7XHJcbiAgICB2YXIgeWVhciA9IGR0W3ByZSArIFwiRnVsbFllYXJcIl0oKTtcclxuICAgIHZhciBob3VycyA9IGR0W3ByZSArIFwiSG91cnNcIl0oKTtcclxuICAgIHZhciBtaW51dGVzID0gZHRbcHJlICsgXCJNaW51dGVzXCJdKCk7XHJcbiAgICB2YXIgc2Vjb25kcyA9IGR0W3ByZSArIFwiU2Vjb25kc1wiXSgpO1xyXG4gICAgdmFyIG1pbGxpc2Vjb25kcyA9IGR0W3ByZSArIFwiTWlsbGlzZWNvbmRzXCJdKCk7XHJcbiAgICB2YXIgb2Zmc2V0ID0gdXRjID8gMCA6IGR0LmdldFRpbWV6b25lT2Zmc2V0KCk7XHJcblxyXG4gICAgcmVzdWx0ID0gZm9ybWF0U3RyaW5nLnJlcGxhY2UocmVnLCBmdW5jdGlvbihrZXkpIHtcclxuICAgICAgc3dpdGNoIChrZXkpIHtcclxuICAgICAgICBjYXNlIFwiRFwiOlxyXG4gICAgICAgICAgcmV0dXJuIGRhdGU7XHJcbiAgICAgICAgY2FzZSBcIkREXCI6XHJcbiAgICAgICAgICByZXR1cm4gcGFkKGRhdGUsIDIpO1xyXG4gICAgICAgIGNhc2UgXCJERERcIjpcclxuICAgICAgICAgIHJldHVybiBzaG9ydERheXNbZGF5XTtcclxuICAgICAgICBjYXNlIFwiRERERFwiOlxyXG4gICAgICAgICAgcmV0dXJuIGRheXNbZGF5XTtcclxuXHJcbiAgICAgICAgY2FzZSBcIk1cIjpcclxuICAgICAgICAgIHJldHVybiBtb250aCArIDE7XHJcbiAgICAgICAgY2FzZSBcIk1NXCI6XHJcbiAgICAgICAgICByZXR1cm4gcGFkKG1vbnRoICsgMSwgMik7XHJcbiAgICAgICAgY2FzZSBcIk1NTVwiOlxyXG4gICAgICAgICAgcmV0dXJuIHNob3J0TW9udGhzW21vbnRoXTtcclxuICAgICAgICBjYXNlIFwiTU1NTVwiOlxyXG4gICAgICAgICAgcmV0dXJuIG1vbnRoc1ttb250aF07XHJcblxyXG4gICAgICAgIGNhc2UgXCJZXCI6XHJcbiAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoU3RyaW5nKHllYXIpLnNsaWNlKC0yKSk7XHJcbiAgICAgICAgY2FzZSBcIllZXCI6XHJcbiAgICAgICAgICByZXR1cm4gcGFkKFN0cmluZyh5ZWFyKS5zbGljZSgtMiksIDIpO1xyXG4gICAgICAgIGNhc2UgXCJZWVlcIjpcclxuICAgICAgICAgIHJldHVybiBwYWQoU3RyaW5nKHllYXIpLnNsaWNlKC0zKSwgMyk7XHJcbiAgICAgICAgY2FzZSBcIllZWVlcIjpcclxuICAgICAgICAgIHJldHVybiBwYWQoeWVhciwgNCk7XHJcblxyXG4gICAgICAgIGNhc2UgXCJoXCI6XHJcbiAgICAgICAgICByZXR1cm4gaG91cnMgJSAxMiB8fCAxMjtcclxuICAgICAgICBjYXNlIFwiaGhcIjpcclxuICAgICAgICAgIHJldHVybiBwYWQoaG91cnMgJSAxMiB8fCAxMiwgMik7XHJcblxyXG4gICAgICAgIGNhc2UgXCJIXCI6XHJcbiAgICAgICAgICByZXR1cm4gaG91cnM7XHJcbiAgICAgICAgY2FzZSBcIkhIXCI6XHJcbiAgICAgICAgICByZXR1cm4gcGFkKGhvdXJzLCAyKTtcclxuXHJcbiAgICAgICAgY2FzZSBcIm1cIjpcclxuICAgICAgICAgIHJldHVybiBtaW51dGVzO1xyXG4gICAgICAgIGNhc2UgXCJtbVwiOlxyXG4gICAgICAgICAgcmV0dXJuIHBhZChtaW51dGVzLCAyKTtcclxuXHJcbiAgICAgICAgY2FzZSBcInNcIjpcclxuICAgICAgICAgIHJldHVybiBzZWNvbmRzO1xyXG4gICAgICAgIGNhc2UgXCJzc1wiOlxyXG4gICAgICAgICAgcmV0dXJuIHBhZChzZWNvbmRzLCAyKTtcclxuXHJcbiAgICAgICAgY2FzZSBcImZcIjpcclxuICAgICAgICAgIHJldHVybiBTdHJpbmcobWlsbGlzZWNvbmRzKS5zbGljZSgwLCAxKTtcclxuICAgICAgICBjYXNlIFwiZmZcIjpcclxuICAgICAgICAgIHJldHVybiBwYWQoU3RyaW5nKG1pbGxpc2Vjb25kcykuc2xpY2UoMCwgMiksIDIpO1xyXG4gICAgICAgIGNhc2UgXCJmZmZcIjpcclxuICAgICAgICAgIHJldHVybiBwYWQoU3RyaW5nKG1pbGxpc2Vjb25kcykuc2xpY2UoMCwgMyksIDMpO1xyXG5cclxuICAgICAgICBjYXNlIFwidFwiOlxyXG4gICAgICAgICAgcmV0dXJuIGhvdXJzIDwgMTIgPyBcImFcIiA6IFwicFwiO1xyXG4gICAgICAgIGNhc2UgXCJ0dFwiOlxyXG4gICAgICAgICAgcmV0dXJuIGhvdXJzIDwgMTIgPyBcImFtXCIgOiBcInBtXCI7XHJcbiAgICAgICAgY2FzZSBcIlRcIjpcclxuICAgICAgICAgIHJldHVybiBob3VycyA8IDEyID8gXCJBXCIgOiBcIlBcIjtcclxuICAgICAgICBjYXNlIFwiVFRcIjpcclxuICAgICAgICAgIHJldHVybiBob3VycyA8IDEyID8gXCJBTVwiIDogXCJQTVwiO1xyXG5cclxuICAgICAgICBjYXNlIFwiS1wiOlxyXG4gICAgICAgICAgcmV0dXJuIHV0Y1xyXG4gICAgICAgICAgICA/IFwiVVRDXCJcclxuICAgICAgICAgICAgOiAoU3RyaW5nKGR0KS5tYXRjaCh0aW1lem9uZSkgfHwgW1wiXCJdKVxyXG4gICAgICAgICAgICAgICAgLnBvcCgpXHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZSh0aW1lem9uZUNsaXAsIFwiXCIpOyAvLyBUaW1lIFpvbmU7XHJcbiAgICAgICAgY2FzZSBcInpcIjpcclxuICAgICAgICAgIHJldHVybiAob2Zmc2V0ID4gMCA/IFwiLVwiIDogXCIrXCIpICsgTWF0aC5mbG9vcihNYXRoLmFicyhvZmZzZXQpIC8gNjApOyAvLyBIb3VyIE9mZnNldCBmcm9tIFVUQyB3aXRob3V0IHBhZGRpbmdcclxuICAgICAgICBjYXNlIFwienpcIjpcclxuICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIChvZmZzZXQgPiAwID8gXCItXCIgOiBcIitcIikgKyBwYWQoTWF0aC5mbG9vcihNYXRoLmFicyhvZmZzZXQpIC8gNjApLCAyKVxyXG4gICAgICAgICAgKTsgLy8gSG91ciBPZmZzZXQgZnJvbSBVVEMgd2l0aCBwYWRkaW5nXHJcbiAgICAgICAgY2FzZSBcInp6elwiOlxyXG4gICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgKG9mZnNldCA+IDAgPyBcIi1cIiA6IFwiK1wiKSArXHJcbiAgICAgICAgICAgIHBhZChNYXRoLmZsb29yKE1hdGguYWJzKG9mZnNldCkgLyA2MCksIDIpICtcclxuICAgICAgICAgICAgcGFkKE1hdGguYWJzKG9mZnNldCkgJSA2MCwgMilcclxuICAgICAgICAgICk7IC8vIEhvdXIgYW5kIE1pbnV0ZSBPZmZzZXQgZnJvbSBVVEMgd2l0aCBwYWRkaW5nXHJcblxyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICByZXR1cm4ga2V5LnNsaWNlKDEsIGtleS5sZW5ndGggLSAxKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbnVtYmVyRm9ybWF0KHYsIGZzLCBjdWx0dXJlSW5mbykge1xyXG4gIGlmICh2ID09PSBudWxsKSByZXR1cm4gXCJcIjtcclxuXHJcbiAgdiA9IE51bWJlcih2KTtcclxuICB2YXIgaXNOZWdhdGl2ZSA9IHYgPCAwID8gdHJ1ZSA6IGZhbHNlO1xyXG4gIGlmIChpc05lZ2F0aXZlKSB2ICo9IC0xO1xyXG5cclxuICB2YXIgZGVjaW1hbFNlcGFyYXRvciA9IGN1bHR1cmVJbmZvID8gY3VsdHVyZUluZm8uZGVjaW1hbFNlcGFyYXRvciA6IFwiLlwiO1xyXG4gIHZhciBkaWdpdEdyb3VwU2VwYXJhdG9yID0gY3VsdHVyZUluZm8gPyBjdWx0dXJlSW5mby5kaWdpdEdyb3VwU2VwYXJhdG9yIDogXCIsXCI7XHJcblxyXG4gIHZhciB2U3RyaW5nID0gXCJcIjtcclxuICBmcyA9IFN0cmluZyhmcyk7XHJcbiAgdmFyIG11bHRpcGxpZXIgPSAxO1xyXG4gIHZhciB0ZW1wO1xyXG4gIHZhciByZXN1bHQgPSBcIlwiO1xyXG5cclxuICB2YXIgbWF0Y2hlcyA9IFwiXCI7XHJcbiAgdmFyIGRlY2ltYWxQb3NpdGlvbiA9IC0xO1xyXG4gIHZhciBmc0JlZm9yZURlY2ltYWwgPSBbXTtcclxuICB2YXIgZnNBZnRlckRlY2ltYWwgPSBbXTtcclxuICB2YXIgbm9QaEJlZm9yZURlY2ltYWwgPSAwOyAvLyBOdW1iZXIgb2YgUGxhY2Vob2xkZXJzIGJlZm9yZSBEZWNpbWFsXHJcbiAgdmFyIG5vUGhBZnRlckRlY2ltYWwgPSAwOyAvLyBOdW1iZXIgb2YgUGxhY2Vob2xkZXJzIGFmdGVyIERlY2ltYWxcclxuICB2YXIgbm9Db21tYSA9IDA7XHJcbiAgdmFyIGlzU2NpZW50aWZpY05vdGF0aW9uID0gZmFsc2U7XHJcbiAgdmFyIGV4cG9uZW50ID0gMDtcclxuXHJcbiAgbWF0Y2hlcyA9IGZzLm1hdGNoKC9cIlteXCJdKlwifCdbXiddKid8W2VFXVsrLV0qWzBdK3xbLF0rWy5dfOKAsHwuL2cpO1xyXG4gIC8vd2luZG93LmNvbnNvbGUubG9nKG1hdGNoZXMgKyBcIiA9IFwiICsgbWF0Y2hlcy5sZW5ndGgpO1xyXG4gIHZhciBtYXRjaCA9IG51bGw7XHJcblxyXG4gIGZvciAodmFyIGkgPSAwOyBtYXRjaGVzICYmIGkgPCBtYXRjaGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBtYXRjaCA9IG1hdGNoZXNbaV07XHJcblxyXG4gICAgaWYgKG1hdGNoID09PSBcIi5cIiAmJiBkZWNpbWFsUG9zaXRpb24gPCAwKSB7XHJcbiAgICAgIGRlY2ltYWxQb3NpdGlvbiA9IGk7XHJcbiAgICAgIGNvbnRpbnVlO1xyXG4gICAgfSBlbHNlIGlmIChtYXRjaCA9PT0gXCIlXCIpIHtcclxuICAgICAgbXVsdGlwbGllciAqPSAxMDA7XHJcbiAgICB9IGVsc2UgaWYgKG1hdGNoID09PSBcIuKAsFwiKSB7XHJcbiAgICAgIG11bHRpcGxpZXIgKj0gMTAwMDtcclxuICAgICAgY29udGludWU7XHJcbiAgICB9IGVsc2UgaWYgKG1hdGNoWzBdID09PSBcIixcIiAmJiBtYXRjaFttYXRjaC5sZW5ndGggLSAxXSA9PT0gXCIuXCIpIHtcclxuICAgICAgbXVsdGlwbGllciAvPSBNYXRoLnBvdygxMDAwLCBtYXRjaC5sZW5ndGggLSAxKTtcclxuICAgICAgZGVjaW1hbFBvc2l0aW9uID0gaSArIG1hdGNoLmxlbmd0aCAtIDE7XHJcbiAgICAgIGNvbnRpbnVlO1xyXG4gICAgfSBlbHNlIGlmIChcclxuICAgICAgKG1hdGNoWzBdID09PSBcIkVcIiB8fCBtYXRjaFswXSA9PT0gXCJlXCIpICYmXHJcbiAgICAgIG1hdGNoW21hdGNoLmxlbmd0aCAtIDFdID09PSBcIjBcIlxyXG4gICAgKSB7XHJcbiAgICAgIGlzU2NpZW50aWZpY05vdGF0aW9uID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZGVjaW1hbFBvc2l0aW9uIDwgMCkge1xyXG4gICAgICBmc0JlZm9yZURlY2ltYWwucHVzaChtYXRjaCk7XHJcbiAgICAgIGlmIChtYXRjaCA9PT0gXCIjXCIgfHwgbWF0Y2ggPT09IFwiMFwiKSBub1BoQmVmb3JlRGVjaW1hbCsrO1xyXG4gICAgICBlbHNlIGlmIChtYXRjaCA9PT0gXCIsXCIpIG5vQ29tbWErKztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZzQWZ0ZXJEZWNpbWFsLnB1c2gobWF0Y2gpO1xyXG4gICAgICBpZiAobWF0Y2ggPT09IFwiI1wiIHx8IG1hdGNoID09PSBcIjBcIikgbm9QaEFmdGVyRGVjaW1hbCsrO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaWYgKGlzU2NpZW50aWZpY05vdGF0aW9uKSB7XHJcbiAgICB2YXIgaW50ZWdlciA9IE1hdGguZmxvb3Iodik7XHJcbiAgICBleHBvbmVudCA9XHJcbiAgICAgIChpbnRlZ2VyID09PSAwID8gXCJcIiA6IFN0cmluZyhpbnRlZ2VyKSkubGVuZ3RoIC0gbm9QaEJlZm9yZURlY2ltYWw7XHJcbiAgICBtdWx0aXBsaWVyIC89IE1hdGgucG93KDEwLCBleHBvbmVudCk7XHJcbiAgfVxyXG5cclxuICB2ICo9IG11bHRpcGxpZXI7XHJcblxyXG4gIGlmIChkZWNpbWFsUG9zaXRpb24gPCAwKSBkZWNpbWFsUG9zaXRpb24gPSBpO1xyXG5cclxuICB2U3RyaW5nID0gdi50b0ZpeGVkKG5vUGhBZnRlckRlY2ltYWwpO1xyXG4gIHZhciBzcGxpdCA9IHZTdHJpbmcuc3BsaXQoXCIuXCIpO1xyXG4gIC8vd2luZG93LmNvbnNvbGUubG9nKHNwbGl0KTtcclxuICB2YXIgdlN0cmluZ0JlZm9yZURlY2ltYWwgPSAoc3BsaXRbMF0gKyBcIlwiKS5zcGxpdChcIlwiKTtcclxuICB2YXIgdlN0cmluZ0FmdGVyRGVjaW1hbCA9IChzcGxpdFsxXSArIFwiXCIpLnNwbGl0KFwiXCIpO1xyXG5cclxuICBpZiAodlN0cmluZ0JlZm9yZURlY2ltYWwgJiYgdlN0cmluZ0JlZm9yZURlY2ltYWxbMF0gPT09IFwiMFwiKVxyXG4gICAgdlN0cmluZ0JlZm9yZURlY2ltYWwuc2hpZnQoKTtcclxuXHJcbiAgLy93aW5kb3cuY29uc29sZS5sb2coZnNCZWZvcmVEZWNpbWFsICsgXCI8LS0tLS0tLS0tLT5cIiArIGZzQWZ0ZXJEZWNpbWFsICsgXCIgJiAgICAgICAgXCIgKyB2U3RyaW5nQmVmb3JlRGVjaW1hbCArIFwiPC0tLS0tLS0tLS0+XCIgKyB2U3RyaW5nQWZ0ZXJEZWNpbWFsKTtcclxuXHJcbiAgdmFyIG5vUGhQcm9jZXNzZWQgPSAwO1xyXG4gIHZhciBub0RpZ2l0c0FkZGVkID0gMDtcclxuICB2YXIgbm9Db21tYUFkZGVkID0gMDtcclxuICB2YXIgY29tbWFEaXN0YW5jZSA9IDA7XHJcbiAgdmFyIGRpc3RhbmNlRnJvbUxhc3RDb21tYSA9IDA7XHJcblxyXG4gIHdoaWxlIChmc0JlZm9yZURlY2ltYWwubGVuZ3RoID4gMCkge1xyXG4gICAgbWF0Y2ggPSBmc0JlZm9yZURlY2ltYWwucG9wKCk7XHJcblxyXG4gICAgaWYgKG1hdGNoID09PSBcIiNcIiB8fCBtYXRjaCA9PT0gXCIwXCIpIHtcclxuICAgICAgbm9QaFByb2Nlc3NlZCsrO1xyXG5cclxuICAgICAgaWYgKG5vUGhQcm9jZXNzZWQgPT09IG5vUGhCZWZvcmVEZWNpbWFsKSB7XHJcbiAgICAgICAgdmFyIGRpZ2l0cyA9IHZTdHJpbmdCZWZvcmVEZWNpbWFsO1xyXG4gICAgICAgIHZTdHJpbmdCZWZvcmVEZWNpbWFsID0gW107XHJcblxyXG4gICAgICAgIGlmIChtYXRjaCA9PT0gXCIwXCIpIHtcclxuICAgICAgICAgIC8vdmFyIHRvdGFsRGlnaXRzID0gcmVzdWx0Lm1hdGNoKC9bMC05XS9nKS5sZW5ndGg7XHJcbiAgICAgICAgICB2YXIgdG9QYWQgPVxyXG4gICAgICAgICAgICBub1BoQmVmb3JlRGVjaW1hbCAtIG5vRGlnaXRzQWRkZWQgLSAoZGlnaXRzID8gZGlnaXRzLmxlbmd0aCA6IDApO1xyXG5cclxuICAgICAgICAgIHdoaWxlICh0b1BhZCA+IDApIHtcclxuICAgICAgICAgICAgZGlnaXRzLnVuc2hpZnQoXCIwXCIpO1xyXG4gICAgICAgICAgICB0b1BhZC0tO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd2hpbGUgKGRpZ2l0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICByZXN1bHQgPSBkaWdpdHMucG9wKCkgKyByZXN1bHQ7XHJcbiAgICAgICAgICBkaXN0YW5jZUZyb21MYXN0Q29tbWErKztcclxuXHJcbiAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIGRpc3RhbmNlRnJvbUxhc3RDb21tYSAlIGNvbW1hRGlzdGFuY2UgPT09IDAgJiZcclxuICAgICAgICAgICAgbm9Db21tYUFkZGVkID09PSBub0NvbW1hICYmXHJcbiAgICAgICAgICAgIGRpZ2l0cy5sZW5ndGggPiAwXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgICAgIHJlc3VsdCA9IGRpZ2l0R3JvdXBTZXBhcmF0b3IgKyByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNOZWdhdGl2ZSkgcmVzdWx0ID0gXCItXCIgKyByZXN1bHQ7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKHZTdHJpbmdCZWZvcmVEZWNpbWFsLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIHJlc3VsdCA9IHZTdHJpbmdCZWZvcmVEZWNpbWFsLnBvcCgpICsgcmVzdWx0O1xyXG4gICAgICAgICAgbm9EaWdpdHNBZGRlZCsrO1xyXG4gICAgICAgICAgZGlzdGFuY2VGcm9tTGFzdENvbW1hKys7XHJcbiAgICAgICAgfSBlbHNlIGlmIChtYXRjaCA9PT0gXCIwXCIpIHtcclxuICAgICAgICAgIHJlc3VsdCA9IFwiMFwiICsgcmVzdWx0O1xyXG4gICAgICAgICAgbm9EaWdpdHNBZGRlZCsrO1xyXG4gICAgICAgICAgZGlzdGFuY2VGcm9tTGFzdENvbW1hKys7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICBkaXN0YW5jZUZyb21MYXN0Q29tbWEgJSBjb21tYURpc3RhbmNlID09PSAwICYmXHJcbiAgICAgICAgICBub0NvbW1hQWRkZWQgPT09IG5vQ29tbWEgJiZcclxuICAgICAgICAgIHZTdHJpbmdCZWZvcmVEZWNpbWFsLmxlbmd0aCA+IDBcclxuICAgICAgICApXHJcbiAgICAgICAgICByZXN1bHQgPSBkaWdpdEdyb3VwU2VwYXJhdG9yICsgcmVzdWx0O1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAobWF0Y2hbMF0gPT09IFwiRVwiIHx8IG1hdGNoWzBdID09PSBcImVcIikgJiZcclxuICAgICAgbWF0Y2hbbWF0Y2gubGVuZ3RoIC0gMV0gPT09IFwiMFwiICYmXHJcbiAgICAgIC9bZUVdWystXSpbMF0rLy50ZXN0KG1hdGNoKVxyXG4gICAgKSB7XHJcbiAgICAgIGlmIChleHBvbmVudCA8IDApIG1hdGNoID0gbWF0Y2gucmVwbGFjZShcIitcIiwgXCJcIikucmVwbGFjZShcIi1cIiwgXCJcIik7XHJcbiAgICAgIGVsc2UgbWF0Y2ggPSBtYXRjaC5yZXBsYWNlKFwiLVwiLCBcIlwiKTtcclxuXHJcbiAgICAgIHJlc3VsdCArPSBtYXRjaC5yZXBsYWNlKC9bMF0rLywgZnVuY3Rpb24oJDApIHtcclxuICAgICAgICByZXR1cm4gcGFkKGV4cG9uZW50LCAkMC5sZW5ndGgpO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChtYXRjaCA9PT0gXCIsXCIpIHtcclxuICAgICAgICBub0NvbW1hQWRkZWQrKztcclxuICAgICAgICBjb21tYURpc3RhbmNlID0gZGlzdGFuY2VGcm9tTGFzdENvbW1hO1xyXG4gICAgICAgIGRpc3RhbmNlRnJvbUxhc3RDb21tYSA9IDA7XHJcblxyXG4gICAgICAgIGlmICh2U3RyaW5nQmVmb3JlRGVjaW1hbC5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgcmVzdWx0ID0gZGlnaXRHcm91cFNlcGFyYXRvciArIHJlc3VsdDtcclxuICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICBtYXRjaC5sZW5ndGggPiAxICYmXHJcbiAgICAgICAgKChtYXRjaFswXSA9PT0gJ1wiJyAmJiBtYXRjaFttYXRjaC5sZW5ndGggLSAxXSA9PT0gJ1wiJykgfHxcclxuICAgICAgICAgIChtYXRjaFswXSA9PT0gXCInXCIgJiYgbWF0Y2hbbWF0Y2gubGVuZ3RoIC0gMV0gPT09IFwiJ1wiKSlcclxuICAgICAgKSB7XHJcbiAgICAgICAgcmVzdWx0ID0gbWF0Y2guc2xpY2UoMSwgbWF0Y2gubGVuZ3RoIC0gMSkgKyByZXN1bHQ7XHJcbiAgICAgIH0gZWxzZSByZXN1bHQgPSBtYXRjaCArIHJlc3VsdDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHZhciBjaGFyQ291bnQgPSAwO1xyXG4gIHZhciByZXN1bHRBZnRlckRlY2ltYWwgPSBcIlwiO1xyXG4gIHZhciBhZGREZWNpbWFsU2VwYXJhdG9yID0gZmFsc2U7XHJcblxyXG4gIHdoaWxlIChmc0FmdGVyRGVjaW1hbC5sZW5ndGggPiAwKSB7XHJcbiAgICBtYXRjaCA9IGZzQWZ0ZXJEZWNpbWFsLnNoaWZ0KCk7XHJcblxyXG4gICAgaWYgKG1hdGNoID09PSBcIiNcIiB8fCBtYXRjaCA9PT0gXCIwXCIpIHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIHZTdHJpbmdBZnRlckRlY2ltYWwubGVuZ3RoID4gMCAmJlxyXG4gICAgICAgIE51bWJlcih2U3RyaW5nQWZ0ZXJEZWNpbWFsLmpvaW4oXCJcIikpICE9PSAwXHJcbiAgICAgICkge1xyXG4gICAgICAgIHJlc3VsdEFmdGVyRGVjaW1hbCArPSB2U3RyaW5nQWZ0ZXJEZWNpbWFsLnNoaWZ0KCk7XHJcbiAgICAgICAgYWRkRGVjaW1hbFNlcGFyYXRvciA9IHRydWU7XHJcbiAgICAgIH0gZWxzZSBpZiAobWF0Y2ggPT09IFwiMFwiKSB7XHJcbiAgICAgICAgcmVzdWx0QWZ0ZXJEZWNpbWFsICs9IFwiMFwiO1xyXG4gICAgICAgIGFkZERlY2ltYWxTZXBhcmF0b3IgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKFxyXG4gICAgICBtYXRjaC5sZW5ndGggPiAxICYmXHJcbiAgICAgICgobWF0Y2hbMF0gPT09ICdcIicgJiYgbWF0Y2hbbWF0Y2gubGVuZ3RoIC0gMV0gPT09ICdcIicpIHx8XHJcbiAgICAgICAgKG1hdGNoWzBdID09PSBcIidcIiAmJiBtYXRjaFttYXRjaC5sZW5ndGggLSAxXSA9PT0gXCInXCIpKVxyXG4gICAgKSB7XHJcbiAgICAgIHJlc3VsdEFmdGVyRGVjaW1hbCArPSBtYXRjaC5zbGljZSgxLCBtYXRjaC5sZW5ndGggLSAxKTtcclxuICAgICAgLy9hZGREZWNpbWFsU2VwYXJhdG9yID0gdHJ1ZTtcclxuICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgIChtYXRjaFswXSA9PT0gXCJFXCIgfHwgbWF0Y2hbMF0gPT09IFwiZVwiKSAmJlxyXG4gICAgICBtYXRjaFttYXRjaC5sZW5ndGggLSAxXSA9PT0gXCIwXCIgJiZcclxuICAgICAgL1tlRV1bKy1dKlswXSsvLnRlc3QobWF0Y2gpXHJcbiAgICApIHtcclxuICAgICAgaWYgKGV4cG9uZW50IDwgMCkgbWF0Y2ggPSBtYXRjaC5yZXBsYWNlKFwiK1wiLCBcIlwiKS5yZXBsYWNlKFwiLVwiLCBcIlwiKTtcclxuICAgICAgZWxzZSBtYXRjaCA9IG1hdGNoLnJlcGxhY2UoXCItXCIsIFwiXCIpO1xyXG4gICAgICByZXN1bHRBZnRlckRlY2ltYWwgKz0gbWF0Y2gucmVwbGFjZSgvWzBdKy8sIGZ1bmN0aW9uKCQwKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhZChleHBvbmVudCwgJDAubGVuZ3RoKTtcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXN1bHRBZnRlckRlY2ltYWwgKz0gbWF0Y2g7XHJcbiAgICAgIC8vYWRkRGVjaW1hbFNlcGFyYXRvciA9IHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXN1bHQgKz0gKGFkZERlY2ltYWxTZXBhcmF0b3IgPyBkZWNpbWFsU2VwYXJhdG9yIDogXCJcIikgKyByZXN1bHRBZnRlckRlY2ltYWw7XHJcbiAgLy93aW5kb3cuY29uc29sZS5sb2cocmVzdWx0KTtcclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG4vLyNlbmRyZWdpb24gZm9ybWF0dGluZyBmdW5jdGlvbnMvbWV0aG9kc1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldE9iamVjdElkKHgsIHksIGN0eCkge1xyXG4gIHggKj0gZGV2aWNlUGl4ZWxCYWNraW5nU3RvcmVSYXRpbztcclxuICB5ICo9IGRldmljZVBpeGVsQmFja2luZ1N0b3JlUmF0aW87XHJcbiAgdmFyIHBpeGVscyA9IGN0eC5nZXRJbWFnZURhdGEoeCwgeSwgMiwgMikuZGF0YTtcclxuICB2YXIgaXNPYmplY3QgPSB0cnVlO1xyXG5cclxuICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xyXG4gICAgaWYgKFxyXG4gICAgICAocGl4ZWxzW2ldICE9PSBwaXhlbHNbaSArIDRdKSB8XHJcbiAgICAgIChwaXhlbHNbaV0gIT09IHBpeGVsc1tpICsgOF0pIHxcclxuICAgICAgKHBpeGVsc1tpXSAhPT0gcGl4ZWxzW2kgKyAxMl0pXHJcbiAgICApIHtcclxuICAgICAgaXNPYmplY3QgPSBmYWxzZTtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpZiAoaXNPYmplY3QpIHtcclxuICAgIHJldHVybiBSR0JUb0ludChwaXhlbHNbMF0sIHBpeGVsc1sxXSwgcGl4ZWxzWzJdKTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIDA7XHJcbiAgfVxyXG5cclxuICAvL3dpbmRvdy5jb25zb2xlLmxvZyhwaXhlbHMpO1xyXG59XHJcblxyXG4vL2V4dHJhY3RzIG1vdXNlIGNvb3JkaW5hdGVzIGZyb20gdGhlIGV2ZW50IHBhcmFtZXRlcnNcclxuZXhwb3J0IGZ1bmN0aW9uIGdldE1vdXNlQ29vcmRpbmF0ZXMoZXYpIHtcclxuICB2YXIgeCA9IDA7XHJcbiAgdmFyIHkgPSAwO1xyXG5cclxuICBldiA9IGV2IHx8IHdpbmRvdy5ldmVudDtcclxuXHJcbiAgaWYgKGV2Lm9mZnNldFggfHwgZXYub2Zmc2V0WCA9PT0gMCkge1xyXG4gICAgeCA9IGV2Lm9mZnNldFg7XHJcbiAgICB5ID0gZXYub2Zmc2V0WTtcclxuICB9IGVsc2UgaWYgKGV2LmxheWVyWCB8fCBldi5sYXllclggPT0gMCkge1xyXG4gICAgLy8gRmlyZWZveFxyXG4gICAgeCA9IGV2LmxheWVyWDtcclxuICAgIHkgPSBldi5sYXllclk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHggPSBldi5wYWdlWCAtIGV2LnRhcmdldC5vZmZzZXRMZWZ0O1xyXG4gICAgeSA9IGV2LnBhZ2VZIC0gZXYudGFyZ2V0Lm9mZnNldFRvcDtcclxuICB9XHJcblxyXG4gIHJldHVybiB7IHg6IHgsIHk6IHkgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEZvbnRTdHJpbmcocHJlZml4LCBvYmplY3QsIGZhbGxiYWNrT2JqZWN0KSB7XHJcbiAgdmFyIGZvbnRTdHJpbmcgPSBcIlwiO1xyXG5cclxuICB2YXIgZm9udFN0eWxlU3RyaW5nID0gcHJlZml4ID8gcHJlZml4ICsgXCJGb250U3R5bGVcIiA6IFwiZm9udFN0eWxlXCI7XHJcbiAgdmFyIGZvbnRXZWlnaHRTdHJpbmcgPSBwcmVmaXggPyBwcmVmaXggKyBcIkZvbnRXZWlnaHRcIiA6IFwiZm9udFdlaWdodFwiO1xyXG4gIHZhciBmb250U2l6ZVN0cmluZyA9IHByZWZpeCA/IHByZWZpeCArIFwiRm9udFNpemVcIiA6IFwiZm9udFNpemVcIjtcclxuICB2YXIgZm9udEZhbWlseVN0cmluZyA9IHByZWZpeCA/IHByZWZpeCArIFwiRm9udEZhbWlseVwiIDogXCJmb250RmFtaWx5XCI7XHJcblxyXG4gIGZvbnRTdHJpbmcgKz0gb2JqZWN0W2ZvbnRTdHlsZVN0cmluZ11cclxuICAgID8gb2JqZWN0W2ZvbnRTdHlsZVN0cmluZ10gKyBcIiBcIlxyXG4gICAgOiBmYWxsYmFja09iamVjdCAmJiBmYWxsYmFja09iamVjdFtmb250U3R5bGVTdHJpbmddXHJcbiAgICA/IGZhbGxiYWNrT2JqZWN0W2ZvbnRTdHlsZVN0cmluZ10gKyBcIiBcIlxyXG4gICAgOiBcIlwiO1xyXG4gIGZvbnRTdHJpbmcgKz0gb2JqZWN0W2ZvbnRXZWlnaHRTdHJpbmddXHJcbiAgICA/IG9iamVjdFtmb250V2VpZ2h0U3RyaW5nXSArIFwiIFwiXHJcbiAgICA6IGZhbGxiYWNrT2JqZWN0ICYmIGZhbGxiYWNrT2JqZWN0W2ZvbnRXZWlnaHRTdHJpbmddXHJcbiAgICA/IGZhbGxiYWNrT2JqZWN0W2ZvbnRXZWlnaHRTdHJpbmddICsgXCIgXCJcclxuICAgIDogXCJcIjtcclxuICBmb250U3RyaW5nICs9IG9iamVjdFtmb250U2l6ZVN0cmluZ11cclxuICAgID8gb2JqZWN0W2ZvbnRTaXplU3RyaW5nXSArIFwicHggXCJcclxuICAgIDogZmFsbGJhY2tPYmplY3QgJiYgZmFsbGJhY2tPYmplY3RbZm9udFNpemVTdHJpbmddXHJcbiAgICA/IGZhbGxiYWNrT2JqZWN0W2ZvbnRTaXplU3RyaW5nXSArIFwicHggXCJcclxuICAgIDogXCJcIjtcclxuXHJcbiAgdmFyIGZvbnRGYW1pbHkgPSBvYmplY3RbZm9udEZhbWlseVN0cmluZ11cclxuICAgID8gb2JqZWN0W2ZvbnRGYW1pbHlTdHJpbmddICsgXCJcIlxyXG4gICAgOiBmYWxsYmFja09iamVjdCAmJiBmYWxsYmFja09iamVjdFtmb250RmFtaWx5U3RyaW5nXVxyXG4gICAgPyBmYWxsYmFja09iamVjdFtmb250RmFtaWx5U3RyaW5nXSArIFwiXCJcclxuICAgIDogXCJcIjtcclxuXHJcbiAgaWYgKCFpc0NhbnZhc1N1cHBvcnRlZCAmJiBmb250RmFtaWx5KSB7XHJcbiAgICB2YXIgZmlyc3RGb250RmFtaWx5ID0gZm9udEZhbWlseS5zcGxpdChcIixcIilbMF07XHJcblxyXG4gICAgaWYgKGZpcnN0Rm9udEZhbWlseVswXSAhPT0gXCInXCIgJiYgZmlyc3RGb250RmFtaWx5WzBdICE9PSAnXCInKVxyXG4gICAgICBmaXJzdEZvbnRGYW1pbHkgPSBcIidcIiArIGZpcnN0Rm9udEZhbWlseSArIFwiJ1wiO1xyXG5cclxuICAgIGZvbnRTdHJpbmcgKz0gZmlyc3RGb250RmFtaWx5O1xyXG4gIH0gZWxzZSBmb250U3RyaW5nICs9IGZvbnRGYW1pbHk7XHJcblxyXG4gIHJldHVybiBmb250U3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJvcGVydHkocHJvcGVydHlOYW1lLCBvYmplY3QsIGZhbGxiYWNrT2JqZWN0KSB7XHJcbiAgdmFyIHZhbHVlID1cclxuICAgIHByb3BlcnR5TmFtZSBpbiBvYmplY3RcclxuICAgICAgPyBvYmplY3RbcHJvcGVydHlOYW1lXVxyXG4gICAgICA6IGZhbGxiYWNrT2JqZWN0W3Byb3BlcnR5TmFtZV07XHJcblxyXG4gIHJldHVybiB2YWx1ZTtcclxufVxyXG5cclxudmFyIG9wdGltaXplRm9ySGlEUEkgPSB0cnVlO1xyXG4vL29wdGltaXplRm9ySGlEUEkgPSBmYWxzZTtcclxudmFyIGRldmljZVBpeGVsUmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xyXG52YXIgYmFja2luZ1N0b3JlUmF0aW8gPSAxO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldERldmljZVBpeGVsQmFja2luZ1N0b3JlUmF0aW8oKSB7XHJcbiAgcmV0dXJuIG9wdGltaXplRm9ySGlEUEkgPyBkZXZpY2VQaXhlbFJhdGlvIC8gYmFja2luZ1N0b3JlUmF0aW8gOiAxO1xyXG59XHJcblxyXG52YXIgZGV2aWNlUGl4ZWxCYWNraW5nU3RvcmVSYXRpbyA9IGdldERldmljZVBpeGVsQmFja2luZ1N0b3JlUmF0aW8oKTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRDYW52YXNTaXplKGNhbnZhcywgd2lkdGgsIGhlaWdodCkge1xyXG4gIGlmIChpc0NhbnZhc1N1cHBvcnRlZCAmJiAhIW9wdGltaXplRm9ySGlEUEkpIHtcclxuICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgYmFja2luZ1N0b3JlUmF0aW8gPVxyXG4gICAgICBjdHgud2Via2l0QmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fFxyXG4gICAgICBjdHgubW96QmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fFxyXG4gICAgICBjdHgubXNCYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8XHJcbiAgICAgIGN0eC5vQmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fFxyXG4gICAgICBjdHguYmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fFxyXG4gICAgICAxO1xyXG5cclxuICAgIGRldmljZVBpeGVsQmFja2luZ1N0b3JlUmF0aW8gPSBnZXREZXZpY2VQaXhlbEJhY2tpbmdTdG9yZVJhdGlvKCk7XHJcblxyXG4gICAgY2FudmFzLndpZHRoID0gd2lkdGggKiBkZXZpY2VQaXhlbEJhY2tpbmdTdG9yZVJhdGlvO1xyXG4gICAgY2FudmFzLmhlaWdodCA9IGhlaWdodCAqIGRldmljZVBpeGVsQmFja2luZ1N0b3JlUmF0aW87XHJcblxyXG4gICAgaWYgKGRldmljZVBpeGVsUmF0aW8gIT09IGJhY2tpbmdTdG9yZVJhdGlvKSB7XHJcbiAgICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9IHdpZHRoICsgXCJweFwiO1xyXG4gICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgXCJweFwiO1xyXG5cclxuICAgICAgY3R4LnNjYWxlKGRldmljZVBpeGVsQmFja2luZ1N0b3JlUmF0aW8sIGRldmljZVBpeGVsQmFja2luZ1N0b3JlUmF0aW8pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vd2luZG93LmFsZXJ0KGJhY2tpbmdTdG9yZVJhdGlvKTtcclxuICAgIC8vd2luZG93LmFsZXJ0KGRldmljZVBpeGVsUmF0aW8pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcclxuICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2FudmFzKHdpZHRoLCBoZWlnaHQpIHtcclxuICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICBjYW52YXMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYW52YXNqcy1jaGFydC1jYW52YXNcIik7XHJcblxyXG4gIHNldENhbnZhc1NpemUoY2FudmFzLCB3aWR0aCwgaGVpZ2h0KTtcclxuXHJcbiAgaWYgKCFpc0NhbnZhc1N1cHBvcnRlZCAmJiB0eXBlb2YgR192bWxDYW52YXNNYW5hZ2VyICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICBHX3ZtbENhbnZhc01hbmFnZXIuaW5pdEVsZW1lbnQoY2FudmFzKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBjYW52YXM7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBleHBvcnRDYW52YXMoY2FudmFzLCBmb3JtYXQsIGZpbGVOYW1lKSB7XHJcbiAgaWYgKCFjYW52YXMgfHwgIWZvcm1hdCB8fCAhZmlsZU5hbWUpIHJldHVybjtcclxuXHJcbiAgdmFyIGZ1bGxGaWxlTmFtZSA9IGZpbGVOYW1lICsgXCIuXCIgKyAoZm9ybWF0ID09PSBcImpwZWdcIiA/IFwianBnXCIgOiBmb3JtYXQpO1xyXG4gIHZhciBtaW1lVHlwZSA9IFwiaW1hZ2UvXCIgKyBmb3JtYXQ7XHJcbiAgdmFyIGltZyA9IGNhbnZhcy50b0RhdGFVUkwobWltZVR5cGUpO1xyXG4gIHZhciBzYXZlZCA9IGZhbHNlO1xyXG5cclxuICB2YXIgZG93bmxvYWRMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XHJcbiAgZG93bmxvYWRMaW5rLmRvd25sb2FkID0gZnVsbEZpbGVOYW1lO1xyXG4gIGRvd25sb2FkTGluay5ocmVmID0gaW1nO1xyXG4gIGRvd25sb2FkTGluay50YXJnZXQgPSBcIl9ibGFua1wiO1xyXG4gIHZhciBlO1xyXG5cclxuICBpZiAodHlwZW9mIEJsb2IgIT09IFwidW5kZWZpbmVkXCIgJiYgISFuZXcgQmxvYigpKSB7XHJcbiAgICAvL2FsZXJ0KFwiYmxvYlwiKTtcclxuICAgIHZhciBpbWdEYXRhID0gaW1nLnJlcGxhY2UoL15kYXRhOlthLXovXSo7YmFzZTY0LC8sIFwiXCIpO1xyXG5cclxuICAgIHZhciBieXRlU3RyaW5nID0gYXRvYihpbWdEYXRhKTtcclxuICAgIHZhciBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoYnl0ZVN0cmluZy5sZW5ndGgpO1xyXG4gICAgdmFyIGludEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnl0ZVN0cmluZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpbnRBcnJheVtpXSA9IGJ5dGVTdHJpbmcuY2hhckNvZGVBdChpKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFtidWZmZXJdLCB7IHR5cGU6IFwiaW1hZ2UvXCIgKyBmb3JtYXQgfSk7XHJcblxyXG4gICAgLy8gU2F2ZSB0aGUgYmxvYlxyXG4gICAgdHJ5IHtcclxuICAgICAgd2luZG93Lm5hdmlnYXRvci5tc1NhdmVCbG9iKGJsb2IsIGZ1bGxGaWxlTmFtZSk7XHJcbiAgICAgIHNhdmVkID0gdHJ1ZTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgZG93bmxvYWRMaW5rLmRhdGFzZXQuZG93bmxvYWR1cmwgPSBbXHJcbiAgICAgICAgbWltZVR5cGUsXHJcbiAgICAgICAgZG93bmxvYWRMaW5rLmRvd25sb2FkLFxyXG4gICAgICAgIGRvd25sb2FkTGluay5ocmVmXHJcbiAgICAgIF0uam9pbihcIjpcIik7XHJcbiAgICAgIGRvd25sb2FkTGluay5ocmVmID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpZiAoIXNhdmVkKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiTW91c2VFdmVudHNcIik7XHJcblxyXG4gICAgICBldmVudC5pbml0TW91c2VFdmVudChcclxuICAgICAgICBcImNsaWNrXCIsXHJcbiAgICAgICAgdHJ1ZSxcclxuICAgICAgICBmYWxzZSxcclxuICAgICAgICB3aW5kb3csXHJcbiAgICAgICAgMCxcclxuICAgICAgICAwLFxyXG4gICAgICAgIDAsXHJcbiAgICAgICAgMCxcclxuICAgICAgICAwLFxyXG4gICAgICAgIGZhbHNlLFxyXG4gICAgICAgIGZhbHNlLFxyXG4gICAgICAgIGZhbHNlLFxyXG4gICAgICAgIGZhbHNlLFxyXG4gICAgICAgIDAsXHJcbiAgICAgICAgbnVsbFxyXG4gICAgICApO1xyXG5cclxuICAgICAgaWYgKGRvd25sb2FkTGluay5kaXNwYXRjaEV2ZW50KSB7XHJcbiAgICAgICAgLy9hbGVydChcImRpc3BhdGNoRXZlbnRcIik7XHJcbiAgICAgICAgZG93bmxvYWRMaW5rLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xyXG4gICAgICB9IGVsc2UgaWYgKGRvd25sb2FkTGluay5maXJlRXZlbnQpIHtcclxuICAgICAgICAvL2FsZXJ0KFwiZmlyZUV2ZW50XCIpO1xyXG4gICAgICAgIGRvd25sb2FkTGluay5maXJlRXZlbnQoXCJvbmNsaWNrXCIpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHZhciB3aW4gPSB3aW5kb3cub3BlbigpO1xyXG4gICAgICAvL2FsZXJ0KFwiPElFMTBcIik7XHJcbiAgICAgIC8vd2luZG93LmNvbnNvbGUubG9nKFwiSUVcIik7XHJcbiAgICAgIHdpbi5kb2N1bWVudC53cml0ZShcclxuICAgICAgICBcIjxpbWcgc3JjPSdcIiArXHJcbiAgICAgICAgICBpbWcgK1xyXG4gICAgICAgICAgXCInPjwvaW1nPjxkaXY+UGxlYXNlIHJpZ2h0IGNsaWNrIG9uIHRoZSBpbWFnZSBhbmQgc2F2ZSBpdCB0byB5b3VyIGRldmljZTwvZGl2PlwiXHJcbiAgICAgICk7XHJcbiAgICAgIHdpbi5kb2N1bWVudC5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxudmFyIGJhc2U2NEltYWdlcyA9IHtcclxuICByZXNldDoge1xyXG4gICAgaW1hZ2U6XHJcbiAgICAgIFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFjQ0FZQUFBQUF3cjBpQUFBQUJITkNTVlFJQ0FnSWZBaGtpQUFBQUFsd1NGbHpBQUFMRWdBQUN4SUIwdDErL0FBQUFCeDBSVmgwVTI5bWRIZGhjbVVBUVdSdlltVWdSbWx5WlhkdmNtdHpJRU5UTnVpOHNvd0FBQUtSU1VSQlZFaUpyZFkvaUYxRkZNZnh6d25ackdJU1VTUi9KTEdJaG9oL1FpUk5CTFd4TUxJV0Vrd2JnaUFvRmdvVzJtaGxZNmRncFkySWxSQlJ4QlNLaFNBS0lrbFdKUll1TVpLQWhpeW9wQWlhVFk3RnZSdG1aKy9lZDkvekhSamV6THc1di9POWQ4NmN1WkdacG1VUkFmZG41bzlEZmRaTkxYcGp6K0x6aVBneUlsNk1pRzBqUFRKelpCdXlEclA0QlZtMFAvQUtibGpUYjRUb1kvZ0dld1lBN0t5Q2wrMWIzRFVZQU52d2JpSHcwZ0NBR1J6Qk96alRBWEVPdTBjQzRDaCtyNXgvSHJwZHJjWm12SURGU3VjTXRuWUNZQysrNkhtTkR3OEZLRFQzNEVUcmY2MzkvYXpPcjV2d1JrL2c1ZmJldUFCdGdDMDRYV2s5VlFMY2lNUDRFSC8zQUZ6RXJSTkM3TVhsUW1zZXNTb0hzR1BFMjNobUVvQlcrNjFLNjZITVhGbUlNdk44bXlpbFhTMzZSMDF1YitLZll2dzQzWlh3WURYK0FIUDRCQWNpNHBGSm9tZm1yL2lobU5vZkVTc0JJbUpHazdtbG5jck00NW41SlBiaHowa0FXcHN2K2p1eGFYMjFZSVBtVkpTMnVOekpNUzZaTmV4QzBkK0k3ZlVXWExGeXoya1NabHBXUHZBU2xtcUFmL0ZYTlhmM0ZBRjJGLzFMdUZpZkFsaW9uQjZkUnVTSTJJd0hpNmx6bVhtcDZ4UjhYWTBmaUloN3BzQXdoKzNGdURrUkhRVmpsK2E4bGtYam8wa0xVS0g3WGFWNW9PODZQbVoxRlR6eVA0Sy9YR2w5di96d2ZiVzdCcmlpdUVUR0NQNWNoOWJjOWY5N0hGL3ZjRnpDYTVnZEVQZ1dxK3QvNHYwVjYzb0UxdUY0aDBEaUZKN0huU1dNcHBEZGgxZHh0c1B2SjJ3Y0JOQUtic0pYYTBDazVvcGRhQlBzUk51L3VzYmEwOWkxS3NhQVZ6bUx0M3NnaHJSanVLMVRmNHhrZWdJbnh3eThnS2Y3ZEtNVkgyUVJzVjV6WFIvQ2Z0eXUrYUthS2Jia1Fyc2RIK1BUekx6Y3F6a09RQVZ6TSs3RkhkaXFxZTIvWVQ0ekYvdDhTL3NQbWF3eXZDOTc0dmNBQUFBQVNVVk9SSzVDWUlJPVwiXHJcbiAgfSxcclxuICBwYW46IHtcclxuICAgIGltYWdlOlxyXG4gICAgICBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ0FBQUFBZ0NBWUFBQUJ6ZW5yMEFBQUFCSE5DU1ZRSUNBZ0lmQWhraUFBQUFBbHdTRmx6QUFBTEVnQUFDeElCMHQxKy9BQUFBQngwUlZoMFUyOW1kSGRoY21VQVFXUnZZbVVnUm1seVpYZHZjbXR6SUVOVE51aThzb3dBQUFKVlNVUkJWRmlGdlplN2ExUkJHTVYveDJoV0k0SnBmS0NJaVNCS09vT0NrSUQvd1A0QkZxSUlGa0UwMkNoSWlDOFFES2xTaUkzWXFSQnNCVkd3VU5BVWRpSUVVZ2ppQXpRSUlzdUtKc2ZpenNYcjV0N2QrOGptd0xEZnpIejNuTE96YzcrWnhUWmxHeURnWmlXT0N1Sjl3SDJnQ1V5dXFRRmdGL0FHY0tKTnJZa0JZQmo0MENJZXQrbXVHUWkvOTZrTTRXUzdDL1RtNVZVZzd3aEpnOEJrRUdrQ1I0QkRZZm9kc0FEVWdQNndFck81aUN0c3dzdUpiMzJoZGJYeThxekw1VElkbXpKaW5IZFpvWklCWmNTRmtHbEFLczFaM1lDa2V0WmNCdG91dWFRTmtyYmxNaUJwQnJobWU3bUFnVTR3TUN2cGNGc0RrcTRDNTRERlZSVEg5aCtpNnZsRTByNVVBNUltZ0N1aDI4akIyOGlJczdCSVZDT2VTdG9aRDY0UDR1UEFqVVR5Z0tTeDJGc0syVEl3a3VnZms5UWtmZC9FK3lNV0hRQ2VTUnF4L1IzZ09wM0xhemZhUzJDNEI1Z0hEZ0Q3VTl4M0UzdUFIN0tOcEMzQUhIQXdUTDRGSGdNOUdROHZBYVBBMGRCL0FieHFrMi9nQkxBOU1YYmE5cjFrL2Q0TGZBM0p0d3VlQmVNNTh1Y1MrZWRYbkFXMjN3UDEwTjNhZHZFaTlDWGl6VG55TjRiUFM3Wm40c0gvZHEzdDE4QVk0ZTFZTFlTeTNnL2NzajJWbkZzaFpQdU9wT2VTS0hDb2RVSU51R2o3WWV0RTZqZTFQVjlRb05QSjlTdE5IS29keDduUmJpV3JHSEJHWEFpNURVaXF0UXd0cGNXSzBKdWJ0OENsdEE1TUVWMUlmd083K1ZmZlB3R2ZpYTVtMzRDVDRiWHVqSUlYMFFuYTEvY0dNTnFWL3dVSkUyY3p4RDhDUTRYNVNsN0p6N1NJTHdDRHBiaktQQlJNSEFkK0V0WDRIV1Y1U3BkYzJ3OGtEUUdQYkg4cHkvTVhNeWdNNjkvRkt6NEFBQUFBU1VWT1JLNUNZSUk9XCJcclxuICB9LFxyXG4gIHpvb206IHtcclxuICAgIGltYWdlOlxyXG4gICAgICBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ0FBQUFBZ0NBWUFBQUJ6ZW5yMEFBQUFCSE5DU1ZRSUNBZ0lmQWhraUFBQUFBbHdTRmx6QUFBSzZ3QUFDdXNCZ29zTldnQUFBQngwUlZoMFUyOW1kSGRoY21VQVFXUnZZbVVnUm1seVpYZHZjbXR6SUVOVE51aThzb3dBQUFNcVNVUkJWRmlGdmRmYmo5MVRGTUR4ejU3VTZHVUVNUzFhWXp5TXRDU1NEaFdqQ1pNSW5wQUkza2hFL1FIdGd6ZFJrWGdTQ1M4U0VTOWVwS0xpMG9SS05FVGpSYWhSRXEyS1Mxc3RkUnVqdERQdGJBOTduNXpkbjkrNXpKeFRLOWs1djNQT1htdDk5MXA3cjcxK0ljYW9Hd2toVE9JZWJNUnF6T0JUdklHM1k0elRYUm1xU295eDVjQUtiTUpPSE1GSm5NWjgvanlGYVh5TVI3RzZuYjFhSDIyY1A0QnZjQnh6aUczR0tmeVRJUjlENkJZZzFLVWdoUEJDRHZlRmxiLzI0QXY4aXVVWXc0MVlWc3o1Rzd1eEtjWjRhTUVwd0d0NU5ZM1YvWWJIc1E2cmNBSE93L2tZeGlnZXdyNUNadzRmWUd4QktjQ0xPRkVZZWhYck1kUmhyNXlMRVR4VlNjc09MT2tLQVBmbjFUWU1QSXZMRnJTaFVsUzJGRFptOFhSSEFDekZBV2wzUjJ4YnFQTUNZaG1lTENBT1lFTW5nQWN6YmNUdnVIWXh6Z3VJeS9GZXNSOWU2Z1N3VS9Pb1BZSEJIZ0hndmlJS1gyRmxxN2szNEtobWNWbmJpL1BDOEpYNE1nTWN4YjExOHdad2R6NWFJU3NjcXg3VlJjb3g3TXJQUTdpK2J0SUFKckFrZjkrYkk5RVBtWlkySUF4aVRTdUFsZExxNFk5K0FjU1VoNzhLUDB0YkFjd1UzNWNYTUQxSkNJRlVvR2llaGxxQXo2VE5CMWYxQzBESyswaCtuc05QclFDMmE0YnFHbWxEOWtPR2NXdCtQbzZwVmdEdlN4ZkphU2tGZDRVUUJ2b0FzQlliQ29CM2EyZmxNN3NsQTBSOGl5dDZyQUZEZURQYm04ZU9UcFZ3R0Q5cVZxN25MYklhWm5ta3NQVTFKdHNDWk1YTm1wZFJ4RmFzV0lUemg2WGozTEN6cmExT3hjRDJRakhpR1Z6ZHBmT1JuTXFaaW8yUGNGMjNBQmRKRjFOcDRCUHB0bHlQaTZXelBZQnpwSlp0SGU3QTZ4VzljbnlQOFRxQS8vU0VJWVJMOEJ4dWw3cmlodndndFZuNzhXY0dHWlhhOUhHZDVURHVqREh1T2VQWE5pSGRLaldnWlgvWWJzeEx4L2t0cWJqVnpUbGNqVVNudkk1SnJkbFVWcDZXZXNaWjZSMWhScnBxOStFVlRHUzlqVGpZQXVLSW91R3BiY3VyRWtJWXhDMDUxS05TYW1henNjK3hLOGI0UzBWbkVpL2owaHFUUCtNMjdPMjU4ZWdRd1p1enM3cEk3TWY0V1FYSUVEYzVzOXN1eCs1KzFQeTJFbVA4VU9xNkd2V2hJU2N4ZmRZalVFUmlBdDlKZDg0SjZhMTZ6ZjhKRUtUM3lDbThnMVV4UnY4Q0M0cHlSaHpSMXVVQUFBQUFTVVZPUks1Q1lJST1cIlxyXG4gIH0sXHJcbiAgbWVudToge1xyXG4gICAgaW1hZ2U6XHJcbiAgICAgIFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCQUFBQUFnQ0FZQUFBQWJpZmpNQUFBQUJITkNTVlFJQ0FnSWZBaGtpQUFBQUFsd1NGbHpBQUFLNndBQUN1c0Jnb3NOV2dBQUFCeDBSVmgwVTI5bWRIZGhjbVVBUVdSdlltVWdSbWx5WlhkdmNtdHpJRU5UTnVpOHNvd0FBQUFXZEVWWWRFTnlaV0YwYVc5dUlGUnBiV1VBTURjdk1UVXZNVFRQc3ZVMEFBQUFQMGxFUVZSSWllMlNNUW9BSUJERFV2SC9YNjY3ZzhzSko5S09oWVlPa1cwcUdhVTFNUGRDMHZHU2JWMTlFQUNvM1lNUEFGSDVCVUJVanNxZkFQcFZYdE5nR0RmeEVEQ3RBQUFBQUVsRlRrU3VRbUNDXCJcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0QnV0dG9uU3RhdGUoY2hhcnQsIGJ1dHRvbiwgc3RhdGUpIHtcclxuICBpZiAoYnV0dG9uLmdldEF0dHJpYnV0ZShcInN0YXRlXCIpICE9PSBzdGF0ZSkge1xyXG4gICAgYnV0dG9uLnNldEF0dHJpYnV0ZShcInN0YXRlXCIsIHN0YXRlKTtcclxuICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiYnV0dG9uXCIpO1xyXG4gICAgYnV0dG9uLnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xyXG4gICAgYnV0dG9uLnN0eWxlLm1hcmdpbiA9IFwiMHB4IDBweCAwcHggMHB4XCI7XHJcbiAgICBidXR0b24uc3R5bGUucGFkZGluZyA9IFwiM3B4IDRweCAwcHggNHB4XCI7XHJcbiAgICBidXR0b24uc3R5bGUuY3NzRmxvYXQgPSBcImxlZnRcIjtcclxuICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLCBjaGFydC5fY3VsdHVyZUluZm9bc3RhdGUgKyBcIlRleHRcIl0pO1xyXG4gICAgYnV0dG9uLmlubmVySFRNTCA9XHJcbiAgICAgIFwiPGltZyBzdHlsZT0naGVpZ2h0OjE2cHg7JyBzcmM9J1wiICtcclxuICAgICAgYmFzZTY0SW1hZ2VzW3N0YXRlXS5pbWFnZSArXHJcbiAgICAgIFwiJyBhbHQ9J1wiICtcclxuICAgICAgY2hhcnQuX2N1bHR1cmVJbmZvW3N0YXRlICsgXCJUZXh0XCJdICtcclxuICAgICAgXCInIC8+XCI7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2hvdygpIHtcclxuICB2YXIgZWxlbWVudCA9IG51bGw7XHJcblxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBlbGVtZW50ID0gYXJndW1lbnRzW2ldO1xyXG4gICAgaWYgKGVsZW1lbnQuc3R5bGUpIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lXCI7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaGlkZSgpIHtcclxuICB2YXIgZWxlbWVudCA9IG51bGw7XHJcblxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBlbGVtZW50ID0gYXJndW1lbnRzW2ldO1xyXG4gICAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudC5zdHlsZSkgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgaXNDYW52YXNTdXBwb3J0ZWQgPSAhIWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikuZ2V0Q29udGV4dDtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRCZXppZXJQb2ludHMocG9pbnRzLCB0ZW5zaW9uKSB7XHJcbiAgdmFyIGJlemllclBvaW50cyA9IFtdO1xyXG5cclxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgaWYgKGkgPT0gMCkge1xyXG4gICAgICBiZXppZXJQb2ludHMucHVzaChwb2ludHNbMF0pO1xyXG4gICAgICBjb250aW51ZTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgaTEsIGkyLCBwb2ludEluZGV4O1xyXG5cclxuICAgIHBvaW50SW5kZXggPSBpIC0gMTtcclxuICAgIGkxID0gcG9pbnRJbmRleCA9PT0gMCA/IDAgOiBwb2ludEluZGV4IC0gMTtcclxuICAgIGkyID0gcG9pbnRJbmRleCA9PT0gcG9pbnRzLmxlbmd0aCAtIDEgPyBwb2ludEluZGV4IDogcG9pbnRJbmRleCArIDE7XHJcblxyXG4gICAgdmFyIGRydjEgPSB7XHJcbiAgICAgIHg6IChwb2ludHNbaTJdLnggLSBwb2ludHNbaTFdLngpIC8gdGVuc2lvbixcclxuICAgICAgeTogKHBvaW50c1tpMl0ueSAtIHBvaW50c1tpMV0ueSkgLyB0ZW5zaW9uXHJcbiAgICB9O1xyXG4gICAgdmFyIGNwMSA9IHtcclxuICAgICAgeDogcG9pbnRzW3BvaW50SW5kZXhdLnggKyBkcnYxLnggLyAzLFxyXG4gICAgICB5OiBwb2ludHNbcG9pbnRJbmRleF0ueSArIGRydjEueSAvIDNcclxuICAgIH07XHJcbiAgICBiZXppZXJQb2ludHNbYmV6aWVyUG9pbnRzLmxlbmd0aF0gPSBjcDE7XHJcblxyXG4gICAgcG9pbnRJbmRleCA9IGk7XHJcbiAgICBpMSA9IHBvaW50SW5kZXggPT09IDAgPyAwIDogcG9pbnRJbmRleCAtIDE7XHJcbiAgICBpMiA9IHBvaW50SW5kZXggPT09IHBvaW50cy5sZW5ndGggLSAxID8gcG9pbnRJbmRleCA6IHBvaW50SW5kZXggKyAxO1xyXG5cclxuICAgIHZhciBkcnYyID0ge1xyXG4gICAgICB4OiAocG9pbnRzW2kyXS54IC0gcG9pbnRzW2kxXS54KSAvIHRlbnNpb24sXHJcbiAgICAgIHk6IChwb2ludHNbaTJdLnkgLSBwb2ludHNbaTFdLnkpIC8gdGVuc2lvblxyXG4gICAgfTtcclxuICAgIHZhciBjcDIgPSB7XHJcbiAgICAgIHg6IHBvaW50c1twb2ludEluZGV4XS54IC0gZHJ2Mi54IC8gMyxcclxuICAgICAgeTogcG9pbnRzW3BvaW50SW5kZXhdLnkgLSBkcnYyLnkgLyAzXHJcbiAgICB9O1xyXG4gICAgYmV6aWVyUG9pbnRzW2JlemllclBvaW50cy5sZW5ndGhdID0gY3AyO1xyXG5cclxuICAgIGJlemllclBvaW50c1tiZXppZXJQb2ludHMubGVuZ3RoXSA9IHBvaW50c1tpXTtcclxuICB9XHJcblxyXG4gIHJldHVybiBiZXppZXJQb2ludHM7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0UGVyY2VudFRvVmFsdWUoaW5wdXQsIHJlZmVyZW5jZVZhbHVlKSB7XHJcbiAgLy9pbnB1dCBjYW4gYmUgYSBudW1iZXIgb3Igc3RyaW5nXHJcbiAgaWYgKGlucHV0ID09PSBudWxsIHx8IHR5cGVvZiBpbnB1dCA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuIHJlZmVyZW5jZVZhbHVlO1xyXG5cclxuICB2YXIgcmVzdWx0ID1cclxuICAgIHBhcnNlRmxvYXQoaW5wdXQudG9TdHJpbmcoKSkgKlxyXG4gICAgKGlucHV0LnRvU3RyaW5nKCkuaW5kZXhPZihcIiVcIikgPj0gMCA/IHJlZmVyZW5jZVZhbHVlIC8gMTAwIDogMSk7XHJcblxyXG4gIC8vIGxpbWl0IHRvIHBsb3QgYXJlYVxyXG4gIGlmICghaXNOYU4ocmVzdWx0KSAmJiByZXN1bHQgPD0gcmVmZXJlbmNlVmFsdWUgJiYgcmVzdWx0ID49IDApIHJldHVybiByZXN1bHQ7XHJcblxyXG4gIHJldHVybiByZWZlcmVuY2VWYWx1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdSZWN0KFxyXG4gIGN0eCxcclxuICB4MSxcclxuICB5MSxcclxuICB4MixcclxuICB5MixcclxuICBjb2xvcixcclxuICBib3JkZXJUaGlja25lc3MsXHJcbiAgYm9yZGVyQ29sb3IsXHJcbiAgdG9wLFxyXG4gIGJvdHRvbSxcclxuICBsZWZ0LFxyXG4gIHJpZ2h0LFxyXG4gIGZpbGxPcGFjaXR5XHJcbikge1xyXG4gIGlmICh0eXBlb2YgZmlsbE9wYWNpdHkgPT09IFwidW5kZWZpbmVkXCIpIGZpbGxPcGFjaXR5ID0gMTtcclxuXHJcbiAgYm9yZGVyVGhpY2tuZXNzID0gYm9yZGVyVGhpY2tuZXNzIHx8IDA7XHJcbiAgYm9yZGVyQ29sb3IgPSBib3JkZXJDb2xvciB8fCBcImJsYWNrXCI7XHJcbiAgLy9hbGVydChcInRvcFwiKyB0b3AgKyBcImJvdHRvbVwiICsgYm90dG9tICsgXCIgbHRcIiArIGxlZnQrIFwicnRcIiArIHJpZ2h0IClcclxuICB2YXIgYTEgPSB4MSxcclxuICAgIGEyID0geDIsXHJcbiAgICBiMSA9IHkxLFxyXG4gICAgYjIgPSB5MixcclxuICAgIGVkZ2VZLFxyXG4gICAgZWRnZVg7XHJcbiAgaWYgKHgyIC0geDEgPiAxNSAmJiB5MiAtIHkxID4gMTUpIHZhciBiZXZlbERlcHRoID0gODtcclxuICBlbHNlIHZhciBiZXZlbERlcHRoID0gMC4zNSAqIE1hdGgubWluKHgyIC0geDEsIHkyIC0geTEpO1xyXG4gIC8vYWxlcnQoYTEgKyBcIlwiICsgYTIpO1xyXG4gIHZhciBjb2xvcjIgPSBcInJnYmEoMjU1LCAyNTUsIDI1NSwgLjQpXCI7XHJcbiAgdmFyIGNvbG9yMyA9IFwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpXCI7XHJcbiAgLy9jb2xvcjEgPSBcInJnYmEoXCIgKyByICsgXCIsXCIgKyBnICsgXCIsIFwiICsgYiArIFwiLDEpXCI7XHJcbiAgdmFyIGNvbG9yMSA9IGNvbG9yO1xyXG5cclxuICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgY3R4Lm1vdmVUbyh4MSwgeTEpO1xyXG4gIGN0eC5zYXZlKCk7XHJcbiAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yMTtcclxuXHJcbiAgY3R4Lmdsb2JhbEFscGhhID0gZmlsbE9wYWNpdHk7XHJcbiAgY3R4LmZpbGxSZWN0KHgxLCB5MSwgeDIgLSB4MSwgeTIgLSB5MSk7XHJcbiAgY3R4Lmdsb2JhbEFscGhhID0gMTtcclxuXHJcbiAgaWYgKGJvcmRlclRoaWNrbmVzcyA+IDApIHtcclxuICAgIHZhciBvZmZzZXQgPSBib3JkZXJUaGlja25lc3MgJSAyID09PSAwID8gMCA6IDAuNTtcclxuICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgIGN0eC5saW5lV2lkdGggPSBib3JkZXJUaGlja25lc3M7XHJcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBib3JkZXJDb2xvcjtcclxuICAgIGN0eC5tb3ZlVG8oeDEsIHkxKTtcclxuICAgIGN0eC5yZWN0KFxyXG4gICAgICB4MSAtIG9mZnNldCxcclxuICAgICAgeTEgLSBvZmZzZXQsXHJcbiAgICAgIHgyIC0geDEgKyAyICogb2Zmc2V0LFxyXG4gICAgICB5MiAtIHkxICsgMiAqIG9mZnNldFxyXG4gICAgKTtcclxuICAgIGN0eC5zdHJva2UoKTtcclxuICB9XHJcblxyXG4gIGN0eC5yZXN0b3JlKCk7XHJcbiAgLy8gICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgaWYgKHRvcCA9PT0gdHJ1ZSkge1xyXG4gICAgLy8gYWxlcnQoeDEgKyBcIlwiICsgeDIgKyBcIiBcIiArIGJldmVsRGVwdGgpO1xyXG4gICAgY3R4LnNhdmUoKTtcclxuICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgIGN0eC5tb3ZlVG8oeDEsIHkxKTtcclxuICAgIGN0eC5saW5lVG8oeDEgKyBiZXZlbERlcHRoLCB5MSArIGJldmVsRGVwdGgpO1xyXG4gICAgY3R4LmxpbmVUbyh4MiAtIGJldmVsRGVwdGgsIHkxICsgYmV2ZWxEZXB0aCk7XHJcbiAgICBjdHgubGluZVRvKHgyLCB5MSk7XHJcbiAgICBjdHguY2xvc2VQYXRoKCk7XHJcbiAgICB2YXIgZ3JkID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KFxyXG4gICAgICAoeDIgKyB4MSkgLyAyLFxyXG4gICAgICBiMSArIGJldmVsRGVwdGgsXHJcbiAgICAgICh4MiArIHgxKSAvIDIsXHJcbiAgICAgIGIxXHJcbiAgICApO1xyXG4gICAgZ3JkLmFkZENvbG9yU3RvcCgwLCBjb2xvcjEpO1xyXG4gICAgZ3JkLmFkZENvbG9yU3RvcCgxLCBjb2xvcjIpO1xyXG4gICAgY3R4LmZpbGxTdHlsZSA9IGdyZDtcclxuICAgIGN0eC5maWxsKCk7XHJcbiAgICAvLyAgICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgY3R4LnJlc3RvcmUoKTtcclxuICB9XHJcblxyXG4gIGlmIChib3R0b20gPT09IHRydWUpIHtcclxuICAgIGN0eC5zYXZlKCk7XHJcbiAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICBjdHgubW92ZVRvKHgxLCB5Mik7XHJcbiAgICBjdHgubGluZVRvKHgxICsgYmV2ZWxEZXB0aCwgeTIgLSBiZXZlbERlcHRoKTtcclxuICAgIGN0eC5saW5lVG8oeDIgLSBiZXZlbERlcHRoLCB5MiAtIGJldmVsRGVwdGgpO1xyXG4gICAgY3R4LmxpbmVUbyh4MiwgeTIpO1xyXG4gICAgY3R4LmNsb3NlUGF0aCgpO1xyXG4gICAgdmFyIGdyZCA9IGN0eC5jcmVhdGVMaW5lYXJHcmFkaWVudChcclxuICAgICAgKHgyICsgeDEpIC8gMixcclxuICAgICAgYjIgLSBiZXZlbERlcHRoLFxyXG4gICAgICAoeDIgKyB4MSkgLyAyLFxyXG4gICAgICBiMlxyXG4gICAgKTtcclxuICAgIGdyZC5hZGRDb2xvclN0b3AoMCwgY29sb3IxKTtcclxuICAgIGdyZC5hZGRDb2xvclN0b3AoMSwgY29sb3IyKTtcclxuICAgIGN0eC5maWxsU3R5bGUgPSBncmQ7XHJcbiAgICAvLyAgICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICBjdHguZmlsbCgpO1xyXG4gICAgY3R4LnJlc3RvcmUoKTtcclxuICB9XHJcblxyXG4gIGlmIChsZWZ0ID09PSB0cnVlKSB7XHJcbiAgICAvLyAgIGFsZXJ0KHgxKVxyXG4gICAgY3R4LnNhdmUoKTtcclxuICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgIGN0eC5tb3ZlVG8oeDEsIHkxKTtcclxuICAgIGN0eC5saW5lVG8oeDEgKyBiZXZlbERlcHRoLCB5MSArIGJldmVsRGVwdGgpO1xyXG4gICAgY3R4LmxpbmVUbyh4MSArIGJldmVsRGVwdGgsIHkyIC0gYmV2ZWxEZXB0aCk7XHJcbiAgICBjdHgubGluZVRvKHgxLCB5Mik7XHJcbiAgICBjdHguY2xvc2VQYXRoKCk7XHJcbiAgICB2YXIgZ3JkID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KFxyXG4gICAgICBhMSArIGJldmVsRGVwdGgsXHJcbiAgICAgICh5MiArIHkxKSAvIDIsXHJcbiAgICAgIGExLFxyXG4gICAgICAoeTIgKyB5MSkgLyAyXHJcbiAgICApO1xyXG4gICAgZ3JkLmFkZENvbG9yU3RvcCgwLCBjb2xvcjEpO1xyXG4gICAgZ3JkLmFkZENvbG9yU3RvcCgxLCBjb2xvcjMpO1xyXG4gICAgY3R4LmZpbGxTdHlsZSA9IGdyZDtcclxuICAgIGN0eC5maWxsKCk7XHJcbiAgICAvLyAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgY3R4LnJlc3RvcmUoKTtcclxuICB9XHJcblxyXG4gIGlmIChyaWdodCA9PT0gdHJ1ZSkge1xyXG4gICAgY3R4LnNhdmUoKTtcclxuICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgIGN0eC5tb3ZlVG8oeDIsIHkxKTtcclxuICAgIGN0eC5saW5lVG8oeDIgLSBiZXZlbERlcHRoLCB5MSArIGJldmVsRGVwdGgpO1xyXG4gICAgY3R4LmxpbmVUbyh4MiAtIGJldmVsRGVwdGgsIHkyIC0gYmV2ZWxEZXB0aCk7XHJcbiAgICBjdHgubGluZVRvKHgyLCB5Mik7XHJcbiAgICB2YXIgZ3JkID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KFxyXG4gICAgICBhMiAtIGJldmVsRGVwdGgsXHJcbiAgICAgICh5MiArIHkxKSAvIDIsXHJcbiAgICAgIGEyLFxyXG4gICAgICAoeTIgKyB5MSkgLyAyXHJcbiAgICApO1xyXG4gICAgZ3JkLmFkZENvbG9yU3RvcCgwLCBjb2xvcjEpO1xyXG4gICAgZ3JkLmFkZENvbG9yU3RvcCgxLCBjb2xvcjMpO1xyXG4gICAgY3R4LmZpbGxTdHlsZSA9IGdyZDtcclxuICAgIGdyZC5hZGRDb2xvclN0b3AoMCwgY29sb3IxKTtcclxuICAgIGdyZC5hZGRDb2xvclN0b3AoMSwgY29sb3IzKTtcclxuICAgIGN0eC5maWxsU3R5bGUgPSBncmQ7XHJcbiAgICBjdHguZmlsbCgpO1xyXG4gICAgY3R4LmNsb3NlUGF0aCgpO1xyXG4gICAgLy8gICAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgY3R4LnJlc3RvcmUoKTtcclxuICB9XHJcbiAgLy9cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdTZWdtZW50KFxyXG4gIGN0eCxcclxuICBjZW50ZXIsXHJcbiAgcmFkaXVzLFxyXG4gIGNvbG9yLFxyXG4gIHR5cGUsXHJcbiAgdGhldGExLFxyXG4gIHRoZXRhMixcclxuICBmaWxsT3BhY2l0eSxcclxuICBwZXJjZW50SW5uZXJSYWRpdXNcclxuKSB7XHJcbiAgaWYgKHR5cGVvZiBmaWxsT3BhY2l0eSA9PT0gXCJ1bmRlZmluZWRcIikgZmlsbE9wYWNpdHkgPSAxO1xyXG5cclxuICAvL0lFOC0gRklYOiBJbiBJRTgtIHNlZ21lbnQgZG9lc24ndCBnZXQgZHJhdyBpZiB0aGV0YTIgaXMgZXF1YWwgdG8gdGhldGExICsgMipQSS5cclxuICBpZiAoIWlzQ2FudmFzU3VwcG9ydGVkKSB7XHJcbiAgICB2YXIgdGhldGEyTW9kID0gTnVtYmVyKCh0aGV0YTIgJSAoMiAqIE1hdGguUEkpKS50b0ZpeGVkKDgpKTtcclxuICAgIHZhciB0aGV0YTFNb2QgPSBOdW1iZXIoKHRoZXRhMSAlICgyICogTWF0aC5QSSkpLnRvRml4ZWQoOCkpO1xyXG4gICAgaWYgKHRoZXRhMU1vZCA9PT0gdGhldGEyTW9kKSB0aGV0YTIgLT0gMC4wMDAxO1xyXG4gIH1cclxuXHJcbiAgY3R4LnNhdmUoKTtcclxuICBjdHguZ2xvYmFsQWxwaGEgPSBmaWxsT3BhY2l0eTtcclxuXHJcbiAgaWYgKHR5cGUgPT09IFwicGllXCIpIHtcclxuICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgIGN0eC5tb3ZlVG8oY2VudGVyLngsIGNlbnRlci55KTtcclxuICAgIGN0eC5hcmMoY2VudGVyLngsIGNlbnRlci55LCByYWRpdXMsIHRoZXRhMSwgdGhldGEyLCBmYWxzZSk7XHJcbiAgICBjdHguZmlsbFN0eWxlID0gY29sb3I7XHJcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICBjdHgubGluZVdpZHRoID0gMjtcclxuICAgIC8vICAgIGN0eC5zaGFkb3dPZmZzZXRYID0gMjtcclxuICAgIC8vICAgIGN0eC5zaGFkb3dPZmZzZXRZID0gMTtcclxuICAgIC8vICAgICBjdHguc2hhZG93Qmx1ciA9IDI7XHJcbiAgICAvLyAgICBjdHguc2hhZG93Q29sb3IgPSAnI0JGQkZCRic7XHJcbiAgICBjdHguY2xvc2VQYXRoKCk7XHJcbiAgICAvL2N0eC5zdHJva2UoKTtcclxuICAgIGN0eC5maWxsKCk7XHJcbiAgfSBlbHNlIGlmICh0eXBlID09PSBcImRvdWdobnV0XCIpIHtcclxuICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgIGN0eC5hcmMoY2VudGVyLngsIGNlbnRlci55LCByYWRpdXMsIHRoZXRhMSwgdGhldGEyLCBmYWxzZSk7XHJcbiAgICBjdHguYXJjKFxyXG4gICAgICBjZW50ZXIueCxcclxuICAgICAgY2VudGVyLnksXHJcbiAgICAgIHBlcmNlbnRJbm5lclJhZGl1cyAqIHJhZGl1cyxcclxuICAgICAgdGhldGEyLFxyXG4gICAgICB0aGV0YTEsXHJcbiAgICAgIHRydWVcclxuICAgICk7XHJcbiAgICBjdHguY2xvc2VQYXRoKCk7XHJcbiAgICBjdHguZmlsbFN0eWxlID0gY29sb3I7XHJcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICBjdHgubGluZVdpZHRoID0gMjtcclxuICAgIC8vIHNoYWRvdyBwcm9wZXJ0aWVzXHJcbiAgICAvLyAgICAgY3R4LnNoYWRvd09mZnNldFggPSAxO1xyXG4gICAgLy8gICAgY3R4LnNoYWRvd09mZnNldFkgPSAxO1xyXG4gICAgLy8gICAgIGN0eC5zaGFkb3dCbHVyID0gMTtcclxuICAgIC8vICAgIGN0eC5zaGFkb3dDb2xvciA9ICcjQkZCRkJGJzsgIC8vZ3JleSBzaGFkb3dcclxuICAgIC8vY3R4LnN0cm9rZSgpO1xyXG4gICAgY3R4LmZpbGwoKTtcclxuICB9XHJcblxyXG4gIGN0eC5nbG9iYWxBbHBoYSA9IDE7XHJcblxyXG4gIGN0eC5yZXN0b3JlKCk7XHJcbn1cclxuIiwiLyoqXHJcbiogQHByZXNlcnZlIENhbnZhc0pTIEhUTUw1ICYgSmF2YVNjcmlwdCBDaGFydHMgLSB2MS44LjAgQmV0YSAyIC0gaHR0cDovL2NhbnZhc2pzLmNvbS9cclxuKiBDYW52YXNKUyBDaGFydHMgZm9sbG93cyBEdWFsIExpY2Vuc2luZyBNb2RlbCBhcyBtZW50aW9uZWQgYmVsb3cuXHJcbipcclxuKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS1GcmVlIGZvciBOb24tQ29tbWVyY2lhbCBVc2UtLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4qXHJcbiogRm9yIG5vbi1jb21tZXJjaWFsIHB1cnBvc2VzIHlvdSBjYW4gdXNlIHRoZSBzb2Z0d2FyZSBmb3IgZnJlZSB1bmRlciBDcmVhdGl2ZSBDb21tb25zIEF0dHJpYnV0aW9uLU5vbkNvbW1lcmNpYWwgMy4wIExpY2Vuc2UuIFJlZmVyIHRvIHRoZSBmb2xsb3dpbmcgbGluayBmb3IgZnVydGhlciBkZXRhaWxzIG9uIHRoZSBzYW1lLlxyXG4qIGh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLzMuMC9kZWVkLmVuX1VTXHJcbipcclxuKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS1Db21tZXJjaWFsIExpY2Vuc2UtLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4qIENvbW1lcmNpYWwgdXNlIG9mIENhbnZhc0pTIHJlcXVpcmVzIHlvdSB0byBwdXJjaGFzZSBhIGxpY2Vuc2UuIFdpdGhvdXQgYSBjb21tZXJjaWFsIGxpY2Vuc2UgeW91IGNhbiB1c2UgaXQgZm9yIGV2YWx1YXRpb24gcHVycG9zZXMgb25seS4gUGxlYXNlIHJlZmVyIHRvIHRoZSBmb2xsb3dpbmcgbGluayBmb3IgZnVydGhlciBkZXRhaWxzLlxyXG4qIGh0dHA6Ly9jYW52YXNqcy5jb20vXHJcbipcclxuKiovXHJcbmltcG9ydCBDaGFydHMgZnJvbSAnLi4vY29yZS9jaGFydHMnO1xyXG5pbXBvcnQgQ3VsdHVyZUluZm8gZnJvbSAnLi4vY29yZS9jdWx0dXJlX2luZm8nO1xyXG5pbXBvcnQge2NvbG9yU2V0c30gZnJvbSAnLi4vY29uc3RhbnRzL3RoZW1lcyc7XHJcbmltcG9ydCB7Y3VsdHVyZXN9IGZyb20gJy4uL2NvbnN0YW50cy9jdWx0dXJlJztcclxuaW1wb3J0IHtudW1iZXJGb3JtYXQsIGRhdGVGb3JtYXR9IGZyb20gJy4uL2hlbHBlcnMvdXRpbHMnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIENoYXJ0KGNvbnRhaW5lcklkLCBvcHRpb25zKSB7XHJcblxyXG4gIGNvbnN0IF9jaGFydCA9IG5ldyBDaGFydHMoY29udGFpbmVySWQsIG9wdGlvbnMsIHRoaXMpO1xyXG5cclxuICB0aGlzLnJlbmRlciA9ICgpID0+ICBfY2hhcnQucmVuZGVyKHRoaXMub3B0aW9ucyk7XHJcblxyXG4gIHRoaXMub3B0aW9ucyA9IF9jaGFydC5fb3B0aW9ucztcclxufTtcclxuXHJcblxyXG5leHBvcnQgY29uc3QgYWRkQ29sb3JTZXQgPSAobmFtZSwgY29sb3JTZXQpID0+IHtcclxuXHJcbiAgICBjb2xvclNldHNbbmFtZV0gPSBjb2xvclNldDtcclxuXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgYWRkQ3VsdHVyZUluZm8gPSAobmFtZSwgY3VsdHVyZUluZm8pID0+IHtcclxuXHJcbiAgICBjdWx0dXJlc1tuYW1lXSA9IGN1bHR1cmVJbmZvO1xyXG5cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBmb3JtYXROdW1iZXIgPSAobnVtYmVyLCBmb3JtYXRTdHJpbmcsIGN1bHR1cmUpID0+IHtcclxuXHJcbiAgICBjdWx0dXJlID0gY3VsdHVyZSB8fCBcImVuXCI7XHJcbiAgICBmb3JtYXRTdHJpbmcgPSBmb3JtYXRTdHJpbmcgfHwgXCIjLCMjMC4jI1wiO1xyXG5cclxuICAgIGlmICghY3VsdHVyZXNbY3VsdHVyZV0pdGhyb3cgXCJVbmtub3duIEN1bHR1cmUgTmFtZVwiO1xyXG4gICAgZWxzZSBudW1iZXJGb3JtYXQobnVtYmVyLCBmb3JtYXRTdHJpbmcsIG5ldyBDdWx0dXJlSW5mbyhjdWx0dXJlKSk7XHJcblxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGZvcm1hdERhdGUgPSAoZGF0ZSwgZm9ybWF0U3RyaW5nLCBjdWx0dXJlKSA9PiB7XHJcblxyXG4gICAgY3VsdHVyZSA9IGN1bHR1cmUgfHwgXCJlblwiO1xyXG4gICAgZm9ybWF0U3RyaW5nID0gZm9ybWF0U3RyaW5nIHx8IFwiREQgTU1NIFlZWVlcIjtcclxuXHJcbiAgICBpZiAoIWN1bHR1cmVzW2N1bHR1cmVdKXRocm93IFwiVW5rbm93biBDdWx0dXJlIE5hbWVcIjtcclxuICAgIGVsc2UgZGF0ZUZvcm1hdChkYXRlLCBmb3JtYXRTdHJpbmcsIG5ldyBDdWx0dXJlSW5mbyhjdWx0dXJlKSk7XHJcblxyXG59O1xyXG5cclxuQ2hhcnQudmVyc2lvbiA9IFwidjEuOC4yXCI7XHJcbiJdfQ==

;